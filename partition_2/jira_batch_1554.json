[
  {
    "key": "CONFSERVER-58290",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-16T08:18:00.000+0000",
      "description": "Hello!\r\n\r\nIt would be very helful to see if and where a shared block is used.\r\n\r\nWe are using \"shared blocks\" in confluence. E.g to fill Blockposts with content.\r\n\r\n\u00a0\r\n\r\nBest regards\r\n\r\nBernd Happach\r\n\r\n\u00a0",
      "summary": "display reference of shared block usages"
    }
  },
  {
    "key": "CONFSERVER-58289",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-16T02:29:25.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a linked attachment is viewed from `/display/public/{spaceKey}/{page2Title}`, the `public` is the giveaway, the versions are not displayed:\r\n !Snip20190510_30_v2.png|thumbnail! \r\n\r\nh3. Environment\r\n\r\nConfluence version: 6.13.0\r\n\r\nh3. Steps to Reproduce\r\n# Create a page (\"Page 1\") that contains an attachment with several versions\r\n# Create another page (\"Page 2\") that in its content links to the attachment from \"Page 1\"\r\n !Snip20190516_2.png|thumbnail! \r\n# Go to either \".../display/public/{spaceKey}/{page2Title}\" or \".../pages/releaseview.action?pageId={page2Id}\"\r\n !Snip20190516_3.png|thumbnail! \r\n !Snip20190516_4.png|thumbnail! \r\n# There click on the link of attachment from \"Page 1\" and when preview is opened, click in the top left the display to see info about the versions\r\n\r\nh3. Expected Results\r\nAttachment versions should be displayed since attachment are displayed\r\nh3. Actual Results\r\nNo versions are displayed and\r\n\r\nh3. Notes\r\n* Might be an issue if the referrer is from `public`\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "When an attachment's version is viewed from ../public the versions are not displayed and empty version list is returned"
    }
  },
  {
    "key": "CONFSERVER-58288",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-15T23:05:44.000+0000",
      "description": "h3. Issue Summary\r\nOn Confluence Data Center installed in a Windows server, when sandbox process is enabled to process PDF exports, exporting a page to PDF will fail if the title of the page contains a colon ({{:}}) character.\r\nPDF export of a Space will fail as well if one of the pages has a {{:}} in its title.\r\n\r\nh3. Environment\r\n* Confluence Data Center installed on Windows.\r\n* Sandbox process enabled to process PDF export.\r\n* This was validated on Confluence DC *6.13.4* and *6.15.4*.\r\n\r\n\r\nh3. Steps to Reproduce\r\nh4. Page Export to PDF\r\n# Install a vanilla instance of Confluence Data Center in a Windows server.\r\n# Create a page with title \"Regular: page\".\r\n# On the _page view mode_, click on *...* > *Export to PDF*.\r\n\r\nh5. Expected Results\r\nPDF export of the page is successfully created and the user receives the browser pop-up to save the PDF file.\r\n\r\nh5. Actual Results\r\nA system error occurs an error page with a stack trace in the UI.\r\n !page_export_img001.png|thumbnail! \r\nError excerpt with stack trace:\r\n{code}\r\nCause\r\n\r\njava.lang.RuntimeException: com.atlassian.confluence.importexport.ImportExportException: Failed to create a location and file for the PDF export.\r\n     at com.atlassian.confluence.extra.flyingpdf.ExportPageAsPdfAction.doExecute(ExportPageAsPdfAction.java:52) \r\n\r\ncaused by: com.atlassian.confluence.importexport.ImportExportException: Failed to create a location and file for the PDF export.\r\n     at com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxXmlToPdfConverter.convertXhtmlToPdf(SandboxXmlToPdfConverter.java:49) \r\n\r\ncaused by: java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n     at java.io.WinNTFileSystem.canonicalize0(Native Method) \r\n\r\nStack Trace:[hide]\r\njava.lang.RuntimeException: com.atlassian.confluence.importexport.ImportExportException: Failed to create a location and file for the PDF export.\r\n\tat com.atlassian.confluence.extra.flyingpdf.ExportPageAsPdfAction.doExecute(ExportPageAsPdfAction.java:52)\r\n\tat com.atlassian.confluence.extra.flyingpdf.PdfExportSemaphore.run(PdfExportSemaphore.java:24)\r\n\tat com.atlassian.confluence.extra.flyingpdf.ExportPageAsPdfAction.execute(ExportPageAsPdfAction.java:25)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:168)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n(...)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.confluence.importexport.ImportExportException: Failed to create a location and file for the PDF export.\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxXmlToPdfConverter.convertXhtmlToPdf(SandboxXmlToPdfConverter.java:49)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.renderPdf(SandboxPdfExporterService.java:321)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.createPdf(SandboxPdfExporterService.java:307)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.createPdfForPage(SandboxPdfExporterService.java:206)\r\n\tat com.atlassian.confluence.extra.flyingpdf.DelegatingPdfExporterService.createPdfForPage(DelegatingPdfExporterService.java:61)\r\n\tat com.atlassian.confluence.extra.flyingpdf.DiagnosticPdfExporterService.createPdfForPage(DiagnosticPdfExporterService.java:74)\r\n\tat com.atlassian.confluence.extra.flyingpdf.ExportPageAsPdfAction.doExecute(ExportPageAsPdfAction.java:32)\r\n\t... 383 more\r\nCaused by: java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\tat java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n\tat java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:428)\r\n\tat java.io.File.getCanonicalPath(File.java:618)\r\n\tat java.io.File.getCanonicalFile(File.java:643)\r\n\tat com.atlassian.confluence.importexport.impl.ConfluenceTempDirExportFileNameGenerator.getExportFile(ConfluenceTempDirExportFileNameGenerator.java:102)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxXmlToPdfConverter.convertXhtmlToPdf(SandboxXmlToPdfConverter.java:47)\r\n\t... 389 more\r\n{code}\r\n\r\nh4. Space Export to PDF\r\n# Install a vanilla instance of Confluence Data Center in a Windows server.\r\n# Create a sample Space.\r\n# Create a page within this Space with title \"Regular: page\".\r\n# On the _page view mode_ click on *Space Tools* > *Content Tools* > *Export*.\r\n# Select PDF export and click on _Next_.\r\n# Select _Normal Export_ and click on _Export_.\r\n\r\nh5. Expected Results\r\nPDF export of the Space is successfully created and the user can click on a link in the UI to download the PDF file.\r\n\r\nh5. Actual Results\r\nSpace export fails with message {{Failed to create a location and file for the PDF export}}.\r\n !space_export_img001.png|thumbnail! \r\nAn error is logged in {{atlassian-confluence.log}} similar to the one below.\r\n{code}\r\n2019-05-15 17:30:45,421 ERROR [Long running task: PDF Space Export] [core.task.longrunning.AbstractLongRunningTask] doInTransactionWithoutResult Error during PDF export\r\n -- url: /spaces/flyingpdf/doflyingpdf.action | referer: http://localhost:8090/spaces/flyingpdf/flyingpdf.action?key=SPAC | traceId: 3f8ec257427331b4 | userName: admin | action: doflyingpdf\r\ncom.atlassian.confluence.importexport.ImportExportException: Failed to create a location and file for the PDF export.\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxXmlToPdfConverter.convertXhtmlToPdf(SandboxXmlToPdfConverter.java:49)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.renderPdf(SandboxPdfExporterService.java:321)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.createPdf(SandboxPdfExporterService.java:307)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.createPdfTreeNode(SandboxPdfExporterService.java:245)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.createPdfTreeNode(SandboxPdfExporterService.java:251)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxPdfExporterService.createPdfForSpace(SandboxPdfExporterService.java:115)\r\n\tat com.atlassian.confluence.extra.flyingpdf.DelegatingPdfExporterService.createPdfForSpace(DelegatingPdfExporterService.java:56)\r\n\tat com.atlassian.confluence.extra.flyingpdf.DiagnosticPdfExporterService.createPdfForSpace(DiagnosticPdfExporterService.java:54)\r\n\tat com.atlassian.confluence.extra.flyingpdf.PdfExportLongRunningTask$1.doInTransactionWithoutResult(PdfExportLongRunningTask.java:98)\r\n\tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n\tat com.atlassian.confluence.extra.flyingpdf.PdfExportLongRunningTask.doRunInternal(PdfExportLongRunningTask.java:80)\r\n\tat com.atlassian.confluence.extra.flyingpdf.PdfExportSemaphore.run(PdfExportSemaphore.java:24)\r\n\tat com.atlassian.confluence.extra.flyingpdf.PdfExportLongRunningTask.runInternal(PdfExportLongRunningTask.java:67)\r\n\tat com.atlassian.confluence.util.longrunning.ConfluenceAbstractLongRunningTask.run(ConfluenceAbstractLongRunningTask.java:26)\r\n\tat com.atlassian.confluence.util.longrunning.ManagedTask.run(ManagedTask.java:52)\r\n\tat com.atlassian.confluence.impl.util.concurrent.ConfluenceExecutors$ThreadLocalContextTaskWrapper.lambda$wrap$1(ConfluenceExecutors.java:90)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.lambda$doInRequestContext$0(VCacheRequestContextOperations.java:50)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:87)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:71)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.doInRequestContext(VCacheRequestContextOperations.java:49)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.lambda$withRequestContext$2(VCacheRequestContextOperations.java:66)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\tat java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n\tat java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:428)\r\n\tat java.io.File.getCanonicalPath(File.java:618)\r\n\tat java.io.File.getCanonicalFile(File.java:643)\r\n\tat com.atlassian.confluence.importexport.impl.ConfluenceTempDirExportFileNameGenerator.getExportFile(ConfluenceTempDirExportFileNameGenerator.java:102)\r\n\tat com.atlassian.confluence.extra.flyingpdf.sandbox.SandboxXmlToPdfConverter.convertXhtmlToPdf(SandboxXmlToPdfConverter.java:47)\r\n\t... 26 more\r\n{code}\r\n\r\nh3. Notes\r\nThis does not affect Confluence Server in Windows nor Confluence Data Center on Linux.\r\nThis is a regression of bug [CONFSERVER-24389|https://jira.atlassian.com/browse/CONFSERVER-24389] -- _Export to PDF on Windows returns a stack trace if the name of the page has a ':' symbol_.\r\n\r\nh3. Workaround\r\nThere are two options to circumvent this problem:\r\n# Advise users to remove the ':' character from pages' title.\r\n# Disable PDF exports to be handled by the sandbox process by adding the following JVM argument and restart Confluence:\r\n{code}\r\n-Dpdf.export.sandbox.disable=true\r\n{code}\r\n #* Refer to [Configuring System Properties|https://confluence.atlassian.com/doc/configuring-system-properties-168002854.html] on how to add this as a parameter in your instance.",
      "summary": "Exporting a Space or a Page to PDF fails on Confluence Data Center on Windows if the page title has a ':' character"
    }
  },
  {
    "key": "CONFSERVER-58287",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-15T14:51:13.000+0000",
      "description": "*Goal:*\u00a0Have Confluence emails show only changed content\r\n\r\n*Background:* Our customers receive multiple emails for updates to Confluence pages.\r\n\r\nThese emails often include the entire page content along with the changes. This becomes a pain point when getting an update on a task list and having to scroll down through the entire email to see the changes since the entire task list is included.\u00a0",
      "summary": "Display Only Changed Content in Confluence Emails"
    }
  },
  {
    "key": "CONFSERVER-58286",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-12T01:46:11.000+0000",
      "created": "2019-05-15T13:44:36.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *Repair the Ancestor* scheduled job do not process archived spaces. It does archive current spaces only. There is no confirmation whether this behavior is an expected/intended behavior. If it is an intended behavior, it would be best that the the following document is updated to include this piece of information:\r\n* [Rebuilding the Ancestor Table|https://confluence.atlassian.com/doc/rebuilding-the-ancestor-table-153948.html]\r\n\r\nh3. Steps to Reproduce\r\n# Ensure that your Confluence instance have multiple spaces. For this example we have 4 spaces.\r\n# In one of those spaces, head over to *Space Tools* > *Overview* > *Edit Space Details*\r\n# Change the status to archived.\r\n# Click Save\r\n# Head over to *General Configuration* > *Scheduled Jobs* > *Repair the Ancestors Table* > *Run*\r\n\r\nh3. Expected Results\r\nThe job will run and it will process all spaces and the following will be seen in the logs.\r\n{code:java}\r\nIt took X sec for 4 spaces, average space processing time 0 sec.\r\n{code}\r\nh3. Actual Results\r\nThe job will run and it will process only current spaces and the following will be seen in the logs.\r\n{code:java}\r\nIt took X sec for 3 spaces, average space processing time 0 sec.\r\n{code}\r\n\r\nh3. Workaround\r\nIf you wish to repair the ancestor table for archive spaces, first you will need to change its status to *current* , run the Repair ancestor job. Once done you can change the space's status to archive again. ",
      "summary": "Archived spaces are not processed by the scheduled Repair the Ancestors Table job"
    }
  },
  {
    "key": "CONFSERVER-58285",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-02-14T23:47:42.000+0000",
      "description": "When\u00a0CONFSERVER-57458\u00a0was implemented, we did a fix to prevent stale drafts from becoming valid drafts during a content refactoring action (which can be triggered by actions such as page moves). But existing content can still have stale drafts that have had their modification date updated. The scope of this ticket is to try and provide an upgrading task which can identify all invalid data and correct it as well as all needed condition to run that upgrading task.\r\n\r\nEx:\r\n - Find all drafts which have version < current version and lastmoddate > current lastmoddate then update the draft's lastmoddate < current lastmoddate\r\n - Make sure we only run if Collaborative Editing (CE) is off (upgrade task might be not suitable for the CE on case because we can't delay running the upgrading task until we turn off CE)",
      "summary": "Fix existing stale drafts (for CONFSERVER-57458) with an upgrade task"
    }
  },
  {
    "key": "CONFSERVER-58283",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-14T13:25:49.000+0000",
      "description": "h3. Summary  \r\n\r\n* Gliffy diagrams don't load in Firefox when they are inside an *Expand* macro.\r\n\r\nh3. Environment \r\n* Firefox\r\n\r\nh3. Steps to Reproduce \r\n# Create a Confluence page\r\n# Add an *Expand* macro in it\r\n# Inside the *Expand* macro, add a *Gliffy* diagram\r\n# Publish the page\r\n# When the page finishes to load, click to expand the content in the published Confluence page\r\n\r\nh3. Expected Results  \r\n\r\n* The Gliffy diagram will show up, as per the screenshot below:\r\n\r\n !Screen Shot 2019-05-14 at 10.20.20.png|thumbnail! \r\n\r\nh3. Actual Results \r\n\r\n* The Gliffy diagram doesn't load and is not shown inside the *Expand* macro, as per the screenshot below:\r\n\r\n !Screen Shot 2019-05-14 at 10.20.41.png|thumbnail! \r\n\r\nh3. Notes \r\n\r\n* This behavior only happens after the page completes its loading.\r\n\r\nh3. Workaround \r\n\r\n* Use a browser other than Firefox (for example, Google Chrome)\r\n* Uncheck the *Interactive HTML5 Viewer* of the diagram (inside the Editor, click on the *diagram >> More*)",
      "summary": "Gliffy diagrams don't load inside Expand macros in Firefox"
    }
  },
  {
    "key": "CONFSERVER-58281",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-14T09:59:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFrom an app developer:\r\n\r\nFor a use case of 1000 children of page, when using {{CQLSearchService}} and the REST API with {{cql}}\r\n{code:java}\r\ncql = \"parent = xxxxx\"\r\n{code}\r\nThe results always return 500 results even when an option for {{startAt}} and {{limit}}. Also, this code:\r\n{code:java}\r\ncqlSearchService.searchContent(cqlQuery.toString(), new SimplePageRequest(500, 1000))\r\n{code}\r\nreturns 0 instead of 500 and\r\n{code:java}\r\ncqlSearchService.searchContent(cqlQuery.toString(), new SimplePageRequest(0, 500))\r\n{code}\r\nreturns a false for {{PageResponse#hasMore}}\r\n\r\nHowever, if the\u00a0{{ancestor}} is used in CQL field instead of the {{parent field}}\u00a0in the CQL query:\r\n{code:java}\r\ncql = \"ancestor = xxxxx\"\r\n{code}\r\nthe count will return 1000 and the pagination request will return the expected records. The problem with the \"ancestor\" field is that it will get all the descendants on not just the children pages which is not what the app developer needs since it returns all descendants.\r\nh3. Environment\r\n\r\nVersion 5.10.9 and 6.6.13\r\nh3. Steps to Reproduce\r\n # Create more than 500 or 1000 children pages\r\n # Run search REST API with CQL or with Java API\r\n\r\nh3. Expected Results\r\n\r\nGet the right amount of page or have the hasMore return true\r\nh3. Actual Results\r\n\r\nGetting lesser than 1000 pages and hasMore returns false\r\nh3. Notes\r\n * Vendor has tried this with REST API, UI, and Java API. Might be worth looking into whys and give a workaround\r\n * Suggested to look into REST API as the original issue only mentions {{CQLSearchService}}, however developer says that the same CQL returns 500 even when a startAt and limit is provided (see summary)\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "CQL Search by parent returns limit of 500 results for both CQLSearchService and REST API even when startAt and limit is given"
    }
  },
  {
    "key": "CONFSERVER-58280",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-14T06:41:45.000+0000",
      "description": "Confluence currently uses the [K-stem algorithm|http://lexicalresearch.com/kstem-doc.txt]\u00a0which can be quite restrictive in what it considers to be words that have the same stem. Some examples of words that one might expect to match but don't match are:\r\n * Manage and Management\r\n * Manage and Managers\r\n * Manage and Managerial\r\n * Memory and Memorial\r\n * Memory and Memorize",
      "summary": "Confluence stemming should be more lenient"
    }
  },
  {
    "key": "CONFSERVER-58279",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-14T06:20:11.000+0000",
      "description": "In Confluence before 6.14.0 you were able to type partial words like \"proj\" into the search box in the header and match pages with titles like \"Project X documentation\"\r\n\r\nAs of Confluence 6.14.0, when you do the same thing, it will only match that document if the full word is typed. i.e. you have to type \"project\"\r\n\r\nThis behaves the same way that advanced search used to behave before Confluence 6.14.0 which means it does not do partial word matches but does do stemming to try and match different forms of the same word (so \"projects\" would also match \"Project X documentation\"). While this change in behaviour is not a bug, it can break workflows where documents of certain projects may have prefixes that used to match in the suggestions but no longer do.\r\n\r\nIn resolving this, Atlassian should be mindful of potentially impacting customers for whom matching documents based on a prefix would cause too many unwanted results.\r\nh2. Workaround\r\n\r\nUsers can add an an asterisk\u00a0( * ) after the search term to expand the search. In the example above, searching for \"proj*\" will match \"Project\". However, this will match it in all fields of the document and not just the title as it did in older versions.",
      "summary": "Confluence 6.14+ should allow partial matches in search"
    }
  },
  {
    "key": "CONFSERVER-58278",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-14T06:19:34.000+0000",
      "description": "h3. Issue Summary\r\nUnable to add an inline comment on a text that has strike through format\r\n\r\nh3. Steps to Reproduce\r\n# Create a page with a strike through text\r\n# Save the page, select the text, and attempt to add in line comment on it\r\n\r\nh3. Expected Results\r\nAble to add inline comment as this is a plain text, and not a macro\r\n\r\nh3. Actual Results\r\nUnable to add inline comment with the following error message:\r\n{noformat}\r\nWe can't add your inline comment; the section you highlighted may contain a macro or user mention. Try highlighting plain text.\r\n{noformat}\r\n",
      "summary": "Unable to add an inline comment on a text that has strikethrough format"
    }
  },
  {
    "key": "CONFSERVER-58276",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-14T01:51:02.000+0000",
      "created": "2019-05-14T00:01:25.000+0000",
      "description": "h3. Summary\r\nThe classes listed on [Troubleshooting failed XML site backups|https://confluence.atlassian.com/doc/troubleshooting-failed-xml-site-backups-149212.html] to enable XML Backup/Restore debug logging are incorrect. The classes were changed some time around version 5 of Confluence, but the documentation was never updated.\r\n\r\nh3. Solution\r\nReplace the classes listed in Step 4 of the linked documentation with:\r\n{code:borderStyle=solid}\r\nlog4j.logger.com.atlassian.hibernate.extras.XMLDatabinder=DEBUG, confluencelog\r\nlog4j.additivity.com.atlassian.hibernate.extras.XMLDatabinder=false\r\n{code}",
      "summary": "XML Backup/Restore logging classes in Confluence Documentation are incorrect"
    }
  },
  {
    "key": "CONFSERVER-58274",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T23:45:13.000+0000",
      "description": "Currently, if a user restricts view and edit permissions to a page, the following behavior results:\r\n# If you are logged in as a user in the confluence-administrator group, Confluence does not display and _Edit_ link on the page.\r\n# However, if the confluence-administrator user clicks the page's padlock icon, the resulting permissions dialog displays the confluence-administrator user with View and Edit permissions.\r\n# While the confluence-administrator can view the page, they need to take an extra step to edit the page by explicitly clicking the padlock icon on the _Restricted Pages_ tab within the Space Tools interface to remove the permissions.\r\n\r\nSo, in summary, this request is change the wording of the permissions displayed in the Permissions dialog for users who are in the confluence-administrators group to reflect the actual state of their permissions.  That is, until they remove the permissions from the _Restricted Pages_ tab, Confluence should show that confluence-administrator only has View permissions to the restricted page.",
      "summary": "Consistent display of confluence-administrator authority within Page Restriction dialog box"
    }
  },
  {
    "key": "CONFSERVER-58273",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T21:32:29.000+0000",
      "description": "In setenv.sh from Confluence server 6.15, please change the following line:\r\n{code:java}\r\nCATALINA_OPTS=\"${START_CONFLUENCE_JAVA_OPTS} ${CATALINA_OPTS}\" {code}\r\n\u00a0\r\n\r\nTo read:\r\n{code:java}\r\nCATALINA_OPTS=\"${CATALINA_OPTS} ${START_CONFLUENCE_JAVA_OPTS}\" {code}\r\n\u00a0\r\n\r\nThis will allow me to set\u00a0START_CONFLUENCE_JAVA_OPTS as an environment variable and the values will \"override\" any values set previously in CATALINA_OPTS.\u00a0 This is especially true for things like Xms and Xmx.\r\n\r\n\u00a0\r\n\r\nIt is my strong prefernce to set those things as environment variables in my systemd startup service files and NOT have to touch setenv.sh on every upgrade.\r\n\r\n\u00a0\r\n\r\nThanks,\r\n\r\n\u00a0\r\n\r\n-BL\r\n\r\n\u00a0",
      "summary": "Allow START_CONFLUENCE_JAVA_OPTS to be used as environment variables in setenv.sh"
    }
  },
  {
    "key": "CONFSERVER-58272",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T20:39:30.000+0000",
      "description": "h3. Issue Summary\r\nWhen importing a word document with tiff images, the images are not present in the resulting Confluence page. \r\n\r\nh3. Environment\r\n* Confluence 6.13.4\r\n\r\nh3. Steps to Reproduce\r\n# Create a word document with some text\r\n# Add a few tiff images to the word document\r\n# Save the word document as .docx\r\n# Import the word document to Confluence:\r\n !import-menu1.png|thumbnail! \r\n\r\nh3. Expected Results\r\nEmbedded tiff images display in Confluence in the same manner they appear in the document.\r\n\r\nh3. Actual Results\r\nEmbedded tiff images are not imported during the .docx word doc import process, and thus do not display on the newly created Confluence page.\r\n\r\nh3. Workaround\r\n# Open the existing .docx word document in Microsoft Word. (i)\r\n# Perform a File > Save-as \r\n# Select the file type \".doc (word 97-2004 document)\"\r\n# Import the .doc file and the tiff images will be present\r\n\r\n(i) On OSX, using Microsoft Word for Mac 2011 (14.7.7) for the conversion was successful, but using Word 16.24 was not successful. On Windows, the same conversion from docx to doc was successful.",
      "summary": "Import Word Document does not import embedded tiff images from .docx files"
    }
  },
  {
    "key": "CONFSERVER-58270",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-20T23:58:43.000+0000",
      "created": "2019-05-13T13:56:08.000+0000",
      "description": "h3. Issue Summary\r\nWhen Collaborative Editing is enabled in Confluence and users try to edit a page, they might hit a bug on which a blank page is shown in the editor.\r\nSometimes, it is not a blank page, but an old version of it.\r\n\r\nh3. Environment\r\nThis bug was reproduced on *6.6*, *6.13* and *6.15.4*.\r\nAlthough not tested, this should affected any version from 6.0 onward.\r\n\r\nh3. Steps to Reproduce\r\nBelow are described two ways to hit this bug, but with different characteristics to user, although the bug trigger is the same.\r\nBecause of simplicity, the first option might be more common than the other, which is when the user sees a blank page when accessing the editor.\r\n\r\nh4. Option 1\r\n# Install a vanilla instance of Confluence.\r\n# Publish a new page with no content.\r\n #* If you check records related to this page in the {{CONTENT}} table you have 2 rows.\r\n #* The row related to the draft has {{creationdate}} and {{lastmoddate}} equal to {{null}}.\r\n !drafts_img008.png|thumbnail! \r\n# Disable Collaborative Editing.\r\n# Edit the same page, add new content to it and save it.\r\n #* If you check records related to this page in the {{CONTENT}} table, you have 3 rows.\r\n# Enable Collaborative Editing.\r\n #* The draft record that was created a few steps ago won't be [removed as a stale draft|https://docs.atlassian.com/atlassian-confluence/6.2.0/com/atlassian/confluence/pages/PageManager.html#removeStaleSharedDrafts--] because its timestamps are null.\r\n# Access the same page as before and click on _Edit_.\r\n\r\nh5. Expected Results\r\nConfluence shows in the editor the contents of the last published page.\r\n\r\nh5. Actual Results\r\nConfluence shows in the editor a blank page.\r\n\r\nh4. Option 2\r\n# Install a vanilla instance of Confluence.\r\n# Disable Collaborative Editing.\r\n# Create a page with a sample content.\r\n !drafts_img003.png|thumbnail! \r\n #* If you check records related to this page in the {{CONTENT}} table, you have just one row.\r\n !drafts_img001.png|thumbnail! \r\n# Enable Collaborative Editing.\r\n# Access the page created a few steps before and click on _Edit_.\r\n# *Without changing anything* on the contents, click on _Close_ to exit the editor.\r\n #* If you check records related to this page in the {{CONTENT}} table, now you have 2 rows.\r\n #* The new row added to the table is related to the draft record and has {{creationdate}} and {{lastmoddate}} equal to {{null}}.\r\n !drafts_img002.png|thumbnail! \r\n# Disable Collaborative Editing.\r\n# Edit the same page again, add new content to it and save it.\r\n !drafts_img004.png|thumbnail! \r\n #* If you check records related to this page in the {{CONTENT}} table, you have 3 rows.\r\n !drafts_img005.png|thumbnail! \r\n# Enable Collaborative Editing.\r\n #* The draft record that was created a few steps ago won't be [removed as a stale draft|https://docs.atlassian.com/atlassian-confluence/6.2.0/com/atlassian/confluence/pages/PageManager.html#removeStaleSharedDrafts--] because its timestamps are null.\r\n# Access the same page as before and click on _Edit_.\r\n\r\nh5. Expected Results\r\nConfluence shows in the editor the contents of the last published page.\r\n !drafts_img006.png|thumbnail! \r\n\r\nh5. Actual Results\r\nConfluence shows in the editor an old version of the page, which is related to the draft record created when Collaborative Editing was first enabled.\r\n \r\nh3. Notes\r\nThis bug is related to [CONFSERVER-57458|https://jira.atlassian.com/browse/CONFSERVER-57458] in a way that it shows the same characteristics to the end user.\r\nA bug new record was created because the trigger of is completely different.\r\n\r\nh3. Workaround\r\n_Currently there is no known workaround for this behavior. A workaround will be added here when available_",
      "summary": "Confluence might show blank content or an old version of a page when an user tries to edit a page with Collaborative Editing enabled"
    }
  },
  {
    "key": "CONFSERVER-58269",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T12:05:24.000+0000",
      "description": "Due to the bug reported in CONFSRVDEV-7847\u00a0and\u00a0CONFSERVER-43191, it will be useful for Confluence user to avoid adding the Children Display macro for pages that contains a lot of child pages (~3000) if we can introduce a warning message when the user specify the Parent page that contains a lot of child page inside the Children Display macro configuration.\r\n\r\nExample message:\r\n{quote}\r\nThe Parent Page contains xxxx of child pages. Adding this macro will delay the macro load time.\r\n{quote}",
      "summary": "Introduce a warning message in Children Display macro configuration when the Parent Page have a lot of Child Page."
    }
  },
  {
    "key": "CONFSERVER-58268",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T03:50:49.000+0000",
      "description": "Our current Confluence instance is using MS Active Directory to manager user and group. Therefore, AD users and groups are synchronised from AD servers via LDAP.\r\n\r\nWe're planning to migrate Confluence instance to Data Center version. As part of migration we'll try to replace AD synchronisation by using Okta. I searched Confluence documentation and did find Confluence cloud works with Okta for user provisioning, while no document has mentioned Confluence server/datacentre version. Could you please confirm if it's feasible. If yes, may I have a implementation plan? Thanks before hands.\r\n\r\n\u00a0\r\n\r\nRegards\r\n\r\nWally\u00a0",
      "summary": "Confluence DataCenter user provisioning with Okta"
    }
  },
  {
    "key": "CONFSERVER-58266",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T02:00:28.000+0000",
      "description": "h3. Summary\r\nWhen restricting labels in a live-search macro, the auto-complete search results follow the label. However, when the user presses *See More Results* button, the search results include all content with no label filter.\r\n\r\nh3. Steps to reproduce\r\nAdd LiveSearch Macro to a page\r\nUnder label to restrict in search option, restrict the results to only Pages\r\nSave the page and perform live search\r\nChoose *See More Results*\r\n\r\nh3. Expected Result\r\nConfluence Search page is showing only results of specified labels.\r\n\r\nh3. Actual Results\r\nConfluence Search page is showing results with any labels.\r\n\r\nh3. Note\r\nThe label filter is properly active if the user presses \"Enter\" or clicks the magnifying glass button. This occurs only on *See More Results* button.\r\n\r\n\r\nh3. Workaround\r\nManually set the label from the sidebar, or press \"Enter\" or clicks the magnifying glass button.\r\n\r\n",
      "summary": "LiveSearch Macro label filter not present in Search Page if transited from \"See More Results\" "
    }
  },
  {
    "key": "CONFSERVER-58265",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-13T01:57:37.000+0000",
      "description": "This is carried over from a [community question|[https://community.atlassian.com/t5/Confluence-questions/Import-HTML-files-into-confluence/qaq-p/804375]] regarding HTML import.\r\n\r\nImported HTML pages can't be edited using the Confluence WYSIWYG editor. Any further mods require direct editing of the markup (HTML).\u00a0\r\n\r\nAs of Confluence version 6.15.2, the only document format with first-class* import support is Microsoft Word.\u00a0\u00a0\r\n\r\nGiven their prevalence, isn't it about time HTML and Markdown import were given first-class* support in the core product?\r\n\r\nThanks.\r\n\r\n*Subsequent editing via WYSIWYG editor",
      "summary": "First-class import support for HTML and Markdown"
    }
  },
  {
    "key": "CONFSERVER-58264",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-10T19:53:54.000+0000",
      "description": "h3. Summary  \r\n\r\n* Confluence throws a database error while trying to upgrade to 6.15.x when using Microsoft SQL Server database:\r\n{code}\r\n2019-05-08 09:30:36,696 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades Upgrade failed, application will not start: com.atlassian.config.ConfigurationException: Cannot update schema\r\ncom.atlassian.confluence.upgrade.UpgradeException: com.atlassian.config.ConfigurationException: Cannot update schema\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.upgrade(AbstractUpgradeManager.java:135)\r\n\tat com.atlassian.confluence.plugin.PluginFrameworkContextListener.launchUpgrades(PluginFrameworkContextListener.java:119)\r\n\tat com.atlassian.confluence.plugin.PluginFrameworkContextListener.contextInitialized(PluginFrameworkContextListener.java:79)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4682)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5150)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.config.ConfigurationException: Cannot update schema\r\n\tat com.atlassian.confluence.impl.core.persistence.hibernate.schema.ConfluenceSchemaHelper.validateSchemaUpdateIfNeeded(ConfluenceSchemaHelper.java:117)\r\n\tat com.atlassian.confluence.upgrade.impl.DefaultUpgradeManager.validateSchemaUpdateIfNeeded(DefaultUpgradeManager.java:73)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.upgrade(AbstractUpgradeManager.java:120)\r\n\t... 14 more\r\nCaused by: org.hibernate.exception.SQLGrammarException: Error accessing table metadata\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\r\n\tat org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.convertSQLException(InformationExtractorJdbcDatabaseMetaDataImpl.java:98)\r\n\tat org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.locateTableInNamespace(InformationExtractorJdbcDatabaseMetaDataImpl.java:463)\r\n\tat org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTable(InformationExtractorJdbcDatabaseMetaDataImpl.java:228)\r\n\tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTableInformation(DatabaseInformationImpl.java:111)\r\n\tat org.hibernate.tool.schema.internal.IndividuallySchemaMigratorImpl.performTablesMigration(IndividuallySchemaMigratorImpl.java:69)\r\n\tat com.atlassian.confluence.impl.hibernate.ConfluenceHibernateSchemaManagementTool$3.performTablesMigration(ConfluenceHibernateSchemaManagementTool.java:110)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:203)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:110)\r\n\tat org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:87)\r\n\tat org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:58)\r\n\tat com.atlassian.confluence.impl.core.persistence.hibernate.schema.ConfluenceSchemaHelper.validateSchemaUpdateIfNeeded(ConfluenceSchemaHelper.java:114)\r\n\t... 16 more\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The database name component of the object qualifier must be the name of the current database.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:260)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1547)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:528)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:461)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7342)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2688)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:224)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:204)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQueryInternal(SQLServerPreparedStatement.java:396)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getResultSetFromStoredProc(SQLServerDatabaseMetaData.java:301)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getResultSetWithProvidedColumnNames(SQLServerDatabaseMetaData.java:316)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getTables(SQLServerDatabaseMetaData.java:481)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyDatabaseMetaData.getTables(NewProxyDatabaseMetaData.java:2962)\r\n\tat org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.locateTableInNamespace(InformationExtractorJdbcDatabaseMetaDataImpl.java:448)\r\n\t... 25 more\r\n{code}\r\n\r\nh3. Steps to Reproduce \r\n# Create a database in Microsoft SQL Server with the *Confluence* name\r\n# Install Confluence 6.13\r\n# Connect Confluence to the Microsoft SQL Server database using the connection string url as *confluence* (instead of Confluence with an uppercase letter C).\r\n# Upgrade Confluence 6.13 to 6.15.x\r\n\r\nh3. Expected Results  \r\n\r\n* Confluence updates successfully\r\n\r\nh3. Actual Results \r\n\r\n* Upgrade fails with:\r\n{code}\r\nCaused by: java.sql.SQLException: The database name component of the object qualifier must be the name of the current database.\r\n{code}\r\n\r\nh3. Workaround \r\n\r\n# Get the name of your database by running the following query:\r\n{code:sql}\r\nSELECT name, database_id, create_date FROM sys.databases;  \r\n{code}\r\n# Compare it with the name of the database located in your _<confluence_home>/confluence.cfg.xml_ file\r\n# Update the database name so it matches the exact name of the database from the SQL statement.\r\n# Restart Confluence",
      "summary": "Upgrading to Confluence 6.15.x using Microsoft SQL Server fails with the 'The database name component of the object qualifier must be the name of the current database' error"
    }
  },
  {
    "key": "CONFSERVER-58263",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-10T13:31:48.000+0000",
      "description": "Hi, I regularly use the JIRA Macro to create tables of JIRA issues in confluence. Many of these tables are very long. I would like the header row of the table generated by the JIRA Macro to freeze like that of a table created within confluence. Can this be done? \r\n\r\nThank you!",
      "summary": "JIRA Macro table with fixed header row"
    }
  },
  {
    "key": "CONFSERVER-58261",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-04T04:53:36.000+0000",
      "created": "2019-05-10T07:32:41.000+0000",
      "description": "h3. Summary\r\n\r\nWhen installing Confluence version from scratch, some constraints and indices are not being added.\r\n\r\nThis affects the following Confluence versions:\r\n - 5.6.x\r\n - 5.7.x\r\n - 5.8.x\r\n\r\nh3. Steps to Reproduce\r\n # Configure your DB Server as per the following documentation (depending on your DB Server):\r\n -- [Database Setup for PostgreSQL|https://confluence.atlassian.com/display/DOC/Database+Setup+for+PostgreSQL]\r\n -- [Database Setup for Oracle|https://confluence.atlassian.com/doc/database-setup-for-oracle-173821.html]\r\n -- [Database Setup For MySQL|https://confluence.atlassian.com/doc/database-setup-for-mysql-128747.html]\r\n -- [Database Setup for SQL Server|https://confluence.atlassian.com/doc/database-setup-for-sql-server-9258.html]\r\n # Install a fresh Confluence instance as per [Confluence Installation Guide|https://confluence.atlassian.com/display/DOC/Confluence+Installation+Guide]\r\n\r\nh3. Expected Results\r\n\r\nThe following constraints/indexes should exist on the tables:\r\n||CONSTRAINT/INDEX NAME||TYPE||TABLE NAME||\r\n|unq_lwr_username (or generated name on certain SQL vendors)|Unique Constraint|USER_MAPPING|\r\n|bandana_unique_key|Unique Constraint|BANDANA|\r\n|cp_unique_user|Unique Constraint|CONTENT_PERM|\r\n|cp_unique_group|Unique Constraint|CONTENT_PERM|\r\n|cps_unique_type|Unique Constraint|CONTENT_PERM_SET|\r\n|cwd_group_name_dir_id|Unique Constraint|CWD_GROUP|\r\n|cwd_unique_grp_attr|Unique Constraint|CWD_GROUP_ATTRIBUTE|\r\n|cwd_user_name_dir_id|Unique Constraint|CWD_USER|\r\n|cwd_unique_usr_attr|Unique Constraint|CWD_USER_ATTRIBUTE|\r\n|cwd_unique_user_membership|Unique Constraint|CWD_MEMBERSHIP|\r\n|cwd_unique_group_membership|Unique Constraint|CWD_MEMBERSHIP|\r\n|ospe_entityid_idx|Index|OS_PROPERTYENTRY|\r\n\r\n(i) The unique constraints specifically for Oracle/SQL Server is a bit different with the other Databases as the {{CONTENT_PERM}} only has _CP_UNIQUE_USER_GROUPS_ unique constraint and the {{CWD_MEMBERSHIP}} only has _CWD_UNIQUE_MEMBERSHIP_ unique constraint.\r\nh3. Actual Results\r\n\r\nThe above mentioned unique constraints and index are not present in the database.\r\nh3. Workaround\r\n\r\n(!) Make sure to back up the database before applying any SQL commands that modify the database, and ensure Confluence is not running while applying the change\r\n # First, let's check if there are any duplicate records in these Confluence tables:\r\n{code:java|title=Query to find duplicate records in the USER_MAPPING table}\r\nselect lower_username, count(*) from user_mapping group by lower_username having count(*) > 1;\r\n{code}\r\n{code:java|title=Query to find duplicate records in the BANDANA table}\r\nselect bandanacontext, bandanakey, count(*) from bandana group by bandanacontext, bandanakey having count(*) > 1;\r\n{code}\r\n{code:java|title=Query to find duplicate records in the CONTENT_PERM_SET tables}\r\nselect content_id, cont_perm_type,count(*) from content_perm_set group by content_id, cont_perm_type having count(*) > 1;\r\n{code}\r\n{code:java|title=Query to find duplicate username records in the CONTENT_PERM table}\r\nselect cps_id, cp_type, username,count(*) from content_perm group by cps_id, cp_type, username having count(*) > 1 AND username is not null;\r\n{code}\r\n{code:java|title=Query to find duplicate groupname records in the CONTENT_PERM table}\r\nselect cps_id, cp_type, groupname, count(*) from content_perm group by cps_id, cp_type, groupname having count(*) > 1 AND groupname is not null;\r\n{code}\r\n{code:java|title=Query to find duplicate records in the CWD_GROUP table}\r\nselect lower_group_name, directory_id, count(*) from cwd_group group by lower_group_name, directory_id having count(*) > 1;\r\n{code}\r\n{code:java|title=Query to find duplicate records in the CWD_USER_ATTRIBUTE table}\r\nselect directory_id, user_id, attribute_name, attribute_lower_value, count(*) from cwd_user_attribute group by directory_id, user_id, attribute_name, attribute_lower_value having count(*) > 1;\r\n{code}\r\n{code:java|title=Query to find duplicate records in the CWD_GROUP_ATTRIBUTE table}\r\nselect directory_id, group_id, attribute_name, attribute_lower_value, count(*) from cwd_group_attribute group by directory_id, group_id, attribute_name, attribute_lower_value having count(*) > 1;\r\n{code}\r\n{code:java|title=Query to find duplicate child user records in the CWD_MEMBERSHIP table}\r\nselect parent_id, child_user_id, count(*) from cwd_membership group by parent_id, child_user_id having count(*) > 1 AND child_user_id is not null;\r\n{code}\r\n{code:java|title=Query to find duplicate child group records in the CWD_MEMBERSHIP table}\r\nselect parent_id, child_group_id, count(*) from cwd_membership group by parent_id, child_group_id having count(*) > 1 AND child_group_id is not null;\r\n{code}\r\n{code:java|title=Query to find duplicate records in the CWD_USER table}\r\nselect lower_user_name, directory_id, count(*) from cwd_user group by lower_user_name, directory_id having count(*) > 1;\r\n{code}\r\n\r\n # Should there are no duplicate values being detected by the above queries, you may then run the below SQL statements to add the missing constraints and index.\r\n{code:sql}\r\n-- user_mapping constraint\r\n-- For vendors other than SQL Server (Oracle, MySQL and PostgreSQL)\r\nalter table user_mapping add constraint unq_lwr_username unique (lower_username);\r\n-- For SQL Server\r\ncreate unique index user_mapping_unq_lwr_username on user_mapping(lower_username) where lower_username is not null;\r\n\r\n-- Embedded Crowd constraints\r\nalter table cwd_group add constraint cwd_group_name_dir_id unique (lower_group_name, directory_id);\r\nalter table cwd_user add constraint cwd_user_name_dir_id unique (lower_user_name, directory_id);\r\nalter table cwd_group_attribute add constraint cwd_unique_grp_attr unique (directory_id, group_id, attribute_name, attribute_lower_value);\r\nalter table cwd_user_attribute add constraint cwd_unique_usr_attr unique (directory_id, user_id, attribute_name, attribute_lower_value);\r\nalter table cwd_membership add constraint cwd_unique_user_membership unique (parent_id, child_user_id);\r\nalter table cwd_membership add constraint cwd_unique_group_membership unique (parent_id, child_group_id);\r\n-- For Oracle/SQL Server - ALTER TABLE cwd_membership ADD CONSTRAINT cwd_unique_membership UNIQUE (parent_id, child_group_id, child_user_id);\r\n\r\n-- Content Permission constraints\r\nalter table CONTENT_PERM_SET add constraint cps_unique_type unique (CONTENT_ID, CONT_PERM_TYPE);\r\n\r\nalter table CONTENT_PERM add constraint cp_unique_user unique (CPS_ID, CP_TYPE, USERNAME);\r\nalter table CONTENT_PERM add constraint cp_unique_group unique (CPS_ID, CP_TYPE, GROUPNAME);\r\n-- For Oracle/SQL Server - ALTER TABLE CONTENT_PERM ADD CONSTRAINT CP_UNIQUE_USER_GROUPS UNIQUE (\"CPS_ID\", \"CP_TYPE\", \"USERNAME\", \"GROUPNAME\");\r\n\r\n-- Bandana constraints\r\nalter table BANDANA add constraint bandana_unique_key unique (BANDANACONTEXT, BANDANAKEY);\r\n\r\n-- Property Entry index\r\ncreate index ospe_entityid_idx on OS_PROPERTYENTRY (entity_id);\r\n{code}\r\n(!) However, if there are any duplicate records in your Confluence DB, please then raise a new ticket in our Support Portal [http://getsupport.atlassian.com|http://getsupport.atlassian.com/] for further assistance.\r\n\r\nh5. Notes:\r\nThere's a KB about this issue that addresses missing constraints and how to delete the duplicated records in the database, mostly around user management related tables: \r\n* [User related issues in Confluence with the error message 'query did not return a unique result'|https://confluence.atlassian.com/confkb/user-related-issues-in-confluence-with-the-error-message-query-did-not-return-a-unique-result-596181603.html?]",
      "summary": "Missing unique constraints and index in certain fresh Confluence installation"
    }
  },
  {
    "key": "CONFSERVER-58260",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-10T05:20:18.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen running Confluence in a clustered database and performing a failover, Synchrony will fail to reestablish connection to the database upon database engine rejoining. \r\n\r\nAll Synchrony transaction will fail after fail over is completed. \r\n\r\nh3. Environment\r\n\r\nVerified on Aurora and Postgres RDS running external Synchrony. \r\n\r\nh3. Steps to Reproduce\r\n1. Run Confluence with external Synchrony on a RDS Postgres\r\n2. Open up collaborative editor with two sessions\r\n3. Fail over RDS Postgres\r\n4. Attempt to make changes in collaborative editor and observe Synchrony connection cannot be established\r\n\r\nh3. Expected Results\r\nSynchrony automatically establishes connection after fail over. \r\n\r\nh3. Actual Results\r\nSynchrony *does not* automatically establish connection after fail over. \r\n\r\nh3. Workaround\r\n\r\nRestarting the Synchrony node will force the connection to be reestablished. ",
      "summary": "Synchrony fails to reestablish connection after a fail over when configured with a clustered database"
    }
  },
  {
    "key": "CONFSERVER-58259",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-10T04:38:56.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhile using Jira macro to create a new issue in Jira, the custom field of type *Label* is not searchable currently.\r\n\r\nh3. Environment\r\n\r\n* Confluence v6.15.1\r\n* Jira v8.0.2\r\n\r\nh3. Steps to Reproduce\r\n# Create an Application link between Confluence and Jira\r\n# Create a custom field in Jira with type *Label*.\r\n# When creating an issue in Jira, the custom field returned search results (/)\r\n !jiraLabel.png|thumbnail! \r\n#* *code* is the custom field in the above snapshot.\r\n# When creating an issue from Confluence, the custom field doesn't return any search results (x)\r\n !connieLabel.png|thumbnail! \r\n\r\n\r\nh3. Expected Results\r\n\r\nWhen searching from Confluence, the field should search for existing labels and auto-populate like Jira does.\r\n\r\nh3. Actual Results\r\n\r\nConfluence doesn't search and doesn't auto-populate.\r\n\r\nh3. Notes\r\n\r\nWhen the default label field is being typed, we see the following request recevied by Jira from Confluence.\r\n{code}\r\n127.0.0.1 o696x1618x1 admin [10/May/2019:11:36:25 +1000] \"GET http://localhost:8802/j802/rest/api/1.0/labels/suggest HTTP/1.1\" 200 100 0.0560 - \"Apache-HttpClient/4.5.5 (Java/1.8.0_151)\" \"1t9soxo\"\r\n{code}\r\n\r\nThough, when the custom field is typed, there is no request received by Jira.\r\n\r\n\r\nh3. Workaround\r\n\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Custom field of type Label from Jira cannot be searched"
    }
  },
  {
    "key": "CONFSERVER-58258",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-10T03:37:38.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCID fonts which are embedded in PDF file are shown as blank in PDF preview.\r\n\r\nYou can see this problem with the following steps to reproduce.\r\n\r\n# Attach  [^font-test.pdf] to a Confluence page\r\n# [Preview|https://confluence.atlassian.com/doc/display-files-and-images-245827130.html] the attached PDF file\r\n\r\nThis PDF file consists of the following contents and the each line is written with the corresponding font.\r\n\r\n{panel}\r\n* English characters with \u201cArial\u201d Font \u2192 Test\r\n* Japanese characters with \u201cIPA Gothic\u201d Font \u2192 \u30c6\u30b9\u30c8\r\n* English characters with \u201cHiragino Kaku Gothic\u201d Font (CID) \u2192 Test\r\n* Japanese characters with \u201cHiragino Kaku Gothic\u201d Font (CID) \u2192 \u30c6\u30b9\u30c8\r\n{panel}\r\n\r\nAs each font is embedded in the PDF file itself, you can see that the second line with \"IPA Gothic\" font in the PDF is previewed as expected even if the corresponding font file is *NOT* installed in Confluence server.\r\n\r\nOn the other hand, the third line and the fourth line with \u201cHiragino Kaku Gothic\u201d Font (CID) are not shown correctly.\r\n\r\nh3. Suggested Solution\r\n\r\nIt would be better if CID font is rendered correctly as well in PDF preview.\r\n\r\nh4. Note:\r\nHave tried installing the CID fonts in Windows and getting the following error as it is incompatible:\r\n !screenshot-1.png|thumbnail! \r\nCID fonts are unable to be installed on other platforms. Therefore, the only possible way is to allow Confluence to render the CID fonts in the PDF preview correctly. ",
      "summary": "Embedded CID font is shown as blank in PDF preview"
    }
  },
  {
    "key": "CONFSERVER-58256",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-09T23:02:14.000+0000",
      "description": "[Confluence Mobile|https://confluence.atlassian.com/doc/confluence-mobile-284365706.html] states the following:\r\n{quote}\r\nUsers will need to log in to use the app, even if your site allows anonymous users.\r\n{quote}\r\nWould it be possible to allow users to anonymously access Confluence sites that have anonymous access enabled?\r\n\r\nWhile this use case can be met by accessing Confluence via a mobile based browser, this version of Confluence that is served up lacks many of the navigational improvements contained within the Confluence Server Mobile app.",
      "summary": "Allow anonymous access when using the Confluence Server Mobile app"
    }
  },
  {
    "key": "CONFSERVER-58255",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-09T19:54:56.000+0000",
      "description": "h3. Summary\r\nSome processes (especially those used in companies that are agency regulated) require username/password to be entered when performing certain tasks, such as transitioning an issue through workflow. Some systems support this already (Seapine Test Track Pro comes to mind), and it would be nice if Confluence  did as well. Perhaps the solution could be adding a username/password type of field to workflow transitions.\r\n\r\nh3. Expected Results\r\nFDA Part 11 compliance\r\n\r\nh3. Actual Results\r\nConfluence is not compliant.\r\n\r\nh3. Notes\r\nFor the server environment there are various add-ons:\r\n # *Comalatech* using [Comala Workflows|https://marketplace.atlassian.com/plugins/com.comalatech.workflow/server/overview?_ga=2.159191992.305044981.1512995098-1827667113.1507731271] - [support contact|https://comalatech.zendesk.com/hc/en-us].\r\n # *AppFusion* also provides through the Atlassian marketplace the [CFR Part 11 E-Signatures (FDA Compliance) for Atlassian JIRA|https://www.appfusions.com/display/PRT11J/Home] that adds an e-signature JIRA field and audit reporting to your workflow.\r\n # *InLabs* also provides [Electronic Signature plugin|https://marketplace.atlassian.com/plugins/com.intenso.jira.plugins.cfr.electronic-signature/server/overview] to meet CFR Part 11.",
      "summary": "Support for electronic signatures"
    }
  },
  {
    "key": "CONFSERVER-58254",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-09T19:40:09.000+0000",
      "description": "h3. Summary\r\n\r\nIf a user is recreated with the same user name after being deleted in the past, it cannot create a personal space due to a space key conflict.\r\n\r\nh3. Steps to Reproduce\r\n# Create a user\r\n# Log in as that user an create a personal space\r\n# Delete that user account, this is the message we see in the UI\r\n !delete-user-warning-615.png|thumbnail! \r\n# Recreate the user with the same username as before\r\n# Log in with the user and try to create a personal space\r\n\r\nh3. Expected Results\r\n\r\nPersonal space is created as expected.\r\n\r\nh3. Actual Results\r\n\r\nThe space creation fails as the space key already exists:\r\n\r\n !failure-spacekeyexists.png|thumbnail! \r\n \r\nh3. Notes\r\n\r\nThis situation is happening on Confluence versions 6.13 and above and it is a result of some changes related to GDPR. As we can see in the quotes below, the personal space of a user is no longer deleted automatically when the user itself is deleted:\r\n\r\n{quote}\r\nDeleting a user account does not remove any pages, comments, or other Confluence content. We also don't delete their personal space, as this may contain content owned by your organization.\r\n\r\nThis means that there will be some additional work to do after their account has been deleted to remove their personal space, and locate any references to the person in free text, or stored by third party apps or Synchrony in the database.\r\n{quote}\r\n\r\nReferences:\r\n\r\n* [Confluence 6.13 Release Notes|https://confluence.atlassian.com/doc/confluence-6-13-release-notes-959288785.html]\r\n* [Personal spaces are not deleted|https://confluence.atlassian.com/doc/delete-or-disable-users-138318.html#DeleteorDisableUsers-Personalspacesarenotdeleted]\r\n\r\nThis is a big problem for organizations that need to manage large user bases and that constantly need to delete and re-add users. Also, the failure did not happen in versions earlier than 6.13 as the space was automatically deleted during the user removal process:\r\n\r\n !delete-user-warning-612.png|thumbnail! \r\n\r\nThe main problem is that the personal space key remains the same (*~<USERNAME>*). This is why the key conflict is returned when trying to create a new space.\r\n\r\nIn newer versions, any content authored by the user has its ownership changed to its userkey when it is deleted. If the same concept is applied to the personal space key, this problem would be avoided.\r\n\r\nh3. Workaround\r\n\r\n# Manually delete the personal space before deleting the user, or\r\n# Disable the user instead of deleting it if that is a possibility",
      "summary": "Deleted user cannot create a personal space after being recreated"
    }
  },
  {
    "key": "CONFSERVER-58253",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-13T03:00:47.000+0000",
      "created": "2019-05-09T19:01:28.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCurrently, we have the following documentation covering the specifics of Confluence Cookies: [https://confluence.atlassian.com/doc/confluence-cookies-160794071.html]\r\n\r\nWhile we include an example of how to configure a custom TTL (time to live) for a *{{seraph.confluence}}* cookie, we do not specify the default TTL if a value is not explicitly declared.\r\n\r\nThis varies between versions of Confluence. _*For versions up to Confluence 6.6, the default TTL is 1 year*_. _*Confluence 6.7+ contains a default TTL value of 2 weeks.*_ We should declare this in the docs as the example can mislead users to believe that the default is 30 days as denoted in the example code block.\r\nh3. Environment\r\n\r\nConfluence\r\n Seraph\r\nh3. Workaround\r\n\r\nRequired, if there is no workaround please state:\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Default value of Remember Me (Seraph) Cookie is not specified in the docs "
    }
  },
  {
    "key": "CONFSERVER-58251",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-09T13:52:56.000+0000",
      "description": "h4. Behavior\r\n\r\nWhen installing Confluence using the installer on Linux OS, it creates a new user in the system to run Confluence with. Each time the installer is executed on the same OS, a new user is created. Upgrading Confluence with the installer also produced the same behavior.\r\n\r\nBased on tests, Confluence created multiple Confluence users with the same name on the same OS. Depending on OS settings, we may see Confluence creating users and appending a number in front to differentiate them. EG: confluence, confluence1, confluence2, etc...\r\nh4. Environment tested\r\n * Confluence 6.15.3\r\n * Ubuntu 18.04.1\r\n\r\nh4. Recommended changes to installer process\r\n\r\nConfluence installer should ask if you want to create a new user or use the existing Confluence user in Linux OS when installing/upgrading Confluence.",
      "summary": "Installer creates multiple users in OS each time it is executed"
    }
  },
  {
    "key": "CONFSERVER-58250",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-09T13:45:13.000+0000",
      "description": "h3. Problem Definition\r\nWhen viewing the restrictions on an unrestricted page, you see the following dialogue at the top:\r\n\r\n{quote}No restrictions. Everyone can view and edit this page.{quote}\r\n\r\n !image-2019-05-09-15-38-44-627.png|thumbnail! \r\n\r\nThis would lead someone to believe that indeed, everyone on the instance has access to the page. However, it doesn't take into account any space permissions. Certain groups may have been restricted from the space, as well as individual users.\r\n\r\nThe subtext does clarify this, but making this more obvious in the page dialogue at the top.\r\n\r\nThe subtext: \r\n{quote}Need to limit who can see this?\r\n\r\nRight now everyone can view and edit this page if they've got the right space permissions. Use the dropdown above to restrict this page to only some people.\"{quote}\r\n\r\nh3. Suggested Solution\r\nClarify the dialogue at the top, for example:\r\n\r\n{quote}Everyone granted permissions to this space can view and edit the page.{quote}\r\n\r\n*Note:* Even if I restrict a specific user or group in space permissions from editing the page (but allowing view permissions), the dialogue does not change, and still says everyone can view and edit the page, so we may need a full rewrite.\r\n\r\nh3. Why this is important\r\nWhen Restrictions are easy understand right away, there are fewer doubts on what needs to be done in order to grant/restrict access to a page. Ambiguous dialogue can cause confusion.",
      "summary": "Page Permissions dialog doesn't take into account space permissions with its messaging"
    }
  },
  {
    "key": "CONFSERVER-58249",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-01T04:52:09.000+0000",
      "created": "2019-05-09T05:40:38.000+0000",
      "description": "h3. Summary\r\nPasting content using Ctrl-V in Edge breaks Page Editor and will no longer be able to perform any action on the page.\r\n\r\nAny actions made during the freeze (clicking the page) will result with a popup:\r\n\r\n\"Localhost is not responding due to a long-running script\"\r\n(If Confluence is hosted on localhost)\r\n\r\nh3. Steps to Reproduce\r\n# Have a page that contains a code block macro, and some texts\r\n#* Copy the code macro or\r\n#* Copy the text\r\n# put cursor below\r\n# Press Ctrl-V to paste\r\n\r\nh3. Expected Results\r\nContent selected get copied\r\n\r\nh3. Actual Results\r\nThe editor freezes and we can no longer edit the page nor save/close the page. \r\nWatch [^CONFSERVER-58249.mp4] for more info.\r\n\r\nh3. Notes\r\n* Issue observed on Edge\r\n* Issue observed on other macros as well:\r\n** NoFormat \r\n** Excerpt\r\n* Issue observed when copying images\r\n* Issue does not seem to exists when the page only contain texts\r\n\r\n\r\n\r\n",
      "summary": "Pasting content using Ctrl-V in Edge breaks Page Editor"
    }
  },
  {
    "key": "CONFSERVER-58248",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-30T05:37:33.000+0000",
      "created": "2019-05-09T05:28:31.000+0000",
      "description": "h3. Issue Summary\r\nContents with custom type is not returned in {{rest/api/content/search or CQLSearchService.searchContent()}}.\r\n\r\nh3. Steps to Reproduce\r\n# Create a custom content, for example content of type {{com.atlassian.confluence.plugins.confluence-questions:question}}\r\n# Using the REST API Browser call {{/rest/api/content/search}} and search for the content given the type, in this example {{cql=type%20in%20(%22com.atlassian.confluence.plugins.confluence-questions%3Aquestion%22)}}\r\n\r\nh3. Expected Results\r\nContent will be returned.\r\n\r\nh3. Actual Results\r\nContent cannot be found / not returned.\r\n\r\nh3. Notes\r\n* This is a bug as also custom content types are considered content and the behaviour is inconsistent (and not documented) between different end points. Also the only method on CQLSearchService that actually finds the custom content 'search' is marked @Internal and its usage is discouraged, so there should be a working encouraged alternative for finding the custom content items\r\n\r\nh3. Workaround\r\n* Using {{/rest/api/search}} or CQLSearchService.search() returns the custom content",
      "summary": "Custom content not available in rest/api/content/search or CQLSearchService.searchContent()"
    }
  },
  {
    "key": "CONFSERVER-58246",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-10T22:29:57.000+0000",
      "created": "2019-05-08T20:10:51.000+0000",
      "description": "h3. Summary\r\nConnections to Synchrony fail when Confluence is running via official docker image, behind a reverse proxy, using the internal Synchrony proxy. This is due to an empty string value for confluence.context.path\r\n\r\nh3. Environment\r\n* Reverse proxy (with no Synchrony endpoint)\r\n* Internal synchrony proxy enabled\r\n* atlassian/confluence-server docker image\r\n\r\nh3. Steps to Reproduce\r\n# Save the following docker-compose.yml file:\r\n{code:borderStyle=solid}\r\nversion: '3.6'\r\nservices:\r\n  proxy:\r\n    image: outrigger/https-proxy:1.0\r\n    ports:\r\n      - \"443:443\"\r\n    environment:\r\n      UPSTREAM_DOMAIN: confluence\r\n      UPSTREAM_PORT: 8090\r\n      PROXY_DOMAIN: localhost\r\n      RATE_LIMIT: 0\r\n  confluence:\r\n    ports:\r\n      - \"8090:8090\"\r\n      - \"8091:8091\"\r\n    image: aacdf7d27208\r\n    volumes:\r\n      - confluence:/var/atlassian/application-data/confluence\r\n    environment:\r\n      CATALINA_CONTEXT_PATH: /conf\r\n      CATALINA_CONNECTOR_PROXYNAME: localhost\r\n      CATALINA_CONNECTOR_PROXYPORT: 443\r\n      CATALINA_CONNECTOR_SCHEME: https\r\n      CATALINA_CONNECTOR_SECURE: \"true\"\r\nvolumes:\r\n  confluence:\r\n{code}\r\n# Bring up the docker containers using:\r\n{code:borderStyle=solid}\r\ndocker-compose up\r\n{code}\r\n# Once past the setup wizard attempt to create a page (this is the last step of the setup wizard)\r\n\r\nh3. Expected Results\r\nYou can add text to the page and see that changes are being save by Synchrony\r\n\r\nh3. Actual Results\r\nh4. When editing the page\r\nPages cannot be saved. \r\n\r\nThe following error appears in a pop-up:\r\n\"Something went wrong after loading the editor. Copy your unsaved changes and refresh the page to keep editing.\"\r\n\r\nThe bottom right status states \"Can't save changes\". \r\nh4. In System Information\r\nThe confluence.context.path entry is empty, when it should show the context path as set in Tomcat\r\n\r\nh3. Notes\r\nConfluence sets confluence.context.path via a JVM argument. See <confluence-install>/bin/setenv.sh:\r\n{code:borderStyle=solid}\r\nCATALINA_OPTS=\"-Dconfluence.context.path=${CONFLUENCE_CONTEXT_PATH} ${CATALINA_OPTS}\"\r\n{code}\r\n\r\nThe ${CONFLUENCE_CONTEXT_PATH} is set in <confluence-install>/bin/setenv.sh via the following:\r\n{code:borderStyle=solid}\r\nCONFLUENCE_CONTEXT_PATH=`$JRE_HOME/bin/java -jar $CATALINA_HOME/bin/confluence-context-path-extractor.jar $CATALINA_HOME`\r\nexport CONFLUENCE_CONTEXT_PATH\r\n{code}\r\n\r\nIn a normal server install of Confluence, if you find the CONFLUENCE_CONTEXT_PATH entry in System Information it will be the text entered as configured in <confluence-install>/conf/server.xml (in this case it would be /conf). \r\n\r\n !server.png|thumbnail! \r\n\r\nIn the docker image, we set the <context path=\"\"> to use a variable (from the Confluence Dockerfile):\r\n{code:borderStyle=solid}\r\n&& sed -i -e 's/Context path=\"\"/Context path=\"${catalinaContextPath}\"/' ${CONFLUENCE_INSTALL_DIR}/conf/server.xml\r\n{code}\r\n\r\nentrypoint.sh sets catalinaContextPath as shown:\r\n{code:borderStyle=solid}\r\nCATALINA_OPTS=\"${CATALINA_OPTS} -DcatalinaContextPath=${CATALINA_CONTEXT_PATH}\"\r\n{code}\r\n\r\nWhen we look at System Information for the docker image, instead of plain text it will shown the variable name:\r\n\r\n !docker.png|thumbnail! \r\n\r\nThe confluence-context-path-extractor.jar parses the context path from <confluence-install>/conf/server.xml as shown:\r\n{code:borderStyle=solid}\r\npublic class ContextPathExtractor {\r\n    public static void main(String[] args) {\r\n        final String catalinaHome = args[0];\r\n        File serverXmlFile = new File(catalinaHome + File.separator + \"conf\" + File.separator + \"server.xml\");\r\n        String confluenceContextPath = getAttributeFromXmlFile(serverXmlFile, \"path\", \"//Context[@path]\").orElse(\"\");\r\n        System.out.print(confluenceContextPath);\r\n    }\r\n}\r\n{code}\r\n\r\nIt appears that when confluence-context-path-extractor.jar attempts to pass the context path it fails. The orElse method then returns an empty string. \r\n\r\nh3. Workaround\r\nThere are two options to workaround this:\r\n* Configure the proxy to handle connections to synchrony instead of using the internal synchrony-proxy\r\n* Add an environment variable in the docker create/compose that sets catalinaContextPath, \r\n** docker-compose example:\r\n{code:borderStyle=solid}\r\nversion: '3.6'\r\nservices:\r\n  proxy:\r\n    image: outrigger/https-proxy:1.0\r\n    ports:\r\n      - \"443:443\"\r\n    environment:\r\n      UPSTREAM_DOMAIN: confluence\r\n      UPSTREAM_PORT: 8090\r\n      PROXY_DOMAIN: localhost\r\n      RATE_LIMIT: 0\r\n  confluence:\r\n    ports:\r\n      - \"8090:8090\"\r\n      - \"8091:8091\"\r\n    image: aacdf7d27208\r\n    volumes:\r\n      - confluence:/var/atlassian/application-data/confluence\r\n    environment:\r\n      CATALINA_CONTEXT_PATH: /conf\r\n      CATALINA_CONNECTOR_PROXYNAME: localhost\r\n      CATALINA_CONNECTOR_PROXYPORT: 443\r\n      CATALINA_CONNECTOR_SCHEME: https\r\n      CATALINA_CONNECTOR_SECURE: \"true\"\r\n      catalinaContextPath: /conf\r\nvolumes:\r\n  confluence:\r\n{code}\r\n** docker run example:\r\n{code:borderStyle=solid}\r\ndocker run --name confluence -d \\\r\n-p 8090:8090 \\\r\n-p 8091:8091  \\\r\n-e CATALINA_CONTEXT_PATH=/conf \\\r\n-e CATALINA_CONNECTOR_PROXYNAME=localhost \\\r\n-e CATALINA_CONNECTOR_PROXYPORT=443 \\\r\n-e CATALINA_CONNECTOR_SCHEME=https \\\r\n-e CATALINA_CONNECTOR_SECURE=true \\\r\n-e CATALINA_CONTEXT_PATH=/conf \\\r\n-e catalinaContextPath=/conf \\\r\n-v confluence:/var/atlassian/application-data/confluence \\\r\natlassian/confluence-server:6.15.2-ubuntu-18.04-adoptopenjdk8\r\n{code}",
      "summary": "Editing pages in Confluence fails in Docker running behind reverse proxy with context path"
    }
  },
  {
    "key": "CONFSERVER-58245",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-08T19:43:14.000+0000",
      "description": "I'm not sure if I am filing this issue in the correct category...\r\n\r\nI tried to find documentation about forking a repository on BitBucket, and the link on google as well as searching for it gives me an error page, e.g. at\r\n\r\n[https://confluence.atlassian.com/search/?query=fork]\r\n\r\nI found out how to do it after a while, bit it would be good if this could easily be found...\r\n\r\nCheers,\r\n\u00a0- Tom Dietel.\r\n\r\n\u00a0",
      "summary": "Link to Bitbucket fork documentation broken "
    }
  },
  {
    "key": "CONFSERVER-58244",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-08T16:26:02.000+0000",
      "description": "h3. Summary\r\n\r\nAny custom HTML inserted in \"At end of the BODY\" will cause double Atlassian logos\r\n\r\nh3. Environment\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Go to the *Custom HTML* page.\r\n# Insert the following break tag in \"At end of the BODY\"\r\n{code}\r\n<br>\r\n{code}\r\n# Save the changes.\r\n# Scroll down the page.\r\n\r\nh3. Expected Results\r\nOnly one single logo will be displayed\r\n\r\nh3. Actual Results\r\nDouble \"Atlassian\" logo\r\n \r\nh3. Notes\r\nThis wasn't a problem with Confluence 6.8 and lower.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Custom HTML causing duplicate logo"
    }
  },
  {
    "key": "CONFSERVER-58243",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-08T07:51:25.000+0000",
      "description": "h3. Problem Definition\r\nIf space name is too long, the name doesn't fit in the drop down list of search result in copy page dialog.\r\ne.g. Suppose there are two spaces with following names\r\n* longlonglonglonglonglonglonglonglonglongspacename\r\n* longlonglonglonglonglonglonglonglonglongspacename2\r\n !Screen Shot 2019-05-08 at 16.40.11.png|thumbnail! \r\n\r\nThen copy page dialog looks as above and user cannot distinguish the spaces.\r\n\r\n\r\n\r\nh3. Suggested Solution\r\nWrap the space name inside the dropdown or add extra element to tell full name of the space.\r\n\r\n\r\nh3. Workaround\r\nShorten the space name with [How to copy or rename a space in Confluence|https://confluence.atlassian.com/confkb/how-to-copy-or-rename-a-space-in-confluence-169578.html] or visit the link in another browser tab and confirm space content.\r\n\r\n",
      "summary": "Long space name should be distinguishable in copy page dialog"
    }
  },
  {
    "key": "CONFSERVER-58241",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-08T02:07:03.000+0000",
      "description": "h3. Summary\r\nCustomers not able to raise the support ticket via *Troubleshooting and support tools* > *Get Help* > *Create support request* when the technical contact email does not match the mail server configure account.\r\n\r\nh3. Steps to reproduce\r\n# Configure office 365 [smtp mail server|https://confluence.atlassian.com/doc/configuring-a-server-for-outgoing-mail-151078.html]\r\n{code:title=JNDI}\r\n<Resource name=\"mail/O365SMTPServer\"\r\n    auth=\"Container\"\r\n    type=\"javax.mail.Session\"\r\n    mail.smtp.host=\"smtp.office365.com\"\r\n    mail.smtp.port=\"587\"\r\n    mail.smtp.auth=\"true\"\r\n    mail.smtp.user=\"sender@atlassian.com\"\r\n    password=\"******\"\r\n    mail.smtp.starttls.enable=\"true\"\r\n    mail.transport.protocol=\"smtps\"\r\n    mail.smtp.socketFactory.class=\"javax.net.ssl.SSLSocketFactory\"\r\n    mail.debug=\"true\"\r\n/>\r\n{code}\r\n# Raise the support via *Troubleshooting and support tools* > *Get Help* > *Create support request*\r\n# In *Contact email*, enter email address other than \"sender@atlassian.com\"\r\n\r\nh3. Actual Result\r\nError message in UI and the following error in the log:\r\n{code}\r\n554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:08120000, 17.43559:0000000004020000000000000100000000000000, 20.52176:140F4087000010100300170E, 20.50032:140F4087701710100A00AB80, 0.35180:E7020000, 255.23226:0A008440, 255.27962:0A000000, 255.27962:0E000000, 255.31418:0A000000, 16.55847:FA000000, 17.43559:00000000E0020000000000000000000000000000, 20.52176:140F40870000101036000000, 20.50032:140F4087701710103B000000, 0.35180:1F000737, 255.23226:56000000, 255.27962:0A000000, 255.27962:32000000, 255.17082:DC040000, 0.27745:B2000000, 4.21921:DC040000, 255.27962:FA000000, 255.1494:1F000E37, 0.38698:00000000, 0.37692:09000100, 0.37948:D7BED771, 5.33852:00000000534D545000000100, 4.56248:DC040000, 7.40748:01000000000020E230303A53, 7.57132:00000000000000003A356337, 1.63016:32000000, 4.39640:DC040000, 8.45434:94DAD7A1C763B8449685CD653734097A3A356337, 5.10786:0000000031352E32302E313835362E3030303A535941505230314D42323237303A35633738633465312D383932362D346561372D383636392D34653765313531383135643900000000000000, 255.1750:0A001B37, 255.31418:EF010000, 0.22753:40000830, 255.21817:DC040000, 4.60547:DC040000, 0.21966:FD010000, 4.30158:DC040000 [Hostname=SYAPR01MB2270.ausprd01.prod.outlook.com]\r\nDEBUG SMTP: got response code 554, with response: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:08120000, 17.43559:0000000004020000000000000100000000000000, 20.52176:140F4087000010100300170E, 20.50032:140F4087701710100A00AB80, 0.35180:E7020000, 255.23226:0A008440, 255.27962:0A000000, 255.27962:0E000000, 255.31418:0A000000, 16.55847:FA000000, 17.43559:00000000E0020000000000000000000000000000, 20.52176:140F40870000101036000000, 20.50032:140F4087701710103B000000, 0.35180:1F000737, 255.23226:56000000, 255.27962:0A000000, 255.27962:32000000, 255.17082:DC040000, 0.27745:B2000000, 4.21921:DC040000, 255.27962:FA000000, 255.1494:1F000E37, 0.38698:00000000, 0.37692:09000100, 0.37948:D7BED771, 5.33852:00000000534D545000000100, 4.56248:DC040000, 7.40748:01000000000020E230303A53, 7.57132:00000000000000003A356337, 1.63016:32000000, 4.39640:DC040000, 8.45434:94DAD7A1C763B8449685CD653734097A3A356337, 5.10786:0000000031352E32302E313835362E3030303A535941505230314D42323237303A35633738633465312D383932362D346561372D383636392D34653765313531383135643900000000000000, 255.1750:0A001B37, 255.31418:EF010000, 0.22753:40000830, 255.21817:DC040000, 4.60547:DC040000, 0.21966:FD010000, 4.30158:DC040000 [Hostname=SYAPR01MB2270.ausprd01.prod.outlook.com]\r\n\r\nRSET\r\n250 2.0.0 Resetting\r\nDEBUG SMTP: MessagingException while sending\r\ncom.sun.mail.smtp.SMTPSendFailedException: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:08120000, 17.43559:0000000004020000000000000100000000000000, 20.52176:140F4087000010100300170E, 20.50032:140F4087701710100A00AB80, 0.35180:E7020000, 255.23226:0A008440, 255.27962:0A000000, 255.27962:0E000000, 255.31418:0A000000, 16.55847:FA000000, 17.43559:00000000E0020000000000000000000000000000, 20.52176:140F40870000101036000000, 20.50032:140F4087701710103B000000, 0.35180:1F000737, 255.23226:56000000, 255.27962:0A000000, 255.27962:32000000, 255.17082:DC040000, 0.27745:B2000000, 4.21921:DC040000, 255.27962:FA000000, 255.1494:1F000E37, 0.38698:00000000, 0.37692:09000100, 0.37948:D7BED771, 5.33852:00000000534D545000000100, 4.56248:DC040000, 7.40748:01000000000020E230303A53, 7.57132:00000000000000003A356337, 1.63016:32000000, 4.39640:DC040000, 8.45434:94DAD7A1C763B8449685CD653734097A3A356337, 5.10786:0000000031352E32302E313835362E3030303A535941505230314D42323237303A35633738633465312D383932362D346561372D383636392D34653765313531383135643900000000000000, 255.1750:0A001B37, 255.31418:EF010000, 0.22753:40000830, 255.21817:DC040000, 4.60547:DC040000, 0.21966:FD010000, 4.30158:DC040000 [Hostname=SYAPR01MB2270.ausprd01.prod.outlook.com]\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2114)\r\n\tat com.sun.mail.smtp.SMTPTransport.finishData(SMTPTransport.java:1900)\r\n\tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1122)\r\n\tat com.atlassian.confluence.jmx.JmxSMTPMailServer.doSendWithMessageIdSupport(JmxSMTPMailServer.java:104)\r\n\tat com.atlassian.confluence.jmx.JmxSMTPMailServer.send(JmxSMTPMailServer.java:79)\r\n\tat com.atlassian.troubleshooting.stp.salext.mail.AbstractSupportMailQueueItem.send(AbstractSupportMailQueueItem.java:39)\r\n\tat com.atlassian.troubleshooting.stp.salext.mail.SupportRequestMailQueueItem.send(SupportRequestMailQueueItem.java:83)\r\n\tat com.atlassian.troubleshooting.stp.salext.mail.AbstractMailUtility.sendSupportRequestEmail(AbstractMailUtility.java:88)\r\n\tat com.atlassian.troubleshooting.stp.salext.mail.AbstractMailUtility.sendSupportRequestMail(AbstractMailUtility.java:54)\r\n\tat com.atlassian.troubleshooting.stp.request.CreateSupportRequestTask.createSupportRequest(CreateSupportRequestTask.java:90)\r\n\tat com.atlassian.troubleshooting.stp.request.CreateSupportRequestTask.lambda$call$0(CreateSupportRequestTask.java:71)\r\n\tat com.atlassian.troubleshooting.stp.request.CreateSupportRequestTask.call(CreateSupportRequestTask.java:73)\r\n\tat com.atlassian.troubleshooting.stp.request.CreateSupportRequestTask.call(CreateSupportRequestTask.java:35)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nQUIT\r\n221 2.0.0 Service closing transmission channel\r\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\r\nDEBUG SMTP: useEhlo true, useAuth true\r\nDEBUG SMTP: useEhlo true, useAuth true\r\nDEBUG SMTP: trying to connect to host \"smtp.office365.com\", port 587, isSSL false\r\n220 SYBPR01CA0013.outlook.office365.com Microsoft ESMTP MAIL Service ready at Tue, 7 May 2019 08:42:01 +0000\r\nDEBUG SMTP: connected to host \"smtp.office365.com\", port: 587\r\n{code}\r\n\r\nh3. Expected Result\r\nA support ticket should be raised without any problem\r\n\r\nh3. Note\r\n* Performed the same test with *smtp.gmail.com*, everything works as expected\r\n\r\nh3. Workaround\r\n* Raise a ticket via https://getsupport.atlassian.com",
      "summary": "Contact email must match the configured mail account when using Office 365 mail server to create support request"
    }
  },
  {
    "key": "CONFSERVER-58240",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-22T01:08:23.000+0000",
      "created": "2019-05-07T21:31:00.000+0000",
      "description": "h3. Issue Summary\r\nAfter installing docker image [atlassian/confluence-server:6.15.2-alpine|https://bitbucket.org/atlassian-docker/docker-atlassian-confluence-server/src/6.15.2-alpine/Dockerfile], Confluence displays an error message indicating a failure with font configuration.\r\n\r\nh3. Environment\r\n\r\nConfluence 6.15.2 created from docker image\r\nh3. Steps to Reproduce\r\n * Install docker image [atlassian/confluence-server:6.15.2-alpine|https://bitbucket.org/atlassian-docker/docker-atlassian-confluence-server/src/6.15.2-alpine/Dockerfile]\r\n\r\nh3. Expected Results\r\n\r\nSince the docker image contain a work around for this issue, we'd expect not to see the fontconfiguration error:\r\n{code:java}\r\n# Workaround for AdoptOpenJDK fontconfig bug\r\nRUN ln -s /lib/libc.musl-x86_64.so.1 /usr/lib/libc.musl-x86_64.so.1\r\nENV LD_LIBRARY_PATH /usr/lib\r\n{code}\r\nh3. Actual Results\r\n\r\nOnce installed, Confluence displays a popup indicating a fontconfiguration failure error and displays the same issue within the instance health checks.\r\nh3. Workaround\r\n\r\nUse the Ubuntu distribution of {{atlassian/confluence-server}}, e.g. [atlassian/confluence-server:6.15.2|https://bitbucket.org/atlassian-docker/docker-atlassian-confluence-server/src/6.15.2/Dockerfile]",
      "summary": "Font configuration workaround in Confluence docker image atlassian/confluence-server:6.15.2-alpine still results in fontconfiguration failure"
    }
  },
  {
    "key": "CONFSERVER-58239",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-07T18:04:11.000+0000",
      "description": "Maybe this exists, but an easy way in the Admin page to see if you're running the current version (given the vulnerability issues), or need to upgrade the server.",
      "summary": "Make it easier to figure out if there's an upgrade"
    }
  },
  {
    "key": "CONFSERVER-58238",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-07T15:15:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen clicking the App Switcher in Confluence (Application Navigator), the links don't come up and we receive an error message instead.\r\n\r\n !appswitcher-fail.png|thumbnail! \r\n\r\nh3. Environment\r\n - Confluence 6.13+\r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence 6.13.0 or later;\r\n # Go to *Administration > Application Navigator*;\r\n # Add a new link;\r\n ** If you have an Application Link configured (e.g. Jira), it will automatically add a new line.\r\n ** If there's no Application Link, anything works, like Name: \"Google\" - URL: \"https://google.com\";\r\n # Reload the page and click the App switcher (top right corner) button to confirm it's working;\r\n # Log out and click the App switcher again.\r\n\r\nh3. Expected Results\r\n\r\nThe links appear just fine.\r\nh3. Actual Results\r\n\r\nThe popup only shows \"Something went wrong, please try again.\"\r\n\r\nNothing appears in the application logs, but browser network console reveals a 401 response if we click the \"Try again\" link:\r\n{noformat}\r\nRequest URL: http://localhost:8090/confluence/rest/menu/latest/appswitcher?_=1557241377796\r\nRequest Method: GET\r\nStatus Code: 401 \r\n{noformat}\r\nh3. Workaround\r\n\r\nEnabling *Anonymous access* in Global Permissions is a possible workaround, since this is caused by an unauthorized request. As long as the spaces don't allow Anonymous access, no content will be visible.",
      "summary": "Application Navigator button doesn't work if the user is not authenticated"
    }
  },
  {
    "key": "CONFSERVER-58235",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-07T05:14:42.000+0000",
      "description": "h3. Issue Summary\r\nThe {{Update All}} plugin feature will update all the plugin even the plugin is changed from free to the paid version. According to documentation, a plugin that changed from free to paid is not eligible for the update.\r\n{quote}\r\nOnly apps that are eligible will be updated. Apps may not be eligible because:\r\n\r\n    the app was free, but has changed to paid\r\n    your current app license doesn't allow upgrades to that particular version. \r\n{quote}\r\n(i) [Updating apps|https://confluence.atlassian.com/upm/updating-apps-273875710.html]\r\n\r\n\r\nh3. Steps to Reproduce\r\n # Download an old version of the plugin that is free (e.g SU for Confluence).\r\n# Go to Manage apps >> Action required >> Click Update All\r\n# The plugin is being updated and request for a license.\r\n\r\nh3. Expected Results\r\nThe plugin will not be updated due to it was changed from free to paid\r\n\r\nh3. Actual Results\r\nThe plugin is updated.\r\n\r\n",
      "summary": "Update all plugin feature update plugin that was free, but has changed to paid."
    }
  },
  {
    "key": "CONFSERVER-58234",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-06T22:45:23.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, the Team Calendar release notes do not include the supported Confluence versions range. This was a problem for a customer with TC version 6.0.16 which states that \"Team Calendars 6.0.16 contains performance improvements that require Confluence 5.8.2 or higher.\u201d But this particular version of 6.0.16 only supports Confluence until 6.10.2, but the customer was working with Confluence version 6.15.2.\r\n\r\nh3. Suggested Solution\r\nIt would be nice to indicate the range of Confluence versions supported in the TC release notes for customers who refer to release notes for upgrading apps. \r\n \r\nh3. Workaround\r\nThis range is indicated in the Marketplace link under the [Versions|https://marketplace.atlassian.com/apps/72307/team-calendars-for-confluence/version-history] tab.\r\n",
      "summary": "Include versions supported for Team Calendar in their release notes"
    }
  },
  {
    "key": "CONFSERVER-58233",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-06T18:25:37.000+0000",
      "description": "h3. Problem Definition\r\nPage restrictions are currently viewable to users with only view rights as well as users who do not have the rights to edit page permissions within a space. This poses a security risk as it can reveal sensitive information regarding who has access to certain content.\r\n\r\nh3. Suggested Solution\r\nProvide options to hide the access list on a restricted page from users who do not have the [Restrictions space permission|https://confluence.atlassian.com/doc/space-permissions-overview-139521.html].",
      "summary": "Option to hide page restriction dialogue box from users who do not have the Restrictions space permission"
    }
  },
  {
    "key": "CONFSERVER-58232",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-06T17:51:00.000+0000",
      "description": "When searching for partial user's usernames, first names, last names or email addresses, the People Directory randomly returns or misses results.\r\n\r\nExample userbase:\r\n* Ashley Young\r\n* Donald Donner\r\n* Ronald Ronner\r\n* Will Santos\r\n* William Perez\r\n* Abcde Abcdf\r\n* Abcdj Abcdk\r\n\r\nSearch results:\r\n# \"Ash\" = does not return _Ashley Young_.\r\n# \"Ash*\" = does return _Ashley Young_.\r\n# \"Don\" = does return _Donald Donner_.\r\n# \"Don*\" = does return _Donald Donner_.\r\n# \"Donn\" = does not return _Donald Donner_.\r\n# \"Ron\" = does not return _Ronald Ronner_.\r\n# \"Ron*\" = does return _Ronald Ronner_.\r\n# \"Will\" = does not return anything.\r\n# \"Will*\" = returns _William Perez_, but not _Will Santos_.\r\n# \"Will Santos\" = returns _Will Santos_.\r\n# \"Abcd\" = does not return either _Abcde Abcdf_ or _Abcdj Abcdk_.\r\n# \"Abcd*\" =  does return _Abcde Abcdf_ and _Abcdj Abcdk_.\r\n\r\nThe inconsistency is mainly when we search for partial user names (i.e. \"Don\" vs. \"Ron\").",
      "summary": "Inconsistent results in the People Directory search tool"
    }
  },
  {
    "key": "CONFSERVER-58231",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-06T13:51:18.000+0000",
      "description": "Currently, we can only disable the password prompt for both Space and Confluence administration.\r\n\r\n\u00a0{quote}\r\nConfluence protects access to its administrative functions by requiring a secure administration session to use the Confluence administration console or administer a space. \r\n{quote}\r\n\r\n[Configuring Secure Administrator Sessions|https://confluence.atlassian.com/doc/configuring-secure-administrator-sessions-218269595.html]\r\n\r\nIf will be nice if we could disable the password prompt when the admin accessing Space.\r\n",
      "summary": "Disable space admin password prompt"
    }
  },
  {
    "key": "CONFSERVER-58230",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-03T17:36:28.000+0000",
      "description": "h3. Problem Definition\r\nA Space can have one too many decisions under Meeting notes templates or normal pages, for example. \r\nThere is no easy way to keep track of decisions created within the instance.\r\n\r\nh3. Suggested Solution\r\nCreate a Decision Report Macro, akin to the Task Report Macro.\r\n\r\nh3. Why is this important\r\nThere is no easy or \"correct\" way of keeping track of all (or a select few) decisions in my instance.\r\n\r\nh3. Workaround\r\nNone",
      "summary": "Create a Decisions Report Macro"
    }
  },
  {
    "key": "CONFSERVER-58229",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-06T04:19:23.000+0000",
      "created": "2019-05-03T13:51:51.000+0000",
      "description": "h3. Issue Summary\r\nWhen adding a link to a Confluence page with  special characters in its name (such as accented characters), after saving the page, the link changes to an undefined page with the same name.\r\n\r\nWhen querying the database for the linked page, two pages with the same 'title', but different 'lowertitle' show up. One of them is the actual page, the other is the incorrectly created draft from the undefined page link. \r\n\r\nThis only seems to happen when the existing page already has an incorrect conversion of an accented character on the 'content' table, from upper to lowercase (the new draft has a correct 'lowertitle' conversion). This could be due to an instance migration, database update/migration, or similar operations - ultimately, this is the actual cause of the issue, but the problem may not become apparent until a link to the problematic page is created.\r\n\r\nThis can be checked with the following query:\r\n{code:sql}\r\nselect * \r\nfrom content \r\nwhere lower(title) <> lowertitle\r\norder by \"version\",title\r\n{code}\r\n\r\nh3. Environment\r\nIssue is reproducible on PostgreSQL 9.6.12\r\n\r\nh3. Steps to Reproduce\r\n # Find a page that has an incorrect lowercase title on the database, due to a special character on its title (using the above query, for example)\r\n# On any page, create a link to the problematic page\r\n# Save the page\r\n\r\nh3. Expected Results\r\nThe link keeps pointing at the chosen page, after saving the page.\r\n\r\nh3. Actual Results\r\nThe link changes to an undefined page link instead. Checking the database with the above example query, there are now two different pages with the same title, but different lowercase title.\r\n\r\nh3. Workaround\r\nSince the problem is caused by an existing incorrect conversion of a page title to lowercase, on the database, this can be fixed by deleting the undefined page from the database, and then manually fixing the page's 'lowertitle' field as well:\r\n{code:sql}\r\nupdate content set lowertitle = LOWER(title)\r\nwhere lower(title) <> lowertitle\r\n{code}",
      "summary": "Special characters on page names can cause incorrect links to undefined pages due to existing database issues"
    }
  },
  {
    "key": "CONFSERVER-58228",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-03T13:50:30.000+0000",
      "description": "If I look at a Confluence article, it says 'Created by So-and-so at whatever-time.' If I look at the article's Page Description, it lists 'So-and-so' as the author of the page.\r\n\r\nOne use case where this is problematic is migrating data from other systems. If Mr. So-and-so is tasked with getting pages from the old system in to Confluence, *they do not become the author of the work they are reproducing.* As such, they require the ability to assign authorship. They can remain the page's creator because they created the page, but they did not author the work in that page.\r\n # The creator of a migrated page is not necessarily the author (you do not become the author of something when you reproduce it -- ask a copyright lawyer)\r\n # The owner of a page is not necessarily the author (the author could've left the company, but they're still the author)\r\n\r\nSo all of these concepts need to be clearly separated. Making creator/author the same by default will maintain the current behaviour. Adding the ability to assign an author will cover use cases where someone is tasked with migrating existing data into Confluence. Such a function should have associated permissions controls so that it is available to trusted members of a team.\r\n\r\nThere are various workarounds such as directly changing the database or using a macro to contradict what Confluence is telling you, but Confluence's job is document management. Having to do unsupported things to the db or having to jury rig a solution to track the most basic meta-data associated with a document makes me want to say words that would be counter-productive. So I'll leave it there.\r\n\r\nThank you for your time and consideration,",
      "summary": "Separate concepts of Creator and Author (and owner)"
    }
  },
  {
    "key": "CONFSERVER-58227",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-03T09:11:09.000+0000",
      "description": "*Background*\r\nAtlassian Applications such as Jira and Confluence implements _pagination_ as a user interface design feature. The purpose behind pagination is also to improve on Performance whereby loading of items are limited.\r\n\r\n*Suggestion*\r\nMost modern graphical user interfaces are using _Built-in Interactive Search_ which can be a better way instead of _pagination_. A search function would be able to return accurate results quicker instead of having the person to click on pages based on \"guesses\" on where the items are. \r\n\r\nIf _pagination_ is still the way to go, then at least implement a global setting which defines the maximum number of entries one sees per page.\r\n\r\nP.S: This might be a good source of reading, https://www.nngroup.com/articles/item-list-view-all/\r\n",
      "summary": "Built-in Interactive Search instead of Pagination"
    }
  },
  {
    "key": "CONFSERVER-58226",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-06T23:07:06.000+0000",
      "created": "2018-01-02T05:42:48.000+0000",
      "description": "+To Reproduce+\r\n # schedule an event to repeat every three months\r\n # invite a team mate\r\n # check the team mates inbox\r\n\r\n+Expected Behaviour+\r\n\r\nthe email notification's grammar is formed correctly\r\n\r\n\u00a0\r\n\r\n+Actual Behaviour+\r\n\r\n\"*This event repeats every 3 months on* <blank>\"",
      "summary": "Blank space on event frequency notification email"
    }
  },
  {
    "key": "CONFSERVER-58225",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-02-03T00:22:02.000+0000",
      "created": "2019-05-03T00:36:16.000+0000",
      "description": null,
      "summary": "Companion App has severely downgraded our file update efficiency"
    }
  },
  {
    "key": "CONFSERVER-58224",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-02T21:32:07.000+0000",
      "description": "h3. Issue Summary\r\nWhen creating Shared Links by using an address without valid certification (such as an internal URL for example), the creation fails.\r\n\r\n\r\nh3. Steps to Reproduce\r\n # Create a Shared Link through the Share a Link blueprint\r\n # Insert a link to a page that doesn't have valid certification\r\n\r\n\r\nh3. Expected Results\r\nThe link would be created as normal. \r\n\r\nh3. Actual Results\r\nAn error message is displayed: \"We can't create that Blueprint right now\".\r\n\r\nThe below exception is thrown in the {{atlassian-confluence.log}} file:\r\n{noformat}\r\nERROR [https-jsse-nio2-443-exec-22] [plugins.sharelinks.metaextractor.MasterLinkMetaDataExtractor] getHeadHtmlData Error with io exception: \r\n -- referer: https://<confluence-url>/plugins/sharelinksbookmarklet/bookmarklet.action?bookmarkedURL=<redacted> | url: /rest/create-dialog/1.0/content-blueprint/create-content | traceId: 5d20c46634ead5dc | userName: <redacted>\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n{noformat}\r\nh3. Notes\r\nWhitelist features have no effect on this - this doesn't work with Whitelist turned off, and also doesn't work even if the link is explicitly enabled in the Whitelist.\r\n\r\nProxies also have no effect on this behavior.\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Certification issue when creating Shared Links"
    }
  },
  {
    "key": "CONFSERVER-58223",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-02T19:25:56.000+0000",
      "description": "Created on behalf of a customer from a Community post:\r\n\r\n[https://community.atlassian.com/t5/Questions-for-Confluence/Is-it-possible-to-get-the-notifications-bar-similar-to-what/qaq-p/1064972]\r\n\r\n{color:#172b4d}Add the ability to use the REST API to see when a user last visited a Question/Answer or provided an answer. \r\n{color}",
      "summary": "Extend Confluence Question REST API"
    }
  },
  {
    "key": "CONFSERVER-58222",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-02T19:18:03.000+0000",
      "description": "Created on behalf of the customer from Community Support post:\r\n\r\n[https://community.atlassian.com/t5/Questions-for-Confluence/Is-it-possible-to-get-the-notifications-bar-similar-to-what/qaq-p/1064972]\r\n\r\n\u00a0\r\n\r\ne.g. this on StackOverflow:\r\n\r\n!https://community.atlassian.com/t5/image/serverpage/image-id/52307iFB04C80CF1507F6F/image-size/large?v=1.0&px=999!\r\n\r\nThis shows change in reputation points, and any of my questions that have new answers/comments or answers that have new comments.\r\n\r\nWe're trialling CQ and I feel that this is a vital ingredient that is missing that will stop our usage from gaining the critical mass to be a success.\r\n\r\nWithout this, users have to hunt around for these things, which a lot of users won't do.\u00a0 They also won't read the notification e-mails as our company already drowns in automated e-mails!",
      "summary": "Is it possible to get the notifications bar similar to what StackOverflow has?"
    }
  },
  {
    "key": "CONFSERVER-58221",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-02T19:18:02.000+0000",
      "description": "h3. Problem Definition\r\nWhen users access a page within a restricted Space, they will receive a _Page Not Found_ response although the page exists.\r\nAlso, there's no way to request access to the target Space directly from the application similar to what we have for [restricted pages|https://confluence.atlassian.com/doc/page-restrictions-139414.html].\r\n\r\nLet's say we have the following scenario in Confluence:\r\n# Have a regular Confluence installation.\r\n# Create a regular user; let's call it _User001_.\r\n# Create a Space (let's call it _SP1_) and make sure _User001_ doesn't have [_View_ permission|https://confluence.atlassian.com/doc/space-permissions-overview-139521.html] to it.\r\n# Create an unrestricted page in _SP1_ -- let's call it _Page001_.\r\n\r\nIf someone shares the _Page001_'s link with _User001_, the following page is presented in the UI:\r\n !page_img001.png|thumbnail! \r\n\r\nIn this case, _User001_ has no information on who to contact to get access to the page.\r\nAlso, the information can be misleading, since the focus is on the large _Page Not Found_ message instead of _The page exists, but you don't have view permission for that space_.\r\n\r\nh3. Suggested Solution\r\nWhen the page exists, but the current user doesn't have access to the Space, Confluence should return a more meaningful message to the user instead of focusing on _Page Not Found_.\r\nAlso, there *must* be a mechanism on which the user can request access to the Space, similar to what already exists to restricted pages, which sends an e-mail (or in-app message) to the Space administrator(s).\r\n\r\nh3. Why this is important\r\nConfluence would be more friendly to the user if it had this functionality to request access to _restricted_ Spaces, specially when the user receives a direct link to a page.\r\nThe fact the user can't do that from the application breaks the flow and makes it more difficult to use.\r\n \r\nh3. Workaround \r\n_None so far_",
      "summary": "As a user I want to request access to a restricted Space"
    }
  },
  {
    "key": "CONFSERVER-58220",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-02-23T23:10:00.000+0000",
      "created": "2019-05-02T19:14:44.000+0000",
      "description": "h3. Summary  \r\n\r\nWhen editing a page that has a macro, its title won't show up if you have HTTPS enabled and Collaborative Editing disabled. Confluence will make incorrect requests to the HTTP URL instead of HTTPS URL, causing this behavior.\r\n\r\nh3. Environment \r\n* HTTPS enabled\r\n* Collaborative Editing disabled\r\n\r\nh3. Steps to Reproduce \r\n# Enable Confluence to be running on HTTPS (Reverse proxy or at Tomcat)\r\n# Disable Collaborative Editing\r\n# Go to a Confluence page that has a *Panel* macro, for example\r\n# Edit this page\r\n\r\nh3. Expected Results  \r\n\r\n* The macros will show up its titles normally\r\n\r\nh3. Actual Results \r\n\r\n* The macro's won't show up its titles unless you edit them.\r\n\r\nh3. Diagnosis\r\n\r\n# Confirm that *Confluence Administration* \u00bb *General Configuration* \u00bb *Collaborative Editing* is currently disabled\r\n#* This is identified in the Support Zip / application.xml:\r\n{code}\r\n  <synchrony-configuration>\r\n    <synchrony-enabled>false</synchrony-enabled>\r\n...\r\n{code}\r\n# Capture a [HAR file|https://confluence.atlassian.com/kb/generating-har-files-and-analysing-web-requests-720420612.html] when refreshing the page whilst in Edit mode\r\n# Most of the web requests will be against HTTPS base URL\r\n#* e.g. https://www.mybaseurl.com/confluence/......\r\n# However, the URL to generate the Macro Titles (plugins/servlet/confluence/placeholder/macro-heading) are incorrectly made against the HTTP base URL instead of the HTTP base URL\r\n#* e.g. http://www.mybaseurl.com/confluence/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvbHVtbjp3aWR0aD0zMyV9&locale=en_US&version=2\r\n\r\nh3. Workaround \r\n* Enable Collaborative Editing",
      "summary": "Having Collaborative Editing disabled and HTTPS will cause macros' titles to not show up"
    }
  },
  {
    "key": "CONFSERVER-58219",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-29T04:18:13.000+0000",
      "created": "2019-05-02T07:34:13.000+0000",
      "description": "Currently, unknown/disabled macros show a placeholder image in the editor. Macros that previously had content and are now disabled will not have their content viewable/editable until the outer macro is enabled again.\u00a0\r\n\r\n\u00a0\r\n\r\n*For example:*\r\n\r\n!image-2019-05-02-17-34-35-357.png|width=1267,height=103!\r\n\r\nResolves to the following, where the content cannot be edited:\r\n\r\n!image-2019-05-02-17-34-46-698.png|width=192,height=40!",
      "summary": "Unknown Macros should have editable content"
    }
  },
  {
    "key": "CONFSERVER-58218",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-02T07:09:31.000+0000",
      "description": "h3. Issue Summary\r\nh3. Steps to Reproduce\r\n # Create a new template\r\n # Create a new unresolved link (Using `[$123]` with some non-existent page ID)\r\n # Save the template\r\n # Edit the template again\r\n\r\nh3. Expected Results\r\n\r\nThe unresolved link appears in the editor like a link\r\nh3. Actual Results\r\n\r\nWe see the following error:\r\n\r\nA relative link cannot be marshalled without a ConversionContext containing a ContentEntityObject\r\n\r\n!image-2019-05-02-17-10-40-871.png|width=702,height=42!\r\nh3. Notes\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n\r\nRequired, if there is no workaround please state:\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Unresolved links don't render in template editor"
    }
  },
  {
    "key": "CONFSERVER-58217",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-08T00:56:43.000+0000",
      "created": "2019-05-02T05:53:02.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence becomes unresponsive after all http threads get stuck waiting on a response to establish a websockets connection with Synchrony. Synchrony process shows close to max CPU usage and the top output indicates that many of its threads are long running and consuming a lot of CPU.\r\nh3. Environment\r\n * Confluence Server 6.15.2\r\n * Synchrony-proxy running in front of Synchrony\r\n\r\nh3. Notes\r\n\r\nSynchrony logs show the following error:\r\n{code:java}\r\n{\r\n  \"synchrony\":{\r\n    \"message\":\"tilt.bayeux.server [error] websocket error\",\r\n    \"ns\":\"tilt.bayeux.server\",\r\n    \"throwable\":\"java.lang.IllegalStateException: No HttpDecoder and no HttpServerCodec in the pipeline\r\n            at io.netty.handler.codec.http.websocketx.WebSocketServerHandshaker.handshake(WebSocketServerHandshaker.java:181)\r\n            at aleph.http.server$initialize_websocket_handler$fn__15817.invoke(server.clj:560)\r\n            at aleph.http.server$initialize_websocket_handler.invokeStatic(server.clj:559)\r\n            at aleph.http$websocket_connection.invokeStatic(http.clj:176)\r\n            at tilt.bayeux.server$handle_websocket$fn__51728.invoke(server.clj:489)\r\n            at tilt.bayeux.server.(take?)(server.clj:489)\r\n            at tilt.bayeux.server$handle_websocket$fn__51728.invoke(server.clj:484)\r\n            at clojure.lang.AFn.run(AFn.java:22)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at java.lang.Thread.run(Thread.java:748)\",\r\n    \"level\":\"error\"\r\n  }\r\n}\r\n{code}\r\nSynchrony-proxy logs also indicate that something has gone wrong during the handshake:\r\n{code:java}\r\n2019-05-01 04:58:28 ERROR c.a.s.p.w.WebSocketProxy:49 afterConnectionEstablished - Handshake error\r\n2019-05-01 04:58:29 ERROR c.a.s.p.w.WebSocketProxy:49 afterConnectionEstablished - Handshake error\r\n2019-05-01 04:58:30 ERROR c.a.s.p.w.WebSocketProxy:49 afterConnectionEstablished - Handshake error\r\n2019-05-01 04:58:31 ERROR c.a.s.p.w.WebSocketProxy:49 afterConnectionEstablished - Handshake error\r\n{code}\r\ncatalina.out:\r\n{code:java}\r\n01-May-2019 04:58:32.362 SEVERE [SimpleAsyncTaskExecutor-1] org.springframework.web.socket.client.WebSocketConnectionManager.onFailure Failed to connect\r\n javax.websocket.DeploymentException: The HTTP request to initiate the WebSocket connection failed\r\n\tat org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:486)\r\n\tat org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:195)\r\n\tat org.springframework.web.socket.client.standard.StandardWebSocketClient$1.call(StandardWebSocketClient.java:152)\r\n\tat org.springframework.web.socket.client.standard.StandardWebSocketClient$1.call(StandardWebSocketClient.java:149)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.util.concurrent.TimeoutException\r\n\tat sun.nio.ch.PendingFuture.get(PendingFuture.java:197)\r\n\tat org.apache.tomcat.websocket.WsWebSocketContainer.processResponse(WsWebSocketContainer.java:803)\r\n\tat org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:348)\r\n\t... 5 more\r\n{code}\r\nThread dumps will show most of the HTTP threads waiting for the Synchrony Proxy to get a Synchrony session, as follows:\r\n{code}\r\nat sun.misc.Unsafe.park(Native Method) \r\nat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215) \r\nat java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1695) \r\nat java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3323) \r\nat java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1775) \r\nat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1915) \r\nat com.atlassian.synchrony.proxy.websocket.WebSocketUpstreamHandler.getSynchronySession(WebSocketUpstreamHandler.java:64)\r\n{code}\r\nh3. Workaround\r\nh4. Option 1\r\n\r\nUntil the bug is fixed, a temporary workaround is to switch Synchrony into \"Limited\" mode.\r\n\r\nFollow the steps below to perform the workaround (if Confluence is unresponsive, perform a restart before proceeding).\r\n * The\u00a0[Administering Collaborative Editing|https://confluence.atlassian.com/doc/administering-collaborative-editing-858772086.html#AdministeringCollaborativeEditing-Changetheeditingmode]\u00a0article describes how to change Synchrony's operating modes\r\n\r\n # Go to\u00a0 !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png|width=16! \u00a0>\u00a0*General Configuration*\u00a0>\u00a0*Collaborative editing*.\u00a0\r\n # Choose\u00a0*Change mode*.\r\n # Select \"Limited\" and choose\u00a0*Change*.\u00a0\r\n\r\n(i)\u00a0Synchrony can also be changed to \"Off\" mode, but any shared drafts will become unavailable while in \"Off\" mode.\u00a0\r\n * See\u00a0[How Do Drafts Work on Confluence|https://confluence.atlassian.com/confkb/how-do-drafts-work-on-confluence-938043306.html]\u00a0for more information\r\n\r\nh4. Option 2\r\n\r\nIf you want to keep CE enabled, point your Load Balancer or Reverse Proxy directly to Synchrony and avoid using the internal proxy. More details [here|https://confluence.atlassian.com/doc/possible-confluence-and-synchrony-configurations-958779064.html#PossibleConfluenceandSynchronyConfigurations-DirecttoSynchronywithareverseproxy].",
      "summary": "Synchrony websocket error: No HttpDecoder and no HttpServerCodec in the pipeline"
    }
  },
  {
    "key": "CONFSERVER-58216",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-01T11:37:46.000+0000",
      "description": "h3. Issue reported:\r\n\r\nThe ndash character used for an attachment name it is not properly encoded when exporting and import spaces.\r\nh3. Reproducible steps:\r\n\r\n1. Take a pdf attachment and rename it to \u201ctest \u2013 1.pdf\u201d, or any other file name, the name has to contain \u201c\u2013\u201d.\r\n 2. Upload \u201ctest \u2013 1.pdf\u201d file on Confluence page as attachment\r\n 3. Add this \u201ctest \u2013 1.pdf\u201d on page using PDF macro.\r\n 4. Export the space\r\n 5. Import the space\r\nh3. Expected Results:\r\n\r\nThe pdf is properly displayed\r\nh3. Current Results:\r\n\r\nAn error is thrown:\r\n{quote}Error rendering macro \u2018viewpdf\u2019\r\n The viewfile macro is unable to locate the attachment \u201ctest - 1.pdf\u201d on this page\r\n{quote}\r\n!Screen Shot 2019-05-01 at 13.39.10.png|thumbnail!\r\n\r\nIf we view the attachment after an import the url will be:\r\n [http://url/pages/worddav/preview.action?fileName=test+-+1.pdf&pageId=1234667]\r\n\r\nWhereas the *Storage macro* is:\r\n{code:java}\r\n<p><ac:structured-macro ac:name=\u201cview-file\u201d ac:schema-version=\u201c1\u201d ac:macro-id=\u201ceaacb52e-73ec-467d-a333-f206f33d444b\u201d><ac:parameter ac:name=\u201cname\u201d><ri:attachment ri:filename=\u201ctest &ndash; 1.pdf\u201d /></ac:parameter><ac:parameter ac:name=\u201cheight\u201d>250</ac:parameter></ac:structured-macro>&nbsp;<ac:structured-macro ac:name=\u201cviewpdf\u201d ac:schema-version=\u201c1\u201d ac:macro-id=\u201ce9f2572d-9951-4148-9449-d934c343ee02\"><ac:parameter ac:name=\u201cname\u201d><ri:attachment ri:filename=\u201ctest &ndash; 1.pdf\u201d /></ac:parameter></ac:structured-macro></p>\r\n{code}\r\nh3. Workaround\r\n\r\nUpdate the *Storage format* and replace the ndash character with a dash\r\n\r\nor\r\n\r\nEdit the page and select the attachment again on the pdf macro.",
      "summary": "The ndash character used for an attachment name it is not properly encoded when exporting and import spaces."
    }
  },
  {
    "key": "CONFSERVER-58215",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-05-01T05:06:18.000+0000",
      "description": "h3. Summary\r\n\r\nWhen adding some of the Confluence default macro in the page editor and then presses the Return key (Enter) while editing the macro configuration, the\u00a0*Macro Configuration*\u00a0dialog window is dismissed, and the macro is *deleted* from the editor and replaced with *a new line.*\u00a0This behaviour affect most of the Confluence default Macro and *does not* affect the *View File macro (PPT, PDF).*\r\nh3. Steps to Reproduce\r\n # Go to a page and click\u00a0*Edit*\r\n # Insert a macro for example, *Code Macro.*\r\n # Click on the macro to *edit* the configuration and type something into the *Title* field\r\n # Press *RETURN* (or *ENTER*)\r\n\r\nh3. Expected Results\r\n\r\nAn macro is added to the page.\r\nh3. Actual Results\r\n\r\nMacro is deleted and a new line is added to the page instead.\r\nh3. Notes\r\n\r\nReproducible in *Firefox* 66.0.3 (64-bit) not in Chrome and Safari (11.0.2).\r\nh3. Workarounds\r\n * Use the\u00a0*Insert*\u00a0button instead of the RETURN(or ENTER) key.\r\nOR\r\n * Use a browser different than Firefox.",
      "summary": "Pressing Enter while editing macro configuration remove the macro from the editor."
    }
  },
  {
    "key": "CONFSERVER-58214",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-29T21:57:51.000+0000",
      "created": "2019-05-01T02:02:58.000+0000",
      "description": "Atlassian UI upgrade in Confluence 7.0",
      "summary": "Upgrade to AUI 8"
    }
  },
  {
    "key": "CONFSERVER-58213",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-10T00:31:42.000+0000",
      "created": "2019-05-01T01:59:41.000+0000",
      "description": "Presently Confluence 6.x uses jQuery 1.7.2.\r\nConfluence 7.0 will upgrade to jQuery 2.2.4.",
      "summary": "Upgrade to jQuery 2"
    }
  },
  {
    "key": "CONFSERVER-58212",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-30T21:40:36.000+0000",
      "description": "h3. Issue Summary\r\nWhen a Confluence user access the [_Drafts_ page|https://confluence.atlassian.com/doc/drafts-149040.html] within their profile, they receive a *System Error* in the UI instead of a table with all the unpublished drafts.\r\n\r\nh3. Environment\r\n* This issue was validated on Confluence Server 6.6.12 with PostgreSQL.\r\n* It was validated with both Collaborative Editing enabled and disabled.\r\n* It was also reported with MySQL database -- so it is not DB engine specific.\r\n* This issue was validated on Confluence Server 6.13.3 with PostgreSQL and CE enabled.\r\n\r\nh3. Steps to Reproduce\r\n# Install a Confluence vanilla instance.\r\n# As a Confluence user, go to any Space and click on the _Create blank page_ button.\r\n# Give the page a title, add any content to the page and click on the _Close_ button.\r\n #* When prompted to _close the editor_, click on the _Keep draft_ button.\r\n# In the Confluence database, get the {{CONTENTID}} of the newly created draft and run the following SQL query.\r\n{code}\r\nupdate CONTENT set CREATIONDATE = NULL, LASTMODDATE = NULL WHERE CONTENTID = <draft ID>\r\n{code}\r\n #* This will make both the {{CREATIONDATE}} and the {{LASTMODDATE}} equal to {{NULL}}.\r\n# As a Confluence administrator, go to *Cog icon* > *General configuration* > *Cache Management*.\r\n# Search for *Content Objects* cache and click on the *Flush* button related to it.\r\n# As the Confluence user who created the draft, go to *Profile* > *Drafts*.\r\n #* Or access {{<Confluence Base URL>/users/viewmydrafts.action}}\r\n\r\nA very similar stack trace can be reproduced if one of the spaces associated with the drafts has an empty title. To reproduce this:\r\n{code}\r\nupdate SPACES set SPACENAME = NULL WHERE SPACEID = <space ID>;\r\n{code}\r\n\r\nh3. Expected Results\r\nThe page with unpublished drafts touched by the current user is shown.\r\n !drafts_img001.png|thumbnail! \r\n\r\nh3. Actual Results\r\nA _System Error_ is shown in the UI with a _stack trace_ similar to the one below.\r\n !system_error_img001.png|thumbnail! \r\nFor issues related to the dates, the NPE will be thrown by the class *java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)*\r\n\r\n{quote}\r\nh5. Cause\r\n org.apache.velocity.exception.MethodInvocationException: Invocation of method 'getResumableDraftsBySpace' in class com.atlassian.confluence.user.actions.ViewMyDraftsAction threw exception java.lang.NullPointerException at /users/viewmydrafts.vm[line 123, column 30]\r\n    at org.apache.velocity.runtime.parser.node.ASTIdentifier.execute(ASTIdentifier.java:223)\r\n\r\ncaused by: java.lang.NullPointerException\r\n    at java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469) \r\n\r\nh5. Stack Trace:[hide]\r\n{code}\r\norg.apache.velocity.exception.MethodInvocationException: Invocation of method 'getResumableDraftsBySpace' in  class com.atlassian.confluence.user.actions.ViewMyDraftsAction threw exception java.lang.NullPointerException at /users/viewmydrafts.vm[line 123, column 30]\r\n\tat org.apache.velocity.runtime.parser.node.ASTIdentifier.execute(ASTIdentifier.java:223)\r\n\tat org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:262)\r\n\tat org.apache.velocity.runtime.parser.node.ASTReference.evaluate(ASTReference.java:470)\r\n\tat org.apache.velocity.runtime.parser.node.ASTExpression.evaluate(ASTExpression.java:62)\r\n\tat org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:85)\r\n\tat org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:72)\r\n\tat org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:87)\r\n\tat org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:72)\r\n\tat com.atlassian.confluence.setup.velocity.ApplyDecoratorDirective.getRenderedTagBody(ApplyDecoratorDirective.java:181)\r\n\tat com.atlassian.confluence.setup.velocity.ApplyDecoratorDirective.render(ApplyDecoratorDirective.java:155)\r\n\tat org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:175)\r\n\tat org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:336)\r\n\tat org.apache.velocity.Template.merge(Template.java:328)\r\n(...)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException\r\n\tat java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\n\tat java.util.Collections$ReverseComparator2.compare(Collections.java:5178)\r\n\tat java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n\tat java.util.TimSort.sort(TimSort.java:220)\r\n\tat java.util.Arrays.sort(Arrays.java:1512)\r\n\tat java.util.ArrayList.sort(ArrayList.java:1462)\r\n\tat java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:387)\r\n\tat java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat com.atlassian.confluence.user.actions.ViewMyDraftsAction.filterAndGroupDrafts(ViewMyDraftsAction.java:107)\r\n\tat com.atlassian.confluence.user.actions.ViewMyDraftsAction.getResumableDraftsBySpace(ViewMyDraftsAction.java:88)\r\n\tat sun.reflect.GeneratedMethodAccessor1242.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.velocity.runtime.parser.node.PropertyExecutor.execute(PropertyExecutor.java:142)\r\n\tat org.apache.velocity.util.introspection.UberspectImpl$VelGetterImpl.invoke(UberspectImpl.java:529)\r\n\tat org.apache.velocity.runtime.parser.node.ASTIdentifier.execute(ASTIdentifier.java:198)\r\n\t... 379 more\r\n{code}\r\n{quote}\r\n\r\nFor issues related to the space name, the stack trace is almost identical to what is seen above, but the NPE comes from *at java.lang.String$CaseInsensitiveComparator.compare(String.java:1192)*\r\n\r\nh3. Notes\r\nThere's still no reference on how an user created draft doesn't have both the {{CREATIONDATE}} and {{LASTMODDATE}}. This is also true for space names being null.\r\nA bug report should be added here when it is found.\r\n\r\n(!) Since both workarounds require direct modification in the database, please make sure you have a recent backup to perform a rollback if necessary.\r\nMake sure you only run the steps below if you are certain you are affected by this bug.\r\n\r\nh3. Workaround 1 - Fixing null dates\r\n(!) Execute this if the NPE comes from *java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)*\r\n\r\nThe known workaround is to manually modify the {{CREATIONDATE}} of the affected drafts directly in the database.\r\n\r\nThe following SQL query will show you the drafts associated with a specific user, but with {{CREATIONDATE}} and {{LASTMODDATE}} equal to {{NULL}}.\r\n(i) Make sure you change {{CHANGE_THE_USERNAME}} to an actual _username_.\r\n{code:title=Tested for PostgreSQL}\r\nselect c.*\r\nfrom CONTENT c\r\njoin USER_MAPPING um on c.CREATOR=um.USER_KEY\r\nwhere (c.CONTENT_STATUS='draft'\r\nor c.CONTENTTYPE='DRAFT')\r\nand (c.CREATIONDATE is NULL and c.LASTMODDATE is NULL)\r\nand um.USERNAME='CHANGE_THE_USERNAME'\r\n;\r\n{code}\r\n\r\nThe following query will update the above records with a {{CREATIONDATE}} from another record randomly selected.\r\n(i) Make sure you change {{CHANGE_THE_USERNAME}} to an actual _username_.\r\n{code:title=Tested for PostgreSQL}\r\nupdate CONTENT set CREATIONDATE = (\r\nselect c.CREATIONDATE\r\nfrom CONTENT c\r\njoin USER_MAPPING um on c.CREATOR=um.USER_KEY\r\nwhere (c.CONTENT_STATUS='draft'\r\nor c.CONTENTTYPE='DRAFT')\r\nand c.CREATIONDATE is not NULL\r\nlimit 1\r\n)\r\nwhere CONTENTID in (\r\nselect c.CONTENTID\r\nfrom CONTENT c\r\njoin USER_MAPPING um on c.CREATOR=um.USER_KEY\r\nwhere (c.CONTENT_STATUS='draft'\r\nor c.CONTENTTYPE='DRAFT')\r\nand (c.CREATIONDATE is NULL and c.LASTMODDATE is NULL)\r\nand um.USERNAME='CHANGE_THE_USERNAME'\r\n)\r\n;\r\n{code}\r\n\r\nh3. Workaround 2 - Fixing null space names\r\n\r\n(!) Execute this if the NPE comes from *at java.lang.String$CaseInsensitiveComparator.compare(String.java:1192)*\r\n\r\n# Identify if there are any spaces related to the user drafts with NULL names:\r\n{code}\r\nselect * from spaces \r\nwhere spaceid in (\r\nselect c.spaceid\r\nfrom CONTENT c\r\njoin USER_MAPPING um on c.CREATOR=um.USER_KEY\r\nwhere (c.CONTENT_STATUS='draft'\r\n    or c.CONTENTTYPE='DRAFT')\r\nand um.USERNAME='CHANGE_THE_USERNAME'\r\nand c.spaceid is not null\r\n)\r\nand spacename is null\r\n;\r\n{code}\r\n# If any space is returned, take note of the ID and run the following query:\r\n{code}\r\nupdate SPACES set SPACENAME = 'SPACE-NAME' where SPACEID = <space-id>;\r\n{code}\r\n\r\nAfter modifying the database for any of the workarounds, make sure to flush the affected cache or restart Confluence:\r\n# As a Confluence administrator, go to *Cog icon* > *General configuration* > *Cache Management*.\r\n# Search for *Content Objects* cache and click on the *Flush* button related to it.",
      "summary": "Accessing the Drafts page within a user profile throws a NullPointerException on getResumableDraftsBySpace"
    }
  },
  {
    "key": "CONFSERVER-58211",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-30T18:08:29.000+0000",
      "description": "As a user creating an Activity Stream Gadget, I would like to be able to use the Activity Stream Gadget to filter activity by a user that has a space in their name. Currently, I cannot do this because the system treats whitespace as a delimiter in Username filter criteria. Commas are converted in the backend to spaces. Thus:\r\n\r\n- bcostales - this is one user\r\n- bcostales,tcostales - thease are two users, \"bcostales\" and \"tcostales\"\r\n- b costales - these are two users, \"b\" and \"costales\"\r\n\r\nh3. Steps to Reproduce\r\n- Create a user in a Crowd internal directory that has spaces in their username\r\n- Connect the internal directory to Confluence\r\n- Sign in as the user and create content in a space\r\n- Create an Activity Stream Gadget on a new page\r\n- Set Filter criteria for Username > <the user you have with spaces in their name>\r\n- Save changes to the filter, then save and publish the page\r\n\r\nh3. Desired Behavior\r\n- You will see activity by the user which has whitespace in their username\r\n\r\nh3. Actual Behavior\r\n- You do not see the activity\r\n\r\nh3. Workaround\r\n- None at this time, whitespace is not supported",
      "summary": "Add support for usernames that have whitespace to Activity Stream Gadget"
    }
  },
  {
    "key": "CONFSERVER-58210",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-29T05:20:42.000+0000",
      "created": "2019-04-30T09:59:56.000+0000",
      "description": "\u00a0the logs are flooded with update checks every few minutes\r\n{code:sql}\r\n{\"namespace\":\"adc:auto-updater\",\"date\":\"2018-10-29T09:46:05.590Z\",\"message\":[\"update error\",{\"message\":\"Can not find Squirrel\",\"stack\":\"Error: Can not find Squirrel\\n at AutoUpdater.emitError (C:\r\nProgram Files (x86)\r\nAtlassian Companion\\\\resources\\\\electron.asar\\\\browser\\\\api\\\\auto-updater\\\\auto-updater-win.js:70:24)\\n at AutoUpdater.checkForUpdates (C:\r\nProgram Files (x86)\r\nAtlassian Companion\\\\resources\\\\electron.asar\\\\browser\\\\api\\\\auto-updater\\\\auto-updater-win.js:41:19)\\n at Timeout.setTimeout [as _onTimeout] (C:\r\nProgram Files (x86)\r\nAtlassian Companion\\\\resources\\\\app.asar\\\\src\\\\browser\\\\autoUpdater.ts:38:67)\\n at ontimeout (timers.js:475:11)\\n at tryOnTimeout (timers.js:310:5)\\n at Timer.listOnTimeout (timers.js:270:5)\"}]},\r\n{\"namespace\":\"adc:auto-updater\",\"date\":\"2018-10-29T09:51:05.604Z\",\"message\":[\"update error\",{\"message\":\"Can not find Squirrel\",\"stack\":\"Error: Can not find Squirrel\\n at AutoUpdater.emitError (C:\r\nProgram Files (x86)\r\nAtlassian Companion\\\\resources\\\\electron.asar\\\\browser\\\\api\\\\auto-updater\\\\auto-updater-win.js:70:24)\\n at AutoUpdater.checkForUpdates (C:\r\nProgram Files (x86)\r\nAtlassian Companion\\\\resources\\\\electron.asar\\\\browser\\\\api\\\\auto-updater\\\\auto-updater-win.js:41:19)\\n at Timeout.setTimeout [as _onTimeout] (C:\r\nProgram Files (x86)\r\nAtlassian Companion\\\\resources\\\\app.asar\\\\src\\\\browser\\\\autoUpdater.ts:38:67)\\n at ontimeout (timers.js:475:11)\\n at tryOnTimeout (timers.js:310:5)\\n at Timer.listOnTimeout (timers.js:270:5)\"}]}\r\n{code}\r\nit will be nice if we can disable the auto-update for .exe version as well.",
      "summary": "Disable update check for Companion App (MSI)"
    }
  },
  {
    "key": "CONFSERVER-58208",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-30T02:30:58.000+0000",
      "created": "2019-04-30T02:30:30.000+0000",
      "description": "The version of the Application Links plugin used in Confluence before version 6.15.2 allows remote attackers to inject arbitrary HTML or JavaScript via a cross site scripting (XSS) vulnerability in the applinkStartingUrl parameter. See https://ecosystem.atlassian.net/browse/APL-1373 for more details.\r\n\r\n",
      "summary": "XSS in the listApplicationLinks resource of the Application links plugin - CVE-2018-20239"
    }
  },
  {
    "key": "CONFSERVER-58207",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-16T06:05:47.000+0000",
      "created": "2019-04-29T10:01:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nView File macro (tested with PDF) is loading indefinitely for anonymous user.\r\n !viewfile.png|thumbnail!\r\nh3. Environment\r\n\r\nConfluence 6.15.1\r\nh3. Steps to Reproduce\r\n # Allow the *can use* permission for anonymous user in Confluence *General Configuration* > *Global Permission*.\r\n # Create a space and allow the anonymous access in the *Space Permission*.\r\n # Create a page in the Space and insert a view file PDF macro.\r\n # Access the page anonymously.\r\n\r\nh3. Expected Results\r\n\r\nThe PDF file inside the view file PDF macro load correctly in the page.\r\nh3. Actual Results\r\n\r\nThe PDF file inside the view file PDF macro loading indefinitely for anonymous user.\r\n !viewfile.png|thumbnail!\r\nh3. Notes\r\n\r\nAnonymous user able to preview the file from the page option *(...)* > *Attachments* > *Click* on the attachments file.\r\nh3. Workaround\r\n\r\nReplace the view file PDF macro with the newer file previewer:\r\n (!) *Backup* your Confluence database before making any changes.\r\n * [How to replace old View File macros with the new File Preview macro|https://confluence.atlassian.com/confkb/how-to-replace-old-view-file-macros-with-the-new-file-preview-macro-720419365.html]\r\n (i) This will replace all of the view file macro in all of Confluence BLOGPOST, PAGE, and COMMENT.\r\n\r\nClicking on the attachment's thumbnail will allow anonymous user to download the file.",
      "summary": "View File macro loading indefinitely for anonymous user."
    }
  },
  {
    "key": "CONFSERVER-58202",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-29T03:40:56.000+0000",
      "description": "h3. Summary\r\nChanging Confluence Site Logo by uploading a 2 toned logo causes NullPointerException\r\n\r\nh3. Environment\r\nConfluence 6.15.2\r\n\r\nh3. Steps to Reproduce\r\n# [Change Confluence Site Logo|https://confluence.atlassian.com/confcloud/changing-the-site-logo-724765495.html] by uploading the file below:\r\n !mono atlassian.png|thumbnail! \r\n\r\nh3. Expected Results\r\nSite Logo for Confluence is changed and the Site's Color Scheme will be changed to fit the new logo\r\n\r\nh3. Actual Results\r\n* Site Logo for Confluence is changed but *not the Color Scheme*\r\n* Error message below is shown:\r\n{code}\r\nThere were errors uploading this logo. There is more information in the logs.\r\n{code}\r\n* Error below is found in the {{atlassian-confluence.log}}:\r\n{code}\r\n2019-04-29 10:51:01,351 ERROR [http-nio-26152-exec-9] [confluence.plugins.lookandfeel.EditSiteLogoAction] doUpload There were errors uploading this logo. There is more information in the logs.\r\n -- referer: http://10.60.3.46:26152/admin/sitelogo/view-sitelogo.action | url: /admin/sitelogo/upload.action | traceId: 637946c0c6c1ce26 | userName: admin | action: upload\r\njava.lang.NullPointerException\r\n        at com.atlassian.lookandfeel.ColorSchemeGenerator.getPaletteBase(ColorSchemeGenerator.java:147)\r\n        at com.atlassian.lookandfeel.ColorSchemeGenerator.createColorScheme(ColorSchemeGenerator.java:100)\r\n        at com.atlassian.lookandfeel.ColorSchemeGenerator.generateFromLogo(ColorSchemeGenerator.java:64)\r\n        at com.atlassian.lookandfeel.ColorSchemeGenerator.generateFromLogo(ColorSchemeGenerator.java:20)\r\n        at com.atlassian.confluence.plugins.lookandfeel.AutoLookAndFeelManager.generateFromSiteLogo(AutoLookAndFeelManager.java:51)\r\n        at com.atlassian.confluence.plugins.lookandfeel.EditSiteLogoAction.doUpload(EditSiteLogoAction.java:79)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n{code}\r\n\r\nh3. Information\r\n* This bug can be easily replicating with any black/grey scaled colors with a white background\r\n\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Changing Confluence Site Logo by uploading a 2 toned logo causes NullPointerException"
    }
  },
  {
    "key": "CONFSERVER-58200",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-28T12:22:44.000+0000",
      "description": "Hi guys,\r\n\r\n\u00a0\r\n\r\na colleague asked me to create the following improvement request:\r\n\r\n\"When uploading images for being displayed with the image viewer, 3 different sizes can be selected. Using the medium and large size - the image is displayed in correct size - but loaded in original size (it is not being re-rendered) which takes huge traffic and load times although it is not an extensive image on display. Displaying the small image - a re-rendered image is shown as expected for the others too.\r\n\r\nI would suggest to change this, please re-render all 3 sizes for display on the page at the upload time. Then delete the original image (store in a temp folder due rendering process only) which saves webspace too.\"",
      "summary": "Improvement of image / picture handling"
    }
  },
  {
    "key": "CONFSERVER-58199",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-26T18:06:12.000+0000",
      "description": "As an administrator with multiple Confluence instances, I would like to be able to connect multiple Confluence instances to a single Slack Workspace. \r\n[*Confluence Server for Slack (Official)*|https://marketplace.atlassian.com/apps/1220186/confluence-server-for-slack-official?hosting=server&tab=overview]\r\nh3. Why is it important\r\nEnvironments may rely on multiple instances for day to day activities and notifications from all instances are required.\r\n\r\nh3. Workaround\r\nNone",
      "summary": "Enable multiple Confluence instances to connect via Slack Server plugin"
    }
  },
  {
    "key": "CONFSERVER-58198",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-26T16:17:32.000+0000",
      "description": "h3. Summary\r\nWhen the page has a bullet list and you try to add a task in this bullet list all bullet lists in the same level of the tasks are converted to a task as well.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page and add a bullet list to this page with a few lines\r\n# At the bottom bullet click the Task button on the editor to add a task\r\n\r\nh3. Expected Results\r\nThe other bullet lists remain as a bullet list.\r\nh3. Actual Results\r\nAll the previous bullet points are converted into tasks. See below:\r\n\r\n !bug.gif! \r\n \r\n\r\nh3. Workaround\r\nNone",
      "summary": "Adding a Task below a Bullet List makes the Bullet lists tasks"
    }
  },
  {
    "key": "CONFSERVER-58197",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-26T13:02:07.000+0000",
      "description": "In the task report page we have an overview with completed tasks. is there a possibility to limit the view on these list and show only the last 10 tasks or based on a date like closed within last 5 weeks or having pagination?",
      "summary": "Limiting the tasks in task report page in Confluence"
    }
  },
  {
    "key": "CONFSERVER-58196",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-20T00:28:53.000+0000",
      "created": "2019-04-25T19:59:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUnable to restore Confluence Cloud Site Export to Confluence 6.15.2 due to this error:\u00a0\r\n{code}\r\nUnable to complete import: Error while importing backup: com.atlassian.confluence.api.model.people.MigratedUser\r\n{code}\r\n\r\nThis is currently happening for all site exports.\r\n\r\nh3. Environment\r\n\r\nMigrating from Confluence Cloud to Confluence Server\r\nh3. Steps to Reproduce\r\n # Create a site export from Confluence Cloud\r\n # Import into Confluence Server\r\n\r\nh3. Expected Results\r\n\r\nRestore completes\r\nh3. Actual Results\r\n # This seems to be occurring for any site export after April 24th, 2019\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2019-04-25 14:50:41,968 ERROR [Long running task: Importing data] [confluence.importexport.xmlimport.BackupImporter] importEntities Cannot import the entities: \r\n -- url: /longrunningtaskxml.action | referer: http://localhost:8090/admin/restore.action?synchronous=false | traceId: d5700bb61e35e48b | userName: admin | action: longrunningtaskxml\r\ncom.atlassian.confluence.importexport.ImportExportException: Unable to complete import: Error while importing backup: com.atlassian.confluence.api.model.people.MigratedUser\r\n\tat com.atlassian.confluence.importexport.xmlimport.DefaultXmlImporter.doImportInternal(DefaultXmlImporter.java:71)\r\n{noformat}\r\nh3. Workaround #1\r\n* Migrate through Space exports\r\n** This will not bring over your users from Cloud\r\n\r\nh3. Workaround #2\r\n\r\n* This workaround should include your Cloud users\r\n* Remove all complete *com.atlassian.confluence.api.model.people* entries in the *entities.xml* file, zip the file back up including the *exportDescriptor.properties*, *plugin-data*, and *attachments*, then restore the backup.\r\n** Example entry:\r\n{code:java}\r\n<object class=\"MigratedUser\" package=\"com.atlassian.confluence.api.model.people\">\r\n<id name=\"key\"><![CDATA[8a7f80896a51628a016a55006f3a0059]]></id>\r\n<property name=\"username\"><![CDATA[557057:05e42c55-b9a0-4f6a-a239-cac4f500a761]]></property>\r\n<property name=\"hashedUsername\"><![CDATA[b259be919cf4d62ff34e82eefd735e61]]></property>\r\n<property name=\"accountId\"><![CDATA[557057:05e42c55-b9a0-4f6a-a239-cac4f500a761]]></property>\r\n</object>\r\n{code}",
      "summary": "Confluence Cloud export into Server fails due to com.atlassian.confluence.api.model.people"
    }
  },
  {
    "key": "CONFSERVER-58195",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-25T11:58:22.000+0000",
      "description": "h3. Issue Summary\r\nCopying and pasting content in the editor encounters a problem with Microsoft Edge browser.\r\n\r\nh3. Steps to Reproduce\r\n # Create new page, add image attachments and paragraph containing few lines of plain text\r\n # Save the page\r\n # Edit the page. Select image attachment or text paragraph. \r\n # Copy (by using ctrl+c shortcut) or cut (ctrl+x) selected content\r\n # Paste content (by using ctrl+v shortcut) in any other section of the page\r\n\r\nh3. Expected Results\r\nContent is  pasted immediately \r\n\r\nh3. Actual Results\r\n* On Microsoft Edge after pasting the content following error is displayed: \r\n !Screenshot_20190425_133707.png|thumbnail! \r\nAfter clicking on \"stop script\" content is finally pasted to the page \r\n\r\nh3. Notes\r\n* Other browsers are not affected. \r\n* Bug is not reproducible when collaborative editing is disabled \r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Copying and pasting content in the editor encounters a problem  with Microsoft Edge browser."
    }
  },
  {
    "key": "CONFSERVER-58194",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-25T08:30:37.000+0000",
      "description": "h4. Issue summary\r\n # If we use the Bar Chart macro, and the table it's using has a lot of data, the labels on the X axis / Horizontal axis gets truncated, or appears as dots.\r\n ** !Bar chart.PNG|thumbnail!\r\n # With lesser data, things appear fine.\r\n ** !Bar chart ok.PNG|thumbnail!\r\n\r\nh4. Steps to replicate\r\n # Create a table with a lot of data.\r\n # Use it with the Chart macro set to Bar.\r\n # Sample storage format attached.\r\n ** [^Bar chart storage format.txt]\r\n\r\nh4. Workaround\r\n # None\r\n\r\nh4. Notes\r\n # Might be related to CONFSERVER-43244, but that is for the charts themselves going missing.",
      "summary": "Bar Chart macro does not show the labels on the X axis if there's too much data"
    }
  },
  {
    "key": "CONFSERVER-58193",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-25T05:41:42.000+0000",
      "description": "h3. Summary\r\n\r\nIt would be great if an app user is provided to vendors (what we do for Cloud) that has the necessary scope to administer, read, write, etc. without relying on the permissions of a separate user that calls APIs on the vendor's behalf.\r\n\r\nh3. Background\r\n\r\nFrom vendor:\r\n{quote}\r\nThe [ContentPropertyService|https://docs.atlassian.com/atlassian-confluence/5.9.3/com/atlassian/confluence/api/service/content/ContentPropertyService.html ]  methods to modify properties check current user's edit/view permissions over the content. That does not allow apps to set property values when running scheduled jobs or when the user triggering an event does not have view/edit permissions over the content.\r\n\r\nIt would be very useful to have a Java API to modify content properties ignoring the authenticated user's permissions over the content. If there is an alternative, we would like to know too.\r\n\r\nThe user from the event triggering the ContentPropertyService call has not enough permissions over the content to edit the values, and in the case of scheduled jobs, there is no user at all. So in our case, instead of allowing a user with not enough permissions to perform that action, the ideal solution would be to allow the app to have its own user (similar to the cloud I believe). We have had a similar issue with CQL searches and view permissions. The solution to ask the client to define a user that will act on behalf of our app to bypass this could work but it is not very suitable.\r\n{quote}\r\n\r\nRequest from [DEVHELP-2424|https://ecosystem.atlassian.net/browse/DEVHELP-2424]",
      "summary": "Confluence server should have an app user to administer and write on behalf of vendor/user"
    }
  },
  {
    "key": "CONFSERVER-58192",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-24T17:25:17.000+0000",
      "description": "When accessing a Confluence 6.12.2  instance through the Confluence Server mobile app on an iOS device that's integrated with DUO, DUO presents a \"Remember me...\" checkbox. But, if you try to check it, DUO returns a message indicating that cookies need to be enabled to use select \"Remember me..\" option.\r\n\r\nThe request is to support DUO authentication with remember me option.",
      "summary": "Supporting DUO authentication with remember me option"
    }
  },
  {
    "key": "CONFSERVER-58189",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-23T20:58:33.000+0000",
      "description": "When a user tries to access a confluence space they dont have access to, they get a permission error. If they can see a list of people who are space admins (not confluence platform admins), it'll tremendously save time for the user and the confluence platform admins. They'll know who to reach out to right away to get access.",
      "summary": "Display Space admin names on permission error page"
    }
  },
  {
    "key": "CONFSERVER-58188",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-23T19:09:05.000+0000",
      "description": "h3. Problem Definition  \r\n\r\n* There are scenarios when a user wants to disable the CalDAV option in Team Calendars, to avoid users to subscribe to other calendars.\r\n\r\nh3. Suggested Solution  \r\n\r\n* Implement a way to disable the CalDAV through the UI\r\n\r\nh3. Why this is important   \r\n\r\n* This feature helps our user to manage their instances better, depending on their needs and demands.",
      "summary": "Disable CalDAV in Team Calendars"
    }
  },
  {
    "key": "CONFSERVER-58187",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-23T19:04:43.000+0000",
      "description": "h3. Summary\r\n\r\nIf a page contains a Jira issue macro that does not have an appropriate <div class=\"content-wrapper\">' and '<p>' tag, it will cause a <div class=\"jim-sortable-dark-layout\"> tag to appear as a translucent grey field that will block access to the page below.\r\nh3. Environment\r\n\r\nConfluence 6.10.2\r\nh3. Steps to Reproduce\r\n # post a storage format to a page similar to this:\r\n{noformat}\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"excerpt\" ac:schema-version=\"1\" ac:macro-id=\"2dd769a1-6407-48a5-8657-cd724f1e505c\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:rich-text-body>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<table class=\"wrapped\"><colgroup><col /><col /></colgroup>\r\n<tbody>\r\n<tr>\r\n<th><br /></th>\r\n<th><br /></th></tr>\r\n<tr>\r\n<td>\r\n<div class=\"content-wrapper\"><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"4bb3641d-ddf1-4bcc-b69c-1dec3423e29b\"><ac:parameter ac:name=\"server\">System JIRA</ac:parameter><ac:parameter ac:name=\"columns\">key,status</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">key = bar-1 </ac:parameter><ac:parameter ac:name=\"serverId\">63c80592-58b5-3206-bb77-77839fa25117</ac:parameter></ac:structured-macro></div></td>\r\n<td>\r\n<ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"721d8f27-be2c-4391-be41-84383f68d9c5\"><ac:parameter ac:name=\"server\">System JIRA</ac:parameter><ac:parameter ac:name=\"columns\">key,status</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">issuekey in (BAR-2)     </ac:parameter><ac:parameter ac:name=\"serverId\">63c80592-58b5-3206-bb77-77839fa25117</ac:parameter></ac:structured-macro></td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p></ac:rich-text-body></ac:structured-macro>\r\n<p class=\"auto-cursor-target\"><br /></p>{noformat}\r\n\r\nh3. Expected Results\r\n\r\nThe page loads normally.\r\nh3. Actual Results\r\n\r\nPage appears with a translucent grey field that blocks the page.\r\nh3. Notes\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n - Using the developer tools will allow you to remove the offending div for a single use. You can use this to edit the offending page.\r\n - Edit the page and ensure that the jira issue macros have no content surrounding them to the left or right. You may need to delete and re-add them",
      "summary": "Jira Issue Macro can cause grey Div in front of content preventing use of the page"
    }
  },
  {
    "key": "CONFSERVER-58186",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-23T15:13:18.000+0000",
      "description": "https://confluence.atlassian.com/doc/setting-up-a-mail-session-for-the-confluence-distribution-6328.html\r\n\r\nThere are many other parameters that can be added to the Resource block when configuring a mail session in Confluence. (i.e. \"mail.smtp.ssl.enable\")\r\n\r\nThis suggestion is to add a reference to the JavaMail documentation, which outlines the given parameters: https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html\r\n\r\nThe document could also mention that adding {{mail.debug=\"true\"}} in the Resource block in _server.xml_ will add debug messages to the Tomcat logs which can be helpful when troubleshooting Mail Server issues.",
      "summary": "Improve \"Setting Up a Mail Session for the Confluence Distribution\" document"
    }
  },
  {
    "key": "CONFSERVER-58185",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-08T06:06:14.000+0000",
      "created": "2019-04-23T12:02:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDisabling companion app plugin submodules causes corruption of\u00a0 \u00a0pdfview macro preview\r\nh3. Environment\r\n\r\nConfluence 6.15.1, postgres 9.5, all supported browsers\r\nh3. Steps to Reproduce\r\n # Create new page\r\n # Add pdf attachment and insert it into PDFview macro\r\n # Go to Confluence administration -> manage apps. Search for Confluence plugin \"Confluence Previews\"\r\n Disable plugin submodules (according to official documentation [https://confluence.atlassian.com/doc/administering-the-atlassian-companion-app-958456281.html ):|https://confluence.atlassian.com/doc/administering-the-atlassian-companion-app-958456281.html):]\r\n ## Edit With plugin for the Media Viewer (companion-plugin)\r\n ## Embedded 'Edit With' button (embedded-edit)\r\n # Go to previously created page\r\n\r\nh3. Expected Results\r\n\r\nPdfview macro is rendered\r\nh3. Actual Results\r\n\r\nPdfmacro preview is corrupted:\r\n\r\n!Screenshot_20190423_135858.png|thumbnail!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Disabling companion app plugin submodules causes corruption of\u00a0 \u00a0pdfview macro preview"
    }
  },
  {
    "key": "CONFSERVER-58184",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-22T07:24:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nGiven two excel worksheets, where one of them has one or more cells linked to cells from the other worksheet. The links between the two cells do not get updated when accessed.\r\n\r\nThis is because when a worksheet is linked to another, the path to that other excel worksheet is recorded and when this file is uploaded to Confluence and accessed via the Companion App, this path remains and does not get updated. This causes errors, where the worksheet will be looking for linked worksheet via the path defined in the cell. The following error can be seen:\r\n{quote}Some links in your workbook can not be updated at this time{color:#172b4d}\u00a0{color}\r\n{quote}\r\nh3. Steps to Reproduce\r\n # Create two Excel worksheets.\r\n # Link one worksheet to another.\u00a0\r\n ## The following tutorial explains how to do this: [https://www.youtube.com/watch?v=_YgCJb2FF-4]\r\n # Upload both Excel Sheets to Confluence.\u00a0\r\n # Open the linked Excel worksheet via the Companion App, this will open the worksheet.\r\n # Select the the cell(s) that where the link to the other worksheet was defined.\u00a0\r\n # Notice that the path to the other worksheet (in the user's machine)remains the same.\u00a0\r\n ## This presents an issue when multiple users who are using different machines are editing the same excel sheet, as Excel will be looking for the linked sheet in the defined path\r\n\r\nh3. Expected Results\r\n\r\nThe path needs to be updated, or there should be a mechanism to find out where the linked worksheet is and update the path accordingly.\u00a0\r\nh3. Actual Results\r\n\r\nThe path to the other file does not change\u00a0\r\n{code:java}\r\n \r\n='/Users/xxx/Downloads/excel/[Document1.xlsx]Sheet1'!D3\r\n{code}\r\n\u00a0\r\n\r\nAlso, please note that if the linking between excel sheets happen while using the Companion App, the following type of paths might be seen as well\r\n{code:java}\r\n='/Users/xxxx/.atlassian-companion/e1076d92-ea04-4479-8d6e-3a15555f574b/[Document1.xlsx]Sheet1'!$D$3\r\n{code}\r\nThe difference between both types, is that the earlier one the linkage between the excel sheets happen before the files were uploaded to Confluence. While the second one happens when the process of linking one document to another happens while using the Companion App\r\nh3. Workaround\r\n\r\nthere is no known workaround at the moment.",
      "summary": "Excel worksheet that has cells that link to another worksheet, do not get updated when using Companion App. "
    }
  },
  {
    "key": "CONFSERVER-58183",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-21T21:24:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen adding a Date Picker to a table cell on a pate, it is not possible to click the table cells above or below the the cell in Firefox.\r\nh3. Environment\r\nh3. Steps to Reproduce\r\n # Create a page in Confluence using Firefox\r\n # Add a table with at least 3 rows\r\n # Click a cell in the middle row and click \u201c//\u201c to add the date picker\r\n # Try clicking the table cell above or below the date picker cell.\r\n\r\nh3. Expected Results\r\n\r\nThe cursor appears in the selected cell.\r\nh3. Actual Results\r\n\r\nThe cells above and below the date picker are not selectable.\r\n\r\nh3. Note\r\n* Issue is more prominent on empty cells.\r\n* The issue may behave differently when the column contains both dates and texts.\r\n* The issue is that the editor seems to put the cursor on the last date picker on that column\r\n** Other observation is that the cursor is placed on the first line below the title\r\n* The issue is less prominent when the last cell of that column is not a date.\r\n\r\nh3. Workaround\r\n\r\nThe issue is not present in Chrome, so as a workaround use Chrome instead of Firefox to access Confluence.\r\n\r\nIt also appears to work in Firefox if you click towards the left side of the cell roughly where the cursor would appear in that cell.",
      "summary": "When adding a date picker to a table cell in Firefox, the cells above and below are not selectable.  "
    }
  },
  {
    "key": "CONFSERVER-58182",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-19T20:25:31.000+0000",
      "description": "h3. Summary\r\nAfter deleting an in-progress user mention, the autocomplete feature breaks for any subsequent mentions on the same line\r\n\r\nh3. Steps to Reproduce\r\n# Edit a page, and type part of a user's name on an @mention \r\n# Delete characters (backspace) until only the '@' remains\r\n# Start typing another user's name on the mention\r\n\r\n\r\nh3. Expected Results\r\nThe autocomplete feature should change accordingly and suggest mentions based on the new name that is being typed\r\n\r\nh3. Actual Results\r\n\r\nThe autocomplete list of usernames does not update\r\n\r\nh3. Workaround\r\nDelete the '@' symbol as well and start a new mention, now the autocomplete feature will work again\r\n\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Subsequent user mention autocompletes do not work after removing the previous name"
    }
  },
  {
    "key": "CONFSERVER-58181",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-19T20:19:31.000+0000",
      "description": "h3. Issue Summary\r\nConfluence can become unresponsive, waiting on hazelcast to return information relating to labels. This issue is only seen when using the Midori Better Archiving plugin on a Confluence cluster with ~70000 users. \r\n\r\n\r\nh3. Environment\r\n\r\nConfluence 6.6.9 Data Center with 4 nodes\r\nMidori Better Archiving plugin v 8.1.0\r\nh3. Steps to Reproduce\r\n\r\nThe steps to reproduce are difficult to articulate, as the issue occurs while Confluence is under normal usage, albeit with a large number of users. [~jxie] and [~vhu@atlassian.com] have both looked at this previously, and they determined that when the issue is occurring, Hazelcast appears to be overwhelmed. It is believed that the plugin is overwhelming hazelcast with additional requests to the labels cache. Confluence already does a labels fetch on page load (as indicated by the threads similarly waiting on the hazelcast cache for labels information after the plugin had been disabled), but the midori plugin is at least doubling the number of requests to the cache for the same information by checking labels for every web item that might be displayed (the list provided to getDisplayableItems).\r\n\r\nIt does seem like threads are being processed (moving from WAITING to RUNNABLE), but it's happening quite slowly, which could indicate Hazelcast is backed up or that some nodes holding label cache data are responsive while others aren't. \r\n\r\nh3. Expected Results\r\nConfluence should remain stable while the Midori Better Archiving plugin is enabled, even when Confluence is under high load\r\n\r\nh3. Actual Results\r\nHere are some sample threads that show the behavior we see when the issue is occurring:\r\n\r\n{code:borderStyle=solid}\"http-nio-8090-exec-216 url:/display/EXAM/Page+Name username:charlie url:/pages/viewpage.action username:charlie\" #84425 daemon prio=5 tid=0x00007effcc04a000 nid=0x1efee waiting on condition [0x00007efd98398000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:304)\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:153)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:376)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:307)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:101)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:112)\r\n\tat com.atlassian.cache.hazelcast.HazelcastCache.getOrLoad(HazelcastCache.java:243)\r\n\tat com.atlassian.cache.hazelcast.HazelcastCache.get(HazelcastCache.java:95)\r\n\tat com.atlassian.confluence.cache.DefaultConfluenceCache.get(DefaultConfluenceCache.java:47)\r\n\tat com.atlassian.confluence.cache.ConfluenceMonitoringCache.get(ConfluenceMonitoringCache.java:45)\r\n\tat com.atlassian.confluence.cache.DefaultConfluenceCache.get(DefaultConfluenceCache.java:47)\r\n\tat com.atlassian.confluence.cache.ConfluenceMonitoringCache.get(ConfluenceMonitoringCache.java:45)\r\n\tat com.atlassian.confluence.cache.hazelcast.hibernate.HazelcastHibernateCache.get(HazelcastHibernateCache.java:32)\r\n\tat com.atlassian.hibernate.extras.tangosol.CoherenceCacheStrategy.get(CoherenceCacheStrategy.java:68)\r\n\tat com.atlassian.confluence.cache.hibernate.SwitchableCacheConcurrencyStrategy.get(SwitchableCacheConcurrencyStrategy.java:29)\r\n\tat com.atlassian.confluence.cache.hibernate.ConfluenceCacheStrategy.get(ConfluenceCacheStrategy.java:49)\r\n\tat com.atlassian.hibernate.adapter.adapters.cache.EntityRegionAccessStrategyV5Adapter.get(EntityRegionAccessStrategyV5Adapter.java:51)\r\n\tat org.hibernate.engine.internal.CacheHelper.fromSharedCache(CacheHelper.java:32)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.getFromSharedCache(DefaultLoadEventListener.java:651)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromSecondLevelCache(DefaultLoadEventListener.java:595)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:462)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\r\n\t...\r\n\tat com.atlassian.confluence.util.LabelUtil.extractLabelsFromLabellings(LabelUtil.java:625)\r\n\tat com.atlassian.confluence.core.AbstractLabelableEntityObject.getLabels(AbstractLabelableEntityObject.java:26)\r\n\t...\r\n\tat com.atlassian.confluence.spaces.SpaceDescription_$$_jvstabe_15.getLabels(SpaceDescription_$$_jvstabe_15.java)\r\n\tat com.midori.confluence.plugin.archiving.service.support.ContentLifecycleLabelHelper.findSpaceLabel(ContentLifecycleLabelHelper.java:156)\r\n\tat com.midori.confluence.plugin.archiving.service.support.ContentLifecycleLabelHelper.isBlacklistedSpace(ContentLifecycleLabelHelper.java:112)\r\n\tat com.midori.confluence.plugin.archiving.util.NonBlacklistedGlobalFreshSpacePredicate.apply(NonBlacklistedGlobalFreshSpacePredicate.java:15)\r\n\tat com.midori.confluence.plugin.archiving.web.condition.NonBlacklistedGlobalFreshSpaceCondition.shouldDisplay(NonBlacklistedGlobalFreshSpaceCondition.java:15)\r\n\tat com.atlassian.confluence.plugin.descriptor.web.conditions.BaseConfluenceCondition.shouldDisplay(BaseConfluenceCondition.java:33)\r\n\tat com.atlassian.plugin.web.conditions.AndCompositeCondition.shouldDisplay(AndCompositeCondition.java:14)\r\n\tat com.atlassian.plugin.web.conditions.AndCompositeCondition.shouldDisplay(AndCompositeCondition.java:14)\r\n\tat com.atlassian.plugin.web.DefaultWebInterfaceManager.filterFragmentsByCondition(DefaultWebInterfaceManager.java:154)\r\n\tat com.atlassian.plugin.web.DefaultWebInterfaceManager.getDisplayableItems(DefaultWebInterfaceManager.java:107)\r\n\tat com.atlassian.confluence.plugin.descriptor.web.ConfluenceWebInterfaceManager.getDisplayableItems(ConfluenceWebInterfaceManager.java:74)\r\n\t...\r\n\tat com.atlassian.confluence.plugins.pagebanner.PageBannerContextProvider.getBannerItems(PageBannerContextProvider.java:72)\r\n\tat com.atlassian.confluence.plugins.pagebanner.PageBannerContextProvider.getContextMap(PageBannerContextProvider.java:57)\r\n\tat com.atlassian.plugin.web.descriptors.DefaultWebPanelModuleDescriptor$ContextAwareWebPanel.getHtml(DefaultWebPanelModuleDescriptor.java:144)\r\n\t...\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:684)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1539)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1495)\r\n\t- locked <0x00007f03be400550> (a org.apache.tomcat.util.net.NioChannel)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748){code}\r\n\r\n{code:borderStyle=solid}\"http-nio-8090-exec-203 url:/display/EXAM/Page+Name username:charlie url:/pages/viewpage.action username:charlie\" #14472 daemon prio=5 tid=0x00007ffac00fd800 nid=0x1c1e4 waiting on condition [0x00007fec4e98d000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:304)\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:153)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:376)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:307)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:101)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:112)\r\n\tat com.atlassian.cache.hazelcast.HazelcastCache.getOrLoad(HazelcastCache.java:243)\r\n\tat com.atlassian.cache.hazelcast.HazelcastCache.get(HazelcastCache.java:95)\r\n\tat com.atlassian.confluence.cache.DefaultConfluenceCache.get(DefaultConfluenceCache.java:47)\r\n\tat com.atlassian.confluence.cache.ConfluenceMonitoringCache.get(ConfluenceMonitoringCache.java:45)\r\n\tat com.atlassian.confluence.cache.DefaultConfluenceCache.get(DefaultConfluenceCache.java:47)\r\n\tat com.atlassian.confluence.cache.ConfluenceMonitoringCache.get(ConfluenceMonitoringCache.java:45)\r\n\tat com.atlassian.confluence.cache.hazelcast.hibernate.HazelcastHibernateCache.get(HazelcastHibernateCache.java:32)\r\n\tat com.atlassian.hibernate.extras.tangosol.CoherenceCacheStrategy.get(CoherenceCacheStrategy.java:68)\r\n\tat com.atlassian.confluence.cache.hibernate.SwitchableCacheConcurrencyStrategy.get(SwitchableCacheConcurrencyStrategy.java:29)\r\n\tat com.atlassian.confluence.cache.hibernate.ConfluenceCacheStrategy.get(ConfluenceCacheStrategy.java:49)\r\n\tat com.atlassian.hibernate.adapter.adapters.cache.EntityRegionAccessStrategyV5Adapter.get(EntityRegionAccessStrategyV5Adapter.java:51)\r\n\tat org.hibernate.engine.internal.CacheHelper.fromSharedCache(CacheHelper.java:32)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.getFromSharedCache(DefaultLoadEventListener.java:651)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromSecondLevelCache(DefaultLoadEventListener.java:595)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:462)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\r\n\t...\r\n\tat com.atlassian.confluence.user.ConfluenceUserImpl_$$_jvstb24_3.getName(ConfluenceUserImpl_$$_jvstb24_3.java)\r\n\tat com.atlassian.confluence.labels.Label.getOwner(Label.java:90)\r\n\tat com.atlassian.confluence.labels.LabelParser.create(LabelParser.java:189)\r\n\tat com.atlassian.confluence.labels.LabelParser.render(LabelParser.java:193)\r\n\tat com.atlassian.confluence.labels.Label.getDisplayTitle(Label.java:170)\r\n\tat com.atlassian.confluence.util.LabelUtil.extractLabelsFromLabellings(LabelUtil.java:626)\r\n\tat com.atlassian.confluence.core.AbstractLabelableEntityObject.getLabels(AbstractLabelableEntityObject.java:26)\r\n\t...\r\n\tat com.atlassian.confluence.spaces.SpaceDescription_$$_jvstb24_15.getLabels(SpaceDescription_$$_jvstb24_15.java)\r\n\tat com.atlassian.confluence.userstatus.DefaultFavouriteManager.isUserFavourite(DefaultFavouriteManager.java:48)\r\n\t...\r\n\tat com.atlassian.confluence.plugins.ia.ui.DefaultSoySidebarContextProvider.populateWithMainSidebarData(DefaultSoySidebarContextProvider.java:201)\r\n\tat com.atlassian.confluence.plugins.ia.ui.DefaultSoySidebarContextProvider.getContextMap(DefaultSoySidebarContextProvider.java:116)\r\n\t...\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:684)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1539)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1495)\r\n\t- locked <0x00007ff290402f40> (a org.apache.tomcat.util.net.NioChannel)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748){code}\r\n\r\n{code:borderStyle=solid}\"http-nio-8090-exec-220 url:/display/EXAM/Page+Name username:charlie url:/pages/viewpage.action username:charlie\" #84429 daemon prio=5 tid=0x00007effcc163800 nid=0x1eff2 runnable [0x00007efd8dfa9000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.lang.System.identityHashCode(Native Method)\r\n\tat java.util.IdentityHashMap.hash(IdentityHashMap.java:295)\r\n\tat java.util.IdentityHashMap.get(IdentityHashMap.java:329)\r\n\tat org.hibernate.engine.internal.EntityEntryContext.getAssociatedManagedEntity(EntityEntryContext.java:177)\r\n\tat org.hibernate.engine.internal.EntityEntryContext.addEntityEntry(EntityEntryContext.java:91)\r\n\tat org.hibernate.engine.internal.StatefulPersistenceContext.addEntry(StatefulPersistenceContext.java:544)\r\n\tat org.hibernate.engine.internal.StatefulPersistenceContext.addEntity(StatefulPersistenceContext.java:471)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.addUninitializedCachedEntity(TwoPhaseLoad.java:385)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.convertCacheEntryToEntity(DefaultLoadEventListener.java:738)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.processCachedEntry(DefaultLoadEventListener.java:625)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromSecondLevelCache(DefaultLoadEventListener.java:602)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:462)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:116)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1230)\r\n\tat org.hibernate.internal.SessionImpl.immediateLoad(SessionImpl.java:1088)\r\n\tat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:155)\r\n\tat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:259)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:73)\r\n\tat com.atlassian.hibernate.adapter.proxy.JavassistLazyInitializer_ImplementV2Proxy.invoke(JavassistLazyInitializer_ImplementV2Proxy.java:68)\r\n\tat com.atlassian.confluence.user.ConfluenceUserImpl_$$_jvstabe_3.getName(ConfluenceUserImpl_$$_jvstabe_3.java)\r\n\tat com.atlassian.confluence.labels.Label.getOwner(Label.java:90)\r\n\tat com.atlassian.confluence.labels.LabelParser.create(LabelParser.java:189)\r\n\tat com.atlassian.confluence.labels.LabelParser.render(LabelParser.java:193)\r\n\tat com.atlassian.confluence.labels.Label.getDisplayTitle(Label.java:170)\r\n\tat com.atlassian.confluence.util.LabelUtil.extractLabelsFromLabellings(LabelUtil.java:626)\r\n\tat com.atlassian.confluence.core.AbstractLabelableEntityObject.getLabels(AbstractLabelableEntityObject.java:26)\r\n\t...\r\n\tat com.atlassian.confluence.spaces.SpaceDescription_$$_jvstabe_15.getLabels(SpaceDescription_$$_jvstabe_15.java)\r\n\tat com.midori.confluence.plugin.archiving.service.support.ContentLifecycleLabelHelper.findSpaceLabel(ContentLifecycleLabelHelper.java:156)\r\n\tat com.midori.confluence.plugin.archiving.service.support.ContentLifecycleLabelHelper.isBlacklistedSpace(ContentLifecycleLabelHelper.java:112)\r\n\tat com.midori.confluence.plugin.archiving.util.NonBlacklistedGlobalFreshSpacePredicate.apply(NonBlacklistedGlobalFreshSpacePredicate.java:15)\r\n\tat com.midori.confluence.plugin.archiving.web.condition.NonBlacklistedGlobalFreshSpaceCondition.shouldDisplay(NonBlacklistedGlobalFreshSpaceCondition.java:15)\r\n\tat com.atlassian.confluence.plugin.descriptor.web.conditions.BaseConfluenceCondition.shouldDisplay(BaseConfluenceCondition.java:33)\r\n\tat com.atlassian.plugin.web.conditions.AndCompositeCondition.shouldDisplay(AndCompositeCondition.java:14)\r\n\tat com.atlassian.plugin.web.conditions.AndCompositeCondition.shouldDisplay(AndCompositeCondition.java:14)\r\n\tat com.atlassian.plugin.web.DefaultWebInterfaceManager.filterFragmentsByCondition(DefaultWebInterfaceManager.java:154)\r\n\tat com.atlassian.plugin.web.DefaultWebInterfaceManager.getDisplayableItems(DefaultWebInterfaceManager.java:107)\r\n\tat com.atlassian.confluence.plugin.descriptor.web.ConfluenceWebInterfaceManager.getDisplayableItems(ConfluenceWebInterfaceManager.java:74)\r\n\t...\r\n\tat com.atlassian.confluence.plugins.pagebanner.PageBannerContextProvider.getBannerItems(PageBannerContextProvider.java:72)\r\n\tat com.atlassian.confluence.plugins.pagebanner.PageBannerContextProvider.getContextMap(PageBannerContextProvider.java:57)\r\n\tat com.atlassian.plugin.web.descriptors.DefaultWebPanelModuleDescriptor$ContextAwareWebPanel.getHtml(DefaultWebPanelModuleDescriptor.java:144)\r\n\t...\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:684)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1539)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1495)\r\n\t- locked <0x00007f03af801258> (a org.apache.tomcat.util.net.NioChannel)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748){code}\r\n\r\nh3. Notes\r\n\r\nIs it possible that this is a bug in hazelcast? Perhaps https://github.com/hazelcast/hazelcast/issues/13170\r\n\r\nh3. Workaround\r\nDisable Midori Better Archiving\r\n",
      "summary": "Confluence cluster can become unresponsive when hazelcast must return information related to many labels"
    }
  },
  {
    "key": "CONFSERVER-58180",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-08T06:06:14.000+0000",
      "created": "2019-04-19T19:02:34.000+0000",
      "description": "eh3. Issue Summary\r\n\r\nIf you upgrade tomcat to version 9.0.14 - 9.0.19, emoticons are broken. Both emoticons on pages, and the emoticon browser do not load.\r\nh3. Issues observed:\r\n # Insert Emoticon Menu\r\n !screenshot-1.png|thumbnail!\r\n # Emoticon on pages:\r\n !screenshot-4.png|thumbnail!\r\n # Global Permission page:\r\n !screenshot-2.png|thumbnail!\r\n # User icon link:\r\n !screenshot-3.png|thumbnail!\r\n\r\nh3. Environment\r\n * Confluence 6.13.4, tomcat 9.0.14\r\n * Confluence 6.15.3 tomcat 9.0.17\r\n\r\njava -cp catalina.jar org.apache.catalina.util.ServerInfo \r\n In 6.15.2 the output looks like:\r\n\r\nServer version: Apache Tomcat/9.0.12\r\n Server built: Sep 4 2018 22:13:41 UTC\r\n Server number: 9.0.12.0*\r\nh3. Steps to Reproduce\r\n # Upgrade tomcat to 9.0.14 following directions [here|https://confluence.atlassian.com/confkb/how-to-upgrade-the-tomcat-container-for-confluence-336757062.html]\r\n # Step 2\r\n Edit a page and load the emoticon browser and observe that the images don't load\r\nh3. Expected Results\r\n\r\nEmoticon images should load\r\nh3. Actual Results\r\n\r\nemoticon images dont load\r\n\r\nh3. Notes\r\n\r\nIf you inspect a HAR file, you will see that in tomcat 9.0.13 and earlier, the content-type for the image is image/svg+xml;charset=UTF-8\r\n After upgrading to tomcat 9.0.14 the content-type is text/html;charset=UTF-8\r\n\r\nI checked the [release notes|https://tomcat.apache.org/tomcat-9.0-doc/changelog.html] for Tomcat 9.0.14, and it looks like the issue is caused by this change: \"The default Servlet should not override a previously set content-type\"\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n{panel:title=Workaround Warning|borderStyle=solid|borderColor=#ff7f7f|titleBGColor=#ff7f7f|bgColor=#e5e5e5}\r\nThe provided workaround of downgrading Tomcat to 9.0.12 restores SVG functionality, but leaves the instance exposed to CONFSERVER-58106: Update Confluence Server to use Tomcat 9.0.16 to address CVE-2019-0199 (fixed in Confluence Server 7.0.1, 6.15.3, 6.14.4, 6.13.5, 6.6.14, 6.15.4) which is fixed in Tomcat 9.0.16. For this reason, anyone who has undertaken the downgrade of Tomcat to restore functionality should plan an upgrade to Confluence 6.15.4 (or later) as a matter of urgency.\r\n\r\nCustomers who have implemented header rewrite rules at the reverse proxy layer, and are continuing to run Tomcat 9.0.16 are protected from the above CVE.\r\n\r\nIf you are unsure of your Tomcat version, you can use the below command to verify which version of Tomcat you're running. The command should be run from the {{<Confluence-Install>/lib}} directory\r\n{code:java|title=Verify Tomcat Server Version}\r\njava -cp catalina.jar org.apache.catalina.util.ServerInfo\r\n{code}\r\n{panel}\r\n\r\nWe have since released Confluence 6.15.4 which contains a fix for this issue. We recommend upgrading immediately if you're impacted by the issue. \r\n\r\nWe no longer recommend the below workaround to downgrade Tomcat to 9.0.12, but it is available if required:\r\n # Download the Tomcat 9.0.12 lib directory  [^Tomcat-9-0-12-lib.zip] , attached to this issue (alternatively you can download and extract the [apache-tomcat-9.0.12.zip or apache-tomcat-9.0.12.tar.gz|[https://archive.apache.org/dist/tomcat/tomcat-9/v9.0.12/bin/]] from the Apache archives).\r\n # Stop Confluence\r\n # *Back up* your installation directory.\r\n # Remove the contents of your existing {{<install-directory>/lib}} directory.\r\n # Copy the contents of the downloaded lib directory to your existing {{<install-directory>/lib}} directory.\r\n # Restart Confluence\r\n # Go to *General Configuration* > *System Information* and confirm Confluence is now using Apache Tomcat 9.0.12.\r\n # Edit a page and confirm that you can successfully insert an emoticon.\r\n\r\nYour browser may have cached the broken assets, so perform a hard refresh to confirm the fix has worked. If you suspect your users may also have cached broken assets, make a small change to your site colour scheme (for example change a colour and then change it back).",
      "summary": "Tomcat 9.0.14 and later breaks Emoticons"
    }
  },
  {
    "key": "CONFSERVER-58179",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-19T12:10:13.000+0000",
      "description": "I have problem\u00a0 with cyrillic symbols in word files (doc ). In small preview they are normal, but if i click on them i have strange symbols.\r\n\r\nConfluence's version is\u00a0 6.15.2, database - mysql 10.\r\n\r\ncharacter_set_database is\u00a0 utf8, collation_database is utf8_bin, encoding in general settings - utf8. \r\nHow can i resolve this?\r\n\r\n\r\n\r\n!image-2019-04-19-15-09-18-670.png!\r\n\r\n\u00a0",
      "summary": "Problem with cyrillic symbols"
    }
  },
  {
    "key": "CONFSERVER-58178",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-22T03:41:10.000+0000",
      "created": "2019-04-19T10:00:04.000+0000",
      "description": "h4. Steps to replicate the issue\r\n# Create a few pages in Confluence with [Page Properties Macro|https://confluence.atlassian.com/doc/page-properties-macro-184550024.html]\r\n# Create another page and insert a [Page Properties Report Macro|https://confluence.atlassian.com/doc/page-properties-report-macro-186089616.html] based on the label from the page containing the [Page Properties Macro|https://confluence.atlassian.com/doc/page-properties-macro-184550024.html] inside an [Expand Macro|https://confluence.atlassian.com/doc/expand-macro-223222352.html]\r\n\r\nh4. Expected Behaviour\r\nThe [Page Properties Report Macro|https://confluence.atlassian.com/doc/page-properties-report-macro-186089616.html] behave correctly inside the Expand Macro.\r\n\r\nh4. Actual Behaviour\r\nThe *first row* of the Page Properties Report Macro\u00a0is freezes with the following behaviour:\r\n* Has a grey background. \r\n(i) This is not visible in Confluence version 6.15.1\r\n* Is ignored when the table is sorted in read mode.\r\n* Cannot be highlighted to place a inline comment or create a JIRA-Ticket\r\n* Is ignored when the number of items to display is higher than set in the macro and the pagination options appear.\r\n",
      "summary": "First row from the Page Properties Report Macro freezes if the Page Properties Report Macro is inside an Expand Macro"
    }
  },
  {
    "key": "CONFSERVER-58177",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-18T18:54:22.000+0000",
      "description": "We should have a database integrity checker for Confluence just like the one for Jira as described in [this documentation|https://confluence.atlassian.com/adminjiraserver/using-the-database-integrity-checker-938847667.html]. The Database Integrity Checker should be implemented to ensure that all Confluence data is in a consistent state. Couple of examples can be checked and validated:\r\n# Ancestor table corruption.\r\n# Decorator table.\r\n# Plugin manager state map.\r\n# Permissions.\r\n# System administrators group.\r\n# Unmigrated macros.",
      "summary": "Database Integrity Checker for Confluence"
    }
  },
  {
    "key": "CONFSERVER-58176",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-18T16:56:52.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf you create and try to save an inline comment after highlighting the text in a Summary field contained within a Jira Issues macro, Confluence returns the message \"Could not save the comment.\"\r\nh3. Environment\r\n * Occurred in Confluence version 6.15.1, verified in version 6.13.0 with Jira 7.13.0\r\n\r\nh3. Steps to Reproduce\r\n # Create an app link integration between Confluence and Jira.\r\n # Create a page in Confluence.\r\n # Add a Jira Issues macro into the page. When configuring the display of the macro, ensure that the Summary field is included.\r\n # Save the page.\r\n # View the page in Confluence.\r\n # Highlight text located within the Summary column and click on inline comment icon to add a comment.\r\n # Enter comment and save.\r\n\r\nh3. Expected Results\r\n\r\nYou are prevented from using inline comments on the output of a macro and get an error message stating that.\r\nh3. Actual Results\r\n\r\nConfluence returns the message \"Could not save the comment.\"\r\n\r\nHAR file shows that the following REST call returns an HTTP 500 error:\r\n{code:java}\r\n<base-url>/rest/inlinecomments/1.0/comments\r\n{code}\r\nApplication logs show the following error:\r\n{code:java}\r\n2019-04-18 09:52:27,093 WARN [http-nio-9613-exec-7] [plugins.inlinecomments.service.InlineCommentServiceImpl] attemptInlineCommentCreateForPage The text selection is wrong\r\n -- referer: <base-url>/display/MYSPACE/Test+Page | url: /conf/rest/inlinecomments/1.0/comments | traceId: 832de33c025e7082 | userName: charlie\r\ncom.atlassian.confluence.plugins.highlight.SelectionModificationException: The text selection is wrong\r\n\tat com.atlassian.confluence.plugins.highlight.service.SelectionValidator.validateSelection(SelectionValidator.java:65)\r\n{code}\r\nh3. Workaround\r\n\r\nNone. Not being able to highlight text and add an inline comment is by design.",
      "summary": "Confusing error message when trying to insert inline comment in macro content"
    }
  },
  {
    "key": "CONFSERVER-58175",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-18T13:46:29.000+0000",
      "description": "h3. Issue Summary\r\nWhile editing a page with an empty HTML macro in it, the blank area will shrink upon page load and not allowing text entry.\r\n\r\nSee sample screencast:  [^Recording #9.mp4] \r\n\r\nh3. Environment\r\n* Reproducible on Chrome and Safari\r\n* While the HTML macro does shrink in Firefox, but the text area is still accepting text from the cursor\r\n* Test on Confluence 6.14\r\n\r\nh3. Steps to Reproduce\r\n# Create an empty page\r\n# Insert empty HTML macro\r\n# Save the page\r\n# Edit the page again\r\n# Click on the blank area inside the HTML macro to place the cursor in it\r\n# Start typing\r\n\r\nh3. Expected Results\r\nThe cursor is placed inside the HTML macro and text is inserted into the macro\r\n\r\nh3. Actual Results\r\nThe cursor doesn't place inside the HTML macro and text is inserted outside of the macro\r\n\r\nh3. Workaround\r\nTriple-click on the blank area (inside of HTML macro) and start typing\r\n\r\nh3. Note\r\nThis issue is NOT reproducible if Collaborative Editing is set to OFF",
      "summary": "HTML macro shrinks and doesn't allow text entry"
    }
  },
  {
    "key": "CONFSERVER-58174",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-18T12:27:19.000+0000",
      "description": null,
      "summary": "Update \"Hierarchical File System Attachment Storage\" KB article"
    }
  },
  {
    "key": "CONFSERVER-58173",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-29T04:25:33.000+0000",
      "created": "2019-04-18T06:35:27.000+0000",
      "description": "h4. Steps To Replicate \r\n# *Disable* the bundled *Confluence Previews* plugin from *Manage Apps* > *System* Add-Ons.\r\n# Create a Confluence page and attach a few attachments. (tested with .PDF file)\r\n# Insert a *Livesearch Macro* in the page containing the attachments.\r\n# Search for the attachment in the *Livesearch Macro* and press *Enter* to list the search result.\r\n\r\nh4. Expected Behaviour\r\nClicking on the attachments file links from the *Livesearch Macro* will prompt user to download the file since the *Confluence Previews* plugin is disabled.\r\n\r\nh4. Actual Behaviour\r\n# *Livesearch Macro* result is not downloadable via the search result:\r\n#* !searchresult.png|thumbnail!\r\n\r\nh4. Workaround\r\n# *Livesearch Macro* result is downloadable via the autocomplete search result:\r\n#* !autocompleteresult.png|thumbnail!",
      "summary": "Attachments link from Livesearch Macro result is not downloadable if the bundled Confluence Previews plugin is disabled."
    }
  },
  {
    "key": "CONFSERVER-58172",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-17T18:06:17.000+0000",
      "description": "As a Confluence administrator, I would like to be able to export entire spaces containing only the latest version of it's attachments. \r\n\r\nh3. Why is it important\r\nExporting big spaces, with lots of attachments can take quite some time and space. \r\nAlso, this can hinder smaller instances when migrating Spaces.\r\n\r\nh3. Possible solution\r\nAllow admins to select to export only the latest version of attachments. ",
      "summary": "Ability to export only latest version of attachment on XML export"
    }
  },
  {
    "key": "CONFSERVER-58171",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-17T17:27:28.000+0000",
      "description": "h3. Summary\r\nUsers are partially able edit their user details even though the user belongs to a directory with a Delegated authentication.\r\n\r\nh3. Steps to Reproduce\r\n# Have a Confluence connected to a user directory with a Delegated LDAP Authentication settings\r\n# Make sure that the user from that directory can log in.\r\n# Edit the user details from the \"Edit Profile\" page:\r\n## Login as the user\r\n## Go to their Profile\r\n## Click \"Edit Profile\".\r\n## Type a text in the \"About me\" box.\r\n\r\nh3. Expected Results\r\nThe user will be able to edit the fields or should see a warning saying that delegated users should not be able to edit those fields.\r\n\r\nh3. Actual Results\r\nError is thrown in the logs and the UI:\r\n{code}\r\n2019-04-04 13:31:17,819 ERROR [http-nio-8090-exec-17] [atlassian.confluence.servlet.ConfluenceServletDispatcher] sendError Could not execute action\r\n -- referer: https://confluence.usf.edu/users/editmyprofile.action | url: /users/doeditmyprofile.action | traceId: 772e5db83b6cf8b6 | userName: gviana\r\ncom.atlassian.core.exception.InfrastructureException: com.atlassian.crowd.exception.OperationNotPermittedException: com.atlassian.crowd.exception.ApplicationPermissionException: Cannot update user 'gviana' because directory 'Delegated LDAP Authentication' does not allow updates.\r\n\tat bucket.user.DefaultUserAccessor.saveUser(DefaultUserAccessor.java:208)\r\n{code}\r\n\r\nh3. Workaround\r\nUse a Connector Directory",
      "summary": "Cannot edit User Details(Phone Number, About Me...) when Confluence is connected to a Delegated LDAP"
    }
  },
  {
    "key": "CONFSERVER-58170",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-04-17T01:31:40.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n\r\nEAC\r\nh3. Steps to Reproduce\r\n # Open the create content dialog and select DACI page\r\n # In the form, enter a driver and an approver\r\n # Click on the due date field\r\n\r\n!image-2019-04-17-11-29-09-876.png|width=487,height=278!\r\nh3. Expected Results\r\n\r\nThe driver and approver remain and you can select a data\r\nh3. Actual Results\r\n\r\nThe driver and approver fields are cleared and when you actually create the page, the fields are not pre-populated\u00a0\r\nh3. Notes\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n\r\nAdd the fields in the page itself",
      "summary": "Cannot create a DACI page with prepopulated Driver/Approver"
    }
  }
]