[
  {
    "key": "CONFSERVER-66549",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-08T10:26:57.000+0000",
      "description": "h3. Issue Summary\r\nAnonymization of accounts in Confluence. \r\nCurrently Anonymization of Confluence users is only possible if user management directory is Jira and Confluence is connected with Jira.\r\n\r\nThe request is to have the same feature in Confluence as it is with Jira\r\n\r\n",
      "summary": "Anonymization of accounts in Confluence"
    }
  },
  {
    "key": "CONFSERVER-66548",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-08T09:04:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\n{{Expand}} macro is only clickable/expandable for the first page of {{Page Properties Report}} macro if the \"{{Number of items to display}}\" option is set to a value lower than the total items and this leads to pagination for {{Page Properties Report}} macro.\r\nPlease see the screen recording:  [^Screen Recording 2021-07-08 at 12.09.16 PM.mp4] \r\n\r\nh3. Steps to Reproduce\r\n(i) If you use this space export you can skip the first two steps.  [^Confluence-space-export-120253-2.xml.zip] \r\n\r\n# Create some pages with a {{Page Property}} macro and insert Expand macro for one of the columns. (10 pages should be ok to test it). Label them as \"test\".\r\n# Create a page with a {{Page Property Report}} macro and configure it to show the results of the \"test\" label. Set the \"Number of items to display\" option to display 5 items.\r\n# The report will show the 5 results under its first page and the links for expanding {{Expand}} macro *is* working. The content inside the {{Expand}} macro is displayed\r\n# Click on \"Next\" to see the next 5 results and click the link for expanding {{Expand}} macro.\r\n\r\nh3. Expected Results\r\nThe links *are* working and the content inside the {{Expand}} macro is displayed.\r\n\r\nh3. Actual Results\r\nThe links *are not* working and nothing happens.\r\n\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Expand Macro only works for the first page of Page Properties Report macro"
    }
  },
  {
    "key": "CONFSERVER-66547",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-08T07:31:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf the database name or schema name in a Microsoft SQL Server database has multiple prefixes, the upgrade will fail for Confluence 7.12.3\r\n\r\nExample: confluence.company.com.dbo.SPACES\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.4.10 with Microsoft SQL Server 2016\r\n # Upgrade to Confluence 7.12.3\r\n\r\nh3. Expected Results\r\n\r\nThe upgrade should complete without errors.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{code:java}\r\n2021-07-07 07:27:44,369 ERROR [perm-delta-cache-receiver] [engine.jdbc.spi.SqlExceptionHelper] logExceptions Invalid column name 'external_id'.\r\n2021-07-07 07:27:44,377 WARN [perm-delta-cache-receiver] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[PluginReadWriteTx]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #282090034)\r\n2021-07-07 07:27:44,418 ERROR [perm-delta-cache-receiver] [gatekeeper.evaluator.cache.CacheUpdateReceiver] error Failed to initialize evaluator cache\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:228)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:388)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:337)\r\n\tat com.atlassian.crowd.embedded.hibernate2.HibernateGroupDao.internalFindByName(HibernateGroupDao.java:479)\r\n\tat com.atlassian.crowd.embedded.hibernate2.HibernateGroupDao.findByName(HibernateGroupDao.java:82)\r\n\tat com.atlassian.confluence.impl.user.crowd.CachedCrowdGroupDao.findGroupInternal(CachedCrowdGroupDao.java:78)\r\n\tat com.atlassian.confluence.impl.user.crowd.CachedCrowdGroupDao.lambda$findGroup$0(CachedCrowdGroupDao.java:101)\r\n\tat com.atlassian.confluence.cache.CacheOperations.lambda$get$0(CacheOperations.java:172)\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1133)\r\n\tat com.atlassian.confluence.cache.CacheOperations.get(CacheOperations.java:172)\r\n\tat com.atlassian.confluence.cache.DeferredOperationsCache.getOrLoad(DeferredOperationsCache.java:93)\r\n\tat com.atlassian.confluence.cache.DeferredOperationsCache.get(DeferredOperationsCache.java:57)\r\n\tat com.atlassian.confluence.cache.TransactionalCacheFactory$TransactionalCache.get(TransactionalCacheFactory.java:343)\r\n\tat com.atlassian.confluence.impl.cache.tx.TransactionAwareCache$1.get(TransactionAwareCache.java:43)\r\n\tat com.atlassian.confluence.impl.user.crowd.CachedCrowdGroupDao.findGroup(CachedCrowdGroupDao.java:101)\r\n\tat com.atlassian.confluence.impl.user.crowd.CachedCrowdGroupDao.findByName(CachedCrowdGroupDao.java:113)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy77.findByName(Unknown Source)\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.findGroupByName(AbstractInternalDirectory.java:709)\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.findGroupByName(AbstractInternalDirectory.java:64)\r\n\tat com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.findGroupByName(DirectoryManagerGeneric.java:497)\r\n\tat com.atlassian.crowd.manager.application.canonicality.CanonicalEntityByNameFinder.findByName(CanonicalEntityByNameFinder.java:106)\r\n\tat com.atlassian.crowd.manager.application.canonicality.CanonicalEntityByNameFinder.findByName(CanonicalEntityByNameFinder.java:92)\r\n\tat com.atlassian.crowd.manager.application.canonicality.CanonicalEntityByNameFinder.findGroupByName(CanonicalEntityByNameFinder.java:66)\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric.findGroupByName(ApplicationServiceGeneric.java:653)\r\n\tat com.atlassian.crowd.embedded.core.CrowdServiceImpl.getGroup(CrowdServiceImpl.java:135)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy86.getGroup(Unknown Source)\r\n\tat com.atlassian.crowd.embedded.atlassianuser.EmbeddedCrowdGroupManager.getGroup(EmbeddedCrowdGroupManager.java:108)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy124.getGroup(Unknown Source)\r\n\tat bucket.user.DefaultUserAccessor.getGroup(DefaultUserAccessor.java:257)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy71.getGroup(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy514.getGroup(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy2729.getGroup(Unknown Source)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.GroupMembersCache.getGroupMembersFromApi(GroupMembersCache.java:85)\r\n\tat java.base/java.util.Map.computeIfAbsent(Map.java:1003)\r\n\tat java.base/java.util.Collections$SynchronizedMap.computeIfAbsent(Collections.java:2682)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.GroupMembersCache.get(GroupMembersCache.java:105)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.EvaluatorCacheImpl.hasUserCanUse(EvaluatorCacheImpl.java:209)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.UserCache.finish(UserCache.java:176)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.EvaluatorCacheImpl.finish(EvaluatorCacheImpl.java:169)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.EvaluatorCacheImpl.<init>(EvaluatorCacheImpl.java:85)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.EvaluatorCacheFactoryImpl.lambda$createInstance$0(EvaluatorCacheFactoryImpl.java:38)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.lambda$doInTransaction$0(SpringHostContextAccessor.java:70)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.access$001(ConfluenceSpringHostContextAccessor.java:21)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.lambda$doInTransaction$3(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.doInTransaction(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor280.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy251.execute(Unknown Source)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor280.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy2728.execute(Unknown Source)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.EvaluatorCacheFactoryImpl.createInstance(EvaluatorCacheFactoryImpl.java:36)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.CacheUpdateReceiver.initCache(CacheUpdateReceiver.java:85)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.CacheUpdateReceiver.processAnyEvents(CacheUpdateReceiver.java:113)\r\n\tat com.atlassian.confluence.plugins.gatekeeper.evaluator.cache.CacheUpdateReceiver.run(CacheUpdateReceiver.java:98)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2168)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1931)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1893)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:938)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2692)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2675)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2502)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1936)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:370)\r\n\tat org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:392)\r\n\tat com.atlassian.crowd.embedded.hibernate2.HibernateGroupDao.lambda$internalFindByName$17(HibernateGroupDao.java:483)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:385)\r\n\t... 154 more\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'external_id'.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:260)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1547)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:528)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:461)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7342)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2688)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:224)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:204)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:383)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\r\n\t... 169 more\r\n{code}\r\nh3. Workaround\r\n\r\nThere are two possible workarounds of this problem:\r\nh4. Option 1\r\n\r\nUpdate the database/schema name and remove the periods(.) from the name and update the confluence.cfg.xml file with the new name.\r\nh4. Option 2\r\n\r\nAdd new column *external_id* to the *cwd_group* table before starting upgrade (it's important to put your database and schema name in square brackets []):\r\n{code:java}\r\nalter table\u00a0[your_database_name].[your_schema_name].cwd_group add external_id nvarchar(255)\u00a0{code}",
      "summary": "Confluence upgrade to 7.12.3 fails because of new column missing in cwd_group table (MS SQL Server)"
    }
  },
  {
    "key": "CONFSERVER-66546",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-15T18:47:44.000+0000",
      "created": "2021-07-08T04:43:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe numbering column cannot display the double-digit number properly as the column does not expand automatically.\r\nh3. Steps to Reproduce\r\n # Install a Confluence 7.2.1(or any affected version)\r\n # Add a table with more than 10 rows\r\n # Add a numbering column and see the column does not expand and the double-digit cannot display on the same line like the following:\r\n !test1.png|thumbnail!\r\n\r\nh3. Expected Results\r\n\r\nThe numbering column expands automatically as the number of digits increases.\r\nh3. Actual Results\r\n\r\nThe numbering column size is fixed on 1 and it does not expand.\r\n\r\nNo errors appeared in the application log or browser console.\r\nh3. Workaround\r\n\r\nEither use *Responsive* mode or a normal column that allows changing column size.",
      "summary": "Numbering column does not expand when the numbers become double-digit"
    }
  },
  {
    "key": "CONFSERVER-66530",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-07T19:14:29.000+0000",
      "description": "h3. Issue Summary\r\nPlugin Data Storage does not display data\r\n\r\nh3. Steps to Reproduce\r\n # Install and set-up Confluence 7.4.5 or newer\r\n # Access Plugin Data Storage page via /plugins/servlet/active-objects/tables/list\r\n\r\nh3. Expected Results\r\n !744_plugin_data_storage.png|thumbnail! \r\n\r\nh3. Actual Results\r\n !745_plugin_data_storage.png|thumbnail! \r\n\r\nAll plugins name as unknown, table column as '$i.table' and rows as '$i.rows'\r\n\r\nh3. Workaround\r\n\r\nPerform these steps to restore the functionality in Confluence:\r\n # Edit *<confluence-install-dir>/confluence/WEB-INF/classes/velocity.properties*\r\n # Replace the full line containing *com.atlassian.activeobjects* from the *introspector.restrict.packages* section with:\u00a0\r\n{code:java|bgColor=#f8f8f8}\r\n com.atlassian.activeobjects.ao,\\\r\n com.atlassian.activeobjects.config,\\\r\n com.atlassian.activeobjects.internal,\\\r\n com.atlassian.activeobjects.osgi,\\\r\n com.atlassian.activeobjects.plugin,\\\r\n com.atlassian.activeobjects.servlet,\\\r\n com.atlassian.activeobjects.spring,\\\r\n com.atlassian.activeobjects.util,\\ {code}\r\n # Restart Confluence\r\n\r\n(!) Bear in mind that these changes were made in order to limit potential template injection vulnerabilities ([CONFSERVER-59898|https://jira.atlassian.com/browse/CONFSERVER-59898]), so there are some security implications to this workaround. You might consider making this change, getting the data you need from the page, and then reverting it and restarting Confluence again.",
      "summary": "Plugin Data Storage does not display data"
    }
  },
  {
    "key": "CONFSERVER-66529",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-07T16:33:15.000+0000",
      "description": "Whenever a child page(s) are deleted the parent page content is run and displayed after the deletion.\u00a0\u00a0 In some cases the parent page is labor intensive and if several child pages are delted the parent page content runs which overloads the CPU.\r\n\r\nSuggest just a message showing page deleted and an option to view parent page content.\u00a0 In most options, imo,viewing the parent page is not desired and only adds additional overhead to an already texed system.",
      "summary": "After a child page is deleted do not display the parent page..."
    }
  },
  {
    "key": "CONFSERVER-66528",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-07T08:23:53.000+0000",
      "description": "h3. Issue Summary\r\nValid RSS is not rendering\r\nh3. Steps to Reproduce\r\n # Create a new page\r\n # Add the below RSS macro - \r\n ## https://www.heise.de/security/rss/alert-news-atom.xml\r\n# Save the page and then whitelist the RSS domain and save the changes\r\n# Refresh the page\r\n# You will see that the RSS fails to render \r\n# RSS validity passes the check as tested on https://validator.w3.org/feed/check.cgi\r\n# This issue is expected to occur after a fix was applied on https://jira.atlassian.com/browse/CONFSERVER-53916\r\n\r\nh3. Expected Results\r\n* The RSS fails to render\r\nh3. Actual Results\r\n* The RSS should render\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Valid RSS is not rendering in Confluence versions above 7.0"
    }
  },
  {
    "key": "CONFSERVER-66527",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-20T06:14:35.000+0000",
      "created": "2021-07-06T23:07:33.000+0000",
      "description": "Please update [https://confluence.atlassian.com/doc/restoring-a-space-152036.html]\u00a0with a warning under the *Troubleshooting* section for users to ensure that there is ample space on the destination/target Confluence instance to handle the imported space file, plus the copies of the file that are made while\u00a0Confluence imports the space file.",
      "summary": "Update Restoring a Space document for warning about having enough space on destination server "
    }
  },
  {
    "key": "CONFSERVER-66523",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-06T17:27:08.000+0000",
      "description": "h3. Issue Summary\r\nConfluence search ranking doesn't match with that of explain.action .It looks like there is further filtering on results returned by Lucene filter\r\nh3. Steps to Reproduce\r\n #  Create a page titled Song\r\n #  Create a page with any title and add song in page content\r\n# Create a new page with any title and attachment as Song\r\n\r\nh3. Expected Results\r\nResults of explain.action should be similar to that present in Confluence search\r\n\r\nh3. Actual Results\r\nIn explain.action we can see following,the page titled Song has a higher ranking\r\n{code}\r\n query:\r\n\r\n(title:song^2.0 contentBody:song content-name-unstemmed:song)\r\n\r\n(1) @@@hl@@@Song@@@endhl@@@:\r\n22.103605 = boostByModificationDate\r\n  14.735737 = (MATCH) sum of:\r\n    9.309661 = (MATCH) weight(title:song^2.0 in 201) [BM25LSimilarity], result of:\r\n      9.309661 = score(doc=201,freq=1.0 = termFreq=1.0), product of:\r\n        2.0 = boost\r\n        3.63279 = idf(docFreq=5, maxDocs=207)\r\n        1.2813376 = tfNorm, computed from:\r\n          1.0 = termFreq=1.0\r\n          1.25 = parameter k1\r\n          0.3 = parameter b\r\n          1.7971015 = avgFieldLength\r\n          1.0 = fieldLength\r\n    5.4260764 = (MATCH) weight(content-name-unstemmed:song in 201) [BM25LSimilarity], result of:\r\n      5.4260764 = score(doc=201,freq=1.0 = termFreq=1.0), product of:\r\n        4.4212475 = idf(docFreq=2, maxDocs=207)\r\n        1.2272727 = tfNorm, computed from:\r\n          1.0 = termFreq=1.0\r\n          1.25 = parameter k1\r\n          0.3 = parameter b\r\n          1.0 = avgFieldLength\r\n          1.0 = fieldLength\r\n(2) @@@hl@@@song@@@endhl@@@:\r\n22.103605 = boostByModificationDate\r\n  14.735737 = (MATCH) sum of:\r\n    9.309661 = (MATCH) weight(title:song^2.0 in 1) [BM25LSimilarity], result of:\r\n      9.309661 = score(doc=1,freq=1.0 = termFreq=1.0), product of:\r\n        2.0 = boost\r\n        3.63279 = idf(docFreq=5, maxDocs=207)\r\n        1.2813376 = tfNorm, computed from:\r\n          1.0 = termFreq=1.0\r\n          1.25 = parameter k1\r\n          0.3 = parameter b\r\n          1.7971015 = avgFieldLength\r\n          1.0 = fieldLength\r\n    5.4260764 = (MATCH) weight(content-name-unstemmed:song in 1) [BM25LSimilarity], result of:\r\n      5.4260764 = score(doc=1,freq=1.0 = termFreq=1.0), product of:\r\n        4.4212475 = idf(docFreq=2, maxDocs=207)\r\n        1.2272727 = tfNorm, computed from:\r\n          1.0 = termFreq=1.0\r\n          1.25 = parameter k1\r\n          0.3 = parameter b\r\n          1.0 = avgFieldLength\r\n          1.0 = fieldLength\r\n(3) ddow:\r\n9.653341 = boostByModificationDate\r\n  6.4355607 = (MATCH) sum of:\r\n    6.4355607 = (MATCH) weight(contentBody:song in 197) [BM25LSimilarity], result of:\r\n      6.4355607 = score(doc=197,freq=1.0 = termFreq=1.0), product of:\r\n        4.932073 = idf(docFreq=1, maxDocs=207)\r\n        1.3048389 = tfNorm, computed from:\r\n          1.0 = termFreq=1.0\r\n          1.25 = parameter k1\r\n          0.3 = parameter b\r\n          6.6280193 = avgFieldLength\r\n          2.56 = fieldLength\r\n{code}\r\n\r\n2) While searching on Confluence UI shows\r\n !Screenshot 2021-07-06 at 10.51.13 PM.png|thumbnail! \r\n\r\n3) Searching through Luke directly on index is similar to explain.action\r\n !Screenshot 2021-07-06 at 10.55.40 PM.png|thumbnail! \r\n\r\nh3. Workaround\r\nNone",
      "summary": "Confluence search ranking doesn't match with that of explain.action"
    }
  },
  {
    "key": "CONFSERVER-66521",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-06T09:55:41.000+0000",
      "created": "2021-07-06T09:47:49.000+0000",
      "description": "The number of threads used by Confluence during attachment reindexing defaults to 4, although customers can override this using a system property.\r\n\r\nIn a manner similar to CONFSERVER-66520, we should increase this default to be based at least partly on the umber of available CPUs.",
      "summary": "Increase the number of threads used by attachment reindexing"
    }
  },
  {
    "key": "CONFSERVER-66520",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-06T09:45:59.000+0000",
      "created": "2021-07-06T09:43:48.000+0000",
      "description": "The number of threads used by the content phase of the reindexing cycle is currently 4. It can be overridden by using system properties, but it's not obvious.\r\n\r\nWe could instead base the number of threads on the number of available CPUs, whilst still providing the system property overrides.",
      "summary": "Increase the number of threads used by content reindexing"
    }
  },
  {
    "key": "CONFSERVER-66518",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-15T06:03:08.000+0000",
      "created": "2021-07-06T04:31:24.000+0000",
      "description": "h3. Issue Summary\r\n\r\nhttps://jira.atlassian.com/browse/CONFSERVER-25507?focusedCommentId=2802070&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-2802070\r\n\r\nhttps://jira.atlassian.com/browse/CONFSERVER-63615?focusedCommentId=2823911&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-2823911\r\n\r\n\u00a0\r\nh3. Steps to Reproduce\r\n # Install both plugins\r\n # View a page with a confiforms macro\r\n\r\nh3. Expected Results\r\n\r\nmacro renders\r\nh3. Actual Results\r\n\r\nAn error is rendered\r\n!image-2021-07-06-14-29-47-955.png! \r\nh3. Workaround\r\nUninstall reconcile unknown attachments plugin",
      "summary": "Reconcile Unknown Attachments plugin is incompatible with Confiforms macro"
    }
  },
  {
    "key": "CONFSERVER-66514",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-05T00:54:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe user reported that unsubscribe button doesn't work in email sent by EAC\r\nh3. Steps to Reproduce\r\n # Click \"watch all\" on CQ dashboard\r\n # Ask a question\r\n # Received an email\u00a0\r\n # Click unsubscribe\r\n\r\nh3. Expected Results\r\n\r\nIt should unsubscribe the notification\r\nh3. Actual Results\r\n\r\nClicking the link throws an server error\r\n!image-2021-07-05-10-51-46-336.png|width=471,height=369!\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Unsubscribe button doesn't work in email notification "
    }
  },
  {
    "key": "CONFSERVER-66492",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-02T18:26:51.000+0000",
      "description": "As more installations move fully to Azure integration with Azure SCIM provisioning would help greatly with user management in Azure SAML and Azure AD setups. \r\n\r\n",
      "summary": "Azure SCIM Auto-Provisioning Support/Integration"
    }
  },
  {
    "key": "CONFSERVER-66488",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-02T11:16:00.000+0000",
      "description": "h3. Issue Summary\r\nThe first line in nested Expand Macro structure (Expand Macro > Page Properties Report Macro > Expand Macro) doesn't render.\r\n\r\nh3. Steps to Reproduce\r\n # Create a page with Page Properties Macro\r\n !Screenshot 2021-07-02 at 4.17.12 PM.png|thumbnail! \r\n # Create another page with Page Properties Macro and Expand macro nested within the Page Properties Macro, as shown below\r\n !Screenshot 2021-07-02 at 4.17.25 PM.png|thumbnail! \r\n # Create page with Page Properties Report macro listing both the above pages\r\n # Add an Expand Macro and insert above contents into the Expand macro so that the nested structure is like *Expand Macro > Page Properties Report Macro > Expand Macro*\r\n !Screenshot 2021-07-02 at 4.17.44 PM.png|thumbnail! \r\n\r\nh3. Expected Results\r\nThe expand macro under the nested Page Properties Report macro should render successfully \r\n\r\nh3. Actual Results\r\nThe expand macro under the nested Page Properties Report macro doesn't render successfully \r\nh3. Workaround\r\n\r\nWe can design the page such that expand macro under Page properties report macro should not be listed in the first line. For eg I added the Expand macro to my first page created in 1st step and now I am able to expand the macro as shown below:\r\n !Screenshot 2021-07-02 at 4.44.18 PM.png|thumbnail! ",
      "summary": "The first line in nested Expand Macro structure (Expand Macro > Page Properties Report Macro > Expand Macro) doesn't render."
    }
  },
  {
    "key": "CONFSERVER-66487",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-02T08:54:13.000+0000",
      "description": "h3. Problem\r\n\r\nWhen choosing Language ( German, Dansk, Portuguese etc) that has special characters as the default language, the special characters (umlauts \u00e4\u00f6\u00fc) are not render properly on buttons and labels in Confluence admin page.\r\nh3. Environment\r\n\r\nConfluence 7.12.2, 7.4.6\u00a0\r\nh3. Steps to Reproduce\r\n # \u00a0Change the user profile default language to German.\r\n # \u00a0Head Over to\u00a0General Configuration > Troubleshooting and support tools > Log Analyzer > Periodic Scan > Check the Save Changes button and Email Label.\r\n\r\n\u00a0\r\n{quote}!image-2021-07-02-14-20-25-383.png|width=614,height=276!\r\n{quote}\r\nh3. Expected Results\r\n * Special Characters should be displayed correctly\r\n\r\nh3. Actual Results\r\n * Special Characters are displaying in strange characters.\r\n * They looks fine in Jira\r\n\r\nh3. Workaround\r\n\r\n_NA_\r\nh3. Notes\r\n\r\n\u00a0\u00a0",
      "summary": "German umlauts are not rendered in Confluence "
    }
  },
  {
    "key": "CONFSERVER-66486",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-02T07:58:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nExcel Macro does not shows up correct results for GETPIVOTDATA-function\r\nh3. Steps to Reproduce\r\n # Create a new page\r\n # Attach *GETPIVOTDATA-function.xlsx* sheet mentioned in this ticket\r\n # In the same page now use Excel Macro to populate the data of this excel sheet. You can even upload separate excel sheets for the all the data form both the tabs of GETPIVOTDATA-function.xlsx sheet.\r\n # Publish the page now\r\n # Open GETPIVOTDATA-function.xlsx in excel now\r\n # Its been noticed that the results of GETPIVOTDATA-function is not same as it appears in the original excel sheet.\r\n\r\nh3. Expected Results\r\n\r\nResults are not appearing correctly for the function in Excel Macro\r\nh3. Actual Results\r\n\r\nResults should appear correctly for the function in Excel Macro\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Excel Macro does not shows up correct results for GETPIVOTDATA-function"
    }
  },
  {
    "key": "CONFSERVER-66485",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-01T23:16:38.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWith newer versions of Confluence, personal access tokens can now be created as a means to access the REST API in Confluence Server/Data Center. While these tokens are a useful authorization alternative to access the REST API, one limitation that appears is that attachments that exist on Confluence issues are not accessible via these tokens.\r\n\r\nAttempting to use curl (with verbose switch) to gather this attachment can show that the request is getting redirected to a login page.\r\n{code:java}\r\ncurl --verbose -H \"Authorization: Bearer [redacted token]\" -O http://localhost:8141/secure/attachment/10000/filename.png\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying ::1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (::1) port 8141 (#0)\r\n> GET /secure/attachment/10000/filename.png HTTP/1.1\r\n> Host: localhost:8141\r\n> User-Agent: curl/7.64.1\r\n> Accept: */*\r\n> Authorization: Bearer [redacted]\r\n> \r\n< HTTP/1.1 302 \r\n< X-AREQUESTID: 1026x388x1\r\n< Referrer-Policy: strict-origin-when-cross-origin\r\n< X-XSS-Protection: 1; mode=block\r\n< X-Content-Type-Options: nosniff\r\n< X-Frame-Options: SAMEORIGIN\r\n< Content-Security-Policy: frame-ancestors 'self'\r\n< Strict-Transport-Security: max-age=31536000\r\n< Set-Cookie: atlassian.xsrf.token=[redacted]_lout; Path=/\r\n< Location: /login.jsp?permissionViolation=true&os_destination=%2Fsecure%2Fattachment%2F10000%2Ffilename.png&page_caps=&user_role=\r\n< Content-Length: 0\r\n< Date: Thu, 21 Jan 2021 23:06:21 GMT \r\n{code}\r\nh3. Suggested Solution\r\n\r\nEither:\r\n * Create a REST API endpoint that can in some manner provide the binary data stream of the attachments themselves in such a manner that this REST API endpoint could be called and those attachments downloaded using this personal access token\r\n OR\r\n * Change the check that appears to be forcing any such requests using this token for authentication/authorization so that these requests can be made successfully without redirecting to a login page.\r\n\r\nh3. Why this is important\r\n\r\nThis is something you can do in Confluence Cloud today with a REST API token. The fact this does not work in Server is a lack of feature parity. Personal access tokens would be more useful if they could be used in this manner to also gather attachments on Confluence server issues.\r\n This is also something that works if your curl call uses a basic authorization (supplying username and password with the -u switch)\r\nh3. Workaround\r\n\r\nNo workaround is currently available.",
      "summary": "Unable to download attachments in Confluence using a personal access token"
    }
  },
  {
    "key": "CONFSERVER-66474",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-01T19:54:51.000+0000",
      "description": "Hello Team.\r\n\r\nWe would like to suggest a timeout warning message/popup at Confluence for when the session gets within 5 minutes to expire.\r\nAt the moment there is no plugins available that provide this solution.\r\n\r\nThanks in advance.",
      "summary": "Confluence Timeout Warning"
    }
  },
  {
    "key": "CONFSERVER-66473",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-01T17:29:55.000+0000",
      "description": "Hi,\r\n\r\nWe published the STRAD Workflows add-on for Confluence Server last year, and we received a few requests from customers asking for Datacenter support.\r\n\r\nFrom what I gather, on the back end side, Confluence provides the following features to add-on developers:\r\n * Cluster locks ( [https://developer.atlassian.com/server/jira/platform/developing-for-high-availability-and-clustering/] )\r\n * The atlassian-cache API ( [https://developer.atlassian.com/server/confluence/how-do-i-cache-data-in-a-plugin/] )\r\n\r\nHowever, our add-on uses more advanced synchronization primitives, such as semaphores.\r\n\r\nIs there a way (eg: an Atlassian API) to use semaphores that work across a whole cluster?\r\n\r\nAlso, is there a way to share data across servers, just like with atlassian-cache but with the guarantee that data is never purged (removed) automatically? We need to share some data across instances, but that data must never expire.",
      "summary": "Need for synchronization and data sharing APIs to support Confluence Datacenter"
    }
  },
  {
    "key": "CONFSERVER-66460",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-01T10:23:44.000+0000",
      "description": "h3. Issue Summary\r\n\r\nViewing a video of Dimension as 4320\u200a\u00d7\u200a1988 within a Multimedia Macro doesn't render\r\nh3. Steps to Reproduce\r\n # Created a new test page\r\n # Added the sample video file with Dimension as 4320\u200a\u00d7\u200a1988 under the Multimedia Macro\r\n # Saved and updated the page\r\n # Page rendered successfully on Browser (Chrome)\r\n # Accessed same page on Phone Confluence Server app\r\n # The page rendered normally and upon clicking on play icon over video it doesn't play the video\r\n\r\nh3. Expected Results\r\n\r\nThe Video should get converted and render normally like a file with\u00a0dimension as\u00a01920\u200a\u00d7\u200a1080\r\nh3. Actual Results\r\n\r\nThe video doesn't render.\r\nh3. Workaround\r\n\r\nReduce the video dimensions to 1920\u200a\u00d7\u200a1080 or view the video on a compatible device which supports larger dimensions like\u00a04320\u200a\u00d7\u200a1988",
      "summary": "Viewing a video of Dimension as 4320\u200a\u00d7\u200a1988 within a Multimedia Macro doesn't render"
    }
  },
  {
    "key": "CONFSERVER-66459",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-01T09:22:51.000+0000",
      "description": "Hi Guys,\r\nI'm from the server services team in Atlassian. We have a tool called InstEnv (probably you know this already and using it).\r\nh3. Issue Summary\r\n\r\nWe noticed that in the latest Confluence DC version 7.12.2 with Oracle DB (Engine version 12.2.0.1.ru-2021-04.rur-2021-04.r1 and 19.0.0.0.ru-2021-04.rur-2021-04.r1) confluence freezes during database init.\r\nThis looks like a confluence bug (in previous versions was ok).\r\n\r\n\u00a0\r\nh3. Steps to Reproduce\r\n\r\nYou can use InstEnv for this, I prepared a Confluence template with bug reproduction you can use.\r\nSpinup using InstEnv: [https://go.atlassian.com/instenv-ui/templates/2242]\r\nThe creation will fail, but you can access provisioned EC2 instanced (IP addresses you can find in InstEnv run logs).\r\nh3. Expected Results\r\n\r\nConfluence inits DB and asks for the next step.\r\nh3. Actual Results\r\n\r\nWhen we want to setup a DB connection, we send a POST request to URL [http://confluence-host:8090/setup/setupdbtype.action] with form data like JDBC URL, DB user, DB password.\r\nThen happens this bug. Oracle RDS CPU utilization is about to be full. In logs, you see messages like some endless for is working (example at the end of the description). And after few minutes you get 500 errors.\r\nPlease note that before the DB init we prepare confluence.cfg.xml (included) and then doing DB init request.\r\n\r\nIn case of any questions, you can ping me on slack directly or in #ent-dc-services.\r\n\r\n```\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\nat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:594)\r\n```\r\nh3. Workaround\r\n\r\nUse different DB (e.g. postgresql)",
      "summary": "Installation confluence DC bug during oracle DB init"
    }
  },
  {
    "key": "CONFSERVER-66456",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-30T15:31:34.000+0000",
      "description": "h4. Summary\r\n\r\nThe questions plugin allows administrators to restrict its usage to groups/users, similar to Confluence Permissions. Attachments uploaded to these questions/answers can be found by users that do *not* have Questions Permission. However, while the attachment can be searched and its title is displayed, clicking on the attachment will display a Not Permitted page:\r\n !Not Permitted.png|thumbnail! \r\n\r\nh4. Steps to Reproduce\r\n\r\n# Install Confluence Questions\r\n# As a Confluence admin, navigate to *Questions for Confluence >> Permissions*\r\n# Remove the group/user permission from a Test User. This Test User shouldn't be able to see anything related to the Questions plugin.\r\n# As the admin user, create a question and add an attachment Test.png\r\n# Publish the question.\r\n# As the Test user that doesn't have permission to use the Questions plugin, try to search for Test.png\r\n\r\nh4. Expected Results\r\nNothing is found\r\n\r\nh4. Actual Results\r\nThe attachment is found and clicking on it the user is greeted with the Not Permitted screen, however, the attachment name is displayed to this user which may contain sensitive information.\r\n\r\nh4. Workaround\r\nIf the question is tied to a space, this space can be restricted and the attachment won't be found.\r\n\r\nIf the question isn't tied to a space or the space can't/won't be restricted, there is no workaround. If one is identified, it'll be shared here.",
      "summary": "Attachment name, in questions/answers, is searchable despite not having Permissions for Questions"
    }
  },
  {
    "key": "CONFSERVER-66455",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-30T13:39:41.000+0000",
      "description": "h3. Problem Definition \r\n* Currently we have no way of determining through Confluence's UI which groups belong to an external directory and which ones are local groups.\r\n\r\nh3. Suggested Solution  \r\n* Display this information in Confluence's UI, under the *User Management >> Groups* page\r\n\r\nh3. Why this is important   \r\n* Some users don't have access to their external directories or database, it would be relevant to have this information shown in Confluence instead of relying on external apps.\r\n\r\nh3. Workaround \r\n* This information can be retrieved in Confluence's database by running the query below:\r\n{code:sql}\r\nSELECT CG.GROUP_NAME, CG.ACTIVE, CD.DIRECTORY_NAME, CD.ACTIVE, CD.DIRECTORY_TYPE\r\nFROM CWD_GROUP CG JOIN CWD_DIRECTORY CD\r\nON CG.DIRECTORY_ID = CD.ID;\r\n{code}\r\n(i) It might be necessary to adapt the query above depending on the database's syntax.",
      "summary": "Display groups information in Confluence's UI"
    }
  },
  {
    "key": "CONFSERVER-66454",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-30T12:51:31.000+0000",
      "description": "h3. Problem\r\n\r\nThe difference in the behaviour of @mention on page editor and space permissions causing search issues in large instances\r\nh3. Environment\r\n\r\nTested on Confluence 7.6, but applicable to other versions too.\r\nh3. Steps to Reproduce\r\n # Have a large Confluence instance (maybe 8+ cluster nodes) and around 200,000+ active users.\r\n # Some users will not show using @ mention on the page editor. @ mention works with username, but with the full display name the search return as _Unknown user_. Rebuilding the index may not help.\r\n # There are no issues in finding the user in the Space Restrictions menu with the full display name.\r\n # Seems to be an issue as mentioned in -\u00a0[https://confluence.atlassian.com/confkb/searching-and-indexing-troubleshooting-180847237.html]\r\n\r\nh3. Expected Results\r\n\r\n@ mention should behave similarly on both page editor and space permissions.\r\nh3. Actual Results\r\n\r\nHere is the observation between how @ mention works on a page editor and on space permissions.\r\nh3. Page Editor\r\n * The @ mention in the editor triggers a CQL search and\u00a0it triggers this as soon as we stop typing the user name.\r\n\r\n!image-2021-06-24-20-20-16-423.png|width=826,height=415!\r\n * If we are fast, we can type a lot of letters and\u00a0_start_\u00a0a more restrict search. If we are slow, then it will trigger a search with fewer letters, which could bring more than 100 results, which is the limit there.\r\n * If we change the search, then it won't trigger a new CQL search.\u00a0(x)\u00a0So we are limited to the initial result. That could be a problem if we have many users sharing similar names.\r\n * There is a chance that the user may not be coming in the first 100 results, i.e.,\u00a0the user is in the index, but will not show in the results.\r\n\r\nh3. Space Permission\r\n * On space permissions, the CQL search has a limit of 10 results. However, it triggers a new search is triggered on any change we make, which is ideal.\u00a0(/)\r\n\r\n@ mention should behave similarly in both cases. This is very likely to become an issue with larger instances.\u00a0\r\nh3. Workaround\r\n\r\nInstead of a full display name, try using the username to search for the user in page editor.\r\nh3. Notes",
      "summary": "Difference in the behaviour of @mention on page editor and space permissions causing search issues in large instances"
    }
  },
  {
    "key": "CONFSERVER-66453",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-30T12:49:42.000+0000",
      "description": "h3. Problem\r\n\r\nJava API ContentPropertyService not expanding result sets\r\nh3. Environment\r\n\r\nConfluence 7.11.2\r\nh3. Steps to Reproduce\r\n\r\nUse this code snippet\r\n\r\n\u00a0\r\n{code:java}\r\ncontentPropertyService.find(new Expansion('version'), new Expansion('content'))\r\n.withPropertyKeys(['my-key']}\r\n.withContentIds(myIds)\r\n.fetchMany(new SimplePageRequest(0,100))\r\n{code}\r\nh3. Expected Results\r\n\r\nContent is expanded\r\nh3. Actual Results\r\n\r\nContent is collapsed.\r\nh3. Workaround\r\n\r\nUsing this snippet:\r\n{code:java}\r\ndef properties = myIds.collect { ContentId contentId ->\r\ndef response = contentPropertyService.find(new Expansion('version'), new Expansion('content'))\r\n.withPropertyKey('my-key')\r\n.withContentId(contentId)\r\n.fetchOneOrNull()\r\nreturn response\r\n}\r\n{code}\r\n\r\n\r\nThis work-around is to make many individual requests to contentPropertyService with a single contentId and fetchOne, so a large amount of API calls and then collating the response objects. Which is very inefficient.\r\n",
      "summary": "Java API ContentPropertyService not expanding result sets"
    }
  },
  {
    "key": "CONFSERVER-66452",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-11T13:12:26.000+0000",
      "created": "2021-06-30T04:52:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence may have duplicated title when append a space to title.\r\nh3. Steps to Reproduce\r\n # Create a page named 'AAAA' in a space.\r\n # Copy [... > Copy] the above page to the same space, and save the page title as 'BBBB'\r\n # Edit the page of 'AAAA', and change page title to\u00a0 'BBBB ' (append a space), and save.\r\n\r\nh3. Expected Results\r\n\r\nA warning or error is sent to let user user know it is a duplicated title.\r\n The page cannot be saved.\r\nh3. Actual Results\r\n\r\nA page with duplicated title('BBBB') will be saved.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Confluence may have duplicated title when append a space to title"
    }
  },
  {
    "key": "CONFSERVER-66450",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-02T03:12:46.000+0000",
      "created": "2021-06-29T08:05:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Synchrony is restarted it could be that two new instances of Synchrony will be started. First one will be started by the code that performs restart. Second one will be started by code that is triggered when Synchrony process has stopped. This is a raise condition and all depends from timings. We have been able to reproduce this problem on Windows, but it could appear on Linux as well. It became more noticeable after fix for https://jira.atlassian.com/browse/CONFSERVER-60014 was added.\r\nh3. Steps to Reproduce\r\n # Get id of running Synchrony process (pid)\r\n # Open Confluence Administration -> General Configuration -> Collaborative editing\r\n # Press \"Restart Synchrony\" button and press \"Restart\" in dialog box\r\n # Check atlassian-confluence.log file and find records about starting synchrony from two different threads at almost the same time\r\n{code:java}\r\n2021-06-29 01:34:17,528 DEBUG [synchrony-interop-executor:thread-1] [plugins.synchrony.bootstrap.DefaultSynchronyProcessManager] logAndExtract Starting Synchrony process\r\n2021-06-29 01:34:17,529 DEBUG [synchrony-interop-executor:thread-2] [plugins.synchrony.bootstrap.DefaultSynchronyProcessManager] logAndExtract Starting Synchrony process\r\n{code}\r\n # Check that there are more than one synchrony process created by Confluence and their pids are different from those one that we have seen at step 1\r\n\r\nh3. Expected Results\r\n\r\nOne Synchrony instance is started by code which performs restart\r\nh3. Actual Results\r\n\r\nTwo Synchrony instances started and collaborative editing stops working properly.\r\n\r\natlassian-confluence.log file contains records about starting synchrony from two different threads at almost the same time:\r\n{code:java}\r\n2021-06-29 01:34:17,528 DEBUG [synchrony-interop-executor:thread-1] [plugins.synchrony.bootstrap.DefaultSynchronyProcessManager] logAndExtract Starting Synchrony process\r\n2021-06-29 01:34:17,529 DEBUG [synchrony-interop-executor:thread-2] [plugins.synchrony.bootstrap.DefaultSynchronyProcessManager] logAndExtract Starting Synchrony process\r\n{code}\r\nThe below exception is thrown in the atlassian-synchrony.log file:\r\n{noformat}\r\n2021-06-25 00:50:12,846 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] 2021-06-25 00:50:12,846 ERROR [main] [synchrony.logging] uncaught exception {:throwable #error {\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t :cause \"Address already in use: bind\"\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t :via\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t [{:type clojure.lang.ExceptionInfo\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t   :message \"error while starting state #'synchrony.server.http-server/http-server\"\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t   :data {:var #'synchrony.server.http-server/http-server}\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t   :at [mount.lite$start$fn__24142 invoke \"lite.clj\" 153]}\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  {:type java.net.BindException\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t   :message \"Address already in use: bind\"\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t   :at [sun.nio.ch.Net bind0 nil -2]}]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t :trace\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t [[sun.nio.ch.Net bind0 nil -2]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [sun.nio.ch.Net bind nil -1]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [sun.nio.ch.Net bind nil -1]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [sun.nio.ch.ServerSocketChannelImpl bind nil -1]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.socket.nio.NioServerSocketChannel doBind \"NioServerSocketChannel.java\" 134]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.AbstractChannel$AbstractUnsafe bind \"AbstractChannel.java\" 550]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.DefaultChannelPipeline$HeadContext bind \"DefaultChannelPipeline.java\" 1334]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.AbstractChannelHandlerContext invokeBind \"AbstractChannelHandlerContext.java\" 506]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.AbstractChannelHandlerContext bind \"AbstractChannelHandlerContext.java\" 491]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.DefaultChannelPipeline bind \"DefaultChannelPipeline.java\" 973]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.AbstractChannel bind \"AbstractChannel.java\" 248]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.bootstrap.AbstractBootstrap$2 run \"AbstractBootstrap.java\" 356]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.util.concurrent.AbstractEventExecutor safeExecute \"AbstractEventExecutor.java\" 164]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.util.concurrent.SingleThreadEventExecutor runAllTasks \"SingleThreadEventExecutor.java\" 472]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.channel.nio.NioEventLoop run \"NioEventLoop.java\" 500]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.util.concurrent.SingleThreadEventExecutor$4 run \"SingleThreadEventExecutor.java\" 989]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [io.netty.util.internal.ThreadExecutorMap$2 run \"ThreadExecutorMap.java\" 74]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [manifold.executor$thread_factory$reify__14792$f__14793 invoke \"executor.clj\" 47]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [clojure.lang.AFn run \"AFn.java\" 22]\r\n2021-06-25 00:50:12,847 DEBUG [691:StdOutHandler [C:\\Ganesh\\jre\\bin\\java.exe]] \t  [java.lang.Thread run nil -1]]}}\r\n{noformat}\r\nh3. Workaround\r\n\r\nFind process id (pid) of all synchrony processes and kill them. It's a big chance that new instance will start after that and error message will disappear from Collaborative editing page. If error message haven't disappeared, then check that there are no new synchrony processes present (kill them as well if they are present) and then press *Restart Synchrony* button.\r\nh4. How to find and kill synchrony PID on Linux\r\n # Execute next command to find Synchrony PID\r\n{code:bash}\r\nps -ef | grep \"synchrony.core\"\r\n{code}\r\nFor e.g in this case Synchrony PID is 79585\r\n{code:bash}\r\n  501 79585 66133   0  1:14pm ??         0:26.55 /Users/itiapchenko/.sdkman/candidates/java/8.0.252.hs-adpt/jre/bin/java -classpath /usr/local/Cellar/tomcat/9.0.36/libexec/temp/4.0.0-master-f680ea21.jar:/Users/itiapchenko/Workspace/confluence-server-master/confluence-core/confluence-webapp/target/confluence/WEB-INF/lib/postgresql-42.2.18.jar -Xss2048k -Xmx2g *synchrony.core* sql\r\n{code}\r\n # Execute next command to kill synchrony (replace SYNCHRONY_PID with Synchrony PID that you have found on previous step)\r\n{code:bash}\r\nkill -9 SYNCHRONY_PID\r\n{code}\r\n\r\nh4. How to find and kill synchrony PID on Windows\r\n # Execute the following command against your command prompt (If your instance is running on a port other than 8090, substitute 8090 for your port number). This command will tell you the PID of your Confluence instance.\r\n{code:bash}\r\nnetstat -ona | findstr \":8090\"\r\n{code}\r\nFor e.g in this case Confluence PID was 1908:\r\n{code:bash}\r\nC:\\Users\\Administrator>netstat -ona | findstr \":8090\"\r\n  TCP    0.0.0.0:8090           0.0.0.0:0              LISTENING       1908\r\n  TCP    10.9.31.115:8090       10.9.30.89:37640       ESTABLISHED     1908\r\n  TCP    10.9.31.115:8090       10.9.30.89:37660       TIME_WAIT       0\r\n  TCP    10.9.31.115:8090       10.9.30.89:37702       TIME_WAIT       0\r\n  TCP    10.9.31.115:8090       10.9.30.89:37708       ESTABLISHED     1908\r\n  TCP    10.9.31.115:8090       10.9.30.89:37716       TIME_WAIT       0\r\n  TCP    10.9.31.115:8090       10.9.30.89:37730       TIME_WAIT       0\r\n  TCP    10.9.31.115:8090       10.9.30.89:37748       TIME_WAIT       0\r\n  TCP    10.9.31.115:8090       10.9.30.89:37762       TIME_WAIT       0\r\n  ...\r\n  TCP    [::]:8090              [::]:0                 LISTENING       1908\r\n{code} \r\n# Use this PID in the command below (replace *PID* with confluence pid).\r\n{code:bash}\r\nwmic process get processid,parentprocessid,executablepath|find \"PID\"\r\n{code}\r\n# From the result of the last command get PID of processes whose name ends with *java.exe* and use next command to kill them (replace SYNCHRONY_PID with Synchrony PID):\r\n{code:bash}\r\ntaskkill /f /pid SYNCHRONY_PID\r\n{code}\r\nFor e.g. in this case Synchrony PID was 6864\r\n{code:bash}\r\nC:\\Users\\Administrator>wmic process get processid,parentprocessid,executablepath|find \"1908\"\r\nC:\\Atlassian\\Confluence\\atlassian-confluence-7.12.3\\bin\\Tomcat9.exe    776              1908\r\nC:\\Windows\\system32\\conhost.exe    1908             1704\r\nC:\\Java\\adopt\\jdk8u202-b08\\jre\\bin\\java.exe    1908             6864\r\n{code}",
      "summary": "Two Synchrony instances started during Synchrony restart"
    }
  },
  {
    "key": "CONFSERVER-66446",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-28T17:44:21.000+0000",
      "description": "Searching globally text from an answer is searchable:\r\n !Screen Shot 2021-06-25 at 3.52.18 PM.png|thumbnail! \r\n\r\nSearching in Questions for Confluence when creating a question does not search answers or comments: \r\n!Screen Shot 2021-06-25 at 3.52.56 PM.png|thumbnail! \r\n\r\nSearch functionality should act the same across both locations. ",
      "summary": "Questions For Confluence Search does not Search Comments or Answers"
    }
  },
  {
    "key": "CONFSERVER-66444",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-28T09:20:13.000+0000",
      "description": "h3. Problem\r\nh3. Just Space Watcher, under which calendar is listed, the user is not getting team calendar event , email notifications\r\nh3. Environment\r\n* Confluence version (7.12.2),  (7.4.9), 7.4.4\r\n* Team Calendars v7.0.7, (7.0.17)\r\n.\r\nh3. Steps to Reproduce\r\n # Create 2 users\u00a0\r\n # U1 will create space and Team calendar\u00a0\r\n # U2 will login and be space watcher by himself\u00a0\r\n # U1 creates event , but U2 doesn't receive any email notification\u00a0\r\n\r\nh3. Expected Results\r\n\r\n_U2 should receive email notification as he is an space watcher and the team calendar is linked to the space_\r\nh3. Actual Results\r\n\r\n_No email notification is received_\r\nh3. Workaround\r\n\r\n_Be watcher to that Team calendar_\u00a0\r\nh3. Notes\r\n\r\n# Confluence version (7.12.2) + latest Team calendar version (7.0.17) - If the user is just space watcher , to which calendar is associated he isn't getting email notification\r\n# Confluence LTS version (7.4.9) + latest Team calendar version (7.0.17) - If the user is just space watcher , to which calendar is associated he isn't getting email notification\r\n# Confluence 7.4.4 + Team Calendars v7.0.7 / + latest Team calendar version (7.0.17) - If the user is just space watcher , to which calendar is associated he isn't getting email notification",
      "summary": "Space Watcher is not getting team calendar event , email notifications "
    }
  },
  {
    "key": "CONFSERVER-66407",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-25T08:38:13.000+0000",
      "description": "h3. Issue Summary\r\nAdmin is not able to upgrade Insight Macro for Confluence plugin from version 1.6.3 to version 1.6.4 or 1.6.5 in Confluence 6.15. When trying to upgrade the plugin, the UI dialog show the process is completed. However, the plugin description still show the version as 1.6.3 and the following error is thrown in the logs.\r\n{code}\r\n2021-06-25 08:29:56,070 ERROR [UpmAsynchronousTaskManager:thread-3] [atlassian.plugin.loaders.ScanningPluginLoader] deployPluginFromUnit Unable to deploy plugin 'com.riadalabs.confluence.plugins.insight-confluence' from 'Unit: /Users/lng/Documents/msb_app/confluence-home/atlassian-confluence-6.15.7/plugins-cache/1624602595283insight-confluence-1.6.4.jar (1624602595000)'.\r\n -- url: /c6157/rest/plugins/1.0/ | referer: http://localhost:26157/c6157/plugins/servlet/upm?source=side_nav_manage_addons | traceId: 5e60022b2fc43df6 | userName: admin\r\n2021-06-25 08:29:56,071 ERROR [UpmAsynchronousTaskManager:thread-3] [atlassian.plugin.loaders.ScanningPluginLoader] deployPluginFromUnit Because of the following exception:\r\n -- url: /c6157/rest/plugins/1.0/ | referer: http://localhost:26157/c6157/plugins/servlet/upm?source=side_nav_manage_addons | traceId: 5e60022b2fc43df6 | userName: admin\r\njava.lang.NullPointerException\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence 6.15\r\n# Install Insight Macro for Confluence plugin version 1.6.3\r\n# Try to update the plugin to version 1.6.4 or 1.6.5\r\n# The plugin description still show the plugin version as 1.6.3 and following error is thrown in the logs.\r\n !Screenshot 2021-06-25 at 10.37.27.png|thumbnail! \r\n{code}\r\n2021-06-25 08:29:56,070 ERROR [UpmAsynchronousTaskManager:thread-3] [atlassian.plugin.loaders.ScanningPluginLoader] deployPluginFromUnit Unable to deploy plugin 'com.riadalabs.confluence.plugins.insight-confluence' from 'Unit: /Users/lng/Documents/msb_app/confluence-home/atlassian-confluence-6.15.7/plugins-cache/1624602595283insight-confluence-1.6.4.jar (1624602595000)'.\r\n -- url: /c6157/rest/plugins/1.0/ | referer: http://localhost:26157/c6157/plugins/servlet/upm?source=side_nav_manage_addons | traceId: 5e60022b2fc43df6 | userName: admin\r\n2021-06-25 08:29:56,071 ERROR [UpmAsynchronousTaskManager:thread-3] [atlassian.plugin.loaders.ScanningPluginLoader] deployPluginFromUnit Because of the following exception:\r\n -- url: /c6157/rest/plugins/1.0/ | referer: http://localhost:26157/c6157/plugins/servlet/upm?source=side_nav_manage_addons | traceId: 5e60022b2fc43df6 | userName: admin\r\njava.lang.NullPointerException\r\n{code}\r\n\r\nh3. Expected Results\r\nPlugin updated sucessfully\r\n\r\nh3. Actual Results\r\nPlugin does not seems to be compatible with Confluence version 6.15 and the update failed with following error in the logs.\r\n{code}\r\n2021-06-25 08:29:56,070 ERROR [UpmAsynchronousTaskManager:thread-3] [atlassian.plugin.loaders.ScanningPluginLoader] deployPluginFromUnit Unable to deploy plugin 'com.riadalabs.confluence.plugins.insight-confluence' from 'Unit: /Users/lng/Documents/msb_app/confluence-home/atlassian-confluence-6.15.7/plugins-cache/1624602595283insight-confluence-1.6.4.jar (1624602595000)'.\r\n -- url: /c6157/rest/plugins/1.0/ | referer: http://localhost:26157/c6157/plugins/servlet/upm?source=side_nav_manage_addons | traceId: 5e60022b2fc43df6 | userName: admin\r\n2021-06-25 08:29:56,071 ERROR [UpmAsynchronousTaskManager:thread-3] [atlassian.plugin.loaders.ScanningPluginLoader] deployPluginFromUnit Because of the following exception:\r\n -- url: /c6157/rest/plugins/1.0/ | referer: http://localhost:26157/c6157/plugins/servlet/upm?source=side_nav_manage_addons | traceId: 5e60022b2fc43df6 | userName: admin\r\njava.lang.NullPointerException\r\n{code}\r\n\r\n\r\nh3. Workaround\r\nTested in Confluence 7 and the plugin is able to update without any issue. The workaround is to upgrade Confluence to version 7 and above.",
      "summary": "Insight Macro for Confluence plugin 1.6.4 and 1.6.5 not compatible with Confluence 6.15 and cannot be upgraded"
    }
  },
  {
    "key": "CONFSERVER-66374",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-23T05:42:42.000+0000",
      "description": "h3. Issue Summary\r\nPasting [HTML Entities|https://www.w3schools.com/html/html_entities.asp] into HTML Macro gets converted after Confluence 6.14.0\r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence 6.14.0 or later\r\n# Enable [HTML Macro|https://confluence.atlassian.com/doc/html-macro-38273085.html]\r\n# Create a new page and insert HTML Macro into the page\r\n# Paste an HTML Entity into the HTML Macro such as:\r\n{noformat}\r\n&amp;\r\n{noformat}\r\n\r\nh3. Expected Results\r\nAny HTML Entities is pasted into the HTML Macro _as it is_\r\n !expected result.png|thumbnail! \r\n\r\nh3. Actual Results\r\nThe pasted HTML Entities is converted into the associated special characters such as but not limited to:\r\n|| HTML Entity || Associated Special Characters ||\r\n| {noformat} &amp; {noformat} | & |\r\n| {noformat}&quot;{noformat} | \" |\r\n| {noformat}&lt;{noformat} | < |\r\n !actual result.png|thumbnail! \r\n\r\nh3. Note\r\nThis issue starts happening from Confluence 6.14.0 and not observed in Confluence 6.13.10, likely due to the [Editor Improvement|https://confluence.atlassian.com/doc/confluence-6-14-release-notes-963655609.html#Confluence6.14ReleaseNotes-Massiveeditorimprovements] that comes with Confluence 7.14.0.\r\n|| Confluence Version || Pasting HTML Entiries Worked? ||\r\n| Confluence 6.13.10 | (/) |\r\n| Confluence 6.14.0 | (x) |\r\n| Confluence 7.10.1 | (x) |\r\n\r\nThis issue is also related to CONFSERVER-59741 (for Code Block macro)\r\n\r\nh3. Workaround\r\nh5. Using <Markup>                                                                                                          \r\n * Click on (+) on the page where you want to add the code.                                                                 \r\n * Click on <Markup>\r\n !markup.png|thumbnail!                                                                                                         \r\n * Enter the text as shown in the screenshot attached for your reference, i.e. by adding the text content under {html} braces.\r\n !insert markup.png|thumbnail! \r\n * Click on insert and you would see the characters showing up as expected.   ",
      "summary": "Pasting HTML Entities into HTML Macro gets converted starting from Confluence 6.14.0"
    }
  },
  {
    "key": "CONFSERVER-66364",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-23T04:15:34.000+0000",
      "description": "h3. Issue Summary\r\nIt is possible for Confluence instance/node to hit into an OutOfMemoryError (OOME) should a Confluence admin access the Queue Contents tab on Confluence Administration panel.\r\n\r\n(i) The code to render the {{<Confluence-Base-URL>/admin/viewindexqueue.action}} page (*Content Indexing* page >> *Queue Contents* tab) forces Hibernate to fetch all entries whose IDs are mentioned in the index queue at the time from Confluence Database, filling up Confluence's memory. \r\nThis is ok should the queue only has a few entries. However, if there are thousands records (or more) then that action will contribute extra overhead and exacerbate the problem. Each reload of this particular page is treated as a single request, adding yet an additional pressure to Confluence's memory.  \r\n\r\nh3. Steps to Reproduce\r\n# Login to Confluence with Confluence administrator's privilege\r\n# Access the {{<Confluence-Base-URL>/admin/viewindexqueue.action}} page (*Content Indexing* page >> *Queue Contents* tab)\r\n(i) This issue is reproducible should there are a huge number of records in the {{JOURNALENTRY}} table and this page is accessed for multiple times.\r\n\r\nh3. Expected Results\r\nThe number of contents fetched and listed in the *Queue Contents* tab are limited, to prevents such performance issue to occur in Confluence.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{catalina.out}} file, which then followed with an {{OutOfMemoryError}}:\r\n{code}\r\n18-Jun-2021 07:24:02.439 WARNING [Catalina-utility-2] org.apache.catalina.valves.StuckThreadDetectionValve.notifyStuckThreadDetected Thread [http-nio-8090-exec-8] (id=[274]) has been active for [76,195] milliseco\r\nnds (since [6/18/21 7:22 AM]) to serve the same request for [<BaseURL>/admin/viewindexqueue.action] and may be stuck (configured threshold for this StuckThreadDetectionValve is [60] seco\r\nnds). There is/are [4] thread(s) in total that are monitored by this Valve and may be stuck.\r\n        java.lang.Throwable\r\n                at java.base@11.0.8/java.util.regex.Pattern$BmpCharPredicate.lambda$union$2(Unknown Source)\r\n                at java.base@11.0.8/java.util.regex.Pattern$BmpCharPredicate$$Lambda$149/0x0000000800357440.is(Unknown Source)\r\n...\r\n                at com.atlassian.confluence.api.model.journal.JournalIdentifier.<init>(JournalIdentifier.java:36)\r\n                at com.atlassian.confluence.impl.journal.JournalIdentifierUserType.nullSafeGet(JournalIdentifierUserType.java:39)\r\n...\r\n                at com.atlassian.confluence.impl.journal.DefaultJournalManager.peek(DefaultJournalManager.java:61)\r\n                at com.atlassian.confluence.impl.journal.DefaultJournalService.peek(DefaultJournalService.java:54)\r\n                at com.atlassian.confluence.search.queue.AbstractJournalIndexTaskQueue.getQueuedEntries(AbstractJournalIndexTaskQueue.java:83)\r\n                at com.atlassian.confluence.admin.actions.ViewIndexQueueAction.getQueuedEntries(ViewIndexQueueAction.java:67)\r\n                at com.atlassian.confluence.admin.actions.ViewIndexQueueAction.getQueue(ViewIndexQueueAction.java:51)\r\n...\r\njava.lang.OutOfMemoryError: Java heap space\r\n...\r\n{code}\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Accessing Queue Contents tab can cause an OutOfMemoryError (OOME)"
    }
  },
  {
    "key": "CONFSERVER-66363",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-23T03:54:11.000+0000",
      "description": "h3. Environment\r\nConfluence server\r\n\r\nh3. Steps to Reproduce\r\n# Insert a table and fill all cells.\r\n# Select multiple cells\r\n# Pressing delete will clear all selected cells\r\n# Undo (all selected cells should be re-populated)\r\n# Add a *Page layout*\r\n# Select multiple cells\r\n# Pressing delete will *only* clear the cell where the cursor is\r\n\r\nh3. Expected Results\r\nSame behaviour as without page layout. Select the content of multiple cells in any direction, pressing delete should clear the contents of those cells \r\n\u00a0\r\nh3. Actual Results\r\n*Only* clear the cell where the cursor is\r\n\r\nh3. Workaround\r\nN/A\r\n\r\nh3. Notes\r\nScreen recording on how to reproduce the issue\r\n [^Screen Recording 2021-06-23 at 1.44.26 pm.mov] ",
      "summary": "Unable to delete multiple cells content when table in the page layout"
    }
  },
  {
    "key": "CONFSERVER-66362",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-22T13:02:58.000+0000",
      "description": " h3. Issue Summary\r\n\r\nBy checking on the \"Show Descendents\" checkbox when adding a Children Display macro, it will display all descendents on a page. Even this behavior is described in the [Children Display macro's documentation|https://confluence.atlassian.com/conf78/children-display-macro-1021242025.html], this can be still pretty confusing when we want to control the \"Depth of Descendents\" option. Setting any value for the \"Depth of Descendents\" option is not reflect the real display when the \"Show Descendents\" option is being checked.\r\n{quote}\r\n||Parameter||Description||\r\n|Show Descendants (all)|... If true shows the complete tree of pages underneath the parent page, regardless of *Depth of Descendants*|\r\n{quote}\r\n\r\nh4. Proposal for preventing this confusion:\r\n # Rename select box \"{{Show Descendants}}\" to \"{{Show *All* Descendants}}\"\r\n # Move \"{{Depth of Descendants}}\" up so that it is right after \"{{Show *All* Descendants}}\" and when \"Show All Descendants\" is selected grey out OR better hide the \"{{Depth of Descendants}}\" field\r\n\r\n\r\nh3. Steps to Reproduce\r\n # Create a parent page and several sub-pages with different levels\r\n # Add a \"Children Display\" macro to the parent page and while adding:\r\n ## Check the \"Show Descendants\" checkbox\r\n ## Enter 1 as a value for the \"Depth of Descendants\" field \r\n\r\nh3. Expected Results\r\nOnly 1 level of descendants will be displayed on the page.\r\n\r\nh3. Actual Results\r\nAll the page tree that is residing under the parent page will be displayed on the page. This behavior leads to performance degradation or even application outages due to the bug tracked in CONFSERVER-43191 ticket.\r\n\r\nh3. Workaround\r\nWhen you want to configure \"Depth of Descendants\", you need to *uncheck* the \"Show Descendants\" checkbox.",
      "summary": "Children Display Macro - \"Depth of Descendents\" property is ignored if \"Show Descendents\" property is set"
    }
  },
  {
    "key": "CONFSERVER-66357",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-22T08:02:40.000+0000",
      "description": "Wir m\u00f6chten gerne f\u00fcr unseren Endkunden, CascadeIT, folgende Lizenz verl\u00e4ngern:\r\n\r\n{color:#404040}SEN-14554964 {color}\r\n\r\n\u00a0\r\n\r\n{color:#404040}Im Portal k\u00f6nnen wir das aber nicht machen, da steht NA drin. K\u00f6nnten Sie uns ein Angebot senden an die folgende E-Mail Adresse:{color}\r\n\r\n{color:#404040}Melanie.unternaehrer@tailorit.ch{color}",
      "summary": "Lizenzerneuerung"
    }
  },
  {
    "key": "CONFSERVER-66354",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T23:19:52.000+0000",
      "description": "h3. Issue Summary\r\nNot publishing draft content causes unpublished change to not be displayed to the user\r\n\r\nh3. Steps to Reproduce\r\n# Create a page with some inline tasks and save\r\n# Go into the editor again, add some text and close the edit mode (save draft)\r\n# Check a task in view mode\r\n# Notice that info is gone even though the draft still exists\r\n\r\nh3. Expected Results\r\nThe unpublished lozenge is displayed and a user is aware there are drafted content.\r\n\r\nh3. Actual Results\r\nThe lozenge is not displayed and draft content does not persist.\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Unpublished changes lozenge no longer shown after a page is updated via action other than publish"
    }
  },
  {
    "key": "CONFSERVER-66353",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T18:17:03.000+0000",
      "description": "Feedback received from an end-user at our organization. Please feel free to reach out and we can have a broader discussion for any points which are not clear.\r\n\r\n\u00a0\r\n\r\n1) My Calendars - browser tab name:\r\n* Displays as \"Team Calendars - Confluence\".\r\n* Suggest a better name would be \"My Calendars - Confluence\"\r\n\r\n2) Space (or Team) Calendars - browser tab name:\r\n* Displays as \"Calendars - <Space Name>\"\r\n* I can live with this, provided \"My Calendars\" tab gets changed. But for extra clarity, maybe rename to \"Team Calendars - <Space Name>\" to be explicit.\r\n\r\n3) View controls (Month, Week, List, Timeline)\r\n* These are scoped per person, but not per person/per calendar\r\n* Meaning - my changes of view, do not affect other Confluence user's Calendar Views (scoped per person)\r\n* However - my change of view on \"My Calendars\" carries over to the \"Team Calendars\". If I set Timeline view, it now displays all calendars with Timeline view.\r\n* Use Case: I want to display \"My Calendars\" in Timeline view, but be able to switch to \"Team Calendar\" and see the Month view. \r\n* Enhancement: Persistent unique view control per person/per calendar (\"My Calendars\" or \"Team Calendars\")\r\n\r\n4) Data controls (Calendar + Event selection)\r\n* Similar to View controls, these are scoped per person (good), but not per person/per calendar (frustrating).\r\n* Use Case: I want to display event A from Calendar XYZ on \"My Calendars\", but I want to see events B, C, & D from Calendar XYZ on \"Team Calendars\"\r\n* Enhancement: Persistent data control per person/per calendar (\"My Calendars\" or \"Team Calendars\")\r\nNote: maybe what I'm asking for for (#4 and #5) is ability for \"My Calendars\" to be able to retain the View and Data Control separate from what is set to view \"Space Calendars\".\r\n \r\n5) Timeline view scope\r\n* Seems to be limited to between 5 or 6 months max zoom out.\r\n* Enhancement: Can this be expanded to max zoom out of at least 1 year? Or provide horizontal scrolling using the zoom window selected?",
      "summary": "Team Calendars end-user feedback"
    }
  },
  {
    "key": "CONFSERVER-66352",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T12:25:51.000+0000",
      "description": "At the moment, the only way to export data from Confluence Analytics is through [Excel format.|https://confluence.atlassian.com/doc/view-insights-on-spaces-1044780337.html]\r\n\r\nIt would be useful to provide the option to email the extracted data to a recipient. \r\n\r\n",
      "summary": "Provide an option to email extracted data in Confluence Analytics"
    }
  },
  {
    "key": "CONFSERVER-66351",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T11:34:56.000+0000",
      "description": "h3. Issue Summary\r\nAttachments gets downloaded on Chromium based browsers even after user logs out from the page\r\n\r\nh3. Steps to Reproduce\r\n # Create a new page in Confluence\r\n # Attach any PDF or picture or any file in that page and then publish the page\r\n # Copy the image link by right clicking on the image as shown in the attach screenshot\r\n # Use any Chromium based browser such as Chrome/Opera/Edge etc to login into Confluence using your username and password\r\n# Open another tab and paste the link in the URL which was copied earlier, you will see that the attachment downloads which is fine and expected\r\n# Now, close that tab and log out from Confluence\r\n# Open a new tab and again paste the link in the URL which was copied earlier, you will see that the attachment still downloads which is not good.\r\n# This issue is not seen with non chromium browsers such as Firefox, Safari or IE.\r\n# To summarise any attachment links should be allowed to download the file only when a user is logged into Confluence and if the user is not logged in then the user should be redirected to the login screen. After the user provides correct username and password then only the attachment should be allowed to download. \r\n\r\nh3. Expected Results\r\nAttachments gets downloaded on Chromium based browsers even after user logs out from the page\r\n\r\nh3. Actual Results\r\nAttachments should not get downloaded on Chromium based browsers even after user logs out from the page\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Attachments gets downloaded on Chromium based browsers even after user logs out from Confluence"
    }
  },
  {
    "key": "CONFSERVER-66350",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T11:10:39.000+0000",
      "description": "I suggest to integrate [H5P|https://h5p.org/] into Confluence - For us\u00a0 it would be very nice to create interactive content like videos, multiple choice or memory quizzes in Confluence.\u00a0",
      "summary": "H5P for Confluence"
    }
  },
  {
    "key": "CONFSERVER-66349",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T13:05:50.000+0000",
      "created": "2021-06-21T08:50:26.000+0000",
      "description": "By checking on the \"Show Descendents\" checkbox when adding a Children Display macro, it will display all descendents on a page. Even this behavior is described in the [Children Display macro's documentation|https://confluence.atlassian.com/conf78/children-display-macro-1021242025.html], this can be still pretty confusing when we want to control the \"Depth of Descendents\" option. Setting any value for the \"Depth of Descendents\" option is not reflect the real display when the \"Show Descendents\" option is being checked.\r\n{quote}\r\n||Parameter||Description||\r\n|Show Descendants (all)|... If true shows the complete tree of pages underneath the parent page, regardless of *Depth of Descendants*|\r\n{quote}\r\nProposal for preventing this confusion:\r\n # Rename select box \"{{Show Descendants}}\" to \"{{Show *All* Descendants}}\"\r\n # Move \"{{Depth of Descendants}}\" up so that it is right after \"{{Show *All* Descendants}}\" and when \"Show All Descendants\" is selected grey out OR better hide \"{{Depth of Descendants}}\" field",
      "summary": "Children Display Macro - \"Show Descendents\" and \"Depth of Descendents\" functionality confusion"
    }
  },
  {
    "key": "CONFSERVER-66348",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T08:05:25.000+0000",
      "description": "When I am typing \"jira\" in the Confluence editor, it incorrectly capitalizes it to \"JIRA\". This is problematic as it makes my documentation incorrect.\r\n\r\nThe product name was changed from the capitalized version in 2017 per the branding, but it hasn't been fixed here.",
      "summary": "Confluence editor should autocorrect capitalized JIRA to Jira"
    }
  },
  {
    "key": "CONFSERVER-66328",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-18T22:04:52.000+0000",
      "description": "Confluence Datacenter could provide the possibility to setup the IAM authentication method when connecting to the RDS databases on AWS.\r\n\r\n* [Amazon IAM authentication and RDS databases|https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/security_iam_service-with-iam.html]",
      "summary": "Provide IAM authentication when connecting to RDS databases"
    }
  },
  {
    "key": "CONFSERVER-66320",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-18T18:53:47.000+0000",
      "description": "h3. Problem\r\n\r\n#1\r\n\r\nWhen exporting a space as HTML, links that have anchors to other confluence pages within the same space are pointing back to the URL from where it originated instead of the newly created exported pages. However, if its an anchor link to the same page then it works properly.\r\n Take this for example:\r\n - <a href=\"https://aaa.bbbbbb.com/confluence/display/NQA/SAC-ID+-+Detailed+Guidelines#SACIDDetailedGuidelines-AnyOAuthandJWTTokensAreSignedandValidated\" which is coming from \"SAC-ID---Identity-Guidelines_392758114.html\"\r\n - This should have exported as \"SAC-ID---Detailed-Guidelines_392759546.html#SACIDDetailedGuidelines-AnyOAuthandJWTTokensAreSignedandValidated\" inside the Identity Guidelines file.\r\n\r\n#2\r\n If there is a link that is pointing to a confluence page within the same space that uses the viewpage.action?pageId function, this also points back to the original URL instead of the exported space page.\r\n Take for example:\r\n - <a href=\"https://aaa.bbbbbb.com/confluence/pages/viewpage.action?pageId=392758117\"\r\n - This should have been exported as \"SAC-ID---Constituencies_39278117.html\"\r\nh3. Why This Is Important\r\n\r\n_When exporting Spaces to HTML, the usual intention is to be able to use the exported pages offline or someplace where confluence is not available, if the links point back to the original source, then the pages are unusable._\r\n\r\n\u00a0",
      "summary": "Space Export as HTML not fixing anchor links to pages in the Space"
    }
  },
  {
    "key": "CONFSERVER-66310",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-18T11:05:51.000+0000",
      "description": "(Confluence DataCenter)\r\n\r\nOn occasion the number of active users has marginally exceeded the number of licenses we own (this can occurr if a job fails to run, e.g. for a license management plugin). In this case it is reasonable for users exceeding the number of licenses to be refused a license, or for Confluence to be Read Only for those users. In fact what happens is the entire Confluence instance goes Read Only. This generates massive problems for us as administrators.\r\n\r\nPlease change the license management so that enforcement only affects users over and above the number of users that we have paid for.",
      "summary": "Exceeding the available licenses should only affect users in excess of the number of licenses"
    }
  },
  {
    "key": "CONFSERVER-66306",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-15T18:38:01.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Confluence OnPrem fetches Jira Cloud Issues, it can't display the images embedded in the Description of the Issue, while the same feature works in Jira OnPrem.\r\n\r\nWhen comparing the HTML code of the page:\r\n * The macro fetching OnPrem issues use the complete URL address to the image, using the Base URL.\r\n * The macro fetching Cloud issues uses a relative path to the image, starting as */secure/attachment/*\r\n\r\nh3. Steps to Reproduce\r\n # Create an Application Link between Confluence OnPrem and Jira Cloud\r\n # Create a Jira Cloud Issue containing an image in the Description\r\n # Insert a Jira Issues Macro in a Confluence page and set it to display the Description field\r\n\r\nh3. Expected Results\r\n\r\n!image-2021-06-15-15-29-38-232.png|width=415,height=187! \r\n !image-2021-06-15-15-29-22-396.png|width=289,height=219!\r\nh3. \u00a0\r\nh3. Actual Results\r\n\r\n!image-2021-06-15-15-28-16-038.png|width=502,height=228! \r\n !image-2021-06-15-15-28-49-430.png|width=415,height=317!\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Jira Issues macro (Confluence OnPrm) doesn't render images attached to Jira Cloud issues"
    }
  },
  {
    "key": "CONFSERVER-66297",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-17T14:21:06.000+0000",
      "description": "h3. Problem\r\nIn a DC environment whenever a node needs to be restarted (ie. maintenance, upgrade etc.) the load balancer sends the user to other nodes, which is good, but that user also has to re-authenticate. \r\n\r\nh3. Environment\r\nConfluence Data Center with \"sticky sessions\" enabled.\r\n\r\nh3. Steps to Reproduce\r\n\r\nRestart one of the nodes.\r\n\r\nh3. Expected Results\r\nThe users that were on the restarted node are redirected to another node and don't need to login again.\r\n\r\nh3. Actual Results\r\nUsers need to login.\r\n\r\n\r\nh3. Notes\r\nThis is analogous to this Jira feature request: https://jira.atlassian.com/browse/JRASERVER-67647\r\n\r\nAlso, it seems that tomcat already support this by virtue of the JvmRouteBinderValve value as described on https://tomcat.apache.org/tomcat-8.0-doc/cluster-howto.html\r\n",
      "summary": "Enable Session replication"
    }
  },
  {
    "key": "CONFSERVER-66296",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-17T13:30:06.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen searching for a page that you have been recently denied access to, the page still shows up in quick search suggested results (although not in the actual search results if you complete your quicksearch by pressing enter).\r\nh3. Steps to Reproduce\r\n # Take a page someone has access to and ask them to search for that page in the quick search bar by the exact page title.\r\n ** When searching by the exact title, the page should be suggested by the quick search suggested results and/or be present in the full search results (if you press enter on your search)\r\n # Create a page permission that restricts viewing of this page by that user.\r\n # Have the user refresh and try the search again in the quick search bar in the upper right corner.\r\n\r\nh3. Expected Results\r\n\r\nThe page they no longer have access to should not show up as a search result or as a suggested search result from quick search.\r\nh3. Actual Results\r\n\r\nThe page will not show up in full search results but will be still be suggested by the quick search suggested results.\r\nh3. Workaround\r\n\r\nReindex the site by going to General Configuration -> Content Indexing and click \"rebuild\"",
      "summary": "Searching for a page that you have been recently denied access to still shows up in quick search suggested results"
    }
  },
  {
    "key": "CONFSERVER-66282",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-21T02:38:50.000+0000",
      "created": "2021-06-17T01:27:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nLog analyzer shows multiple incorrect errors that do not exist in the log file. The issue happens right after a fresh installation.\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.11.2 or any of the affected versions.\r\n # Go to *General Configuration > Troubleshooting and support tools >* Select *Log analyzer* tab.\r\n # Try to scan the log, then it will display multiple incorrect errors.\r\n\r\nh3. Expected Results\r\n\r\nIt shows correct errors.\r\nh3. Actual Results\r\n\r\nIt shows incorrect errors like the following screen capture:\r\n !error-7.11.2.png|thumbnail!\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Log analyzer shows multiple incorrect errors that do not exist in the log file"
    }
  },
  {
    "key": "CONFSERVER-66281",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-17T00:54:56.000+0000",
      "description": "h3. Summary\r\nWhen an admin is utilizing [Read-Only|https://confluence.atlassian.com/doc/using-read-only-mode-for-site-maintenance-952624304.html] to have one node to perform administrative tasks such as reindex, he/she would want to exclude user traffic (load balancer) to that particular node.\r\n\r\nh3. Issue Statement\r\nThe admin would have to manually configure it in the load balancer and revert the changes after the maintenance tasks complete. Currently, when Confluence is in 'read-only' mode, {{/status}} will return \"RUNNING\".\r\n\r\nh3. Proposed Solution\r\nAs the load balancer is already utilizing the JSON response from {{/status}} to determine instance health, it makes sense for the node to return \"Maintenance\" when it's in \"Read-Only\" mode so that the admin can configure the load balancer to not redirect traffic while it's in \"Maintenance\" mode automatically.\r\n\r\nh3. Side Note\r\nFor this to work, when the whole cluster is going on \"Read-Only\" mode, one dedicated node (that are performing the tasks) has to be nominated to return the Maintenance status, so only one particular node is excluded from the load balancer pool.",
      "summary": "/status should returns \"Maintenance\" instead of \"Running\" when nodes are IN Read-Only mode"
    }
  },
  {
    "key": "CONFSERVER-66279",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-20T21:28:08.000+0000",
      "created": "2021-06-16T15:35:31.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe scenario for this issue consists of two pages. \r\n The first one with a large table with an anchor on it, and the second one with a link to the anchor created on the first page. \r\n When we click on the link the user will be redirected to the table that has the anchor but two rows below from where it should be.\r\nh3. Steps to Reproduce\r\n # Create a page in Confluence with a large table (100+ rows)\r\n ## Add a sample content to it.\r\n ## Create an anchor in one of the rows in the middle of the table.\r\n # Create a second page.\r\n ## Create a link to the anchor on the first page.\r\n ## Save the page.\r\n # Test the link in Google Chrome to reproduce the issue.\r\n\r\nh3. Expected Results\r\n\r\nThe link to the anchor on the second page should point the user to the actual row where the anchor is placed.\r\nh3. Actual Results\r\n\r\nThe user will be sent two rows below where the anchor is as presented in the image below.\r\nh3. Workaround\r\n\r\nThis issue only happens with Google Chrome and Microsoft Edge, as a workaround the user can change the browser to Firefox or Safari.\r\n\r\n\u00a0",
      "summary": "Link to anchors located in large tables will point the user to the wrong part of the page while using Google Chrome or Microsoft Edge."
    }
  },
  {
    "key": "CONFSERVER-66275",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-15T18:46:51.000+0000",
      "created": "2021-06-16T08:14:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCopy/paste table cells does not work as expected when header cells are merged, enclosed is a video demonstrating the behaviour.\r\nh3. Steps to Reproduce\r\n # Add a table to a page (or use the storage format from this ticket)\r\n # Merge first and second header cells\r\n # Try to copy/paste multiple cells\r\n # Content is not pasted\r\n\r\nh3. Expected Results\r\n\r\nUser should be able to copy/paste cells within a table even when the header cells are merged\r\nh3. Actual Results\r\n\r\nUser is not able to copy/paste cells within a table when the header cells are merged\r\nh3. Workaround\r\n\r\nAs a workaround, you can split the merged header cells by clicking on the split icon from the editor toolbar",
      "summary": "Copy/paste table cells does not work as expected when header cells are merged"
    }
  },
  {
    "key": "CONFSERVER-66274",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-16T03:38:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Sub Calendar with TIME_ZONE_ID columns is null and the owner is deleted (remove from user_mapping) will throw Null exception, users cannot add or view the calendar correctly.\r\nh3. Steps to Reproduce\r\n # Start confluence and restore from the backup file in the ticket\r\n # Install Teamcal 7.0.17\u00a0\r\n # Go to database and search for sub calendar with creator is removed from user_mapping\r\n{code:java}\r\n SELECT COLOUR, CREATED, CREATOR, DESCRIPTION, ID, LAST_MODIFIED, NAME, PARENT_ID, SPACE_KEY, STORE_KEY, SUBSCRIPTION_ID, TIME_ZONE_ID, USING_CUSTOM_EVENT_TYPE_ID FROM AO_950DC3_TC_SUBCALS WHERE CREATOR NOT IN (SELECT USER_KEY FROM USER_MAPPING); {code}\r\n\r\n # Set the time_zone_id column to null for any sub calendar above\r\n # Navigate to the space of above calendar.\r\n\r\nh3. Expected Results\r\n\r\nCan see and add event normally\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\njava.lang.NullPointerExceptionjava.lang.NullPointerException at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936) at com.atlassian.confluence.extra.calendar3.DefaultJodaIcal4jTimeZoneMapper.isTimeZoneIdAnAlias(DefaultJodaIcal4jTimeZoneMapper.java:148) at com.atlassian.confluence.extra.calendar3.calendarstore.generic.ParentSubCalendarDataStore.fromStorageFormat(ParentSubCalendarDataStore.java:130) at com.atlassian.confluence.extra.calendar3.calendarstore.generic.ParentSubCalendarDataStore.fromStorageFormat(ParentSubCalendarDataStore.java:47) at com.atlassian.confluence.extra.calendar3.calendarstore.AbstractCalendarDataStore.getSubCalendar(AbstractCalendarDataStore.java:984) at com.atlassian.confluence.extra.calendar3.calendarstore.SanboxSubCalendarDataStoreCachingDecorator.getSubCalendar(SanboxSubCalendarDataStoreCachingDecorator.java:92) at com.atlassian.confluence.extra.calendar3.calendarstore.DelegatingCalendarDataStore.lambda$getSubCalendarsWithRestriction$2(DelegatingCalendarDataStore.java:121) at com.google.common.collect.Iterators$6.transform(Iterators.java:785)\r\n{noformat}\r\nh3. Workaround\r\n * Set the value time_zone_id to valid timezone alias\r\n * Or, re-assign new sub calendar onwer (creator) column\r\n\r\nThe user for log in: admin/charlie\r\n\r\nThe code that cause problem, the map will throw null excpetion if the key is null\r\n{code:java}\r\npublic boolean isTimeZoneIdAnAlias(String alias) {\r\n    String timeZoneId = timeZoneAliases.get(alias);\r\n    while (null != timeZoneId && timeZoneAliases.containsKey(timeZoneId))\r\n        timeZoneId = timeZoneAliases.get(timeZoneId);\r\n\r\n    return null != timeZoneId;\r\n} {code}\r\nand\u00a0\r\n{code:java}\r\nparentSubCalendar.setTimeZoneId(subCalendarEntity.getTimeZoneId());\r\nif (StringUtils.isBlank(parentSubCalendar.getTimeZoneId())) {\r\n    // If timeZoneId property is null, this is most probably because it's a JiraSubCalendar that was migrated as a ParentSubCalendar + JIRA child sub-calendars.\r\n    String creator = parentSubCalendar.getCreator();\r\n    if (StringUtils.isNotBlank(creator)) {\r\n        ConfluenceUser creatorUser = getUserAccessor().getUserByKey(new UserKey(creator));\r\n        if (null != creatorUser)\r\n            parentSubCalendar.setTimeZoneId(jodaIcal4jTimeZoneMapper.getUserTimeZoneIdJoda(creatorUser));\r\n    }\r\n} {code}\r\n\u00a0",
      "summary": "Unable to add calendar to specific space and Null Pointer Exception"
    }
  },
  {
    "key": "CONFSERVER-66273",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-15T18:29:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\n When navigating to the \"Choose some topics for your question\" the field for the suggested text \"Choose some topics for your question\" should remain until the user begins to type in the field but does not.\r\n\r\n This functionality exist in the \"Ask a question\" field, where the suggested text \"What would want to know\" remains until the user begins and should exist in other similar fields\r\n\r\nh3. Steps to Reproduce\r\nSteps to reproduce:\r\n1.\tLogin to Questions for Confluence v2.7.21 \u201chttps://exampleconfluenceurl.com/#popular\u201d \r\n2.\tSelect the \u201cQuestions\u201d tab.\r\n3.\tSelect the \u201cAsk questions\u201d button by mouse since the button is not accessible.\r\n\r\nNotice that the \u201cChoose some topics for your question\u201d additional information is available.\r\n\r\n\r\nh3. Expected Results\r\nWhen navigating to the \"Choose some topics for your question\" field the suggested text \"Choose some topics for your question\" should remain until the user begins to type in the field. \r\n\r\nh3. Actual Results\r\nThis field doesn't remain until the user starts typing \r\n\r\n\r\nh3. Workaround\r\n\r\nN/A",
      "summary": "When tabbing into choose some topics field the default text does not remain before user starts typing"
    }
  },
  {
    "key": "CONFSERVER-66272",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-15T02:28:20.000+0000",
      "description": "h3. Issue Summary\r\n\"Like\" link in email notification does not redirect to login screen while Confluence is set to anonymous access\r\n\r\nh3. Steps to Reproduce\r\n# [Allow anonymous access|https://confluence.atlassian.com/doc/setting-up-public-access-156.html] in Confluence\r\n# Trigger an email notification that contains the option to \"Like\" the update\r\n(i) Example: mention a user in a page comment will trigger the email notification below where it is given a link to \"Like\" the comment\r\n# Click on the \"Like\" link in the email notification from a browser that does not have a logged-in session\r\n(i) Example: Either the browser session has never logged into Confluence, or has already logged out\r\n !Email Example with Like link.png|thumbnail! \r\n\r\nh3. Expected Results\r\nThe browser is redirected to the login screen\r\n\r\nh3. Actual Results\r\nThe browser hits into a {{*HTTP 403*}} error:\r\n* Google Chrome shows a {{403}} in the page:\r\n !Error in Chrome.png|thumbnail! \r\n* Firefox shows a complete blank page without any information while a {{403}} can be seen in the developer tools\r\n !Firefox shows blank page.png|thumbnail! \r\n\r\nh3. Note\r\nEvery other link in the email notification were redirected correctly:\r\n* Link to the profile picture\r\n* Link to the content\r\n* Link to the @mention\r\n* Link to the \"Reply\"\r\n* Link to the \"Manage notifications\"\r\n\r\nh3. Workaround\r\nDisable anonymous access for Confluence, or click on other links in the email notification instead, and _Like_ the content after logging in.",
      "summary": "\"Like\" link in email notification does not redirect to login screen while Confluence is set to anonymous access"
    }
  },
  {
    "key": "CONFSERVER-66271",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-14T11:25:30.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\n  *NOTE:* This suggestion is for *Confluence Server*. Using *Confluence Cloud*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFCLOUD-14684].\n  {panel}\n\nIt would be good to have the HTML space export to include news items as well.",
      "summary": "Export news to HTML"
    }
  },
  {
    "key": "CONFSERVER-66270",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-14T08:58:32.000+0000",
      "description": "At the moment the passwort reset link in\u00a0<confluence-install>/confluence/login.vm has to be manually adjusted (as described\u00a0[here|[http://example.com|https://confluence.atlassian.com/confkb/how-to-change-the-forgot-password-link-in-confluence-to-redirect-to-an-alternate-page-776645287.html]].\u00a0\r\n\r\nIt should be possible to adjust this link in the Confluence config so it is automatically merged on updates/upgrades because it can easily be forgotten.\u00a0;)\r\n\r\n\u00a0\r\n\r\nThx",
      "summary": "Ability to permanently change password reset link"
    }
  },
  {
    "key": "CONFSERVER-66269",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-14T01:40:46.000+0000",
      "description": "h3. Issue Summary\r\n\r\nClicking on the \"Rollover log files\" checkbox does not tick the box\r\n\r\n*Environment*\r\n * Confluence 7.12.0\r\n\r\nh3. Steps to Reproduce\r\n # Install a fresh 7.12.0 version of Confluence\r\n \r\n\r\nh3. Expected Results\r\n\r\n* Clicking on the \"Rollover log files\" checkbox should select the box.\r\n* (on) _Suggested UX_: Clicking on the _Rotate the log files and mark the start of the log_ should select the box.\r\n* (on) _Suggested UX_: Clicking on the _Rollover log files_ should do nothing\r\n\r\nh3. Actual Results\r\n\r\nClicking on the \"Rollover log files\" checkbox does not select the box.\r\n\r\n !SelectionBoxNotEnabled.png|thumbnail! \r\n \r\nh3. Workaround\r\n\r\n* Click on left hand \"Rollover log files\" menu name to tick the checkbox",
      "summary": "Rollover log files checkbox on Logging and Profiling screen does not work"
    }
  },
  {
    "key": "CONFSERVER-66248",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-13T22:43:43.000+0000",
      "created": "2021-06-11T05:43:50.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAttaching the following sample Powerpoint file [^samplepptx.pptx] to a Confluence DC page. Confluence will be unable to generate a preview file.\r\n\r\nh3. Steps to Reproduce\r\n\r\n # Deploy Confluence DC with at least *2GB Max Heap Size*\r\n # Upload attached [^samplepptx.pptx]\r\n # Publish the page\r\n\r\nh3. Expected Results\r\n # Confluence kicks off the Sandbox process\r\n # Moments later, the preview of the PPTX file should be generated\r\n\r\n(on) The same attached PPTX file works seamlessly with the defaults of Confluence 7.9.3 DC\r\n\r\nh3. Actual Results\r\n # Confluence kicks off the Sandbox process\r\n # Moments later, the back end {{atlassian-confluence.log}} will show the Sandbox crashing:\r\n{code}\r\n2021-06-11 14:41:40,519 WARN [ForkJoinPool.commonPool-worker-11] [plugins.conversion.impl.FileSystemConversionState] markAsError Creating error file: /Users/myuser/shared-home/atlassian-confluence-7.11.2-dc/dcl-document/128/98/98378/98379_4.err\r\n -- url: /c7112/display/PD/test+page+7.11.2+PPTX+test | traceId: 18b2b85377047f3a | userName: admin | referer: http://localhost:27112/c7112/pages/resumedraft.action?draftId=98380&draftShareId=e2607d7a-c85e-4325-a30a-dc78ecceee0e&\r\n2021-06-11 14:41:43,542 WARN [sandbox-terminator] [impl.util.sandbox.DefaultSandboxPool] lambda$startTerminator$0 Request has taken 33142ms exceeds limit 30000ms terminating sandbox\r\n -- referer: http://localhost:27112/c7112/pages/resumedraft.action?draftId=98380&draftShareId=e2607d7a-c85e-4325-a30a-dc78ecceee0e& | url: /c7112/rest/tinymce/1/macro/placeholder | traceId: ab59ec8b71fb32fe | userName: admin\r\n2021-06-11 14:41:43,550 WARN [ForkJoinPool.commonPool-worker-11] [plugins.conversion.impl.LocalFileSystemConversionResultSupplier] lambda$performConversionInSandbox$2 Error when performing conversion com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier$3@4754d1b[attachment=/download/attachments/98378/samplepptx.pptx?version=4&modificationDate=1623385184310&api=v2,conversionType=DOCUMENT] in the sandbox\r\n -- url: /c7112/display/PD/test+page+7.11.2+PPTX+test | traceId: 18b2b85377047f3a | userName: admin | referer: http://localhost:27112/c7112/pages/resumedraft.action?draftId=98380&draftShareId=e2607d7a-c85e-4325-a30a-dc78ecceee0e&\r\njava.util.concurrent.CompletionException: com.atlassian.confluence.util.sandbox.SandboxTimeoutException: Sandbox request has been killed because it exceeded time limit of 30 seconds\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1592)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.confluence.util.sandbox.SandboxTimeoutException: Sandbox request has been killed because it exceeded time limit of 30 seconds\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.tryToThrowSpecificException(SandboxProcess.java:227)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:159)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandboxPool.execute(DefaultSandboxPool.java:116)\r\n\tat com.atlassian.confluence.impl.util.sandbox.ConfluenceSandboxPoolFactory$LazySandbox.execute(ConfluenceSandboxPoolFactory.java:72)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandbox.execute(DefaultSandbox.java:41)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:66)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:59)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.DelegatingDocumentConversionSandbox.execute(DelegatingDocumentConversionSandbox.java:47)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier.lambda$performConversionInSandbox$1(LocalFileSystemConversionResultSupplier.java:279)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n\t... 3 more\r\nCaused by: java.io.IOException: Stream closed\r\n\tat java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:214)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:388)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxMessage.receiveMessage(SandboxMessage.java:42)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.receiveMessage(SandboxProcess.java:283)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:156)\r\n\t... 11 more\r\n{code}\r\n# Even after adding {{-Ddocument.conversion.sandbox.request.time.limit.secs=1800}} as JVM flag, the sandbox still crashes with:\r\n{code}\r\n2021-06-11 15:20:16,346 WARN [http-nio-27122-exec-2] [org.springframework.beans.GenericTypeAwarePropertyDescriptor] getWriteMethodForActualAccess Invalid JavaBean property 'contentPermissionManager' being accessed! Ambiguous write methods found next to actually used [public void com.adaptavist.confluence.naturalchildren.NaturalChildrenAction.setContentPermissionManager(com.atlassian.confluence.internal.ContentPermissionManagerInternal)]: [public void com.atlassian.confluence.pages.actions.AbstractPageAwareAction.setContentPermissionManager(com.atlassian.confluence.core.ContentPermissionManager)]\r\n -- referer: http://localhost:27122/c7122/display/PD/test+123 | url: /c7122/plugins/pagetree/naturalchildren.action | traceId: 9b50d45349f2ce0a | userName: admin\r\n2021-06-11 15:20:36,248 WARN [document-conversion-sandbox-launcher-4] [impl.util.sandbox.SandboxProcess] startIfDead Sandbox 1 has died\r\n -- referer: http://localhost:27122/c7122/display/PD/test+123?preview=/98371/98378/samplepptx.pptx | url: /c7122/rest/documentConversion/0.1/conversion/convert/98378/1 | traceId: 0604643fdfd99b15 | userName: admin\r\n2021-06-11 15:20:36,249 WARN [document-conversion-sandbox-launcher-4] [impl.util.sandbox.SandboxProcess] startIfDead Attempting to restart the sandbox 1\r\n -- referer: http://localhost:27122/c7122/display/PD/test+123?preview=/98371/98378/samplepptx.pptx | url: /c7122/rest/documentConversion/0.1/conversion/convert/98378/1 | traceId: 0604643fdfd99b15 | userName: admin\r\n2021-06-11 15:20:36,274 WARN [ForkJoinPool.commonPool-worker-9] [plugins.conversion.impl.LocalFileSystemConversionResultSupplier] lambda$performConversionInSandbox$2 Error when performing conversion com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier$3@2a994e19[attachment=/download/attachments/98371/samplepptx.pptx?version=1&modificationDate=1623388561452&api=v2,conversionType=THUMBNAIL] in the sandbox\r\n -- url: /c7122/ | traceId: ee5c9c4e7412ddd5 | userName: admin\r\njava.util.concurrent.CompletionException: com.atlassian.confluence.util.sandbox.SandboxCrashedException: Sandbox has crashed while serving the request\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1592)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.confluence.util.sandbox.SandboxCrashedException: Sandbox has crashed while serving the request\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.tryToThrowSpecificException(SandboxProcess.java:230)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:159)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandboxPool.execute(DefaultSandboxPool.java:116)\r\n\tat com.atlassian.confluence.impl.util.sandbox.ConfluenceSandboxPoolFactory$LazySandbox.execute(ConfluenceSandboxPoolFactory.java:72)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandbox.execute(DefaultSandbox.java:41)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:66)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:59)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.DelegatingDocumentConversionSandbox.execute(DelegatingDocumentConversionSandbox.java:47)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier.lambda$performConversionInSandbox$1(LocalFileSystemConversionResultSupplier.java:227)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n\t... 3 more\r\nCaused by: java.io.EOFException\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:392)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxMessage.receiveMessage(SandboxMessage.java:42)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.receiveMessage(SandboxProcess.java:283)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:156)\r\n\t... 11 more\r\n{code}\r\n\r\nh3. Diagnosis\r\n\r\nEnabling {{com.atlassian.confluence.impl.util}} DEBUG shows:\r\n\r\n{code}\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.e9.void.toArray(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.mb.try.if(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.e7.new.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n4.implements.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.FontsLoader.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.FontsLoader.loadExternalFonts(Unknown Source)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.plugins.conversion.AsposeUtils.configureFonts(AsposeUtils.java:117)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.plugins.conversion.AsposeAware.<clinit>(AsposeAware.java:6)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.plugins.conversion.sandbox.SandboxConversionTask.<clinit>(SandboxConversionTask.java:33)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat java.lang.Class.forName0(Native Method)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat java.lang.Class.forName(Class.java:348)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.confluence.impl.util.sandbox.SandboxServer.createTask(SandboxServer.java:81)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.confluence.impl.util.sandbox.SandboxServer.run(SandboxServer.java:60)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.confluence.impl.util.sandbox.SandboxServer.main(SandboxServer.java:121)\r\n2021-06-11 15:47:36,262 WARN [document-conversion-sandbox-launcher-1] [impl.util.sandbox.SandboxProcess] startIfDead Sandbox 0 has died\r\n{code}\r\n\r\n* Increasing the Sandbox memory to 4GB didn't help - still crashes with out of memory (x)\r\n{code}\r\n-Dconversion.sandbox.memory.limit.megabytes=4096\r\n{code}\r\n* Increasing the Sandbox memory to 8GB seemed to do the trick!\r\n{code}\r\n-Dconversion.sandbox.memory.limit.megabytes=8192\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nTry adding these JVM flags and restart Confluence:\r\n{code}\r\n-Ddocument.conversion.sandbox.request.time.limit.secs=300\r\n-Dconversion.sandbox.memory.limit.megabytes=8192\r\n-Dconversion.sandbox.java.options=\"-Dconfluence.document.conversion.slides.convert.timeout=300\"\r\n{code}\r\n\r\nSee [Configuring System Properties|https://confluence.atlassian.com/doc/configuring-system-properties-168002854.html] for more details",
      "summary": "Powerpoint PPTX file does not generate previews"
    }
  },
  {
    "key": "CONFSERVER-66195",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T09:26:25.000+0000",
      "description": "h3. Problem description\r\n(same as https://jira.mindville.com/browse/ICS-488)\r\nIt's possible for Confluence users to view Insight objects on a Confluence page as per [this documentation|https://documentation.mindville.com/insight-macro-confluence/latest/macros/insight-objects]. \r\n\r\nHowever, only authenticated Confluence users will be able to see the Insight objects even though the space/page is public.\r\n\r\nUnauthenticated users will not be able to see any Insight objects but a warning saying \"Authentication required You need to be logged in to see the Insight objects\".\r\n !image-2021-06-03-11-24-12-936.png|thumbnail! \r\n\r\nh3. Suggestion\r\n* Include this limitation in the documentation\r\n* Support anonymous access for Insight objects on a public Confluence page",
      "summary": "Allow anonymous access to view Insight objects in a Confluence page"
    }
  },
  {
    "key": "CONFSERVER-66183",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-09T07:55:18.000+0000",
      "description": "h3. Issue Summary\r\nOnce Confluence has been installed via the Azure ARM templates it cannot be successfully scaled up to n+1 nodes.\r\n\r\nh3. Steps to Reproduce\r\n1. Provision a Confluence cluster via the ARM templates/Marketplace. Confirm parity between the node count reported via the VMSS and the Confluence clustering UI..\r\nVMSS instances\r\n !image-2021-06-09-16-00-47-460.png|thumbnail! \r\nNodes reported via Confluence clustering UI\r\n !image-2021-06-09-16-01-06-387.png|thumbnail! \r\n\r\n2. Scale the cluster up by 1 node via the Azure console\r\n !screenshot-1.png|thumbnail! \r\n\r\nh3. Expected Results\r\nCluster should scale and new node visible in console\r\n\r\nh3. Actual Results\r\nAt this stage a new node will be provisioned by the VMSS and this will be visible via the Azure console. However on looking at the Confluence clustering UI we see that the new node is not available:\r\n !screenshot-2.png|thumbnail! \r\n\r\nh3. Workaround\r\nScaling up n+1 nodes from the original cluster size for Confluence on Azure is not possible.\r\nYou will need to ensure that the cluster size you select when deploying will be capable of serving all of their expected volume/load.",
      "summary": "Confluence cannot be scaled up/down beyond original cluster size on Azure"
    }
  },
  {
    "key": "CONFSERVER-66182",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-09T07:21:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a Confluence admin rebuilds the Confluence index, this can cause HTTP threads servicing requests for Confluence Questions to become stuck (waiting for a lock). Confluence can hang in environments with an exhausted HTTP thread pool where all of the following conditions are true:\r\n * index rebuild time is relatively high (many hours or even days)\r\n * the configured maximum HTTP thread pool size (maxThreads in server.xml) is small-average\r\n * Confluence Questions activity is reasonably moderate or busy\r\n The susceptibility is mostly dependent on the above factors.\r\n\r\nCreating questions or answers in Confluence Questions utilises endpoints such as {{/rest/questions/1.0/topic}}. Calls to this appear to contain a small re-indexing component (likely for confluence-edge), however if the Confluence admin is already running content reindexing then the thread handling {{/rest/questions/1.0/topic}} (for example) will hang whilst waiting for a lock.\r\n\r\nFor example:\r\n{code:java}\r\n\"http-nio-26134-exec-1 url:/rest/questions/1.0/topic username:user2\" #261 daemon prio=5 os_prio=31 tid=0x00007fc86b783000 nid=0x21903 waiting on condition [0x000070001b9ab000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000006da6428b0> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n\tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n\tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n\tat com.atlassian.bonnie.LoggingReentrantLock.lock(LoggingReentrantLock.java:32)\r\n\tat com.atlassian.bonnie.LuceneConnection.withWriter(LuceneConnection.java:485)\r\n\tat sun.reflect.GeneratedMethodAccessor1271.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n         <...snip...>\r\n{code}\r\nThis is similar to\u00a0CONFSERVER-46588.\r\n\r\nReproduced so far with the latest version of Confluence Questions (v2.7.30) and various versions of Confluence (6.13.4, 7.4.4, 7.12.2).\r\nh3. Steps to Reproduce\r\n # Generate a reasonable document set (this is to ensure that the index rebuild runs for a few minutes or more during the test)\r\n # Click the 'rebuild' button on the 'Search Indexes' page (/admin/search-indexes.action)\r\n # Whilst the index is rebuilding, attempt to save questions or answers in Confluence Questions\r\n\r\nh3. Expected Results\r\n\r\nRebuilding the index should not cause Confluence Questions threads to hang.\r\nh3. Actual Results\r\n\r\nIf index rebuilding is occurring, any requests to {{/rest/questions/1.0/*}} will hang whilst waiting for an indexing lock.\r\n\r\nThe UI will show a spinner and the 'Save' button is often greyed out until the threads become unstuck:\r\n\r\n!confluence-question-UI-spins.png|width=600,height=300!\r\n\r\n\r\nThe below message is printed in the catalina.out file (if server.xml contains the StuckThreadDetectionValve):\r\n{noformat}\r\n09-Jun-2021 12:37:45.671 WARNING [ContainerBackgroundProcessor[StandardEngine[Standalone]]] org.apache.catalina.valves.StuckThreadDetectionValve.notifyStuckThreadDetected Thread [http-nio-26134-exec-1 url:/rest/questions/1.0/topic username:user2] (id=[261]) has been active for [64,804] milliseconds (since [6/9/21 12:36 PM]) to serve the same request for [http://localhost:26134/rest/questions/1.0/topic?pageSize=9] and may be stuck (configured threshold for this StuckThreadDetectionValve is [60] seconds). There is/are [1] thread(s) in total that are monitored by this Valve and may be stuck.\r\n java.lang.Throwable\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)\r\n        at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)\r\n        at com.atlassian.bonnie.LoggingReentrantLock.lock(LoggingReentrantLock.java:32)\r\n        at com.atlassian.bonnie.LuceneConnection.withWriter(LuceneConnection.java:485)\r\n        at sun.reflect.GeneratedMethodAccessor1271.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n<...snip...>\r\n{noformat}\r\nSuch threads will eventually complete once the main index rebuild completes. However, if there's enough activity in Confluence Questions and the index rebuild is taking a long time, the entire HTTP thread pool can be exhausted.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Running content reindexing in Confluence causes threads for Confluence Questions to hang"
    }
  },
  {
    "key": "CONFSERVER-66181",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-09T07:07:25.000+0000",
      "description": "h3. Issue Summary\r\n\r\nStarting from approximately the 9th May 2021 Azure deployments using all of our product templates started to fail.\r\nh3. Steps to Reproduce\r\n\r\nTry to deploy Confluence via:\r\n * Azure marketplace console\r\n * CLI\r\n * Bitbucket pipelines\r\n\r\nh3. Expected Results\r\n\r\nDeployment succeeded\r\nh3. Actual Results\r\n\r\nDeployment is failing with an error for *analyticsTemplate* as it's failing to deploy the following modules\r\n * AzureSQLAnalytics\r\n * AzureAppGatewayAnalytics\r\n\r\nh3. Workaround\r\n\r\nAlthough\u00a0AzureAppGatewayAnalytics is failing to deploy, overall deployment will succeed and once completed can be accessed over service URL for further configuration.\r\n Disabling Azure Analytics when configuring a deployment via console or CLI will avoid the error:\r\n\r\nconsole workaround:\r\n !screenshot-1.png|thumbnail!\r\n\r\nCLI workaround\r\n Ensure {{enableAnalytics}} is set to {{false}} in deployment params i.e\r\n{code:java}\r\n    \"enableAnalytics\": {\r\n      \"value\": false\r\n{code}",
      "summary": "Azure deployments (Pipelines/CI/Marketplace) failing for Confluence for analyticsTemplate"
    }
  },
  {
    "key": "CONFSERVER-66179",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-09T04:35:23.000+0000",
      "description": "h3. Issue Summary\r\nApp switcher hover background colour is not consistent with other buttons\r\n\r\nh3. Steps to Reproduce\r\n # hover on app switcher\r\n\r\nh3. Expected Results\r\n\r\nThe background should be in dark blue.\r\n\r\n!image (7).png!\r\nh3. Actual Results\r\n\r\n!image (6).png!\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "App switcher hover background colour is not consistent"
    }
  },
  {
    "key": "CONFSERVER-66177",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-02T22:10:54.000+0000",
      "created": "2021-06-09T04:18:19.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\r\n  *NOTE:* This bug report is for *Confluence Server*. Using *Confluence Cloud*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFCLOUD-28946].\r\n  {panel}\r\n\r\nThe Space Admin functionality allows a space to have 'Anonymous Access' allowed and displays the following warning:\r\n\r\n{quote}\r\nWARNING\r\nAnonymous users will not be able to view this space, because they have not been granted the global \u2018Use Confluence\u2019 permission. You can grant anonymous access to Confluence from global permissions.\r\n{quote}\r\n\r\nThe global permissions of the Confluence environment prevents anonymous users from accessing Confluence.\r\n\r\nHowever, a user that is permissioned to Confluence but does not belong to a group that is currently permissioned to the space is now able to access the space.  Examples of this behaviour have been attached.\r\n\r\nRemoving the anonymous flag from the space will then prevent this user from being able to access the space. You can use the following query to identify spaces with Anonymous permissions enabled:\r\n{code}\r\nSELECT spacename, \r\n       spacekey \r\nFROM   spaces \r\nWHERE  spaceid IN (SELECT spaceid \r\n                   FROM   spacepermissions \r\n                   WHERE  permgroupname IS NULL \r\n                          AND permusername IS NULL); \r\n{code}\r\n\r\nCheers,\r\nPaul ",
      "summary": "Anonymous space permission allows non-permissioned groups to access space, when global permissions are set to prevent anonymous access"
    }
  },
  {
    "key": "CONFSERVER-66174",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T23:38:47.000+0000",
      "description": "h3. Problem\r\nIn Confluence, it is currently not possible to bulk edit some attachment properties such as the filenames of the attachments.\r\n\r\nh3. Suggested Solution\r\nAdd a function that would allow to find and replace regular expressions in attachments filenames for instance.\r\n\r\nh3. Why This Is Important\r\nAs an end-user or Confluence administrator, I want to be able to rename attachments in my Confluence site in bulk in order to help streamline some of my operations on my attachments. Indeed, sometimes attachments need to be updated in order to give them a more meaningful logic in filenames and/or sometimes we also need to remove the reference or a special characters in the filenames.\r\n\r\n\r\nh3. Workaround\r\nCurrently, we have to go in the properties of each attachment one by one to edit them.",
      "summary": "Ability to Change the Attachment Filenames in Bulk"
    }
  },
  {
    "key": "CONFSERVER-66173",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T23:26:16.000+0000",
      "description": "h3. Problem Definition\r\nEach time a user is inserting a new [Task List|https://confluence.atlassian.com/doc/add-assign-and-view-tasks-590260030.html] into a page, the help text below will be pre-filled into the first task:\r\nbq. Type your task here, using \"@\" to assign to a user and \"//\" to select a due date\r\n\r\nThis can add overhead time for the editor to manually remove the help texts if they were to add multiple sections of Task Lists into a page during the page edit.\r\n\r\nHere's an example of adding task lists into different cells of the table, the help text shows every time:\r\n !help text.png|thumbnail! \r\n\r\nh3. Suggested Solution\r\nHaving the help text showing only *once* per edit session since the editor would have been aware of how to use the task list from the first help text\r\n\r\nOR\r\n\r\nGive Confluence Admin the option to disable the help text from inserting entirely",
      "summary": "Showing the help text in creating new Task List only once per edit session"
    }
  },
  {
    "key": "CONFSERVER-66172",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T00:39:11.000+0000",
      "created": "2021-06-08T21:20:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nTables with fixed-width stopped rendering correctly after upgrading Chrome to version 91. It seems to be an update in the table rendering feature, according to the [Chrome Release Notes|https://support.google.com/chrome/a/answer/7679408?hl=en].\r\nh3. Steps to Reproduce\r\n # Install Chrome 91.0.4472.77?\r\n # Access Confluence and create a page with the following storage format:\r\n{code:java}\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"section\" ac:schema-version=\"1\" ac:macro-id=\"2c29cccd-0fa7-406b-b443-30ac6a759834\"><ac:rich-text-body>\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"panel\" ac:schema-version=\"1\" ac:macro-id=\"b6d45086-f4d6-47be-9fed-ac1bb5473d6e\"><ac:parameter ac:name=\"borderColor\">#000099</ac:parameter><ac:parameter ac:name=\"borderWidth\">4</ac:parameter><ac:rich-text-body>\r\n<h1 style=\"text-align: center;\"><strong>Example</strong></h1>\r\n<div align=\"center\">\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<table class=\"wrapped fixed-table\"><colgroup> <col style=\"width: 170.0px;\" /> <col style=\"width: 170.0px;\" /> <col style=\"width: 151.0px;\" /> <col style=\"width: 152.0px;\" /> </colgroup>\r\n<tbody>\r\n<tr>\r\n<td style=\"width: 56.1924%;\" colspan=\"4\">\r\n<div class=\"content-wrapper\" style=\"text-align: center;\">\r\n<p></p>\r\n<p><strong> Example Text 1 </strong></p></div></td></tr>\r\n<tr>\r\n<td style=\"text-align: center;width: 7.04875%;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 2 </strong></p></div></td>\r\n<td style=\"text-align: center;width: 10.2108%;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 3 </strong></p></div></td>\r\n<td style=\"text-align: center;width: 8.43215%;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 4 </strong></p></div></td>\r\n<td style=\"text-align: center;width: 6.917%;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 5 </strong></p></div></td></tr>\r\n<tr>\r\n<td style=\"text-align: center;width: 7.04875%;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 6 </strong></p></div></td>\r\n<td style=\"width: 10.2108%;text-align: center;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 7 </strong></p></div></td>\r\n<td style=\"width: 8.43215%;text-align: center;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 8 </strong></p></div></td>\r\n<td style=\"width: 6.917%;text-align: center;\">\r\n<div class=\"content-wrapper\">\r\n<p></p>\r\n<p><strong> Example Text 9 </strong></p></div></td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p></div></ac:rich-text-body></ac:structured-macro>\r\n<p class=\"auto-cursor-target\"><br /></p></ac:rich-text-body></ac:structured-macro>\r\n{code}\r\n # Save the Page\r\n\r\nh3. Expected Results\r\n\r\nThe page should be rendered as:\r\n !image-2021-06-08-18-14-19-898.png|width=748,height=173!\r\nh3. Actual Results\r\n\r\nThe page renders as:\r\n !image-2021-06-08-18-13-58-848.png|width=611,height=238!\r\n\r\nThis was a change introduced in [Chrome 91|https://support.google.com/chrome/a/answer/7679408?hl=en]:\r\n{quote}\r\nh4. Chrome uses updated table rendering\r\n\r\nChrome 91 updates the way it renders tables on web pages. This change fixes known issues and brings Chrome closer to the behavior of other browsers, so we expect the impact to be minimal. However, you should test important workflows in your environment for unexpected issues. A full explainer is available here.\r\n{quote}\r\nh3. Workaround\r\n # Open Chrome\r\n # Access the address {{chrome://flags}}\r\n # Search for the flag *Enable TableNG*\r\n # Disable it and re-launch Chrome\r\n\r\n*Workaround 2*\r\n # Edit the page\r\n # Copy the table that isn't rendering correctly (it doesn't appear in the editor, but you can hove the mouse cursor over it)\r\n # Paste the table into any other place in the page. It should be rendered correctly.",
      "summary": "Fixed width tables aren't rendered correctly in Confluence pages when using Chrome 91"
    }
  },
  {
    "key": "CONFSERVER-66134",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T03:41:51.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhile Collab mode off manually merge is asked from Confluence in spite of there is no conflict in concurrent edit when more than two attributes in a html tag.\r\nh3. Steps to Reproduce\r\n\r\nNote: The following \"Steps to Reproduce\" is just an example. Depending on the version and settings of Confluence, it may not occur even with the following steps.\r\n\r\n1.Disable collaborative edit.\r\n 2.Create the page with the following content(You can easy to achieve this instruction with \"Confluence Source Editor\"). There is no drafts.\r\n{code:java}\r\n<p><a style=\"text-decoration: none;\" href=\"https://www.atlassian.com/ja\" rel=\"nofollow\">Atlassian Japanese</a></p>\r\n<p><a style=\"text-decoration: none;\" href=\"https://www.atlassian.com/\" rel=\"nofollow\">Atlassian</a></p>\r\n{code}\r\n3.In concurrent editing, each user edit different sentence, and save it. Then, Confluence Server suggests manually merge.\r\n\r\n(!) If you run Confluence 7.4.x or prior, you can replace the step 2 with the following procedure.\r\n a.Create a new page\r\n b.Type \"https://www.atlassian.com\" in the editor so that it will create a link to the url\r\n c.Save the page\r\n d.See the page from viewpage.action and copy the link. \r\n e.Edit the page and paste the link gained in step d. It will look like follows\r\n{code:java}\r\n<a style=\"text-decoration: none;\" class=\"external-link\" rel=\"nofollow\" href=\"https://www.atlassian.com/\">https://www.atlassian.com</a>\r\n{code}\r\nThis behavior wasn't seen in more recent version 7.12.0.\r\nh3. Expected Results\r\n - There is no conflict, so manually merge is never trigger.\r\n\r\nh3. Actual Results\r\n - There is no conflict, but manually merge is triggered.\r\n\r\nh3. Workaround\r\n - first workaround could be use not more than two attributes in a html tag. Then chance of happening this issue will be quite low.\r\n - second workaround is, if this conflict happen it is safe to accept the suggestion by the editor.",
      "summary": "While Collab mode off manually merge is asked from Confluence in spite of there is no conflict in concurrent edit when more than two attributes in a html tag."
    }
  },
  {
    "key": "CONFSERVER-66132",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T21:25:46.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\r\n  *NOTE:* This suggestion is for *Confluence Server*. Using *Confluence Cloud*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFCLOUD-12429].\r\n  {panel}\r\n\r\nSteps To Reproduce:\r\n1) create and save a private jira filter (e.g. assignee = paul chambers, resolution = unresolved)\r\n2) give it a custom column order, remove one or more columns (e.g. assignee, resolution)\r\n3) use {jiraissues} macro to insert it into confluence page\r\n\r\nExpected Result:\r\n\r\nBy linking {jiraissues}\r\nto an already configured filter in JIRA, we would expect the\r\ncolumn choice / ordering / visibility to be the same in Confluence\r\n\r\nAppearance of filter output in confluence approximates appearance in jira, including custom sort order, column order\r\n\r\nActual Result:\r\n\r\nConfluence honors the sort order of the jira filter, but not the column order (and hiding of columns).\r\n\r\nAdditional Information (Setup/Notes/etc):\r\n\r\n{jiraissues} macro does provide a 'column' parameter to control visibility and order of columns. So there is a workaround.\r\n\r\nBut as stated, you would expect that specifying a certain filter in the plug-in would include its appearance, not just its query.\r\n\r\n",
      "summary": "jiraissues macro should display column order like in the original filter"
    }
  },
  {
    "key": "CONFSERVER-66131",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T21:03:38.000+0000",
      "description": "h3. Issue Summary\r\nIf we edit a page with a lot of content in Firefox and try to mark a word in its content as bold the editor will return to the top of the page.\r\nThe issue is happening in versions below 7.x only in Firefox (we have tested versions 88 and 89).\r\n\r\nh3. Steps to Reproduce\r\n # Create a new page in Confluence and add [a large amount of text|https://loremipsum.io/generator/?n=100&t=p].\r\n # Save the page.\r\n # Edit the page and scroll down to the middle of the page, and select a word and select the bold option.\r\n # The editor will load the page from the top.\r\n # In Confluence 7.x, the editor will load from where the page was last.\r\n\r\nh3. Expected Results\r\nThe editor should not change its position while the text is being edited.\r\n\r\n\r\nh3. Actual Results\r\nThe editor jumps back to the top of the page.\r\n\r\nh3. Workaround\r\nThe customer can use Google Chrome instead to avoid this issue.\r\n",
      "summary": "Editor scrolls back to the top when while using formatting tools with pages with a lot of content in Firefox."
    }
  },
  {
    "key": "CONFSERVER-66128",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T10:45:19.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen displaying Jira issue events in Team calendar in Confluence, the time shows one hour ahead from Jira, enclosed is a video demonstrating the behaviour.\r\nh3. Steps to Reproduce\r\n # Open Jira >> Create a test project >> Create a Jira issue\r\n # Add a field \"Due Date\" >> field type, Date time picker\r\n # Select a certain date/time and save\r\n # Go to Confluence >> Team Calendar >> Add a calendar with timezone Europe/Moscow\r\n # Click on \"...\" >> Add Event, Enter Name: Jira Events >> Select the Test project >> Select \"Due date\" field\r\n # Check the time shown for the Jira issues, it is one hour ahead than in Jira\r\n\r\nh3. Expected Results\r\n\r\nTime should be identical for Jira issues\u00a0fields in Team Calendar and Jira\r\nh3. Actual Results\r\n\r\nTime is one hour ahead in Team Calendar for Jira issues\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Time shows one hour ahead for Jira issues in Team Calendar when selecting MSK timezone"
    }
  },
  {
    "key": "CONFSERVER-66079",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-04T17:59:25.000+0000",
      "description": "h3. Issue Summary\r\nAny Jira Issue macro (JIM) without 'macro-id', 'name' or 'schema-version' parameters in the page source (storage format) cause other Jira Issue macros to fail on the same page. It fails with:\r\n{quote}\r\nError rendering macro 'jira'\r\njava.lang.NullPointerException\r\n{quote}\r\n !error.png|thumbnail! \r\n\r\nAdditionally, the errant JIM will be invisible on page load and in the editor, only visible in the storage format/source editor. \r\n\r\nh3. Steps to Reproduce\r\n # Configure a Confluence (7.9.1 or 7.9.3) instance and a JIRA instance (I used an 8.x.x version). Create an application link between them.\r\n# [Install the source editor in Confluence|https://marketplace.atlassian.com/apps/1210722/confluence-source-editor?hosting=server&tab=overview].\r\n# Create a page, add a title and add two Jira Issues macros on the page. It should look like this in the editor:\r\n !editor-display-placeholder.png|thumbnail! \r\n# Save the page.\r\n# Edit the page again and inspect the source. It'll look like this:\r\n !view-source-default.png|thumbnail! \r\n# Remove the highlighted text in the screenshot for the top macro. It should look like this:\r\n !view-source-edited.png|thumbnail! \r\n# Save the page.\r\n\r\nh3. Expected Results\r\n# If the JIM macro doesn't have the macro-id, name, schema-version parameters, it should load a missing macro placeholder if it fails so that can be identified/modified/removed in the editor.\r\n# The failing of the above macro should not affect any other macro's on the page.\r\n\r\nh3. Actual Results\r\n# The macro fails to load on page view or in the editor and becomes 'invisible on the page during edit.\r\n !missing-macro.png|thumbnail!\r\n# On page view, the bottom (2nd) Jira Issue macro displays the NPE error.\r\n !error.png|thumbnail! \r\n\r\n*Other Notes*\r\nThe HAR file will show a 500 HTTP error when attempting to load a placeholder for the macro missing the required attributes (macro-id, name, schema-version):\r\n{code}\r\nerror?i18nKey=editor.placeholder.broken.macro&locale=en_US&version=2\r\n{code}\r\n\r\nYou may also see the following in the <home-directory>/logs/atlassian-confluence.log file:\r\n{noformat}\r\n2021-06-04 12:40:27,810 ERROR [http-nio-6791-exec-3] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.confluence.event.events.content.page.PageUpdateEvent@65cf3cdf[originalPage=page: Confluence Jira-Issue-Macro Test v.10 (6029317),updateTrigger=EDIT_PAGE,page=page: Confluence Jira-Issue-Macro Test v.11 (5800107),suppressNotifications=false,timestamp=1622828427807]] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.confluence.plugins.jira.ConfluenceEventListener.updateJiraRemoteLinks(com.atlassian.confluence.event.events.content.page.PageUpdateEvent), listener=com.atlassian.confluence.plugins.jira.ConfluenceEventListener@522a2f41} (timed)]\r\n -- referer: http://localhost:6791/c791/pages/editpage.action?pageId=5800107 | url: /c791/rest/api/content/5800107 | traceId: 414889f58adfb01f | userName: admin\r\njava.lang.RuntimeException: Could not parse Create Jira Issue macros. Listener: com.atlassian.confluence.plugins.jira.ConfluenceEventListener event: com.atlassian.confluence.event.events.content.page.PageUpdateEvent\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:57)\r\n\r\nCaused by: java.lang.IllegalStateException: Could not parse Create Jira Issue macros\r\n\r\nCaused by: com.atlassian.confluence.content.render.xhtml.XhtmlException: RuntimeException occurred while performing an XHTML storage transformation (null)\r\n\r\nCaused by: java.lang.NullPointerException\r\n\r\n2021-06-04 12:40:27,954 WARN [http-nio-6791-exec-2] [xhtml.view.macro.ViewMacroMarshaller] handleMacroExecutionException Exception executing macro: jira, with message: java.lang.NullPointerException\r\n -- url: /c791/display/TAC/Confluence+Jira-Issue-Macro+Test | page: 5800107 | traceId: 47d02ca7de48ceff | userName: admin | referer: http://localhost:6791/c791/pages/editpage.action?pageId=5800107 | action: viewpage\r\n \r\n2021-06-04 12:40:32,902 WARN [Caesium-1-4] [plugins.macrousage.extractor.MacroExtractor] processXhtml Failed to extracting macro usages on entity [5800107] : RuntimeException occurred while performing an XHTML storage transformation (null)\r\n{noformat}\r\n\r\nh3. Workaround\r\n# Using the source-editor, remove the block of XML for the macro (starting with <ac:structured-macro> and ending with </ac:structured-macro>). If it's in a table cell, you can remove that row/column which will remove the offending source.\r\n# Add the JIM macro back to the page.",
      "summary": "A Jira Issue macro without 'macro-id', 'name' or 'schema-version' tags cause other Jira Issue Macros to fail."
    }
  },
  {
    "key": "CONFSERVER-66078",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-04T17:04:49.000+0000",
      "description": "Dear all, would be possible to implement a parameter to let user decide to disable the CSV exporting in the\u00a0insight-objects-macro?",
      "summary": "Disabling CSV export in insight-objects-macro"
    }
  },
  {
    "key": "CONFSERVER-66077",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-04T13:18:47.000+0000",
      "description": "When you add a youtube link to a page for example, it's displayed in the widget connector and upon loading the page multiple external hosts are connected to automatically without any confirmation from the user.\r\n\r\nWith youtube as an example the following external hosts connect, plus potentially more:\r\n* doubleclick.net\r\n* googleads.g.doubleclick.net\r\n* static.doubleclick.net\r\n* ggpht.com\r\n* google.com\r\n* gstatic.com\r\n* youtube.com\r\n* ytimg.com\r\n\r\nFor various reasons including GDPR environments, it would be useful to be able to disable any loading of external hosts on page load without user interaction.\r\n\r\nh4. Suggestion\r\nAdd an option to disable loading any external source without interaction and just include a thumbnail or placeholder instead.\r\n",
      "summary": "Option to disable the widget connector from connecting to external hosts on page load"
    }
  },
  {
    "key": "CONFSERVER-66072",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-04T10:07:58.000+0000",
      "description": "When Coverity automatically detects a domain name it now creates links using http, this should be changed to https if https is supported. for example if I write [www.example.com|http://www.example.com/]\u00a0it creates the link [http://www.example.com|http://www.example.com/]\u00a0and [https://www.example.com|https://www.example.com/]\r\n\r\nI also see that it is the same in jira.",
      "summary": "use https in links"
    }
  },
  {
    "key": "CONFSERVER-66068",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T21:12:39.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCompanies have been adopting Work From Home (WFH) and Bring Your Own Device (BYOD) programs, adding complexity to the landscape of devices to be managed.\r\n\r\nCurrently there's no way to restrict attachment downloads to a personal / non-compliant device from the Confluence Mobile App.\r\nh3. Suggested Solution\r\n\r\nProvide the option to only allow attachment downloads from MDM-compliant devices on the Confluence Mobile App.\r\nh3. Workaround\r\n\r\nCurrently there's no workaround available.",
      "summary": "Restrict attachment downloads on Confluence Mobile App"
    }
  },
  {
    "key": "CONFSERVER-65963",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T13:48:23.000+0000",
      "description": "h3. Problem\r\n\r\nPDF exports can timeout if the proxy timeout is not changed and that can be a security issue.\r\n\r\nExport operations can take a long time and hence there should be an implementation that starts the export with the first request and than have the ui polling the server until the export is done. That would avoid long running transactions (requests) which might harm the system. Also, such a implementation can use a queue of export jobs and the sandbox processes take the jobs from that queue when they become free. That would also avoid to fail reporting if there isn't a free sandbox available at the time, when the export request arrives.\r\n\r\n\u00a0\r\nh3. Why This Is Important\r\n\r\n\u00a0\r\n\r\n_This makes the exports more reliable and less dependant of other infrastructure systems_",
      "summary": "Make Exports asynchronous"
    }
  },
  {
    "key": "CONFSERVER-65962",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T13:36:18.000+0000",
      "description": "h3. Problem\r\n\r\nLogmessages should clearly state the reason for the crash of the sandbox. Examples could be OutOfMemory, Timeout, ... Such informations should be included in the error message in the logs. On the other hand, stacktraces are good for deeper analysis, but they tell nearly nothing to the operation guys, but filling the logs and make it hard to read the logs.\r\n\r\n\u00a0\r\nh3. Why This Is Important\r\n\r\nHaving this feature implemented would help a lot the customer and support team by making Sandbox troubleshooting easier and faster.\r\n\r\n\u00a0",
      "summary": "Make the Sandbox Logs clearer"
    }
  },
  {
    "key": "CONFSERVER-65899",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T08:47:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCrowd SSO with Confluence stopped working once Confluence upgraded or installed to 7.11.x or the latest version also Confluence running behind the Proxy server. With this configuration, Confluence sends a request to Crowd including Client IP address as a validation factor but it should go with Client IP and Proxy IP address with validation factor.\r\n\r\nFor example:- Confluence Configured to Crowd SSO and after enabling *\u201ccom.atlassian.crowd.manager.token\u201d*\u00a0at the crowd, we get below token request:\r\n{code:java}\r\nConfluence2021-05-25 15:06:08,041 http-nio-8095-exec-14 DEBUG [crowd.manager.token.RecoveryModeAwareTokenAuthenticationManager] Current Validation Factors: [ValidationFactor[remote_address=1.1.1.1]]{code}\r\nBut expected request should be like below where Proxy IP address also included:\r\n{code:java}\r\n2021-05-25 15:07:40,630 http-nio-8095-exec-10 DEBUG [crowd.manager.token.RecoveryModeAwareTokenAuthenticationManager] Current Validation Factors: [ValidationFactor[remote_address=2.2.2.2], ValidationFactor[X-Forwarded-For=1.1.1.1]]{code}\r\nHere, 1.1.1.1 is the Client IP address and 2.2.2.2 is the Proxy Ip address.\r\n\r\nAs per the investigation, this is happening because of the below tomcat valve which is added in Confluence 7.11.x version onwards:\r\n{code:java}\r\n <!-- http://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Remote_IP_Valve -->\r\n                    <Valve className=\"org.apache.catalina.valves.RemoteIpValve\" /> \r\n{code}\r\nh3. Steps to Reproduce\r\n # Upgrade or install the new Confluence version 7.11.x or 7.12.x\u00a0\r\n # Run this Confluence behind the Proxy server.\r\n # Configure Confluence using Crowd SSO.\r\n # After configured the SSO, try to use Crowd SSO for Confluence for authentication.\r\n # SSO will not work for Confluence but other Atlassian Applications work properly.\r\n\r\nh3. Expected Results\r\n\r\nThe expected result should be like below where Confluence token request contains Proxy IP address including Client IP address as X-Forwarded-For:\r\n{code:java}\r\n 2021-05-25 15:07:40,630 http-nio-8095-exec-10 DEBUG [crowd.manager.token.RecoveryModeAwareTokenAuthenticationManager] Current Validation Factors: [ValidationFactor[remote_address=2.2.2.2], ValidationFactor[X-Forwarded-For=1.1.1.1]]{code}\r\nh3. Actual Results\r\n\r\nWith RemoteIpValve we can see the below request where just client IP address included in the Token request.\r\n{noformat}\r\nConfluence2021-05-25 15:06:08,041 http-nio-8095-exec-14 DEBUG [crowd.manager.token.RecoveryModeAwareTokenAuthenticationManager] Current Validation Factors: [ValidationFactor[remote_address=1.1.1.1]]\r\n{noformat}\r\nh3. Workaround\r\n\r\nTo fix this we can disable the below tomcat valve from the server.xml file:\r\n{code:java}\r\n <!-- http://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Remote_IP_Valve -->  <Valve className=\"org.apache.catalina.valves.RemoteIpValve\" /> {code}\r\nAnd if we needed x-forwarded-for value in Confluence access logging just change the AccessLogValve pattern like below:\r\n{code:java}\r\n<Valve className=\"org.apache.catalina.valves.AccessLogValve\" \r\n       directory=\"logs\" \r\n       maxDays=\"30\" \r\n       pattern=\"%t %{X-Forwarded-For}i %{X-AUSERNAME}o %I %h %r %s %Dms %b %{Referer}i %{User-Agent}i\" prefix=\"conf_access_log\" \r\n       requestAttributesEnabled=\"true\" \r\n       rotatable=\"true\" \r\n       suffix=\".log\" \r\n/>\r\n{code}",
      "summary": "Crowd SSO stopped working in Confluence after upgrade to 7.11.x or 7.12.x "
    }
  },
  {
    "key": "CONFSERVER-65898",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T07:17:12.000+0000",
      "description": "h3. Problem\r\nWhilst applying the custom code below in the Global PDF Stylesheet of Confluence.\r\nThe PDF export function won't work if the exported page contains a Change History Macro.\r\n\r\n\r\nh3. Environment\r\nReproduced on Confluence Server *7.4.5* and *7.4.7*\r\n\r\nh3. Steps to Reproduce\r\n# Go to !https://confluence.atlassian.com/support/files/790796813/947856965/1/1522298459209/cog-new.png|width=17,height=17! *> General Configuration > PDF Stylesheet* and add the code\r\n{code:css}\r\n.logo{\r\n     position: running(header4);\r\n}\r\n{code}\r\n# Create a new Confluence page with a *Change History* Macro on it\r\n# Attempt to *Export to PDF* the Page\r\n\r\nh3. Expected Results\r\nThe PDF Export operation should work and a PDF file generated.\r\n\r\nh3. Actual Results\r\nThe PDF Export operation fails with Cause example below:\r\n{code}\r\njava.lang.RuntimeException: com.atlassian.confluence.importexport.ImportExportException: Exception while rendering the PDF document <confluence-home>/temp/pdfexport-20210603-030621-1712-5/ds-CheckPDFexportwithChangeHistorymacro-030621-1712-6.pdf\r\n    at com.atlassian.confluence.extra.flyingpdf.impl.ExportPageAsPdfAction.doExecute(ExportPageAsPdfAction.java:56)\r\n\r\ncaused by: com.atlassian.confluence.importexport.ImportExportException: Exception while rendering the PDF document <confluence-home>/temp/pdfexport-20210603-030621-1712-5/ds-CheckPDFexportwithChangeHistorymacro-030621-1712-6.pdf\r\n    at com.atlassian.confluence.extra.flyingpdf.impl.FlyingSaucerXmlToPdfConverter.convertXhtmlToPdf(FlyingSaucerXmlToPdfConverter.java:115)\r\n\r\ncaused by: java.lang.ClassCastException: org.xhtmlrenderer.render.AnonymousBlockBox cannot be cast to org.xhtmlrenderer.newtable.TableCellBox\r\n    at org.xhtmlrenderer.newtable.TableSectionBox.recalcCells(TableSectionBox.java:83)\r\n{code}\r\n\r\nh3. Workaround\r\n* *Export to Word* and then Save the document *as PDF*\r\n\r\nh3. Notes\r\nA small recording is attached as well to illustrate the steps to reproduce",
      "summary": "custom PDF Stylesheet breaks the PDF Export for Change History Macro content"
    }
  },
  {
    "key": "CONFSERVER-65897",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T03:48:59.000+0000",
      "created": "2021-06-03T07:07:57.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDocument links provided in log analyzer of Troubleshooting and support tools\r\n cannot open normally, since they contain wrong '}' (%7D) character in URL.\r\nh3. Steps to Reproduce\r\n # CONFLUENCE ADMINISTRATION > General configuration > Troubleshooting and support tools > Log analyzer\r\n # Scan log and get some\r\n # Some document links will show in Problem column.\r\n # Click some links to open\r\n\r\nh3. Expected Results\r\n\r\nThey should be able to open normally.\r\nh3. Actual Results\r\n\r\nDocument links cannot be opened, since the URL is wrong. \r\n An extra ' (%7D) character following 'confluence.atlassian.com' is shown in the URL path. \r\n Some example like below:\r\n{code:java}\r\nhttps://confluence.atlassian.com%7D/display/CONFKB/%27org.springframework.transaction.UnexpectedRollbackException%27+when+Viewing+or+Creating+a+Page?utm_source=STP&utm_medium=logScan\r\nhttps://confluence.atlassian.com%7D/display/CONFKB/Viewfile+Macro+is+Unable+to+Locate+the+Attachment?utm_source=STP&utm_medium=logScan\r\nhttps://confluence.atlassian.com%7D/display/CONFKB/Viewfile+Macro+is+Unable+to+Locate+the+Attachment?utm_source=STP&utm_medium=logScan\r\n{code}\r\nh3. Workaround\r\nRemove the extra character from the URL in your browser.\r\n\r\nIf your instance is connected to the internet, then this problem has been corrected.\r\n\r\nIf you are not connected to the internet, then downgrade ATST to 1.32.7",
      "summary": " KB URL in log analyzer contains wrong character of '%7D' (}) "
    }
  },
  {
    "key": "CONFSERVER-65896",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-28T03:22:12.000+0000",
      "created": "2021-06-03T06:55:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence upgrade to 7.12.1 fails if the DB server already has another database with Confluence 7.12.1 installed.\r\nh3. Steps to Reproduce\r\n # Create two databases *test1* and *test2* on the same MySQL server.\r\n # Install Confluence 7.12.1 using *test1* database\r\n # Install a separate instance of Confluence 7.10.0 using *test2* database\r\n # Upgarde the second instance to Confluence 7.12.1\r\n\r\nh3. Expected Results\r\n\r\nThe upgrade finishes successfully.\r\nh3. Actual Results\r\n\r\nUpgrade fails.\r\n Confluence detects that the index denormalised_content_view_permissions_denorm_content_sid_idx exists and tries to delete it. In reality, the index exists in another database, not in the current database, so it fails to drop the index from the current database.\r\n\r\nThe below exception is thrown and can be found in Confluence logs:\r\n\r\n2021-05-20 21:25:31,793 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades Upgrade failed, application will not start: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedContentPermissionsUpgradeTask@6802d18 failed during the SCHEMA_UPGRADE phase due to: StatementCallback; bad SQL grammar [DROP INDEX denormalised_content_view_permissions_denorm_content_sid_idx ON DENORMALISED_CONTENT_VIEW_PERMISSIONS;]; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Can't DROP 'denormalised_content_view_permissions_denorm_content_sid_idx'; check that column/key exists\r\n com.atlassian.confluence.upgrade.UpgradeException: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedContentPermissionsUpgradeTask@6802d18 failed during the SCHEMA_UPGRADE phase due to: StatementCallback; bad SQL grammar [DROP INDEX denormalised_content_view_permissions_denorm_content_sid_idx ON DENORMALISED_CONTENT_VIEW_PERMISSIONS;]; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Can't DROP 'denormalised_content_view_permissions_denorm_content_sid_idx'; check that column/key exists\r\nh3. Workaround\r\n # Drop these tables on the current database:\r\n{code:java}\r\nDROP TABLE DENORMALISED_STATE;\r\nDROP TABLE DENORMALISED_CONTENT;\r\nDROP TABLE DENORMALISED_SID;\r\nDROP TABLE DENORMALISED_SPACE_VIEW_PERMISSIONS;\r\nDROP TABLE DENORMALISED_SPACE_EDIT_PERMISSIONS;\r\n{code}\r\n\r\n # On the same MySQL DB server, find all other databases having 'denormalised_content_view_permissions_denorm_content_sid_idx' index. Can be done with this SQL query:\r\n{code:java}\r\nSELECT DISTINCT TABLE_SCHEMA FROM information_schema.statistics WHERE INDEX_NAME = 'denormalised_content_view_permissions_denorm_content_sid_idx';\r\n{code}\r\n\r\n # Drop this index on *all those* databases with this SQL query:\r\n{code:java}\r\nDROP INDEX denormalised_content_view_permissions_denorm_content_sid_idx ON DENORMALISED_CONTENT_VIEW_PERMISSIONS;\r\n{code}\r\nKeep the list of these databases.\r\n\r\n # Restart Confluence and let it finish the upgrade process.\r\n # Restore the index on all the databases (from item 3) back:\r\n{code:java}\r\nCREATE INDEX denormalised_content_view_permissions_denorm_content_sid_idx ON DENORMALISED_CONTENT_VIEW_PERMISSIONS (CONTENT_ID, SID_ID);\r\n{code}",
      "summary": "Unable to upgrade Confluence with MySQL having several databases on the same db server"
    }
  },
  {
    "key": "CONFSERVER-65893",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T03:47:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\n- When exporting to Word, but do not display in Word(I checked Word for Mac Version 16.49).\r\n\r\nh3. Steps to Reproduce\r\n\r\n- 1.Add a new page.\r\n- 2.Insert an image by going \"Insert\" -> \"Image\", then upload an image and attach it.\r\n- 3.Save the page.\r\n--  !confluence-page-with_images.png|thumbnail! \r\n- 4.Go to \"Tools\" -> \"Export to Word\" and open the resulting *.doc file in Word(I checked Word for Mac Version 16.49).\r\n--  !confluence-export-in_word.png|thumbnail! \r\n\r\nNote:\r\n\r\nThere is the following restriction in Confluence Server, but this issue is uneffected(Configuration: -Datlassian.confluence.export.word.max.embedded.images=100).\r\n\r\n[CONFSERVER-34211 If a page with big number of images Exported to Word, some images are invisible|https://jira.atlassian.com/browse/CONFSERVER-34211]\r\n[Export single pages to Word|https://confluence.atlassian.com/doc/export-content-to-word-pdf-html-and-xml-139475.html#ExportContenttoWord,PDF,HTMLandXML-ExportsinglepagestoWord]\r\n> Also, only the first 50 attached images will be included in the export. See the notes below for more information. \r\n\r\n\r\nh3. Expected Results\r\n\r\n- We can export Word file with images in attachments.\r\n\r\nh3. Actual Results\r\n\r\n- We can't export Word file with images in attachments.\r\n\r\nh3. Workaround\r\n\r\n- If you use Web images, you can export them.\r\n- PDF export works correctly.",
      "summary": "Export Page to Word - images in attachments do not display"
    }
  },
  {
    "key": "CONFSERVER-65887",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-02T14:58:48.000+0000",
      "description": "h3. Issue Summary\r\n* Importing WML files using Confluence's *Import Word Document* breaks the file formatting on recent Confluence versions. This behavior was not seen on version 5.10.\r\n\r\nh3. Steps to Reproduce\r\n# In a Confluence space, open the root page you want to import the file into and select *Import Word Document*\r\n# Click *Next*\r\n# Select level 3 headings\r\n# Select *Import*\r\n\r\nh3. Expected Results\r\n* The file should be imported with its formatting;\r\n\r\nh3. Actual Results\r\n* The file is imported but its formatting gets broken, not rendering the content as expected;\r\n\r\nh3. Workaround\r\nN/A",
      "summary": "Importing WML file into Confluence breaks its formatting"
    }
  },
  {
    "key": "CONFSERVER-65881",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-02T08:16:22.000+0000",
      "description": "h3. Issue Summary\r\nPlacing text having \"heading\" in the second column of a Page Layout having more than two columns automatically shifts the text to the first column \r\n\r\nh3. Steps to Reproduce\r\n # Create a new page and add multiple sections of the Page Layouts\r\n # Add some text in the first column \r\n # Make some of the texts as Paragraph Header and some as numbered bullet points\r\n # Save the Page and again edit the page now\r\n # Now shift all the texts from the first column to the second column ( CTRL A > CTRL X > CTRL V )\r\n # Save the page now\r\n # Its been observed that the texts which are numbered or having paragraph header has shifted automatically to the first column\r\n\r\nh3. Expected Results\r\nThe copied texts should remain intact in the second column \r\n\r\nh3. Actual Results\r\nThe texts which are numbered or having paragraph header shifts automatically to the first column\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Placing text having \"heading\" in the second column of a Page Layout have more than two columns automatically shifts the text to the first column "
    }
  },
  {
    "key": "CONFSERVER-65879",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-01T22:24:38.000+0000",
      "description": "Create alerts for slow attachment migration so that developers can potentially start looking into these before support team notice and flag it.",
      "summary": "Add alerting if the rate of attachment migration is lower than a certain threshold"
    }
  },
  {
    "key": "CONFSERVER-65878",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-17T04:56:03.000+0000",
      "created": "2021-06-01T22:20:33.000+0000",
      "description": "During a recent incident, support team noticed slow attachment uploads to Media. Ideally we should have an SLO defined for attachment migration from Confluence Server which trigger an alert if breached.\u00a0",
      "summary": "Create an SLO for tracking attachment migration performance"
    }
  },
  {
    "key": "CONFSERVER-65873",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-01T18:06:52.000+0000",
      "description": "The edge index for Confluence Questions can be rebuilt via '/rest/questions/1.0/admin/edges/reindex' but there is no way to check on the status of this reindex.\r\n\r\nPlease provide endpoint to check the status of reindex for Confluence Questions similar to '/json/reindextaskprogress.action'",
      "summary": "As an administrator I'd like to check the status of Confluence Questions Reindex"
    }
  },
  {
    "key": "CONFSERVER-65872",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-02T07:43:17.000+0000",
      "created": "2021-06-01T15:59:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSpace export fails with error: \"Couldn't backup database data\" same issue as closed bug report https://jira.atlassian.com/browse/CONFSERVER-40394\r\n\r\nh3. Steps to Reproduce\r\nHave Confluence connected to SQL 2017\r\nHave a relatively large space (with 1000+ deleted pages in MS SQL)\r\nGo to Space Tools > Content Tools > Export > XML\r\nCustom Export > Choose few pages\r\nExport\r\n\r\nh3. Expected Results\r\n\r\nExport was successful\r\n\r\nh3. Actual Results\r\n\r\nExport was successful\r\n\r\nh3. Workaround\r\n\r\nExporting the whole space to XML works alright. As such, by copying the pages to a new (empty) Space, and exporting the entire new Space, the pages should be exported successfully.",
      "summary": "Space export fails with error: \"Couldn't backup database data\" "
    }
  },
  {
    "key": "CONFSERVER-65860",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-01T09:45:34.000+0000",
      "description": "h3. Problem\r\n\r\nFeature Request: Ability/option to bulk change the thumbnails in the page (like PDF/ doc) to show as link (document.pdf) on the pages.\r\n\r\nThis would help out customers who has a lot of attachments in their instance and instead of changing pdf thumbnails to show as links individually, which would consume too much time.\r\n\r\n\u00a0",
      "summary": "Ability to Bulk change in pages from thumbnail to show as link"
    }
  },
  {
    "key": "CONFSERVER-65851",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-31T20:14:39.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOne of the customers has raised the need for support for the Go (Golang) language in the Code Block Macro in Confluence Server.\u00a0\r\n\r\nAfter checking the\u00a0[Code Block Macro|https://confluence.atlassian.com/doc/code-block-macro-139390.html] page from our documentation we were able to see that it's not supported yet.\r\n\r\nIt would be nice to add proper support for that language in Confluence Server/DC.",
      "summary": "Support for Go Language in Code Block Macro"
    }
  },
  {
    "key": "CONFSERVER-65849",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-31T14:20:15.000+0000",
      "description": "h3. Issue Summary\r\nh3. Steps to Reproduce\r\n # The Admin needs to go to the GUI to perform any activity on jobs, while doing it for several jobs, it can be tiresome and automation can not be performed.\r\n\r\nh3. Expected Results\r\n* A rest API to be able to configure Scheduled JOBS, so changes to jobs like enabling/disabling or changing schedule could be done remotely and faster.\r\n\r\n\u00a0",
      "summary": "Add a Remote API to Configure Scheduled Jobs"
    }
  },
  {
    "key": "CONFSERVER-65846",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-31T00:05:56.000+0000",
      "created": "2021-05-31T10:24:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThis issue relates to the following observed error:\r\n\r\n\u00a0\r\n{code:java}\r\n2021-03-02 14:28:53,325 ERROR [Long running task: Space removal long running task] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.confluence.event.events.space.SpaceWillRemoveEvent[source=com.atlassian.confluence.spaces.DefaultSpaceManager@2413c797]] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.confluence.content.CustomContentSpaceRemovalListener.spaceIsBeingRemoved(com.atlassian.confluence.event.events.space.SpaceWillRemoveEvent), listener=com.atlassian.confluence.content.CustomContentSpaceRemovalListener@4555917d}\r\n2(timed)]\u2013 space: 3178504 | url: /confluence/spaces/doremovespace.action | traceId: 690f0060eb2da92e | userName: ??? | referer: https://confluence.REDACTED.com/confluence/spaces/removespace.action?key=SB | action: doremovespace\r\n3java.lang.RuntimeException: Listener: com.atlassian.confluence.content.CustomContentSpaceRemovalListener event: com.atlassian.confluence.event.events.space.SpaceWillRemoveEvent\r\n4...\r\n5Caused by: java.lang.NullPointerException\r\n6at com.atlassian.confluence.content.DefaultCustomContentManager.removeAllPluginContentInSpace(DefaultCustomContentManager.java:295)\r\n7at com.atlassian.confluence.content.CustomContentSpaceRemovalListener.spaceIsBeingRemoved(CustomContentSpaceRemovalListener.java:31)\r\n{code}\r\n\u00a0\r\nh3. Steps to Reproduce\r\n # Not exactly known, but involves purging the trash can with custom content in it.\r\n\r\nh3. Expected Results\r\n\r\nNo NPEs are thrown.\r\nh3. Actual Results\r\n\r\nNPEs are thrown.\r\nh3. Workaround\r\n\r\nNone",
      "summary": "Plugin's CCEO does not have a parent"
    }
  },
  {
    "key": "CONFSERVER-65803",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-07T23:46:07.000+0000",
      "created": "2021-05-28T16:20:54.000+0000",
      "description": "h3. Issue Summary\r\nWhen trying to do an incremental sync against a Load Balanced Active Directory LDAP on embedded Crowd 4.0 or greater invocation id is checked and a full sync is forced if the AD node changes.\r\n\r\nh3. Steps to Reproduce\r\n # Create an AD connector to a Load Balanced AD instance\r\n # Run incremental syncs and wait for a node\r\n\r\nh3. Expected Results\r\n\r\nThe incremental sync runs regardless of which AD node is being used.\r\n\r\nh3. Actual Results\r\n\r\nThe below warning is thrown in the atlassian-confluence.log file and a full sync is initiated:\r\n{noformat}\r\n2021-04-30 01:45:43,142 INFO [Caesium-1-2] [directory.synchronisation.cache.UsnChangedCacheRefresher] synchroniseChanges Last incremental synchronization took place for AD instance with invocation id 'a013b7a9-da82-4221-9f3e-cc3dda107796', current instance has invocation id of '8b71bd78-d189-41b3-b9d1-d4819a4cd115', falling back to full\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nTo work around this an AD node must be accessed directly.",
      "summary": "Full Sync Forced on Node Changes with Load Balanced AD"
    }
  },
  {
    "key": "CONFSERVER-65799",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-28T12:22:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen we have Confluence OnPremise (Server or DC) connected to Jira Cloud, we can't display Jira Issues on a Confluence Page with the information of Epic Link and Epic Name.\r\n\r\nWhen connecting Confluence Cloud to Jira Cloud, the Issues are displayed correctly with Epic Link and Epic Name\r\nh3. Steps to Reproduce\r\n # Create an Application Link between Confluence OnPremise and Jira Cloud\r\n # Create a new project in Jira Cloud\r\n # Create an Epic in this new project\r\n # Create a new Bug and link it to the recently created Epic\r\n # Create a Page in Confluence OnPremise\r\n # Insert a Jira Issues Macro and set the JQL to fetch the new Bug\r\n # In the Display Options section, include the fields \"Epic Link\" and \"Epic Name\" to be displayed\r\n\r\nh3. Expected Results\r\n\r\nAll the Issues should be displayed correctly with all the information chosen\r\nh3. Actual Results\r\n\r\nJira Issues Macro breaks and doesn't display any information:\r\n !image-2021-05-28-09-18-38-342.png|width=1385,height=177!\r\n\r\nApplication logs show the following message:\r\n{code:java}\r\n2021-05-28 09:20:06,200 WARN [JIM Marshaller:thread-106] [applinks.core.auth.ApplicationLinkRequestFactoryFactoryImpl] createRequest Couldn't parse uri '/rest/api/2/issue/Epic For testing 2' supplied to RequestFactory.createRequest(), assuming relative.\r\n -- url: /c772/display/DRAG/Test+Macro | page: 8323073 | traceId: 41738b7a6655072d | userName: <username> | referer: https://<confluence-url>:8443/c772/display/DRAG/Test+Macro | action: viewpage\r\n2021-05-28 09:20:06,201 ERROR [JIM Marshaller:thread-106] [extra.jira.helper.JiraExceptionHelper] throwMacroExecutionException Macro execution exception: \r\n -- url: /c772/display/DRAG/Test+Macro | page: 8323073 | traceId: 41738b7a6655072d | userName: <username> | referer: https://<confluence-url>:8443/c772/display/DRAG/Test+Macro | action: viewpage\r\njava.lang.IllegalArgumentException: java.net.URISyntaxException: Illegal character in path at index 54: https://<cloud_url>/rest/api/2/issue/Epic For testing 2\r\n\tat com.atlassian.applinks.core.auth.ApplicationLinkRequestFactoryFactoryImpl$AbsoluteURLRequestFactory.createRequest(ApplicationLinkRequestFactoryFactoryImpl.java:182)\r\n\tat com.atlassian.confluence.extra.jira.util.JiraConnectorUtils.getApplicationLinkRequest(JiraConnectorUtils.java:39)\r\n\tat com.atlassian.confluence.extra.jira.JiraIssuesMacro.executeRest(JiraIssuesMacro.java:665)\r\n\tat com.atlassian.confluence.extra.jira.JiraIssuesMacro.getEpicInformation(JiraIssuesMacro.java:861)\r\n\tat com.atlassian.confluence.extra.jira.JiraIssuesMacro.populateTableEpicData(JiraIssuesMacro.java:708)\r\n\tat com.atlassian.confluence.extra.jira.JiraIssuesMacro.populateContextMapForStaticTable(JiraIssuesMacro.java:977)\r\n\tat com.atlassian.confluence.extra.jira.JiraIssuesMacro.createContextMapFromParams(JiraIssuesMacro.java:450)\r\n\tat com.atlassian.confluence.extra.jira.JiraIssuesMacro.execute(JiraIssuesMacro.java:1238)\r\n\tat com.atlassian.confluence.extra.jira.executor.StreamableMacroFutureTask.renderValue(StreamableMacroFutureTask.java:74)\r\n\tat com.atlassian.confluence.extra.jira.services.DefaultAsyncJiraIssueBatchService.lambda$processRequestWithJql$2(DefaultAsyncJiraIssueBatchService.java:183)\r\n\tat com.atlassian.sal.core.executor.ThreadLocalDelegateCallable.call(ThreadLocalDelegateCallable.java:38)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.lambda$withRequestContext$1(VCacheRequestContextOperations.java:59)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.URISyntaxException: Illegal character in path at index 54: https://<cloud_url>/rest/api/2/issue/Epic For testing 2\r\n\tat java.base/java.net.URI$Parser.fail(URI.java:2913)\r\n\tat java.base/java.net.URI$Parser.checkChars(URI.java:3084)\r\n\tat java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166)\r\n\tat java.base/java.net.URI$Parser.parse(URI.java:3114)\r\n\tat java.base/java.net.URI.<init>(URI.java:600)\r\n\tat com.atlassian.applinks.core.auth.ApplicationLinkRequestFactoryFactoryImpl$AbsoluteURLRequestFactory.createRequest(ApplicationLinkRequestFactoryFactoryImpl.java:174)\r\n\t... 17 more\r\n{code}\r\nh3. Workaround\r\n\r\nRemove the columns \"Epic Name\" and \"Epic Link\" from the Display Options in Jira Issues Macro",
      "summary": "Jira Issues Macro (OnPremise) breaks when displaying the fields \"Epic Name\" and \"Epic Link\" from Jira Cloud"
    }
  },
  {
    "key": "CONFSERVER-65798",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-28T08:44:30.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen configuring the system admin account, the \"next\" button does not enter a disabled state when the form is submitted. More so, this particular step can sometimes take multiple seconds to complete (in this particular instance, it took about 10 seconds).\r\n\r\nBecause of this, users can either double click the next button (or the return key), or click the button again thinking nothing has happened as there is no indication that something is happening. This will create a race condition where the first request succeeded, but the second request returns a form error stating that \"a user with this username already exists\".\r\nh3. Steps to Reproduce\r\n # Start a fresh install of Confluence\r\n # Go through the setup procedure\r\n # At the screen where you are prompted to \"Configure System Administrator Account\", fill in the fields and double click the next button or press return twice. (It may also worth testing how long it can take to submit the form)\r\n\r\nh3. Expected Results\r\n\r\nIt is expected that you are taken to the next step in the setup.\r\nh3. Actual Results\r\n\r\nA form error is thrown, due to the race condition.\r\n\r\n!image.png|width=630,height=434!\r\nh3. Workaround\r\n\r\nThe workaround is to be patient wait for the request to fulfil before clicking next or pressing return, and not double click the button when proceeding to the next step.",
      "summary": "Users can create a race condition while configuring the admin account during initial setup"
    }
  },
  {
    "key": "CONFSERVER-65792",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-11T07:43:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCopy and paste of an image results in the exception: {{com.atlassian.confluence.content.render.xhtml.XhtmlException}} and the image is lost. This usually happens when base64 images are being copied.\r\n\r\nh3. Steps to Reproduce\r\n\r\n\r\n # Copy an image from any website like [this|https://www.w3docs.com/tools/image-base64] where the embedded image is base64 encoded\r\n # Paste it in the editor of the page\r\n # Save the page\r\n\r\n\r\nh3. Expected Results\r\n\r\nThe image displayed correctly as pasted.\r\nh3. Actual Results\r\n\r\nThe following error is thrown in the editor and the image is lost.\r\n{code}\r\ncom.atlassian.confluence.content.render.xhtml.XhtmlException: Missing required attribute: {http://atlassian.com/resource/identifier}value\r\n{code}\r\n\r\nThe logs shows the following error.\r\n{code}\r\n2021-05-28 10:19:17,330 ERROR [http-nio-27111-exec-2] [render.xhtml.links.XhtmlOutgoingLinksExtractor] extract Error unmarshalling resource identifier fragment.\r\n -- referer: http://localhost:27111/c7111/pages/resumedraft.action?draftId=1409026&draftShareId=f875b326-a2af-4348-8f91-820ba69f196b& | url: /c7111/rest/tinymce/1/drafts | traceId: b9c0c913d6ceba4d | userName: admin\r\ncom.atlassian.confluence.content.render.xhtml.XhtmlException: com.atlassian.confluence.content.render.xhtml.XhtmlException: Missing required attribute: {http://atlassian.com/resource/identifier}value\r\n\tat com.atlassian.confluence.content.render.xhtml.storage.resource.identifiers.StorageResourceIdentifierUnmarshaller.unmarshal(StorageResourceIdentifierUnmarshaller.java:67)\r\n\tat com.atlassian.confluence.content.render.xhtml.storage.resource.identifiers.StorageResourceIdentifierUnmarshaller.unmarshal(StorageResourceIdentifierUnmarshaller.java:47)\r\n\tat com.atlassian.confluence.content.render.xhtml.links.XhtmlOutgoingLinksExtractor.extract(XhtmlOutgoingLinksExtractor.java:112)\r\n\tat com.atlassian.confluence.links.DefaultLinkManager.updateOutgoingLinks(DefaultLinkManager.java:111)\r\n.\r\nCaused by: com.atlassian.confluence.content.render.xhtml.XhtmlException: Missing required attribute: {http://atlassian.com/resource/identifier}value\r\n\tat com.atlassian.confluence.content.render.xhtml.storage.resource.identifiers.StorageResourceIdentifierUnmarshaller.getAttributeValue(StorageResourceIdentifierUnmarshaller.java:155)\r\n\tat com.atlassian.confluence.content.render.xhtml.storage.resource.identifiers.StorageResourceIdentifierUnmarshaller.innerUnmarshal(StorageResourceIdentifierUnmarshaller.java:105)\r\n\tat com.atlassian.confluence.content.render.xhtml.storage.resource.identifiers.StorageResourceIdentifierUnmarshaller.unmarshal(StorageResourceIdentifierUnmarshaller.java:65)\r\n{code}\r\n\r\nh3. *Notes*\r\n\r\nThe storage format of the page shows an empty URL in place of the image.\r\n{code:xml}\r\n<ac:image><ri:url /></ac:image>\r\n{code}\r\n\r\nOlder versions of Confluence will show a broken image.\r\n{code}\r\n<img src=\"/wiki/plugins/servlet/confluence/placeholder/error?i18nKey=editor.placeholder.broken.image&amp;locale=en_GB&amp;version=2\" title=\"com.atlassian.confluence.content.render.xhtml.XhtmlException: Missing required attribute: {http://atlassian.com/resource/identifier}value\" class=\"transform-error\" data-encoded-xml=\"%3Cac%3Aimage+ac%3Aalt%3D%22Image+result+for+devtools+crash%22%3E%3Cri%3Aurl+%2F%3E%3C%2Fac%3Aimage%3E\">\r\n{code}\r\nh3. Workaround\r\n\r\nThere are a few workaround available for this bug.\r\n\r\n* Save the image locally on the workstation and then copy into Confluence\r\n* Copy from another source where the image format is png or jpeg",
      "summary": "Pasting an image in the editor fails and results in the server exception"
    }
  },
  {
    "key": "CONFSERVER-65782",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-27T19:48:21.000+0000",
      "description": "Hello,\r\n\r\nRecently I have been alerted to some security issues by our compliance teams. They have informed me of CSP issues on Confluence, essentially making it potentially susceptible to XSS attacks. To resolve this issue there has been a suggestion made.\u00a0\r\n\r\n\u00a0_Replace insecure traffic (served over HTTP) with secure traffic upgrade-insecure-requests. The default setting for all the\u00a0*-src directives. Preferred 'none', but 'self' or your CDN domain is fine.\u00a0 - If not specified the default for all the *-src directives is `*` default-src 'none\u2019. Always configure, regardless of your `default-src` setting. Console services cannot use object, embed or applet elements. object-src 'none\u2019._\r\n\r\nThis is something that Confluence can fix to prevent this level of vulnerability. What other measures does this system take to help CSP issues?\r\n\u00a0",
      "summary": "Content Security Policy (CSP) Vulnerabilities"
    }
  }
]