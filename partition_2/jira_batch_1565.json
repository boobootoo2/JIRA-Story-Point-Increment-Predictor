[
  {
    "key": "CONFSERVER-56189",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-12-04T02:54:47.000+0000",
      "created": "2018-07-31T09:04:50.000+0000",
      "description": "h2. Summary\r\nConfluence page will take a long time to load when you have too many attachments version. A simple page with no macros can take up to 55 seconds to load\r\n\r\nh2. Steps to Reproduce\r\n# Create a page\r\n# Add 10 attachments\r\n# Upload several versions of those attachments (10,000 versions)\r\n# View the page\r\n\r\nh2. Expected Results\r\nThe page loading time should not be affected by the number of attachment *versions*\r\n\r\nh2. Actual Results\r\nThe page takes a long time to load and the thread dumps show that Confluence is not handling loading the attachments efficiently.\r\n\r\nh4. HAR File\r\nThe HAR file shows the TTFB (Time To First Byte) is 46 seconds.\r\n\r\nh4. Page Profiling Results\r\n{code:borderStyle=solid}\r\n2018-07-06 04:25:00,071 DEBUG [http-nio-80-exec-34] [atlassian.util.profiling.UtilTimerStack] log [43251ms] - /pages/viewpage.action\r\n  [0ms] - UserAccessor.getExistingUserByKey()\r\n  [0ms] - UserAccessor.getUserByName()\r\n    [0ms] - CrowdService.getUser()\r\n      [0ms] - ApplicationDAO.findByName()\r\n      [0ms] - UserDao.findByName()\r\n      [0ms] - UserDao.findByName()\r\n      [0ms] - UserDao.findByName()\r\n  [36657ms] - XW Interceptor: Before defaultStack: /pages/viewpage.action (ViewPageAction.execute())\r\n    [0ms] - UserAccessor.exists()\r\n      [0ms] - CrowdService.getUser()\r\n        [0ms] - ApplicationDAO.findByName()\r\n        [0ms] - UserDao.findByName()\r\n        [0ms] - UserDao.findByName()\r\n        [0ms] - UserDao.findByName()\r\n    [0ms] - UserAccessor.getPropertySet()\r\n    [0ms] - UserAccessor.isDeactivated()\r\n    [0ms] - CrowdService.isUserMemberOfGroup()\r\n      [0ms] - ApplicationDAO.findByName()\r\n      [0ms] - MembershipDao.isUserDirectMember()\r\n      [0ms] - MembershipDao.search()\r\n      [0ms] - MembershipDao.isUserDirectMember()\r\n      [0ms] - MembershipDao.search()\r\n      [0ms] - MembershipDao.isUserDirectMember()\r\n    [0ms] - SpaceAwareInterceptor.intercept()\r\n    [35203ms] - PageAwareInterceptor.intercept()\r\n      [0ms] - ContentEntityManager.getById()\r\n      [0ms] - PermissionManager.hasPermission()\r\n      [0ms] - PermissionManager.hasPermission()\r\n      [0ms] - CommentAwareInterceptor.intercept()\r\n      [0ms] - UserAwareInterceptor.intercept()\r\n      [0ms] - BootstrapAwareInterceptor.intercept()\r\n      [0ms] - PermissionManager.hasPermission()\r\n      [35188ms] - XW Interceptor: After defaultStack: /pages/viewpage.action (ViewPageAction.execute())\r\n        [35188ms] - XW Interceptor: After validatingStack: /pages/viewpage.action (ViewPageAction.execute())\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [47ms] - DefaultRenderer.render\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - Rendering soy template: confluence.extra.information:soy-templates:Confluence.InformationMacro.before.soy\r\n            [0ms] - Rendering soy template: confluence.extra.information:soy-templates:Confluence.InformationMacro.after.soy\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.dynamicBefore.soy\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.after.soy\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.dynamicBefore.soy\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.after.soy\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.dynamicBefore.soy\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.after.soy\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.dynamicBefore.soy\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.after.soy\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - UserAccessor.getPropertySet()\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.dynamicBefore.soy\r\n            [0ms] - Rendering soy template: com.atlassian.confluence.plugins.expand-macro:expand-macro-soy-templates:Confluence.ExpandMacro.after.soy\r\n            [0ms] - UserAccessor.getPropertySet()\r\n          [35141ms] - XW View: doExecute(/pages/viewpage.vm)\r\n            [0ms] - XW View: getTemplate(/pages/viewpage.vm)\r\n            [35126ms] - ApplyDecoratorDirective.render()\r\n              [0ms] - SpaceManager.getSpace()\r\n              [0ms] - UserAccessor.getUserProfilePicture()\r\n              [0ms] - UserAccessor.getPropertySet()\r\n              [35110ms] - Rendering velocity template: /decorators/root.vmd\r\n                [35110ms] - ApplyDecoratorDirective.render()\r\n                  [0ms] - SpaceManager.getSpace()\r\n                  [0ms] - UserAccessor.getUserProfilePicture()\r\n                  [0ms] - UserAccessor.getPropertySet()\r\n                  [35110ms] - Rendering velocity template: /decorators/page.vmd\r\n                    [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - Rendering velocity template: /includes/skiplinked-section.vm\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [1657ms] - Parse: /decorators/includes/content-navigation.vm\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.isConfluenceAdministrator()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasCreatePermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - ContentEntityManager.getById()\r\n                    [0ms] - SpaceManager.getLogoForSpace()\r\n                    [0ms] - SpaceManager.getLogoForSpace()\r\n                    [0ms] - SpaceManager.getSpace()\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [1484ms] - UserAccessor.getGroupNames()\r\n                      [1484ms] - CrowdService.search()\r\n                        [0ms] - ApplicationDAO.findByName()\r\n                        [437ms] - MembershipDao.search()\r\n                        [507ms] - MembershipDao.search()\r\n                        [540ms] - MembershipDao.search()\r\n                        [0ms] - MembershipDao.search()\r\n                        [0ms] - MembershipDao.search()\r\n                        [0ms] - MembershipDao.search()\r\n                        [0ms] - MembershipDao.search()\r\n                        [0ms] - MembershipDao.search()\r\n                        [0ms] - MembershipDao.search()\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - ContentPermissionFilter.bits\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [0ms] - CalendarPermissionManager.hasEditSubCalendarPrivilege()\r\n                      [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - FormatSettingsManager.getDateFormat()\r\n                    [0ms] - FormatSettingsManager.getDateTimeFormat()\r\n                    [0ms] - FormatSettingsManager.getTimeFormat()\r\n                    [0ms] - FormatSettingsManager.getDateFormat()\r\n                    [0ms] - FormatSettingsManager.getDateTimeFormat()\r\n                    [0ms] - FormatSettingsManager.getEditorBlogPostDate()\r\n                    [0ms] - SpaceManager.getSpace()\r\n                    [0ms] - PermissionManager.hasCreatePermission()\r\n                    [0ms] - PermissionManager.hasCreatePermission()\r\n                    [0ms] - FormatSettingsManager.getDateFormat()\r\n                    [0ms] - FormatSettingsManager.getDateTimeFormat()\r\n                    [0ms] - FormatSettingsManager.getTimeFormat()\r\n                    [0ms] - FormatSettingsManager.getDateFormat()\r\n                    [0ms] - FormatSettingsManager.getDateTimeFormat()\r\n                    [0ms] - FormatSettingsManager.getEditorBlogPostDate()\r\n                    [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - SpacePermissionManager.hasPermission()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - DefaultRenderer.render\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [0ms] - SpaceManager.getSpace()\r\n                      [0ms] - Rendering velocity template: vm/tree.vm\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                    [0ms] - WikiStyleRenderer.convertWikiToXHtml()\r\n                    [0ms] - WikiStyleRenderer.convertWikiToXHtml()\r\n                    [0ms] - Parse: /decorators/includes/page-content-includes.vm\r\n                      [0ms] - Parse: /template/includes/actionerrors.vm\r\n                      [0ms] - Parse: /decorators/includes/link-to-this-page.vm\r\n                      [0ms] - Parse: /template/includes/page-move-templates.vm\r\n                        [0ms] - PermissionManager.hasRemoveHierarchyPermission()\r\n                      [0ms] - Parse: /template/includes/search-results-grid-templates.vm\r\n                    [0ms] - Parse: /decorators/includes/page-metadata.vm\r\n                      [0ms] - CrowdService.getUser()\r\n                        [0ms] - ApplicationDAO.findByName()\r\n                        [0ms] - UserDao.findByName()\r\n                        [0ms] - UserDao.findByName()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - PermissionManager.hasPermission()\r\n                      [0ms] - UserAccessor.getConfluenceUserPreferences()\r\n                      [0ms] - FormatSettingsManager.getDateFormat()\r\n                      [0ms] - FormatSettingsManager.getDateTimeFormat()\r\n                      [0ms] - FormatSettingsManager.getTimeFormat()\r\n                      [0ms] - FormatSettingsManager.getDateFormat()\r\n                      [0ms] - FormatSettingsManager.getDateTimeFormat()\r\n                      [0ms] - FormatSettingsManager.getEditorBlogPostDate()\r\n                      [0ms] - Rendering velocity template: /includes/skiplinked-section.vm\r\n                    [0ms] - UserAccessor.getPropertySet()\r\n                    [0ms] - Parse: /com/atlassian/confluence/plugins/labels/components/labels-editor.vm\r\n                      [0ms] - Parse: /com/atlassian/confluence/plugins/labels/components/labels-content.vm\r\n                        [0ms] - Parse: /com/atlassian/confluence/plugins/labels/components/labels-list.vm\r\n                    [468ms] - ApplyDecoratorDirective.render()\r\n                      [0ms] - SpaceManager.getSpace()\r\n                      [0ms] - UserAccessor.getUserProfilePicture()\r\n                      [0ms] - UserAccessor.getPropertySet()\r\n                      [468ms] - Rendering velocity template: /decorators/root.vmd\r\n                        [468ms] - ApplyDecoratorDirective.render()\r\n                          [0ms] - SpaceManager.getSpace()\r\n                          [0ms] - UserAccessor.getUserProfilePicture()\r\n                          [0ms] - UserAccessor.getPropertySet()\r\n                          [468ms] - Rendering velocity template: /decorators/components/comments.vmd\r\n                            [453ms] - NotificationManager.isWatchingContent()\r\n                            [0ms] - PermissionManager.hasCreatePermission()\r\n                            [0ms] - Rendering velocity template: templates/quick-comment.vm\r\n                              [0ms] - PermissionManager.hasCreatePermission()\r\n                              [0ms] - UserAccessor.getPropertySet()\r\n                              [0ms] - UserAccessor.getUserProfilePicture()\r\n                              [0ms] - Rendering soy template: com.atlassian.confluence.plugins.quickedit:quick-comment-initial:Confluence.Templates.Comments.displayTopLevelCommentEditorPlaceholder.soy\r\n                            [0ms] - PermissionManager.hasCreatePermission()\r\n                    [532ms] - Parse: /pages/page-breadcrumbs.vm\r\n                      [0ms] - Parse: /breadcrumbs.vm\r\n                    [6203ms] - Parse: /template/includes/space-tools-web-items.vm\r\n                      [6203ms] - system.space.tools\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [0ms] - PermissionManager.isConfluenceAdministrator()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [0ms] - PermissionManager.isConfluenceAdministrator()\r\n                        [1656ms] - UserAccessor.getGroupNames()\r\n                          [1656ms] - CrowdService.search()\r\n                            [0ms] - ApplicationDAO.findByName()\r\n                            [500ms] - MembershipDao.search()\r\n                            [687ms] - MembershipDao.search()\r\n                            [469ms] - MembershipDao.search()\r\n                            [0ms] - MembershipDao.search()\r\n                            [0ms] - MembershipDao.search()\r\n                            [0ms] - MembershipDao.search()\r\n                            [0ms] - MembershipDao.search()\r\n                            [0ms] - MembershipDao.search()\r\n                            [0ms] - MembershipDao.search()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                        [500ms] - NotificationManager.getNotificationByUserAndSpace()\r\n                        [469ms] - NotificationManager.getNotificationByUserAndSpaceAndType()\r\n                        [453ms] - NotificationManager.getNotificationByUserAndSpaceAndType()\r\n                        [578ms] - NotificationManager.getNotificationByUserAndSpace()\r\n                        [906ms] - NotificationManager.getNotificationByUserAndSpace()\r\n                        [563ms] - NotificationManager.getNotificationByUserAndSpaceAndType()\r\n                        [578ms] - NotificationManager.getNotificationByUserAndSpace()\r\n                        [500ms] - NotificationManager.getNotificationByUserAndSpaceAndType()\r\n                        [0ms] - PermissionManager.isConfluenceAdministrator()\r\n                        [0ms] - PermissionManager.hasPermission()\r\n                    [0ms] - PermissionManager.hasPermission()\r\n      [0ms] - UserAccessor.getUserProfilePicture()\r\n      [0ms] - UserAccessor.getPropertySet()\r\n  [15ms] - SpaceManager.getSpace()\r\n  [6500ms] - SiteMesh: applyDecorator: main (/decorators/main.vmd)\r\n    [0ms] - UserAccessor.getPropertySet()\r\n    [0ms] - UserAccessor.getUserProfilePicture()\r\n    [5156ms] - Rendering velocity template: /decorators/main.vmd\r\n      [0ms] - UserAccessor.getPropertySet()\r\n      [0ms] - UserAccessor.getPropertySet()\r\n      [2000ms] - Parse: /decorators/includes/header.vm\r\n        [0ms] - UserAccessor.getUserProfilePicture()\r\n        [0ms] - UserAccessor.getUserPreferences()\r\n        [0ms] - UserAccessor.getPropertySet()\r\n        [0ms] - JiraAccessor.getLinkedJiraApplications()\r\n        [0ms] - PermissionManager.isConfluenceAdministrator()\r\n        [0ms] - CalendarManager.getUserPreference()\r\n          [0ms] - CalendarPreferenceManager.getUserPreference()\r\n        [0ms] - SpacePermissionManager.hasPermission()\r\n        [0ms] - UserAccessor.getUserByName()\r\n          [0ms] - CrowdService.getUser()\r\n            [0ms] - ApplicationDAO.findByName()\r\n            [0ms] - UserDao.findByName()\r\n            [0ms] - UserDao.findByName()\r\n            [0ms] - UserDao.findByName()\r\n        [0ms] - PermissionManager.hasPermission()\r\n        [0ms] - UserAccessor.getConfluenceUserPreferences()\r\n        [0ms] - Rendering soy template: com.atlassian.confluence.extra.team-calendars:server-soy-templates:Confluence.TeamCalendars.Server.Templates.messages.soy\r\n        [0ms] - PermissionManager.isConfluenceAdministrator()\r\n        [0ms] - Rendering velocity template: templates/date-header.vm\r\n          [0ms] - FormatSettingsManager.getDateFormat()\r\n        [1969ms] - VelocityFriendlyPageBuilderService.getConfluenceResourceTags\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - SpacePermissionManager.hasPermission()\r\n            [0ms] - DefaultSpacePermissionManager.hasPermissionNoExemptions(USECONFLUENCE, anonymous, global)\r\n              [0ms] - UserAccessor.isDeactivated()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getExistingUserByKey()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getUserByName()\r\n            [0ms] - CrowdService.getUser()\r\n              [0ms] - ApplicationDAO.findByName()\r\n              [0ms] - UserDao.findByName()\r\n              [0ms] - UserDao.findByName()\r\n              [0ms] - UserDao.findByName()\r\n          [0ms] - PermissionManager.isSystemAdministrator()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getExistingUserByKey()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getExistingUserByKey()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n        [0ms] - UserAccessor.getPropertySet()\r\n        [0ms] - UserAccessor.getUserByName()\r\n          [0ms] - CrowdService.getUser()\r\n            [0ms] - ApplicationDAO.findByName()\r\n            [0ms] - UserDao.findByName()\r\n            [0ms] - UserDao.findByName()\r\n            [0ms] - UserDao.findByName()\r\n        [0ms] - PermissionManager.hasPermission()\r\n      [0ms] - Parse: /decorators/includes/main-content-includes.vm\r\n        [0ms] - Parse: /template/includes/global-settings.vm\r\n      [0ms] - MessageManager.getMessages()\r\n      [0ms] - UserAccessor.getPropertySet()\r\n      [3140ms] - Parse: /decorators/includes/common-header.vm\r\n        [1437ms] - Parse: /decorators/includes/aui-header-primary.vm\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - CalendarPermissionManager.hasEditSubCalendarPrivilege()\r\n            [0ms] - SpacePermissionManager.hasPermission()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - PermissionManager.isConfluenceAdministrator()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - SpacePermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - SpaceManager.getSpaces()\r\n          [0ms] - SpaceManager.getSpaces()\r\n          [0ms] - Rendering soy template: com.atlassian.auiplugin:aui-experimental-soy-templates:aui.buttons.button.soy\r\n          [0ms] - Rendering soy template: com.atlassian.auiplugin:aui-experimental-soy-templates:aui.buttons.button.soy\r\n        [1141ms] - Parse: /decorators/includes/aui-header-secondary.vm\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - PermissionManager.isConfluenceAdministrator()\r\n          [0ms] - PermissionManager.isConfluenceAdministrator()\r\n          [0ms] - PermissionManager.isConfluenceAdministrator()\r\n          [0ms] - PermissionManager.isConfluenceAdministrator()\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - PermissionManager.isConfluenceAdministrator()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [547ms] - SpaceManager.getPersonalSpace()\r\n          [531ms] - SpaceManager.getPersonalSpace()\r\n          [47ms] - PersonalInformationManager.getOrCreatePersonalInformation()\r\n          [0ms] - PermissionManager.hasCreatePermission()\r\n          [0ms] - PermissionManager.hasPermission()\r\n        [0ms] - Rendering soy template: com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu:navlinks.templates.appswitcher.switcher.soy\r\n          [0ms] - UserAccessor.getPropertySet()\r\n          [0ms] - UserAccessor.getExistingUserByKey()\r\n          [0ms] - PermissionManager.hasPermission()\r\n          [0ms] - UserAccessor.getExistingUserByKey()\r\n          [0ms] - PermissionManager.hasPermission()\r\n        [0ms] - Rendering soy template: com.atlassian.auiplugin:aui-experimental-soy-templates:aui.page.header.soy\r\n      [0ms] - Rendering velocity template: /decorators/includes/footer.vm\r\n        [0ms] - Parse: /decorators/includes/footer-content.vm\r\n  [0ms] - PermissionManager.isSystemAdministrator()\r\n{code}\r\n\r\nh4. Thread Dumps\r\nYou will notice the following stacktrace in the thread dumps. \r\n*P.S.* These thread dumps were taken when SQL Logging was enabled.\r\n{code:borderStyle=solid}\r\n\"http-nio-80-exec-6\" #194 daemon prio=5 os_prio=0 tid=0x000000003469e800 nid=0x290 runnable [0x000000005ba03000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.lang.Throwable.getStackTraceElement(Native Method)\r\n\tat java.lang.Throwable.getOurStackTrace(Unknown Source)\r\n\t- locked <0x000000075ceb8b48> (a java.lang.Throwable)\r\n\tat java.lang.Throwable.getStackTrace(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor222.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.apache.log4j.spi.LocationInfo.<init>(LocationInfo.java:139)\r\n\tat org.apache.log4j.spi.LoggingEvent.getLocationInformation(LoggingEvent.java:253)\r\n\tat org.apache.log4j.helpers.PatternParser$LocationPatternConverter.convert(PatternParser.java:500)\r\n\tat org.apache.log4j.helpers.PatternConverter.format(PatternConverter.java:65)\r\n\tat org.apache.log4j.PatternLayout.format(PatternLayout.java:506)\r\n\tat com.atlassian.confluence.util.PatternLayoutWithStackTrace.format(PatternLayoutWithStackTrace.java:26)\r\n\tat org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:310)\r\n\tat org.apache.log4j.RollingFileAppender.subAppend(RollingFileAppender.java:276)\r\n\tat org.apache.log4j.WriterAppender.append(WriterAppender.java:162)\r\n\tat com.atlassian.confluence.logging.ConfluenceHomeLogAppender.append(ConfluenceHomeLogAppender.java:147)\r\n\tat org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\r\n\t- locked <0x00000006414f0d40> (a com.atlassian.confluence.logging.ConfluenceHomeLogAppender)\r\n\tat org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\r\n\tat org.apache.log4j.Category.callAppenders(Category.java:206)\r\n\t- locked <0x000000064140d4c8> (a org.apache.log4j.spi.RootLogger)\r\n\tat org.apache.log4j.Category.forcedLog(Category.java:391)\r\n\tat org.apache.log4j.Category.log(Category.java:856)\r\n\tat org.slf4j.impl.Log4jLoggerAdapter.log(Log4jLoggerAdapter.java:595)\r\n\tat org.apache.commons.logging.impl.SLF4JLocationAwareLog.trace(SLF4JLocationAwareLog.java:107)\r\n\tat net.sf.hibernate.type.NullableType.nullSafeGet(NullableType.java:78)\r\n\tat net.sf.hibernate.type.NullableType.nullSafeGet(NullableType.java:63)\r\n\tat net.sf.hibernate.type.AbstractType.hydrate(AbstractType.java:67)\r\n\tat net.sf.hibernate.loader.Loader.hydrate(Loader.java:690)\r\n\tat net.sf.hibernate.loader.Loader.loadFromResultSet(Loader.java:631)\r\n\tat net.sf.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:590)\r\n\tat net.sf.hibernate.loader.Loader.getRow(Loader.java:505)\r\n\tat net.sf.hibernate.loader.Loader.getRowFromResultSet(Loader.java:218)\r\n\tat net.sf.hibernate.loader.Loader.doQuery(Loader.java:285)\r\n\tat net.sf.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:138)\r\n\tat net.sf.hibernate.loader.Loader.loadEntity(Loader.java:941)\r\n\tat net.sf.hibernate.loader.Loader.loadEntity(Loader.java:961)\r\n\tat net.sf.hibernate.loader.EntityLoader.load(EntityLoader.java:59)\r\n\tat net.sf.hibernate.loader.EntityLoader.load(EntityLoader.java:51)\r\n\tat net.sf.hibernate.persister.EntityPersister.load(EntityPersister.java:413)\r\n\tat net.sf.hibernate.impl.SessionImpl.doLoad(SessionImpl.java:2157)\r\n\tat net.sf.hibernate.impl.SessionImpl.doLoadByClass(SessionImpl.java:2017)\r\n\tat net.sf.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:1979)\r\n\tat net.sf.hibernate.type.ManyToOneType.resolveIdentifier(ManyToOneType.java:69)\r\n\tat net.sf.hibernate.type.ManyToOneType.assemble(ManyToOneType.java:108)\r\n\tat net.sf.hibernate.collection.Bag.initializeFromCache(Bag.java:157)\r\n\tat net.sf.hibernate.impl.SessionImpl.initializeCollectionFromCache(SessionImpl.java:4044)\r\n\tat net.sf.hibernate.impl.SessionImpl.initializeCollection(SessionImpl.java:3340)\r\n\tat net.sf.hibernate.collection.PersistentCollection.initialize(PersistentCollection.java:195)\r\n\tat net.sf.hibernate.collection.PersistentCollection.read(PersistentCollection.java:71)\r\n\tat net.sf.hibernate.collection.Bag.iterator(Bag.java:256)\r\n\tat com.google.common.collect.Collections2$FilteredCollection.iterator(Collections2.java:175)\r\n\tat com.google.common.collect.Collections2$FilteredCollection.toArray(Collections2.java:228)\r\n\tat java.util.ArrayList.<init>(Unknown Source)\r\n\tat com.atlassian.confluence.core.ContentEntityObject.getLatestVersionsOfAttachments(ContentEntityObject.java:874)\r\n{code} \r\n\r\nh4. Attachment Versions\r\nIn order to confirm whether you are affected by this, you can run the following query on the database\r\n{code:borderStyle=solid}\r\nselect count(1) from content where (contenttype = 'ATTACHMENT' or contenttype is NULL) and pageid = <PAGEID>;\r\n{code}\r\n(!) Make sure to replace the {{<PAGEID>}} with the actual page id.\r\n\r\nh2. Workaround\r\nThe only available workaround at the moment is to copy the offending page and archive the old one. This will reduce the number of attachment versions for that page.",
      "summary": "Slow page loading with too many attachment versions"
    }
  },
  {
    "key": "CONFSERVER-56186",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-17T06:34:08.000+0000",
      "created": "2018-07-31T05:59:54.000+0000",
      "description": "h2. *Summary*\r\n\r\nAccording to the [guide|https://confluence.atlassian.com/doc/installing-confluence-on-linux-143556824.html] of installing Confluence on Linux Server, if the installer is run as root, Confluence will be installed as a service. Although, it doesn't get installed as a service on Ubuntu.\r\nh2. *Testing Environment*\r\n\r\nUbuntu 18.04 LTS\r\n Confluence installer 6.10.1\r\nh2. *Steps to reproduce*\r\n # Download installer of Confluence.\r\n # Add the execute flag to the installer.\r\n # Run the installer as root.\r\n\r\nh2. *Expected Results*\r\n\r\nConfluence should be installed as a service.\r\nh2. *Actual Result*\r\n\r\nConfluence doesn't get installed as a service.\r\nh2. *Workaround*\r\n\r\nInstaller does create the {{/etc/init.d/confluence}} file, though it doesn't have the run levels in it.\r\nSo, if we will directly _enable_ the service, Ubuntu throws an error.\r\n{code}\r\nupdate-rc.d: error: confluence Default-Start contains no runlevels, aborting.\r\n{code}\r\nWe need to add the following lines on the top of {{/etc/init.d/confluence}} file, but after the shebang.\r\n{code:java}\r\n### BEGIN INIT INFO\r\n# Required-Start:    $all\r\n# Required-Stop:\r\n# Default-Start:     2 3 4 5\r\n# Default-Stop:\r\n### END INIT INFO\r\n{code}\r\nAfter the above change, run the following command again to install Confluence as a service.\r\n{code:java}\r\nsystemctl enable confluence\r\n{code}\r\n\r\nh2. *Diagnosis*\r\n\r\nThis issue does not happen in CentOS, which means it might be an issue with {{update-rc.d}} scripts in Ubuntu.\r\n\r\n\r\n",
      "summary": "Confluence doesn't get installed as a service even when the installer is run as root in Ubuntu"
    }
  },
  {
    "key": "CONFSERVER-56183",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-14T03:41:57.000+0000",
      "created": "2018-07-31T03:53:31.000+0000",
      "description": "h2. Issue Summary\r\n\r\nIt is currently possible to get into a state where Collaborative Editing is off and the page history still shows multiple contributors.\r\nh2. Steps to reproduce\r\n # Turn off Collaborative Editing.\r\n # Publish a new page (Page History will show it as V1 - Version 1).\r\n # Edit this page as User A and User B at the same time.\r\n # User A and User B commit their changes to the page, creating two new versions.\r\n # Page History shows a version (V3) *Changed By* both users:\r\n !Screen Shot 2018-07-30 at 16.57.25.png|thumbnail!\r\n\r\nh2. What happened?\r\n\r\nThe history shows that both User A and User B contributed to version 3.\r\nh2. What should have happened?\r\n\r\nOnly one of the users should have contributed to version 2 and 3.\r\nh2. Impact\r\n\r\nIt is not possible to know through the UI which changes have been introduced by User A and which changes have been introduced by User B.\r\nh2. Workaround\r\n\r\nLogin as a system administrator, go to the dark features page at <your Confluence url>/admin/darkfeatures.action and add the following dark feature:\u00a0*collaborative-audit-log.disable*\r\n\r\nPage history will now only show the user that published the page in the history.",
      "summary": "Multiple collaborators shown even when collaborative editing is off"
    }
  },
  {
    "key": "CONFSERVER-56182",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-30T19:48:28.000+0000",
      "description": "This suggestion is more toward mobile users who want to be able to respond to an email and have it sent back to the page sending the notification and applied as a comment.",
      "summary": "Add Feature to Send Replies from Notifications Back to Page as Comments"
    }
  },
  {
    "key": "CONFSERVER-56181",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-23T04:45:10.000+0000",
      "created": "2018-07-30T17:54:38.000+0000",
      "description": "Environment\r\n * Windows 10 Version 1803\r\n * Microsoft Edge 42.17134.1.0\r\n * Confluence 6.9.1\r\n\r\nDescription\r\n\r\nWhen creating a numbered list with a second level, the count does not behave as expected.\r\n\r\nSteps to reproduce\r\n # Create a new page\r\n # Add a numbered list\r\n # Add any number of lines to the list\r\n # Add a second level for the list\r\n # Keep adding lines to the second level\r\n\r\nExpected behaviour\r\n\r\nThe line count for the second level is coherent, follows a logical order\r\n\r\nActual Results\r\n\r\nThe count is not correct, never leaving the first value\r\n\r\n\u00a0\r\n\r\nExample\r\n\r\nInstead of:\r\n # My list\r\n # Second value\r\n ## second level\r\n ## second level value 2\r\n\r\nWe get:\r\n # My list\r\n # Second Value\r\n1. second level\r\n 1. second level value 2 \u00a0 \r\n\r\nWorkaround\r\n\r\nEvery time a new item is inserted (before typing anything else), clicking the outdent and then reindent fixes the behaviour.\r\n\r\nNotes:\r\nThis problem seems to have been introduced with version 42 of MS Edge as version 41 works as expected.",
      "summary": "Numbered List Microsoft Edge"
    }
  },
  {
    "key": "CONFSERVER-56180",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-30T15:04:43.000+0000",
      "description": "Scenario:\r\n\r\nI have an embedded YouTube video for a training guide. I export the guide as a PDF to print and share at a live training with non-Confluence users. The YouTube video link should appear when I export the PDF (ideally the video thumbnail should as well) so that when I email the PDF it is available to follow.",
      "summary": "Exporting a page to PDF/Word should render Widgets as URLs"
    }
  },
  {
    "key": "CONFSERVER-56179",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-30T14:35:10.000+0000",
      "description": "h3. Summary\r\n\r\nWhen you add a code block macro to a page, then click the checkbox for \"show line numbers\" and select a theme, the code block will have a different colour highlighted on the number/pane.\r\nh3. Steps to replicate\r\n # Go to a page and add \"Code Block\" macro.\r\n # Select \"C++\" for syntax highlighting.\r\n # Click on the checkbox for \"show line numbers\".\r\n # Select \"Django\" theme and click Save.\r\n # Update page. Then, edit the page again.\r\n # Repeat steps 1-4 with different syntax highlighting and theme.\r\n\r\nh3. Expected results\r\n\r\nCode block will have the same colour selected in the theme box. Both in the number and code pane.\r\nh3. Actual results\r\n\r\nCode block has different colours in number and code pane.\r\nh3. Note",
      "summary": "Code block macro has different colour highlighted on number and pane when \"show line numbers\" is checked."
    }
  },
  {
    "key": "CONFSERVER-56178",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-30T11:33:52.000+0000",
      "description": "For a page consisting of many Jira chart macros the page constantly times out or takes a long time to load as the rendering is synchronous.\r\nRender the Jira chart macros asynchronously similar to Jira issues macros.",
      "summary": "Asynchronously Render Jira Charts Macro "
    }
  },
  {
    "key": "CONFSERVER-56177",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-02T23:49:58.000+0000",
      "created": "2018-07-30T09:09:46.000+0000",
      "description": "h3. Summary\r\n\r\nPages with broken macros will experience slower load times if Confluence has individual gadgets or gadget feed added from a system with network latency.\r\nh3. Environment\r\n * Confluence 6.8 and 6.9\r\n * Gadget feed\u00a0or individual gadgets added to confluence from another system, such as Jira.\r\n\r\nh3. Steps to Reproduce\r\n # Create a blank Confluence page\r\n # Add a broken macro to the instance by one of two methods:\r\n # *Via Source Editor*\r\n #* Install [Confluence Source Editor|https://marketplace.atlassian.com/apps/1210722/confluence-source-editor?hosting=server&tab=overview]\r\n #* Edit existing page and add a non-existing macro to it via *Source Editor*:\r\n{code:java}\r\n<p>\r\n  <ac:macro ac:name=\"testmacro\"/>\r\n</p>\r\n{code}\r\n #* Save page\r\n # *Via third-party plug-in*\r\n #* Install a Third-Party plug-in, for example, *view tracker*\r\n #* Add a view tracker macro to a page\r\n #* Go to add-on manager and disable the plug-in\r\n # Macro will appear as *\"Unknown macro: macro name\"* on the page\r\n # Go to *General Configuration > External Gadgets*\r\n # Either add a large number of gadgets individually or add gadgets feed with a large number of gadgets in it\r\n # Go back and load the page with broken macro\r\n\r\nh3. Expected Results\r\n\r\nPage loads quickly, considering there is no other content except for a broken gadget\r\nh3. Actual Results\r\n\r\nPage takes a long time to load, the more gadgets exist in the feed and the slower the connection to them, the longer page will be loading.\r\nh3. Notes\r\n * It appears that gadgets metadata is being pulled in the background by a macro browser on pages with broken macros.\r\n * The issue is caused by a\u00a0CONFSERVER-55620 bug\r\n * On consecutive re-load, page load is significantly faster, but clearing Gadget Metadata Cache from *General Configuration > Cache Management* will result in page taking a long time to load again.\r\n * On our test instance with 48 gadgets in gadgets feed, the page with a broken macro took about 40 seconds to load, when it took milliseconds without the feed.\r\n * Loading times are proportional to the number of gadgets, so although connection might seem fast to individual gadgets, each new gadget will stack and increase loading times:\r\n ** Baseline with no feed or individual gadgets on a page with broken macro and no other content\r\n !gadget test baseline.png|thumbnail!\r\n ** 10 gadgets added\r\n !gadget test 10.png|thumbnail!\r\n ** 24 gadgets added\r\n !gadget test 24.png|thumbnail!\r\n ** 48 gadgets added or feed with 48 was added\r\n !gadget test 48 (feed).png|thumbnail!\r\n\r\nh3. Workaround\r\n * The issue is fixed with 6.10.0, 6.6.7, 6.8.5, 6.9.3\r\n * Make sure no broken macros are present on a page\r\n * Removing Gadget feed and only adding individual gadgets that are required should help reduce load times",
      "summary": "Pages with broken macros will experience slower load times when gadget feed is present on the system"
    }
  },
  {
    "key": "CONFSERVER-56175",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-10T06:18:56.000+0000",
      "created": "2018-07-30T07:08:10.000+0000",
      "description": "h2. *Summary*\r\n\r\nWhen data centre upgrade is done from version 6.0.2 to v6.10, the following error is thrown.\r\n{code}\r\nERROR [localhost-startStop-1] [atlassian.confluence.cluster.DefaultClusterConfigurationHelper] lambda$saveSharedProperty$3 Could not save access.mode into the shared confluence.cfg.xml file: {}\r\ncom.atlassian.config.ConfigurationException: failed to find config at: shared-home/confluence.cfg.xml\r\n.\r\n.\r\nCaused by: java.io.FileNotFoundException: shared-home/confluence.cfg.xml (No such file or directory)\r\n{code}\r\n\r\nh2. *Testing Environment*\r\n\r\nConfluence v6.0.2, v6.1.0, v6.3.1 and v6.10.1  \r\n\r\nh2. *Steps to Reproduce*\r\n\r\n# Install a CDC v6.0.2\r\n# Once its up and running,  upgrade it to v6.10.1\r\n\r\nh2. *Expected Result*\r\n\r\nThe upgrade should be smooth and without errors.\r\n\r\nh2. *Actual Result*\r\n\r\nThe above error appears, because {{confluence.cfg.xml}} doesn't exist in the shared home.\r\n\r\nThe error is not causing any upgrade issues until now. The read-only mode works fine as well.\r\n\r\nh2. *Resolution*\r\n\r\nThis issue is further documented in the following article and can be resolved by following the *Resolution* section in it.\r\n\r\n* [Could not save access.mode into the shared confluence.cfg.xml file error after upgrading to Confluence Data Center 6.10|https://confluence.atlassian.com/confkb/could-not-save-access-mode-into-the-shared-confluence-cfg-xml-file-error-after-upgrading-to-confluence-data-center-6-10-955171246.html]\r\n\r\nh2. *Diagnosis*\r\n\r\nConfluence installations above v6.1.0 have {{confluence.cfg.xml}} file in the shared-home and will avoid this issue. Upon testing an upgrade from Confluence v6.1.0 or v6.3.1, this issue was not found, because these version have {{confluence.cfg.xml}} file in the shared-home.\r\n\r\nAnother thing to note is, a new installation of Confluence v6.10 creates {{confluence.cfg.xml}} file in the shared-home, though an upgrade doesn't.\r\n",
      "summary": "Data center upgrade from 6.0 to 6.10 gives an error that confluence.cfg.xml is not found in the shared home "
    }
  },
  {
    "key": "CONFSERVER-56174",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-30T07:08:01.000+0000",
      "description": "h4. Problem statement\r\n\r\nUsers can currently compare the content of various published page versions with one another to see changes that have been made. However, they can't compare what's been changed in a shared draft compared to the last published version of the page.\r\n\r\nThis is useful for cases where the page is large and you're not sure what changes other user(s) have made in the draft. It may cause the deletion or addition of content that is not intended.\r\nh4. Suggestion\r\n\r\nAllow users to compare the page's shared draft against the page's latest version.",
      "summary": "Allow users to compare the contents of the last published version of the page against the shared draft"
    }
  },
  {
    "key": "CONFSERVER-56173",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-30T01:37:45.000+0000",
      "description": "See the screenshot.\r\nh2. Steps to reproduce\r\n * Create a new user\r\n * Set browser language to German\r\n * Sign in as new user\r\n\r\nh2. What happened?\r\n\r\nThe screen is partially in English\r\nh2. What should have happened?\r\n\r\nThe screen should be in German.\r\nh2. Additional Notes\r\n\r\nPlease check other languages as well.",
      "summary": "Welcome screen is not internationalised properly"
    }
  },
  {
    "key": "CONFSERVER-56172",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-28T04:09:04.000+0000",
      "description": "I have 2 confluences db installed on 1 windows server 2008. I need to open synchrony both 2 confluences. One is set port 8091 default, open Collaborative editing and it works. This is the second & I turn on Collaborative editing , I cannot open page to edit, it errors:\r\n\r\n\"This page is taking longer to load than usual. Give it a few moments, then try refreshing. Still having issues? Contact your Confluence admin.\"\r\n\r\nWould you please tell me how to change synchrony port so that we can use Collaborative editing in both confluence.\r\n\r\nIn setenv.sh I added: ( in the second confluence )\r\n\r\nCATALINA_OPTS=\"-Dsynchrony.port=8092 ${CATALINA_OPTS}\"\r\n\r\nand restart service of confluence but it does not work\r\n\r\nMany Thanks,",
      "summary": "Collaborative editing Errors"
    }
  },
  {
    "key": "CONFSERVER-56170",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-27T13:57:59.000+0000",
      "description": "Microsoft Word and Excel docs, as attachments in a Confluence doc, present a thumbnail image that previews the content. Our end-users are requesting Visio docs also present a thumbnail.\u00a0 We are not aware of any macros (third-party or otherwise) that meet this need; we're not looking for an inline diagram-as-image display, just the thumbnail.\r\n\r\nConfluence version 6.8.3 installed.",
      "summary": "MS Visio preview in Confluence"
    }
  },
  {
    "key": "CONFSERVER-56167",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-27T12:10:51.000+0000",
      "description": "h4. Description\r\nThe ability to see group population is handful for Confluence administrators.\r\nIt would be helpful if the Groups admin page had the number of users associated with each group.\r\nAs an use case, this would help on administering the users counting towards the license.\r\nThis functionality is already implemented in Jira as shown in the image below:\r\n !jira_users001.png|thumbnail! \r\n\r\nh4. Workaround\r\nRun a query in the database to count the number of users in a specific group.\r\n{code}\r\nSELECT COUNT(DISTINCT lower_user_name) \r\nFROM cwd_user\r\nWHERE id IN (SELECT m.child_user_id FROM cwd_membership AS m\r\nJOIN cwd_group AS g ON m.parent_id = g.id\r\nWHERE g.group_name = '<group_name>');\r\n{code}\r\n\r\nh4. Side Notes\r\nThis request is different from the one in [CONFSERVER-54271|https://jira.atlassian.com/browse/CONFSERVER-54271].",
      "summary": "Show the number of users in a group in the Groups admin page"
    }
  },
  {
    "key": "CONFSERVER-56166",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-11T10:55:35.000+0000",
      "created": "2018-07-27T07:28:54.000+0000",
      "description": "h5. Summary\r\n\r\nConfluence Server Mobile login does not work when authenticating with SAML/SSO in Apache\r\nh5. Steps to replicate\r\n # Setup Confluence DC behind Apache\r\n # Connect it to SAML: [SAML SSO for Confluence Data Center|https://confluence.atlassian.com/conf68/saml-sso-for-confluence-data-center-947170993.html]\r\n # Set it to *Use SAML as primary authentication*\r\n\r\nh5. Expected results\r\n\r\nMobile app is able to connect as described here: [Confluence Mobile|https://confluence.atlassian.com/doc/confluence-mobile-284365706.html#ConfluenceMobile-Considerationsforadministrators]\r\nh5. Actual results\r\n\r\nThe following error is thrown (tested on iOS):\r\n\r\n!erroriphone.PNG|thumbnail!\r\nh5. Notes\r\n\r\nIf we look at the URLs called by the mobile app, */login.action* returns an HTTP 302 code instead of HTTP 200 when SAML is set to primary authentication in Confluence. This could be the cause of the error in the mobile app.\r\n\r\nh5. Workaround\r\n\r\nSet the SAML behavior to *Use SAML as secondary authentication* instead of primary under  !http://i.imgur.com/Ew0T0kz.png! *-> General configuration -> SAML authentication*.",
      "summary": "Confluence Server Mobile login does not work when authenticating with SAML/SSO in Apache"
    }
  },
  {
    "key": "CONFSERVER-56165",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-26T18:36:00.000+0000",
      "description": "h3. Problem Definition\r\nWhen a user performs subsequent searches with the following steps...\r\n\r\n# Open the editor for a page.\r\n# \u2318 + F (or ctrl + F) to open the \"Find and replace\" toolbar.\r\n# Leave the 'Find and replace' toolbar.\r\n# \u2318 + F again to search a different term.\r\n\r\n...the \"Find\" text box is selected with the cursor at the end of the previous search term:\r\n!find_screenshot.png|thumbnail!\r\n\r\nWith this, the user has to delete the entire word before performing the next search. This is extra work, and an unexpected user experience based on how the \u2318 + F functionality typically highlights the previous search term in many browsers and text editors.\r\n\r\nh3. Suggested Solution\r\nOn subsequent searches, either...\r\n* Highlight-select the previous search word\r\n* Auto-delete the previous search word\r\n\r\nBoth these options would improve the user experience by reducing unnecessary work. It would also match potential user expectations of \u2318 + F functionality typically seen in browsers and text editors.",
      "summary": "Clear or highlight the editor \"Find\" field on subsequent uses"
    }
  },
  {
    "key": "CONFSERVER-56164",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-26T15:47:23.000+0000",
      "description": "*Description*\r\n\r\nCurrently a user's previous activities can be view through\u00a0*Profile >*\u00a0*Activity >*\u00a0*Show More*. The information that is shown here is quite useful and the ability to export it to either PDF and Word would increase the usefulness of these information.\u00a0\r\n\r\n\u00a0\r\n\r\n*Recommendation:*\r\n\r\nAdd a feature to export a user's\u00a0*Activity*\u00a0data to both Microsoft Word and PDF.\u00a0\r\n\r\n\u00a0",
      "summary": "A feature to export Activity stream of user "
    }
  },
  {
    "key": "CONFSERVER-56163",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-26T14:57:53.000+0000",
      "description": "h3. Summary\r\n\r\nSearching for attachment by adding filter ANCESTOR will return no results. Without the ANCESTOR filter, the attachment is returned.\r\nh3. Environment\r\n\r\nConfluence 6.8.0\r\nh3. Steps to Reproduce\r\n # In a Space create a page A\r\n # Underneath page A create a page B\r\n # In page B, upload attachment test.jpg\r\n # In Search search first for the attachment test.jpg and observer results.\r\n # Then add the filter ANCESTORS and specify page A or B.\r\n # And search again.\r\n\r\nh3. Expected Results\r\n\r\nAttachment test.jpg will be returned.\r\nh3. Actual Results\r\n\r\nNo attachment is returned.\r\nh3. Notes\r\n\r\nRemoving ANCESTORS filter will display attachment.\r\nh3. Workaround\r\n\r\nNo known workaround.",
      "summary": "Searching attachments with filter ancestors will return no results."
    }
  },
  {
    "key": "CONFSERVER-56162",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-26T14:47:29.000+0000",
      "description": "h3. Summary\r\n\r\nGiven a user contains the text \"vlies\" in their name and index language set to English. Searching the user via the Add people option and via @-mention is not consistent.\u00a0\r\n\r\n\u00a0\r\nh3. Steps to replicate\u00a0\r\n # Create a user with Full Name that contains vlies. Eg: Vlies\r\n # Ensure that the index language is set to English\r\n # Rebuild the index.\r\n # Head over to a page and\u00a0*click Share > Add People*\r\n # Type the user.\r\n\r\nh3. Expected results\r\n\r\nWhen typing \"Vl\" Confluence should return Vlies as one of the options.\r\n\r\nWhen typing \"Vli\" Confluence should return Vlies as one of the options.\r\n\r\nWhen typing \"Vlie\" Confluence should return Vlies as one of the options.\r\nh3. Actual results\r\n\r\nVlies is not returned except if the word is fully typed.\r\nh3. \u00a0Workaround\r\n\r\nThe issue does not happen when indexing language is set to Russian or German.\u00a0\r\nh3. Note\r\n\r\nThe issue appears also through the mention feature.",
      "summary": "User that contains \"vlies\" as their name is not searchable via Add People."
    }
  },
  {
    "key": "CONFSERVER-56161",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-26T12:37:20.000+0000",
      "description": "h3. Summary\r\n\r\nCertain Space title, Spacekey, Page title, users that starts with a certain combination of letters are not searchable\r\n\r\nh3. Environments:\r\n* Indexing language: Russian, German and English.\u00a0\r\n* Confluence 6.9.1\r\n* Rebuild index does not help\r\n\r\nh3. Example - 1\r\n\r\nWhen you create a Space and the title/spacekey contains 'zu' or 'vlie', it won't be searchable to other users.\r\n\r\nHowever, it is searchable for the creator of the space or Confluence Administrator(user who belongs\u00a0in the confluence-administrator group and has the confluence administrator+system administrator permission in Global Permissions).\r\nh5. Steps to replicate\r\n # Login as user A.\r\n # Create a space called 'ZUM' and set the permission to 'Everyone can view and edit\".\r\n # Login as user B.\r\n # Search for space called 'ZUM'.\r\n # User will get a \"No results found for ZUM. Please try one of the following suggestions\".\r\n # Repeat steps with the word 'vlie'.\r\n\r\nh5. Expected results\r\n\r\nUser should be able to search for the space containing 'zu' and 'vlie'.\r\nh5. Actual results\r\n\r\nUser is not able to search for the space containing 'zu' and 'vlie'.",
      "summary": "Pages/Space with a title of certain combination of letters are not searchable"
    }
  },
  {
    "key": "CONFSERVER-56160",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-26T06:50:22.000+0000",
      "description": "h3. Summary\r\nUnable to find attached video clip when using the *multimedia macro* on the page when the *Page Title Name* contains any special character (Ex: \":\")\r\n\r\nh3. Steps to Reproduce\r\n# Create a page title that contains \":\"\r\n# Attach video clip files to the page\r\n !screenshot-1.png|thumbnail! \r\n# Edit the page and insert *Multimedia macro*\r\n# Click on *File* on the dropdown list\r\n# The files' name should appear on the list but it did not\r\n\r\nh3. Expected Results\r\n !screenshot-3.png|thumbnail! \r\n\r\nh3. Actual Results\r\n !screenshot-2.png|thumbnail! \r\n \r\nh3.Workaround\r\nh4. Workaround 1\r\nDrag and drop the video file directly into the editor. Confluence will automatically attach the file and insert the multimedia macro.\r\n\r\nh4. Workaround 2\r\nIf you need to edit the macro parameters you can use *{} markup*.\r\n# In the editor Go to *+ Insert* > *{} markup* and enter the wiki markup based on the examples below. \r\n# The multimedia macro placeholder will appear in the preview when the wikimarkup has been entered correctly. \r\n# Click *Insert* to insert it into your page.\r\n\r\nTo embed a multimedia file attached to the current page enter:\r\n{code}\r\n{multimedia:name=filename.mov} \r\n{code}\r\n\r\nTo embed a multimedia file attached to a page in another space and make it autoplay enter:\r\n{code}\r\n{multimedia:space=SPACEKEY|page=Page Title|name=filename.mov|autostart=true}\r\n{code}\r\n",
      "summary": "Unable to find attached video clip when using the *multimedia macro* on the page when the *Page Title Name* contains any special character (:)"
    }
  },
  {
    "key": "CONFSERVER-56157",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-25T18:39:06.000+0000",
      "description": "When using French as user language, the translation of \"What do you want to know about %SPACE%\" is incorrectly set as \"Que voulais vous savoir \u00e0 propos de %SPACE%\"\r\n\r\nThe correct one would be \"Que voulez-vous savoir \u00e0 propos de %SPACE%\"\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Fix the French translation of \"What do you want to know about %SPACE%\""
    }
  },
  {
    "key": "CONFSERVER-56156",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-23T04:45:07.000+0000",
      "created": "2018-07-25T14:37:59.000+0000",
      "description": "When we have sentences that are\u00a0*bold* ,_italic_, or +underlined+, placing the cursor over a previous text and clicking on the Backspace key on the keyboard, brings the cursor to the end of the sentence, and removes the last character instead.\r\n\r\nHow to reproduce: \r\n1. In WYSIWYG mode, select bold, italic, or underline style.\r\n2. Type a bunch of words to form a sentence, and make sure not to backspace on anything while typing.\r\n3. Move the pointer/cursor over to an earlier word in the sentence, and try hitting backspace.\r\n4. The pointer/cursor will jump/move to the end of the sentence and removes the last character instead.\r\n\r\nVideo:\r\n [^bug.mov] \r\n\r\nEnvironment:\r\nOS: Windows 10\r\nBrowser: Chrome, Firefox, IE\r\n\r\nMight be related to CONFSERVER-31619",
      "summary": "Backspace on bold, italic and underline words moves the cursor to the end of the sentence"
    }
  },
  {
    "key": "CONFSERVER-56155",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-25T14:04:31.000+0000",
      "description": "h4. Summary\r\nWhen entering an incorrect JQL query an info box appears but the given link under \"Learn more\" points to an invalid link. (Linked back to local instance)\r\n\r\n !Screen Shot 2018-07-25 at 10.06.07 PM.png|thumbnail! \r\n\r\nh4. Expected Results\r\nThe link should bring you to https://confluence.atlassian.com/doc/jira-issues-macro-139380.html\r\n\r\nh4. Actual Results\r\nThe link bring you to point you to an invalid link\r\n\r\nh4. Steps to Replicate\r\n# Create a page \r\n# Insert a Jira Macro\r\n# Deliberately insert a wrong JQL syntax (eg: *projectt=test* instead of *project=test*)\r\n# Click 'Search'\r\n# Click on \"Learn More\"",
      "summary": "Redirect to Atlassian JQL documentation doesn't work"
    }
  },
  {
    "key": "CONFSERVER-56153",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-25T03:15:55.000+0000",
      "description": "h3. Summary\r\n\r\nStrikethrough  is shown as underline or overline in exported PDF with Japanese font.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Navigate to _Confluence administration > PDF Export Language Support_\r\n# Install Japanese font (c.f. [IPA font|https://ipafont.ipa.go.jp/old/ipafont/IPAfont00303.php])\r\n# Create a page which contains strikethrough\r\n !screenshot-1.png|thumbnail! \r\n# Export a Confluence page as PDF\r\n\r\nh3. Expected Results\r\n\r\nThe strikethrough is shown as is in the original page or in exported PDF with the default font (Helvetica).\r\n [^default-font.pdf] \r\n\r\nh3. Actual Results\r\n\r\nStrikethrough is not shown correctly in exported PDF with some types of Japanese fonts.\r\n [^japanese-font.pdf] \r\n \r\nh3. Notes\r\n\r\nNot only strikethrough on Japanese characters are affected.\r\nIf Japanese font is installed on the environment, strikethrough on other languages including English are also affected.\r\n\r\nh3.Workaround\r\n\r\nThere is no workaround at this time.",
      "summary": "Strikethrough is shown as underline or overline in exported PDF with Japanese font"
    }
  },
  {
    "key": "CONFSERVER-56152",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-24T21:59:22.000+0000",
      "description": "h3. Summary\r\nWhen using a code macro with numbered lines, the lines aren't numbered when exported to Word or PDF.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page that includes a code macro with numbered lines\r\n!confluence_code_macro.png|thumbnail!\r\n# Export the page to Word or PDF.\r\n\r\nh3. Expected Results\r\nThe resulting Word document or PDF file will show the code macro with numbered lines\r\n\r\nh3. Actual Results\r\nThe content from the code macro is shown, but without numbered lines.\r\n\r\n*Word*\r\n!word_code_macro.png|thumbnail!\r\n\r\n*PDF*\r\n!pdf_code_macro.png|thumbnail!",
      "summary": "Code Macro line numbering does not show in PDF or Word exports"
    }
  },
  {
    "key": "CONFSERVER-56151",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-24T08:23:46.000+0000",
      "description": "Hi,\r\n\r\nwe have several long running and resource-intensive tasks in our products and would like to use the sandbox for those:\r\n* content export to several formats (we have 7 apps in the marketplace for that)\r\n* publish content within confluence (Scroll Versions)\r\n* import / export space translations (Scroll Translations)\r\n\r\nCurrently these are implemented using custom worker threads / thread pools but of course they still reside within the Confluence JVM. We would like to move some of them into the sandbox if possible, so it would be great if the sandbox would be available to plugins.",
      "summary": "Make Document conversion sandbox available to plugins"
    }
  },
  {
    "key": "CONFSERVER-56150",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-23T18:38:42.000+0000",
      "description": "In Team Calendars for Confluence:\r\n * I'd like to have the same event types shown in their own \\\"swimlane\\\" in the Timeline\r\n * Obviously the Timeline is rendered according to the start date. However, it looks a little bit odd to have Sprint events mixed with other event types. So swimlanes for the eventtypes might be a solution. But any other mechanism to manipulate the ordering of the events is appreciated.\r\n\r\nMaybe there's already a way to modify the ordering of the events, but I wasn't able to find it.",
      "summary": "Have Same Event Types show in their own Swimlane"
    }
  },
  {
    "key": "CONFSERVER-56149",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-23T17:59:20.000+0000",
      "description": "h3. Summary\r\n\r\nWhen utilizing Crowd SSO auth to Confluence, the crowd.token_key cookie is not removed if a user's Crowd session is expired.\r\nh3. Steps to Reproduce\r\n # Configure a Crowd Server\r\n # Integrate Confluence with Crowd using the SSO Seraph authenticator\r\n # Authenticate to Confluence as a Crowd user, view browser cookies and observe presence of *crowd.token_key* cookie\r\n # Forcibly expire the user's session in Crowd\r\n # Wait for the Crowd *session.validationinterval* value to expire (2 minutes by default)\r\n # Try to load a Confluence page, you should be logged out and redirected to login page\r\n # Refresh and view cookies, observe that the *crowd.token_key* cookie is still present.\r\n\r\nh3. Expected Results\r\n\r\nThe cookie should be removed from subsequent requests, as it is with Bitbucket.\r\nh3. Actual Results\r\n\r\nCookie persists, and each attempt to load the page before re-authenticating will perform a POST call to the Crowd server for a no-longer extant Crowd session, e.g.:\r\n{noformat}\r\nhttp://ssotest.private:8095/crowd/rest/usermanagement/1/session/Ew68GQY0DZYVT8W9A0UzDA00\r\n404 - Not Found\r\n{noformat}\r\nConfluence will retry the request 4x+ times before user is redirected to a login page.\r\n\r\nConfluence should also remove the cookie when it performs the redirect.",
      "summary": "crowd.token_key not removed if Crowd session is expired"
    }
  },
  {
    "key": "CONFSERVER-56148",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-19T01:03:33.000+0000",
      "created": "2018-07-23T15:22:30.000+0000",
      "description": "{panel:title=Atlassian Update - October 2020|borderStyle=solid|borderColor=#6554c0|titleBGColor=#6554c0|bgColor=#eae6ff|titleColor=#ffffff}\r\nWe understand that this is an important issue and we will be backporting it to a 7.4 bugfix version. We need to wait some time after bugfixes have been released in our newer versions before backporting to ensure the stability of our LTS releases.\r\nWe are currently targeting the next version 7.4.6 for this backport, which is scheduled for release in late November.\r\n{panel}\r\n\r\nh3. Summary\r\n\r\nSeeing intermittent NPE and System Errors on a Page Properties Report Macro page. The page doesn't load and redirects to a 500 error page.\r\n (!) It is also possible to encounter this bug through a different macro that uses the same code path and throws the same underlying error.\r\nh3. Steps to Reproduce\r\n # Download and restore [^PPM1space.xml.zip] to a Confluence instance\r\n ** This space XML provide 900 pages that contains Page Properties Macro with label \"discussions\"\r\n ** One of the page (titled \"1\") contains an image that will be fetched by the Page Properties Report Macro\r\n # Download and restore [^PPM2space.xml.zip]\r\n ** This space contains a page with Page Properties Report Macro that fetches all pages in this site, labeled \"decisions\"\r\n # Go to PPM2 > Page Properties Report Macro page\r\n\r\nh3. Expected Results\r\n\r\nAll pages are fetched as expected\r\nh3. Actual Results\r\n\r\nSeeing Intermittent errors on this page, on each reload. \r\n The errors initially doesn't give us more details as the JVM might me ommitting the stacktrace as part of\r\n{code:java}\r\n2019-01-03 14:45:24,397 ERROR [http-nio-8443-exec-2 url:/display/AAAAAA username:some-user url:/pages/viewpage.action username:some-user] [xhtml.view.macro.ViewMacroMarshaller] handleMacroExecutionException Error rendering macro: detailssummary\r\n -- url: /display/AAAAAA | page: 420525059 | traceId: bfa1b75efe717c31 | userName: some-user | referer: https://confluence-base-url/display/AAAAAA | action: viewpage\r\njava.lang.NullPointerException\r\n{code}\r\nIn order to inspect the full stack trace, we need to disable the JVM optimization by adding the following JVM argument\r\n{code:java}\r\n-XX:-OmitStackTraceInFastThrow\r\n{code}\r\nThe full stacktrace looks like this:\r\n{code:java}\r\n2019-01-15 14:50:05,276 ERROR [http-nio-8443-exec-4 url:/pages/viewpage.action username:some-user ] [xhtml.view.macro.ViewMacroMarshaller] handleMacroExecutionException Error rendering macro: detailssummary\r\n -- url: /pages/viewpage.action | page: 374370875 | traceId: c285cc1c66d92529 | userName: some-user | referer: https://confluence-base-url/login.action?os_destination=%2Fpages%2Fviewpage.action%3FspaceKey%3DISAAAE%26title%3DAAAAA%2Bfollowup&permissionViolation=true | action: viewpage\r\njava.lang.NullPointerException\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:138)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:74)\r\n\tat org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:44)\r\n\tat org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1389)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1474)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1441)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1410)\r\n\tat com.atlassian.confluence.spaces.persistence.dao.hibernate.HibernateSpaceDao.lambda$findSpaceKeysWithStatus$6(HibernateSpaceDao.java:335)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.confluence.spaces.persistence.dao.hibernate.HibernateSpaceDao.findSpaceKeysWithStatus(HibernateSpaceDao.java:331)\r\n\tat com.atlassian.confluence.spaces.DefaultSpaceManager.getAllSpaceKeys(DefaultSpaceManager.java:773)\r\n\tat sun.reflect.GeneratedMethodAccessor1148.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat com.atlassian.confluence.util.profiling.ConfluenceMonitoringMethodInterceptor.invoke(ConfluenceMonitoringMethodInterceptor.java:34)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n\tat com.sun.proxy.$Proxy92.getAllSpaceKeys(Unknown Source)\r\n\tat com.atlassian.confluence.search.v2.lucene.mapper.ArchivedSpacesSearchFilterMapper.convertToLuceneSearchFilter(ArchivedSpacesSearchFilterMapper.java:17)\r\n\tat com.atlassian.confluence.search.v2.lucene.mapper.ArchivedSpacesSearchFilterMapper.convertToLuceneSearchFilter(ArchivedSpacesSearchFilterMapper.java:12)\r\n\tat com.atlassian.confluence.search.v2.lucene.DelegatingLuceneSearchMapper.convertToLuceneSearchFilter(DelegatingLuceneSearchMapper.java:68)\r\n\tat com.atlassian.confluence.search.v2.lucene.mapper.BooleanSearchFilterMapper.lambda$convertToLuceneSearchFilter$0(BooleanSearchFilterMapper.java:18)\r\n\tat java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1553)\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n\tat com.atlassian.confluence.search.v2.lucene.mapper.BooleanSearchFilterMapper.convertToLuceneSearchFilter(BooleanSearchFilterMapper.java:18)\r\n\tat com.atlassian.confluence.search.v2.lucene.mapper.BooleanSearchFilterMapper.convertToLuceneSearchFilter(BooleanSearchFilterMapper.java:10)\r\n\tat com.atlassian.confluence.search.v2.lucene.DelegatingLuceneSearchMapper.convertToLuceneSearchFilter(DelegatingLuceneSearchMapper.java:68)\r\n\tat com.atlassian.confluence.search.v2.lucene.LuceneSearchManager.toLuceneFilter(LuceneSearchManager.java:244)\r\n\tat com.atlassian.confluence.search.v2.lucene.LuceneSearchManager.search(LuceneSearchManager.java:146)\r\n\tat sun.reflect.GeneratedMethodAccessor1018.invoke(Unknown Source)\r\n....\r\n{code}\r\nThe same behavior could cause the following stacktrace as well:\r\n{code:java}\r\nCause\r\njava.lang.NullPointerException\r\n    at org.hibernate.engine.internal.StatefulPersistenceContext.clear(StatefulPersistenceContext.java:234)\r\n{code}\r\nor\r\n{code:java}\r\nCause\r\norg.springframework.orm.hibernate.HibernateSystemException: Found shared references to a collection: com.atlassian.confluence.spaces.Space.permissions; nested exception is net.sf.hibernate.HibernateException: Found shared references to a collection: com.atlassian.confluence.spaces.Space.permissions\r\n    at org.springframework.orm.hibernate.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:597)\r\n\r\ncaused by: net.sf.hibernate.HibernateException: Found shared references to a collection: com.atlassian.confluence.spaces.Space.permissions\r\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\r\n{code}\r\nor\r\n{code:java}\r\nCause\r\norg.springframework.orm.hibernate.HibernateSystemException: Found shared references to a collection: com.atlassian.confluence.core.ContentEntityObject.outgoingLinks; nested exception is net.sf.hibernate.HibernateException: Found shared references to a collection: com.atlassian.confluence.core.ContentEntityObject.outgoingLinks\r\n    at org.springframework.orm.hibernate.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:597)\r\n\r\ncaused by: net.sf.hibernate.HibernateException: Found shared references to a collection: com.atlassian.confluence.core.ContentEntityObject.outgoingLinks\r\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\r\n{code}\r\nWatch the gif for more info:\r\n * [^z0Qt3emhop.gif]\r\n\r\nh3. Notes\r\n\r\nThe following points are observed:\r\n # Issue is more pertinent when the PPRM filter is above 200\r\n # Issue is *observed* when the PPRM is calling any sort of rich content (images, plugins, macros,etc)\r\n # Issue is *not observed yet* with PPRM located in the same space as the pages with the PPM\r\n # Issue is *not observed* when the image/rich content is removed\r\n # Page Properties Report Caches are already on 50% utilization\r\n\r\nh3. Cause\r\n\r\nThis issue is caused by a hibernate bug tracked here [https://hibernate.atlassian.net/browse/HHH-7867]. Some work has been done to alleviate and fix a part of this which can be found here [https://hibernate.atlassian.net/browse/HHH-10562].\r\nh3. Workaround\r\n\r\nThere is nothing much we can do on our side until this bug is fixed on hibernate side. However, some users were able to avoid this by reducing the amount of Page Properties Macro fetched to 50 or below.",
      "summary": "Intermittent NPE errors when using one or more Page Property Macro or any other macro"
    }
  },
  {
    "key": "CONFSERVER-56147",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-31T07:27:24.000+0000",
      "created": "2018-07-23T14:45:37.000+0000",
      "description": "h3. Summary\r\n\r\nGiven a page that has an emoticon that has been added through the emoticon option in the toolbar or through the emoticon shortcut (for example (?) shortcut). If that page is then edited again, the emoticons will be transformed to absolute linked images. \r\n\r\n\r\nh3. Steps to Reproduce\r\n* Create a page with an emoticon (e. g. (/) )\r\n* Ensure that collaborative editing is enabled\r\n* Store the page and check the storage format. The emoticon is stored as expected:\r\n{code}\r\n<ac:emoticon ac:name=\"tick\" />\r\n{code}\r\n* Now edit the page and save it without making any changes. Inspect the storage format. The emoticon has been turned into an absolute image link:\r\n{code}\r\n<img class=\"emoticon emoticon-tick\" title=\"(tick)\" src=\"http: XXXXXXXXXXXXXX/en_GB/7701/445126ab56584205167f1c035c86df495c7c4192/&#95;/images/icons/emoticons/check.svg&quot; alt=\"(tick)\" border=\"0\" />\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nThe emoticon should be stored as: <ac:emoticon ac:name=\"tick\" /> in all instances. \r\n\r\nh3. Actual Results\r\nThe emoticon has been turned into an absolute image link:\r\n\r\n{noformat}\r\n<img class=\"emoticon emoticon-tick\" title=\"(tick)\" src=\"http: XXXXXXXXXXXXXX/en_GB/7701/445126ab56584205167f1c035c86df495c7c4192/&#95;/images/icons/emoticons/check.svg&quot; alt=\"(tick)\" border=\"0\" />\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\n\r\nDisable Collaborative Editing - To avoid the issue from occurring\r\n\r\nh3. Notes\r\n\r\nThis could be an issue as emoticons are converted to hard links, and would present an issue when a type of base-URL related migration occurs in the future",
      "summary": "Editing a page with emoticons will change the emoticons to absolute link images. "
    }
  },
  {
    "key": "CONFSERVER-56146",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-23T07:04:07.000+0000",
      "description": "h3. *Summary*\r\n\r\nWhen creating a template with user mentions as instructional text, the field doesn't populate properly when the template is used.\r\n\r\nh3. *Testing Environment*\r\n\r\nConfluence v6.10.0 and v6.10.1\r\nConfluence v6.3.1\r\n\r\nh3. *Steps to Reproduce*\r\n\r\n# Create a new template in Confluence.\r\n# Add an instructional text and change the type to *User Mention*\r\n !template1_v610.png|thumbnail! \r\n# Use the template in a page.\r\n# Use the mentions field to mention a user.\r\n\r\nh3. *Expected Result*\r\n\r\nThe field should work as a user mention (as it used to be in v6.3.1)\r\n !page1_v631.png|thumbnail!  \r\n\r\n\r\nh3. *Actual Result*\r\n\r\nThe field disappears.\r\n !page1_v610.png|thumbnail! \r\n\r\nh3. *Workaround*\r\n\r\nNot known.",
      "summary": "Instructional Text field for in template doesn't work for user mention"
    }
  },
  {
    "key": "CONFSERVER-56145",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-04T23:35:49.000+0000",
      "created": "2018-07-23T06:51:08.000+0000",
      "description": "On 'License' admin screen Confluence does not show expiration date. Instead it shows count down time to license expiration in form '3 month 23 days 8 hours'.\r\n\r\nThis countdown is calculated incorrectly. If you add current time with countdown value, you will not get license expiration time. The root cause of the problem is the way how Connie calculates the difference:\r\n\r\nIf subtracts current timestamp from license expiration timestamp and tries to convert this to month assuming there's always 31 days in month. The problematic method is\u00a0{{com.atlassian.core.util.DateUtils#dateDifference}} is used in {{ViewOrUpdateLicenseAction#getExpiryTime}}. \r\n\r\n\u00a0",
      "summary": "License countdown is incorrect"
    }
  },
  {
    "key": "CONFSERVER-56144",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-23T06:23:53.000+0000",
      "description": "An integral part of the EU General Data Protection Regulation (GDPR) compliance is producing appropriate documentation, which includes a privacy notice / privacy statement.\u00a0\r\n\r\nThis privacy notice has to be easy accessible for any user.\u00a0 The preferred way to display this notice is to have a permanent menu item, normally in the footer of the page. After clicking the user is shown a page with the privacy notice.\r\n\r\nAt the moment Atlassian Confluence does not provide such a mechanism out of the box.\r\n\r\nYou can add a custom html for your footer, but that kinds of breaks the design of the standard footer. Furthermore, if your wiki does not allow anonymous usage, you have to host that privacy statement on an external website outside the wiki, as users who just visit the login page are not able to see privacy statement on the wiki page.\r\n\r\nTo make life easy,\u00a0\r\n * Add a Menu item \"Privacy notice\" in the the Administrator menu\r\n * There you can add the text for your privacy notice\r\n * When activated the a privacy notice menu item is shown in the standard footer of the wiki where it says \"Powered by\u00a0[Atlassian Confluence|http://www.atlassian.com/software/confluence]\u00a06.10.0 ...\"\r\n * After clicking the item It will show a page with the text of the privacy notice to any user, regardless if logged in or not.\r\n * Optional (but highly recommended): The privacy notice is shown to new users at the first login and the users have to accept it, before they can start using the wiki.",
      "summary": "GDPR Compliance - Option to add a privacy notice in the footer"
    }
  },
  {
    "key": "CONFSERVER-56143",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-23T06:12:34.000+0000",
      "description": "*Problem Definition*\r\n\r\nConfluence's Editor Toolbar comes with a fixed number of options on it and there is no way a function can be added or removed from it.\r\n\r\n*Suggest Solution*\r\n\r\nThere should be a way to customise it from the user interface to allow quick access.\r\n\r\n*Why this is important*\r\n\r\nSome of the most common functions which are used by the business, like macros, can be added to the toolbar. ",
      "summary": "Ability to modify Editor Toolbar"
    }
  },
  {
    "key": "CONFSERVER-56142",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-23T06:04:20.000+0000",
      "description": "Currently if you have a blog with a label and you click on the label, you see pages with that label within that space. This is unexpected as labels are like tags, which users generally expect to work globally.\r\n\r\nFor example, if a few people go to a conference and labels their blogs with \"xworkconference\" but the blogs are in their personal spaces, when clicking on the label, I would expect to find all blogs with the label in the instance and not just the current space.",
      "summary": "Clicking on a label on a blog should show you labelled content from any space"
    }
  },
  {
    "key": "CONFSERVER-56137",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-20T23:23:30.000+0000",
      "description": "If a user lands on the request access page, it would be beneficial to list the users and groups that can modify the needed permissions to allow a given user access to the restricted content. ",
      "summary": "List users/groups who have access when a user lands on the request access page"
    }
  },
  {
    "key": "CONFSERVER-56136",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-23T05:25:48.000+0000",
      "created": "2018-07-20T20:07:26.000+0000",
      "description": "h3. Summary\r\nCannot access *User Profile > Drafts* after uninstalling the Confluence Questions plugin due to existing drafts related to this plugin that cannot be converted correctly once the plugin is uninstalled.\r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence Questions\r\n# Create a question \r\n# Select a space from \"Ask in a space\"\r\n# Enter a question title, description, and select a topic\r\n# Before clicking save, a draft will appear in *User Profile > Drafts*\r\n# Now uninstall the plugin\r\n# Try to access *User Profile > Drafts* again\r\n\r\nh3. Expected Results\r\n* The current drafts the user has will show in the list. \r\n\r\nh3. Actual Results\r\nThe page shows an error like the one below:\r\n{code}\r\norg.apache.velocity.exception.MethodInvocationException: Invocation of method 'getBodyAsString' in class com.atlassian.confluence.content.CustomContentEntityObject threw exception java.lang.UnsupportedOperationException: The body of this ContentEntityObject ('') was 'BodyType:XHTML' but was expected to be 'BodyType:RAW' at /users/viewmydrafts.vm[line 47, column 29]\r\n{code}\r\n\r\nh3.Workaround\r\n\r\nA temporary workaround is to delete the draft created for the Confluence Questions plugin from the database.\r\n# Make sure to take a backup copy of the database before running any queries.\r\n# Run the queries below to delete the drafts related to the Confluence Questions plugin:\r\n{code:sql}\r\nDELETE\r\nFROM contentproperties\r\nWHERE contentid IN\r\n    (SELECT contentid\r\n     FROM CONTENT\r\n     WHERE CONTENT_STATUS='draft'\r\n       AND pluginkey = 'com.atlassian.confluence.plugins.confluence-questions:answer-draft');\r\n\r\n\r\nDELETE\r\nFROM bodycontent\r\nWHERE contentid IN\r\n    (SELECT contentid\r\n     FROM CONTENT\r\n     WHERE CONTENT_STATUS='draft'\r\n       AND pluginkey = 'com.atlassian.confluence.plugins.confluence-questions:answer-draft');\r\n\r\n\r\nDELETE\r\nFROM notifications\r\nWHERE contentid IN\r\n    (SELECT contentid\r\n     FROM CONTENT\r\n     WHERE CONTENT_STATUS='draft'\r\n       AND pluginkey = 'com.atlassian.confluence.plugins.confluence-questions:answer-draft');\r\n\r\n\r\nDELETE\r\nFROM imagedetails\r\nWHERE attachmentid IN\r\n    (SELECT contentid\r\n     FROM content\r\n     WHERE pageid IN\r\n         (SELECT contentid\r\n          FROM CONTENT\r\n          WHERE CONTENT_STATUS='draft'\r\n            AND pluginkey = 'com.atlassian.confluence.plugins.confluence-questions:answer-draft'));\r\n\r\n\r\nDELETE\r\nFROM contentproperties\r\nWHERE contentid IN\r\n    (SELECT contentid\r\n     FROM content\r\n     WHERE pageid IN\r\n         (SELECT contentid\r\n          FROM CONTENT\r\n          WHERE CONTENT_STATUS='draft'\r\n            AND pluginkey = 'com.atlassian.confluence.plugins.confluence-questions:answer-draft'));\r\n\r\n\r\nDELETE\r\nFROM content\r\nWHERE pageid IN\r\n    (SELECT xid\r\n     FROM\r\n       (SELECT c.contentid AS xid\r\n        FROM content c\r\n        WHERE CONTENT_STATUS='draft'\r\n          AND pluginkey = 'com.atlassian.confluence.plugins.confluence-questions:answer-draft') AS x);\r\n{code}\r\n# Restart Confluence.\r\n\r\n(i) In case you face any constraint problems while running the queries above, please raise a support ticket providing the latest logs and the queries that worked and failed so we can help you.",
      "summary": "Cannot Access My Drafts After Uninstalling Confluence Questions"
    }
  },
  {
    "key": "CONFSERVER-56135",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-10T06:18:55.000+0000",
      "created": "2018-07-20T14:21:59.000+0000",
      "description": "h3. Summary\r\n\r\nVimeo videos that are added with the Widget Connector macro do not play on any version of Confluence or in any platform or browser.\r\nh3. Steps to Reproduce\r\n # Create a page, add the Widget Connector Macro and insert a embed link to a Vimeo video.\r\n # Save and update or publish the page\r\n\r\nh3. Expected Results\r\n\r\nThe video should be embedded and display a thumbnail and the controls for the video.\r\nh3. Actual Results\r\n\r\nThe screen remains blank.\r\nh3. Notes\r\n\r\nLooking at the browser console it's clear that the embed method used in the connector no longer works as the ([https://vimeo.com/moogaloop.swf]) file returns a 404.\r\nh3. Workaround\r\n\r\n_For Confluence 6.6+_, install Widget Connector 3.1.2:\u00a0[^widgetconnector-3.1.2.jar].\u00a0{color:#FF0000}*This will not work in Confluence 6.5 and lower.*{color}\r\n\r\n_For Confluence 6.5 and lower_:\r\n\r\nThere is no workaround in the macro itself, however a user macro can be created instead as an alternative using the below code which will use the iframe embed method instead.\r\n{code:java}\r\n## Vimeo video macro\r\n## @param URL:title=Video URL|type=string|required=true|desc=Enter the full Vimeo URL (e.g. https://player.vimeo.com/video/223136582 )\r\n## @param Width:title=Width|type=int|required=true|default=640|desc=Player width in pixels (e.g. 640)\r\n## @param Height:title=Height|type=int|required=true|default=360|desc=Player height in pixels (e.g. 360)\r\n\r\n<iframe src=\"$paramURL\" width=\"$paramWidth\" height=\"$paramHeight\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n{code}",
      "summary": "Vimeo videos don't play using the Widget Connector macro"
    }
  },
  {
    "key": "CONFSERVER-56134",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-20T09:07:35.000+0000",
      "description": "On a windows Confluence server 6.7.1, we have an increase of \"paging file in use\" consuming. Once this use is high, it doesn't go back to low without a restart.\r\n\r\nHave you any info about this behavior please ? !image-2018-07-20-10-48-32-691.png!",
      "summary": "Paging file in use - high use - Windows server"
    }
  },
  {
    "key": "CONFSERVER-56133",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-20T00:33:36.000+0000",
      "description": "h3. Summary\r\n\r\nWhen specifying the \"full_attachment\" property as required=false:\r\n{code}\r\n<xhtml-macro key=\"scroll-imagemap-macro-key\" name=\"scroll-imagemap-macro\"\r\n                 icon=\"...\"\r\n                 class=\"...\">\r\n        <category name=\"confluence-content\"/>\r\n        <parameters>\r\n            <parameter name=\"data\" type=\"string\" required=\"true\">\r\n                <option key=\"showValueInPlaceholder\" value=\"false\"/>\r\n            </parameter>\r\n           <parameter name=\"pageRef\" type=\"confluence-content\" required=\"false\">\r\n                <option key=\"showValueInPlaceholder\" value=\"false\" />\r\n            </parameter>\r\n            ...\r\n           <parameter name=\"attRef\" type=\"full_attachment\" required=\"false\">\r\n                <option key=\"showValueInPlaceholder\" value=\"false\" />\r\n            </parameter>\r\n            <parameter name=\"attRefpage\" type=\"confluence-content\" required=\"false\">\r\n                <option key=\"derived\" value=\"attRef\" />\r\n                <option key=\"showValueInPlaceholder\" value=\"false\" />\r\n            </parameter>\r\n            <parameter name=\"attRefspace\" type=\"spacekey\" required=\"false\">\r\n                <option key=\"derived\" value=\"attRef\" />\r\n                <option key=\"showValueInPlaceholder\" value=\"false\" />\r\n            </parameter>\r\n        </parameters>\r\n</xhtml-macro>\r\n{code}\r\n\r\nAnd did not use the \"full_attachment\" property  and saved the storage format as such:\r\n{code}\r\n<ac:structured-macro ac:name=\"scroll-imagemap-macro\" ac:schema-version=\"1\" ac:macro-id=\"fc66ceca-f595-4ef2-bc14-08fc5568cada\">\r\n    <ac:parameter ac:name=\"data\">...</ac:parameter>\r\n    <ac:parameter ac:name=\"pageRef\">\r\n        <ac:link><ri:page ri:space-key=\"TEST\" ri:content-title=\"test\" /></ac:link>\r\n    </ac:parameter>\r\n</ac:structured-macro>\r\n{code}\r\n\r\nThe macro is rendered broken due to an NPE in {{StorageMacroV2Unmarshaller#computeDerivedParamFromFullAttachment}}, which assumes that {{attachmentRI}} will never be empty. \r\n\r\nGetting NPE in {{attachmentRI.getAttachmentContainerResourceIdentifier()}}:\r\n{code}\r\n/**\r\n * Calculate derived param from full_attachment param\r\n *\r\n * @param derivedParamMeta     metadata of derived param\r\n * @param sourceParamMeta      metadata of source param\r\n * @param typedMacroParameters map of all typed params\r\n * @return\r\n */\r\nprivate String computeDerivedParamFromFullAttachment(MacroParameter derivedParamMeta, MacroParameter sourceParamMeta, Map<String, Object> typedMacroParameters) {\r\n    String derivedParamValue = null;\r\n\r\n    final AttachmentResourceIdentifier attachmentRI = (AttachmentResourceIdentifier) typedMacroParameters.get(sourceParamMeta.getName());\r\n    final AttachmentContainerResourceIdentifier container = attachmentRI.getAttachmentContainerResourceIdentifier();\r\n\r\n    if (derivedParamMeta.getType() == MacroParameterType.CONFLUENCE_CONTENT) {\r\n        if (container instanceof PageResourceIdentifier) {\r\n            derivedParamValue = ((PageResourceIdentifier) container).getTitle();\r\n        } else if (container instanceof BlogPostResourceIdentifier) {\r\n            derivedParamValue = ((BlogPostResourceIdentifier) container).getTitle();\r\n        }\r\n    } else if (derivedParamMeta.getType() == MacroParameterType.SPACE_KEY) {\r\n        if (container instanceof PageResourceIdentifier) {\r\n            derivedParamValue = ((PageResourceIdentifier) container).getSpaceKey();\r\n        } else if (container instanceof BlogPostResourceIdentifier) {\r\n            derivedParamValue = ((BlogPostResourceIdentifier) container).getSpaceKey();\r\n        }\r\n    } else if (derivedParamMeta.getType() == MacroParameterType.DATE) {\r\n        if (container instanceof BlogPostResourceIdentifier) {\r\n            final Calendar postingDay = ((BlogPostResourceIdentifier) container).getPostingDay();\r\n            if (postingDay != null) {\r\n                derivedParamValue = XhtmlConstants.DATE_FORMATS.getPostingDayFormat().format(postingDay.getTime());\r\n            }\r\n        }\r\n    }\r\n\r\n    return derivedParamValue;\r\n}\r\n{code} \r\n\r\nh3. Background\r\nVendor would want to specify an optional (required=\"false\") macro parameter of type \"full_attachment\", as well as the needed \"derived\" parameters for page and space.\r\n\r\nHowever if there is no value for the main attachment parameter, parsing of the \"derived\" parameters fails and 'Broken macro' is rendered in the view\r\n\r\n(following is based on source of Confluence 6.0.1)\r\n\r\nThis is caused by a missing null check in com.atlassian.confluence.content.render.xhtml.storage.macro.StorageMacroV2Unmarshaller",
      "summary": "Macro parameters of type \"full_attachment\" cannot be used as optional (required=false)"
    }
  },
  {
    "key": "CONFSERVER-56132",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T22:06:32.000+0000",
      "description": "h3. Summary\r\nWhen you create issues via Confluence, using Microsoft Edge, by selecting text within a table, the text is not correctly updated to reflect the issue linked to that. The issue is normally created in Jira. \r\nThis is not present in other browsers\r\n\r\nh3. Steps to reproduce\r\n# Open Microsoft Edge\r\n# Create a new page (or you can use an old one)\r\n# Select text within the table\r\n# Create an issue based on that text\r\n# Check that the issue is created in Jira but the text is not updated accordingly\r\n\r\nh3. Workaround\r\nUse another browser \r\n\r\nWindows and edge version are on the screenshots",
      "summary": "Creating Issues in Edge via Confluence does not work within tables"
    }
  },
  {
    "key": "CONFSERVER-56131",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T21:00:05.000+0000",
      "description": "As a Confluence administrator, I'd like to be able to create spaces with a specified blueprint through REST API calls. Ultimately, I'd like to create my own UI which will allow a user to log in to Confluence, specify his space name, key, description, and type of space (Knowledge Base/Team/Documentation/etc), click submit, and have the space created without any intervention from myself as the administrator.\r\n\r\nCreating a blank space through REST API is simple enough. Why can't I specify what\u00a0\u00a0{color:#FF0000}*type*{color} of space I want as well - I found nothing in the request json to modify so that I'm able to do this.\r\n\r\nAre there any workarounds or solutions to this? Otherwise any helpful advice would be very welcome - thanks.",
      "summary": "Create Confluence space via REST API call w/ specific blueprint"
    }
  },
  {
    "key": "CONFSERVER-56130",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T15:38:43.000+0000",
      "description": "h3. Summary\r\n\r\nWhen creating issues by highlighting text on a table in Confluence the user is given the option to\u00a0*create multiple* *issues*. If the user selects\u00a0*Epic*\u00a0as the issue type, it's only allowed to select one *Epic Name*, which will be applied to all Epics created.\r\n\u00a0\r\nh3. Steps to Reproduce\r\n # In a Confluence page, add a table and some content on it;\r\n # Select some text on the table and click on the *Create Jira issue* option;\r\n # Select *Epic* as the issue type;\r\n # Enter the _Epic Name_ and hit *create*. \r\n\r\nh3. Expected Results\r\n * The user should be given the option to name the Epics individually.\r\n\r\nh3. Actual Results\r\n * The _Epic Name_ selected is applied to all Epics created\r\n\r\nWorkaround\r\n * Create Epics individually.",
      "summary": "Creating Multiple Issues from Table does not allow users to set Epic Names individually "
    }
  },
  {
    "key": "CONFSERVER-56129",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T15:08:44.000+0000",
      "description": "Currently, when a page has multiple updates and a user clicks Update on the page, Confluence notifies the user that other users have made updates to the page.  Additionally, there's an option to \"Show changes\" which displays a color code for each user and their changes.  In instances where there are many changes to a lengthy page, this approach can make it difficult to easily discern and navigate to changes made by any particular user.  This request would be for the addition of a mechanism that would allow you to click from one update to another, ignoring white space differences, for any one particular user.",
      "summary": "Improvement for Show Changes functionality when multiple users edit a page"
    }
  },
  {
    "key": "CONFSERVER-56128",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T13:02:24.000+0000",
      "description": "h3. Summary\r\n\r\nRefreshing \"Backup Successful\" page results in new backup getting generated\r\nh3. Steps to Reproduce\r\n # Go to  !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png! > *General Configuration* > *Backup and Restore*\r\n # Put a tick box on \"Archive to backups folder\"\r\n # Click *Back Up* button\r\n # After the backup is completed you are shown \"Backup Successful\" page with two paths to backup locations:\r\n ** Copy of archive in the _Temporary_ folder\r\n ** Copy of archive in the _Backups_ folder\r\n # Refresh the page, either with f5 key or hitting browser Refresh button\r\n\r\nh3. Expected Results\r\n\r\nThe same successful backup page is displayed as page represents backup job result\r\nh3. Actual Results\r\n\r\nA new backup is initiated in the background and created in both temp and backup directory\r\nh3. Notes\r\n * Tick box on \"Archive to backups folder\" is optional, a new file will be created every time refresh is done on \"Backup Successful\" page\r\n * The issue is observed\u00a0in all major browsers\r\n * In certain cases, where the browser does not cache pages, clicking on another page and then hitting the *Back* button to come back to \"Backup Successful\" page will also result in the backup creation\r\n\r\nh3. Workaround\r\n\r\nNo",
      "summary": "Refreshing \"Backup Successful\" page triggers new backup creation"
    }
  },
  {
    "key": "CONFSERVER-56127",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T06:07:49.000+0000",
      "description": "Confluence is widely used within our organisation and has become critical that we find a solution to attaching files in Confluence. We have limited our users to uploading X MB at a time however we would prefer that all attachments (including images embedded in pages) are saved automatically into our Document Management System. We have tested the SharePoint Connector for Confluence as advertised on the Atlassian marketplace however the functionality does not meet our requirements and it seems the vendor will not be releasing an update soon.\r\n\r\n\u00a0\r\n\r\nWe understand the previous versions of Confluence catered for managing files using WebDav functionality and DB storage vs file system that we currently use. What is the roadmap for the use of external storage locations such as SharePoint?\r\n\r\n\u00a0\r\n\r\nWe would really appreciate your assistance & guidance in determining how we can overcome this challenge in our organisation.",
      "summary": "External Storage Integration"
    }
  },
  {
    "key": "CONFSERVER-56126",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-18T21:15:36.000+0000",
      "description": "h3. Summary\r\n\r\nThe Clean Temporary Directory job is located under Scheduled Jobs from Confluence administration. Currently this job does not seem to be running nor throwing errors when attempting to run manually or via schedule.\u00a0\r\nh3. Environment\r\n * Confluence\r\n\r\nh3. Steps to Reproduce\r\n # Start a test Confluence instance\r\n # Head to *General Configuration -> Scheduled Jobs*\r\n # Next to *Back Up Confluence*, select Run (this will generate a .zip file in the <confluence-home>/temp directory)\r\n # From terminal, visit *<confluence-home>/temp* and note that the zip file for the back up are there\r\n # Return to the Scheduled Jobs screen and manually Run the Clean Temporary Directory job\r\n\r\n(!) Also tested scheduling the job to see if it would complete correctly but it also failed to remove the contents of the directory.\r\n\r\nh3. Expected Results\r\n\r\nThe zip file(s) will be removed from the directory\r\nh3. Actual Results\r\n\r\nThe files remain in /temp and the time stamp is updated in the Schedule Jobs UI showing that the job was ran but no contents were actually removed from the directory. \r\n\r\nh3. Workaround\r\n\r\nManually remove the contents of the /temp directory",
      "summary": "Temp directory clean up job is not actually removing contents of /temp"
    }
  },
  {
    "key": "CONFSERVER-56125",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-18T17:13:21.000+0000",
      "description": "For security reasons some organizations require users not to embed external images into Confluence pages. It would be great to have an option to disable or hide the insert the *Image from the web* option from the edit Confluence page toolbar and comment toolbars. \r\n\r\n",
      "summary": "Hide insert \"Image From the web\" option from the list of options for adding images to Confluence pages"
    }
  },
  {
    "key": "CONFSERVER-56124",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-18T16:54:34.000+0000",
      "description": "Please! :)",
      "summary": "Numbered lists: Add ability to set custom start number OR resume numbering from previous "
    }
  },
  {
    "key": "CONFSERVER-56123",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-18T16:52:14.000+0000",
      "description": "PLEASE! :)",
      "summary": "add ability to format a link so it opens in a new window"
    }
  },
  {
    "key": "CONFSERVER-56120",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-23T04:45:05.000+0000",
      "created": "2018-07-18T07:37:24.000+0000",
      "description": "h3. Summary\r\n\r\nWhen a user uses the asterisks to make a word bold in the text editor, the \"*B*\" formatting is still turned on even though the user already stopped typing in bold. The words do not turn into bold but the \"*B\"*\u00a0is still turned on.\u00a0It doesn't reflect the current formatting state of what the user typing.\r\nh3. Steps to replicate\r\n # Go to page.\r\n # Comment on a page with a wiki markup :\r\n{panel}\r\nThis is a *Bold* text.\r\n{panel}\r\n\r\n # Observe that the \"*B*\" formatting is still turned on even when the text is no longer bold.\r\n\r\nh3. Expected results\r\n\r\nThe \"*B*\" formatting would be turned off.\r\nh3. Actual results\r\n\r\n\u00a0The \"*B*\" formatting is still turned on even after the text is not shown as bold.\r\nh3. Note :\r\n\r\nThe \"*B*\" formatting would be turned off once you clicked on the editor. The issue is also\u00a0reproducible with\u00a0*Bold*,\u00a0_Italic_,\u00a0+Underline+\u00a0text.",
      "summary": "When inserting a *bold text* wiki markup in text editor, the \"B\" formatting is still turned on even when you already stopped typing in bold."
    }
  },
  {
    "key": "CONFSERVER-56119",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-18T06:23:13.000+0000",
      "description": "h3. Steps to reproduce\r\n * open the file previewer by clicking on a file in view mode\r\n * upload a new version of the file\r\n * notice the file being updated in view mode\r\n * now go into page edit mode\r\n\r\nh3. What happened?\r\n * notice the old version of the file\r\n\r\nh3. What should have happened\r\n * Updated file should show in the editor",
      "summary": "Editing a page after uploading a file in the previewer shows an old version of the file in the editor"
    }
  },
  {
    "key": "CONFSERVER-56118",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-02-18T23:52:24.000+0000",
      "created": "2018-07-17T19:31:09.000+0000",
      "description": "h2. Environment\r\n - Team Calendars 6.0.x\r\n\r\nh2. Steps to reproduce\r\n # Create a calendar;\r\n # Add an event with a participant (in the _Who_ field);\r\n # Export the calendar to .ics;\r\n # Import the .ics file in another instance.\r\n\r\nh2. Expected behavior\r\n\r\nThe calendar is imported with no errors.\r\nh2. Actual behavior\r\n\r\nNullPointerException appears in the importing window. Confluence logs show the following:\r\n{code:java}\r\n2018-07-12 16:52:01,080 ERROR [http-nio-8090-exec-2] [extra.calendar3.xwork.ImportSubCalendarAction] execute Unable to import events of type other\r\n -- referer: https://confluence.test.com/display/TEST/calendars | url: /plugins/calendar/importsubcalendar.action | traceId: 2902141a06b26b09 | userName: admin | action: importsubcalendar\r\njava.lang.NullPointerException\r\n\tat com.atlassian.confluence.extra.calendar3.DefaultActiveObjectsServiceWrapper.createInviteeEntity(DefaultActiveObjectsServiceWrapper.java:159)\r\n\tat com.atlassian.confluence.extra.calendar3.calendarstore.AbstractCalendarDataStore.setSubCalendarContent(AbstractCalendarDataStore.java:1004)\r\n\tat com.atlassian.confluence.extra.calendar3.calendarstore.AbstractPeopleHandlingSubCalendarDataStore.setSubCalendarContent(AbstractPeopleHandlingSubCalendarDataStore.java:111)\r\n{code}\r\nIn spite of that, all the events are imported correctly with no participants - which is expected since the related user identifier (user_key) doesn't exist in the new instance.\r\n----\r\nh2. Additional details\r\n\r\nThis bug seems to be caused by a user checker introduced in TC 6 to fix CONFSERVER-55887\r\nh2. Workaround\r\n # Uninstall Team Calendars 6.0.x in the Confluence instance\r\n # Download Team Calendars version [5.3.20|https://marketplace.atlassian.com/download/apps/72307/version/2320]\r\n # Navigate to the *Manage apps*\u00a0Page\r\n # Select *Upload Apps*\r\n # Choose\u00a0to upload the *team-calendars-5.3.20.obr* file that was just downloaded in step 2\r\n # Create a new Team Calendar\r\n # Import the ICS file into the newly created Team Calendar\r\n # Once the import is successful, Update the Team calendar to TC 6.0.x (the latest version)",
      "summary": "NullPointerException when importing calendar from a different instance "
    }
  },
  {
    "key": "CONFSERVER-56117",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-17T14:26:53.000+0000",
      "description": "The default behaviour for the attachments macro is to download a file rather than open it.\u00a0 This draws the user out of the Atlassian ecosystem and into the PDF viewer application.\u00a0 For a smoother and more Confluence-centric experience it would be good to have an option on the macro to make previewing default behaviour.",
      "summary": "Option to make Preview the default behaviour for attachments"
    }
  },
  {
    "key": "CONFSERVER-56116",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-17T11:39:52.000+0000",
      "description": "h3. Summary\r\nWhen you have different users moving overlapping pages concurrently within the same space, the move is stopped and rolled back by Confluence but the attachments are moved anyways.\r\nThis will cause the attachments to be lost\r\n\r\n\r\nh3. Steps to Reproduce\r\n# User 1 moves a specific page tree in a space\r\n# User 2 moves a subtree in the same space\r\n\r\nh3. Expected Results\r\nThe move should handle this scenario by having a global lock so we don't execute multiple moves at the same time that target the same space or page tree\r\n\r\nh3. Actual Results\r\nThe page move fails and the transaction is rolled back, but the attachments on the filesystem are not rolled back.\r\nh6. Successful Move\r\n{code:borderStyle=solid}\r\n2018-06-19 11:08:41,905 WARN [http-nio-8090-exec-312 url:/confluence/pages/movepage.action username:user1 ] [confluence.util.profiling.DurationThresholdWarningTimingHelperFactory] logMessage Execution time for publishing event com.atlassian.confluence.event.events.content.page.PageMoveEvent@65f5a6ec[theMover=ConfluenceUserImpl{name='user1', key=e4c2a0b94a5414b1014a58601f77001f},oldSpace=Space{key='TEST'},oldParentPage=page: Test Page v.10 (12345678),oldPosition=<null>,movedBecauseOfParent=false,movedPageList=[page: Subpage Test v.1 (123456788), \r\n... SNIPPED\r\n,suppressNotifications=false,timestamp=1529372833643] took 1288257 ms (warning threshold is 5000 ms)\r\n -- referer: https://confluence.example.com/confluence/display/TEST/Subpage+Test | url: /confluence/pages/movepage.action | traceId: 8f0cf5869e35c7ff | userName: user1 | action: movepage\r\n{code}\r\n\r\nh6. Failed Move\r\n{code:borderStyle=solid}\r\n2018-06-19 11:09:27,173 ERROR [http-nio-8090-exec-312 url:/confluence/pages/movepage.action username:user2 ] [atlassian.confluence.pages.DefaultPageManager] throwIfDuplicateAbstractPageTitle Cannot save page with ID [12345677] and title [Another Test Page] in space [TEST], since page with ID [12344] already exists in that space with the same title\r\n -- referer: https://confluence.example.com/confluence/display/TEST/Subpage+Test | url: /confluence/pages/movepage.action | traceId: 8f0cf5869e35c7ff | userName: user2 | action: movepage\r\n2018-06-19 11:09:27,175 ERROR [http-nio-8090-exec-312 url:/confluence/pages/movepage.action username:user2 ] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.confluence.event.events.content.page.PageMoveCompletedEvent[source=page: Subpage Test v.1 (123456788)]] from the invoker [com.atlassian.confluence.event.ConfluenceListenerHandlersConfiguration$TimingListenerHandler$1$1@226fc3fc]\r\n -- referer: https://confluence.example.com/confluence/display/Test/Subpage+Test | url: /confluence/pages/movepage.action | traceId: 8f0cf5869e35c7ff | userName: user2 | action: movepage\r\n{code}\r\n\r\nh3.Workaround\r\nUnfortunately, the only workaround available is to fix the attachments using the [Fix Missing Attachments Script|https://bitbucket.org/atlassianlabs/confluence-support-fix-missing-attachments/src/master/] and instruct the space owners and collaborators to coordinate between each other when a page tree move is happening.",
      "summary": "Different users moving overlapping pages concurrently within the same space causes the move to fail but the attachments to be moved"
    }
  },
  {
    "key": "CONFSERVER-56115",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-17T06:57:53.000+0000",
      "description": "*Steps to replicate the issue*\r\n# Create *200 to 500* [Undefined Pages|https://confluence.atlassian.com/doc/undefined-page-links-139580.html] in a few Confluence Page in within a Space.\r\n# Navigate to *Space Tools* > *Content Tools*\r\n# Click on *Undefined Pages* which should list up to *1k* of Undefined Pages.\r\n\r\n*Expected Behaviour*\r\nThe Undefined Pages list should load immediately and does not cause CPU spike\r\n\r\n*Actual Behaviour*\r\nThe Undefined Pages list took sometime to load (~5 seconds) and causes CPU spike (from 7% to 26% in my test) until the Undefined Pages list loaded.\r\n\r\nClicking on the *Undefined Pages* tab multiple time in a short period (5 times in about 3 seconds) causes the CPU Spike as per the following:\r\n||Number of Undefined Pages||CPU Usage to load Undefined Pages||\r\n|250|49.2%|\r\n|540|64.0%|\r\n|700|78.0%|\r\n(i) With only one click, there is a small spike (from 7% to 26%) until the undefined pages list loaded.\r\n\r\n*Notes*\r\nWith 200K of Undefined Pages:\r\n* Time taken to get the undefined pages from one space took *2m36.777s (0:02:36)*\r\n* CPU usage for Confluence process went from ~0% to ~60%, spiked at 150-200% - on 24 cores machine.\r\n",
      "summary": "Confluence listundefinedpages.action causes CPU Spike on a large space containining huge number of Undefined Pages"
    }
  },
  {
    "key": "CONFSERVER-56111",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-16T22:30:37.000+0000",
      "description": "h3. Summary\r\nTrying to import an iCal previously exported from Confluence Team Calendars, in Outlook, fails with the message:\r\n !capture 2018-07-16 17.31.54.png|thumbnail! \r\n\r\nh3. Environment\r\n* Confluence 6.3.2\r\n* Team Calendars 6.0.12\r\n* Outlook 2013, 2016 (Outlook 2010 not affected)\r\n\r\nh3. How to Replicate and Instance Details\r\n(i) The following scenario was tested on Confluence 6.3.2 with Team Calendar version 6.0.12.\r\n# Add a recurring leave event to\u00a0a particular Confluence calendar (12th July 2018) with the configuration as follows (recurring once every 4 days and ended exactly on the following day when it first recurs):\r\n !Screen Shot 2018-07-10 at 4.25.00 PM.png|thumbnail! \r\n# Then move the main event from 12th July 2018 to 13th July 2018\r\n# Once you've done that, remove the first recurring event (16th July 2018) by choosing the _Delete this instance only_ option.\r\n# Lastly, remove the main event itself (16th July 2018) by choosing the _Delete this instance only_ option.\r\n\r\nh3. Actual Results\r\nThis error message is received when you attempt to import into Outlook 2016:\r\n{code:borderStyle=solid}\r\nTask 'Internet Calendar Subscriptions reported error (0x000710D2) : 'The VEVENT, \"<username>\", defined near line 3580, contains a recurrence pattern that has no instances.'\r\n{code}\r\n\r\nh3. Expected Results\r\nThe calendar is imported and works in Outlook 2016.\r\n\r\nh3. Findings\r\nTeam Calendars actually allows all of the events to be removed from the Calendar view itself, however querying the DB we'd then noticed that there's an orphan entry left in the DB (it does not refer to any main events).\r\n{code}\r\nselect * from \"AO_950DC3_TC_EVENTS\" where \"DESCRIPTION\" like '%Recurring%';\r\n{code}\r\n\r\nh3. Possible Workaround\r\nRemove the event *completely* when no instances are left.",
      "summary": "Attempting to import an iCal exported from Team Calendars fails"
    }
  },
  {
    "key": "CONFSERVER-56110",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-04T04:53:25.000+0000",
      "created": "2018-07-16T13:27:25.000+0000",
      "description": "h3. Summary\r\n\r\nAt the moment, License Details endpoint is not elaborate enough:\r\n{code:java}\r\n/rest/license/1.0/license\r\n{code}\r\n\r\nh3. Suggestion\r\n\r\nCreate an API for this so that Admins are able to retrieve information such as\r\n    \"valid\"\r\n    \"evaluation\"\r\n    \"maximumNumberOfUsers\"\r\n    \"licenseType\"\r\n    \"creationDateString\"\r\n    \"expiryDate\"\r\n    \"expiryDateString\"\r\n    \"organizationName\"\r\n    \"dataCenter\"\r\n    \"subscription\"\r\n    \"rawLicense\"\r\n    \"maintenanceExpired\"\r\n    \"enterprise\"\r\n    \"active\"\r\n    \"autoRenewal\"\r\n\r\nh3. Note\r\nIn JIRA:  https://confluence.atlassian.com/jirakb/how-to-retrieve-application-license-details-via-rest-api-in-jira-7+-934728265.html",
      "summary": "Provide a REST API for retrieving License Details"
    }
  },
  {
    "key": "CONFSERVER-56109",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-16T09:52:50.000+0000",
      "description": "h3. Summary\r\n\r\nWhen editing is restricted to certain users, Space Admin will not see the 'Edit' button on the page. However, when an admin clicks on the\u00a0 !https://confluence.atlassian.com/doc/files/139414/945098807/24/1531452826214/restriction-icon-grey.png|width=16! \u00a0icon\u00a0at the top of the page, they will see their name as 'Can Edit', even when they are restricted from editing.\r\nh3. Steps to replicate\r\n # Create a new page in a space.\r\n # Restrict the permissions for editing.\r\n # Grant only certain people editing rights (except user A).\r\n # Give user A full admin rights on that space.\r\n # Login as user A. User A will not be able to see an edit button on the page.\u00a0\r\n # Click on the\u00a0 !https://confluence.atlassian.com/doc/files/139414/945098807/24/1531452826214/restriction-icon-grey.png|width=16! \u00a0icon\u00a0at the top of the page, user\u00a0A will be listed with a 'Can Edit' permission on that page.\r\n\r\nh3. Expected results\r\n\r\nUser should not be able to see their name on the list of people with 'Can Edit' permission since they are restricted from editing the page.\r\nh3. Actual results\r\n\r\nUser will see their name on the list of people with 'Can Edit' permissions.",
      "summary": "Admin's name will be shown in Restrictions with 'Can Edit' even when editing is restricted to certain users."
    }
  },
  {
    "key": "CONFSERVER-56105",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-16T07:28:39.000+0000",
      "description": "h3. *Problem Definition* \r\n\r\nWhen Jira gadgets are added to a page in Confluence, gadgets gets refreshed when the page is reloaded. \r\nCurrently the _refresh_ setting of Jira gadgets are for controlling the refresh of data on a static page/dashboard. So, when a reload of browser is done, a new set of data is plotted onto macro, irrespective of the refresh setting of the gadget.\r\n\r\nh3. *Suggest Solution*\r\n Gadgets should have an option of saving the snapshot at a particular time or till the next refresh interval and should not get refreshed on page reloads.\r\n\r\n\r\nh3. *Why this is important*\r\nThis functionality can be used when multiple users in a company are using a gadget for a report on different browser sessions.\r\n\r\n",
      "summary": "Stop Jira Gadgets from refreshing on browser reloads "
    }
  },
  {
    "key": "CONFSERVER-56101",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-16T05:23:17.000+0000",
      "description": "!Screen Shot 2018-07-16 at 3.22.35 pm.png|width=645,height=416!",
      "summary": "Buttons are overlapping in Russian Locale"
    }
  },
  {
    "key": "CONFSERVER-56099",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-16T01:41:28.000+0000",
      "description": "h2. Background\r\n\r\nIt is possible to enable [Reputation based permissions|https://confluence.atlassian.com/questions/permissions-407724476.html#Permissions-RepBasedPermissions] for Confluence Questions (CQ). One of the examples of such permissions at work is that the user is allowed to downvote the answer only if user has at least 15 reputation.\r\n\r\nWhile this works OK for global questions, this particular thing is not implemented properly in questions inside space.\r\nh2. Scenario\r\n\r\n1. Install CQ\r\n 2. Switch on Reputation Based Permissions at General Configuration \u2192 Questions for Confluence \u2192 Customisation\r\n 3. Create question an an answer linked to any space\r\n 4. Downvote an answer (with non-admin user that has <15 reputation)\r\n\r\n*Expected*: error message is shown similar to ones for global questions\r\n *Actual*: answer is successfully downvoted\r\nh2. Additional information\r\n * This works as expected for global questions (not linked to a space)\r\n * There are other things broken (except downvoting). We need to find them all and fix properly.",
      "summary": "Confluence Questions reputation check is not working for Space questions"
    }
  },
  {
    "key": "CONFSERVER-56098",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-15T03:08:08.000+0000",
      "created": "2018-07-13T20:28:34.000+0000",
      "description": "h3. Summary\r\n\r\nThis bug is relatively similar in behavior to the one reported in JRASERVER-63126 in which restarts can perform unnecessary ALTER statements on the AO table. If these tables are large, an error can occur when multiple processes attempt to access the same db resources. Moreover, this behavior can occur at runtime in edge cases\r\n\r\nh3. Environment\r\n * Confluence 6.0+ Server or Data Center\r\n * Some plugins creating table with LONGTEXT columns: eg: DVCS, webhook\r\n\r\nh3. Steps to Reproduce\r\n # Set up Confluence\r\n # Enable AO debug logging or DB SQL logging\r\n # Restart Confluence\r\n\r\nh3. Expected Results\r\nConfluence doesn't do unnecessary table modification\r\n\r\nh3. Actual Results\r\nh4. During Startup\r\nConfluence does unnecessary table modification. If those tables are large, it can cause example error:\r\n{code:java}\r\nCaused by: Error : 54, Position : 12, Sql = ALTER TABLE \"AO_950DC3_TC_SUBCALS\" MODIFY (\"CREATED\" DEFAULT 0), OriginalSql = ALTER TABLE \"AO_950DC3_TC_SUBCALS\" MODIFY (\"CREATED\" DEFAULT 0), Error Msg = ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired{code}\r\n\r\nh4. At Runtime\r\nConfluence can throw the following error\r\n{code:borderStyle=solid}\r\n2019-02-11 03:57:05,059 DEBUG [http-nio-1101-exec-4] [plugins.createcontent.exceptions.RestExceptionMapper] toResponse create-content-plugin exception\r\n -- referer: https://confluence-base-url/confluence/pages/editpage.action?pageId=123456789 | url: /confluence/rest/create-dialog/1.0/blueprints/web-items | traceId: 061ac753dbbb1bc8 | userName: someuser\r\ncom.atlassian.activeobjects.internal.ActiveObjectsInitException: bundle [com.atlassian.confluence.plugins.confluence-create-content-plugin]\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:95)\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:86)\r\n\tat com.atlassian.sal.core.executor.ThreadLocalDelegateCallable.call(ThreadLocalDelegateCallable.java:38)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:87)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:71)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.lambda$withRequestContext$1(VCacheRequestContextOperations.java:59)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:\r\nDatabase:\r\n\t- name:Oracle\r\n\t- version:Oracle Database 12c Enterprise Edition Release - 64bit Production\r\nWith the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,\r\nAdvanced Analytics and Real Application Testing options\r\n\t- minor version:1\r\n\t- major version:12\r\nDriver:\r\n\t- name:Oracle JDBC driver\r\n\t- version:x.x\r\n\r\njava.sql.SQLException: ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired\r\n\r\n\tat com.atlassian.activeobjects.internal.EntityManagedActiveObjects.migrate(EntityManagedActiveObjects.java:53)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory$1.doInTransaction(AbstractActiveObjectsFactory.java:77)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory$1.doInTransaction(AbstractActiveObjectsFactory.java:72)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor$1.doInTransaction(SpringHostContextAccessor.java:71)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.access$001(ConfluenceSpringHostContextAccessor.java:21)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.lambda$doInTransaction$3(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:87)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:71)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.doInTransaction(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat sun.reflect.GeneratedMethodAccessor257.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy316.doInTransaction(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor257.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:136)\r\n\tat com.sun.proxy.$Proxy316.doInTransaction(Unknown Source)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n\tat com.sun.proxy.$Proxy911.execute(Unknown Source)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory.create(AbstractActiveObjectsFactory.java:72)\r\n\tat com.atlassian.activeobjects.internal.DelegatingActiveObjectsFactory.create(DelegatingActiveObjectsFactory.java:32)\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:91)\r\n\t... 9 more\r\nCaused by: java.sql.SQLException: ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:213)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:37)\r\n\tat oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:896)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119)\r\n\tat oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1661)\r\n\tat oracle.jdbc.driver.OracleStatement.executeLargeUpdate(OracleStatement.java:1626)\r\n\tat oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1613)\r\n\tat oracle.jdbc.driver.OracleStatementWrapper.executeUpdate(OracleStatementWrapper.java:282)\r\n\tat org.apache.tomcat.dbcp.dbcp2.DelegatingStatement.executeUpdate(DelegatingStatement.java:233)\r\n\tat org.apache.tomcat.dbcp.dbcp2.DelegatingStatement.executeUpdate(DelegatingStatement.java:233)\r\n\tat net.java.ao.DatabaseProvider.executeUpdate(DatabaseProvider.java:2238)\r\n\tat net.java.ao.DatabaseProvider.executeUpdateForAction(DatabaseProvider.java:2294)\r\n\tat net.java.ao.DatabaseProvider.executeUpdatesForActions(DatabaseProvider.java:2266)\r\n\tat net.java.ao.schema.SchemaGenerator.migrate(SchemaGenerator.java:91)\r\n\tat net.java.ao.EntityManager.migrate(EntityManager.java:128)\r\n\tat com.atlassian.activeobjects.internal.EntityManagedActiveObjects.migrate(EntityManagedActiveObjects.java:51)\r\n\t... 54 more\r\nCaused by: Error : 54, Position : 12, Sql = ALTER TABLE \"AO_54C900_C_TEMPLATE_REF\" MODIFY (\"TEMPLATE_ID\" DEFAULT 0), OriginalSql = ALTER TABLE \"AO_54C900_C_TEMPLATE_REF\" MODIFY (\"TEMPLATE_ID\" DEFAULT 0), Error Msg = ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:498)\r\n\t... 75 more \r\n{code}\r\n\r\nh3. Notes\r\nThis is a bug in the AO library which allows for those unnecessary queries to run:\r\n* MySQL bug is caused by bug in AO framework, see [AO-3406|https://ecosystem.atlassian.net/browse/AO-3406]\r\n* ALTER table for Oracle, see [AO-3460|https://ecosystem.atlassian.net/browse/AO-3460], [AO-3463|https://ecosystem.atlassian.net/browse/AO-3463] and [AO-3464|https://ecosystem.atlassian.net/browse/AO-3464]\r\n\r\nh3. Workaround\r\nRestarting the node experiencing this behavior should resolve this issue temporarily.",
      "summary": "Confluence attempts ALTER statement on AO tables intermittently at runtime and/or on restart"
    }
  },
  {
    "key": "CONFSERVER-56097",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-13T18:02:55.000+0000",
      "description": "h3. Summary\r\n\r\nThe text *Total number of pages* shown by the Index Page Macro is broken when using the Russian language pack, showing as \r\n\"\u00d0\u2019\u00d1\u0081\u00d0\u00b5\u00d0\u00b3\u00d0\u00be \u00d1\u0081\u00d1\u0082\u00d1\u0080\u00d0\u00b0\u00d0\u00bd\u00d0\u00b8\u00d1\u0086\" instead.\r\nh3. Environment\r\n * PostgreSQL Database\r\n * Ubuntu OS\r\n\r\nh3. Steps to Reproduce\r\n # Click on user avatar icon -> go to \"profile\"\r\n # From settings menu, select Russian language.\r\n # Create a new page and add the Index Page macro to this page.\r\n # Save the page and access it.\r\n\r\nh3. Expected Results\r\n\r\nAll texts in the page are correctly translated/displayed.\r\nh3. Actual Results\r\n\r\nThe _Total number of pages_ is incorrectly showing as \"\u00d0\u2019\u00d1\u0081\u00d0\u00b5\u00d0\u00b3\u00d0\u00be \u00d1\u0081\u00d1\u0082\u00d1\u0080\u00d0\u00b0\u00d0\u00bd\u00d0\u00b8\u00d1\u0086\".",
      "summary": "Broken Characters in Confluence Index Macro with Russian language settings"
    }
  },
  {
    "key": "CONFSERVER-56094",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-13T13:57:52.000+0000",
      "description": "h1. Symptoms\r\nWhile in the *View Page* mode, the following operations fail:\r\n * Adding a page comment fails with \"*Failed to save the comment. Please try again later.*\" error in a pop-up.\r\n * Checking or unchecking an inline task fails with \"*Oops! Your task change couldn't be saved. There could be a few reasons for this.*\" error in a pop-up.\r\n * Adding an inline comment fails with \"*Could not save the comment*\" error in a pop-up.\r\n\r\nThe error logged in {{atlassian-confluence.log}} will be similar to the one below:\r\n{code}\r\n2018-07-13 14:06:33,110 WARN [http-nio-8090-exec-34] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[PluginReadWriteTx]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #367352675)\r\n -- referer: http://localhost:8090/confluence/display/NS4T/test+attachment | url: /confluence/rest/inlinecomments/1.0/comments | traceId: 69c1219e64f3f5ad | userName: admin\r\n2018-07-13 14:06:33,116 ERROR [http-nio-8090-exec-34] [common.error.jersey.ThrowableExceptionMapper] toResponse Uncaught exception thrown by REST service: Transaction rolled back because it has been marked as rollback-only\r\n -- referer: http://localhost:8090/confluence/display/NS4T/test+attachment | url: /confluence/rest/inlinecomments/1.0/comments | traceId: 69c1219e64f3f5ad | userName: admin\r\norg.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)\r\n\tat sun.reflect.GeneratedMethodAccessor67.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy53.commit(Unknown Source)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:150)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.access$001(ConfluenceSpringHostContextAccessor.java:21)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.lambda$doInTransaction$3(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:87)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:71)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.doInTransaction(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat sun.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy316.doInTransaction(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:136)\r\n\tat com.sun.proxy.$Proxy316.doInTransaction(Unknown Source)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n{code}\r\n\r\nAdditional examples of errors:\r\n{code:title=Error related to inline tasks}\r\n2018-08-07 00:45:35,078 WARN [http-nio-8090-exec-8] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.pages.DefaultPageManager.saveContentEntity]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #487036433)\r\n -- referer: http://localhost:8090/confluence/display/TS1/new+page+12345 | url: /confluence/rest/inlinetasks/1/task/12877825/3/ | traceId: b9509185a649694d | userName: admin\r\n{code}\r\n\r\n{code:title=Error related to inline comments}\r\n2018-08-07 01:03:46,503 WARN [http-nio-8090-exec-7] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[PluginReadWriteTx]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #632243332)\r\n -- referer: http://localhost:8090/confluence/display/TS1/new+page+12345 | url: /confluence/rest/inlinecomments/1.0/comments | traceId: 86f5447733a5a519 | userName: admin\r\n{code}\r\n\r\n{code:title=Error related to page comments}\r\n2018-08-07 01:02:55,672 WARN [http-nio-8090-exec-1] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.content.service.comment.CreateCommentFromEditorCommand.execute]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #1011990537)\r\n -- referer: http://localhost:8090/confluence/display/TS1/new+page+12345 | url: /confluence/rest/tinymce/1/content/12877825/comment | traceId: 6fadb580902edbb0 | userName: admin\r\n{code}\r\n\r\nh1. Cause\r\nThis issue occurs because contents are out of sync in sequences and tables related to *Confluence Content Notifications Plugin* and to *Confluence Batch Notifications Plugin*.\r\nOne of the reasons is if the sequence is reset to use values that already exist in their related table.\r\n\r\nBelow are the sequences that play a role on this.\r\nThe complete name may vary on different DB types, so they are presented as a _regex_:\r\n * {{AO_88BB94_BATCH_NOT%}}\r\n * {{AO_9412A1_AONOT%}}\r\n\r\nBelow are the tables that play a role on this:\r\n * {{AO_9412A1_AONOTIFICATION}}\r\n * {{AO_88BB94_BATCH_NOTIFICATION}}\r\n\r\nh1. How to Reproduce the Issue\r\nThe instructions below are to reproduce the issue on Confluence 6.6.4 running with PostgreSQL database.\r\n\r\n# Reset the sequence {{AO_88BB94_BATCH_NOTIFICATION_ID_seq}} to a value that contains in table {{AO_88BB94_BATCH_NOTIFICATION}}.\r\n# Reset the sequence {{AO_9412A1_AONOTIFICATION_ID_seq}} to a value that contains in table {{AO_9412A1_AONOTIFICATION}}.\r\n# Access Confluence and create a sample page with a single inline task and publish it.\r\n# Try to check the inline task.\r\n# Try to add an inline comment.\r\n# Try to add a page comment.\r\n\r\nh1. Workaround\r\nFor each set of sequence and table:\r\n# Get the maximum value of the id attribute in the related table.\r\n# Set the current value of the sequence equals to what you identified in the previous step.\r\n\r\nSince the procedure might differ on each database type, pair up with your DBA to get this done.\r\n\r\nPlease check [this KB|https://confluence.atlassian.com/confkb/unable-to-add-comment-due-to-sql-server-error-aonotification-table-321854221.html] if you encountered similar problem on Confluence running with MS SQL Server.\r\n\r\nh1. Expected Behavior\r\nIf there is anything wrong on the database side specifically with the notification plugin, this should *not* impact on other areas such as comments, inline comments and inline tasks.\r\nAlso, the logging should be more meaningful regarding this issue. Checking all sequences and their related tables could be a step of Confluence initialization process.",
      "summary": "Unable to add page comments, inline comments and tasks in page view but not in edit mode"
    }
  },
  {
    "key": "CONFSERVER-56093",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-13T11:58:13.000+0000",
      "description": "h3. Summary\r\n\r\nUsing the latest version of Confluence Questions (2.6.6) when adding a user @mention to a comment of a question or answer does not raise a in app notification in Confluence, email notifications however do work.\r\n\r\nh3. Steps to Reproduce\r\n# Create a question or answer in Confluence Questions\r\n# Comment on a question or answer using an @mention\r\n\r\nh3. Expected Results\r\nUser should receive a notification as stated in the notification drop down:\r\n(New notifications will appear here when other users:\r\nMention you within a comment, page or blog)\r\n\r\nh3. Actual Results\r\nOnly an email notification is received. \r\n \r\nh3. Notes\r\nI found two other DEV issues that are seemingly related:\r\n\r\n[CONFSRVDEV-4163|https://jira.atlassian.com/browse/CONFSRVDEV-4163]\r\n[CONFSRVDEV-4203|https://jira.atlassian.com/browse/CONFSRVDEV-4203]\r\n\r\nIt's also not clear anywhere if this is an expected behaviour or feature of the Confluence Questions add-on. \r\n\r\nh3.Workaround\r\nNo known workaround. \r\n",
      "summary": "Mention in a comment of a question or answer doesn't\u00a0generate in app notifications"
    }
  },
  {
    "key": "CONFSERVER-56092",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-20T04:28:31.000+0000",
      "created": "2018-07-13T06:57:37.000+0000",
      "description": "Implementing https://jira.atlassian.com/browse/CONFSERVER-55506 introduced a regression to TC.\r\n\r\nSuppose event table contains more than one event with the same UID. At least one event has recurring rule and at least one don't. Please see example below\r\n\r\n{code:none}\r\nmysql> select * from AO_950DC3_TC_EVENTS where vevent_uid='5dafe179-f4c2-4e4f-a99c-1a37e5625633'\\G\r\n*************************** 1. row ***************************\r\n                ALL_DAY: 0\r\n                CREATED: 1531458320051\r\n            DESCRIPTION:\r\n\r\n\r\n                    END: 1535547600000\r\n                     ID: 33\r\n          LAST_MODIFIED: 1531458320051\r\n               LOCATION: ABC\r\n              ORGANISER: NULL\r\nRECURRENCE_ID_TIMESTAMP: NULL\r\n        RECURRENCE_RULE: NULL\r\n    REMINDER_SETTING_ID: NULL\r\n               SEQUENCE: 0\r\n                  START: 1535544000000\r\n        SUB_CALENDAR_ID: 7d76b884-ab0f-43ec-a70e-025ed6002ef9\r\n                SUMMARY: Some summary 1\r\n                    URL: NULL\r\n                UTC_END: 1535547600000\r\n              UTC_START: 1535544000000\r\n             VEVENT_UID: 5dafe179-f4c2-4e4f-a99c-1a37e5625633\r\n*************************** 2. row ***************************\r\n                ALL_DAY: 0\r\n                CREATED: 1531458320052\r\n            DESCRIPTION:\r\n\r\n\r\n                    END: 1535547600000\r\n                     ID: 34\r\n          LAST_MODIFIED: 1531458320052\r\n               LOCATION: NULL\r\n              ORGANISER: NULL\r\nRECURRENCE_ID_TIMESTAMP: 1535490000000\r\n        RECURRENCE_RULE: NULL\r\n    REMINDER_SETTING_ID: NULL\r\n               SEQUENCE: 0\r\n                  START: 1535544000000\r\n        SUB_CALENDAR_ID: 7d76b884-ab0f-43ec-a70e-025ed6002ef9\r\n                SUMMARY: Some summary 2\r\n                    URL: NULL\r\n                UTC_END: 1535547600000\r\n              UTC_START: 1535544000000\r\n             VEVENT_UID: 5dafe179-f4c2-4e4f-a99c-1a37e5625633\r\n2 rows in set (0.00 sec)\r\n{code}\r\n\r\nThis will led to NPE at SubCalendarEvent#compareWith in the line\r\n{code:java}\r\nfinal int periodInDays = Math.abs(Days.daysBetween(originalStartTime, that.originalStartTime).getDays());\r\n{code}\r\n\r\ndue to the fact that originalStartTime is null.\r\n\r\nI'm not sure how valid this iCal configuration is. I wasn't able to reproduce the problem using only TC because I failed to create two events with the same UID but with valid recurrence status. In any case, this problem can be reproduced by using iCal file from outlook. ",
      "summary": "NPE in TeamCalendars if part of the UID group has recurrence rule"
    }
  },
  {
    "key": "CONFSERVER-56089",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-13T06:42:33.000+0000",
      "created": "2018-07-12T08:41:35.000+0000",
      "description": "h3. Summary\r\nPage Properties Report Macro pagination not working for Confluence 6.4.1 in Linux environment\r\n\r\nh3. Environment\r\n* Linux\r\n* Confluence version 6.4.1\r\n\r\nh3. Steps to Reproduce\r\n# Create Page with title *Page 1* and label the page as 'Test'. \r\n# Add a \"Page Properties\" Macro and create a table within the macro and save the page.\r\n# Create second page with title *Page 2* and label the page as 'Test'\r\n# Add a \"Page Properties\" Macro and create a table within the macro and save the page.\r\n# Create third page with title *Page Report* and add the \"Page Properties Report\" macro. Insert the label 'Test' in the macro and expand the *Options* by clicking show. Limit the *Number of items to display* to \"1\" and save it. Publish the page. \r\n !screenshot-2.png|thumbnail! \r\n\r\nh3. Expected Results\r\n* Users should be able to click on *Next* and *Prev* to toggle between pages \"1\" and \"2\".\r\n\r\nh3. Actual Results\r\n* Users able to click on *Next* but unable to toggle back to *Prev* page. \r\n \r\nh3. Notes\r\n* This works fine in Confluence 6.4.1 within Windows environment\r\n\r\nh3.Workaround\r\n* Upgrading to Confluence version 6.6.1 and above (It was tested and verified working)",
      "summary": "Page Properties Report Macro pagination not working for Confluence 6.4.1 in Linux environment"
    }
  },
  {
    "key": "CONFSERVER-56088",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-17T04:41:38.000+0000",
      "created": "2018-07-12T02:17:05.000+0000",
      "description": "h3. Summary\r\n\r\nThe error message \"{{JIRA Charts are not available for your version of JIRA. Upgrade to JIRA 6.1.1 or later to use this macro}}\" can be presented to users already running versions of Jira higher than 6.1.1.\r\n\r\nThere appear to be multiple causes for this issue, but any connection failure to Jira appears to result in a value of {{-1}} being stored in cache for the remote Jira version number.\r\n\r\nThis causes the version check above to fail as {{-1}} is explicitly listed as an unsupported build version.\r\n{code:java|title=DefaultJiraConnectionManager.getServerBuildNumber}\r\nprivate long getServerBuildNumber(final ReadOnlyApplicationLink appLink) {\r\n    try {\r\n        ApplicationLinkRequest request = JiraConnectorUtils.getApplicationLinkRequest(appLink, com.atlassian.sal.api.net.Request.MethodType.GET, REST_URL_SERVER_INFO);\r\n        request.addHeader(\"Content-Type\", MediaType.APPLICATION_JSON);\r\n        String responseString = request.execute();\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode rootNode = mapper.readTree(responseString);\r\n        return rootNode.path(JSON_PATH_BUILD_NUMBER).getLongValue();\r\n    } catch (ResponseStatusException e) // We could connect to Jira Server but the REST URL provided is version 4.x\r\n    {\r\n        return NOT_SUPPORTED_BUILD_NUMBER;\r\n    } catch (Exception e) // In other cases we assume that it is supported version\r\n    {\r\n        return Long.MAX_VALUE;\r\n    }\r\n}\r\n{code}\r\nAdditionally, the cache holds this value for 4 hours, so any subsequent requests for the next 4 hours will also fail with this error.\r\nh3. Environment\r\n * Confluence 6.3.2\r\n * Jira 7.3.9\r\n\r\nh3. Steps to Reproduce\r\n # Create an AppLink between Confluence and Jira, both behind a Reverse Proxy\r\n # Create a Jira Charts macro (JCM) in Confluence\r\n # Shutdown Jira\r\n # Restart Confluence (with Jira still down)\r\n # Load the page with the JCM\r\n # The Jira macro will fail to Preview\r\n # Start Jira - other JIM macros will work except the Jira Chart will still fail\r\n\r\nh3. Expected Results\r\n\r\nThe JCM should be displayed\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{code:java|title=Log Output}\r\n2018-06-26 10:22:18,062 WARN [http-nio2-8009-exec-83] [internal.integration.jira.DefaultJiraService] handle Could not parse JIRA server's information: No content to map to Object due to end of input\r\n -- referer: -SNIP- | url: /rest/highlighting/1.0/panel-items | traceId: ac4298b9d4878381 | userName: -SNIP-\r\n2018-06-26 10:22:18,062 WARN [http-nio2-8009-exec-83] [internal.integration.jira.DefaultJiraService] handle Could not parse JIRA server's information: No content to map to Object due to end of input\r\n -- referer: -SNIP- | url: /rest/highlighting/1.0/panel-items | traceId: ac4298b9d4878381 | userName: -SNIP-\r\n2018-06-26 11:43:47,764 ERROR [http-nio2-8009-exec-73] [confluence.plugins.jiracharts.JiraChartMacro] getImagePlaceholder error get image place holder\r\n -- referer: -SNIP- | url: /rest/tinymce/1/content/196968597.json | traceId: 9da19db95d13b833 | userName: -SNIP-\r\ncom.atlassian.confluence.macro.MacroExecutionException: JIRA Charts are not available for your version of JIRA. Upgrade to JIRA 6.1.1 or later to use this macro.\r\n\tat com.atlassian.confluence.plugins.jiracharts.DefaultJQLValidator.validateJiraSupportedVersion(DefaultJQLValidator.java:99)\r\n\tat com.atlassian.confluence.plugins.jiracharts.DefaultJQLValidator.doValidate(DefaultJQLValidator.java:56)\r\n\tat com.atlassian.confluence.plugins.jiracharts.JiraChartMacro.getImagePlaceholder(JiraChartMacro.java:127)\r\n\t...\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n{code}\r\n\r\nh3. Validation\r\n\r\nTo inspect the *Jira build number* that Confluence has in it's cache, open up this URL to the Confluence Server:\r\n\r\n* http://<confluence-base-url>/rest/jiraanywhere/1.0/servers\r\n\r\nThe JSON that returns will show the buildNumber for each of the Jira application link and the failing one should show -1 as the stored *buildNumber*. e.g.\r\n\r\n{code}\r\n[{\"id\":\"983172d9-18a4-3abf-acc9-0397663852e2\",\"name\":\"Your Company JIRA\",\"selected\":true,\"url\":\"https://myjirasite1.com.au:7443/j723\",\"buildNumber\":72005},\r\n{ \"id\":\"380add4d-626e-369e-9b89-c2f07f7aad53\",\"name\":\"Your Company JIRA - 2\",\"selected\":false,\"url\":\"https://myjirasite2.com.au:8443/j772\",\"buildNumber\":-1}]\"\r\n{code}\r\n\r\nh3. Notes\r\n\r\nThis issue often presents as a single occurrence that is resolved when the cache is cleared 4 hours later. In some cases, it can be persistent.\r\nh3. Workaround\r\n\r\nRe-indexing appears to correct this issue as in the process, the relevant cache is cleared in the process.\r\n\r\nThis may not be an acceptable workaround as if connectivity issues persist, the incorrect value will be stored in cache on the next version request.\r\n\r\nAdditionally, reindexing can be a time and resource expensive process that may rule this out as a fix in production.",
      "summary": "JIRA Charts are not available for your version of JIRA. Upgrade to JIRA 6.1.1 or later to use this macro."
    }
  },
  {
    "key": "CONFSERVER-56087",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-10T05:49:55.000+0000",
      "created": "2018-07-12T00:12:08.000+0000",
      "description": "h2. Steps to reproduce\r\n# Edit a page\r\n# Try to paste in the following link verbatim:\r\n{code}\r\nhttp://example.com?'test':abc\r\n{code}\r\n# Hit the Save button\r\n\r\nh2. Expected results\r\nPage saves\r\n\r\nh2. Actual results\r\nPage fails to save with error \"There was an error processing the request.\" shown in the editor UI. Logs show:\r\n{code}\r\n2018-07-11 19:15:18,001 WARN [http-nio-5691-exec-8] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.api.impl.service.content.ContentServiceImpl.update]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #490044663)\r\n -- referer: http://confluence.example.com/pages/editpage.action?pageId=1572866 | url: /rest/api/content/1572866 | traceId: 01cab0387aa9d768 | userName: admin\r\n{code}\r\n\r\nIf you attempt to close the editor instead, which will trigger a draft save, the draft will fail to save due to:\r\n{code}\r\n2018-07-11 19:16:20,482 WARN [http-nio-5691-exec-8] [confluence.tinymceplugin.rest.DraftsResource] save The supplied editor content could not be converted to storage format.\r\n -- referer: http://confluence.example.com/pages/editpage.action?pageId=1572866 | url: /rest/tinymce/1/drafts | traceId: 6beaf0053b995115 | userName: admin\r\ncom.atlassian.confluence.content.render.xhtml.XhtmlParsingException: The XML content could not be parsed. There is a problem at line 1, column 116. Parser message: Unexpected character &#39;:&#39; (code 58) (missing namespace prefix?)\r\n at [row,col {unknown-source}]: [1,116]\r\n{code}\r\n\r\nh2. Workarounds\r\n* URL-encode the single quote (apostrophes) to the following, before pasting the link into the editor:\r\n{code}%27{code}\r\n* Alternatively, instead of directly pasting the link into the editor, go to Insert + > Link > Web Link, and add the URL into the address box. Upon inserting this way, the colons will be encoded\r\n",
      "summary": "Confluence cannot save page which contains a URL with two apostrophes followed by a colon"
    }
  },
  {
    "key": "CONFSERVER-56085",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-11T20:29:02.000+0000",
      "description": "h3. Problem Definition\r\nCurrently there is no way to bulk update content across multiple pages/spaces. An example scenario would be:\r\nImagine you\u00a0create documentation for a bike. You've got 40 pages, in which you mention a helm 15 times. At some time, you decide to rename \"helm\" to \"rudder\". It would be great if there was a way to track the number of occurrences of \u201chelm\u201d and update all of them to \u201crudder\u201d.\r\nh3. Suggested Solution\r\nCreate a tool or macro to track those changes and allow admins to implement the search and replace when necessary. \r\nh3. Why this is important\r\nThis is really helpful for technical documentation, since certain technical components change over time and it\u2019s difficult to update the documentation in every location. ",
      "summary": "Add bulk search and replace"
    }
  },
  {
    "key": "CONFSERVER-56084",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-02-25T12:24:48.000+0000",
      "created": "2018-07-11T18:08:07.000+0000",
      "description": "h3. Summary\r\nRoadmap planner not allowing user to edit new lane's label after it has been added.\r\n\r\nh3. Steps to reproduce\r\n# Go to any page in Confluence and edit it.\r\n# Add Roadmap Planner macro.\r\n# Click on *Add Lane*.\r\n# Click on the new added lane's label to edit it and click on _pencil_ icon.\r\n# Try to edit the label.\r\n\r\nh3. Expected result\r\nThe label should be editable.\r\n\r\nh3. Current result\r\nAny of the lanes(including existing lanes) is not editable after new lane added.\r\n\r\nh3. Workaround\r\nAfter a new lane is added, click at any white space to release the focus on *Add Label* button. The lanes' label should be editable again after that.\r\n\r\n !roadmap_planner_lane_name.gif! ",
      "summary": "Roadmap planner not allowing user to edit new lane's label"
    }
  },
  {
    "key": "CONFSERVER-56083",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-11T16:37:28.000+0000",
      "description": "h3. Summary\r\n\r\nMerging multiple drafts can create inconsistent or jumbled inserts when editing in Confluence Non-CE mode (Synchrony NOT enabled).\r\nh3. Steps to Reproduce - Use Case A: Resuming Draft\r\n # Create a page as an admin\r\n # Log in as User A\r\n # Log in as User B\r\n # Edit the page as User A\r\n # Edit the same page as User B\r\n # As User A, make edits to the page and save it.\r\n # As user B, begin to make edits to the empty page in a different area of the page than user A edits. You should get a notification that the page has been updated - ignore this for now.\r\n # As User B, close the editor without saving your changes.\r\n # Go back to the page you were just editing and choose to merge your changes with the updates. Note that the edits are jumbled and do not display as you would expect.\r\n\r\nh3. Steps to Reproduce - Use Case B: Multiple Edits (screencast attached)\r\n # Create a page as an admin, with heading 1 as \"User A\"\r\n # Log in as User B and access page from step 1\r\n # Select edit to begin a draft as User B\r\n # Add a secondary heading 1 a few lines after the first heading titled \"User B\"\r\n # Log in as User A and edit the same page from step 1\r\n # As User A, add a few paragraph lines under the \"User A\" heading\r\n # Flip over to User B. Add a few paragraph lines under the \"User B\" heading. Click save.\r\n # Flip over to User A and hit save.\r\n\r\nh3. Reproduction via Unit Test\r\n\r\nThe problem lies in TDDMerger#mergeContent. Input parameters to the method that trigger the problem:\r\n{code:none}\r\nbase: <p><br /></p><h2>Admin</h2><p><br /></p>\r\nleft: <p><br /></p><h2>Admin</h2><p><br /></p><p><br /></p><p><br /></p><h2>Use a</h2><p>User a line 1</p><p>User a line 2</p><p>User a line 3</p><p><br /></p>\r\nright: <p><br /></p><h2>Admin</h2><p>Admin line 1</p><p>Admin line 2</p><p>Admin line 3</p><p><br /></p>\r\n\r\nactual (incorrect) result: <p><br /></p><h2>Admin</h2><p>Admin line 1</p><p><br /></p><p><br /></p><h2>Use a</h2><p>User a line 1</p><p>User a line 2</p><p>User a line 3</p><p><br /></p><p>Admin line 2</p><p>Admin line 3</p><p><br /></p>\r\n{code}\r\nh3. Environment\r\n * Synchrony disabled\r\n\r\nh3. Expected Results\r\n\r\nThe edits will persist the correct order after merging drafts.\r\nh3. Actual Results\r\n\r\nThe edits become out of order in an unexpected way\r\nh3. Workaround\r\n\r\nn/a\u00a0",
      "summary": "Non-CE Edits become jumbled on save when merging multiple edits"
    }
  },
  {
    "key": "CONFSERVER-56082",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-01T04:48:51.000+0000",
      "created": "2018-07-11T07:31:21.000+0000",
      "description": "h3. Summary\r\n* New line in the table cell after bullet list in Chrome\r\n\r\nh3. Environment\r\n* Confluence version 6.8.2\r\n* Google Chrome (Version 67.0.3396.99)\r\n\r\nh3. Steps to Reproduce\r\n# Make a bullet list in a page\r\n# Create a table under the bullet list\r\n# Type 'abc' then enter key and 'def' in a table cell\r\n* Attaching the re-produced video below:\r\n [^Recording #2.mp4] \r\n\r\nh3. Expected Results\r\n!image-2018-07-11-15-23-35-832.png|thumbnail!\r\n\r\nh3. Actual Results\r\n!image-2018-07-11-15-22-49-292.png|thumbnail!\r\n\r\nh3. Notes\r\n* Different browsers have different format:\r\n!image-2018-07-11-15-25-34-306.png|thumbnail!\r\n\r\nh3.Workaround\r\n* Use IE or Firefox ",
      "summary": "New line in the table cell after bullet list in Chrome"
    }
  },
  {
    "key": "CONFSERVER-56081",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-03-14T05:17:13.000+0000",
      "created": "2018-07-11T06:24:58.000+0000",
      "description": "h2. Scenario\r\n # Install Confluence Server or DC with commercial license\r\n # Go to General Configuration -> License Details\r\n\r\n*Expected*: you see a message about commercial license expiration (screenshot below)\r\n\r\n!image-2018-07-11-16-27-43-321.png|width=504,height=229!\r\n\r\n*Actual*: the message is telling you about evaluation license (screenshot below)\r\n\r\n\u00a0\r\n\r\n!image-2018-07-11-16-27-39-288.png|width=502,height=218!\r\nh2. Root cause\r\n\r\n**We have a method ViewOrUpdateLicenseAction#isEvaluationLicense that treats every license as an evaluation one.\u00a0\r\n{code:java}\r\n    public boolean isEvaluationLicense() {\r\n        return getConfluenceLicense() != null && getConfluenceLicense().getExpiryDate() != null;\r\n    }\r\n\r\n{code}\r\nWe should fix it like that:\r\n{code:java}\r\n    public boolean isEvaluationLicense() {\r\n        return Optional.ofNullable(getConfluenceLicense())\r\n                .map(ConfluenceLicense::isEvaluation)\r\n                .orElse(false);\r\n    }\r\n{code}\r\n\u00a0",
      "summary": "Fix license expiration date message"
    }
  },
  {
    "key": "CONFSERVER-56080",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T22:33:26.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently in Team Calendars, there is not a way to allocate resources for events, like room bookings.\r\nh3. Suggested Solution\r\n\r\nProvide a way to book meeting rooms in Team Calendar events.\r\nh3. Why this is important\r\n\r\nThe lack of this feature makes it harder to schedule events because there is a potential for double booking of meeting rooms.",
      "summary": "Provide the ability to book rooms for events in Team Calendars"
    }
  },
  {
    "key": "CONFSERVER-56079",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T14:58:20.000+0000",
      "description": "Currently the message \"spring application context cannot be set\" during startup necessitates reviewing  a 10-point checklist. Please improve logging to be more specific. \r\n\r\nHere is the checklist:\r\n[Confluence does not start due to Spring Application context has not been set|https://confluence.atlassian.com/confkb/confluence-does-not-start-due-to-spring-application-context-has-not-been-set-218278311.html]",
      "summary": "Improve logging for \"spring application context cannot be set\""
    }
  },
  {
    "key": "CONFSERVER-56078",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T09:02:45.000+0000",
      "description": "*Use Case*\r\n\r\nOn our Confluence Server we use German as the default language. We noticed that during the Welcome Screen (welcome.action), there is a mixture between German and English.\r\n\r\n\u00a0\r\n\r\nIs there a chance that this will be fixed in a future update?\r\n\r\n\u00a0\r\n\r\n!image-2018-07-10-11-03-37-654.png!",
      "summary": "Language support for Welcome Screen (welcome.action)"
    }
  },
  {
    "key": "CONFSERVER-56077",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-10-09T23:09:04.000+0000",
      "description": "h3.Steps \r\n\r\n # go to https://extranet.atlassian.com/display/~mpagulayan/Pre-allocated+Interview+Slots\r\n # open the java technical interviews > wednesday expander\r\n # attempt to click \"attend\" on the 3:30-5:00 macro\r\n # observe absence of effect\r\n\r\nI ran the following JS through the console on this page:\r\n{code}\r\n$('[id]').each(function(){\r\n  var ids = $('[id=\"'+this.id+'\"]');\r\n  if(ids.length>1 && ids[0]==this)\r\n    console.warn('Multiple IDs #'+this.id);\r\n});\r\n{code}\r\nwhich reported lots of duplicate IDs which I assume may be related.\n\n*Reporter*: Kara Hatherly\n*E-mail*: [mailto:khatherly@atlassian.com]",
      "summary": "Lots of duplicate IDs on a page with lots of rsvp macros"
    }
  },
  {
    "key": "CONFSERVER-56076",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T02:40:42.000+0000",
      "description": "h3. Summary\r\n\r\nWhen exporting a page that has Jira/Issue macro in it to word file, the word file includes unneeded <tr> tags and it makes blank column on the top of the table.\r\n\r\nh3. Environment\r\nConfirmed with the following environment sets.\r\n* Jira 7.5\r\n* Confluence 6.10.0\r\n\r\nh3. Steps to Reproduce\r\n # Set application link between Confluence and Jira \r\n # \u00a0Create a page.\r\n # \u00a0Insert a Jira Issue/Filter macro in a page and set any filter.\r\n # Save the page.\r\n # Export the page to word file.\r\n\r\nh3. Expected Results\r\nJira Issue/Filter macro should be exported as a following table.\r\n !Screen Shot 2018-07-10 at 11.53.43.png|thumbnail! \r\n\r\nh3. Actual Results\r\n\r\n !Screen Shot 2018-07-10 at 11.24.24.png|thumbnail! \r\nThe doc file has unneeded <tr> tags between tbody and th. \r\n{code:xml}\r\n<tbody>=20\r\n<tr></tr>=20\r\n<tr>=20\r\n<th style=3D\"text-align: left; text-transform: capitalize;\".........\r\n{code}\r\n\r\n\r\nh3. Workaround\r\n\r\nDelete the <tr> tags after exporting it to word.",
      "summary": "Exporting a page that has Jira Issue/Filter macro to word generates unneeded <tr> tags"
    }
  },
  {
    "key": "CONFSERVER-56075",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-01T00:53:38.000+0000",
      "description": "h3. Steps\r\n\r\nSubscribe to All Blog Updates in the Email section of your profile.\r\n\r\n*What happened...*\r\n\r\nI do not get emails for all blogs. Example, I did not get notified about Sri's blog titled \"Trello + Atlassian Show & Tell\".\r\n\r\nI have searched my gmail completely, including spam. Nothing.\r\n\r\nI've had the feeling that I've been missing posts for a while. Now I have proof!\r\n\r\n*What should have happened...*\r\n\r\nI should have been notified via email about this blog because I've subscribed to all blogs.",
      "summary": "I'm not getting email notifications"
    }
  },
  {
    "key": "CONFSERVER-56074",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-31T02:14:47.000+0000",
      "description": "Some times when a long page is edited we get a very long notification email. It would be nice to be notified of only the operative part, a diff of sorts. Perhaps that can be the header bit with the entire page following? Not a designer myself, not sure what would work best :) \n\n*Reporter*: Hercules Konstantopoulos\n*E-mail*: [mailto:hkonstantopoulos@atlassian.com]",
      "summary": "Confluence page update emails can get very long"
    }
  },
  {
    "key": "CONFSERVER-56073",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-30T06:17:16.000+0000",
      "description": "h3.Steps \r\n\r\n # Page had edit restrictions. Pad lock was open and red\r\n # Click and open page restrictions and saw blue message banner\r\n # Clicked cancel on dialog and got 2 x blue message banner. Page restrictions table disappeared\r\n # Clicked cancel again and the dialog was dismissed but the page restriction icon had change colour\r\n\r\n *What happened...* \r\nOpen padlock became grey\r\n\r\n *What should have happened...*\r\nPadlock should be red?\r\n\r\nP.S. Why can't I attach screenshots anymore to feedback\n\n*Reporter*: Joshua Tjhin\n*E-mail*: [mailto:xtjhin@atlassian.com]",
      "summary": "Page restrictions buggy and inconsistent"
    }
  },
  {
    "key": "CONFSERVER-56072",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-17T03:55:51.000+0000",
      "description": "h2. Steps to reproduce:\r\n # Download the two GIFs on this ticket.\r\n # Create a new page in Confluence.\r\n # Upload the gifs to the page and insert.\r\n # Save the page.\r\n\r\nh2. What happened\r\n\r\nThere are errors in the console when uploading and inserting the GIFs. They appear to display in edit mode, but upon saving the page, they do not render.\r\nh2. What should have happened\r\n\r\nThey should upload and display normally as other GIFs.\r\nh2. Possible cause\r\n\r\nToo many frames in the GIF\r\nh2. Workaround\r\n\r\nReduce the number of frames by splitting the GIF.",
      "summary": "Some GIFs can cause errors when uploading to Confluence"
    }
  },
  {
    "key": "CONFSERVER-56070",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-09T12:31:51.000+0000",
      "description": "h5. Bug Summary:\r\n\r\nWhen navigating to General Configuration > Scheduled Jobs > under Back Up Confluence choose history (see screenshot)\r\n\r\n!Screen Shot 2018-07-09 at 12.54.49 PM.png|thumbnail!\r\nh5. Environment:\r\n\r\nConfluence Server Version 6.9.0 & 6.10.0\r\nBrowsers: \r\nChrome Version 67.0.3396.99 (Official Build) (64-bit)\r\nSafari version 11.1.1 (13605.2.8)\r\nFirefox 60.0.2 (64-bit)\r\n\r\nh5. Expected results\r\n\r\nThe Date should be displayed inline\r\nh5. Actual results\r\n\r\nThe Date is displayed incorrectly, broken in 2 lines (see screenshot)\r\nNote: single digit dates are displayed correctly (e.g. 5th July), while double-digit dates are broken in two lines (e.g. 14th June)\r\n\r\nh5. Workaround\r\n\r\nn/a",
      "summary": "Date is not displayed correctly in Scheduled Jobs View (backup history)"
    }
  },
  {
    "key": "CONFSERVER-56068",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-09T06:36:02.000+0000",
      "description": "Page tree from ia plugin (which is displayed when sidebar is collapsed) could affect performance for huge spaces. Page tree loading takes a lot of time and looks like:\u00a0\r\n !Screen Shot 2018-07-09 at 4.31.59 pm.png|thumbnail!\r\n\r\nThe same problem is described for page tree plugin in https://jira.atlassian.com/browse/CONFSERVER-55392\r\n\r\nWhat's more, if a user clicks to this icon several times, there will be several heavy requests to the backed sent.",
      "summary": "childPagesContextualNav impacts Confluence performance"
    }
  },
  {
    "key": "CONFSERVER-56067",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-09T04:15:27.000+0000",
      "description": "h3. Summary\r\n\r\nBlueprintPageCreateEvent is not fired when:\r\n\r\n# Blueprint is used to create page -> Results in draft\r\n# User presses Close -> draft is saved\r\n# User later goes into drafts, clicks Resume -> presses Publish\r\n# No BlueprintPageCreateEvent event is emitted\r\n\r\nIn contrary to when:\r\n# Blueprint is used to create page -> results in draft\r\n# User presses Publish -> BlueprintPageCreateEvent is fired",
      "summary": "Confluence BlueprintPageCreateEvent not being triggered on Publish of draft"
    }
  },
  {
    "key": "CONFSERVER-56066",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-09T01:32:23.000+0000",
      "description": "Hello-\r\n\r\nThank you for your good product. \u00a0Now we are testing Confluence Server and came to an issue with Confluence Server App.\r\n\r\nCurrently, Confluence Server Mobile App is using web view and Google Authentication does not allow it. \u00a0As the result, OAuth authentication by Google cannot be used for Confluence Server Mobile APP and only PC web is available for our team. \u00a0For our operation, mobile environment is indispensable and we are wondering if we step into purchase of Confluence Server after our test period.\r\n\r\nTechnical reference:\r\n\r\n[https://community.atlassian.com/t5/Marketplace-Apps-questions/Will-OIDC-work-with-the-Confluence-mobile-apps/qaq-p/828099]\r\n\r\n\u00a0\r\n\r\nGoogle changed their policy of OAuth because of security and UX\r\n\r\n[https://developers.googleblog.com/2016/08/modernizing-oauth-interactions-in-native-apps.html]\r\n\r\n\u00a0\r\n\r\nIf you could change Confluence Server App from web view to\u00a0Android Chrome Custom Tab / iOS SFSafariViewController, this issue would be solved.\r\n\r\n\u00a0\r\n\r\nThank you.\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Confluence Server Mobile App to allow Google Authentication"
    }
  },
  {
    "key": "CONFSERVER-56065",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-09T00:51:30.000+0000",
      "description": "h2. Steps to reproduce\r\n1. Create parent page A\r\n2. Use 'Atlassian populator' chrome plugin to create 550 child pages under this page\r\n3. Go to search page\r\n4. Use advanced field 'With Parent' and specify page A\r\n\r\nExpected results: 500 pages are returned\r\nActual results: 50 pages are returned\r\n\r\nh2. Root cause\r\nCQL Plugin, ParentFieldHandler#fetchChildren\r\n\r\n{code:java}\r\n    private Iterable<Content> fetchChildren(ChildContentService.ChildContentFinder finder, ContentType type) {\r\n        Iterable<Content> results = Collections.emptyList();\r\n\r\n        SimplePageRequest pageRequest = new SimplePageRequest(0, MAX_TO_FETCH);\r\n\r\n        int count = 0;\r\n        PageResponse<Content> response;\r\n\r\n        do {\r\n            response = finder.fetchMany(type, pageRequest);\r\n            count += response.size();\r\n            results = Iterables.concat(results, response);\r\n            int offset = response.getPageRequest().getStart() + response.getPageRequest().getLimit();\r\n            pageRequest = new SimplePageRequest(offset, MAX_TO_FETCH - offset);\r\n\r\n        } while (response.hasMore() && count < MAX_TO_FETCH);\r\n\r\n        return response; // <--------- This is a typo. Should be return results;\r\n    }\r\n{code}",
      "summary": "CQL \"with parent\" misses search results"
    }
  },
  {
    "key": "CONFSERVER-56064",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-09T00:18:55.000+0000",
      "description": "h3. Summary\r\n\r\nWhen requesting for {noformat}https://{server_url}/rest/api/space/{space_key}/content/page?depth=root{noformat} response returns without the charset in Content-Type which results to some tools (e.g. PowerShell) not encoding the response body well..",
      "summary": "Add charset=UTF-8 in Content-Type for REST API response"
    }
  },
  {
    "key": "CONFSERVER-56063",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-07T07:48:12.000+0000",
      "description": "the shortcut 'k' to get a (tiny-)link to a page is less usable as before (before Confluence 5, now Confluence 6.6). While one could just press 'k' followed by 'ctrl-c' in the old version you now have to press 'k' then use the mouse and click on copy. Much less usable.\r\n It would be simple to just pre-select the 'share link' text field - that would give the feature back\r\n\r\n\u00a0\r\n\r\nMore concrete:\r\n * Shortcut k could have the focus on the tiny url, have it selected, so CTRL+C would copy it without using the mouse (as before)\r\n * Shortcut s could have the name field focused.",
      "summary": "Usability of shortcut 'k' diminished"
    }
  },
  {
    "key": "CONFSERVER-56062",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-06T20:46:19.000+0000",
      "description": "h3. Summary\r\n\r\nWhen putting a large image on a Confluence page, the image will not resize with the browser unless the *Original* size option is selected.\r\nh3. Steps to Reproduce\r\n # Attach a large image to a page (such as [^atlassian-logo.png]\u00a0attached to this ticket).\r\n # Click the image and select *Original* from the size options.\r\n !size_option_original.png|thumbnail!\r\n # Save the page and adjust the browser size to be smaller than the width of the image.\r\n # Edit the page again, and select one of the custom sizes for the image, or enter in a number into the custom size field.\r\n !size_option_large.png|thumbnail!\r\n # Save the page and adjust the browser size to be smaller than the width of the image.\r\n\r\nh3. Expected Results\r\n\r\nThe image responsively resizes to show the full image as the browser size adjusts, regardless of image size selected.\r\nh3. Actual Results\r\n\r\nThe image resizes with the browser size when *Original* is selected, but not when any custom size is selected.\r\n\r\nThese screenshots are taken of the same sized browser window with different options selected:\r\n\r\n*\"Original\":*\r\n !original_selected.png|thumbnail!\r\n\r\n*Custom size:*\r\n !custom_selected.png|thumbnail!",
      "summary": "Images are not responsive when a custom size is specified"
    }
  },
  {
    "key": "CONFSERVER-56061",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-12-04T03:36:06.000+0000",
      "created": "2018-07-06T14:00:15.000+0000",
      "description": "h3. Summary\r\n\r\nProfile Avatars (Profile pictures) appears too large in PDF export.\r\nh3. Steps to Reproduce\r\n # Install Confluence and create some content with different user\r\n # Upload a profile picture for different users\r\n # Create a page with content that has one of the following macros (Recently Updated, Blog Posts, User Profile, etc.)\r\n # Export the page to PDF\r\n\r\nh3. Expected Results\r\n\r\nThe layout and size of the user profile picture in the page should be respected in the \r\n !Screen Shot 2018-07-06 at 15.59.32.png|thumbnail!\r\nh3. Actual Results\r\n\r\nThe User profile picture appears very big and changes the page layout.\r\n [^ds-cdcbd-060718-1556-19.pdf]\r\n\r\nnotesh3. Notes\r\n This issue is not reproducible with Confluence 6.2.x\r\nh3. Workaround\r\n1. Add\u00a0the following CSS lines into the *Global PDF Stylesheet*, (ConfluenceBaseURL)/admin/flyingpdf/viewpdfstyleconfig.action\r\n #* *To hide the image completely*\r\n * \r\n{code:java}\r\n.userLogo.logo  \r\n{  \r\ndisplay: none !important;\r\n} \r\n{code}\r\n#* *To change it to the default size*\r\n * \r\n{code:java}\r\n.userLogo.logo  \r\n{  \r\nwidth: 48px !important;\r\nheight: 48px !important;\r\nborder-radius: 3px !important;\r\n} \r\n{code}\r\n\r\n2. Another option would be to use the browser's *Print to PDF* option.",
      "summary": "Profile Avatars (Profile pictures) appears too large in PDF export"
    }
  },
  {
    "key": "CONFSERVER-56060",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-06T04:05:18.000+0000",
      "description": "There are a lot of problems with moving large page trees via 'Move' feature. It usually takes a lot of time and can easily fail if any concurrent modifications from users are happening. The reason of time complexity if the fact that the whole move is executed in single DB transaction. Due to hibernate autoflush it can take O(N^2) operation because of persistence context scanning.\r\n\r\nAnother problem is that move feature emits a ton of PageMovedEvents that are used to update various stuff (links, attachments, index). If the listener of the event fails, the system prints the error in log and continues move. These failed event listeners lead to system inconsistencies. For example links between pages might be corrupted or attachments not available.\r\n\r\nBasically, it is impossible right now to execute large move operation (tens of thousands of pages) and get successful results from the first run. This feature should be redesigned so that it becomes more stable on large customer instances.\r\n\r\nWhat workarounds are used right now by big customers:\r\n* unlink the instances from load balancer to ensure no concurrent modifications are hapenning\r\n* restrict affected spaces so that no one modifies pages there\r\n* use API instead of UI because UI timeouts after couple of minutes (with backend operation still running)\r\n* split initial move to batches to make it more managable\r\n* go to safe mode so that plugins don't fail on listening PageMove events\r\n",
      "summary": "Page Move feature should be more stable"
    }
  },
  {
    "key": "CONFSERVER-56059",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-27T04:15:46.000+0000",
      "created": "2018-07-06T02:31:45.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThere're two pages that describe Confluence Data Center configuration, but the descriptions in these documents are not synchronized especially in the Synchrony configuration.\r\n * [Moving to Confluence Data Center|https://confluence.atlassian.com/doc/moving-to-confluence-data-center-203651.html]\r\n{quote}-Dsynchrony.service.url=http://<confluence-base-url>/synchrony/v1\r\n For example [http://yoursite.example.com/synchrony/v1]. You must include /v1 on the end of the URL.\r\n{quote}\r\n * [Configuring Synchrony for Data Center|https://confluence.atlassian.com/doc/configuring-synchrony-for-data-center-858772125.html]\r\n{quote}SYNCHRONY_URL \r\n This is the URL that the browser uses to contact Synchrony. Generally this will be the full URL of the load balancer Synchrony will run behind plus the Synchrony context path, for example [http://yoursite.com:8091/synchrony]. \r\n Note that it does not end with /v1 , unlike the synchrony.service.url system property passed to Confluence. If this URL doesn't match the URL coming from a users' browser, Synchrony will fail.\r\n{quote}\r\n\r\n\u00a0\r\n\r\nEspecially, the description in the former page,\r\n{quote}-Dsynchrony.service.url=http://<confluence-base-url>/synchrony/v1\r\n{quote}\r\nis not strictly true.\r\n\r\nFor example,\u00a0_<confluence-base-url>_ can be like _yoursite.example.com/confluence_ .\r\n Then the following description would result in\u00a0\r\n{quote}-Dsynchrony.service.url=[http://yoursite.example.com/confluence/synchrony/v1]\r\n{quote}\r\nand this is incorrect.\r\n\r\n\u00a0\r\n\r\nThe latter is not referring to\u00a0_<confluence-base-url>_\u00a0, so the former description should synchronized with the latter.\r\n\r\n\u00a0\r\nh3. Suggested Solution\r\n\r\n_<confluence-base-url>_ description should be replaced with _yoursite.example.com_ etc. in [Moving to Confluence Data Center|https://confluence.atlassian.com/doc/moving-to-confluence-data-center-203651.html] as below.\r\n * [Moving to Confluence Data Center|https://confluence.atlassian.com/doc/moving-to-confluence-data-center-203651.html]\r\n{quote}*-Dsynchrony.service.url=*[*http://yoursite.example.com/synchrony/v1*|http://yoursite.example.com/synchrony/v1*]\r\n You must include /v1 on the end of the URL.\r\n{quote}\r\n * [Configuring Synchrony for Data Center|https://confluence.atlassian.com/doc/configuring-synchrony-for-data-center-858772125.html]\r\n{quote}SYNCHRONY_URL \r\n This is the URL that the browser uses to contact Synchrony. Generally this will be the full URL of the load balancer Synchrony will run behind plus the Synchrony context path, for example *[http://yoursite.example.com/synchrony|http://yoursite.example.com/synchrony*].* \r\n Note that it does not end with /v1 , unlike the synchrony.service.url system property passed to Confluence. If this URL doesn't match the URL coming from a users' browser, Synchrony will fail.\r\n{quote}\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Description of <confluence-base-url> for synchrony.service.url and SYNCHRONY_URL doesn't match"
    }
  },
  {
    "key": "CONFSERVER-56058",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-07T22:47:10.000+0000",
      "created": "2018-07-05T15:19:13.000+0000",
      "description": "h3. Summary\r\n * Exception when opening drafts page after uninstalling Questions plugin\r\n\r\nh3. Environment\r\n * Collaborative editing is ON\r\n * Disabling question plugin\r\n * Questions plugin version 2.5.5 , 2.6.6\r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence questions plugin\r\n # Create a test question\r\n # Disable confluence questions plugin\r\n # Navigate to profile>drafts page\r\n\r\nh3. Expected Results\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the UI as attachment and below the confluence.log file:\r\n\r\n!Screen Shot 2018-07-05 at 18.06.08.png|thumbnail!\r\n\u00a0\r\n{code}\r\norg.apache.velocity.exception.MethodInvocationException: Invocation of method 'getBodyAsString' in class com.atlassian.confluence.content.CustomContentEntityObject threw exception java.lang.UnsupportedOperationException: The body of this ContentEntityObject \\(''\\) was 'BodyType:XHTML' but was expected to be 'BodyType:RAW' at /users/viewmydrafts.vm[line 47, column 29]\\\\     at org.apache.velocity.runtime.parser.node.ASTIdentifier.execute(ASTIdentifier.java:223\\)\\\\ \\\\ caused by: java.lang.UnsupportedOperationException: The body of this ContentEntityObject \\(''\\) was 'BodyType:XHTML' but was expected to be 'BodyType:RAW'\\\\ at com.atlassian.confluence.core.ContentEntityObject.getBodyContent(ContentEntityObject.java:290\\)\r\n{code}\r\nh3. Workaround options\r\n # First option: Disabling collaborative editing, user should be able to navigate to drafts page normally.\r\n # Second option: Re-enabling question plugin then clear drafts.\r\n\r\n\r\nh3. Workaround via Database\r\n\r\n# Shutdown Confluence.\r\n# Backup database.\r\n# Identify all the drafts created by Questions plugin.\r\n{code:sql}\r\nselect * from content c where pluginkey='com.atlassian.confluence.plugins.confluence-questions:answer-draft'\r\n{code}\r\n# Change the status of all these drafts to _deleted_.\r\n{code:sql}\r\nupdate content set content_status = 'deleted' where contentid in (select c.contentid from content c where pluginkey='com.atlassian.confluence.plugins.confluence-questions:answer-draft');\r\n{code}\r\n# Restart Confluence.",
      "summary": "Disabling Questions plugin breaks drafts page"
    }
  },
  {
    "key": "CONFSERVER-56057",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-05T08:52:05.000+0000",
      "description": "In Confluence as a normal user I constantly have to remember lists of names for selectively sharing pages read/write permissions with groups of people, representing informal teams relating to the content and collaboration. I would like to be able to create a group, as I can in email contacts, that is just a shorthand for me to share with common informal groups, and add/remove members from that at any time. I do not want to have to create any administrator requests to be able to do this frequent operation.\r\n\r\n\u00a0\r\n\r\nIn Jira I can create filters for private use and choose to share them with others. Likewise as well as being able to create private groupings of people for Confluence sharing and permissions, I would like to be able to share these with others. To avoid clutter they could be discoverable by others at one remove from the main/official space groups.",
      "summary": "Allow non-space-administrators to create and share groups"
    }
  },
  {
    "key": "CONFSERVER-56056",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-05T08:45:39.000+0000",
      "description": "It will be useful that Confluence pdf export can cover the Confluence question plugin data as well. ",
      "summary": "Allow export question to PDF"
    }
  }
]