[
  {
    "key": "CONFSERVER-64236",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-16T21:58:08.000+0000",
      "description": "There does not seem to be a way to search for $STRING (except $username) in Confluence, and in some cases this desperately needs to be a thing (some people create more useful content than others). It's possible to do \"searchstring NOT personsname\" but that's not always feasible, particularly if the user to be excluded has a common name - in that case desired content will be filtered out.\r\n\r\nPlease add filtering against usernames.",
      "summary": "Exclude pages created by one user from search"
    }
  },
  {
    "key": "CONFSERVER-64235",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-16T21:44:06.000+0000",
      "description": "h3. Issue Summary\r\nJira issue filter macro when changing Jira issue key the custom filters will be wiped out\r\n\r\nh3. Steps to Reproduce\r\n# Create a Jira issues Macro\r\n# Search for an issue key\r\n# Expand columns to display and select table and note custom fields\r\n# Change the Jira issue Key \r\n# Notice the custom fields get pulled\r\n\r\nh3. Expected Results\r\nCustomer fields should not be pulled\r\n\r\nh3. Actual Results\r\nCustom fields are pulled \r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Jira issue filter macro when changing Jira issue key the custom filters will be wiped out"
    }
  },
  {
    "key": "CONFSERVER-64234",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T18:26:14.000+0000",
      "created": "2021-04-16T20:13:43.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence has a few existing bugs (all duplicates of each other) where the installer or data center migration will break when a load balancer or proxy is pinging the server during the setup process:\r\n\r\n * [CONFSERVER-61188 - Opening the base URL multiple times during installation will break the installation process|https://jira.atlassian.com/browse/CONFSERVER-61188]\r\n * [CONFSERVER-61189 - Opening the base URL multiple times during Data Center migration will break the migration process|https://jira.atlassian.com/browse/CONFSERVER-61189]\r\n* [CONFSERVER-59084 - Improve installation process by preventing any other request to brake installation.|https://jira.atlassian.com/browse/CONFSERVER-59084]\r\n\r\nCustomers will not know to do this prior to upgrading and will have to roll back and contact support if they have a health check in place.\r\n\r\nh3. Documentation Change Suggestion\r\n\r\nWe should add warnings to disable health checks and link to one of the bugs in the following documentation for all versions:\r\n* [Installing Confluence Data Center|https://confluence.atlassian.com/doc/installing-confluence-data-center-203603.html]\r\n* [Installing Confluence on Windows|https://confluence.atlassian.com/doc/installing-confluence-on-windows-255362047.html]\r\n* [Installing Confluence on Linux|https://confluence.atlassian.com/doc/installing-confluence-on-linux-143556824.html]\r\n* [Installing Confluence on Windows from Zip File|https://confluence.atlassian.com/doc/installing-confluence-on-windows-from-zip-file-144212170.html]\r\n* [Installing Confluence on Linux from Archive File|https://confluence.atlassian.com/doc/installing-confluence-on-linux-from-archive-file-255362363.html]\r\n* [Migrate from Server to Data Center|https://confluence.atlassian.com/doc/migrate-from-server-to-data-center-203651.html]",
      "summary": "Warn customers to disable health checks when installing or migrating to DC"
    }
  },
  {
    "key": "CONFSERVER-64233",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-16T19:02:44.000+0000",
      "description": "h3. Problem\r\n\r\nWhen filtering by a specific page on the Task Report macro, tasks from that page and from child pages are shown.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Add tasks to a parent page\r\n# Create a child and add tasks on it as well\r\n# On a separate page add the Task Report Macro and filter by the partent page\r\n\r\nh3. Expected Results\r\n\r\nOnly tasks of the parent show in the Task Rerport Macro as explained [in the documentation|https://confluence.atlassian.com/doc/task-report-macro-590260009.html]:\r\n\r\n{quote}\r\nFilter by the task location. The macro will only display tasks in the pages or spaces specified. You can enter a combination of spaces and pages.\r\n{quote}\r\n\r\nh3. Actual Results\r\n\r\nTasks from the child pages are also listed on the macro.\r\n\r\nh3. Workaround\r\n\r\n# Add a label on the parent page\r\n# Edit the Task Report macro\r\n# Add that label in the macro settings\r\n",
      "summary": "Filtering by a page on Task Report Macro also shows tasks from child pages"
    }
  },
  {
    "key": "CONFSERVER-64232",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-16T04:29:01.000+0000",
      "description": "h3. Suggestion\r\n\r\nThe current implementation of Confluence Mobile App requires unauthenticated outbound REST API call from the App to Confluence.\r\n\r\nThese calls are {{/server-info}} and {{/rest/nativemobile/1.1/info/login}} and are described in https://confluence.atlassian.com/jirakb/can-t-check-compatibility-error-in-the-jira-server-mobile-app-954244691.html\r\n\r\nSome customers may have a WAF, proxy, or other appliance in between the client App and Confluence that block unauthenticated access to these calls\r\n\r\nSolutions include:\r\n* Configure the third party service to exclude  or otherwise unblock these URLs\r\n* Use MDM to implement the \"skipInfo\" flag as decscribed in https://confluence.atlassian.com/doc/mobile-device-management-mdm-993923036.html\r\n\r\nHowever, some customers may not be able to use either option, since MDM is not used, or the third party service cannot be configured (either for business, or technical reason) to exclude the required URLS. \r\n\r\nThis results in inability to use the Confluence Mobile App. \r\n\r\nh3. Suggest solution\r\nRedesign the pre-login phase of the Mobile App to not require unauthenticated call",
      "summary": "Skip unauthenticated API requirement for Confluence Mobile App"
    }
  },
  {
    "key": "CONFSERVER-64231",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T19:19:59.000+0000",
      "description": "h3. Issue Summary\r\nIn the user's \"My Calendars\" or space \"Calendars\" view, when more than one calendar is visible, after clicking Add Event that opens an event for a calendar that defaults to a default event type and then changing the calendar to a calendar that defaults to a custom event type, the event cannot be added and a blank error message shows\r\n\r\nh3. Steps to Reproduce\r\nNavigate to the user's My Calendars view\r\nClick Add Calendar to create a calendar named Calendar-1\r\nClick OK\r\nClick Add Calendar to create a calendar named Calendar-2\r\nClick OK\r\nIn Calendar-2, click Edit, navigate to \"Event Types\" and hide all default event types\r\nAgain in the Calendar-2's \"Event Types\" menu, create one custom event type (\"Custom-Event\") and click Save, then click OK\r\nClick \"Add Event\"\r\nAfter ensuring there are no other calendars added to My Calendars except the two you just created, click Add Event. It should default to opening Calendar-1 (which has the Events default event type pre-selected)\r\nWithout entering anything in the fields, change the calendar to Calendar-2. The custom event type \"Custom-Event\" should default.\r\nEnter the event name and attempt to save it.\r\n\r\nh3. Expected Results\r\nEvent created with the selected custom event type.\r\n\r\nh3. Actual Results\r\nA blank red error message appears and the event cannot be saved.\r\n\r\nh3. Workaround\r\nOnly click Add Event from a specific calendar menu, not from the Add Event button on the user's \"My Calendars\" or space \"Calendars\" view, or keep at least one of the default event types enabled.",
      "summary": "Blank Error Message When Switching Calendar Types to Default Custom Event "
    }
  },
  {
    "key": "CONFSERVER-64230",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T17:58:28.000+0000",
      "description": "h3. Issue Summary\r\nIf you change the page title of a confluence page (e.g. \"test v1\" -> \"test v2\") and then go into the page history to compare the previous version to the current version, all the headings of the page are marked as \"formatting was changed\" (the blue highlight) despite the only thing actually changing about the page is the title.\r\n\r\nThere's also a feature request to show the changes to the page title: https://jira.atlassian.com/browse/CONFSERVER-24547\r\n\r\nh3. Steps to Reproduce\r\n# Create a page named \"version 1\" with some headings in it;\r\n# Edit the page, change only the title to \"version 2\" and save it;\r\n# Go to !https://confluence.atlassian.com/download/thumbnails/704577869/ellipsis.png! > *Page History* and compare the two versions.\r\n\r\nh3. Expected Results\r\nThe title of the page shows as the only changed content.\r\n\r\nh3. Actual Results\r\nThe title of the page doesn't show as changed, but all the headings of the page show as \"formatting was changed\".\r\n !image-2021-04-15-14-56-22-358.png|thumbnail! \r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Changes to the page title should be shown when comparing page versions"
    }
  },
  {
    "key": "CONFSERVER-64229",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T23:12:52.000+0000",
      "created": "2021-04-15T14:38:38.000+0000",
      "description": "h3. Problem\r\n\r\nXLSX files can cause OutOfMemoryError on Confluence server during the file conversion.\r\n\r\nh3. Environment\r\n\r\n* Confluence server\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Attach an XLSX file to a page\r\n#* The file used to replicate the problem had around 3.8k rows of floating-point numbers and around 80 graphs\r\n# Save the page\r\n# Try to preview the file by opening it\r\n\r\nh3. Expected Results\r\n\r\nThe file is converted and the preview loads without errors or memory pressure.\r\n\r\nh3. Actual Results\r\n\r\nHeap usage spikes instantly and this is observed in the application logs:\r\n{code}\r\n2021-04-15 10:38:15,534 ERROR [conversion-thread-0] [plugins.conversion.impl.TimeoutConversionRunnable] run Cannot convert. Execution error: \r\n -- referer: http://localhost:8090/pages/resumedraft.action?draftId=1111111&draftShareId=623dbdcd-53c4-49c9-9a2e-111111111& | url: /rest/tinymce/1/macro/placeholder | traceId: 6b0fe3c05047bce4 | userName: admin\r\njava.lang.OutOfMemoryError: Java heap space\r\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3689)\r\n    at java.base/java.util.ArrayList.grow(ArrayList.java:238)\r\n    at java.base/java.util.ArrayList.grow(ArrayList.java:243)\r\n    at java.base/java.util.ArrayList.add(ArrayList.java:486)\r\n    at java.base/java.util.ArrayList.add(ArrayList.java:499)\r\n    at com.aspose.cells.b.a.a.zf.a(Unknown Source)\r\n    at com.aspose.cells.ziz.c(Unknown Source)\r\n    at com.aspose.cells.ziz.a(Unknown Source)\r\n    at com.aspose.cells.ziz.a(Unknown Source)\r\n    at com.aspose.cells.ziz.a(Unknown Source)\r\n    at com.aspose.cells.ziz.b(Unknown Source)\r\n    at com.aspose.cells.zjf.aq(Unknown Source)\r\n    at com.aspose.cells.zav.n(Unknown Source)\r\n    at com.aspose.cells.zkq.b(Unknown Source)\r\n    at com.aspose.cells.Chart.F(Unknown Source)\r\n    at com.aspose.cells.zat.c(Unknown Source)\r\n    at com.aspose.cells.zat.a(Unknown Source)\r\n    at com.aspose.cells.zat.a(Unknown Source)\r\n    at com.aspose.cells.zat.a(Unknown Source)\r\n    at com.aspose.cells.zat.a(Unknown Source)\r\n    at com.aspose.cells.zat.b(Unknown Source)\r\n    at com.aspose.cells.zat.c(Unknown Source)\r\n    at com.aspose.cells.zat.a(Unknown Source)\r\n    at com.aspose.cells.a.d.zfo.a(Unknown Source)\r\n    at com.aspose.cells.zbzn.a(Unknown Source)\r\n    at com.aspose.cells.zbzn.a(Unknown Source)\r\n    at com.aspose.cells.zbzn.a(Unknown Source)\r\n    at com.aspose.cells.Workbook.a(Unknown Source)\r\n    at com.aspose.cells.Workbook.save(Unknown Source)\r\n    at com.aspose.cells.Workbook.save(Unknown Source)\r\n    at com.atlassian.plugins.conversion.convert.image.CellsConverter.convertToPDF(CellsConverter.java:139)\r\n    at com.atlassian.plugins.conversion.convert.image.CellsConverter.convertDocDirect(CellsConverter.java:113)\r\n{code}\r\n\r\nInspecting the heap dump, we can see a huge array with 354 million elements using most of the memory:\r\n\r\n !screenshot-IBM.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nIf you can't migrate to DC or if the migration will take a while to happen, one possibility to avoid this issue is to disable the conversion service. This can be achieved as follows:\r\n\r\n# Go to *Cog Icon > Add-ons*\r\n# Locate the *Confluence Document Conversion Library* system add-on\r\n# Disable the *File Conversions (file-conversions)* module\r\n\r\nThat will disable the file preview macro. It is also important to disable the Office Excel macro as follows:\r\n\r\n# Go to *Cog Icon > Add-ons*\r\n# Locate the *Office Connector plugin* system add-on\r\n# Disable the *viewxls (viewxls-legacy)* and *viewxls (viewxls)* modules\r\n\r\nIn that scenario, we have the conversion service disabled for all file types, so the Preview (view-file) macro will no longer work. Also, the Office Excel macro will be disabled, but other file types can still be previewed with their respective macros (Office Word, Office PowerPoint, and PDF).\r\n\r\nh3. Notes\r\n\r\nThis issue *does not affect Confluence Data Center* as the file conversion is handled on the external process pool:\r\n\r\n* https://confluence.atlassian.com/conf74/external-process-pool-for-confluence-data-center-1003129754.html\r\n\r\nAlso, this bug *does not* affect versions 7.10 and newer of Confluence server. This is due to an upgrade in the Aspose library which mitigates the memory pressure observed in older versions.",
      "summary": "XLSX file conversion service causes OutOfMemoryError on Confluence server"
    }
  },
  {
    "key": "CONFSERVER-64228",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T14:28:13.000+0000",
      "description": "h3. Issue Summary\r\nWhen you use Table of Content macro in Confluence page and export it to Word, it will creates unusable links on the Table of Content macro.\r\n\r\nh3. Steps to Reproduce\r\n # Add or edit a page\r\n # Click\u00a0_Insert >> Table of Content_\u00a0and confirm the default option\r\n # Insert some headers to the page (e.g. Heading 1 / Heading 2)\r\n # Save the page and notice the table of content will add anchor link to the header\r\n # Click\u00a0{{... >> Export to Word}}.\r\n # Open in Microsoft Office Word\r\n\r\nh3. Expected Results\r\nThe table of content should still work and redirect you to the relevant part of the page, or the links should be removed if they don't work.\r\n\r\nh3. Actual Results\r\nThe table of content has broken links and nothing happens when you click on them.\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Export a page to Word containing the Table of Content macro creates unusable link"
    }
  },
  {
    "key": "CONFSERVER-64227",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T14:16:44.000+0000",
      "description": "h3. Problem\r\n\r\nConfluence does not have the option to redirect the logout URL to another application.\r\n\r\n\u00a0\r\nh3. Why This Is Important\r\n\r\n_Customer want the ability to redirect the URL to their SSO IDP so when they logout from Confluence it also logs out of the idp._\u00a0",
      "summary": "Add the ability to redirect logout URL to SSO"
    }
  },
  {
    "key": "CONFSERVER-64166",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T05:46:55.000+0000",
      "description": "h3. Issue Summary\r\nWhen stopping confluence, a lot of HazelcastInstanceNotActiveException displayed in the log\r\n\r\nh3. Steps to Reproduce\r\n # Install Data Center with quick start template to AWS\r\n -- [https://aws.amazon.com/jp/quickstart/architecture/confluence/]\r\n # Set-up Confluence\r\n # Stop Confluence with below command:\r\n{code:java}\r\nsystemctl stop confluence{code}\r\n\r\nh3. Expected Results\r\nStop confluence without any ERROR or WARN\r\n\r\nh3. Actual Results\r\nDue to this, a lot of WARN and ERROR logs are shows like the below:\r\n{code:java}\r\n2021-04-02 04:27:49,129 WARN [hz.ShutdownThread] [com.hazelcast.instance.Node] log [10.0.58.118]:5801 [ConfluenceStack-G9DFCUQ1GEGM] [3.11.6] Terminating forcefully...\r\n -- referer: http://tsuzu-loadb-17k62n9big6q1-317243873.us-east-1.elb.amazonaws.com/setup/dosetuplicense.action | url: /setup/setupcluster.action | traceId: 00f8defa4b31b4c1 | userName: anonymous | action: setupcluster\r\n2021-04-02 04:27:49,175 ERROR [Catalina-utility-3] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.confluence.event.events.security.LogoutEvent[source=com.atlassian.confluence.user.listeners.UserSessionExpiryListener@37b7a473]] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.confluence.extra.userlister.UserListener.handleLogoutEvent(com.atlassian.confluence.event.events.security.LogoutEvent), listener=com.atlassian.confluence.extra.userlister.UserListener@48a6d514} (timed)]\r\njava.lang.RuntimeException: Problem retrieving a value from cache com.atlassian.confluence.extra.userlister.DefaultUserListManager. Listener: com.atlassian.confluence.extra.userlister.UserListener event: com.atlassian.confluence.event.events.security.LogoutEvent\r\n        at com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:57)\r\n...\r\nCaused by: com.hazelcast.core.HazelcastInstanceNotActiveException: Hazelcast instance is not active!\r\n        at com.hazelcast.spi.impl.operationservice.impl.InvocationRegistry.register(InvocationRegistry.java:128)\r\n{code}\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "When stopping confluence, a lot of HazelcastInstanceNotActiveException displayed in the log"
    }
  },
  {
    "key": "CONFSERVER-64113",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T03:35:18.000+0000",
      "description": "h3. Issue Summary\r\nTeam Calendars and Analytics for Confluence show as \"User-installed apps\" for Confluence Server. If either is uninstalled, then upon upgrading Confluence the app will be re-installed. \r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence Server 7.11+ \r\n # Uninstall Team Calendars of Analytics for Confluence\r\n # Upgrading Confluence Server\r\n # Navigate to \"Manage Apps\"\r\n\r\nh3. Expected Results\r\nTeam Calendars and Analytics for Confluence should remain uninstalled. \r\n\r\nh3. Actual Results\r\nTC and AfC are installed again. \r\n !image-2021-04-15-13-35-12-847.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Team Calendars and Analytics for Confluence are reinstalled upon upgrading Confluence Server"
    }
  },
  {
    "key": "CONFSERVER-64112",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T07:04:40.000+0000",
      "created": "2021-04-15T03:32:11.000+0000",
      "description": "h3. Issue Summary\r\nTeam Calendars is installed as a bundled add on in Confluence Server 7.11+. If the user does not have a license then TeamCal will be enabled but unusable. However the Team Calendars web resources will be loaded in the editor context regardless. \r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.11+\r\n # Navigate to the editor\r\n\r\nh3. Expected Results\r\nTC is unlicensed and unusable. We should not be loading unecessary resources. \r\n\r\nh3. Actual Results\r\nWe can see all the TC web resources being loaded\r\n\r\nh3. Workaround\r\n\r\nDisable Team Calendars from \"Manage apps\" ",
      "summary": "Team Calendars loads resources in the page/editor/dashboard when unlicensed"
    }
  },
  {
    "key": "CONFSERVER-64111",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T22:46:53.000+0000",
      "description": "Customers would like to be able to edit MS Office Docs on the Confluence Mobile app (iOS and Android), and currently this appears to be view-only.\u00a0",
      "summary": "Edit MS Office Docs on Confluence Mobile (iOS and Android)"
    }
  },
  {
    "key": "CONFSERVER-63974",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T15:28:08.000+0000",
      "description": "hi guys, we recently updated confluence (server) to a version\u00a07.4.6 and realised after the update, that is now possible, to move / reorder pages in the page tree directly via drag & drop. It is not possible though to undo the reodering, nor do you get as a user a proper \"response\" from confluence, that you did this change. Very many user at our company (2.000 licenses) are confused.\r\n\r\nis there any way to deactivate this feature? or can a user \"undo\" the reorder? or can you improve the user experience somehow in this case?\r\n\r\nThx\r\n\r\nLilien",
      "summary": "deactivate page reordering in the page tree (drag & drop) or improve usability"
    }
  },
  {
    "key": "CONFSERVER-63973",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T13:35:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen creating a page from a custom Global Template that requires drop down variables a draft is created and does not get removed automatically.\r\n\r\nTypically when a Confluence page is created a draft is also created, this draft gets removed as soon as the user publish the page. However, if a user creates a page using a template that requires variables such as drop down, two drafts are created.\r\n\r\nNormally for these kind of pages, a wizard-like process is presented to the user. The first step requires the user to choose the values of the variables (for examples a value from the drop down). The second step of the wizard, is the actual content of the page.\r\n\r\nThe first draft is created on step one above, and the second draft is created on the second step. When page is finally saved by the user, one of the drafts get removed, however, the other remains and can be accessible through\u00a0*Profile > Drafts*\r\nh3. Steps to Reproduce\r\n # Create a custom template with a drop down variable.\r\n # Create a new page using the said template\r\n # A wizard-like process will be activated and the first page of the wizard is displayed to the user where they can select the values of the drop down.\u00a0 (Do not click Next, yet)\r\n # On a different tab, navigate to\u00a0*Profile > Drafts*\u00a0notice the new draft related to this page created.\u00a0\r\n # Head back to the wizard from step 3 above, and click *Next*\r\n # The second page of the wizard is displayed which is a normal Confluence page\r\n # On a different tab, navigate to\u00a0*Profile > Drafts*\u00a0notice that a second new draft related to this page created. At this point we have two drafts related to this newly created page. (see image below)\r\n # Head back to the page from step 6 above and\u00a0*publish the page*\r\n # On a different tab, navigate to\u00a0*Profile > Drafts*\u00a0notice that one of the drafts was removed but the other one remains.\r\n\r\n\u00a0\r\n\r\n!Screenshot 2021-04-14 at 15.35.53.png|thumbnail!\r\nh3. Expected Results\r\n\r\nBoth drafts are removed once the page is\u00a0*Published*\u00a0\u00a0\r\nh3. Actual Results\r\n\r\nOnly one draft is removed\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "When creating a page from a custom Global Template that requires drop down variables an extra draft is created and does not get removed automatically"
    }
  },
  {
    "key": "CONFSERVER-63952",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T13:05:06.000+0000",
      "description": "It would be important to have a feature that allows centralizing all the Confluence Questions on a single place or space determined by the admin.\r\n\r\nThis would allow the Confluence admins to better manage the questions and make sure all the questions are being made in the right place so they can be monitored, answered, or audited.",
      "summary": "Centralize all the Confluence Questions in a single place/space"
    }
  },
  {
    "key": "CONFSERVER-63837",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T07:09:27.000+0000",
      "description": "Hi,\r\n\r\nwe are using confluence for nationally funded projects in Germany ([https://confluence.vdali.de/).\u00a0|https://confluence.vdali.de/)]\r\n\r\nThis confluence page ist used for several projects using space privacy. Now we would like to buy additionally the chat tool. But the chat app allows chatting accross the the different projects and let you see all other project members. This does not comply with data protection (DSGVO) for which we cannot buy the chat app!\r\n\r\nI suggest to sync space privacy and the chat tool. If you agree, can you give a timeline?\r\n\r\nBR,\r\n\r\nGerhard Schunk, Valeo Schalter und Sensoren GmbH, Germany\r\n\r\n\u00a0",
      "summary": "Confluence chat app does not work well with space privacy"
    }
  },
  {
    "key": "CONFSERVER-63715",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-26T06:11:55.000+0000",
      "created": "2021-04-13T19:14:35.000+0000",
      "description": "h3. Issue Summary\r\nTable macro drops columns and tables not pulling values when an apostrophe (') is in the header\r\n\r\nh3. Steps to Reproduce\r\n # Create a simple table within the page properties macro with one column header that has an apostrophe such as the example below:\r\n !tableinpageproperitesmacro.png|thumbnail! \r\n # Create a page properties report macro for this table like the example below:\r\n !pagepropertiesmacro.png|thumbnail! \r\n\r\nh3. Expected Results\r\nThe\u00a0table Macro should pull values with an apostrophe in the header\r\n\r\nh3. Actual Results\r\nIt does not pull values from the column header that has an apostrophe\r\n\r\nh3. Workaround\r\nNot using an apostrophe in the page properties macro will pull these values",
      "summary": "Page properties macro not pulling values when an apostrophe (') is in the header"
    }
  },
  {
    "key": "CONFSERVER-63700",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-11T13:14:57.000+0000",
      "created": "2021-04-13T00:08:19.000+0000",
      "description": "Provide some sort of fix to address already broken data caused by https://jira.atlassian.com/browse/CONFSERVER-60526.\r\n This includes only attachments that are broken in storage format by due to an additional ri:content-entity tag which links to current shared draft.\r\n\r\ni.e.:\r\n{code:java}\r\n<p>\r\n  <ac:image>\r\n    <ri:attachment ri:filename=\"image2020-10-21_12-40-38.png\">\r\n      <ri:content-entity ri:content-id=\"138910055\"/>\r\n    </ri:attachment>\r\n  </ac:image>\r\n</p>\r\n{code}\r\nFor the workaround to fix attachments which have been replaced by an known attachment placeholder, see: https://jira.atlassian.com/browse/CONFSERVER-63615",
      "summary": "Provide workaround for fixing unknown attachment placeholder with ri:content-entity"
    }
  },
  {
    "key": "CONFSERVER-63699",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-12T08:32:20.000+0000",
      "description": "Hello,\r\n\r\nOur infrastruture departement ask us about a possible migration from oracle 12-19 to PosGres 13.\r\n\r\n\u00a0\r\n\r\nApparently, Atlassian only support Posgres 9.6 and 10.\r\n\r\n\u00a0\r\n\r\nDo you plan on making PostGres compatible with Confluence Atlassian product ?\r\n\r\n\u00a0\r\n\r\nWe actually use a server licence. We should by end of 2023 migrate to data-center. Not sur right now.\r\n\r\n\u00a0\r\n\r\nThanks for any condideration and support\r\n\r\n\u00a0\r\n\r\nMichael\r\n\r\n\u00a0",
      "summary": "Postgres 13"
    }
  },
  {
    "key": "CONFSERVER-63645",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T21:49:49.000+0000",
      "description": "h3. Problem\r\n\r\nAs a user of the Confluence Roadmap Planner macro, I would like to do the following activities:\r\n\r\n- create a new bar in a specific lane instead of always placing it in the topmost one\r\n- change bar style to greyed out or dotted line border to symbolize future/not committed etc items\r\n- set start and end dates per bar item so they can be automatically placed on the timeline\r\n- match lane height to items in current \"view by\" timeline only\r\n- marker that's always placed at the current date\r\n\r\nh3. Why This Is Important\r\n\r\nThese are usability and functionality enhancements to better improve the behavior of the macro.\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround currently available for these feature requests.",
      "summary": "Request for plugin improvements - Confluence Roadmap Planner"
    }
  },
  {
    "key": "CONFSERVER-63619",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T19:22:55.000+0000",
      "description": "h3. Issue Summary\r\nIncorrect MISS/EVICTED reporting on Cache Statistics page for distributed caches, always reads 0. Misses should always be registered at one point or another since some objects being searched for in caches will sometimes not exist (for instance: new pages, new users, etc). This will be flagged as a MISS for the first lookup and a HIT for the subsequent lookup after that. \r\n\r\nThis doesn't appear to be the case and all MISSES and EVICTIONS always read 0.\r\n\r\nh3. Steps to Reproduce\r\n # Standup a DC cluster with 2 DC nodes or more.\r\n # Navigate to the Cache Statistics page\r\n\r\nh3. Expected Results\r\nThe distributed caches report accurate misses and evictions for all nodes.\r\n\r\nh3. Actual Results\r\nThe distributed caches report only 0 for misses and evictions for all nodes.\r\n\r\nh3. Workaround\r\n Currently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Incorrect MISS/EVICTED reporting on Cache Statistics page for distributed caches"
    }
  },
  {
    "key": "CONFSERVER-63618",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T17:42:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nClicking go to included page on a page in include-page-macro with a pipe ( | ) character in the title results in a page not found\r\nh3. Steps to Reproduce\r\n # Create a page with a pipe ( | ) character in the title, eg \"Test|Character\".\r\n # Create a second page and use the \"Include Page\" Macro to link to the first page.\r\n # In edit mode, click on the macro placeholder and click \"Go to included page\".\r\n\r\nh3. Expected Results\r\n\r\nYou will be redirect to the included page.\r\nh3. Actual Results\r\n\r\nHTTP 404\r\n Page not Found\r\nh3. Workaround\r\n\r\nNo workaround.",
      "summary": "'Go To Included Page' button reports 'page not found' if linked page title contains a pipe character (|)"
    }
  },
  {
    "key": "CONFSERVER-63617",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T16:47:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nA Confluence page with an Advanced Roadmaps Plan macro shows a timezone pop every time you visit.\r\nh4. Environment\r\n\r\nTested with:\r\n{panel:title=first environment}\r\nConfluence 6.15.10 + Advanced Roadmaps for Jira in Confluence 1.2.2\r\n Jira 8.5.3 + Advanced Roadmaps for Jira 3.29.4/3.29.6\r\n{panel}\r\n{panel:title=second environment}\r\nConfluence 7.9.1 + Advanced Roadmaps for Jira in Confluence 1.2.2\r\n Jira 8.13.2 + Advanced Roadmaps for Jira 3.29.4\r\n{panel}\r\nh3. Steps to Reproduce\r\n # Install Jira + Advanced Roadmaps for Jira app\r\n # Install Confluence + Advanced Roadmaps for Jira in Confluence app\r\n # Change the default Jira timezone to be different from your own system\r\n # Create a reciprocal application link between Jira and Confluence\r\n # Create a plan using Advanced Roadmaps for Jira on the Jira side\r\n # After creating the plan, click \"*Share*\"\r\n # Select the Confluence from the opened panel, click the \"Generate link\" and copy the URL.\r\n # Create a page on Confluence\r\n # Add {{Advanced Roadmaps Plan macro}} and use the generated URL from the previous step\r\n # Publish the page\r\n # You can see a timezone popup when the page loads.\r\n # Click the X to close the popup\r\n # Refresh the page\r\n\r\nh3. Expected Results\r\n\r\nThe popup will not appear every time we visit the page.\r\nh3. Actual Results\r\n\r\nThe popup will every time we visit the page.\r\n\r\nA session variable named {{dismissedFlags}} is flicking with a value when you click the X on the popup. Please see the video.\r\n\r\n[^Screen Recording 2021-04-09 at 06.36.18 PM.mp4]\r\n\r\nThe flicking value for the {{dismissedFlags}} session variable:\r\n{code:java}\r\n[\\\"com.atlassian.jira.tzdetect.3600000,7200000\\\"]\r\n{code}\r\n!dismissedFlags.jpg|thumbnail! \r\n\r\nh3. Workaround\r\n\r\n*Option-1* Change your timezone on your Jira profile to match your system's timezone.\r\n*Option-2* You may hide the popup for system-wide by disabling the {{Jira Time Zone Detection plugin}} system plugin from the *Manage apps* page. ",
      "summary": "Advanced Roadmaps Plan macro displays timezone popup each time the page visited"
    }
  },
  {
    "key": "CONFSERVER-63616",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T15:06:46.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAdding an extra forward slash '/' in the download attachment URL results in a stack trace.\r\nh3. Steps to Reproduce\r\n # Append an extra slash to a download attachment URL, similar to this:\r\n{code:java}\r\nhttp://<base_url>:<port>/<context_path>//download/attachments\r\n{code}\r\n\r\nh3. Expected Results\r\nA 'page not found', 404 or similar error displays.\r\n\r\nh3. Actual Results\r\nA stack trace is thrown pointing to an NPE:\r\n{code}\r\njava.lang.NullPointerException\r\n\tat com.atlassian.confluence.servlet.download.AttachmentDownload.getStreamForDownload(AttachmentDownload.java:118)\r\n\tat com.atlassian.confluence.servlet.download.ServeAfterTransactionDownload$StreamResultCallback.doInTransaction(ServeAfterTransactionDownload.java:111)\r\n\tat com.atlassian.confluence.servlet.download.ServeAfterTransactionDownload$StreamResultCallback.doInTransaction(ServeAfterTransactionDownload.java:94)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.confluence.servlet.download.ServeAfterTransactionDownload.getStreamInTransaction(ServeAfterTransactionDownload.java:39)\r\n\tat com.atlassian.confluence.servlet.download.ServeAfterTransactionDownload.serveFile(ServeAfterTransactionDownload.java:45)\r\n\tat com.atlassian.plugin.servlet.AbstractFileServerServlet.doGet(AbstractFileServerServlet.java:28)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.DebugFilter.doFilter(DebugFilter.java:46)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.image.effects.ImageFilterFilter.doFilter(ImageFilterFilter.java:43)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.plugins.baseurl.IncludeResourcesFilter.doFilter(IncludeResourcesFilter.java:52)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n{code}\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Adding an extra forward slash '/' in the download attachment URL results in a stack trace."
    }
  },
  {
    "key": "CONFSERVER-63615",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-26T03:01:32.000+0000",
      "created": "2021-04-09T13:10:28.000+0000",
      "description": "{panel:title=Atlassian Update - 10 June 2021|borderStyle=solid|borderColor=#6554c0|titleBGColor=#6554c0|bgColor=#eae6ff|titleColor=#ffffff}\r\nWe've released an app for Confluence that will begin to resolve a number of the missing attachment issues being seen by customers. The app attempts to automatically repair attachments, and provides some \"quality of life\" improvements when attachments cannot be automatically repaired.\r\n\r\nThere are currently a number of limitations with the app and it is important that you are aware of these limitations. We have documented the functionality of the app at [Unknown attachment error in Confluence Server and Data Center 7.12 and earlier|https://confluence.atlassian.com/confkb/unknown-attachment-error-in-confluence-server-and-data-center-7-12-and-earlier-1063179837.html] and strongly encourage reading this page in full prior to installing the app.\r\n\r\nOur focus here was on getting a partial fix out to repair as many pages as possible and avoid pages entering an irreparable state when edited. We are capturing additional analytics to understand the impact of this issue and assess the best path forward to providing a broader fix.\r\n\r\nThe app can be downloaded from [Reconcile Unknown Attachments \\- Atlassian Marketplace|https://marketplace.atlassian.com/apps/1225406/reconcile-unknown-attachments?hosting=server&tab=overview]\r\n\r\nWe are working to have a Data Center approved version of the app available in coming days, but this app should work for Data Center customers in the interim.\r\n{panel}\r\nCurrently, unknown attachments issue stands has high User Impact and it has resulted in pages broken on customer sites. This has caused a lot of support and customer pain leading to admins manually fixing pages. \r\n\r\nAs an admin, I would like to restore pages/shared-drafts which has unknown-placeholder in creeped into editor format.\r\n\r\nThis ticket tracks the fix to address already broken data caused by https://jira.atlassian.com/browse/CONFSERVER-55928. \r\nThis includes only attachments that are broken in storage format due to being replaced with an unknown-attachment placeholder:\r\n\r\n* Broken format in storage for broken pages by \"Unknown Placeholder\" (Covered by this ticket):\r\n{code:java}\r\n<p>\r\n <ac:image>\r\n  <ri:url ri:value=\"http://localhost:5990/confluence/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_GB&amp;version=2\" />\r\n </ac:image>\r\n</p>\r\n{code}\r\n*  \"<ri content-entity> broken links\" issue storage format (Covered by https://jira.atlassian.com/browse/CONFSERVER-63700):\r\n{code:java}\r\n<p>\r\n  <ac:image>\r\n    <ri:attachment ri:filename=\"image2020-10-21_12-40-38.png\">\r\n      <ri:content-entity ri:content-id=\"138910055\"/>\r\n    </ri:attachment>\r\n  </ac:image>\r\n</p>\r\n{code}",
      "summary": "Provide workaround for fixing broken unknown attachment placeholder in storage format"
    }
  },
  {
    "key": "CONFSERVER-63557",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T11:18:17.000+0000",
      "description": "h3. Problem\r\n\r\nLighter colours of the event background make text to un-readable.\r\n!image-2021-04-09-16-46-37-396.png|width=294,height=144!\r\nh3. Suggested Solution\r\n\r\nThere should be option to change the text colour when the highlighted colour is light .\r\n\r\n\u00a0",
      "summary": "Font and background colours"
    }
  },
  {
    "key": "CONFSERVER-63556",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T08:11:37.000+0000",
      "description": "When editing a page, Confluence will only allow you to mention users (starting with \"@\") that are cosuming a Confluence license. For example, in our organization Confluence is used for recording meeting minutes and many meeting participants are not active Confluence users. So it would be very unfair to need more licenses just to be able to mention them in a page that can also be viewed by any anonymous user (if the page is not public, the mentioned user needs to login anyway).\r\n\r\nI believe this feature could even attract more users to Confluence over time, as they may be motivated to login for commenting or correcting pages where they were mentioned.",
      "summary": "Ability to mention users that are not consuming a license"
    }
  },
  {
    "key": "CONFSERVER-63555",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T08:02:49.000+0000",
      "description": "The current \"Admin\" space permission covers a lot of activities with diferent criticality. For example, the ability to delete spaces is an extremely dangerous permission, while the ability to create page templates is is a harmless permission.\r\n\r\nMy suggestion is to make 3 dedicated space permissions out of the current space \"Admin\" permission:\r\n # A dedicated permission for deleting spaces (for avoiding unintentional space deletions).\r\n # A dedicated permission for managing users and their permissions (for better space governance).\r\n # A dedicated permission for all remaining tasks covered by the current space \"Admin\" permission.\r\n\r\nFor the dedicated permission number 1, another option could be to move it from space level to server level, allowing only server admins to delete spaces.",
      "summary": "Fine-grained Space Admin Permissions"
    }
  },
  {
    "key": "CONFSERVER-63536",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-08T21:32:45.000+0000",
      "description": "Jira currently has an Issue Collector that's widely used to create Jira Issues from within any web page.\r\n\r\nIt would be useful to have a Page Collector, not unlike Jira's Issue Collector, for Confluence, where a page could be created in a given Confluence Space, based on simple parameters, with a button that can be applied to any web page.\r\n\r\n[https://confluence.atlassian.com/adminjiraserver/using-the-issue-collector-938847338.html]",
      "summary": "Page Collector "
    }
  },
  {
    "key": "CONFSERVER-63527",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-17T08:10:34.000+0000",
      "created": "2021-04-08T17:08:28.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence times out when performing permission checks for a page with lots of attachments macros. \r\n\r\n(i) Improve the performance of searchGroupedByName method.\r\n\r\nh3. Steps to Reproduce\r\n# Add a page with several attachment macros referencing attachments on current page and other pages. \r\n# Publish page\r\n# View page. \r\n\r\nh3. Expected Results\r\nThe page loads within a resemble time. \r\n\r\nh3. Actual Results\r\n\r\nPage eventually times out with error. \r\n\r\nThe below thread dump captures the time spent loading the page:\r\n\r\n{noformat}\r\n\"http-nio-8090-exec-2\" #226 daemon prio=5 os_prio=0 cpu=1205421.88ms elapsed=180041.76s tid=0x000000003e65c000 nid=0xb90 runnable  [0x00000000560ce000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat org.hibernate.type.AbstractStandardBasicType.isEqual(AbstractStandardBasicType.java:198)\r\n\tat org.hibernate.type.AbstractStandardBasicType.isSame(AbstractStandardBasicType.java:186)\r\n...\r\n\tat com.atlassian.crowd.embedded.hibernate2.GroupingHibernateSearch.doInHibernate(GroupingHibernateSearch.java:61)\r\n...\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.searchGroupRelationshipsGroupedByName(AbstractInternalDirectory.java:890)\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.searchGroupRelationshipsGroupedByName(DbCachingRemoteDirectory.java:1154)\r\n\tat com.atlassian.crowd.manager.directory.RemoteDirectorySearcher.searchDirectGroupRelationshipsGroupedByName(RemoteDirectorySearcher.java:97)\r\n\tat com.atlassian.crowd.manager.directory.RemoteDirectorySearcher.lambda$nestedGroupsProvider$3(RemoteDirectorySearcher.java:220)\r\n\tat com.atlassian.crowd.manager.directory.RemoteDirectorySearcher$$Lambda$1764/0x000000080240a840.getDirectlyRelatedGroups(Unknown Source)\r\n\tat com.atlassian.crowd.manager.directory.nestedgroups.NestedGroupsProviderImpl.getDirectlyRelatedGroups(NestedGroupsProviderImpl.java:26)\r\n\tat com.atlassian.crowd.manager.directory.nestedgroups.NestedGroupsIterator.fetchRelatedGroups(NestedGroupsIterator.java:40)\r\n\tat com.atlassian.crowd.manager.directory.nestedgroups.NestedGroupsIterator.fetchNextIfNeeded(NestedGroupsIterator.java:65)\r\n\tat com.atlassian.crowd.manager.directory.nestedgroups.NestedGroupsIterator.hasNext(NestedGroupsIterator.java:50)\r\n\tat com.atlassian.crowd.manager.directory.nestedgroups.NestedGroupsIterator.anyMatch(NestedGroupsIterator.java:82)\r\n\tat com.atlassian.crowd.manager.directory.RemoteDirectorySearcher.isUserNestedGroupMember(RemoteDirectorySearcher.java:135)\r\n\tat com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.isUserNestedGroupMember(DirectoryManagerGeneric.java:807)\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric$3.fallibleCheckForEntity(ApplicationServiceGeneric.java:1050)\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric$DirectoryPredicate.apply(ApplicationServiceGeneric.java:1015)\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric$DirectoryPredicate.apply(ApplicationServiceGeneric.java:1011)\r\n...\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric.isUserNestedGroupMember(ApplicationServiceGeneric.java:1528)\r\n\tat com.atlassian.crowd.embedded.core.CrowdServiceImpl.isUserMemberOfGroup(CrowdServiceImpl.java:230)\r\n...\r\n\tat com.atlassian.confluence.security.ContentPermission.isPermitted(ContentPermission.java:150)\r\n\tat com.atlassian.confluence.security.ContentPermissionSet.isPermitted(ContentPermissionSet.java:76)\r\n\tat com.atlassian.confluence.core.DefaultContentPermissionManager.hasInheritedContentLevelViewPermissions(DefaultContentPermissionManager.java:247)\r\n\tat com.atlassian.confluence.core.DefaultContentPermissionManager.hasContentLevelPermission(DefaultContentPermissionManager.java:174)\r\n...\r\n\tat com.atlassian.confluence.security.delegate.PagePermissionsDelegate.hasContentLevelViewPermission(PagePermissionsDelegate.java:123)\r\n\tat com.atlassian.confluence.security.delegate.PagePermissionsDelegate.canView(PagePermissionsDelegate.java:20)\r\n\tat com.atlassian.confluence.security.delegate.PagePermissionsDelegate.canView(PagePermissionsDelegate.java:13)\r\n\tat com.atlassian.confluence.security.delegate.TargetToLatestVersionDecorator.canView(TargetToLatestVersionDecorator.java:24)\r\n\tat com.atlassian.confluence.security.delegate.SharedAccessInterceptor$$Lambda$3158/0x000000080309f040.test(Unknown Source)\r\n\tat com.atlassian.confluence.security.delegate.SharedAccessInterceptor.checkAccess(SharedAccessInterceptor.java:87)\r\n\tat com.atlassian.confluence.security.delegate.SharedAccessInterceptor.canView(SharedAccessInterceptor.java:25)\r\n\tat com.atlassian.confluence.security.Permission$1.checkAgainst(Permission.java:17)\r\n\tat com.atlassian.confluence.security.DefaultPermissionManager.hasPermissionNoExemptions(DefaultPermissionManager.java:100)\r\n\tat com.atlassian.confluence.security.delegate.AttachmentPermissionsDelegate.canCreate(AttachmentPermissionsDelegate.java:120)\r\n\tat com.atlassian.confluence.security.DefaultPermissionManager.hasCreatePermission(DefaultPermissionManager.java:115)\r\n...\r\n{noformat}\r\n\r\nh3. Notes\r\nFastpermissions didn't help in this instance. \r\n\r\nh3. Workaround\r\n\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Viewing a large page with  attachments macro  causes slow loads and timeouts. "
    }
  },
  {
    "key": "CONFSERVER-63523",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-08T06:56:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf the attachment is displayed via Office macro and the macro is formatted as bold, the macro won't render and the UI will show only a spinning wheel as if it were loading.\r\n\r\nh3. Steps to Reproduce\r\n# Edit a page with an attached Office file (xls/xlsx, doc/docx etc.)\r\n# Insert an Office macro according to the attached document (for example, [Office Excel Macro|https://confluence.atlassian.com/doc/office-excel-macro-375849173.html])\r\n# Select the Excel Macro and select bold from the text format panel\r\n(i) This will add {{*<strong>*}} tag around the macro\r\n# Save the page\r\n\r\nh3. Expected Results\r\nOffice macro to render the attachments without issues.\r\n\r\nh3. Actual Results\r\nOffice macro can't render the attachments and a javascript error is thrown in the console log:\r\n\r\n{noformat}\r\nFailed to run init function: Unexpected token < in JSON at position 0 \u0192 (a){a(\"div.converter-macro-ajax-container\").each(function(){var b=a(this),c=a.parseJSON(e.unescape(b.find(\".converter-macro-parameters\")[0].innerHTML));b.find(\".converter-macro-file-name\").text(c.nam\u2026 SyntaxError: Unexpected token < in JSON at position 0\r\n    at JSON.parse (<anonymous>)\r\n    at Function.E.parseJSON (batch.js?locale=en-GB:64)\r\n    at Function.u.parseJSON (batch.js?locale=en-GB:285)\r\n    at HTMLDivElement.<anonymous> (com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources.js?locale=en-GB:5)\r\n    at Function.each (batch.js?locale=en-GB:33)\r\n    at u.fn.init.each (batch.js?locale=en-GB:29)\r\n    at com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources.js?locale=en-GB:5\r\n    at batch.js?locale=en-GB:2336 SyntaxError: Unexpected token < in JSON at position 0\r\n    at JSON.parse (<anonymous>)\r\n    at Function.E.parseJSON (http://localhost:27112/c7112/s/f59f3d0ebd727f8430927257d7c31d35-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/4a7ee1c57b03455f1f74ef6c18d827e5/_/download/contextbatch/js/_super/batch.js?locale=en-GB:64:24782)\r\n    at Function.u.parseJSON (http://localhost:27112/c7112/s/f59f3d0ebd727f8430927257d7c31d35-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/4a7ee1c57b03455f1f74ef6c18d827e5/_/download/contextbatch/js/_super/batch.js?locale=en-GB:285:3752)\r\n    at HTMLDivElement.<anonymous> (http://localhost:27112/c7112/s/48fb512fdd6805e502f383535de1a411-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/11.4.3/_/download/batch/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources.js?locale=en-GB:5:251)\r\n    at Function.each (http://localhost:27112/c7112/s/f59f3d0ebd727f8430927257d7c31d35-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/4a7ee1c57b03455f1f74ef6c18d827e5/_/download/contextbatch/js/_super/batch.js?locale=en-GB:33:1304)\r\n    at u.fn.init.each (http://localhost:27112/c7112/s/f59f3d0ebd727f8430927257d7c31d35-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/4a7ee1c57b03455f1f74ef6c18d827e5/_/download/contextbatch/js/_super/batch.js?locale=en-GB:29:998)\r\n    at http://localhost:27112/c7112/s/48fb512fdd6805e502f383535de1a411-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/11.4.3/_/download/batch/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources.js?locale=en-GB:5:217\r\n    at http://localhost:27112/c7112/s/f59f3d0ebd727f8430927257d7c31d35-CDN/ce33zg/8701/9e64ae2e14b2a9149d6e55bc661fa83d63f4f188/4a7ee1c57b03455f1f74ef6c18d827e5/_/download/contextbatch/js/_super/batch.js?locale=en-GB:2336:488\r\n{noformat}\r\n\r\n !officemacro-bug.jpg|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nRemoving the format (bold) fixes the issue.\r\n\r\nh3. Information\r\nIf there are multiple Excel Macros in the page, having any one of them _bolded_ will cause the rest of the excel coming below it to encounter the issue as well",
      "summary": "Office Macros in Confluence don't render document preview if the macro is formatted as bold"
    }
  },
  {
    "key": "CONFSERVER-63485",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T07:04:43.000+0000",
      "created": "2021-04-08T00:47:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\n[Handy Macro|https://marketplace.atlassian.com/apps/1214971/handy-macros-for-confluence?hosting=cloud&tab=overview] could not render properly when it is in Page Property Report header\r\nh3. Steps to Reproduce\r\n # Prepare a page which has page property macro and Handy Macro in the page property macro header\r\n # Prepare a page which has page property macro report which include a page above\r\n\r\nh3. Expected Results\r\n\r\nHandy Macro should be rendered normally\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the log file:\r\n{noformat}\r\njava.lang.IllegalArgumentException: Could not check permissions for page: M-14 Task  Management v.1 (99485115) no suitable delegate found.\r\n  at com.atlassian.confluence.security.DefaultPermissionManager.findDelegateFor(DefaultPermissionManager.java:271)\r\n  at com.atlassian.confluence.security.DefaultPermissionManager.hasPermissionNoExemptions(DefaultPermissionManager.java:100)\r\n  at com.atlassian.confluence.security.DefaultPermissionManager.hasPermission(DefaultPermissionManager.java:48)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor812.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n  at com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n  at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n  at com.sun.proxy.$Proxy118.hasPermission(Unknown Source)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor812.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n  at com.sun.proxy.$Proxy278.hasPermission(Unknown Source)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor812.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:131)\r\n  at com.sun.proxy.$Proxy278.hasPermission(Unknown Source)\r\n  at com.stiltsoft.confluence.handy.macros.manager.PermissionManager.hasPermission(PermissionManager.java:65)\r\n  at com.stiltsoft.confluence.handy.macros.manager.PermissionManager.hasPageEditPermission(PermissionManager.java:53)\r\n  at com.stiltsoft.confluence.handy.macros.transformer.HandyTransformer.shouldTransform(HandyTransformer.java:109)\r\n  at com.stiltsoft.confluence.handy.macros.transformer.HandyTransformer.transform(HandyTransformer.java:60)\r\n{noformat}\r\nh3. Workaround\r\n\r\nN/A",
      "summary": "Handy Macro could not render in Page Property Report header"
    }
  },
  {
    "key": "CONFSERVER-63279",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T00:39:10.000+0000",
      "created": "2021-04-07T14:13:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Personal Access Token feature doesn\u2019t work in Confluence 7.11.2 running with the MSSQL database\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.11.2 with MSSQL database\r\n # Select your profile picture at top right of the screen, then choose\u00a0\u00a0*Settings*\u00a0>\u00a0*Personal Access Tokens*\u00a0\r\n\r\nh3. Expected Results\r\n\r\nYou should be able to create the Personal Access Token\r\nh3. Actual Results\r\n\r\nThe below exception is seen in the atlassian.confluence.log file:\r\n{code:java}\r\n2021-04-07 16:00:00,056 ERROR [Caesium-1-3] [atlassian.pats.jobs.ExpiryDateTokenCheckEventJob] lambda$publishEventsAboutExpiredTokens$0 Caught error fetching expired tokens\r\n -- referer: http://localhost:27112/c7112/setup/setupdata-start.action | url: /c7112/setup/setupdata.action | traceId: d0ac830aa374f424 | userName: anonymous | action: setupdata\r\n2021-04-07 16:00:00,056 ERROR [Caesium-1-3] [impl.schedule.caesium.JobRunnerWrapper] runJob Scheduled job ExpiryDateTokenCheckEventJob#ExpiryDateTokenCheckEventJob failed to run\r\n -- referer: http://localhost:27112/c7112/setup/setupdata-start.action | url: /c7112/setup/setupdata.action | traceId: d0ac830aa374f424 | userName: anonymous | action: setupdata\r\ncom.querydsl.core.QueryException: Caught SQLServerException for select \"AO_81F455_PERSONAL_TOKEN\".\"CREATED_AT\", \"AO_81F455_PERSONAL_TOKEN\".\"NAME\", \"AO_81F455_PERSONAL_TOKEN\".\"EXPIRING_AT\", \"AO_81F455_PERSONAL_TOKEN\".\"ID\", \"AO_81F455_PERSONAL_TOKEN\".\"LAST_ACCESSED_AT\", \"AO_81F455_PERSONAL_TOKEN\".\"HASHED_TOKEN\", \"AO_81F455_PERSONAL_TOKEN\".\"TOKEN_ID\", \"AO_81F455_PERSONAL_TOKEN\".\"USER_KEY\", \"AO_81F455_PERSONAL_TOKEN\".\"NOTIFICATION_STATE\" from \"null\".\"AO_81F455_PERSONAL_TOKEN\" \"AO_81F455_PERSONAL_TOKEN\" where \"AO_81F455_PERSONAL_TOKEN\".\"EXPIRING_AT\" < ? and (\"AO_81F455_PERSONAL_TOKEN\".\"NOTIFICATION_STATE\" in (?, ?))\r\n\tat com.querydsl.sql.DefaultSQLExceptionTranslator.translate(DefaultSQLExceptionTranslator.java:50)\r\n\tat com.querydsl.sql.Configuration.translate(Configuration.java:459)\r\n\tat com.querydsl.sql.AbstractSQLQuery.fetch(AbstractSQLQuery.java:502)\r\n\tat \r\n...\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'null.AO_81F455_PERSONAL_TOKEN'.\r\n{code}\r\nh3. Workaround\r\n\r\nThis requires downgrading the Personal Access Token (PAT) plugin which may not be compatible with 7.11.2\r\n # Stop Confluence 7.11.2\r\n # Copy/Download the\u00a0[pats-plugin-1.0.3.jar^!https://getsupport.atlassian.com/images/icons/link_attachment_7.gif|width=7,height=7!^|https://getsupport.atlassian.com/secure/attachment/5853315/5853315_pats-plugin-1.0.3.jar]\u00a0from Confluence 7.11.1\r\n # Place it in the confluence_install/confluence/WEB-INF/atlassian-bundled-plugins/ folder.\r\n # From the same folder, move the pats-plugin-1.1.2.jar to another folder as backup.\r\n # Start Confluence",
      "summary": "The Personal Access Token feature doesn\u2019t work when using MS SQL Server"
    }
  },
  {
    "key": "CONFSERVER-63278",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-23T02:06:37.000+0000",
      "created": "2021-04-07T13:21:34.000+0000",
      "description": "h3. Issue Summary\r\nCompanion app does not show PDF's on Mac OS Big Sur\r\n\r\nh3. Steps to Reproduce\r\n* Click on the edit button on a pdf preview in confluence using atlassian companion(v 1.2.5) on *MacOS big Sur*\r\n* Only PDF's are affected and other file types like XLS are opened correctly.\r\n\r\nh3. Expected Results\r\nCompanion app does not open the pdf in preview, rather shows nothing\r\n\r\nh3. Actual Results\r\nCompanion app should open the pdf in preview\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\nerror:\tadc:browser 2021-04-01T15:05:39.018Z logged raw sentry error: {\"extra\":{\"unhandledPromiseRejection\":true,\"Error\":{\"errno\":-2,\"syscall\":\"open\",\"code\":\"ENOENT\",\"path\":\"/System/Applications/Books.app/Contents/Resources/undefined.icns\"},\"node\":\"v12.13.0\"},\"message\":\"Error: ENOENT: no such file or directory, open '/System/Applications/Books.app/Contents/Resources/undefined.icns'\",\"exception\":[{\"type\":\"Error\",\"value\":\"ENOENT: no such file or directory, open '/System/Applications/Books.app/Contents/Resources/undefined.icns'\",\"stacktrace\":{\"frames\":\r\n{noformat}\r\n\r\n*Note*:\r\nCompanion app is using default Mac app to preview and default app is books since books app resource is crashing after Mac OS upgrade as per this forum:\u00a0[https://developer.apple.com/forums/thread/121533]\u00a0which is not letting any PDF\u2019s to show up on Mac OS big Sur due to the Mac bug:\u00a0[https://developer.apple.com/forums/thread/659317] therefore, Companion app is not showing anything on PDF preview\r\n\r\nh3. Workaround\r\nTry changing default pdf view app from books to something else.",
      "summary": "Companion app does not show PDF on Mac OS Big Sur"
    }
  },
  {
    "key": "CONFSERVER-63197",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-07T10:25:58.000+0000",
      "description": "h3. Summary\r\nIn windows, when user launched the companion app, we can see 3 process is listed in the task manager. When a user try to edit a attachment via companion app, a new process will be added. If the user try to click the About Companion app, it will also trigger another process appear.\r\n# Launch Companion app (you will see 3 companion app process)\r\n# Right click the companion app icon and select *About Companion app* (you will see a total of 4 companion app process)\r\n# Try to edit a attachment in Confluence via companion app (Another companion app process is added)\r\n\r\nh3. Suggestion\r\nLimit the amount of companion app process or implement auto kill of process when a action is done.",
      "summary": "Reduce the process amount for Companion app"
    }
  },
  {
    "key": "CONFSERVER-63194",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-04T07:01:07.000+0000",
      "created": "2021-04-07T00:50:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nJira issue key duplicates when subscribing to team calendar via ics - each time the value is synced the new duplicate adds on to the previous.\r\nh3. Steps to Reproduce\r\n # Create a team calendar in confluence containing Jira events\r\n # Subscribe in apple calendar via ics\r\n # Sync the calendar a few times - the issue key duplicates.\r\n\r\nh3. Expected Results\r\n\r\nThe issue key shows once and remains the same\r\nh3. Actual Results\r\n\r\nThe issue key duplicates again each time you sync the calendar\r\nh3. Workaround\r\n\r\nCleaning the\u00a0team calendar cache for Jira events should resolve it temporarily",
      "summary": "Jira issue key duplicates when subscribing to team calendar via ics"
    }
  },
  {
    "key": "CONFSERVER-63193",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-06T17:32:56.000+0000",
      "description": "IMDSv2 requires token generation to access metadata: [Retrieve instance metadata|https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/instancedata-data-retrieval.html]\r\n\r\nAWS node discovery does not account for this and results in errors like the following: \r\n\r\n{code}\r\n2021-04-01 16:56:09,435 ERROR [Catalina-utility-1] [atlassian.confluence.setup.ConfluenceConfigurationListener] contextInitialized An error was encountered while bootstrapping Confluence (see below):\r\nUnable to lookup role in URI: http://169.254.300.300/latest/meta-data/placement/availability-zone/\r\ncom.hazelcast.config.InvalidConfigurationException: Unable to lookup role in URI: http://169.254.300.300/latest/meta-data/placement/availability-zone/\r\nat com.hazelcast.aws.utility.MetadataUtil.retrieveMetadataFromURI(MetadataUtil.java:78)\r\nat com.hazelcast.aws.utility.MetadataUtil$1.call(MetadataUtil.java:109)\r\nat com.hazelcast.aws.utility.MetadataUtil$1.call(MetadataUtil.java:106)\r\nat com.hazelcast.aws.utility.RetryUtils.retry(RetryUtils.java:52)\r\nat com.hazelcast.aws.utility.MetadataUtil.retrieveMetadataFromURI(MetadataUtil.java:106)\r\nat com.hazelcast.aws.AWSClient.getAvailabilityZone(AWSClient.java:62)\r\nat com.hazelcast.aws.AwsDiscoveryStrategy.discoverLocalMetadata(AwsDiscoveryStrategy.java:138)\r\nat com.hazelcast.spi.discovery.impl.DefaultDiscoveryService.discoverLocalMetadata(DefaultDiscoveryService.java:88)\r\nat com.hazelcast.instance.Node.mergeEnvironmentProvidedMemberMetadata(Node.java:555)\r\nat com.hazelcast.instance.Node.start(Node.java:401)\r\n...\r\n{code}\r\n\r\nFor instances looking for greater security, it would be great to have IMDSv2 function with Confluence Data Center.",
      "summary": "Support IMDSv2 for AWS node discovery"
    }
  },
  {
    "key": "CONFSERVER-63192",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-06T16:50:57.000+0000",
      "description": "h3. Issue Summary\r\nGroups that have the 'Confluence Administrator' global permission assigned are able to reach the /configurecaptcha.action endpoint (Spam Prevention configuration page) by modifying the URL in the address bar when this endpoint is not accessible via the 'General Configuration' screen.\r\n\r\n(i) Note that the 'System Administrator' permission DOES allow access to 'Spam Prevention' configuration page.\r\n\r\nh3. Steps to Reproduce\r\n # Configure a group that has the 'Confluence Administrator' global permission set.\r\n # Assign this group to a user.\r\n # Have user log into Confluence UI, then navigate to 'General Configuration'\r\n(i) Notice that the 'Spam Prevention' option is not visible in the left-hand bar.\r\n # Append /configurecaptcha.action to the base URL (i.e. <FQDN>:<port>/<context_path>/admin/configurecaptcha.action)\r\n # The 'Spam Prevention' configuration page is displayed and this user has access to modify the configuration.\r\n\r\nh3. Actual Results\r\nThe 'Spam Prevention' configuration page IS accessible via the 'Confluence Administrator' global permission using direct URL (/admin/configurecaptcha.action).\r\n\r\nh3. Expected Results\r\nThe 'Spam Prevention' configuration page is NOT accessible to the 'Confluence Administrator' global permission inside the user interface, it should NOT be accessible via URL (/admin/configurecaptcha.action).\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "configurecaptcha.action endpoint is accessible by 'Confluence Administrator' global permission"
    }
  },
  {
    "key": "CONFSERVER-63191",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-06T15:18:16.000+0000",
      "description": "Hello.\r\n\r\nWe're using Conlfuence Server.\r\n\r\nIt would be nice to have JSON support in code blocks.\r\n\r\ni saw that suggestion: https://jira.atlassian.com/browse/CONFCLOUD-41661\r\n\r\nbut it doesnt implemented.. (",
      "summary": "JSON support for code block"
    }
  },
  {
    "key": "CONFSERVER-63190",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-07T01:44:57.000+0000",
      "created": "2021-04-06T12:14:49.000+0000",
      "description": "h3. Issue Summary\r\nCan't create new event on TC 7.0.15 with Confluence 6.13 when there is no end date selected\r\n\r\nh3. Steps to Reproduce\r\n # Create new event and don't fill end date\r\n\r\nh3. Expected Results\r\nEvent is created\r\n\r\nh3. Actual Results\r\nEvent fails validation\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Cant create new event on TC 7.0.15 with Confluence 6.13"
    }
  },
  {
    "key": "CONFSERVER-63189",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T07:04:43.000+0000",
      "created": "2021-04-06T03:54:22.000+0000",
      "description": "h3. Issue Summary\r\nConfluence does not include \"token-auth\" path in download URL provided to Companion. \r\n\r\nh3. Steps to Reproduce\r\n # Have a Confluence instance with transparent SSO (e.g. load balancer that redirects requests to SSO then back to Confluence) \r\n # Try to allow Companion requests to hit Confluence instances directly for URLS like \"<base-url>/download/token-auth/attachments/*\"\r\n\r\nh3. Expected Results\r\nCompanion should be able to download the file\r\n\r\nh3. Actual Results\r\nCompanion hits the SSO authentication for the download request. \r\n\r\nh3. Workaround\r\n\r\n*Option #1*\r\nConfigure load balancer/reverse proxy to direct \"<base-url>/download/attachments/*\" URLs to Confluence bypassing the SSO. \r\n\r\n*Option #2*\r\nUpgrade Confluence Previews bundled plugin/app to attached version which includes this fix (update through \"Manage apps\" in Confluence administration by using \"Upload app\")\r\n [^confluence-previews-11.2.3.jar] ",
      "summary": "Companion App does not perform download request using token-auth endpoint"
    }
  },
  {
    "key": "CONFSERVER-63019",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T01:33:52.000+0000",
      "created": "2021-04-05T22:00:37.000+0000",
      "description": "h3. Problem\r\n\r\nIn Confluence 7.11.1 automatic LDAP syncs are no longer running.\r\n\r\nAfter adding a directory, if the user does not manually launch a sync, one is never completed. Auto-sync job is not respected either.\u00a0\r\nh3. Environment\r\n\r\n7.11.1\r\nh3. Steps to Reproduce\r\n * Create a directory in Crowd\r\n * Create a link to the Confluence application in Crowd\r\n * Link to the directory in Confluence\r\n\r\nh3. Expected Results\r\n\r\nAutomatic sync with the newly added directory would be performed, adding the relevant users and groups.\r\nh3. Actual Results\r\n\r\nThe sync is never performed. Tested by leaving the instance up for several days. Screenshot of the directory status after four days below:\r\n\r\n\u00a0\r\nh3. Workaround\r\n\r\nManual sync still work as expected. This can be used to complete a sync with the directory in order to get the users and groups\r\nh3. \u00a0",
      "summary": "Automatic Sync not being performed when using external Crowd directory in Confluence 7.11.1"
    }
  },
  {
    "key": "CONFSERVER-62994",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-02T22:08:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen making REST API calls using CQL to get a list of child pages from a parent page with a Confluence administrator account the results will exclude pages that are restricted from the administrator.\r\nh3. Steps to Reproduce\r\n # Create a parent page with several child pages as a normal user (not an admin)\r\n # Restrict a child page one to exclude the admin account\r\n # Initiate a REST API call on the parent page:\r\n example call: [http://localhost:6747/c747/rest/api/content/search?cql=parent=1736735]\r\n In this example, Howell's child page 1 is restricted from the admin, and Howell's child page 2 is not restricted\r\n\r\nh3. Expected Results\r\n\r\nThe results should include restricted pages as Confluence Admins can view all restricted pages in the UI\r\nh3. Actual Results\r\n\r\nRunning the example Call above [http://localhost:6747/c747/rest/api/content/search?cql=parent=1736735]\r\n\r\nWhen indicating the REST API call only the nonrestricted child page will show (this is the result across the board with CQL fields (parent, ancestor, creator, etc):\r\n{code:java}\r\n{\r\n    \"results\": [\r\n        {\r\n            \"id\": \"1736739\",\r\n            \"type\": \"page\",\r\n            \"status\": \"current\",\r\n            \"title\": \"Howell's child page 2\",\r\n            \"restrictions\": {},\r\n            \"_links\": {\r\n                \"webui\": \"/display/HOW/Howell%27s+child+page+2\",\r\n                \"tinyui\": \"/x/I4Aa\",\r\n                \"self\": \"http://localhost:6747/c747/rest/api/content/1736739\"\r\n            },\r\n            \"_expandable\": {\r\n                \"container\": \"\",\r\n                \"metadata\": \"\",\r\n                \"extensions\": \"\",\r\n                \"operations\": \"\",\r\n                \"children\": \"\",\r\n                \"history\": \"/rest/api/content/1736739/history\",\r\n                \"ancestors\": \"\",\r\n                \"body\": \"\",\r\n                \"version\": \"\",\r\n                \"descendants\": \"\",\r\n                \"space\": \"/rest/api/space/HOW\"\r\n            }\r\n        }\r\n    ],\r\n    \"start\": 0,\r\n    \"limit\": 25,\r\n    \"size\": 1,\r\n    \"cqlQuery\": \"parent=1736735\",\r\n    \"searchDuration\": 12,\r\n    \"totalSize\": 1,\r\n    \"_links\": {\r\n        \"self\": \"http://localhost:6747/c747/rest/api/content/search?cql=parent=1736735\",\r\n        \"base\": \"http://localhost:6747/c747\",\r\n        \"context\": \"/c747\"\r\n    }\r\n}\r\n{code}\r\nh3. Workaround\r\n\r\nUsing a GET content call on an individual page that is restricted from a confluence administrator works, but is not ideal as this would have to be done individually for each child page and could get exhaustive if the goal is to get a list of child pages from a parent page.",
      "summary": "When making CQL REST API calls on a parent page using the Confluence Admin account, pages that are restricted to not include the administrator account will not show in the API results."
    }
  },
  {
    "key": "CONFSERVER-62984",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-02T11:52:57.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPDF files created by [Splunk|https://www.splunk.com/] are not able to be displayed using the [PDF Macro|https://confluence.atlassian.com/doc/pdf-macro-375849180.html].\r\n\r\nh3. Steps to Reproduce\r\n* Upload the PDF file from this ticket to your page, then publish the page. \r\n* From the editor toolbar, choose Insert  > Other Macros.\r\n* Choose PDF from the Confluence content category.\r\n* Select the attached file.\r\n* Choose Insert. \r\n\r\nh3. Expected Results\r\n\r\nAny PDF file displays normally.\r\n\r\nh3. Actual Results\r\n\r\nThe PDF fails to load and a stack trace is found in the application logs.\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2021-03-23 14:39:53,382 ERROR [DefaultSlideCacheManager:thread-2] [com.benryan.conversion.AbstractSlideConversionTask] call problem while converting xxxx.pdf\r\n-- referer: xxxx/display/neticproducts/NHS&#43;%7C+Salg?src=sidebar | url: /plugins/servlet/pptslide | traceId: 04edd785de558dfc | userName: xxxx\r\njava.io.IOException: com.sun.pdfview.PDFParseException: No /Root key found in trailer dictionary\r\nat com.benryan.conversion.PdfSlideConversionBatchTask.convertFile(PdfSlideConversionBatchTask.java:56)\r\nat com.benryan.conversion.PdfSlideConversionBatchTask.convertFile(PdfSlideConversionBatchTask.java:23)\r\nat com.benryan.conversion.AbstractSlideConversionTask.call(AbstractSlideConversionTask.java:40)\r\nat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\nat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: com.sun.pdfview.PDFParseException: No /Root key found in trailer dictionary\r\nat com.sun.pdfview.PDFFile.readTrailer15(PDFFile.java:1301)\r\nat com.sun.pdfview.PDFFile.readTrailer(PDFFile.java:1016)\r\nat com.sun.pdfview.PDFFile.parseFile(PDFFile.java:1397)\r\nat com.sun.pdfview.PDFFile.<init>(PDFFile.java:140)\r\nat com.sun.pdfview.PDFFile.<init>(PDFFile.java:116)\r\nat com.atlassian.confluence.plugins.conversion.convert.image.PdfConverter.getInputPdfFile(PdfConverter.java:158)\r\nat com.atlassian.confluence.plugins.conversion.convert.image.PdfConverter.convert(PdfConverter.java:65)\r\nat com.benryan.conversion.PdfSlideConversionBatchTask.convertFile(PdfSlideConversionBatchTask.java:49)\r\n... 6 more\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "PDF Macro Doesn't Work With Certain PDF files"
    }
  },
  {
    "key": "CONFSERVER-62983",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-02T04:52:31.000+0000",
      "description": "h3. Issue Summary\r\nAutoconvert for Widget Connector Macro cause issue on saving page when the URL contains Emoji\r\n\r\nh3. Steps to Reproduce\r\n# Edit a page and paste a URL that includes *Emoji* where it can be autoconvert into [Widget Connector Macro|https://confluence.atlassian.com/doc/widget-connector-macro-171180449.html] (eg: Figma URL)\r\n{noformat:title=Example URL that includes a Heart URL}\r\nhttps://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/%E2%AD%90%EF%B8%8F?node-id=0%3A1\r\n{noformat}\r\n# Confirm that the pasted URL is autoconverted into a Widget Connector Macro\r\n!widget connector macro.png|thumbnail! \r\n# Save/Publish the page\r\n\r\nh3. Expected Results\r\nThe page can be saved/published normally\r\n\r\nh3. Actual Results\r\nSaving/Publishing the page throws an pop-up error on the editor screen with the message below:\r\n{code}\r\nThere was an error processing the request.\r\n{code}\r\n !pop-up warning.png|thumbnail! \r\n\r\n\r\nThe error below can be found in the {{console}} tab of the browser's developer tool:\r\n{code}\r\nXHRPUThttp://localhost:27101/c7101/rest/api/content/65609?status=draft\r\n[HTTP/1.1 400  21ms]\r\n\r\nGeneric error: {\"readyState\":4,\"responseText\":\"{\\\"statusCode\\\":400,\\\"data\\\":{\\\"authorized\\\":true,\\\"valid\\\":false,\\\"allowedInReadOnlyMode\\\":true,\\\"errors\\\":[{\\\"message\\\":{\\\"key\\\":\\\"xhtml.editor.to.storage.generic.error\\\",\\\"args\\\":[]}}],\\\"successful\\\":false},\\\"message\\\":\\\"Validation failure when converting format\\\",\\\"reason\\\":\\\"Bad Request\\\"}\",\"responseJSON\":{\"statusCode\":400,\"data\":{\"authorized\":true,\"valid\":false,\"allowedInReadOnlyMode\":true,\"errors\":[{\"message\":{\"key\":\"xhtml.editor.to.storage.generic.error\",\"args\":[]}}],\"successful\":false},\"message\":\"Validation failure when converting format\",\"reason\":\"Bad Request\"},\"status\":400,\"statusText\":\"error\"} batch.js:2201:358\r\n{code}\r\n\r\nThe error message below will be recorded in the {{atlassian-confluence.log}}\r\n{code:title=atlassian-confluence.log}\r\n2021-04-02 15:47:26,149 ERROR [http-nio-27101-exec-3] [xhtml.editor.macro.MacroParameterTypeParserImpl] resolveUrl URL 'https://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/\u2b50\ufe0f?node-id=0%3A1' was not valid, even after reencoding\r\n -- referer: http://localhost:27101/c7101/pages/editpage.action?pageId=65609 | url: /c7101/rest/api/content/65609 | traceId: be85c79ca4a815b6 | userName: admin\r\n2021-04-02 15:47:26,150 WARN [http-nio-27101-exec-3] [content.render.xhtml.DefaultFormatConverter] validateAndConvertToStorageFormat XhtmlException converting editor format to storage format. Turn on debug level logging to see editor format data.\r\n -- referer: http://localhost:27101/c7101/pages/editpage.action?pageId=65609 | url: /c7101/rest/api/content/65609 | traceId: be85c79ca4a815b6 | userName: admin\r\ncom.atlassian.confluence.content.render.xhtml.XhtmlException: RuntimeException occurred while transforming editor format to storage format (com.atlassian.confluence.content.render.xhtml.XhtmlException: com.atlassian.confluence.content.render.xhtml.editor.macro.InvalidMacroParameterException: Invalid parameter value for macro 'widget' parameter 'url' (type url): 'https://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/\u2b50\ufe0f?node-id=0%3A1')\r\n\tat com.atlassian.confluence.content.render.xhtml.editor.EditorXhtmlTransformer.transform(EditorXhtmlTransformer.java:58)\r\n\tat com.atlassian.confluence.content.render.xhtml.TransformerChain.transform(TransformerChain.java:33)\r\n\tat com.atlassian.confluence.content.render.xhtml.TransformerChain.transform(TransformerChain.java:33)\r\n...\r\nCaused by: java.lang.RuntimeException: com.atlassian.confluence.content.render.xhtml.XhtmlException: com.atlassian.confluence.content.render.xhtml.editor.macro.InvalidMacroParameterException: Invalid parameter value for macro 'widget' parameter 'url' (type url): 'https://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/\u2b50\ufe0f?node-id=0%3A1'\r\n...\r\nCaused by: com.atlassian.confluence.content.render.xhtml.XhtmlException: com.atlassian.confluence.content.render.xhtml.editor.macro.InvalidMacroParameterException: Invalid parameter value for macro 'widget' parameter 'url' (type url): 'https://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/\u2b50\ufe0f?node-id=0%3A1'\r\n...\r\nCaused by: com.atlassian.confluence.content.render.xhtml.editor.macro.InvalidMacroParameterException: Invalid parameter value for macro 'widget' parameter 'url' (type url): 'https://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/\u2b50\ufe0f?node-id=0%3A1'\r\n...\r\nCaused by: java.net.MalformedURLException: https://www.figma.com/file/eXZnisPZXgymtW2N8mqNbU/\u2b50\ufe0f?node-id=0%3A1\r\n\tat com.atlassian.confluence.content.render.xhtml.editor.macro.MacroParameterTypeParserImpl.resolveUrl(MacroParameterTypeParserImpl.java:247)\r\n\tat com.atlassian.confluence.content.render.xhtml.editor.macro.MacroParameterTypeParserImpl.parseSingleMacroParameter(MacroParameterTypeParserImpl.java:174)\r\n\tat com.atlassian.confluence.content.render.xhtml.editor.macro.MacroParameterTypeParserImpl.parseMacroParameter(MacroParameterTypeParserImpl.java:105)\r\n\t... 382 more\r\n{code}\r\n\r\nh3. Note\r\n* The issue can be replicated when Collaborative Editing is turn ON or OFF\r\n* Not all emojis are affected. For example, link with the red heart {{%E2%9D%A4%EF%B8%8F}} throws error, but padlock {{%F0%9F%94%93}} works.\r\n\r\nh3. Workaround\r\nInsert the Widget Connector Macro manually, edit the macro and paste the URL into the \"Web Site's Widget URL\" field manually.\r\n !workaround.png|thumbnail! ",
      "summary": "Autoconvert for Widget Connector Macro cause issue on saving page when the URL contains Emoji"
    }
  },
  {
    "key": "CONFSERVER-62978",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-01T15:23:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn *Live Search macro*, you can restrict the results to content with certain labels, this is done by editing the properties of the macro and entering the labels in\u00a0*Restrict to label(s)*\u00a0field with a\u00a0comma separated list of labels to filter the search by.\r\n\r\nThe results is expected to return a list of pages with any of the labels entered, however, the results are filtered based on combination of all the labels entered in that field.\r\nh3. Steps to Reproduce\r\n # Create Page-A, B and C\r\n # Label Page A with Label1/2, Page B with Label1 and PageC with label2\r\n # Create a page and insert Live Search macro\r\n # Edit properties of Live search macro and enter Label1 and Label2 in\u00a0*Restrict to label(s)*\r\n # Search now using Live Search macro by entering\u00a0*Label1*\r\n # only page A appears\r\n\r\nh3. Expected Results\r\n\r\nSearch should return content with any of the labels entered in the restriction field\u00a0\r\nh3. Actual Results\r\n\r\nSearch results are restricted to pages that only got all the labels entered in the\u00a0Restriction field of live search macro\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Livesearch macro label restriction doesn't filter results as expected"
    }
  },
  {
    "key": "CONFSERVER-62975",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-19T01:39:38.000+0000",
      "created": "2021-04-01T01:10:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAsk question button and the help icon are no aligned, add topic button is white and not readable on the grey background\r\n\r\n!image-2021-04-01-12-03-24-042.png|width=889,height=55!\r\n\r\n!image-2021-04-01-12-05-51-533.png!\r\n\r\nMight be an AUI 9 regression\r\nh3. Steps to Reproduce\r\n # Step 1\r\n\r\n # Step 2\r\n\r\nh3. Expected Results\r\n\r\nTo be aligned\r\nh3. Actual Results\r\n\r\nNot aligned\r\n{noformat}\r\n...\r\n{noformat}\r\nh3. Workaround\r\n\r\nall functionality works, just looks bad\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Alignment of items in CQ is broken"
    }
  },
  {
    "key": "CONFSERVER-62974",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-01T00:45:14.000+0000",
      "description": "h3. Issue Summary\r\nWhen the + symbol is used in the Jira's custom field, it cannot be displayed on Confluence's Jira issue macro.  It will be replaced with blank space.\r\n\r\nh3. Steps to Reproduce\r\n# Install the Confluence 7.8.1 or 7.11.2 and Jira 8.3.0\r\n# Create an Application Link between Jira and Confluence\r\n# On the Jira, create an issue and add a custom field name as *A+B*\r\n# On the Confluence, create a page and add the Jira issue macro, then add the above Jira issue with a custom field(A+B) in the table view.\r\n# After the publishing page, you can see the *+* symbol is replaced with a blank space. So, the custom field name becomes, *A B* like the following:\r\n !test-7.11.2.png|thumbnail! \r\n\r\nI can see the Storage Format shows the *+* correctly like the following:\r\n{code}\r\n<ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,A+B</ac:parameter>\r\n{code}\r\nBut the GUI(browser) does not display *+* symbol.  \r\n\r\nI have tested other symbols, {{- / * ! @ # $ %}}, and confirmed that they do not have the same issue.\r\n\r\nThe old version, 6.12.1 does not have this issue.\r\n\r\nh3. Expected Results\r\nCustom Field Name display as *A+B*\r\n\r\nh3. Actual Results\r\nCustom Field Name display as *A B*\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Jira issue macro cannot display + symbol in the custom field name"
    }
  },
  {
    "key": "CONFSERVER-62973",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T23:08:57.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe installers allow to override the confluence and control ports defaults to different port numbers. It however doesn't allow to change the synchrony port number but also doesn't check that if you override the http port number to 8091 it will conflict with synchrony and your installation will not work correctly\r\nh3. Steps to Reproduce\r\n # Install fresh confluence, choose to override port numbers\r\n # Set http port number from 8090 to 8091\r\n\r\nh3. Expected Results\r\n\r\nAt least a message that 8091 will be used by synchrony and is unavailable, OR having to override the synchrony port now to something else but 8091 as that one is now taken by http\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the synchrony log file:\r\n{noformat}\r\n2021-03-31 00:22:50,159 DEBUG [297:StdErrHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] Loading synchrony2021-03-31 00:22:50,159 DEBUG [297:StdErrHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] Loading synchrony2021-03-31 00:23:23,132 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] Starting synchrony2021-03-31 00:23:23,947 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] 2021-03-31 00:23:23,946 INFO [MLog-Init-Reporter] [mchange.v2.log.MLog] MLog clients using slf4j logging.2021-03-31 00:23:23,987 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] 2021-03-31 00:23:23,985 INFO [main] [mchange.v2.c3p0.C3P0Registry] Initializing c3p0-0.9.5.5 [built 11-December-2019 22:18:33 -0800; debug? true; trace: 10]2021-03-31 00:23:28,810 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] 2021-03-31 00:23:28,809 INFO [async-dispatch-1] [synchrony.server.cluster.topic-ring] cluster membership transition {:transition #synchrony.cluster.Transition{:type :join, :member #synchrony.cluster.Member{:member-id \"local\", :host nil, :local? true}}}2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]] 2021-03-31 00:23:37,997 ERROR [main] [synchrony.logging] uncaught exception {:throwable #error {2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]   :cause \"Address already in use: bind\"2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]   :via2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]   [{:type clojure.lang.ExceptionInfo2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 \u00a0:message \"error while starting state #'synchrony.server.http-server/http-server\"2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 \u00a0:data {:var #'synchrony.server.http-server/http-server}2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 \u00a0:at [mount.lite$start$fn__24142 invoke \"lite.clj\" 153]}2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 {:type java.net.BindException2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 \u00a0:message \"Address already in use: bind\"2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 \u00a0:at [sun.nio.ch.Net bind0 nil -2]}]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]   :trace2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]   [[sun.nio.ch.Net bind0 nil -2]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [sun.nio.ch.Net bind nil -1]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [sun.nio.ch.Net bind nil -1]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [sun.nio.ch.ServerSocketChannelImpl bind nil -1]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.socket.nio.NioServerSocketChannel doBind \"NioServerSocketChannel.java\" 134]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.AbstractChannel$AbstractUnsafe bind \"AbstractChannel.java\" 550]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.DefaultChannelPipeline$HeadContext bind \"DefaultChannelPipeline.java\" 1334]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.AbstractChannelHandlerContext invokeBind \"AbstractChannelHandlerContext.java\" 506]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.AbstractChannelHandlerContext bind \"AbstractChannelHandlerContext.java\" 491]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.DefaultChannelPipeline bind \"DefaultChannelPipeline.java\" 973]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.AbstractChannel bind \"AbstractChannel.java\" 248]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.bootstrap.AbstractBootstrap$2 run \"AbstractBootstrap.java\" 356]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.util.concurrent.AbstractEventExecutor safeExecute \"AbstractEventExecutor.java\" 164]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.util.concurrent.SingleThreadEventExecutor runAllTasks \"SingleThreadEventExecutor.java\" 472]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.channel.nio.NioEventLoop run \"NioEventLoop.java\" 500]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.util.concurrent.SingleThreadEventExecutor$4 run \"SingleThreadEventExecutor.java\" 989]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [io.netty.util.internal.ThreadExecutorMap$2 run \"ThreadExecutorMap.java\" 74]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [manifold.executor$thread_factory$reify__14792$f__14793 invoke \"executor.clj\" 47]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [clojure.lang.AFn run \"AFn.java\" 22]2021-03-31 00:23:37,998 DEBUG [298:StdOutHandler [C:\\Program Files\\Atlassian\\Confluence\\jre\\bin\\java.exe]]  \u00a0 [java.lang.Thread run nil -1]]}}\r\n{noformat}\r\nh3. Workaround\r\n\r\nDon't use port 8091 when overriding http or control ports",
      "summary": "confluence installer doesn't check or allow synchrony port override"
    }
  },
  {
    "key": "CONFSERVER-62971",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T19:59:35.000+0000",
      "description": "Atlassian Team:\r\n\r\nWe are a large organization that relies heavily on Confluence for all types of documentation - from requirements to customer facing docs.\r\n\r\nOften times, our Confluence pages have many sections that require the reader to be able to quickly navigate between - whether while editing the page or while it's published.\u00a0\r\n\r\nThe Table Of Contents macro provides hyperlinks to sections or headers on the page, however, the macro is fixed to the location it has been inserted on the page, forcing you to scroll to that location on the page to be able to access the table of contents. In edit mode, you don't even have this ability.\r\n\r\nOne suggestion we have is to support \"Inline Table Of Contents\" which basically is a table of contents that stays in view while scrolling through the page - whether while editing the page or while it's published.\u00a0\r\n\r\nFor example, given I am editing a Confluence page with multiple sections or headers, I want to be able to see a Table of Contents (TOC) for those headers to the right of the page while I'm editing or viewing the page, so that I can click on a header link in the TOC to quickly navigate to that section on the page.\u00a0\r\n\r\nAs a real-life example, similarly has a \"ON THIS PAGE\" table of contents on the\u00a0*changelog* pages at developer.atlassian.com/cloud/confluence/changelog\r\n\r\nI can provide a screenshot upon request.\u00a0\r\n\r\nThanks for looking into this feedback.",
      "summary": "Inline Table Of Contents For Confluence Pages"
    }
  },
  {
    "key": "CONFSERVER-62966",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T06:38:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhile working on XStream and some classloading stuff in Confluence, I found that [ConfluenceUberClassloader |https://stash.atlassian.com/projects/CONFSERVER/repos/confluence/browse/confluence-core/confluence/src/java/com/atlassian/confluence/util/ConfluenceUberClassLoader.java#33]in Confluence was getting a different copy of class for plugin's classes via PluginsClassLoader which causes ClassCastException\r\nh3. Steps to Reproduce\r\n # Install a new version of plugin\u00a0\r\n # Try to see: com.atlassian.confluence.setup.xstream.XStreamManager.getConfluenceXStream().fromXML(xml) and use it. This will load a class through uberClassLoader in XStream Manager.\r\n This when assigned to a field in a plugin Class will cause a ClassCastException. This could be because plugin has been re-installed and hence might have a new OSGi Classloader.\u00a0\r\n\r\nh3. Expected Results\r\n\r\nWe expected same Class between a pluginsClassLoader and OSGiClassLoader.\r\nh3. Actual Results\r\n\r\nClassCastException is thrown\r\n{code:java}\r\njava.lang.ClassCastException: com.atlassian.confluence.extra.webdav.WebdavSettings cannot be cast to com.atlassian.confluence.extra.webdav.WebdavSettingsjava.lang.ClassCastException: com.atlassian.confluence.extra.webdav.WebdavSettings cannot be cast to com.atlassian.confluence.extra.webdav.WebdavSettings at com.atlassian.confluence.extra.webdav.BandanaWebdavSettingsManager.getWebdavSettings(BandanaWebdavSettingsManager.java:58) at com.atlassian.confluence.extra.webdav.actions.WebdavConfigAction.getWebdavSettings(WebdavConfigAction.java:111) at com.atlassian.confluence.extra.webdav.actions.WebdavConfigAction.doDefault(WebdavConfigAction.java:98) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:302)\r\n{code}\r\nh3. Workaround\r\n\r\nFor now we have introduced one more method getPluginXStream(classloader) in XStreamManager which takes classloader as input and helps us in keeping same Class being loaded in XStream & as well as in Plugin. Plugins can do the following:\r\n{code:java}\r\nXStreamManager.getPluginXStream(getClass().getClassLoader())\r\n{code}\r\n\u00a0",
      "summary": "Plugin Classloader keeps old copy of a Class when a new plugin is installed"
    }
  },
  {
    "key": "CONFSERVER-62945",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-30T08:17:12.000+0000",
      "description": "PostgreSQL 13 was released in [September 2019|https://www.postgresql.org/about/news/postgresql-13-released-2077/]. It would be desirable to have this supported to keep up to date with the latest PostgreSQL database versions.",
      "summary": "Support for PostgreSQL 13"
    }
  },
  {
    "key": "CONFSERVER-62944",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-30T06:41:15.000+0000",
      "description": "h3. Summary\r\nWhen a JIRA issue macro is mention in a Confluence page, the Confluence page link will appear in the *Issue Link* session.\r\n !Screenshot 2021-03-30 at 08.43.54.png|thumbnail! \r\n\r\nCurrently, when JIRA issue is mentioned in a Confluence page, the JIRA issue details will be added in the JIRA metadata beside the page title.\r\n !Screenshot 2021-03-30 at 08.48.09.png|thumbnail! \r\nUser would like to have a feature to display this information in the JIRA issue macro table as a column.",
      "summary": "Allow user to display the \"mention in\" from JIRA in JIRA issue macro."
    }
  },
  {
    "key": "CONFSERVER-62839",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-30T23:55:22.000+0000",
      "created": "2021-03-29T17:48:42.000+0000",
      "description": "h3. Issue Summary\r\n*Edit Document* button downloads xlsx and docx files from the View File macro instead of opening the file in Chrome.\r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence 7.10.2 or 7.11.0 or greater\r\n# Enable Edit in Office functionality (!http://i.imgur.com/Ew0T0kz.png! *> General Configuration > Office Connector > \"Enable Edit in Office for all users\"*)\r\n# Add a [View File macro|https://confluence.atlassian.com/doc/view-file-macro-170494360.html] for a Word or Excel document to a page\r\n# Select *Edit Document*\r\n\r\nh3. Expected Results\r\nThe user is prompted to open the file in the corresponding Office application.\r\n\r\nh3. Actual Results\r\nThe attachment is downloaded.\r\n\r\nh3. Workaround 1\r\nDisable Edit in Office ( !http://i.imgur.com/Ew0T0kz.png! *> General Configuration > Office Connector > uncheck \"Enable Edit in Office for all users\"*) and use [Companion Apps|https://confluence.atlassian.com/doc/install-atlassian-companion-992678880.html] to edit files.\r\n\r\nh3. Workaround 2\r\nThis requires downgrading the Office Connector plugin which may not be compatible with newer versions of Confluence and is not supported. However, this has been tested and it works with up to Confluence 7.11.0:\r\n# *Stop Confluence*\r\n# Copy/Download the [^OfficeConnector-11.2.2.jar]\u00a0from an older version of Confluence\r\n# Place it in the *confluence_install/confluence/WEB-INF/atlassian-bundled-plugins/* folder.\r\n# From the same folder, move the *OfficeConnector-x.x.x.jar* to another folder as backup.\r\n# *Start Confluence*\r\n\r\n(i) If using Docker a volume like such will suffice: \r\n\r\n{{/docker/confluence/OfficeConnector-11.2.2.jar:/opt/atlassian/confluence/confluence/WEB-INF/atlassian-bundled-plugins/OfficeConnector-11.3.2.jar\u2029}}\r\n\r\nh3. Notes\r\n* Functionality works fine in Firefox\r\n* The *Edit in Office* button works from the attachments page \r\n* Confluence versions prior to 7.9 are not impacted \r\n** Presumably this broke with the fix from [CONFSERVER-60622|https://jira.atlassian.com/browse/CONFSERVER-60622]",
      "summary": "Edit in Office downloads xlsx and docx files in Chrome"
    }
  },
  {
    "key": "CONFSERVER-62838",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-29T09:01:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen exporting content to PDF, the characters greater than \"\u2265\" or less than \"\u2264\" are missing from the content in the exported PDF file\r\nh3. Steps to Reproduce\r\n # Create a page\r\n # Insert \"\u2265\" or \"\u2264\" characters\r\n # Export to PDF\r\n\r\nh3. Expected Results\r\n\r\nThe PDF export file should include the characters in the content\r\nh3. Actual Results\r\n\r\nThe PDF export file is missing the characters from the content\r\nh3. Workaround\r\n\r\nInstall a Unicode font\u00a0from *General Configurations* >>\u00a0*PDF Export Language Support*. \r\nWe recommend that you use Unicode font for correct character encoding and exporting to PDF. An example is *verdana.ttf*",
      "summary": "PDF Export file is missing \"\u2265\" or \"\u2264\" characters"
    }
  },
  {
    "key": "CONFSERVER-62837",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-08T23:45:05.000+0000",
      "created": "2021-03-29T05:54:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nRecently disclosed vulnerability regarding Tomcat [CVE-2021-25329|https://nvd.nist.gov/vuln/detail/CVE-2021-25329] and [CVE-2021-25122|https://nvd.nist.gov/vuln/detail/CVE-2021-25122] affects the following versions:\r\n\r\n* Apache Tomcat 9.0.0.M1 to 9.0.41\r\n* Apache Tomcat 8.5.0 to 8.5.61\r\n\r\nh3. Steps to Reproduce\r\n\r\nSee more at: https://nvd.nist.gov/vuln/detail/CVE-2021-25329 and https://nvd.nist.gov/vuln/detail/CVE-2021-25122",
      "summary": "Tomcat vulnerabilities CVE-2021-25329 and CVE-2021-25122"
    }
  },
  {
    "key": "CONFSERVER-62836",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-29T04:27:09.000+0000",
      "description": "h3. Problem\r\n\r\nThere should be option in Confluence to use variables from a live template via an equation within another confluence page.\r\nh3. Suggested Solution\r\n\r\nCurrently when we add variables in template, they will act as form fields. And\u00a0*we can create a page based on a template,*\u00a0and we'll see a text entry box for each field. However we don't see any way to use template variable in other pages by using variable or equation.\r\nh3. Why This Is Important\r\n\r\n\u00a0_Such feature of using external variables coming from macros would be a great enrichment to Confluence._\r\nh3. Workaround\r\n\r\n_NA_",
      "summary": "Ability to use variable on another page for variables coming from a live template"
    }
  },
  {
    "key": "CONFSERVER-62835",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-29T01:50:26.000+0000",
      "description": "h3. Issue Summary\r\nThis ticket tracks a class of bugs wherein Confluence misplaces attachments as part of a page move. The attachments remain on disk, but due to being in the wrong part of the file tree, appear to be missing.\r\n\r\nThis issue occurs during page or pagetree moves that are unexpectedly interrupted.\r\n\r\n(!) Note this is not related to [CONFSERVER\\-55928: Attachments become 'Unknown Attachment' in the page editor with Collaborative Editing turned on|https://jira.atlassian.com/browse/CONFSERVER-55928] or its related bugs\r\n\r\nh3. Steps to Reproduce\r\nThere are currently multiple causes with differing reproduction steps.\r\n\r\nThe fundamental cause is halting a pagetree copy whilst attachments are being moved.\r\n\r\nh3. Expected Results\r\nThe files should be moved successfully. In the case of a failed move, the file copies should be rolled back successfully.\r\n\r\nh3. Actual Results\r\nThe files are not moved correctly, or alternately, the files are not rolled back to their original location in the case of a failed page move.\r\n\r\nh3. Workaround\r\nWe currently have a script that searches for attachments that have been misplaced and moves them back to the correct location. The script can be found at [https://confluence.atlassian.com/confkb/how-to-resolve-missing-attachments-in-confluence-201761.html|https://confluence.atlassian.com/confkb/how-to-resolve-missing-attachments-in-confluence-201761.html]",
      "summary": "Attachment Moves Are Non Atomic Resulting In Missing Attachments"
    }
  },
  {
    "key": "CONFSERVER-62812",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-26T14:31:39.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIt would be useful to be able to search for text strings from page comments without having to go through the advanced search feature.\u00a0\r\nh3. Steps to Reproduce\r\n # Create a text screen as a comment\r\n # Search for this 'textstring' using the basic search bar\u00a0\r\n\r\nh3. Expected Results\r\n\r\nThe search feature should be able to locate the page where this text string in the comment section resides using the basic search (not advanced)\r\nh3. Actual Results\r\n\r\nIt is not able to find this string\r\nh3. Workaround\r\n\r\nUsing the advanced search option for comments",
      "summary": "Ability to search for text strings from comment sections of pages from the basic search bar"
    }
  },
  {
    "key": "CONFSERVER-62811",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-26T13:17:35.000+0000",
      "description": "We would like to have a way to create a dropdown that items can be selected only when the page's in *edit mode*.\r\nCurrently, there are some plugins and third-party solutions that we need to rely on in order to achieve that, but it would be good if this was something native on Confluence.\r\n",
      "summary": "Create a dropdown"
    }
  },
  {
    "key": "CONFSERVER-62810",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-30T10:52:37.000+0000",
      "created": "2021-03-26T12:49:47.000+0000",
      "description": "h3. Problem\r\nWe are missing the information on adding the new nodes' IP addresses to the {{confluence.cfg.xml}} file.\r\n\r\nI believe we could add something like the excerpt below on the *Adding a node* section:\r\n{quote}\r\n(i) If the discovery mode is set to *TCP/IP*, it will be necessary to update the {{confluence.cluster.peers}} property on the {{confluence.cfg.xml}} file of each node to contain the list of all nodes that belong to the cluster:\r\n{code}\r\n<property name=\"confluence.cluster.peers\">[node 1 IP],[node 2 IP],[node 3 IP]</property> <!-- A comma-separated list of node IP addresses, without spaces -->\r\n{code}\r\n{quote}\r\n\r\nDoc link: [Adding and Removing Data Center Nodes|https://confluence.atlassian.com/display/CONF74/Adding+and+Removing+Data+Center+Nodes]",
      "summary": "Adding and Removing Data Center Nodes is missing information on adding the nodes' IP addresses"
    }
  },
  {
    "key": "CONFSERVER-62807",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-11T13:12:25.000+0000",
      "created": "2021-03-26T04:08:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen method *create* from *ContentPropertyServiceImpl* class is called to create content property for content object with type *Draft* we perform request to the database which will try to retrieve ALL current pages from Content table. In cases when this table is big and there are many users who perform similar action it could lead to high Database CPU utilization.\r\n\r\nThis problem could only be reproduced when Collaborative editing is disabled because we don't use Draft content type.\r\nh3. Steps to Reproduce\r\n\r\nThis problem was reported by a customer who used third party plugin (Numbered headers), but this situation could potentially happen in many other cases. I provide example with this plugin usage\r\n # Disable Collaborative editing\r\n # Install Numbered Headers plugin (or use anything that will call method *create* from *ContentPropertyServiceImpl* class)\r\n # Create page\r\n # Start editing page (object with type Draft will be created in Content table)\r\n # Go to Logging and Profiling and press Enable SQL logging button\r\n # Press Numbered Heading button\r\n # Disable SQL logging\r\n # Check\u00a0 requests that were performed\r\n\r\nh3. Expected Results\r\n\r\nAll queries to content table should be filtered by content id of the draft record\r\nh3. Actual Results\r\n\r\nThere will be a query to retrieve all current pages from content table:\r\n{noformat}\r\nselect abstractpa0_.CONTENTID as CONTENTI1_12_,\r\n       abstractpa0_.HIBERNATEVERSION as HIBERNAT2_12_,\r\n       abstractpa0_.TITLE as TITLE4_12_,\r\n       abstractpa0_.LOWERTITLE as LOWERTIT5_12_,\r\n       abstractpa0_.VERSION as VERSION6_12_,\r\n       abstractpa0_.CREATOR as CREATOR7_12_,\r\n       abstractpa0_.CREATIONDATE as CREATION8_12_,\r\n       abstractpa0_.LASTMODIFIER as LASTMODI9_12_,\r\n       abstractpa0_.LASTMODDATE as LASTMOD10_12_,\r\n       abstractpa0_.VERSIONCOMMENT as VERSION11_12_,\r\n       abstractpa0_.PREVVER as PREVVER12_12_,\r\n       abstractpa0_.CONTENT_STATUS as CONTENT13_12_,\r\n       abstractpa0_.PAGEID as PAGEID14_12_,\r\n       abstractpa0_.SPACEID as SPACEID15_12_,\r\n       abstractpa0_.CHILD_POSITION as CHILD_P16_12_,\r\n       abstractpa0_.PARENTID as PARENTI17_12_,\r\n       abstractpa0_.CONTENTTYPE as CONTENTT3_12_\r\nfrom CONTENT abstractpa0_\r\nwhere abstractpa0_.CONTENTTYPE in ('PAGE', 'BLOGPOST') and\r\n      (abstractpa0_.CONTENTTYPE in ('PAGE')) and\r\n      (abstractpa0_.CONTENT_STATUS in ('current')) and\r\n      (abstractpa0_.PREVVER is null)\r\norder by abstractpa0_.CONTENTID limit 273011, 501{noformat}\r\nh3. Workaround\r\n\r\nEnable Collaborative editing which doesn't use Draft objects",
      "summary": "High Database CPU utilization when create content properties for Draft objects (with disabled Collaborative editing)"
    }
  },
  {
    "key": "CONFSERVER-62806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-26T01:29:51.000+0000",
      "description": "h3. Problem\r\nPer this documentation https://confluence.atlassian.com/doc/attachments-macro-97911315.html\r\n\r\n{quote}\r\nThis is useful when you want to add a macro outside the editor, for example as custom content in the sidebar, header or footer of a space.\r\n{quote}\r\n\r\nh3. Environment\r\nConfluence Server & DC\r\n\r\nh3. Steps to Reproduce\r\n# Navigate to Space admin tool > *Look and Feel* > *Sidebar, header and footer*\r\n# Add the below code into *Footer* section\r\n{code}\r\n{attachments:upload=false|preview=false}\r\n{code}\r\n# Save the change\r\n# Go back to any page in this space\r\n# Click *Edit* > ... > *Preview*\r\n\r\nh3. Expected Results\r\nA preview should be displayed as expected \r\n\r\nh3. Actual Results\r\nPreview area stick on the left side of the page\r\n!Screen Shot 2021-03-26 at 12.42.35 pm.png|thumbnail! \r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available\r\n",
      "summary": "Confluence attachment macro in footer crush the page preview"
    }
  },
  {
    "key": "CONFSERVER-62805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-26T00:02:29.000+0000",
      "description": "h3. Issue Summary\r\nWhile trying to refine the search using the 'Contributor' field, Confluence will tend to pick up another user that has the 'slash' symbol for their Full Name.\r\n\r\nh3. Steps to Reproduce\r\nI've recorded a screen recording reproducing the behavior:\r\n [^Recording #8.mp4] \r\n\r\nThe username and full name I'm using in this test:\r\n# User 1 - Full Name: {{abc /123}}, Username: {{abc_123}}\r\n# User 2 - Full Name: {{abc123}},  Username: abc123\r\n\r\nh3. Expected Results\r\nAdvanced Search should keep my selected contributor\r\n\r\nh3. Actual Results\r\nAdvanced Search uses another user instead.\r\n\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Advance Search doesn't pick up the correct Contributor"
    }
  },
  {
    "key": "CONFSERVER-62785",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-25T13:50:50.000+0000",
      "description": "Customer is reporting that IMAP and POP are being deprecated inside their network due to security reasons and so they would be without any options to configure Confluence notification emails. \r\n\r\nSo it will be great if Confluence can support integration of Graph API for mail notifications.\r\n\r\n",
      "summary": "Microsoft Graph API integration for Confluence"
    }
  },
  {
    "key": "CONFSERVER-62723",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-25T00:56:25.000+0000",
      "description": "Requesting Confluence Data Center support certificate based client authentication as described in [RFC 8705|https://tools.ietf.org/html/rfc8705].\r\n\r\nIt would be very convenient to be able to authenticate users with x509 certificates.\r\n\r\nImplementation would require custom OSUser providers to:\r\n * check client certificate for:\r\n ** revocation\r\n ** validity\r\n ** identity\r\n * map the certificate to a Confluence username (CN to username?) and proceed with normal authorization",
      "summary": "x509 client certificate Authentication and Authorization support"
    }
  },
  {
    "key": "CONFSERVER-62722",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T19:23:00.000+0000",
      "description": "h3. Problem\r\n\r\nData Sources can be used to connect to the database to retrieve information for macro queries and reporting. Unfortunately, they can only be set in the\u00a0*server.xml* file and it can be a\u00a0pain to manually add them to that file after each upgrade, especially when multiple Data Sources are being used (50+), for example.\r\nh3. Suggested Solution\r\n\r\nPerhaps there could be a place in the UI, like an option in the Admin menus to maintain this, it would be beneficial to maintain Data Source connections.\r\n\r\n\u00a0",
      "summary": "Setting Data Sources through the UI"
    }
  },
  {
    "key": "CONFSERVER-62721",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T15:33:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nRight click opening a category under Space Directory doesn't open the intended category\r\nh3. Steps to Reproduce\r\n # Navigate to the Space Directory\r\n # Select \"Personal Spaces\" on left side panel\r\n # Right click on \"Site Spaces\" and open in a new tab\r\n # Te new tab opens the same page that was open and doesn't open the page with \"Site Spaces\" selected.\r\n\r\nh3. Expected Results\r\n\r\nThe new tab should open \"Site Spaces\" category\r\nh3. Actual Results\r\n\r\nThe new tab opens \"Personal Spaces\" category\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.\r\n\r\nNote: I believe this is happening as all the categories under Space Directory are just the view points and not actual links. Hence, even if we right click on any category, it still opens the same selection which was already opened.\r\n\r\nBelow is the Space Directory link for quick reference:\r\n{code:java}\r\n<Base-URL>spacedirectory/view.action#space-search-result{code}",
      "summary": "Right click opening a category under Space Directory doesn't open the intended category"
    }
  },
  {
    "key": "CONFSERVER-62720",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T13:37:03.000+0000",
      "description": "h3. Issue Summary\r\nCross Site Scripting vulnerability allows injecting HTML code into table edits\r\nh3. Steps to Reproduce\r\n* Edit a page\r\n* Then access the Insert macro 'Info' option.\r\n* A new window will open, in which the Preview option must be selected. With the help of an intermediate proxy such as burp suite, the request is intercepted.\r\n* The request is then modified by including HTML or CSS code in the body attribute.\r\n* After the modifications, the results can be seen in the application\r\n\r\nh3. Expected Results\r\nThe results should not be seen\r\nh3. Actual Results\r\nThe results are seen\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Cross Site Scripting vulnerability allows injecting HTML code into table edits"
    }
  },
  {
    "key": "CONFSERVER-62719",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T13:26:26.000+0000",
      "description": "h3. Issue Summary\r\nEditing Gliffy corrupts  links on Confluence page\r\n\r\nh3. Steps to Reproduce\r\n* Create a page with a link to http://example.com/a%20b and a Gliffy diagram on it.\r\n* Without entering edit mode for the page, click on the Edit Diagram icon on the Gliffy.\r\n* Save the Gliffy diagram and click on the link to go back to Confluence.\r\n*  The link changes to http://example.com/a+b which obviously does not works\r\n* This is producible with https link as well where the end of the link should have  %20\r\n\r\nh3. Expected Results\r\nThe link changes\r\nh3. Actual Results\r\nThe link should not be changing \r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Editing Gliffy corrupts  links on Confluence page"
    }
  },
  {
    "key": "CONFSERVER-62714",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T00:21:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAtlassian Spring Scanner can not be used to inject\u00a0[ScheduledJobManager|https://docs.atlassian.com/ConfluenceServer/javadoc/7.0.1/com/atlassian/confluence/schedule/managers/ScheduledJobManager.html] as would be expected.\r\n\r\nIt seems others have had this problem in the past and needed to resort to using the ContainerManager or ComponentLocator. See\u00a0[https://community.atlassian.com/t5/Answers-Developer-Questions/scheduledJobManager-autowire/qaq-p/506323]\r\n\r\nLooking at the list of exported services in the system bundle (i.e. ${confluenceBaseUrl}/plugins/servlet/upm/osgi), it looks like there is no ScheduledJobManager exported by the system bundle as one would expect.\r\nh3. Steps to Reproduce\r\n # Use the\u00a0normal @ComponentImport and @Inject annotations provided by atlassian-spring-scanner to inject\u00a0ScheduledJobManager.\r\n\r\nh3. Expected Results\r\n\r\nScheduledJobManager is injected.\r\nh3. Actual Results\r\n\r\nScheduledJobManager is not injected and an exception occurs:\r\n{code:java}\r\n2021 - 01 - 05 14: 09: 49, 328 ERROR[UpmAsynchronousTaskManager: thread - 2][atlassian.plugin.manager.PluginEnabler] Unable to start the following plugins due to timeout while waiting for plugin to enable: :{redacted-class-name}--url: /confluence/rest / plugins / 1.0 / | traceId: e54d737d0e2e4096 | userName: admin2021 - 01 - 05 14: 09: 49, 569 WARN[Spring DM Context Creation Timer][internal.dependencies.startup.DependencyWaiterApplicationContextExecutor] Timeout occurred before finding service dependencies for [NonValidatingOsgiBundleXmlApplicationContext(bundle = :{redacted-class-name}, config = osgibundle: /META-INF/spring/*.xml)]2021-01-05 14:09:49,586 ERROR [Spring DM Context Creation Timer] [plugin.osgi.factory.OsgiPlugin] Plugin ':{redacted-class-name}' never resolved service '&scheduledJobManager' with filter '(&(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager)(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager))'2021-01-05 14:09:49,587 ERROR [Spring DM Context Creation Timer] [plugin.osgi.factory.OsgiPlugin] Unable to start the plugin container for plugin ':{redacted-class-name}'org.springframework.context.ApplicationContextException: Application context initialization for ':{redacted-class-name}' has timed out waiting for (&(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager)(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager))  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.timeout(DependencyWaiterApplicationContextExecutor.java:489)  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.access$000(DependencyWaiterApplicationContextExecutor.java:54)  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$WatchDogTask.run(DependencyWaiterApplicationContextExecutor.java:109)  at java.util.TimerThread.mainLoop(Timer.java:555)  at java.util.TimerThread.run(Timer.java:505)2021-01-05 14:09:49,756 ERROR [Spring DM Context Creation Timer] [extender.internal.support.ExtenderConfiguration] Application context refresh failed (NonValidatingOsgiBundleXmlApplicationContext(bundle=:{redacted-class-name}, config=osgibundle:/META-INF/spring/*.xml))org.springframework.context.ApplicationContextException: Application context initialization for ':{redacted-class-name}' has timed out waiting for (&(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager)(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager))  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.timeout(DependencyWaiterApplicationContextExecutor.java:489)  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.access$000(DependencyWaiterApplicationContextExecutor.java:54)  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$WatchDogTask.run(DependencyWaiterApplicationContextExecutor.java:109)  at java.util.TimerThread.mainLoop(Timer.java:555)  at java.util.TimerThread.run(Timer.java:505)2021-01-05 14:09:49,757 ERROR [Spring DM Context Creation Timer] [internal.dependencies.startup.DependencyWaiterApplicationContextExecutor] Unable to create application context for [:{redacted-class-name}], unsatisfied dependencies: Dependency on [(&(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager)(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager))] (from bean [&scheduledJobManager])org.springframework.context.ApplicationContextException: Application context initialization for ':{redacted-class-name}' has timed out waiting for (&(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager)(objectClass=com.atlassian.confluence.schedule.managers.ScheduledJobManager))  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.timeout(DependencyWaiterApplicationContextExecutor.java:489)  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.access$000(DependencyWaiterApplicationContextExecutor.java:54)  at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$WatchDogTask.run(DependencyWaiterApplicationContextExecutor.java:109)  at java.util.TimerThread.mainLoop(Timer.java:555)  at java.util.TimerThread.run(Timer.java:505)\r\n{code}\r\nh3. Workaround\r\n\r\nNone",
      "summary": "Unable to inject ScheduledJobManager"
    }
  },
  {
    "key": "CONFSERVER-62713",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-23T20:22:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen editing a word or excel macro that is embedded in a page with the edit link from the embedded macro, the edits do not get uploaded. This issue does not seem to affect PowerPoint macros.\r\nh3. Steps to Reproduce\r\n # Upload a word or excel document to the page\r\n # Select the edit in office hyperlink on the macro\r\n # Make and edit and save the page and refresh the Confluence page\r\n\r\nh3. Expected Results\r\n\r\nEdits should be uploaded and added to the macro as they are when selecting edit in office from the attachments section of the page\r\nh3. Actual Results\r\n\r\nEdits are not being uploaded into the macro\r\n\r\nThe below exception is thrown in the console log file in the browser:\r\n{code:java}\r\nEmbedded Edit With resource not available. Error: No cp/component/companion/embedded-edit-with\r\n    y http://localhost:27102/c7102/s/f54bc638cd9dc74dc24f597d47d4d007-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/bdc9d13a07aba12bf77ea4a717ab924c/_/download/contextbatch/js/_super/batch.js?enable.legacy.edit.in.office=true&locale=en-US:424\r\n    i http://localhost:27102/c7102/s/f54bc638cd9dc74dc24f597d47d4d007-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/bdc9d13a07aba12bf77ea4a717ab924c/_/download/contextbatch/js/_super/batch.js?enable.legacy.edit.in.office=true&locale=en-US:424\r\n    a http://localhost:27102/c7102/s/3af01e7bc2ed3a0d210904e96e2867b0-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/11.4.1/_/download/batch/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources.js?locale=en-US:5\r\n    success http://localhost:27102/c7102/s/3af01e7bc2ed3a0d210904e96e2867b0-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/11.4.1/_/download/batch/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources/com.atlassian.confluence.extra.officeconnector:converter-macro-web-resources.js?locale=en-US:5\r\n    i http://localhost:27102/c7102/s/f54bc638cd9dc74dc24f597d47d4d007-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/bdc9d13a07aba12bf77ea4a717ab924c/_/download/contextbatch/js/_super/batch.js?enable.legacy.edit.in.office=true&locale=en-US:44\r\n    fireWith http://localhost:27102/c7102/s/f54bc638cd9dc74dc24f597d47d4d007-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/bdc9d13a07aba12bf77ea4a717ab924c/_/download/contextbatch/js/_super/batch.js?enable.legacy.edit.in.office=true&locale=en-US:44\r\n    u http://localhost:27102/c7102/s/f54bc638cd9dc74dc24f597d47d4d007-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/bdc9d13a07aba12bf77ea4a717ab924c/_/download/contextbatch/js/_super/batch.js?enable.legacy.edit.in.office=true&locale=en-US:64\r\n    o http://localhost:27102/c7102/s/f54bc638cd9dc74dc24f597d47d4d007-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/bdc9d13a07aba12bf77ea4a717ab924c/_/download/contextbatch/js/_super/batch.js?enable.legacy.edit.in.office=true&locale=en-US:64\r\nbatch.js:2201:358\r\nSynchrony successfully initialised. batch.js:2201:358\r\nSource map error: Error: request failed with status 404\r\nResource URL: http://localhost:27102/c7102/s/e1d201c7ddf3f9a8772de0848b1c463b-CDN/-mnti2y/8506/5d4cfda2b837dbf77e088aa916d969d565373c86/0a4cfdaa4535c64135b7217a29875de9/_/download/contextbatch/js/editor-v4,editor,macro-browser,-_super,-atl.general,-viewcontent,-main,-page,-browser-metrics-plugin.contrib,-atl.comments/batch.js?enable.legacy.edit.in.office=true&frontend.editor.v4=true&gatekeeper-ui-v2=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US&user-logged-in=true\r\n{code}\r\nh3. Workaround\r\n # Use the Edit in Office hyperlink for the attachments section of the page\r\n # Select download from the previewer and make an edit and then select upload to upload the change",
      "summary": "When Editing a Word or Excel Macro via Edit in office embedded on a page the edits are not uploaded"
    }
  },
  {
    "key": "CONFSERVER-62712",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-23T16:50:52.000+0000",
      "description": "The Table Excerpt and Table Excerpt Include specifically state in their documentation that they can be used to generate multiple charts using the same table.\u00a0\r\n\r\n[https://docs.stiltsoft.com/display/TableFilter/How+to+use+Table+Excerpt+macro]\u00a0\r\n\r\n[https://docs.stiltsoft.com/display/TableFilter/How+to+use+Table+Excerpt+Include+macro]\r\n\r\nHowever, using these macros with the Chart macro does not produce the intended results:\r\n\r\nIntended result:\r\n\r\n!image-2017-07-05-16-37-46-108.png!\r\n\r\nActual result:\r\n\r\n!image-2017-07-05-16-35-14-811.png!\r\n\r\nSource:\u00a0\r\n\r\n!image-2017-07-05-16-36-32-524.png!",
      "summary": "Chart macro unable to create chart from table excerpts include macro"
    }
  },
  {
    "key": "CONFSERVER-62711",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-23T14:10:57.000+0000",
      "description": "h3. Issue Summary\r\n* The *Properties* and *Edit* buttons are missing from the attachments page even though a user has the *View All* and *Add Attachments* permissions, being able to edit the attachment when opening it in *Preview*, with the *Companion app*.\r\n\r\nh3. Steps to Reproduce\r\n# Set up a space with the following space permissions:\r\n !grouppermissions.png|thumbnail! \r\n# Create a page with attachments in it\r\n# Navigate to the page's *... >> Attachments* area with a user that has only the *View All* and *Add Attachments* permissions\r\n\r\nh3. Expected Results\r\n* The user should be able to see the *Properties* and *Edit* buttons, as they are able to edit the attachments using the *Companion app*, on *Preview* mode\r\n\r\nh3. Actual Results\r\n* The user doesn't see any option to edit the attachment in the *... >> Attachments* area:\r\n !attachmentpage.png|thumbnail! \r\n\r\nh3. Workaround\r\n* Add the *Add Pages* space permission to the affected user/group, so they can see the *Properties* and *Edit* buttons.",
      "summary": "Properties and Edit buttons are missing even though user can edit an attachment"
    }
  },
  {
    "key": "CONFSERVER-62709",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-23T05:19:44.000+0000",
      "description": "h3. Problem\r\nAt the moment, it is not possible to synchronize a Confluence Server instance over a Confluence Cloud instance \r\n\r\nh3. Suggested Solution\r\nAllow a Confluence Server instance to be synchronized on a regular basis with a Confluence Cloud instance.\r\n* content will be migrated from Server over to Cloud on a regular basis (frequency can be selected in Server side)\r\n* or vice-versa content will be migrated from Cloud to Server on a regular basis (frequency can be selected in the Cloud side)\r\n\r\nh3. Why This Is Important\r\nIt would give the ability to use Confluence Server or Confluence Cloud inter-dependently.\r\nIt definitely requires a lot more scoping but in substance that would be the idea.\r\n\r\nh3. Workaround\r\nN/A",
      "summary": "Synchronization between Confluence Server and Confluence Cloud instances"
    }
  },
  {
    "key": "CONFSERVER-62707",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-04T07:01:14.000+0000",
      "created": "2021-03-23T03:14:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter recent update to TeamCal 6.1.7 users aren't able to see Calendars and their events on My Calendar page. \r\n\r\nAfter some investigation I have found that problem is caused by *QueryDSL* which is used to filter out records that aren't exist in DB, but saved in user preferences (method *filterSubCalendarIds* from *AbstractCalendarDataStore* class). It seems that for some reason this query couldn't find records in db while they actually exist. I have created custom version of a plugin ([see code in this pr|https://stash.atlassian.com/projects/CONFSERVER/repos/teamcal/pull-requests/470/overview])\u00a0 which performs more logging and asked customer to install it. This is a piece of logs that were produced by this version:\r\n{code:java}\r\n2021-03-19 16:53:43,058 INFO [http-nio-8090-exec-99] [calendar3.rest.Interceptors.TeamCalResourceLoggingInterceptor] intercept Invoking rest endpoint [AbstractSubResourceMethod(CalendarResource#getSubCalendars)] via http method [GET]\r\n2021-03-19 16:53:43,059 DEBUG [http-nio-8090-exec-99] [extra.calendar3.rest.AbstractResource] getSubcalendarsInternal Start getting information about SubCalendars. CalendarContext: myCalendars, spaceKey: , subCalendarIdIncludes: \r\n2021-03-19 16:53:43,059 DEBUG [http-nio-8090-exec-99] [confluence.extra.calendar3.DefaultCalendarUserPreferenceStore] getCachedUserPreference User preferences successfully retrieved from cache. User: ff80808163e50beb0163e5366ab80000\r\n2021-03-19 16:53:43,060 DEBUG [http-nio-8090-exec-99] [confluence.extra.calendar3.DefaultCalendarManager] getSubCalendarsInView Found 1 subCalendars in userPreferences. User: ff80808163e50beb0163e5366ab80000, SubCalendarIds: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n2021-03-19 16:53:43,060 DEBUG [http-nio-8090-exec-99] [extra.calendar3.calendarstore.DelegatingCalendarDataStore] filterSubCalendarIds filterSubCalendarIds from DelegatingCalendarDataStore is called\r\n2021-03-19 16:53:43,061 DEBUG [http-nio-8090-exec-99] [extra.calendar3.calendarstore.DelegatingCalendarDataStore] filterSubCalendarIds CalendarDataStore class com.atlassian.confluence.extra.calendar3.calendarstore.ChildJiraSubCalendarDataStoreCachingDecorator is used for filtering subCalendars: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n2021-03-19 16:53:43,062 DEBUG [http-nio-8090-exec-99] [extra.calendar3.calendarstore.CalendarDataStoreCachingDecorator] filterSubCalendarIds filterSubCalendarIds from CalendarDataStoreCachingDecorator is called\r\n2021-03-19 16:53:43,062 DEBUG [http-nio-8090-exec-99] [extra.calendar3.calendarstore.AbstractCalendarDataStore] filterSubCalendarIds QueryDSL is ready for TC, start filtering subCalendarIds: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n\r\n2021-03-19 16:53:43,064 DEBUG [http-nio-8090-exec-99] [extra.calendar3.calendarstore.AbstractCalendarDataStore] lambda$filterSubCalendarIds$4 Start filtering batch of subCalendarIds: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n\r\n2021-03-19 16:53:43,066 DEBUG [http-nio-8090-exec-99] [mysema.query.sql.AbstractSQLQuery] list query : select \"ao_950dc3_tc_subcals\".\"ID\"from \"ao_950dc3_tc_subcals\" \"ao_950dc3_tc_subcals\"where \"ao_950dc3_tc_subcals\".\"ID\" = ?\r\n2021-03-19 16:53:43,068 DEBUG [http-nio-8090-exec-99] [extra.calendar3.calendarstore.AbstractCalendarDataStore] lambda$filterSubCalendarIds$4 SubCalendarIds  found for query: from \"ao_950dc3_tc_subcals\" \"ao_950dc3_tc_subcals\"where \"ao_950dc3_tc_subcals\".\"ID\" = ?\r\n\r\n2021-03-19 16:53:43,069 DEBUG [http-nio-8090-exec-99] [confluence.extra.calendar3.DefaultCalendarManager] filterSubCalendarIds Amount of subCalendars left after filtering: 0, subCalendarIds: \r\n\r\n2021-03-19 16:53:43,071 DEBUG [http-nio-8090-exec-99] [extra.calendar3.rest.AbstractResource] getSubcalendarsInternal Found 0 subCalendars. SubCalendarIds: \r\n2021-03-19 16:53:43,072 INFO [http-nio-8090-exec-99] [extra.calendar3.rest.AbstractResource] getSubCalendarsResponse getSubCalendars successfully with total sub calendar is 0\r\n{code}\r\nI have also created another custom version of the plugin which never calls *QueryDSL*, but uses old approach with *ActiveObjects*. If they use such version all records found without any problems and they don't have this problem at all. Here is a piece of log with active object usage (same subCalendarId is used):\r\n{code:java}\r\n2021-03-19 17:02:53,989 INFO [http-nio-8090-exec-119] [calendar3.rest.Interceptors.TeamCalResourceLoggingInterceptor] intercept Invoking rest endpoint [AbstractSubResourceMethod(CalendarResource#getSubCalendars)] via http method [GET]\r\n2021-03-19 17:02:53,991 DEBUG [http-nio-8090-exec-119] [extra.calendar3.rest.AbstractResource] getSubcalendarsInternal Start getting information about SubCalendars. CalendarContext: myCalendars, spaceKey: , subCalendarIdIncludes: \r\n2021-03-19 17:02:53,991 DEBUG [http-nio-8090-exec-119] [confluence.extra.calendar3.DefaultCalendarUserPreferenceStore] getCachedUserPreference User preferences successfully retrieved from cache. User: ff80808163e50beb0163e5366ab80000\r\n2021-03-19 17:02:53,992 DEBUG [http-nio-8090-exec-119] [confluence.extra.calendar3.DefaultCalendarManager] getSubCalendarsInView Found 1 subCalendars in userPreferences. User: ff80808163e50beb0163e5366ab80000, SubCalendarIds: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n2021-03-19 17:02:53,992 DEBUG [http-nio-8090-exec-119] [extra.calendar3.calendarstore.DelegatingCalendarDataStore] filterSubCalendarIds filterSubCalendarIds from DelegatingCalendarDataStore is called\r\n2021-03-19 17:02:53,993 DEBUG [http-nio-8090-exec-119] [extra.calendar3.calendarstore.DelegatingCalendarDataStore] filterSubCalendarIds CalendarDataStore class com.atlassian.confluence.extra.calendar3.calendarstore.ChildJiraSubCalendarDataStoreCachingDecorator is used for filtering subCalendars: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n2021-03-19 17:02:53,993 DEBUG [http-nio-8090-exec-119] [extra.calendar3.calendarstore.CalendarDataStoreCachingDecorator] filterSubCalendarIds filterSubCalendarIds from CalendarDataStoreCachingDecorator is called\r\n\r\n2021-03-19 17:02:53,993 DEBUG [http-nio-8090-exec-119] [extra.calendar3.calendarstore.AbstractCalendarDataStore] filterSubCalendarIdsByAO Start filtering subCalendarIds using ActiveObjects: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n2021-03-19 17:02:53,995 DEBUG [http-nio-8090-exec-119] [extra.calendar3.calendarstore.AbstractCalendarDataStore] filterSubCalendarIdsByAO Found 1 subCalendars after filtering using ActiveObjects: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n\r\n2021-03-19 17:02:53,995 DEBUG [http-nio-8090-exec-119] [confluence.extra.calendar3.DefaultCalendarManager] filterSubCalendarIds Amount of subCalendars left after filtering: 1, subCalendarIds: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n2021-03-19 17:02:53,996 DEBUG [http-nio-8090-exec-119] [extra.calendar3.rest.AbstractResource] getSubcalendarsInternal Found 1 subCalendars. SubCalendarIds: 3aeaa1b5-f337-455d-ad91-b28397d7850c\r\n{code}\r\nCustomer uses PostgresSql 9.6.18, but even if I use the same version this problem is not reproduced for me.\r\n\u00a0\r\n\r\nP.s I have noticed that in the query that was logged on customer machine table name was in lower case:\r\n{code:java}\r\nselect \"ao_950dc3_tc_subcals\".\"ID\"from \"ao_950dc3_tc_subcals\" \"ao_950dc3_tc_subcals\"where \"ao_950dc3_tc_subcals\".\"ID\" = ?\r\n{code}\r\nWhen I run this code locally table name is in upper case. I have tried to run this query with lower case table name locally (not in code, but in db directly) and it failed because such table couldn't be found. I'm not sure that this is the reason of this problem because there are no errors logged, but probably we should check it as well.\u00a0\r\nh3. Steps to Reproduce\r\n\r\nI have never been able to reproduce this issue locally, but this is the steps that customer was doing to reproduce it:\r\n # Open My Calendar page\r\n # Subscribe to an existing calendar at which user haven't subscribed yet\r\n # Reload the page - there is no events from this calendar\r\n # Try to subscribe to this calendar again - calendar is not present in list of available calendars\r\n # Go to space with this calendar and open Calendars tab - calendar is displayed\r\n\r\nh3. Expected Results\r\n\r\nAll events from calendars to which this user has subscribed are displayed on the My Calendar page\r\nh3. Actual Results\r\n\r\nCalendars and their events aren't displayed in My Calendar page. This page is completely empty for user.\r\n",
      "summary": "Users unable to see calendar to which they have subscriber in My Calendar page"
    }
  },
  {
    "key": "CONFSERVER-62630",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-22T12:34:15.000+0000",
      "description": "h3. Issue Summary\r\nAdding table to Section Macro will not render all the contents of the Macro in Firefox Browser.\r\nh3. Steps to Reproduce\r\nStep 1: Create a page & include section macro\r\nStep 2: Include 5 or 6 lines of text as paragraph.\r\nStep 3: Include tables with few rows & columns.\r\nStep 4: Save/Preview the page\r\n\r\nh3. Expected Results\r\nOnly the first line of the text is displaying above the table & other lines of text are hidden.\r\n\r\nh3. Actual Results\r\nWe need to display the complete text & table within section macro over Firefox browser.\r\n\r\n(i) Note: Chrome & Edge browser are loading as expected behaviour.\r\n\r\nh3. Workaround\r\n\r\nIf possible we can separate the Table from contents into different Section macro's. So that both can be rendered without issues throughout all the Browsers.",
      "summary": "Adding table to Section Macro will not render all the contents of the Macro in Firefox Browser."
    }
  },
  {
    "key": "CONFSERVER-62628",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-22T10:22:11.000+0000",
      "description": "h3. Problem\r\nAudit Logs not logging event when downloading an attachment from attachment macro\r\n\r\nh3. Environment\r\n* Confluence DC\r\n\r\nh3. Steps to Reproduce\r\n# Navigate to *Confluence Administration* > *Audit log* and set the coverage level for End user activity to *Full*\r\n# Create a test page\r\n# Add attachment macro to the page\r\n# Upload a couple of test files (Office files, PDF, images)\r\n# Download an attachment\r\n\r\n[^Screen Recording 2021-03-22 at 9.26.35 pm.mov] \r\n\r\nh3. Expected Results\r\nAudit logs should show recent Attachment download for the user.\r\n\r\nh3. Actual Results\r\nNo logging event\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available\r\n\r\nh3. Notes\r\n* *Download All* trigger the audit log event\r\n* View the attachment then download also trigger the audit log event \r\n",
      "summary": "Audit Logs not logging event when downloading an attachment from attachment macro"
    }
  },
  {
    "key": "CONFSERVER-62390",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-22T02:41:54.000+0000",
      "description": "h3. Issue Summary\r\nWhile multiple pages are exported in PDF after having CSS to hide TOC ( Table of Contents ) leads to blank page in the beginning of the report. This issue is intermittent.\r\nh3. Steps to Reproduce\r\n* Create many pages in a space including child pages\r\n* Go to space tools\r\n* Go to Look and Feel\r\n* Add the below CSS to hide PDF Stylesheet\r\n{code}\r\ndiv.toc\r\n{\r\ndisplay: none;\r\n}\r\n{code}\r\n* Now Export the space in PDF as shown in the attached recording\r\n* The PDF report contains a blank page in the beginning\r\n\r\nh3. Expected Results\r\n* A blank page is generated in the beginning of the page\r\n\r\nh3. Actual Results\r\n* Blank page should not get appeared\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n\r\nh3. Workaround\r\n* Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Exporting Multiple pages in PDF for PDF export of Space after using CSS to hide TOC leads to blank page in the beginning"
    }
  },
  {
    "key": "CONFSERVER-62343",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T07:04:41.000+0000",
      "created": "2021-03-19T17:03:28.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSince (at least) 7.10.2 The *Edit Document* button in the Excel and Word Office connector macro downloads the attachment rather than opening the attachment in either Word or Excel\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.10.2 or 7.11.0\r\n # Head over to *General Configuration* > *Office Connector* and ensure that *Enable Edit in Office for all users* option is enabled.\r\n # Head over to a Confluence Page and upload a word or an excel attachment.\r\n # Add the above attachment inside the a word or and excel macro\r\n # Save the page\r\n\r\nh3. Expected Results\r\n\r\nThe *Edit Document* on top of the office macro is clickable and will open the attachment in Word or Excel.\r\nh3. Actual Results\r\n\r\nThe *Edit Document* on top of the office macro is clickable and downloads the application.\r\nh3. Workaround 1\r\n\r\nEditing documents via the Attachments page\u00a0\r\n * Head over to the affected page > click (...) on the top right side of the page > Attachments\r\n\r\nh3. Workaround 2\r\n\r\nDisable Edit in Office (  !http://i.imgur.com/Ew0T0kz.png! *> General Configuration > Office Connector > uncheck \"Enable Edit in Office for all users\"*) and use [Companion Apps|https://confluence.atlassian.com/doc/install-atlassian-companion-992678880.html] to edit files.\r\nh3. Workaround 3\r\n\r\nThis requires downgrading the Office Connector plugin which may not be compatible with newer versions of Confluence and is not supported. However, this has been tested and it works with up to Confluence 7.11.0:\r\n # *Stop Confluence*\r\n # Copy/Download the [^OfficeConnector-11.2.2.jar]\u00a0from an older version of Confluence\r\n # Place it in the *confluence_install/confluence/WEB-INF/atlassian-bundled-plugins/* folder.\r\n # From the same folder, move the *OfficeConnector-x.x.x.jar* to another folder as backup.\r\n # *Start Confluence*\r\n\r\n(i) If using Docker a volume like such will suffice:\r\n\r\n{{/docker/confluence/OfficeConnector-11.2.2.jar:/opt/atlassian/confluence/confluence/WEB-INF/atlassian-bundled-plugins/OfficeConnector-11.3.2.jar\u2029}}\r\nh3. Notes\r\n * Functionality works fine in Firefox\r\n * The *Edit in Office* button works from the attachments page\r\n * Confluence versions prior to 7.9 are not impacted\r\n ** Presumably this broke with the fix from CONFSERVER-60622\r\n\r\n\u00a0",
      "summary": "Edit Document button in Excel and Word macro does not trigger Edit in Office"
    }
  },
  {
    "key": "CONFSERVER-62341",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-18T08:07:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter adding a PNG image to the page and applying a visual effect to it, the image is rendered much bigger (up to 30x and even more compared to the original size). As a result, it leads to the pages with lots of PNG attachments to go over 100+ mb in size that may refuse to open.\r\n\r\nh3. Steps to Reproduce\r\n- Spin up a clean Confluence Server instance with AdoptOpenJDK-11. (used latest Docker image - 7.11.1)\r\n- Add a PNG image to the page\r\n- Apply the \"Snapshot\" visual effect to the image.\r\n- Save the page\r\n- Open developer tools in the browser, disable the cache and refresh the page. \r\n\r\nh3. Expected Results\r\nThe effect-applied image's size remains close to its original size.\r\n !bugreport_adoptjdk8_1.jpg|thumbnail! \r\n !bugreport_adoptjdk8_2.jpg|thumbnail! \r\n\r\nh3. Actual Results\r\nThe effect-applied image dramatically increases in size.\r\n !bugreport_adoptjdk11_1.jpg|thumbnail! \r\n !bugreport_adoptjdk11_2.jpg|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nUsing AdoptOpenJDK-8 or OracleJDK prevents this behavior to happen.",
      "summary": "Image effects generates bigger PNG images compared to original size with AdoptOpenJDK-11"
    }
  },
  {
    "key": "CONFSERVER-62340",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-31T00:27:11.000+0000",
      "created": "2021-03-18T06:18:53.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence 7.10 onwards, merging a top-header cell with an empty cell underneath it:\r\n * displays correctly during the create/edit-page stage, but\r\n * the merged cells get truncated, and the neighboring (non-empty) cell moves under the merged cell in a last-second post-render change when published.\r\n\r\nh3. Steps to Reproduce\r\n # Create page > insert table > 2x2 layout\r\n # Create a table like so:\r\n||header1 (merged with an empty cell under me)||header2||\r\n|<leave this cell empty>|I am originally under header2 during edit.\r\n \u2190next to me was an empty cell|\r\n\r\n(i) NOTE: Top row must be headers.\r\n\r\n # Merge *header1* with the empty cell underneath\r\n # Publish page\r\n\r\nh3. Expected Results\r\n\r\nMerged cells to retain layout that is seen during edit:\r\n !image-2021-03-18-17-11-32-239.png!\r\nh3. Actual Results\r\n\r\nMerged cells get truncated, cells at the end of the row shift left:\r\n!image-2021-03-18-17-16-38-546.png!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Merging a top-header cell with an empty cell below it leads to misaligned/incorrectly rendered tables"
    }
  },
  {
    "key": "CONFSERVER-62339",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-18T06:14:19.000+0000",
      "description": "This is a feature request more in line with the concept of Live templates which are presently not available within the product. \r\n\r\nUse Case - Good number of pages already created using some page template. Once any new modifications are done under the template itself all these existing pages needs to be modified manually which is really cumbersome and can be really time consuming if we are looking at 100+ pages. \r\n\r\nThough there are third party applications which exists around this one but it's a good feature to have in the product by default. \r\n",
      "summary": "Automatically trickle down all modifications on the existing pages once Template is modified"
    }
  },
  {
    "key": "CONFSERVER-62338",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-12T01:56:49.000+0000",
      "created": "2021-03-18T03:10:46.000+0000",
      "description": "This ticket documents a number of configuration changes made to Confluence for version 7.12.0.\r\n\r\nh2. Database Configuration\r\nConfluence now takes advantage of the JDBC4 isValid method to check if a database connection is alive prior to use. Previously a validation query could be set manually to enable this functionality. By using the isValid method, the driver will now determine the best way to check a connection. This results in a small performance improvement, but is mainly about simplifying config.\r\n\r\nThe new configuration is defined out of the box, and existing customers configurations will be updated with an upgrade task to save you some time\r\n{code:title=confluence.cfg.xml changes}\r\n# Removed\r\n<property name=\"hibernate.c3p0.preferredTestQuery\">SELECT 1</property>\r\n# Added\r\n<property name=\"hibernate.c3p0.validate\">true</property>\r\n{code}\r\n\r\nh2. Java Configuration and Setenv.sh Changes\r\nThe {{setenv.sh}} file is used to configure Java and environment options. With this change, the {{setenv.sh}} file is now broken into segments with the most commonly modified options in easy to change setting blocks. Hopefully this will make configuration easier, and make moving configuration changes between Confluence versions simpler.\r\n\r\nIn addition to this change, we've updated the default Java configuration shipped with Confluence\r\n\r\nThe following items were removed as they're configured by the JVM as defaults\r\n# -XX:+UseCodeCacheFlushing\r\n# -XX:-PrintGCDetails\r\n# -XX:-PrintTenuringDistribution\r\n# -XX:+PrintGCCause\r\n\r\nWe also removed a configuration that forced TLSv1.1/1.2 that was used to mitigate a bug in Java 11. The removal of this workaround was enabled by the JDK fixing the relevant bugs. The JDK will now negotiate the appropriate TLS version at runtime.\r\n\r\nFinally, we've added the following configuration\r\n# -XX:+ExplicitGCInvokesConcurrent\r\n# {code:title=Large to Enterprise Scale Configuration Options}\r\n#CATALINA_OPTS=\"-XX:ReservedCodeCacheSize=384m ${CATALINA_OPTS}\"\r\n#CATALINA_OPTS=\"-XX:+PrintTenuringDistribution ${CATALINA_OPTS}\"\r\n#CATALINA_OPTS=\"-XX:+PrintGCDetails -XX:+PrintGCTimeStamps ${CATALINA_OPTS}\"\r\n#CATALINA_OPTS=\"-Dconfluence.upgrade.recovery.file.enabled=false ${CATALINA_OPTS}\"${CATALINA_OPTS}\"\r\n{code}\r\n\r\nWith the addition of {{-XX:+ExplicitGCInvokesConcurrent}}, we recommend the removal of {{-XX:+DisableExplicitGC}}. This change was made to reduce the chance of {{OutOfMemoryError}} occurring in certain native memory operations.\r\n\r\nThe {{Large to Enterprise Scale Configuration Options}} block contains settings we recommend for our largest customers. These options will not benefit our smaller customers, but should allow easier configuration when required.\r\n\r\nh2. Windows Configurations\r\nFinally, we attempted to bring Windows and Linux configurations into alignment as detailed in [CONFSERVER\\-53524: Service.sh and setenv.bat files set different Java options|https://jira.atlassian.com/browse/CONFSERVER-53524]. The Windows service now installs with the same configurations as Windows and Linux run scripts.\r\n\r\nAs part of this work, we identified an additional bug with regards to Java 11 Garbage Collection logging. It is currently tracked at [CONFSERVER\\-61415: Java 11 Garbage Collection Logging Settings Are Not Correctly Applied on Confluence Start|https://jira.atlassian.com/browse/CONFSERVER-61415]. Once we are able to resolve this issue, we'll be able to close both tickets.",
      "summary": "Update Default Confluence Configuration"
    }
  },
  {
    "key": "CONFSERVER-62231",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-17T14:35:04.000+0000",
      "description": "h3. Issue Summary\r\nNeed to update the documentation for Data Model of Confluence \r\n\r\nh3. Steps to Reproduce\r\n # TRACKBACKLINKS and EXTRNLNKS database tables were removed in Confluence 7.0\r\n # New Triggers introduced in the latest version\r\n\r\nh3. Expected Results\r\nDocumentation should be updated(https://confluence.atlassian.com/doc/confluence-data-model-127369837.html\r\n\r\nh3. Actual Results\r\n\r\nDocumentation not updated\r\n\r\nh3. Workaround\r\n\r\n Currently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Update documentation  Data Model for Confluence"
    }
  },
  {
    "key": "CONFSERVER-62230",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-17T12:58:26.000+0000",
      "description": "This feature request is created to Allow a feature to Provide Page Permission to users for a Specific Page without Providing space access.\r\n\r\nCurrently, you have to provide Space permission first and then Page restrictions. The workaround i.e.\u00a0You have to give user X access to Space B and then restrict all the pages, except the one you want to give access to, from user X is not convenient.\u00a0",
      "summary": "Allow a feature to Provide Page Permission to users for a  Specific Page without Providing space access"
    }
  },
  {
    "key": "CONFSERVER-62229",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-04T07:02:40.000+0000",
      "created": "2021-03-17T11:56:33.000+0000",
      "description": "h3. Problem\r\n\r\nTeam Calendar : When we check option , \"Don't notify space or page watchers\"\r\n it should Only send calendar notifications to people who are directly watching a calendar.\r\n But it also sends notification to space watchers, even though those users are not calendar watcher.\r\nh3. Environment\r\n * Confluence 7.9.0 (Build: 8505)\r\n * Team Calendar Version:7.0.7\r\n\r\nh3. Steps to Reproduce\r\n # Create two users on confluence U1 and U2.\r\n # Create a *Space* using user U1\r\n # U1 is admin user , Create team calendar from U1, add new calendar (using TC macro) to a page in the Space\r\n # Login\u00a0via U2 and go to Calendar and check it is not watching calendar (which should be in place already as we didn't specifically watched from user U2)\r\n # Go to *Space* and make U1 and U2 as watchers\r\n # Create an *Event* in the calendar using U1\r\n\r\nh3. Expected Results\r\nUser U2 should not get notification, as option \"Don't notify space or page watchers\" has been checked\r\nh3. Actual Results\r\nUser U2 gets notification, even though he is just an space watcher and not calendar\r\nh3. Workaround\r\n\r\nNA\r\nh3. Notes\r\n\r\nSMTP configuration should be in place , so that Confluence is able to send notification.",
      "summary": "Team Calendar : Don't notify space or page watchers option doesn't apply"
    }
  },
  {
    "key": "CONFSERVER-62228",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-17T10:57:02.000+0000",
      "description": "Note: This issue is a copy from JRASERVER-64104. Jira has also the same bug https://jira.atlassian.com/browse/JRASERVER-64104\r\n\r\n===\r\n\r\nh3. Issue Summary\r\n\r\nLDAP Connectors are added with {{\"crowd.sync.incremental.enabled\": \"true\"}} by default, however our [documentation|https://confluence.atlassian.com/doc/connecting-to-an-ldap-directory-229838241.html] indicates that for \"Enable Incremental Synchronization\" that {quote}This setting is only available if the directory type is set to \"Microsoft Active Directory\".{quote}\r\n\r\nh3. Steps to Reproduce\r\n# Add a new LDAP directory of a type besides Microsoft Active Directory\r\n# Review your Directory Configuration Summary afterwards\r\n\r\nh3. Expected Results\r\n{{\"crowd.sync.incremental.enabled\": \"false\"}} would appear in the newly added LDAP directory.\r\n\r\n\r\nh3. Actual Results\r\n{{\"crowd.sync.incremental.enabled\": \"true\"}} is shown for the new directory. \r\n \r\nh3. Workaround\r\n- To change from *True* to *False*, *Edit* the existing Directory connector, set the type dropdown to _Microsoft Active Directory_ and then uncheck the *Incremental Sync* checkbox.  Change the type dropdown back to the original type, then save the changes.\r\n- To update DB table. please refer KB: https://confluence.atlassian.com/confkb/how-to-disable-incremental-synchronization-for-an-external-directory-through-the-database-814207420.html",
      "summary": "Incremental Sync enabled by default for non-Active Directory LDAP connector"
    }
  },
  {
    "key": "CONFSERVER-62077",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-16T13:26:47.000+0000",
      "description": "h4. Issue Summary\r\n\r\nDisabling the\u00a0Confluence Watch Button plugin doesn't disable the Watch This Space option.\r\nh4. Steps to Reproduce\r\n # Go to\u00a0*Settings*\u00a0>\u00a0*Apps*\u00a0>\u00a0*Manage apps > System App*\r\n # Search and Disable the plugin\u00a0Confluence Watch Button\r\n\r\nh4. Expected Results\r\n\r\nThis should disable the Watch Page or Space option throughout Confluence.\r\nh4. Actual Results\r\n\r\nWatch this space option is present under\u00a0http://<conflue-base-url>/collector/pages.action?key=SPACEKEY\r\nh4. Workaround\r\n\r\nThere is no workaround at the moment\r\n\r\n\u00a0",
      "summary": "Disabling Confluence Watch Button plugin doesn't disable Watch this space option"
    }
  },
  {
    "key": "CONFSERVER-62076",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-16T11:48:04.000+0000",
      "description": "h3. Issue Summary\r\nRestoring items from trash for personal spaces with a username (and therefore space key) with space character will display a restricted page.\r\n !Screen Shot 2021-03-16 at 12.40.12.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n# On AD create an SN that would have a record like \"firstname lastname\"\r\n# On Confluence side create connection to AD and use SN as username attribute.\r\n# Synchronise that user.\r\n# Login with that user and create persona space.\r\n# Personal space will look like this in UI \"~firstname+lastname\"\r\n# In the DB the spacekey will look like this \"~firstname lastname\"\r\n# Create a test page.\r\n# Delete test page.\r\n# Try to restore the test page.\r\n\r\nh3. Expected Results\r\nThe page will be restored\r\n\r\nh3. Actual Results\r\nThe page will be redirected to\r\n !Screen Shot 2021-03-16 at 12.40.12.png|thumbnail! \r\nThe page will not be restored.\r\n\r\nNothing is visible in logs or in the har file.\r\n\r\nh3. Workaround\r\nIn order to fix the issue, we need to change SN to use \"_\" or no space character for username. By default, Confluence will not allow spaces in username.\r\nThen *backup* and update all records in the DB to not have space:\r\n{code}\r\nUPDATE spaces SET spacekey = REPLACE('spacekey', ' ', '')\r\nUPDATE spaces SET lowerspacekey = REPLACE('lowerspacekey', ' ', '')\r\n{code}\r\n[Rebuild index from scratch|https://confluence.atlassian.com/confkb/how-to-rebuild-the-content-indexes-from-scratch-833941594.html].",
      "summary": "Restoring items from trash for personal spaces with username with space character will throw restricted page."
    }
  },
  {
    "key": "CONFSERVER-61862",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-15T23:34:53.000+0000",
      "description": "h3. Problem\r\nThe Popular Content Macro that is shipped with the *[Confluence Usage Stats|https://ecosystem.atlassian.net/wiki/spaces/USGTRK/overview]* plugin does not work properly with a comma-separated list of labels.\r\n\r\nh3. Environment\r\nTested in 3 different environments:\r\n\r\n* Confluence Server *7.3.1* fresh installation where *Confluence Usage Stats* version *2.0.3* has been enabled\r\n* Confluence Server *7.3.1* fresh installation where *Confluence Usage Stats* version *2.0.3* has been enabled\r\n* Confluence Server *7.11.1* fresh installation where *Confluence Usage Stats* version *3.0.0* has been enabled \r\n\r\nh3. Steps to Reproduce\r\n# Create two new confluence pages and:\r\n#* assign the label *label1* on page 1 (/)\r\n#* assign the label *label2* on page 2 (/)\r\n# Create a third page where I added a Popular Content macro with the [Confluence Storage Format|https://confluence.atlassian.com/doc/confluence-storage-format-790796544.html] below\r\n{code:HTML}\r\n<p>\r\n   <ac:structured-macro ac:name=\"popular\" ac:schema-version=\"1\" ac:macro-id=\"6358b026-3821-4b68-b164-9a1dc9487c1b\">\r\n      <ac:parameter ac:name=\"spaces\">\r\n         <ri:space ri:space-key=\"all\" />\r\n      </ac:parameter>\r\n      <ac:parameter ac:name=\"labels\">label1,label2</ac:parameter>\r\n   </ac:structured-macro>\r\n</p>\r\n{code}\r\n\r\nh3. Expected Results\r\nWe expect page 1 and page 2 to be returned by the macro\r\n\r\nh3. Actual Results\r\nNone of the pages are being returned\r\n\r\nh3. Workaround\r\n* Use as many popular content macro as there are labels to check and use only one single label such as label1 in our testing scenario and the page 1 will be displayed (/)\r\n{code:HTML}\r\n<p>\r\n   <ac:structured-macro ac:name=\"popular\" ac:schema-version=\"1\" ac:macro-id=\"6358b026-3821-4b68-b164-9a1dc9487c1b\">\r\n      <ac:parameter ac:name=\"spaces\">\r\n         <ri:space ri:space-key=\"all\" />\r\n      </ac:parameter>\r\n      <ac:parameter ac:name=\"labels\">label1</ac:parameter>\r\n   </ac:structured-macro>\r\n</p>\r\n{code}\r\n\r\n",
      "summary": "Popular Content Macro does not work with Multiple Labels"
    }
  },
  {
    "key": "CONFSERVER-61674",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-15T12:55:00.000+0000",
      "description": "When editing a Confluence page, it would be best if a single copy/paste would include Word, Powerpoint etc text, formatting, graphics and charts. Most charts do not render and must be added again separately or as attachments. For long documents this is time-consuming and error-prone.",
      "summary": "Pasting charts and graphics from Microsoft Office"
    }
  },
  {
    "key": "CONFSERVER-61624",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-12T11:30:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOur *Backup & Restore* page within the Confluence configuration indicates you can use site XML backups from very early versions of Confluence to restore data in current versions \"Confluence 7.4.5 can accept full site exports from Confluence 4.0 to Confluence 7.4.5\", we've seen cases where customers have used this as a method to upgrade. Although we mention this should not be done in our\u00a0[upgrade documentation|https://confluence.atlassian.com/doc/restoring-a-site-152034.html]:\r\n{quote}XML export files should not be used to upgrade Confluence. Upgrade Confluence by following [Upgrading Confluence|https://confluence.atlassian.com/doc/restoring-a-site-152034.html].\r\n{quote}\r\nThe statement could easily be misinterpreted as condoning using site exports as a means of upgrade. This however is unsupported and can cause numerous issues as site imports from earlier versions will not trigger certain database schema upgrades and a whole host of other upgrade tasks that are only done during an actual upgrade. _Especially from Confluence 4.0 - that is a long time ago._\r\n\r\nIt is possible to upgrade directly from 5.4.4 to 7.> But from a support perspective even then we would recommend the following upgrade path: 5.4.4 > 5.10.9 > 6.15.10 >7.+ to reduce the risk of any errors in the future.\r\n\r\nPerhaps we could rephrase this text in a way that there is no ambiguity about using this method for other purposes such as upgrade.\r\nh3. Steps to Reproduce\r\n # Go to:  !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png! *> General Configuration > Backup & Restore* (<baseURL>/admin/backup.action)\r\n # Note the following sentence - (which will change between versions):\r\n{quote}Import Confluence data\r\n Confluence 7.4.5 can accept full site exports from Confluence 4.0 to Confluence 7.4.5\r\n{quote}\r\n\r\nh3. Expected Results\r\n\r\nConfluence should never be restored to another major version using an XML, and preferably should be restored to the exact same minor version as we don't even recommend XML backups as a reliable option in production environments - [Production Backup Strategy|https://confluence.atlassian.com/doc/production-backup-strategy-38797389.html]\r\n\r\nThis should be clarified in the\u00a0*Backup & Restore* section of Confluence's configuration UI.\r\nh3. Actual Results\r\n\r\nSometimes the site import will actually work, but can have issues with user accounts or a host of other issues that can't be effectively diagnosed as we have no details on what has occurred using an XML backup to upgrade rather than following the supported upgrade path and could cause further issues by trying to make corrections.\r\nh3. Workaround\r\n * Do not use XML site backups as a method of upgrading confluence, follow [Upgrading Confluence|https://confluence.atlassian.com/doc/upgrading-confluence-4578.html]",
      "summary": "Backup and Restore page within Confluence has ambiguous language about XML site exports"
    }
  },
  {
    "key": "CONFSERVER-61623",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-28T11:37:03.000+0000",
      "created": "2021-03-12T10:30:28.000+0000",
      "description": "h3. Issue Summary\r\nIf we upload 3 images 1 by one to the newly created draft, the publishing will be broken, and we will see an error message in the UI.\r\nThe issue will manifest with templates, pages, and blog posts.\r\n\r\n\"Can't sync with the server.\r\nRefresh the page to try to re-establish the connection.\"\r\n\r\n !Screen Shot 2021-03-12 at 11.13.06.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n# Create a new page\r\n# Add a title to it.\r\n# Add 3 images *one by one* by drag and drop.\r\n# After the second image title will be removed.\r\n# Try to publish the page\r\n\r\nh3. Expected Results\r\nThe page will be published.\r\n\r\nh3. Actual Results\r\nThe page is not published, and we get an error in UI.\r\n\"Can't sync with the server.\r\nRefresh the page to try to re-establish the connection.\"\r\n\r\nIn the har file we see:\r\n{code}\r\nRequest URL: http://localhost:6781/c781/rest/api/content/786442?status=draft\r\nRequest Method: PUT\r\nStatus Code: 409 \r\nRemote Address: [::1]:6781\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\n{statusCode: 409,\u2026}\r\ndata: {authorized: false, valid: true, allowedInReadOnlyMode: true, errors: [], successful: false}\r\nallowedInReadOnlyMode: true\r\nauthorized: false\r\nerrors: []\r\nsuccessful: false\r\nvalid: true\r\nmessage: \"Draft versioning is not supported. Current version is : 1\"\r\nreason: \"Conflict\"\r\nstatusCode: 409\r\n{code}\r\n\r\nThe below exception is thrown in the Atlassian-confluence.log file:\r\n{noformat}\r\n2021-03-12 11:28:44,159 INFO [http-nio-6781-exec-3] [plugins.synchrony.service.SynchronyExternalChangesManager] performExternalChange Started external change for ContentId{id=786442}\r\n2021-03-12 11:28:44,162 INFO [http-nio-6781-exec-3] [synchrony.service.http.SynchronyRequestExecutor] execute Initiating request PUT http://127.0.0.1:5781/synchrony/v1/data/Synchrony-11bbfcae-7d43-38d8-aace-d16466ed4c25/confluence-786442?state-at=@head&state-format=html HTTP/1.1 for 786442\r\n2021-03-12 11:28:44,367 WARN [http-nio-6781-exec-6] [persistence.dao.filesystem.HierarchicalContentFileSystemHelper] createDirectoryHierarchy Failed to create directory at /Users/gpaunovic/confluence-home/atlassian-confluence-7.8.1/imgEffects/193/36/786443\r\n -- referer: http://localhost:6781/c781/pages/createpage.action?spaceKey=781 | url: /c781/download/attachments/786442/1608832786165647.JPG | traceId: e2b84b5da9f548f2 | userName: admin\r\n2021-03-12 11:28:50,565 INFO [http-nio-6781-exec-2] [plugins.synchrony.service.SynchronyExternalChangesManager] performExternalChange Started external change for ContentId{id=786442}\r\n2021-03-12 11:28:50,568 INFO [http-nio-6781-exec-2] [synchrony.service.http.SynchronyRequestExecutor] execute Initiating request PUT http://127.0.0.1:5781/synchrony/v1/data/Synchrony-11bbfcae-7d43-38d8-aace-d16466ed4c25/confluence-786442?state-at=@head&state-format=html HTTP/1.1 for 786442\r\n2021-03-12 11:28:57,189 INFO [http-nio-6781-exec-7] [plugins.synchrony.service.SynchronyExternalChangesManager] performExternalChange Started external change for ContentId{id=786442}\r\n2021-03-12 11:28:57,201 INFO [http-nio-6781-exec-7] [synchrony.service.http.SynchronyRequestExecutor] execute Initiating request PUT http://127.0.0.1:5781/synchrony/v1/data/Synchrony-11bbfcae-7d43-38d8-aace-d16466ed4c25/confluence-786442?state-at=@head&state-format=html HTTP/1.1 for 786442\r\n2021-03-12 11:29:06,417 WARN [http-nio-6781-exec-6] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.api.impl.service.content.draft.ContentDraftServiceImpl.publishEditDraft]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #687731820)\r\n        [null]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT,readOnly (Session #582304549)\r\n -- referer: http://localhost:6781/c781/pages/resumedraft.action?draftId=786442&draftShareId=0129c27c-17aa-4726-ad55-8c56e164ca8b& | url: /c781/rest/api/content/786442 | traceId: 2ed9689878d29649 | userName: admin\r\n2021-03-12 11:29:07,447 WARN [http-nio-6781-exec-9] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.api.impl.service.content.draft.ContentDraftServiceImpl.publishEditDraft]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #836214065)\r\n        [null]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT,readOnly (Session #1773519869)\r\n -- referer: http://localhost:6781/c781/pages/resumedraft.action?draftId=786442&draftShareId=0129c27c-17aa-4726-ad55-8c56e164ca8b& | url: /c781/rest/api/content/786442 | traceId: 60cb2c2e0bad2612 | userName: admin\r\n2021-03-12 11:29:08,475 WARN [http-nio-6781-exec-1] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.api.impl.service.content.draft.ContentDraftServiceImpl.publishEditDraft]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #1677493447)\r\n        [null]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT,readOnly (Session #1600203221)\r\n -- referer: http://localhost:6781/c781/pages/resumedraft.action?draftId=786442&draftShareId=0129c27c-17aa-4726-ad55-8c56e164ca8b& | url: /c781/rest/api/content/786442 | traceId: eff9b7cf742a6cf8 | userName: admin\r\n2021-03-12 11:29:09,505 WARN [http-nio-6781-exec-6] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[com.atlassian.confluence.api.impl.service.content.draft.ContentDraftServiceImpl.publishEditDraft]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #1631128891)\r\n        [null]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT,readOnly (Session #2121442977)\r\n -- referer: http://localhost:6781/c781/pages/resumedraft.action?draftId=786442&draftShareId=0129c27c-17aa-4726-ad55-8c56e164ca8b& | url: /c781/rest/api/content/786442 | traceId: 2634270ac00d0bf9 | userName: admin\r\n{noformat}\r\n\r\nh3. Workaround\r\nThe current workaround is to refresh the page, and then publish it, or to create (publish) a page before adding images.\r\nAt the moment the issue is not affecting LTS 7.4.x and the latest 7.11.x\r\nThe issue is not visible without Collaborative editing.",
      "summary": "Uploading 3 images one by one will break publishing of page."
    }
  },
  {
    "key": "CONFSERVER-61622",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-15T00:33:41.000+0000",
      "created": "2021-03-11T23:19:18.000+0000",
      "description": "Affected versions of Atlassian Confluence Server and Data Centre allow a remote attacker to inject arbitrary Javascript into the context of the application via a Cross-Site Scripting vulnerability in the `docreatepagetemplate.action` template. This exploit requires an administrator to click on a malicious link.\r\n\r\nThe affected versions are before version 7.4.0.\r\n\r\n*Affected versions:*\r\n * 7.4.0\r\n\r\n*Fixed versions:*\r\n * 7.4.8, 7.8.0\u00a0\r\n\r\n\u00a0",
      "summary": "Cross site scripting vulnerability in docreatepagetemplate.action"
    }
  },
  {
    "key": "CONFSERVER-61621",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-11T14:56:13.000+0000",
      "description": "h3. Issue Summary\r\nWhen customer uploaded a excel file with vertical text in the cell, Confluence office Excel macro does not respected the format and display it horizontal\r\n\r\nh3. Steps to Reproduce\r\n# Create a excel file and set the text in a cell to vertical\r\n# Save the file\r\n# Upload to Confluence page\r\n# Display the excel file with Office Excel Macro\r\n(i) For details, please refer to the following video\r\n [^Bug on vertical text in Excel file.mov] \r\n\r\nh3. Expected Results\r\nText is show as vertical\r\n !Screenshot 2021-03-11 at 15.58.11.png|thumbnail! \r\n\r\nh3. Actual Results\r\nText is show as horizontal \r\n !Screenshot 2021-03-11 at 15.58.29.png|thumbnail! \r\n\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Vertical text format is not respected in Confluence Office Excel Macro"
    }
  },
  {
    "key": "CONFSERVER-61620",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-11T12:48:27.000+0000",
      "description": "h3. Issue Summary\r\nWhen clicking on \"Turn on reminder\" next to an event in Team Calendar in a page, the next time the menu shows as \"Turn Off reminder\" indicating that the reminder has been turned on. However if the page is refreshed, the event menu shows again as \"Turn On reminder\" even though it was turned on previously.\r\n\r\nh3. Steps to Reproduce\r\n # Create a page\r\n# Add Team Calendar macro\r\n# Add an event >> update the page\r\n# on the bottom of the calendar, click on \"...\" next to the event, then turn on reminder\r\n\r\nh3. Expected Results\r\nAfter turning on the reminder, it should remain turned on even after refreshing the page\r\n\r\nh3. Actual Results\r\nRefreshing the page after clicking on \"Turn on reminder\" shows the option to again \"Turn on reminder\" instead of \"Turn off reminder\" \r\n\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Turn On Reminder resets in Team Calendar after refreshing the page "
    }
  },
  {
    "key": "CONFSERVER-61619",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-11T03:28:40.000+0000",
      "description": "h3. Problem Definition\r\nWhen Jira times out during bulk issue creation, the error message give only described the problem as \"The server may be unreachable. Please ensure you are running Jira 5.0 or higher.\" \r\n\r\nh3. Suggested Solution\r\nChange the wording to account for cases where Jira was reachable but then timed out, versus never connecting at all, so this may be considered as a possible factor when troubleshooting. \r\n \r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Improve wording of error when creating bulk Jira issues from table in Confluence"
    }
  }
]