[
  {
    "key": "CONFSERVER-61618",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-11T03:11:45.000+0000",
      "description": "h3. Issue Summary\r\nWhen using a table in Confluence to bulk-create issue, sometimes the \"Create multiple issues from table\" link will be missing.\r\n\r\nh3. Steps to Reproduce\r\n # Create a table of values in Confluence\r\n # Highlight one of the rows in the table and select the \"Jira\" icon that appears in the tool tip popup\r\n\r\nh3. Expected Results\r\nYou will be presented with a  \"Create multiple issues from table\" link which you can click to continue the bulk issue creation process.\r\n\r\nh3. Actual Results\r\nThis link will be missing altogether. \r\n\r\nh3. Workaround\r\nReload the page and repeat the steps, subsequent attempts should reveal the missing link. ",
      "summary": "\"Create multiple issues from table\" link missing intermittently when bulk-creating Jira issues from a Confluence table of values"
    }
  },
  {
    "key": "CONFSERVER-61617",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-11T00:22:31.000+0000",
      "created": "2021-03-11T00:20:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter upgrading from 6.13 to 7.4.1 and a full content reindex, the customer noted that they were no longer able to see new indexable actions show up in the UI (cannot search for newly generated content, etc). Full content reindexes from scratch work fine, but the actual scheduled job for ongoing index operations is not working.\r\nh3. Steps to Reproduce\r\n # Upgrade from 6.13 to 7.4.1\r\n # Perform full content reindex\r\n\r\nh3. Expected Results\r\n\r\nNew content that is generated should be indexed after the latest content reindex.\r\nh3. Actual Results\r\n\r\nNew content that is generated is not being indexed after the latest content reindex, so anything that depends on index updates in the UI are not available to retrieve the new content beyond this point.\u00a0\r\n\r\nNobody is currently able to search newly created content beyond the time of the content index being rebuilt. All production users are impacted as a result, with a user pool of 8.5k accounts.",
      "summary": "Remote operations on Hibernate 2nd level distributed caches can become slow in multi-node DC."
    }
  },
  {
    "key": "CONFSERVER-61599",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-10T20:20:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAudit Logs not logging event when downloading an attachment via curl\r\nh3. Steps to Reproduce\r\n\r\n*Confluence Data Center Only*\r\n # Navigate to *Confluence Administration* > *Audit log* and set the coverage level for _End user activity_ to *Full*\r\n # Download an attachment in Confluence via curl. Example command:\r\n{code:none}\r\ncurl -u admin http://localhost:8090/confluence/download/attachments/360451/sample.jpg -o sample.jpg\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nAudit logs should show recent Attachment download for the user.\r\nh3. Actual Results\r\n\r\nAudit logs only show the successful authentication of user\r\n !audit.png|width=1648,height=229!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Audit Logs not logging event when downloading an attachment via curl"
    }
  },
  {
    "key": "CONFSERVER-61598",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-10T20:12:52.000+0000",
      "description": "h3. Problem Definition\r\nError message for CONFSERVER-36211 is misleading \r\n\r\nh3. Suggested Solution\r\nImprove the error message to indicate possible causes, such as images that are too large or a corrupted file. Suggest the workaround of reducing images sizes in the document or \"File is corrupted try saving the contents into a new file\".\r\n\r\nh3. Workaround\r\nN/A",
      "summary": "Improve error message for CONFSERVER-36211"
    }
  },
  {
    "key": "CONFSERVER-61597",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-10T13:46:57.000+0000",
      "description": "h3. *Problem Definition*\r\n\r\nOn the page view, whenever you paste a link on the page, Confluence initiates a Smart Link that will attempt to preview this link.\u00a0\r\nh3. *Steps to Reproduce*\r\n * Create a Page\r\n * Insert a Google Docs link\r\n * We see it populates the Widget Connector as below:\r\n !Screenshot 2021-03-10 at 7.10.13 PM.png|width=422,height=240!\r\n * Upon updating it renders as below in Page View\r\n \u00a0  !Screenshot 2021-03-10 at 7.10.28 PM.png|width=390,height=184!\r\n\r\nh3. *Suggestion*\r\n\r\nAllow an option to be able to disable the Smart link by providing a \"turn off/on\" Smart link button, either on the Instance as a whole or on per Space basis.\r\nh3. *Workaround*\r\n\r\n_Note: Current workarounds only apply when creating a smart link. As a user viewing a smart link there is no current workaround._\r\n\r\nIn order to remove the Smart link from rendering on the new issue view.\r\n - Paste the Google link for example, once it renders to preview the link\r\n - Press Ctrl + Z (Windows) or Cmd + Z (MacOS) (this will revert the link to a normal blue link)\r\n\r\nAlternative workaround:\r\n - When inserting the link, be sure to use http:// instead of\u00a0[https://|https:]. The Smart Card feature will not be activated, and upon visiting the URL, it will automatically redirect to https:// for these services.",
      "summary": "Option to Disable Smart Links For Non-Atlassian Products on Confluence Page"
    }
  },
  {
    "key": "CONFSERVER-61596",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-10T09:24:44.000+0000",
      "description": "As a Confluence Administrator, I want to have the possibility to restrict the daily/weekly recommendation email to certain user groups.\r\n\r\n*User case*\r\n * Clients have a lot of external users who should not receive these kind of updates or recommendation.\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Allow administrator to restrict recommendation emails to certain user groups"
    }
  },
  {
    "key": "CONFSERVER-61560",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-09T21:50:34.000+0000",
      "description": "h3. Problem\r\n\r\nWhen typing the search word quickly, the search may fail. When typing it slowly, the search performs well.\r\nh3. Environment\r\n\r\nConfluence Data Center 7.4.3\r\nh3. Steps to Reproduce\r\n # Add the [Livesearch|https://confluence.atlassian.com/doc/livesearch-macro-163415902.html] Macro to a page\r\n # Slowly type a search word that you are sure that exists on a Confluence page\r\n ** *Results*: the search works and the results are exhibited\r\n # Erase the work so you can try again\r\n # Quickly type the same search word\r\n ** *Expected Results*: the search works and the results are exhibited\r\n ** *Actual Results*: the search doesn't return any results\r\n !search-1.png|width=407,height=92!\r\n ** Here's a video that shows the behavior:\u00a0[^Example.mp4]\r\n\r\n{panel:bgColor=#deebff}\r\n(i)\u00a0As this bug was observed on a fairly large Confluence instance, and the\u00a0search request is also complex, the issue seems to be related to performance issues. The steps above reproduced the issue on the affected environment, but not on a much smaller test environment because it lacked a large enough and complex data set.\r\n{panel}\r\nSo, why sometimes search results are complete and sometimes they are not? Since the search is performed for each character that is added to the *Livesearch* Macro, new letters are being added to the search and it seems Confluence is still busy processing the previous request.\r\n\r\nSo, we believe the last words are missed by Confluence and we never see another complete request for the full word\u00a0*diminution*.\r\n\r\n\u00a0\r\nh3. Possible Resolution\r\n\r\nWhen a new letter is added to the search, make Confluence stop the search for the previous word and restart the task.\r\nh3. Workaround\r\n\r\nCurrently, the only workaround is to type slowly.\r\nh3. Notes\r\n\r\nIt only affects the\u00a0*Livesearch* Macro, not the regular search in the top bar.",
      "summary": "Livesearch Macro fails if typing the search too fast"
    }
  },
  {
    "key": "CONFSERVER-61559",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-09T12:52:23.000+0000",
      "description": "h3. Issue Summary\r\nThere are few cache settings which can't be changed from UI. As of now I have we have identified 1. app 2. Application Links but there could be many more.\r\n\r\nIn the logs we just get to see the below warnings\r\n{code}\r\n2021-03-09 16:41:17,535 WARN [http-nio-8090-exec-8] [common.security.jersey.XsrfResourceFilter] hasDeprecatedHeaderValue Use of the 'nocheck' value for X-Atlassian-Token has been deprecated since rest 3.0.0. Please use a value of 'no-check' instead.\r\n -- referer: http://localhost:8090/admin/cache/showStatistics.action | url: /rest/cacheManagement/1.0/cacheConfig | traceId: 12477d4aba6dc824 | userName: ahazra\r\n2021-03-09 16:41:17,536 WARN [http-nio-8090-exec-8] [confluence.cache.rest.CacheManagementResource] updateCacheConfig Requested to change max size of cache [com.atlassian.applinks.core.DefaultReadOnlyApplicationLinkService.links] to [5]\r\n -- referer: http://localhost:8090/admin/cache/showStatistics.action | url: /rest/cacheManagement/1.0/cacheConfig | traceId: 12477d4aba6dc824 | userName: ahazra\r\n2021-03-09 16:41:17,538 WARN [http-nio-8090-exec-8] [confluence.cache.rest.CacheManagementResource] updateCacheConfig Changing max size of cache [com.atlassian.applinks.core.DefaultReadOnlyApplicationLinkService.links] to [5]\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\n* Head over to Confluence Cache Management\r\n* Try adjusting the cache settings for the mentioned parameter \r\nThe request is to have this done from Confluence UI as it is done for other parameters. \r\n\r\nh3. Expected Results\r\nThe cache max limit can't be changed from Confluence UI\r\n\r\nh3. Actual Results\r\nThe cache max limits should be changed\r\n\r\nh3. Workaround\r\n* <home-directory>/shared-home/config/cache-settings-overrides.properties if you run Confluence on a single server.\r\n* <shared-home>/config/cache-settings-overrides.properties if you run Confluence in a cluster.\r\n",
      "summary": "Cache Max Limits can't be changed from UI"
    }
  },
  {
    "key": "CONFSERVER-61558",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-09T10:11:40.000+0000",
      "description": "h3. Problem\r\n\r\nKeyboard shortcut for *share* [S] or [K ]shown twice in Confluence 7.4.6.\u00a0\r\nh3. Environment\r\n\r\nConfluence 7.4.6\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.4.6.\r\n # Choose the\u00a0help icon\u00a0 !https://confluence.atlassian.com/conf74/files/1003128206/1003128209/1/1587519176163/help-icon.png|width=16! \u00a0at top right of the screen, then choose\u00a0*Keyboard Shortcuts:***\r\n # Dialog listing the available keyboard shortcuts:\u00a0  !image-2021-03-09-15-36-59-570.png|width=466,height=325!\r\n # Share shown twice.\u00a0\r\n\r\nh3. Expected Results\r\n\r\n_Shortcut for share should shown once._\r\nh3. Actual Results\r\n\r\nShare shown twice.\r\nh3. Workaround\r\n\r\n_(Add a workaround, if available)_\r\nh3. Notes",
      "summary": "Share shown twice in keyboard shortcut  "
    }
  },
  {
    "key": "CONFSERVER-61557",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-09T06:54:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThere is a lag time between setting date in JIRA field and seeing changes reflected on Confluence calendar\u00a0\r\n\r\nThe issue is intermittent and it takes approximately 15-30 minutes to be reflected on the Confluence calendar since the issue was created.\r\n\r\nThis is definitely not a caching issue as the changes were not seen on a fresh browser that had not displayed the calendar before the changes were made. We have even tried to flush all cache and there is no difference.\r\n\r\nThe issue is not reproduced always as its intermittent in nature and below is the configuration where we could reproduce successfully:\r\n\r\nConfluence Version - 7.0.1 with\u00a0operating system\u00a0Windows Server 2016\r\n\r\nJira Version -\u00a08.7.0 with\u00a0operating system\u00a0Windows Server 2016\r\nh3. Steps to Reproduce\r\n # Create a page with the Calendar incorporated\r\n # Add an event using the Calendar in that page\r\n # Refresh the page and we don't see the event seen yet\r\n # But, when we review the Jira issue we see that Jira issue date has changed successfully\r\n\r\nh3. Expected Results\r\n\r\nDate should be reflecting in Confluence Page as usual\r\nh3. Actual Results\r\n\r\nDate does not reflect in Confluence Page and its blank\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Eliminate lag time between setting date in JIRA field and seeing changes reflected on Confluence calendar"
    }
  },
  {
    "key": "CONFSERVER-61521",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-08T15:37:31.000+0000",
      "description": "h3. Issue Summary\r\nAXIS server used for SOAP sometimes returns unexpected data types causing a failure in the SOAP client to process the response\r\nh3. Steps to Reproduce\r\n # This is only triggered when there are lots of SOAP requests sent to Confluence \r\n\r\n\r\nh3. Expected Results\r\nThe response should have the correct data type serialized \r\n\r\nh3. Actual Results\r\nFollowing errors is seen in the SOAP client\r\n\r\n{noformat}\r\nException: org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize\r\n{noformat}\r\n\r\nIf we look at the expected response.It should look like below\r\n{code}\r\n<groupName xsi:type=\"xsd:string\">devssdsa</groupName>\r\n{code}\r\nBut the actual response that is recieved is below that client is not able to deserailze\r\n{code}\r\n<groupName xsi:type=\"ns3:String\">\r\n                        <blank xsi:type=\"xsd:boolean\">false</blank>\r\n                        <bytes xsi:type=\"xsd:base64Binary\">ZGV2eGZhYnJpY19zc3RfY29uZl9hZG1pbg==</bytes>\r\n                        <empty xsi:type=\"xsd:boolean\">false</empty>\r\n                     </groupName>\r\n{code}\r\nSimilar bug has been reported for JIRA in past\r\nhttps://jira.atlassian.com/browse/JRASERVER-20351\r\n\r\nh3. Workaround\r\n Currently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "AXIS internal SOAP type representation is unstable."
    }
  },
  {
    "key": "CONFSERVER-61520",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-08T15:05:52.000+0000",
      "description": "Summary\r\nIn the old editor (prior to Confluence 7.x), past dates would show in orange and approaching dates would show in red when using the date macro to log a task.\r\n\r\nIn the new editor, all dates show as grey regardless.\r\n\r\nSolution\r\nProvide users with the ability to enable this feature for their Confluence site",
      "summary": "Display past and approaching dates in date macro in orange and red"
    }
  },
  {
    "key": "CONFSERVER-61519",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-11T13:14:56.000+0000",
      "created": "2021-03-08T09:22:38.000+0000",
      "description": "h3. Expected Results\r\nPATs should work for all URLs within Confluence. They should allow authentication for REST API (/rest/...), for custom servlets (/plugins/servlet/...), or for any other feature such as RSS feeds (/feeds/...).\r\nh3. Actual Results\r\nCurrently Personal Access Tokens only work for REST API. For other URLs it's still necessary to use Basic Authentication.",
      "summary": "Enable Personal Access Tokens for non-REST paths"
    }
  },
  {
    "key": "CONFSERVER-61518",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-14T06:20:05.000+0000",
      "created": "2021-03-08T06:39:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Questions for Confluence plugin *Cache Featured Topic Repository*\u00a0cache is used to keep ids of all featured topics. We perform one request to DB to retrieve all existing featured topics and put them all into this cache. In our current implementation when we want to check whether topic is a featured one we take all keys from this cache and then search through them, we don't use this cache to search for each individual topic id. In cases when there is no featured topics in Confluence we don't know whether there is no featured topics in the system or we haven't tried to populate this cache before. In this case we perform huge amount of identical queries to retrieve featured topics from db.\r\nh3. Steps to Reproduce\r\n # Install Questions for Confluence plugin\r\n # Create few topics (but don't mark them as Featured, there should be no Featured topics in system)\r\n # Create few questions and attach topics to them\r\n # Create page and put Questions plugin on it. Publish this page\r\n # Enable logging in DB.\r\n # Reload page and check sql logs - there will be many requests to db which look like this one:\r\n{code:sql}\r\nselect \"label\".\"labelid\" from \"label\" \"label\" inner join \"content_label\" \"content_label\" on \"content_label\".\"labelid\" = \"label\".\"labelid\" inner join \"content\" \"content\" on \"content_label\".\"contentid\" = \"content\".\"contentid\" left join \"contentproperties\" \"contentproperties\" on \"content\".\"contentid\" = \"contentproperties\".\"contentid\" where \"content\".\"contenttype\" = 'CUSTOM' and \"content\".\"content_status\" = 'current' and \"content\".\"prevver\" is null and \"content\".\"pluginkey\" = 'com.atlassian.confluence.plugins.confluence-questions:topic-metadata' and \"contentproperties\".\"propertyname\" = 'featured' and \"contentproperties\".\"longval\" = 1 order by \"label\".\"name\" asc;\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nThis db query is performed only once and results saved to *Cache Featured Topic Repository* cache. When next request for this data come it should take information from cache (information that there is no featured topics).\r\nh3. Actual Results\r\n\r\nNothing is added to cache and we perform same query each time.\r\nh3. Workaround\r\n\r\nCreate at least one featured topic. It will be added to cache and system will not go to db each time.",
      "summary": "Too many requests for Featured Topics in Questions for Confluence plugin when there are no featured topics"
    }
  },
  {
    "key": "CONFSERVER-61517",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-08T04:11:20.000+0000",
      "created": "2021-03-04T03:54:46.000+0000",
      "description": "h3. Issue Summary\r\nWhen a table with nested table header is added to the page, it prevents other tables from initialising properly. The sticky table header element appears in the DOM but does not move when scrolling the page.\r\n\r\nh3. Steps to Reproduce\r\n # Step 1 Add a page with a table nested inside another table's header row\r\n # Step 2 add another table that should scroll, to the page.\r\n\r\nh3. Expected Results\r\nThe second table's header should scroll down with the page  \r\n\r\nh3. Actual Results\r\nThe regular table's header doesn't scroll\r\n\r\nh3. Workaround\r\nRemove the nested table from the page",
      "summary": "Some table headers don't scroll on pages with tables nested in tables"
    }
  },
  {
    "key": "CONFSERVER-61482",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-06T21:43:32.000+0000",
      "description": "h3. Issue Summary\r\n\r\nExporting pages to PDF fails. It has been observed cases where this occurred when a Jira Issue link existed on the page.\r\nh3. Environment\r\n\r\nConfluence 7.4.4\r\n\r\nOperating System: Linux\r\nh3. Diagnosis\r\n\r\nReviewing the logs, the following error is found after the export attempt fails:\r\n{code:yaml|title=atlassian-confluence.log}\r\n2021-02-10 10:03:24,048 ERROR [http-nio-8090-exec-55] [atlassian.confluence.servlet.ConfluenceServletDispatcher] sendError Could not execute action\r\n -- url: /spaces/flyingpdf/pdfpageexport.action | traceId: 42090dd179c66bb3 | userName: admin\r\njava.lang.RuntimeException: com.atlassian.confluence.importexport.ImportExportException: We couldn't complete your export. There was an error converting the page \"Test-page\". <a href=\"https://docs.atlassian.com/confluence/docs-74/PDF+export+in+Confluence+Data+Center\">Learn more</a>\r\n...\r\nCaused by: com.atlassian.confluence.importexport.ImportExportException: We couldn't complete your export. There was an error converting the page \"Test-page\". <a href=\"https://docs.atlassian.com/confluence/docs-74/PDF+export+in+Confluence+Data+Center\">Learn more</a>\r\n...\r\nCaused by: com.atlassian.confluence.util.sandbox.SandboxCrashedException: Sandbox has crashed while serving the request\r\n...\r\nCaused by: java.io.EOFException\r\n{code}\r\nTo get even more details, it's possible to increase the PDF Sandbox class to\u00a0[debug|https://confluence.atlassian.com/doc/configuring-logging-181535215.html]:\r\n{code:java}\r\ncom.atlassian.confluence.impl.util.sandbox\r\n{code}\r\nWith the logs in debug, the\u00a0*atlassian-confluence.log*\u00a0file will show a message like this:\r\n{code:yaml|title=atlassian-confluence.log}\r\n2021-02-11 18:06:06,559 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker1: Exception in thread \"main\" java.awt.AWTError: Can't connect to X11 window server using 'localhost:10.0' as the value of the DISPLAY variable.\r\n{code}\r\nh3. Cause\r\n\r\nThe PDF Sandbox can inadvertently pick up the DISPLAY environment variable and try to use it. For more information on what this variable is, please refer to the link below:\r\n * [https://askubuntu.com/questions/432255/what-is-the-display-environment-variable]\r\n\r\nReviewing the support zip, the variable can be found in the\u00a0*application.xml*\u00a0file:\r\n{code:xml|title=application.xml}\r\n<environment-variables>\r\n...\r\n    <DISPLAY>localhost:10.0</DISPLAY>\r\n...\r\n</environment-variables>\r\n{code}\r\nh3. Solution\r\n\r\nTry\u00a0getting rid of the\u00a0*DISPLAY*\u00a0variable on the\u00a0Confluence side:\r\n # Locate the and edit the\u00a0*<confluence-users>/bin/setenv.sh*\u00a0file\r\n # Add at the end of the file\r\n{code:java}\r\nunset DISPLAY\r\n{code}\r\n\r\n # Restart Confluence on this node\r\n # Wait for this node to fully start up, then apply the same changes to the second node\r\n # Only once the second node has fully started up, then apply the same changes to the third node\r\n # Once all nodes have the DISPLAY environment cleared out in\u00a0setenv.sh, try exporting the same Page/Space again\r\n # If the issue persists, grab a new Support Zip from all three Confluence DC nodes so we can review how the error has changed",
      "summary": "Exporting pages to PDF fails due to java.awt.AWTError"
    }
  },
  {
    "key": "CONFSERVER-61481",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-05T13:43:28.000+0000",
      "description": "The list of users is showing both active and disabled users. Jira software has a nice status filter: active and inactive. Something similar should be implemented in confluence\r\n\r\n*Affects:*\u00a0Confluence Server 6.15.2 (possibly other versions)",
      "summary": "Should be possible to filter users by status"
    }
  },
  {
    "key": "CONFSERVER-61480",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-05T06:48:37.000+0000",
      "description": "Since I commented on this case CONFSERVER-28787 (I think it was years ago) I get spammed by other user comments requesting the same thing. Are you sure you don't want to consider this? It has now 270 votes already and 103 watchers.\r\n\r\n\u00a0\r\n\r\nI want to make sure you are aware of that; if it still won't be considered I will remove myself from watchers of the case.",
      "summary": "Are you sure you still do not want to consider 28787? It generates spam"
    }
  },
  {
    "key": "CONFSERVER-61479",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-05T01:55:30.000+0000",
      "description": "h2. *Issue*\r\n\r\nSince Confluence 6.7 (with the refreshed Atlassian Design elements), the side bar no longer shows a scroll bar with long page titles.\r\n\r\nh2. *Expected*\r\n\r\nAs per Confluence 6.6, a scroll bar is displayed in the side bar when there are long page titles.\r\n\r\n !Confluence6.6_sidebar.png|thumbnail! \r\n\r\nh2. *Actual*\r\n\r\nSince Confluence 6.7, no scroll bar is now shown and only a fixed number of characters in the page title is shown.\r\n\r\n !Confluence7_sidebar.png|thumbnail! \r\n\r\nh2. *Work Around*\r\n\r\nN/A",
      "summary": "Show scroll bar on the side bar"
    }
  },
  {
    "key": "CONFSERVER-61478",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-04T13:22:47.000+0000",
      "description": "h3. Issue Summary\r\nWhen Confluence have filter expired user option enable in user directory, it filter out user account that is expired. If admin set a new expired date for the user account in AD and perform a sync, the group membership if the account is not synced.\r\n\r\nh3. Steps to Reproduce\r\n# In AD, create a user account and add the user to some groups\r\n # Connect Confluence with a AD and sync the user from AD\r\n# make sure the user account is synced to Confluence and the group membership is synced as well\r\n# In AD, select the account and set the expired date to be last year\r\n# In Confluence, trigger the incremental sync\r\n# The user account in Confluence will be removed as it is filtered out\r\n# Go back to AD and set the expired date for the account to next year\r\n# Perform incremental sync in Confluence\r\n# The user is synced to Confluence but the group membership is not synced.\r\n(i) For details, please review the following video\r\n [^Recording #4.mp4] \r\n\r\nh3. Expected Results\r\nUser and group membership should synced correctly\r\n\r\nh3. Actual Results\r\nUser group membership is not sycned\r\n\r\nh3. Workaround\r\nDisable incremental sync and trigger a full sync or Disable filter expired filter option\r\n",
      "summary": "user lose group membership if user was filter out due to expired and syncing back after setting new expired date"
    }
  },
  {
    "key": "CONFSERVER-61477",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-04T12:16:38.000+0000",
      "description": "We should be able to reach the Group Description Attribute {{attribute=description}} from the Active Directory and present it on UI instead of just displaying the text 'description'.\r\n\r\nPlease help incorporate this so that end customers can sync over the description of the group  along with the other attributes.\r\n\r\n !Screenshot 2021-03-04 at 5.46.04 PM.png|thumbnail! ",
      "summary": "Enable synchronisation of Group Description Attribute from Active Directory to Confluence"
    }
  },
  {
    "key": "CONFSERVER-61476",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-04T10:47:39.000+0000",
      "description": "It would be very useful to be able to monitor Confluence DC standalone synchrony clusters as mentioned on [How to check the status of Synchrony for Confluence Data Center|https://confluence.atlassian.com/confkb/how-to-check-the-status-of-synchrony-for-confluence-data-center-953651062.html] without lowering security.\r\n\r\nMost of the endpoints require you to disable {{secure administrator access}}. For full automated monitoring or if something were to happen in the middle of the night it's not always possible to switch it off in time nor would clients like to disable it for extended period of times.\r\n\r\nPotentially make it visible to Tomcat anonymously or some other method which does not require lowering of the sites security.",
      "summary": "Allow for checking the Synchrony cluster status without disabling 'secure administrator access'"
    }
  },
  {
    "key": "CONFSERVER-61458",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-04T05:56:25.000+0000",
      "description": "h3. Summary\r\nThis document mentioned using utf8 for PostgreSQL collation.\r\n- [Database Setup for PostgreSQL|https://confluence.atlassian.com/doc/database-setup-for-postgresql-173244522.html]\r\n{quote}- Character encoding must be set to utf8 encoding.\r\n- Collation must also be set to utf8. Other collations, such as \"C\", are known to cause issues with Confluence.\r\n{quote}\r\n\r\nThere is a bug when update collation C to en_US.utf8.\r\n- [CONFSERVER-37235: REGRESSION - Redirect to anchors in pages with titles that contain special characters is broken|https://jira.atlassian.com/browse/CONFSERVER-37235]\r\n\r\n\r\n\r\nh3. Suggestion\r\nAdd caution to the document like below:\r\n{panel:bgColor=#e0efff}\r\nChanging collation might affect this bug:\r\n- [CONFSERVER-37235: REGRESSION - Redirect to anchors in pages with titles that contain special characters is broken|https://jira.atlassian.com/browse/CONFSERVER-37235]\r\n{panel}",
      "summary": "Add bug information to \"Database Setup for PostgreSQL\" document"
    }
  },
  {
    "key": "CONFSERVER-61457",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T07:04:43.000+0000",
      "created": "2021-03-04T02:26:52.000+0000",
      "description": "h3. Issue Summary\r\nWhen scrolling a long page, the page title (fixed header) may jump to a unexpected position on Firefox\r\n\r\nh3. Steps to Reproduce\r\n # Create a long page\r\n # Scroll the page down on Firefox\r\n\r\nh3. Expected Results\r\nThe fixed header should work properly\r\n\r\nh3. Actual Results\r\nThere is a gap above the header suddenly appears on the page\r\n\r\nh3. Workaround\r\n\r\nUse Chrome.",
      "summary": "Page title jumps while scrolling on a long page on Firefox"
    }
  },
  {
    "key": "CONFSERVER-61455",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-04T00:38:46.000+0000",
      "description": "h3. Use case\r\nWe should have a way to make Confluence Read Only without having to startup the environment. There should be a way to place Confluence Data Center into Read Only such as through a shell script or database script that can be bundled with the environment. Or, a JVM flag in order to force read only mode, or possibly an XML key in confluence.cfg.xml that allows you to set the banner as well automatically\r\n\r\nh3. Summary\r\n\r\nCustomer looking to make a Confluence DC environment read only through an automated way that can be updated before the site is launched for a DR-type replication environment. They do not want to start up Confluence before putting it into Read Only mode.\r\n\r\nh3. Workaround\r\n\r\nh4. Research Done\r\n\r\nWe can force the entire cluster to go into read only mode by updating the Shared Home confluence.cfg.xml value noted below:\r\n{code}\r\n    <property name=\"access.mode\">READ_ONLY</property>\r\n{code}\r\n\r\nIf this flag is set to READ_ONLY it will throw the read only banner and stop non-admins from being able to modify content on the site.\r\n\r\nIf this flag is set to READ_WRITE it will be business as usual.\r\n\r\nThis would be done before startup on the nodes or require a restart if the nodes were already live when you make this change. This would mean you can automate this at the file system layer rather than going into the DB to update this. It looks like this is the direct control for manipulating this maintenance mode so you shouldn't need to modify the DB.\r\n\r\nYou could update the DB in the Bandana table by modifying the following thing to set the maintenance banner that would normally be associated with Read-Only Mode:\r\n\r\n{code}\r\nselect * FROM BANDANA where BANDANACONTEXT='_GLOBAL' and BANDANAKEY='atlassian.confluence.settings'\r\nBANDANAVALUE\r\n------------\r\n<settings>\r\n...\r\n <maintenanceBannerMessageOn>true</maintenanceBannerMessageOn>\r\n <maintenanceBannerMessage>This site is read-only ... can&apos;t create or edit pages right now.</maintenanceBannerMessage>\r\n...\r\n</settings>\r\n{code}\r\n\r\nNote that this would be a sub-string replacement you'd need to replace those keys while preserving the remaining details from the rest of the data from that key.",
      "summary": "Allow for different ways to put Confluence into Read Only Mode before startup"
    }
  },
  {
    "key": "CONFSERVER-61454",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-21T04:06:30.000+0000",
      "description": "When Confluence is going to render \"recently updated documents\", it searches those documents in Lucene index. The problem is that it scans all the documents updated within the last year.\r\n\r\nGoing through all the documents consumes a lot of CPU (and IO operations).\r\n\r\nAs one of the solutions, we can decrease this period from 1 year to 2 months (and make it configurable). Also, we have to log (with debug level) amount of scanned documents (to make troubleshooting easier).\r\n\r\nSome technical information:\r\n\r\nThis logging could be added to\u00a0LuceneSearchManager.search method, topDocuments.getTotalHits() provides this information.\u00a0luceneQuery should be logged as well.\r\n\r\n\u00a0",
      "summary": "Limit the amount of scanned documents for getting \"recently updated documents\""
    }
  },
  {
    "key": "CONFSERVER-61453",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-07T05:59:11.000+0000",
      "created": "2021-03-03T22:39:51.000+0000",
      "description": "Affected versions of Confluence Server allow attackers to identify internal hosts and ports via a blind server-side request forgery vulnerability in Team Calendars parameters.\r\n\r\nAffected versions:\r\n * < 7.11.0\r\n\r\n\r\nFixed versions:\r\n* 7.11.0\r\n* 7.4.8 (LTS)\r\n\r\n\u00a0\r\n\r\nThis vulnerability is attributed to\u00a0Stefano Castilletti, a security researcher at Apple.",
      "summary": "Blind SSRF in Team Calendars REST API using location parameter - CVE-2020-29445"
    }
  },
  {
    "key": "CONFSERVER-61452",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-09T23:43:00.000+0000",
      "created": "2021-03-03T17:36:37.000+0000",
      "description": "h3. Problem\r\nThe Page Properties Report macro has a thread pooling mechanism to process asynchronous tasks. Threads in this pool are created with a generic name, such as *pool-5-thread-1*.\r\n\r\nThis makes troubleshooting difficult when you need to identify what created these threads.\r\n\r\nh3. Environment\r\n\r\nN/A\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Start a [Java Flight Recording|https://docs.oracle.com/javacomponents/jmc-5-4/jfr-runtime-guide/about.htm#JFRUH170] of the Confluence process\r\n# Add a *Page Properties* macro in one page\r\n# Add a *Page Properties Report* macro on another page and fetch the data from the last step\r\n# Load the page containing the Page Properties Report macro\r\n\r\nh3. Expected Results\r\n\r\nThread pools are created with a recognizable name.\r\n\r\nh3. Actual Results\r\n\r\nInspecting the JFR file, we can see that 4 unnamed threads are created for the same pool. Here is a snippet of the stack:\r\n{code}\r\nEither com.atlassian.confluence.extra.masterdetail.DetailsSummaryBuilder.renderDetailRows(List, List, boolean, boolean, String) 1\r\nEither com.atlassian.confluence.extra.masterdetail.DetailsSummaryBuilder.lambda$renderDetailRowsWithTransaction$6(List, List, boolean, boolean, String) 1\r\nObject com.atlassian.confluence.extra.masterdetail.DetailsSummaryBuilder$$Lambda$1968.1032140427.doInTransaction()  1\r\n{code}\r\n\r\nScreenshot of the recording:\r\n\r\n !Screen Shot 2020-12-11 at 5.16.09 PM.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nNone\r\n\r\nh3. Notes\r\n\r\nIt is virtually impossible to identify the source of those with thread dumps. This is because such tasks execute quite fast normally, under a few milliseconds. Because of that, such threads appear on thread dumps with the generic stack when they are waiting for another task. This is how you see them:\r\n\r\n{code}\r\nsun.misc.Unsafe.park(Native Method)\r\njava.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\njava.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\njava.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\njava.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\njava.lang.Thread.run(Thread.java:748)\r\n{code}\r\n\r\nTo get a meaningful stack trace, those threads need to be in RUNNABLE state executing a task. This is why JFR is a better tool to identify the origin of such threads since it logs the previously executed tasks with the stack.",
      "summary": "Page Properties Report creates an unnamed thread pool for asynchronous tasks"
    }
  },
  {
    "key": "CONFSERVER-61417",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-02T13:15:28.000+0000",
      "description": "h3. Issue Summary\r\nCurrently there is no way to view the number of blogs been read after a blog is published by the user. Hence the ask is to have a feature which can help with this functionality. \r\n\r\nRequired, if there is no workaround please state:\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Ability to view how many blogs published been read"
    }
  },
  {
    "key": "CONFSERVER-61416",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-02T13:11:20.000+0000",
      "description": "h4. Summary\r\n\r\nWhen exporting a page with a Table having colored cells to Word, the colors are not printed in the export.\r\nh4. Steps to Reproduce\r\n # Create a new Confluence page\r\n # Insert a table\r\n # Select a row or a column\r\n # Set background color to those cells\r\n # Save the page\r\n # Export the page to PDF or Word\r\n\r\nh4. Expected Results\r\n\r\nThe exported page should include the background colors of the cells\r\nh4. Actual Results\r\n\r\nThe table in the PDF and Word Export does not include the colors\r\n\r\nh4. Workaround\r\nThe current workaround is to install [Scroll Word Exporter|https://marketplace.atlassian.com/apps/24982/scroll-word-exporter-for-confluence?hosting=server&tab=overview] and use that to export the page to word. The background cell colors will be included in the Word document.",
      "summary": "Table cell background colors are not printed in PDF and Word export"
    }
  },
  {
    "key": "CONFSERVER-61415",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-02T05:18:36.000+0000",
      "description": "h3. Issue Summary\r\nThe default garbage collection configuration for Confluence running Java 11 is incorrectly applied resulting in unexpected logging formats.\r\n\r\nh3. Steps to Reproduce\r\n# Make a change to {{setenv.sh}} with new Java 11 garbage collection logging configuration\r\n# Start Confluence\r\n# Check Garbage Collection logging\r\n\r\nh3. Expected Results\r\nThe new garbage collection configuration is reflected in the logging.\r\n\r\nh3. Actual Results\r\nThe default garbage collection settings for Java are reflected in the logs\r\n\r\nh3. Cause\r\nJava 8 and prior used the {{-Xloggc:}} syntax for formatting garbage collection log locations. With the introduction of Java 11, the syntax was moved to {{-Xlog:gc}} (note the moved colon). In order to maintain some backwards compatibility, the {{-Xloggc:}} syntax was remapped to the default Java 11 configuration. This configuration overrides anything else configured with the new syntax.\r\n\r\nDetails of this change are briefly mentioned at [https://bugs.openjdk.java.net/browse/JDK-8170636|https://bugs.openjdk.java.net/browse/JDK-8170636]\r\n\r\nh3. Workaround\r\nh4. Confluence Version 7.11.latest and Earlier\r\nRemove the old Java 8 garbage collection configuration which by default is\r\n{code:title=Java 8 Garbage Collection Configuration}\r\nCATALINA_OPTS=\"-Xloggc:$LOGBASEABS/logs/gc-`date +%F_%H-%M-%S`.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M ${CATALINA_OPTS}\"\r\n{code}\r\nAdd the following in place\r\n{code:title=Java 11 Garbage Collection Configuration}\r\nCATALINA_OPTS=\"-Xlog:gc*,gc+age*=trace:file=$LOGBASEABS/logs/gc-`date +%F_%H-%M-%S`.log:tags,time,uptime,level::filecount=5,filesize=2M ${CATALINA_OPTS}\"\r\n{code}\r\n\r\nh4. Confluence Version 7.12.0 and Later\r\nComment out the old Java 8 garbage collection configuration which by default is\r\n{code:title=Java 8 Garbage Collection Configuration}\r\nCATALINA_OPTS=\"-Xloggc:$LOGBASEABS/logs/gc-`date +%F_%H-%M-%S`.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M ${CATALINA_OPTS}\"\r\n{code}",
      "summary": "Java 11 Garbage Collection Logging Settings Are Not Correctly Applied on Confluence Start"
    }
  },
  {
    "key": "CONFSERVER-61399",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-11T22:34:22.000+0000",
      "created": "2021-03-01T20:35:26.000+0000",
      "description": "Affected versions of Atlassian Confluence Server allow remote attackers to manipulate the content of internal network resources via a blind Server-Side Request Forgery (SSRF) vulnerability in the\u00a0{{widgetconnector}}\u00a0plugin.\r\n\r\nWhen running in an environment like Amazon EC2, this flaw may be used to access to a metadata resource that provides access credentials and other potentially confidential information.\u00a0\r\n\r\nThe patch is deployed by configuring the [Confluence URL allow list|https://confluence.atlassian.com/doc/configuring-the-allowlist-381255821.html]. *N.B:*\u00a0The allowlist\u00a0is enabled by default. But the fixed versions will be vulnerable if allowlist is disabled by the administrator.\u00a0\r\n\r\nThe affected versions are before version 5.8.6.\r\n\r\n\u00a0\r\n\r\n*Affected versions:*\r\n * version < 5.8.6\r\n\r\n*Fixed versions:*\r\n * 5.8.6 \u00a0\r\n\r\n\u00a0\r\n----\r\nThis is an independent assessment and you should evaluate its applicability to your own IT environment.\r\n\r\nCVSS v3 score: 4.3 => Medium severity\r\n\r\n*Exploitability Metrics*\r\n||Attack Vector|Network|\r\n||Attack Complexity|Low|\r\n||Privileges Required|Low|\r\n||User Interaction|None|\r\n\r\n*Scope Metric*\r\n||Scope|Unchanged|\r\n\r\n*Impact Metrics*\r\n||Confidentiality|Low|\r\n||Integrity|None|\r\n||Availability|None|\r\n\r\nSee [http://go.atlassian.com/cvss] for more details.\r\n\r\n[https://asecurityteam.bitbucket.io/cvss_v3/#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N]",
      "summary": "Blind SSRF in widgetConnector -  CVE-2021-26072 "
    }
  },
  {
    "key": "CONFSERVER-61398",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-29T00:14:51.000+0000",
      "created": "2021-03-01T17:33:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe status icons on the left side of the *Ready to go*, *Saving changes*, and *Changes saved* messages in Confluence editor are missing in newer versions.\r\n\r\nTested and reproduced in Confluence 7.3.5, 7.4.7, and 7.11.1.\r\nh3. Steps to Reproduce\r\n # In one of the affected versions, create a new page.\r\n # Once the editor completely loads check the status message and icon at the bottom of the page.\r\n ** See result 1 under Actual Results\r\n # Start typing something on the page and check the status message and icon at the bottom of the page.\r\n ** See result 2\u00a0under Actual Results\r\n # Stop typing and check the status message at the bottom of the page.\r\n ** See result 3\u00a0under Actual Results\r\n\r\nh3. Expected Results\r\n\r\nYou would see the Ready to go message with the grey !saved.png|thumbnail! icon on the left side:\r\n !ready_to_go.png|thumbnail!\r\n\r\nWhile typing or making changes we should see the\u00a0 !saving.png|thumbnail! icon:\r\n !saving_changes.png|thumbnail!\r\n\r\nOnce we are done with the changes we should see the !saved.png|thumbnail! icon once again:\r\n !changes_saved.png|thumbnail!\r\nh3. Actual Results\r\n\r\nWe still see the status messages but no icons are displayed:\r\n\r\n* Result 1 - Ready to go:\r\n !readytogo2.png|thumbnail!\r\n\r\n* Result 2 - Saving changes:\r\n !savingchanges2.png|thumbnail!\r\n\r\n* Result 3 - Changes saved:\r\n !changessaved2.png|thumbnail!\r\n\r\nh3. Additional Information and Tests\r\nWhile checking the UI elements via developer tools we can see the following for the status icon in Confluence version 6.13.10 (this version is not affected):\r\n{code:borderStyle=none|borderColor=#f5f5f5| title= }\r\n<div class=\"status-indicator-icon aui-icon aui-icon-small aui-iconfont-approve\" data-tooltip=\"We're automatically saving all of your changes in a draft.\" original-title=\"\"></div>\r\n{code}\r\n !status-indicator-icon-2_6.13.10.png|thumbnail! \r\n\r\nIn newer versions affected by this, while the icon is not displayed, we still see the same icon reference right above the _status-indicator-message_:\r\n !status-indicator-icon_7.4.3.png|thumbnail! \r\n\r\nIf we click on the _status-indicator-icon_ reference, we can see the following in the Styles tab:\r\n\r\n{code:borderStyle=none|borderColor=#f5f5f5| title= }\r\n#pluggable-status.synchrony .synchrony-status-indicator .status-indicator-icon {\r\n    float: left;\r\n    color: #505f79;\r\n    display: none;\r\n}\r\n{code}\r\n !display-none-check.png|thumbnail! \r\n\r\nIf we uncheck the {{display:none;}} option, the icon shows up in the UI:\r\n !display-none-uncheck.png|thumbnail! \r\n\r\n(i) Not a workaround because the change doesn't persist.\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior user should rely on the written message alone. A workaround will be added here when available.",
      "summary": "Status icons are missing in Confluence editor"
    }
  },
  {
    "key": "CONFSERVER-61397",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-01T16:19:16.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\n  *NOTE:* This suggestion is for *Confluence Server*. Using *Confluence Cloud*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFCLOUD-2090].\n  {panel}\n\nIt would be really good to add the following two macros which would share almost the exact same functionality but have different names and different graphics/icons for use in different contexts.\n\n1. Count Macro\n\nSo I can add the ability to have multiple counters on a page and click on the relevant counter to increment the count by 1. This is great for tracking interal requests etc. and really cool for tracking FAQ, support request popularity etc. \n\nA small graphical number with a small button to increase/decrease the count. Optional tracking counts would also be good. May require a small 'Counts Tracked' blurb for privacy concerns if this tracking is turned on.\n\n2. Vote Macro\n\nUsing the same functionality but using the text 'Add your vote'. This allows us to leverage the same core Macro code but repackage it to appeal to different contexts and different users (good for evaluators/potential clients and users). Votes should probably only be able to go up though (so there would be no decrease vote option).",
      "summary": "Add a count & vote macro to Confluence Macros"
    }
  },
  {
    "key": "CONFSERVER-61365",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-28T11:55:05.000+0000",
      "description": "SAML request signing is a part of the SAML standard; and not having it opens a security hole that can be easily fixed by enabling SAML request signing.",
      "summary": "Permit SAML requests to be digitally signed for Atlassian products"
    }
  },
  {
    "key": "CONFSERVER-61362",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-25T08:11:08.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently external plugins can only use Confluence built-in syntax highlighting. This does not include provision for dockerfile. Eg. *Include Bitbucket Macro* for Confluence\r\nh3. Suggested Solution\r\n\r\n_Please add provision in macro so that it can add dockerfile as an option for the syntax highlighting so plugins can use this option._\u00a0\r\nh3. Why This Is Important\r\n\r\n_Currently this feature is available for other programming languages and would be great if dockerfile is also included into this._\r\nh3. Workaround\r\n\r\n_None at this point._",
      "summary": "Requesting Dockerfile Support for Plugins"
    }
  },
  {
    "key": "CONFSERVER-61341",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-24T16:08:32.000+0000",
      "description": "This ticket simplifies search.\r\n\r\nEverything is in https://jira.atlassian.com/browse/JRASERVER-72145\u00a0\r\n\r\nDon't worry that ticket is for Jira, Enterprise Security will be implemented in parity.",
      "summary": "MAM Server Mobile Support"
    }
  },
  {
    "key": "CONFSERVER-61340",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-04T07:01:13.000+0000",
      "created": "2021-02-24T15:40:29.000+0000",
      "description": "h3. Issue Summary\r\nTeam Calendar subscribe step-by-step-guide link is broken\r\n\r\nh3. Steps to Reproduce\r\n* Install Team Calendar plugin. \r\n* Add new calendar to any space\r\n* Navigate to \"Calendars\" -> \"...\" -> subscribe menu. Choose any Calendar app \r\n* Click on \"step-by-step-guide\"\r\n*  !Screenshot 2021-02-24 at 16.33.26.png|thumbnail! \r\n\r\nh3. Expected Results\r\nCalendar setup guide/KB article is opened \r\n\r\nh3. Actual Results\r\n  !Screenshot 2021-02-24 at 16.37.36.png|thumbnail! \r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when avail",
      "summary": "Team Calendar subscribe \"step-by-step-guide\" link is broken"
    }
  },
  {
    "key": "CONFSERVER-61339",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-24T13:59:35.000+0000",
      "description": "h3. Issue Summary\r\nWhen using *Including text* filter in Page property report macro, the results will not include matched pages with data pulled from excerpt.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page with excerpt data\r\n# Create a page with excerpt include macro inside page property macro\r\n# Create a page with page property macro (normal text)\r\n# Create a page with \"Page Property Report\" macro\r\n# Add a filter \"Including Text\" and enter the value from the excerpt macro in step 2\r\n# The results include only the page with normal text but not with the text from excerpt include macro \r\n\r\nVideo is enclosed to demonstrate the behaviour.\r\n\r\nh3. Expected Results\r\n\"Including Text\" filter in page property report should include pages that got data from Excerpt include macro\r\n\r\nh3. Actual Results\r\nPage property report does not include pages that got data from excerpt include macro\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Include Text filter in Page Property Report does not include results from Excerpted data"
    }
  },
  {
    "key": "CONFSERVER-61338",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-24T09:19:03.000+0000",
      "description": "Notice: This issue is regression of CONFSERVER-55134.\r\n\r\nI got also the same problem with version 7.4.7:\r\n!confluence-v7.4.7-CONFSERVER-55134.png|thumbnail! \r\n\r\n\r\n{code}\r\n2021-02-24 01:49:08,213 ERROR [http-nio-8090-exec-6] [[Standalone].[localhost].[/].[servlet-module-container-servlet]] log Servlet.service() for servlet [servlet-module-container-servlet] in context with path [] threw exception\r\njava.lang.RuntimeException: java.util.concurrent.TimeoutException\r\n        at com.google.common.base.Throwables.propagate(Throwables.java:241)\r\n        at com.atlassian.mywork.host.util.concurrent.LockedTaskExecutor.executeUnderLock(LockedTaskExecutor.java:106)\r\n        at com.atlassian.mywork.host.service.LocalRegistrationServiceImpl.getLastModified(LocalRegistrationServiceImpl.java:192)\r\n{code}\r\n\r\n{code}\r\n2021-02-24 01:49:13,226 ERROR [AtlassianEvent::CustomizableThreadFactory-2] [renderer.internal.http.HttpClientFetcher] fetch Unable to perform a request to: http://MacBook-Pro.local:41252/rest/gadgets/1.0/g/messagebundl\r\ne/und/gadget.common%2Cgadget.confluence\r\norg.apache.http.conn.ConnectTimeoutException: Connect to MacBook-Pro.local:41252 [MacBook-Pro.local/192.168.1.2] failed: connect timed out\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:373)\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:394)\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n{code}\r\n\r\n==== Quoted from CONFSERVER-55134 ====\r\n\r\nh3. Summary\r\n[Workbox Notification|https://confluence.atlassian.com/doc/workbox-notifications-284365963.html] does not work and shows empty page on first attempt following a Confluence restart. It will work and able to retrieve information on the next attempts/ page refresh.\r\n\r\nh3. Steps to Reproduce\r\n# On a fresh installation of Confluence, \r\n# Click on the Workbox Notification icon on the top right corner\r\n\r\nh3. Expected Results\r\nThe workbox notification loads correctly\r\n\r\nh3. Actual Results\r\n# The workbox notification shows blank page:\r\n !screenshot-2.png|thumbnail! \r\n# After a while, at times, a System Error appears in the page after a page refresh\r\n !screenshot-1.png|thumbnail! \r\n\r\nThe following appears in the atlassian-confluence.log when the page is blank\r\n{code}\r\n2018-03-07 23:20:57,928 ERROR [http-nio-8090-exec-5] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.mywork.host.event.BeforeCountNewNotificationsEvent@31bba1bf] from the invoker [com.atlassian.confluence.event.ConfluenceListenerHandlersConfiguration$TimingListenerHandler$1$1@7794c789]\r\n -- referer: http://localhost:8090/dashboard.action | url: /rest/mywork/latest/status/notification/count | traceId: 2877b0225ae534da | userName: admin\r\njava.lang.RuntimeException: service proxy has been destroyed. Listener: com.atlassian.mywork.host.service.ClientServiceImpl event: com.atlassian.mywork.host.event.BeforeCountNewNotificationsEvent\r\n{code}\r\n\r\nEventually, it will timeout with the following:\r\n{code}\r\n2018-03-07 23:22:44,209 ERROR [http-nio-8090-exec-5] [[Standalone].[localhost].[/].[servlet-module-container-servlet]] log Servlet.service() for servlet [servlet-module-container-servlet] in context with path [] threw exception\r\njava.lang.RuntimeException: java.util.concurrent.TimeoutException\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n{code}\r\n\r\nThe following appears in the log when seeing the System Error:\r\n\r\n{noformat}\r\n2018-03-08 18:43:05,452 ERROR [http-nio-8090-exec-6] [host.util.concurrent.LockedTaskExecutor] executeUnderLock Timed out waiting for lock before getting last modified date\r\n -- referer: http://localhost:8090/dashboard.action | url: /plugins/servlet/notifications-miniview | traceId: 56ebeb370dca72ad | userName: admin\r\njava.util.concurrent.TimeoutException\r\n\tat com.atlassian.mywork.host.util.concurrent.LockedTaskExecutor.tryExecuteUnderLock(LockedTaskExecutor.java:66)\r\n\tat com.atlassian.mywork.host.util.concurrent.LockedTaskExecutor.executeUnderLock(LockedTaskExecutor.java:116)\r\n\tat com.atlassian.mywork.host.service.LocalRegistrationServiceImpl.getLastModified(LocalRegistrationServiceImpl.java:205)\r\n\tat com.atlassian.mywork.host.service.LocalRegistrationServiceImpl.getCacheValue(LocalRegistrationServiceImpl.java:244)\r\n\tat com.atlassian.mywork.host.servlet.ServletRenderer.renderWithAnchor(ServletRenderer.java:79)\r\n\tat com.atlassian.mywork.host.servlet.ServletRenderer.renderWithAnchor(ServletRenderer.java:46)\r\n\tat com.atlassian.mywork.host.servlet.NotificationsMiniviewServlet.doGet(NotificationsMiniviewServlet.java:23)\r\n{noformat}\r\n \r\nh3.Workaround\r\nRefresh the page a couple of times\r\n\r\nh3. Notes\r\nThe issue happens to every user, during the first time accessing Workbox Notification following a restart.\r\n\r\nOther than restarting Confluence, this can be easily replicable by accessing Workbox Notification for the first time following *enabling a previously disabled* Workbox plugins::\r\n# Workbox - Common Plugin\r\n# Workbox - Confluence Provider Plugin\r\n# Workbox - Host Plugin",
      "summary": "Workbox Notification will timeout on first attempt, and shows blank page and System Error message(Regression)"
    }
  },
  {
    "key": "CONFSERVER-61316",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-23T19:36:28.000+0000",
      "description": "Our documentation on [Best Practices for Configuring Confluence Security|https://confluence.atlassian.com/doc/best-practices-for-configuring-confluence-security-216433533.html] has not been updated since 2017, which also links to a [Tomcat security best practices|https://confluence.atlassian.com/jira064/tomcat-security-best-practices-720411783.html] article that hasn't been updated since 2011 itself. During that time, the newest versions of Confluence are now utilizing Tomcat 9 and it's not certain if the same suggestions there are still recommended in 2021. There has also been growing demand for guidance on the CIS benchmark and/or STIG compliance.\r\n\r\nIt's suggested that these articles get updated to provide up-to-date recommendations on hardening Confluence and Tomcat. ",
      "summary": "Update Hardening Documentation"
    }
  },
  {
    "key": "CONFSERVER-61314",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-23T10:45:34.000+0000",
      "description": "h3. Issue Summary\r\n * After adding a comment (annotations) in a pdf file using Adobe Acrobat, the comments are not rendered properly\r\n * Comments added in a pdf file using Adobe Acrobat after highlighting a word also does not gets preview in Confluence\r\n\r\nh3. Steps to Reproduce\r\n # Pick any PDF file, for example the PDF documentation for JIRA Servicedesk 3.1: (attached)\r\n # Open the file in the PDF viewer of your choice with support for adding annotations for example Adobe Reader DC\r\n # Select any word and add comment (annotations ) for the selected word\r\n # Highlight any word and then add any notes\r\n # Save the PDF\r\n # Attach the PDF in Confluence and preview\r\n # The comments added are not rendered properly\r\n # The comments/notes given in the highlight section too does not shows up in the preview\r\n\r\nh3. Actual Results\r\n # The comments added are not rendered properly\r\n # The comments/notes given in the highlight section too does not shows up in the preview\r\n\r\nh3. Expected Results\r\n # The comments added should show up properly in preview\r\n # The comments/notes given in the highlight section should also show up properly in preview\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Confluence does not Preview's comment annotations properly made in PDF"
    }
  },
  {
    "key": "CONFSERVER-61297",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-22T23:10:35.000+0000",
      "description": "Add abiliyt to attach images or attachments to calendar events",
      "summary": "Add ability to attach images or attachments to calendar events"
    }
  },
  {
    "key": "CONFSERVER-61268",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-22T13:42:14.000+0000",
      "description": "Using our API search endpoints does not allow for exact/literal string matches on text fields. The CQL text search only allows the ~ & !~ {{contains/does not contain}} operators as indicated in our [CQL Field Reference for text|https://developer.atlassian.com/server/confluence/cql-field-reference/#text]:\r\n{noformat:title=Example: This will find any page with those words in any order}\r\nGET /rest/api/content/search?cql=text~\"example exact search string\"\r\nGET /rest/api/search?cql=text~\"example exact search string\"{noformat}\r\n* Example page:\r\n !Screenshot 2021-02-17 at 15.10.58-1.png|thumbnail! \r\n\r\n* From the UI you can perform a exact search by enclosing your search term in quotes:\r\n !Screenshot 2021-02-22 at 14.28.55.png|thumbnail! \r\n !Screenshot 2021-02-22 at 14.43.13.png|thumbnail! \r\nh2. Workaround\r\n\r\n{panel}\u00a0(!) Please note this is using an internal API that is *not* directly supported and may be subject to change. For our public REST API please refer to: https://docs.atlassian.com/ConfluenceServer/rest/7.11.0/{panel}\r\n\r\nYou can perform a exact search in the Confluence UI Advanced search as per normal and grab the internal API used for the search from the browser developer tools, for example:\r\n{noformat}\r\n<baseURL>/rest/searchv3/1.0/cqlSearch?cql=siteSearch+~+%22%5C%22<SEARCH>+<TERMS>+<HERE>%5C%22%22+and+type+in+(%22space%22%2C%22user%22%2C%22page%22%2C%22blogpost%22%2C%22comment%22)\r\n{noformat}\r\nAs in the example screenshot with the text +This exact sentence+.\r\n{noformat:title=Seaching \"This exact sentence\"}\r\n# I Removed the start and end of the command above just to make it easier to read what needs updating.\r\n...siteSearch+~+%22%5C%22this+exact+sentence%5C%22%22...\r\n\r\n   \"start\": 0,\r\n    \"limit\": 25,\r\n    \"size\": 1,\r\n    \"totalSize\": 1,\r\n    \"cqlQuery\": \"siteSearch ~ \\\"\\\\\\\"this exact sentence\\\\\\\"\\\" and type in (\\\"space\\\",\\\"user\\\",\\\"page\\\",\\\"blogpost\\\",\\\"comment\\\")\",{noformat}\r\n{noformat:title=Zero match when search term is not exact and does NOT work in the UI}\r\n also \"results\": [], \r\n \"start\": 0,\r\n \"limit\": 25,\r\n \"size\": 0,\r\n \"totalSize\": 0,\r\n \"cqlQuery\": \"siteSearch ~ \"\\\"this sentence exact\\\"\" and type in (\"space\",\"user\",\"page\",\"blogpost\",\"comment\")\",\r\n{noformat}\r\n\r\nSo it is _currently_ possible to still replicate the UI results but there is no native way without a workaround.",
      "summary": "Allow for exact text string matches using the REST API CQL search endpoint"
    }
  },
  {
    "key": "CONFSERVER-61267",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-05T03:35:48.000+0000",
      "created": "2021-02-22T06:39:15.000+0000",
      "description": "h3. Problem\r\n\r\nBrowsing Confluence content in Chrome can lead to overlapping text whilst using the Chrome built-in Scroll bar feature.\r\n\r\nh3. Environment\r\nReproduced with:\r\n* Chrome 88.0.4324.150 (Official Build) (x86_64)\r\n* Confluence Server version 7.4.6\r\n\r\nh3. Steps to Reproduce\r\n# Setup a new Confluence Server instance version 7.4.6\r\n# Access the Confluence Base URL from Chrome version 88\r\n# Browse to a Confluence page and scroll-down using the Chrome scrollbar with the Mouse\r\n\r\nh3. Expected Results\r\nContent should not overlap over the Page Title or any other content information.\r\n\r\nh3. Actual Results\r\nOverlapping can happen when using the Chrome scrollbar.\r\n\r\nh3. Workaround\r\n* Use Firefox recent version *85* \r\n* Zoom out the content in Chrome so the use of the scrollbar is not required\r\n\r\nh3. Notes\r\nA small recording of the issue can be found attached",
      "summary": "Content Overlap Using the Chrome Scrollbar"
    }
  },
  {
    "key": "CONFSERVER-61266",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-07T06:01:17.000+0000",
      "created": "2021-02-22T04:54:36.000+0000",
      "description": "Affected versions of Team Calendar in Confluence Server\u00a0allow attackers to inject arbitrary HTML or Javascript via a Cross Site Scripting vulnerability in admin global setting parameters.\r\nh3. Affected versions:\r\n * < 7.11.0\r\n\r\nh3. Fixed version:\r\n * 7.11.0\r\n\r\n\u00a0\r\n\r\nThis vulnerability is attributed to\u00a0Stefano Castilletti, a security researcher from Apple.",
      "summary": "Persistent XSS through Team Calendar in Confluence Server - CVE-2020-29444 "
    }
  },
  {
    "key": "CONFSERVER-61265",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-19T15:47:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you create a page with nested section macros, enabling the \"Show Border\" option for the parent section macro overrides all border properties for child section macros inside of it and make them show borders too.\r\nh3. Steps to Reproduce\r\n # Create a page by using this storage format: [^nested_section_macros.txt]\r\n # Enable the \"Show Border\" option for the parent section macro\r\n\r\nh3. Expected Results\r\n\r\nOnly the border for the outmost section (selected with a red marker) should be enabled. \r\n !nested_section_expected.jpg|width=845,height=122!\r\nh3. Actual Results\r\n\r\nBorders for child sections inside the parent are enabled.\r\n !nested_section_actual.jpg|width=845,height=122!\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Enabling show border option on the parent Section macro overrides all border properties for child section macros inside of it"
    }
  },
  {
    "key": "CONFSERVER-61264",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-19T11:57:29.000+0000",
      "description": "Currently, on Confluence v7.x, an Upgrade Page is displayed to admin and all users as the Upgrade Notes 7.0 says - \r\n\"After successfully upgrading Confluence, you'll now be directed to a new upgrade report page, which shows the status of your apps and application links, and highlights any important changes that may impact your systems or users.\r\nYou can also access the report at any time from > General Configuration > Latest upgrade report.\"\r\nhttps://confluence.atlassian.com/doc/confluence-7-0-upgrade-notes-967869114.html#Confluence7.0UpgradeNotes-Post-upgradereport\r\n\r\nThe request is to have a functionality where this prompt can de disabled so that users does not gets this notification after upgrade is completed successfully.\r\n\r\nRegards\r\nAvik H",
      "summary": "Functionality for disabling upgrade report notification"
    }
  },
  {
    "key": "CONFSERVER-61263",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-18T15:22:42.000+0000",
      "description": "Would like to see native support that's similar to \"[Numbered Headings|https://marketplace.atlassian.com/apps/16063/numbered-headings]\" by Avisi BV.\u00a0\r\n\r\nThe problem we run into as a govt organization is that as we transition our old Word docs to Confluence, the headings don't auto-number, nor do they contain the format, 1, 1.1, 1.1.1, 1.1.2, etc...\u00a0",
      "summary": "Add Numbered Headings Support"
    }
  },
  {
    "key": "CONFSERVER-61262",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-18T15:17:09.000+0000",
      "description": "Images and Tables should allow for captions that will renumber/increment based on where they are in the document/page.\u00a0 Similar to \"Numbered Captions\" [by Bolo Software.|https://marketplace.atlassian.com/apps/1211217/numbered-captions]\r\n\r\nThe problem we run into as a govt organization is that as we transition our old Word documents to Confluence pages, manually numbering images adds a lot of work when the document has to be revised and a new \"Figure\" or \"Table\" is added, and we have to manually redo all subsequent images/tables.",
      "summary": "Add Image & Table Caption Support"
    }
  },
  {
    "key": "CONFSERVER-61261",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-02T04:07:45.000+0000",
      "created": "2021-02-01T23:14:59.000+0000",
      "description": "Team calendar subscribing via ics link is sometimes breaking - once broken it continues to throw a NullPointerException until the plugin is reinstalled or the instance is restarted.\u00a0\r\nh3. Expected Results\r\n\r\nTeam calendar subscribing via ics link will work reliably.\r\nh3. Actual Results\r\n\r\nThe following details can be seen in the logs:\r\n{noformat}\r\n[calendar3.rest.ExceptionMappers.GeneralExceptionMapper] getResponseError General exception happen on calendar resources\r\n\r\njavax.ws.rs.WebApplicationException: java.lang.NullPointerException at\r\ncom.atlassian.confluence.extra.calendar3.rest.resources.ExportResource.lambda$exportCalendarAsIcalendarTextInternal$0(ExportResource.java:133) at \r\ncom.sun.jersey.core.impl.provider.entity.StreamingOutputProvider.writeTo(StreamingOutputProvider.java:71) at \r\ncom.sun.jersey.core.impl.provider.entity.StreamingOutputProvider.writeTo(StreamingOutputProvider.java:57)\r\n\r\n{noformat}\r\nh3. Workaround\r\n\r\nRe-installing the plugin or restarting the instance / nodes will temporarily resolve the issue",
      "summary": "Subscribing to team calendars via ics sometimes results in Null Pointer Exception"
    }
  },
  {
    "key": "CONFSERVER-61260",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T23:06:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Office Word (aka. View File) macro cannot display images of a Word file in a comment\r\nh3. Steps to Reproduce\r\n # Create a new page\r\n # Upload a Word document containing some images\r\n # Add a new comment and insert an Office Word macro for the newly attached Word doc\r\n\r\nh3. Expected Results\r\n\r\nThe Office Word macro in the comment can display the images in the Word document.\r\nh3. Actual Results\r\n\r\nThe Office Word macro shows empty placeholders for the images.\r\n !office-word-macro-show-broken-images-in-comment.png|width=800!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "The Office Word (aka. View File) macro cannot display images of a Word file in a comment"
    }
  },
  {
    "key": "CONFSERVER-61247",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T21:07:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUsers can get and set content properties by REST API, but this limits to advanced users using this feature only.\r\n\r\nIt would be really useful if users could change content properties through the UI.\r\n\r\n\u00a0",
      "summary": "Provide a way to set content properties via Confluence UI"
    }
  },
  {
    "key": "CONFSERVER-61246",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T19:26:04.000+0000",
      "description": "h3. Issue Summary\r\nChart macro of type timeSeries doesn't work with 53 week years when using Date format w-y\r\n\r\nThe year 2020 had 53 weeks and the issue happens when we start to add the weeks of 2021, the macro doesn't render a graph anymore and the following error was thrown:\r\n{code:java}\r\nYou are attempting to add an observation for the time period Week 1, 2021 but the series already contains an observation for that time period. Duplicates are not permitted. Try using the addOrUpdate() method.\r\n{code}\r\n\r\nh3. Environment\r\nReproduced in Confluence 7.4.3 and 7.10.0\r\n\r\nh3. Steps to Reproduce\r\n\r\nPlease use this  [^test_storage_format]   to see this behavior\r\n\r\nOr you can follow the steps below:\r\n\r\n# Add a chart macro to a Confluence page with the following options:\r\n#* Type: timeSeries \r\n#* Date format: w-y\r\n#* Time Period: week\r\n# In the Chart macro create a table where the first row contains the week of the year, make sure to add week 53 of 2020 and then week 1 of 2021\r\n# Add another row with values, the table should look like the table below:\r\n !table.png|thumbnail! \r\n# Try to preview the result or Save the page\r\n\r\n\r\nh3. Expected Results\r\nThe Chart macro can render the graph with information from the weeks of the year without issues.\r\n\r\nh3. Actual Results\r\n\r\nThe chart doesn't render at all and the following error is shown:\r\n{code:java}\r\nYou are attempting to add an observation for the time period Week 1, 2021 but the series already contains an observation for that time period. Duplicates are not permitted. Try using the addOrUpdate() method.\r\n{code}\r\n !error.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\n1. Change the chart type to 'line' instead of timeSeries.\r\n\r\n*or*\r\n\r\n2. Change the date format to \"*d-M-y*\", however, to do this you also have to change the entire first row data to match the new date format, so instead of using 2-2021 change all dates to 4-1-2021, this might not be feasible depending on how many weeks the table has.\r\n",
      "summary": "Chart macro of type timeSeries doesn't work with 53 week years when using Date format w-y"
    }
  },
  {
    "key": "CONFSERVER-61245",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T17:54:11.000+0000",
      "description": "h3. Issue Summary\r\nClosing the editor without publishing results in macros losing their tile if Chrome is zoomed in or out.\r\n\r\nh3. Steps to Reproduce\r\n# Using Chrome, create a page\r\n# Add an information macro and add random text to it\r\n# Publish the page\r\n# Zoom the Chrome browser to 80%(could o up and down)\r\n# Edit the page, place the cursor next t the text in the macro and click close\r\n# Edit the page once more and see the title is missing\r\n\r\nh3. Expected Results\r\nDisplay the Info title\r\n !image-2021-02-17-18-36-53-855.png|thumbnail! \r\n\r\nh3. Actual Results\r\nInfo icon and the title is missing\r\n !image-2021-02-17-18-38-17-171.png|thumbnail! \r\n\r\nThere are no clear errors in the logs nor browser console. \r\n\r\nh3. Workaround\r\n* Set the Zoom in Crome to 100% and edit and publish the page once more. \r\n* Use a different browser.",
      "summary": "Closing the editor without publishing results in macros losing their tile if Chrome is zoomed in or out"
    }
  },
  {
    "key": "CONFSERVER-61244",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T16:13:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConvenient way of creating permanent Links to inline comments\r\nh3. Current Feature:\r\n\r\nCurrently, the format to add an external link to inline comments depends on page title:\r\n{code:java}\r\n\u00a0http://myconfluence.com/display/spacekey/pagename?focusedCommentId=commentid#comment-commentid {code}\r\nas per following article on *[Working with Links|https://confluence.atlassian.com/doc/links-776656293.html]*\r\nh3. Expected Feature:\r\n\r\nThe easiest way would be to replace the current declarative URL by permanent URLs. If we need a link at all, it should already be permanent.\r\n\r\nOtherwise, a share function for creating the link could be available via the 3-dot menu of the inline comment.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Create permanent Links to inline comments"
    }
  },
  {
    "key": "CONFSERVER-61243",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-10T01:22:18.000+0000",
      "created": "2021-01-13T22:36:36.000+0000",
      "description": "h3. Issue Summary\r\nCannot change single all day event in recurrence series to non all day event\r\n\r\nh3. Steps to Reproduce\r\n # Create recurrence series from all day event that repeats at least once\r\n # Try to edit on of the recurring events, single instance only, from all day to non all day\r\n\r\nh3. Expected Results\r\nEdited event changes\r\n\r\nh3. Actual Results\r\nNo visible change. However new event is created in database. \r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Cannot edit single all day event in recurrence series to non all day event"
    }
  },
  {
    "key": "CONFSERVER-61242",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T06:06:44.000+0000",
      "description": "h3. Issue Summary\r\n\r\nJira Cloud Road Map and Issues Calendar macros may not be loaded in editor. It may be worth noting that Advanced roadmaps (Portfolio) always work.\r\n\r\nh3. Steps to Reproduce\r\n\r\n # Create a project on Jira Cloud\r\n # Create road map (not the Plan) for the project\r\n # Setup applink\r\n # Open macro browser in editor\r\n\r\nh3. Expected Results\r\n\r\n # The user should see a macro called Jira Road Map\r\n # The user should see a macro called Jira Issues Calendar\r\n\r\nh3. Actual Results\r\n\r\n # Sometimes the Jira Cloud macros are missing\r\n\r\nh3. Workaround\r\n\r\nRefreshing the page in a while may bring Jira Cloud macros back",
      "summary": "Jira Cloud macros may be missing in editor"
    }
  },
  {
    "key": "CONFSERVER-61241",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-17T01:19:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Edit button is missing in Office Connector macro on a blog post\r\nh3. Steps to Reproduce\r\n # Create a new blog post and upload some Word/Excel documents to the blog post\r\n # Add an Office macro on the blog post and publish it.\r\n # View the blog post\r\n\r\nh3. Expected Results\r\n\r\nThe Edit button is visible in the Office Connector macro\r\nh3. Actual Results\r\n\r\nThe Edit button is missing in the Office Connector macro.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "The Edit button is missing in View File macro on a blog post"
    }
  },
  {
    "key": "CONFSERVER-61230",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-16T21:10:42.000+0000",
      "description": "h3. Problem Definition\r\nThe way Atlassian is checking for confluence database user privileges is not an efficient check.\r\n\r\nh3. Suggested Solution\r\nOption-1: When giving \"grant connect\" and \"grant resource\" they already have access granted to create tables/sequence/trigger, but the installer is checking again to grant \"create table\", \"create sequence\", \"create trigger\". As oracle keeps changing these roles you will keep running into the issues instead you should give as pre-reqs what confluence database user needs.\r\n\r\nOption-2: Grant individual privileges like grant \"create table\", \"create sequence\", \"create trigger\", \"create session\" instead of asking for \"grant connect\" and \"grant resource\" and validating in UI interface. This is the GIS issue where they are recommending this option of giving grants individually instead of Oracle pre-defined roles. If you can discuss this with an Oracle DBA person he will get it.\r\n\r\nOption-3: Grant all what you are asking for and then remove the additional privileges which is GIS violation (\"grant connect\" and \"grant resource\") which seems to be working from the community article you have sent.",
      "summary": "Better handling of database user privileges"
    }
  },
  {
    "key": "CONFSERVER-61229",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-16T19:46:44.000+0000",
      "description": "h3. Issue Summary\r\nWhenever the CDN URL changes, the contents of the batch.css file are not updated to reflect this. In turn, this results in certain image files used within the UI not render properly.\r\n\r\nh3. Steps to Reproduce\r\n# CDN for Confluence Data Center is correctly configured according to [Configure your CDN for Confluence Data Center|https://confluence.atlassian.com/doc/configure-your-cdn-for-confluence-data-center-976771362.html]\r\n# Change the CDN URL\r\n\r\nh3. Expected Results\r\n* The contents of the batch.css change accordingly to reflect the new CDN URL\r\n\r\nh3. Actual Results\r\n* batch.css doesn't change at all, which causes certain image files used within the UI to not render properly\r\n\r\nh3. Workaround\r\n* Delete the contents of {{/var/atlassian/application-data/confluence/webresource-temp}}\r\n\r\nThe same scenario/workaround was reported to Jira and Bitbucket. Deleting the webresources folders also works for those applications. ",
      "summary": "CDN URL changes don't update the contents of the batch.css file"
    }
  },
  {
    "key": "CONFSERVER-61228",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-09T01:12:49.000+0000",
      "created": "2021-02-16T17:43:09.000+0000",
      "description": "h3. Issue Summary\r\n* When deleting a page version, on the *Page History* page, that is an intermediary page version, it won't be renamed/reordered up on the versions list, keeping its original version.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page in Confluence\r\n# Edit this page at least 3 times\r\n# Having, for example, 3 versions of the page, navigate to the *Page History* of the affected page\r\n#* Numbering scheme:\r\n#*# v1\r\n#*# v2\r\n#*# v3 \r\n# Delete version 2 of the page\r\n\r\nh3. Expected Results\r\n* Version 1 should remain being v1, and version 3 should now be the v2.\r\n* Numbering scheme:\r\n*# v1\r\n*# v2\r\n\r\nh3. Actual Results\r\n* Version 1 remains being v1, but version 3 keeps being v3 instead of v2:\r\n* Numbering scheme:\r\n*# v1\r\n*# v3\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Page History versions aren't reordered/renamed when deleting an intermediary page version"
    }
  },
  {
    "key": "CONFSERVER-61227",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-16T15:30:29.000+0000",
      "description": "To my knowledge this is not a feature of Confluence.\u00a0 If it is please close this ticket and explain.\r\n\r\n\u00a0\r\n\r\nI would like to create \"X\" number of Jira tasks from Confluence with each having their own respective due date based on the information captured in the table within the minutes created.\u00a0 Other information could be captured this way as well, assignee, components, etc.",
      "summary": "Ability to set due dates for jira tasks based on dates captured in the table"
    }
  },
  {
    "key": "CONFSERVER-61226",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-16T14:08:06.000+0000",
      "description": "*Issue description*\r\n\r\nCurrently I can show the following columns with the Task Report macro:\r\n * description\r\n * duedate\r\n * assignee\r\n * location\r\n * completedate\r\n * labels\r\n\r\nAs the description includes the real task, you always need this field. Additionally the columns due date and assignee give a good and clean overview of the task details. Unfortunatelly, description includes this information as well and makes the overview confusing and includes\u00a0repetitive information.\r\n\r\n!image-2021-02-16-15-04-37-944.png|width=1439,height=576!\r\n\r\nSource:\u00a0https://confluence.atlassian.com/doc/task-report-macro-590260009.html\r\n\r\n*Solution*\r\n\r\nAdd another column, e. g. called \"Task\", just including the task itself. Using the above example:\r\n * Task: Create new project space\r\n * Due date: 14 May 2020\r\n * Assignee: Jie Yang Song",
      "summary": "Add a column \"Task\" to the Task Report Macro"
    }
  },
  {
    "key": "CONFSERVER-61224",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-16T07:03:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nicon styles are broken\r\n\r\nh3. Steps to Reproduce\r\n\r\ninsert jira road map\r\n\r\nh3. Expected Results\r\n\r\nicons are properly styled\r\n\r\nh3. Actual Results\r\n\r\nIcons are overly big\r\n!image-2021-02-16-18-00-29-299.png|width=801,height=536!\r\n\r\nh3. Workaround\r\nN/A",
      "summary": "Jira road map gadget dialog warning and down arrow icons are overly big"
    }
  },
  {
    "key": "CONFSERVER-61213",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-07T01:44:59.000+0000",
      "created": "2021-02-15T16:32:21.000+0000",
      "description": "h3. Issue Summary\r\nTeam Calendar Macro Events Title is not align correctly if the macro is inside a page layout.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page in Confluence and insert a 2:1 *Page Layout*.\r\n# Insert Team Calendar macro (*List* View) into the smaller layout column.\r\n# Create a Calendar *Events* type with a long Title (inside *What*).\r\n# Refresh the page.\r\n\r\nh3. Expected Results\r\nThe Long *Events* Title render correctly.\r\n\r\nh3. Actual Results\r\nThe long *Events* Title is not align correctly from *Mozilla Firefox* browser:\r\n* !calfirefox.png|thumbnail!\r\n\r\n\r\n\r\nh3. Workaround\r\nThe long Events Title loads correctly in the *Google Chrome* browser.\r\n* !calchrome.png|thumbnail!\r\n\r\nDowngrade to *Team Calendar for Confluence version 6.0.53* to resolve the issue in *Firefox*:\r\n* !calOK.png|thumbnail!\r\n",
      "summary": "Long Events Title for Team Calendar Macro is not align correctly in Firefox Browser if the macro is inside a page layout."
    }
  },
  {
    "key": "CONFSERVER-61212",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-15T16:31:44.000+0000",
      "description": "h3. Issue Summary\r\n * With Collaborative Editing disabled\r\n * More than 2 users are editing the same section of the page\r\n * if they(2+ users) save the content at almost similar time\r\n * \"Overwrite\" button for 3rd user will not work and throws 409 error code.\r\n\r\nh3. Steps to Reproduce\r\n # Turn OFF CE.\r\n # User 1 creates a new page.\r\n # User 1 edits this newly created page and add contents on this new page on first line.\r\n # User 1 saves this content.\r\n # User 2 and User 3 opens this page and are attempting to edit the first line.\r\n # User 1 also starts editing this page on the first line again.\r\n # User1, User2 and User3 made the respective changes and trying to save the content almost at the same time.\r\n # First user is able save the page fine but the other 2 users gets the conflict screen.\r\n # Second user is able to click on Overwrite and make the required changes whereas once Third User tries to overwrite these changes, he receives an error 409\r\n\r\nh3. Expected Results\r\n\r\nThird user should be able to save the changes with Overwrite button.\r\nh3. Actual Results\r\n\r\nThird user is not able to save the changes with Overwrite button and instead 409 error code can be seen under HAR file.\r\n Video has been added showing this specific behaviour.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Overwrite button does not work when more then 2 users are concurrently modifying the same section of the page with CE disabled."
    }
  },
  {
    "key": "CONFSERVER-61210",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-15T12:20:20.000+0000",
      "description": "h3. Issue Summary\r\nEditing of the page will fail if the page contains an element with the class \"fatal-render-error\". On the page error \"This page is taking longer to load than usual. Give it a few moments, then try refreshing. Still having issues? Contact your Confluence admin.\" will be visible.\r\n\r\nh3. Steps to Reproduce\r\n# Make sure that Collaborative editing works.\r\n# Create an page with element like this (Source editor addon can be used to create a page like this):\r\n{code}\r\n<p class=\"fatal-render-error\">test</p>\r\n{code}\r\n# Save page\r\n# Edit page once again\r\n\r\nh3. Expected Results\r\nPage can be edit.\r\n\r\nh3. Actual Results\r\nPage can not be edit, and this message will pop up:\r\n\"This page is taking longer to load than usual. Give it a few moments, then try refreshing. Still having issues? Contact your Confluence admin.\"\r\n !Screen Shot 2021-02-15 at 13.18.55.png|thumbnail! \r\n !Screen Shot 2021-02-15 at 13.16.25.png|thumbnail! \r\n\r\nh3. Workaround\r\nUse the database to remove this class from the element.\r\n- Open view mode of the page (that one should work).\r\n- Open Page History from the navigation menu.\r\n- Click on the current version of the page.\r\n- Now you will see the same page, but now in the URL you should see PageID.\r\n- Stop Confluence and backup database.\r\n- Update the page by removing all references of \"fatal-render-error\".\r\n{code}UPDATE BODYCONTENT SET BODY = REPLACE(BODY,'fatal-render-error','') WHERE CONTENTID='<PageId>';{code}\r\n- Start Confluence\r\n- Check the [storage format of the page|https://confluence.atlassian.com/doc/confluence-storage-format-790796544.html] if the class is still there.\r\n- If it is not, check if you are able to edit the page again.",
      "summary": "Editing of the page will fail if the page contains an element with the class \"fatal-render-error\"."
    }
  },
  {
    "key": "CONFSERVER-61209",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-15T10:54:21.000+0000",
      "description": "h3. Issue Summary\r\nCopy an image from a page to a template will cause a ContentEntitySimulacrum issue with other macros.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page with Content by Label macro and with a single image.\r\n# Create a new template in that space.\r\n# Copy from original page Content by Label macro and the image.\r\n# Preview template.\r\n\r\nh3. Expected Results\r\nThe page will display properly, with image and Content by Label macro.\r\n\r\nh3. Actual Results\r\nContent by label macro will be broken, and this error will be visible:\r\n !Screen Shot 2021-02-15 at 11.51.19.png|thumbnail! \r\n{code}\r\nError rendering macro 'contentbylabel'\r\n\r\nUnable to resolve entity name from Class [com.atlassian.confluence.core.ContentEntitySimulacrum] expected instance/subclass of [com.atlassian.confluence.core.ContentEntityObject]; nested exception is org.hibernate.HibernateException: Unable to resolve entity name from Class [com.atlassian.confluence.core.ContentEntitySimulacrum] expected instance/subclass of [com.atlassian.confluence.core.ContentEntityObject]\r\n{code}\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2021-02-01 12:22:44,538 WARN [https-jsse-nio-8443-exec-137 url:/pages/rendercontent.action username:xxx] [xhtml.editor.embed.EditorEmbeddedImageResourceUnmarshaller] unmarshal Error unmarshaling editor embedded image\r\n -- referer: https://xxx/pages/templates2/createpagetemplate.action?key=~xxx | url: /pages/rendercontent.action | traceId: 040f809a0faa77a9 | userName: xxx | action: rendercontent\r\norg.springframework.orm.hibernate5.HibernateSystemException: Unable to resolve entity name from Class [com.atlassian.confluence.core.ContentEntitySimulacrum] expected instance/subclass of [com.atlassian.confluence.core.ContentEntityObject]; nested exception is org.hibernate.HibernateException: Unable to resolve entity name from Class [com.atlassian.confluence.core.ContentEntitySimulacrum] expected instance/subclass of [com.atlassian.confluence.core.ContentEntityObject]\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:300)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:388)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:351)\r\n...\r\nCaused by: org.hibernate.HibernateException: Unable to resolve entity name from Class [com.atlassian.confluence.core.ContentEntitySimulacrum] expected instance/subclass of [com.atlassian.confluence.core.ContentEntityObject]\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.determineConcreteSubclassEntityName(PojoEntityTuplizer.java:312)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.getSubclassEntityPersister(AbstractEntityPersister.java:4770)\r\n\tat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1636)\r\n\tat org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:225)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.getEntityState(AbstractSaveEventListener.java:499)\r\n...\r\n{noformat}\r\n\r\nh3. Workaround\r\nInstead of copying the image, use the target URL of the image and attach it as a web image.",
      "summary": "Copy an image from a page to a template will cause a ContentEntitySimulacrum issue with other macros."
    }
  },
  {
    "key": "CONFSERVER-61197",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-12T23:26:37.000+0000",
      "description": "When\u00a0anonymous access is disabled at the global level but enabled at the Space level, Space admins still see \"Anonymous users cannot view this space because the global anonymous permission is currently disabled\" and this confuses them. For the customer, this statement is not formulated clearly enough. They would like to have a message such as: \"All users in this space have access to this workspace\" when it's applicable.\u00a0",
      "summary": "\"Anonymous users cannot view this space because the global anonymous permission is currently disabled\" confuses some users"
    }
  },
  {
    "key": "CONFSERVER-61196",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-15T12:41:27.000+0000",
      "created": "2021-02-12T19:09:56.000+0000",
      "description": "h3. Closed as a duplicate of [CONFSERVER-60876|https://jira.atlassian.com/browse/CONFSERVER-60876]\r\n\r\nh3. Problem\r\n\r\nAttachment (office .doc, .xlxs) renders fine on the page it's attached to. However, if this attachment is referenced on another page via Office macro, it won't render and the UI will show only a spinning wheel as if it were loading.\r\n\r\nReference to the Office macro docs:\r\n * [View File Macro|https://confluence.atlassian.com/doc/view-file-macro-170494360.html]\r\n * [Office Excel Macro|https://confluence.atlassian.com/doc/office-excel-macro-375849173.html]\r\n * [Office Powerpoint Macro|https://confluence.atlassian.com/doc/office-powerpoint-macro-375849178.html]\r\n * [Office Word Macro|https://confluence.atlassian.com/doc/office-word-macro-375849176.html]\r\n\r\nh3. Environment\r\n\r\nConfluence Server/DC versions: *7.9.3*, *7.10.2*, *7.11.0*.\r\n Doesn't occur on versions lower than\u00a0*7.9.*\r\nh3. Steps to Reproduce\r\n # Install a vanilla Confluence (versions where this was reproduced: 7.9.3, 7.10.2, 7.11.0)\r\n # Add an office-type attachment to a page. They'll render fine.\r\n !repro-1.png|thumbnail!\r\n # Create another page and add the Office macro (tested with .xlxs and .docx files) to it - point the macro to the page where the Office files were uploaded to\r\n !repro-2.png|thumbnail!\r\n\r\nh3. Expected Results\r\n\r\nOffice macro to render the attachments from another page without issues.\r\nh3. Actual Results\r\n\r\nOffice macro can't find the attachments because it's not searching for them on the correct page.\r\n\r\n(i)\u00a0However, while the page is in editing mode, the macro does render the file contents properly (so it looks for them on the correct page at some point):\r\n !repro-3.png|thumbnail!\r\nh3. Notes\r\n\r\nHAR and javascript console files taken from the browser's DevTools show this HTTP 404 on the attachment.\r\n HAR file:\r\n !repro-HAR-404.png|thumbnail! \r\n !repro-HAR-404-network.png|thumbnail! \r\n !repro-HAR-404-network-1.png|thumbnail!\r\n\r\nUpon further checking on the HAR file, it seems that the _contextEntityId_ parameter in the URL is not pointing to the correct pageID:\r\n !404.png|thumbnail!\r\n\r\nFrom the repro steps, what seems to be happening is:\r\n * the pageID in the URL that the Office macro calls to render the attachment is from the same page where the Edit Office macro was included, *and not the pageID of the page where the actual attachments were uploaded to*.\r\n * if I replace the _contextEntityId_ in the URL and point it to the pageID of the page where the attachments were included, then it seems to render fine:\r\n !success.png|thumbnail!\r\n\r\nThis *does not* happen with PDF files.\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Office Macros (Viewfile macro) in Confluence don't render document preview if the attachment is located in another page"
    }
  },
  {
    "key": "CONFSERVER-61195",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-12T09:25:11.000+0000",
      "description": "Currently for removing unknown attachments, we need to manually browse to that specific page and remove the section of unknown attachments which is fine for a few pages.\u00a0\r\n\r\nThe ask is to remove \"unknown attachments\" in bulk from multiple pages at once so that there is no need to browse to individual pages for removing the unknown attachments.\u00a0",
      "summary": "Removing Unknown Attachments in bulk"
    }
  },
  {
    "key": "CONFSERVER-61194",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-12T05:10:06.000+0000",
      "created": "2021-02-12T05:56:15.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUser Directory Synchronization never triggered as per the schedule Interval in Confluence 7.11.0, whereas the same configuration works properly in Confluence version 7.10 and the schedule kicks the User directory sync as per the scheduled interval.\r\n\r\nHowever, manual sync works as expected in Confluence version 7.11\r\n\r\n*Environment*\r\n * Confluence 7.11.0\r\n * Used Crowd User Directory and Active Directory\r\n\r\nh3. Steps to Reproduce\r\n # Install a fresh Confluence 7.11.0 or Upgrade to 7.11.0\u00a0\r\n # Configured the Crowd User Directory and set\u00a0*Synchronization Interval (minutes):* to any number. I used 5 min,\u00a0\r\n # Test the Connection and save the settings.\u00a0\r\n # User directory sync will not get triggered until we triggered manually.\u00a0\u00a0\r\n # As per the expectation, the schedule should trigger the User Directory sync as per the scheduled time but the user directory sync never triggers, only manual sync works here.\u00a0\r\n\r\nh3. Expected Results\r\n\r\nUser directory sync should be triggered as per the scheduled time.\u00a0\r\nh3. Actual Results\r\n\r\nThe\u00a0_atlassian-confluence-security.log_ shows only manual Sync logs_._\u00a0\r\n\r\n\u00a0file:\r\n{code:java}\r\n2021-02-12 09:50:39,733 INFO [http-nio-27110-exec-10] [embedded.admin.list.DirectoriesController] sync User directory synchronisation requested: [ Crowd Server ], type: [ CROWD ]\r\n2021-02-12 09:50:39,861 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteDirectory] synchroniseCache FULL synchronisation for directory [ 98306 ] starting\r\n2021-02-12 09:50:40,031 INFO [Caesium-1-4] [directory.ldap.cache.RemoteDirectoryCacheRefresher] findAllRemoteUsers found [ 2 ] remote users in [ 68 ms ]\r\n2021-02-12 09:50:40,037 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] deleteCachedUsersNotIn scanned and compared [ 2 ] users for delete in DB cache in [ 5ms ]\r\n2021-02-12 09:50:40,037 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] deleteCachedUsersNotIn scanned for deleted users in [ 5ms ]\r\n2021-02-12 09:50:40,040 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] getUsersToAddAndUpdate scanning [ 2 ] users to add or update\r\n2021-02-12 09:50:40,044 INFO [Caesium-1-4] [atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations] addOrUpdateCachedUsers scanned and compared [ 2 ] users for update in DB cache in [ 6ms ]\r\n2021-02-12 09:50:40,046 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] addUsers adding [ 2 ] users\r\n2021-02-12 09:50:40,143 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] addUsers added [ 2 ] users successfully in [ 97ms ]\r\n2021-02-12 09:50:40,144 INFO [Caesium-1-4] [atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations] addOrUpdateCachedUsers synchronised [ 2 ] users in [ 106ms ]\r\n2021-02-12 09:50:40,219 INFO [Caesium-1-4] [directory.ldap.cache.RemoteDirectoryCacheRefresher] findAllRemoteGroups found [ 1 ] remote groups in [ 73 ms ]\r\n2021-02-12 09:50:40,225 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] determineGroupsToRemoveByName scanned and compared [ 1 ] groups for delete in DB cache in [ 3ms ]\r\n2021-02-12 09:50:40,226 INFO [Caesium-1-4] [atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations] addOrUpdateCachedGroups scanning [ 1 ] groups to add or update\r\n2021-02-12 09:50:40,228 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] findGroupsToUpdate scanned and compared [ 1 ] groups for update in DB cache in [ 2ms ]\r\n2021-02-12 09:50:40,242 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteChangeOperations] addGroups added [ 1 ] groups successfully in [ 10ms ]\r\n2021-02-12 09:50:40,243 INFO [Caesium-1-4] [atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations] addOrUpdateCachedGroups synchronized [ 1 ] groups in [ 17ms ]\r\n2021-02-12 09:50:40,459 INFO [Caesium-1-4] [atlassian.crowd.directory.DbCachingRemoteDirectory] synchroniseCache FULL synchronisation complete for directory [ 98306 ] in [ 624ms ]\r\n{code}\r\nUser directory page also shows the last manual Sync time\u00a0\r\n !Screenshot 2021-02-12 at 11.19.28 AM.png|width=306,height=26,thumbnail!\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "User directory synchronization never trigger based on the Interval on Confluence 7.11.0"
    }
  },
  {
    "key": "CONFSERVER-61193",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-01-13T23:07:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you are in \"Add existing calendar\" and searching for the name \"foo\", it works only if I type \"foo\" and waiting for a second.\r\n\r\nIf I type \"foo\" and press Enter in the search box, the search never happens and the old results are displayed. This is confusing, because the user might think no new results were found (but in reality search never happened).\r\n\r\nh3. Steps to Reproduce\r\n # Go to \"Calendars\"\r\n # Create calendar with name \"Foo\"\r\n # Remove this calendar from view by \"Removing\" it from the right toolbar. We do this so it can be added again from search.\r\n # Click on \"...\" next to \"Add calendar\" and choose \"Add existing calendar\"\r\n # Click on \"Search for calendars\" on the bottom\r\n # Type \"foo\" and then Enter (quickly)\r\n\r\nh3. Expected Results\r\n\r\nThe calendar is in the list\r\n\r\nh3. Actual Results\r\n\r\nThe search never happens\r\n\r\nh3. Workaround\r\n\r\nAfter typing into the search input, don't press enter in first 1-2 after stopping to type",
      "summary": "Searching for calendar and pressing Enter interrupts the search"
    }
  },
  {
    "key": "CONFSERVER-61192",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-11T18:49:11.000+0000",
      "description": "Compare these two methods from {{com.atlassian.confluence.plugins.mentions.ConfluenceMentionsEventListener}} :\r\n\r\n{code}\r\n@EventListener\r\n    public void commentCreated(final CommentCreateEvent event) {\r\n    sendNotificationsForNewContent(event.getComment());\r\n    }\r\n{code}\r\n\r\n{code}\r\n@EventListener\r\n    public void pageCreated(final PageCreateEvent event) {\r\n    if (event.isSuppressNotifications() && event.getUpdateTrigger() == PageUpdateTrigger.LINK_REFACTORING) {\r\n    return;\r\n    }\r\n    sendNotificationsForNewContent(event.getPage());\r\n    }\r\n{code}\r\n\r\nThe {{PageCreateEvent}} listener at least somewhat honors the suppressNotification parameter. The {{CommentCreateEvent}} listener does not.\r\n\r\nAs plugin developers, we'd like to be able to suppress @mention events for bulk operations on pages & comments.\r\n\r\nBut don't take my word for it! HRH and Defender of the Wiki Hasnae Rehioui even said:\r\n{quote}\r\nThe event listener in confluence-mentions-plugin indeed is not looking at those properties for comment events (it should)\r\n{quote}\r\n\r\nAs directed in https://ecosystem.atlassian.net/servicedesk/customer/portal/14/DEVHELP-4919, I'm raising this suggestion here. Hopefully I got the right project & issue type!",
      "summary": "confluence-mentions-plugin "
    }
  },
  {
    "key": "CONFSERVER-61191",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-11T17:48:55.000+0000",
      "description": "h3. Problem Definition  \r\n* When pasting/typing HTML special characters in format of entity number, it gets decoded to the specific HTML special character.\r\n\r\nh3. Suggested Solution  \r\n* Provide an alternative to escape these content that are in entity number format.\r\n\r\nh3. Why this is important   \r\n* This is important as sometimes we may need to add the content as it is in Confluence, without the need of formatting or conversion.\r\n\r\nh3. Workaround \r\nN/A",
      "summary": "Provide an alternative to escape HTML special characters in Confluence's pages and macros"
    }
  },
  {
    "key": "CONFSERVER-61190",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-11T15:12:29.000+0000",
      "description": "h3. Issue Summary\r\nDuring or after a space export as HTML, be it full or custom, if there's a page where attachments were deleted from its attachments page (. . .), an error will be thrown in the atlassian-confluence.log file but it doesn't affect the export itself and is considered a red herring error.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a new page, let's say Test Page\r\n# Upload attachments to the page (.png files for example) \r\n# Remove the file(s) from the attachment list (. . .) ellipsis option in the right corner of the page.\r\n# The files will be deleted and moved to the space trash\r\n# Perform an HTML Export from Space Tools >> Content Tools >> Export (full/normal or only the Test Page as Custom Export )\r\n# Check the atlassian-confluence.log file\r\n\r\nh3. Expected Results\r\nThe export will complete without any errors.\r\n\r\n\r\nh3. Actual Results\r\nThe export completes fine, with no error in the UI however, the below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2021-02-11 11:45:25,510 ERROR [Long running task: Export Space] [confluence.importexport.impl.AbstractRendererExporterImpl] exportResource Resource not found for export: /download/attachments/360451/picanha.jpg\r\n -- url: /spaces/doexportspace.action | referer: http://localhost:8090/spaces/exportspacehtml.action?key=TEST | traceId: e091a3fa4a0bad75 | userName: admin | action: doexportspace\r\n2021-02-11 11:45:25,511 ERROR [Long running task: Export Space] [confluence.importexport.impl.AbstractRendererExporterImpl] exportResource Resource not found for export: /download/attachments/360451/logo.png\r\n -- url: /spaces/doexportspace.action | referer: http://localhost:8090/spaces/exportspacehtml.action?key=TEST | traceId: e091a3fa4a0bad75 | userName: admin | action: doexportspace\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nDeleting the attachments from a page will move it to its *space trash*. To avoid this error to show up in the log files, we need to *Purge the space trash*:\r\n# Navigate to the space we just exported or to the space from the log file error (referrer)\r\n# Click on Space Tools >> Content Tools >> Trash\r\n# Click on *Purge All* or just *Purge* the files from the error message if we don't want to remove all of the deleted content. Further exports won't throw the red herring error",
      "summary": "Exporting a space as HTML throws a red herring error in the atlassian-confluence.log file"
    }
  },
  {
    "key": "CONFSERVER-61189",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-11T14:54:38.000+0000",
      "description": "h3. Issue Summary\r\nOpening base URL multiple times during Data Center migration will break the migration process.\r\n\r\nh3. Steps to Reproduce\r\n# Open multiple tabs to point to the same URL of Confluence.\r\n# Install Confluence as Server.\r\n# In the Administration > Licensing switch the license to DC license.\r\n# Restart Confluence instance\r\n# During the startup, confluence will go into the migration process.\r\n# After setting up network cluster parameters, you will have few minutes while the migration is still running\r\n# Open other tabs and try to open Confluence base URL a few times.\r\n\r\nh3. Expected Results\r\nNothing will happen, and you will see a blank page that is trying to load.\r\n\r\nh3. Actual Results\r\nYou will receive error 500 without any stack trace in the browser:\r\n !Screen Shot 2021-02-11 at 15.58.19.png|thumbnail! \r\nBut from the side of the logs, you will see this error:\r\n{code}\r\n2021-02-11 15:29:10,989 ERROR [http-nio-6747-exec-4] [atlassian.confluence.servlet.ConfluenceServletDispatcher] sendError Could not execute action\r\n -- url: /c747/setup/finishsetup.action | traceId: 000c8fc8f222e598 | userName: anonymous\r\njava.lang.NullPointerException\r\n\tat com.atlassian.confluence.setup.actions.FinishSetupAction.execute(FinishSetupAction.java:57)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:168)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.core.ConfluenceWorkflowInterceptor.intercept(ConfluenceWorkflowInterceptor.java:33)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.security.interceptors.CaptchaInterceptor.intercept(CaptchaInterceptor.java:42)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n....\r\n2021-02-11 15:29:11,044 FATAL [http-nio-6747-exec-4] [atlassian.spring.container.SpringContainerContext] getComponent Spring Application context has not been set\r\n -- traceId: 00efb6ec17e0bf05\r\n2021-02-11 15:29:11,045 WARN [http-nio-6747-exec-4] [atlassian.confluence.status.SystemErrorInformationLogger] toString No SystemInformationService could be retrieved from the Container.\r\n -- traceId: 00efb6ec17e0bf05\r\n{code}\r\n{code}\r\n\r\nh3. Workaround\r\nMake sure that nothing can reach your Confluence instance at the time, like load balancer health checks from AWS, users, or different tabs that are targeting Confluence instance.\r\nChanging the server.xml connector port temporarily can also help to finish migration uninterrupted.",
      "summary": "Opening the base URL multiple times during Data Center migration will break the migration process."
    }
  },
  {
    "key": "CONFSERVER-61188",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-11T14:51:28.000+0000",
      "description": "h3. Issue Summary\r\nOpening the base URL multiple times during installation will break the installation process.\r\n\r\nh3. Steps to Reproduce\r\n# Open multiple tabs to point to the same URL of Confluence.\r\n# Install Confluence until the DB point.\r\n# Start installation (finish DB process), and at the time you will have few minutes where the DB is being populated. \r\n# During that time, in those other tabs, try to open the Confluence base url.\r\n\r\nh3. Expected Results\r\nNothing will happen, and you will see a blank page that is trying to load.\r\n\r\nh3. Actual Results\r\nYou will receive error 500 with this stack trace:\r\n{code}\r\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\torg.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:456)\r\n\tjavax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120)\r\n\tcom.atlassian.confluence.web.filter.DebugFilter$LoggingResponseWrapper.sendError(DebugFilter.java:132)\r\n\tjavax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120)\r\n\tcom.atlassian.confluence.servlet.FourOhFourErrorLoggingFilter$1.sendError(FourOhFourErrorLoggingFilter.java:52)\r\n\tjavax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120)\r\n\tcom.atlassian.core.filters.HeaderSanitisingResponseWrapper.sendError(HeaderSanitisingResponseWrapper.java:89)\r\n\tjavax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120)\r\n{code}\r\n!Screen Shot 2021-02-11 at 15.45.32.png|thumbnail! \r\n\r\nThen on the original tab, you will see a slightly different stack trace each time you try to open it:\r\n{code}\r\njava.util.concurrent.CompletionException: com.atlassian.util.concurrent.LazyReference$InitializationException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tenantedTransactionManager' defined in class path resource [databaseSubsystemContext.xml]: Invocation of init method failed; nested exception is com.atlassian.util.concurrent.LazyReference$InitializationException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tenantedLocalSessionFactoryBean5' defined in class path resource [productionDatabaseContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: premature SessionFactory initialisation, Hibernate properties have not yet been persisted in confluence.cfg.xml\r\n\tjava.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n\tjava.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n\tjava.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:932)\r\n\tjava.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:946)\r\n\tjava.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2266)\r\n\tjava.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:143)\r\n{code}\r\n !Screen Shot 2021-02-11 at 15.48.17.png|thumbnail! \r\n\r\nh3. Workaround\r\nMake sure that nothing can reach your Confluence installation at the time, like load balancer health checks from AWS, users, or different tabs open for the same installation.\r\nChanging the server.xml connector port temporarily can also help to finish installation uninterrupted.",
      "summary": "Opening the base URL multiple times during installation will break the installation process."
    }
  },
  {
    "key": "CONFSERVER-61145",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-26T06:07:17.000+0000",
      "created": "2021-02-10T07:56:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDuring a Confluence upgrade to Confluence 7.11.0, when using SQL Server 2016, upgrade task for Denormalised SpacePermissions ({{DenormalisedSpacePermissionsUpgradeTask}}) fails with bad SQL grammar error.\r\n\r\n*Environment*\r\n * Confluence 7.2.0\r\n * SQL Server 2016 (13.00.2164)\r\n\r\nh3. Steps to Reproduce\r\n # Install a fresh 7.2.x version of Confluence, using SQL Server 2016\r\n # Upgrade to 7.11.0\r\n\r\nh3. Expected Results\r\n\r\nConfluence upgrade is successful.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-confluence.log}} file:\r\n{code:java}\r\n2021-02-10 03:29:28,864 INFO [Catalina-utility-1] [confluence.upgrade.upgradetask.SplitIndexUpgradeTask] validate Split index validation task started.\r\n...\r\n2021-02-10 03:29:28,970 INFO [Catalina-utility-1] [confluence.upgrade.upgradetask.SplitIndexUpgradeTask] validate Split index validation completed.\r\n2021-02-10 03:31:30,745 WARN [Catalina-utility-1] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[null]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #1805033217)\r\n2021-02-10 03:31:31,009 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades Upgrade failed, application will not start: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask@867e592 failed during the SCHEMA_UPGRADE phase due to: StatementCallback; bad SQL grammar [CREATE OR ALTER FUNCTION dbo.space_function_for_denormalised_permissions()\r\nRETURNS BIT\r\nAS\r\nBEGIN\r\n    RETURN 0\r\nEND]; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'OR'.\r\ncom.atlassian.confluence.upgrade.UpgradeException: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask@867e592 failed during the SCHEMA_UPGRADE phase due to: StatementCallback; bad SQL grammar [CREATE OR ALTER FUNCTION dbo.space_function_for_denormalised_permissions()\r\nRETURNS BIT\r\nAS\r\nBEGIN\r\n    RETURN 0\r\nEND]; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'OR'.\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.executeUpgradeStep(AbstractUpgradeManager.java:262)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.runSchemaUpgradeTasks(AbstractUpgradeManager.java:218)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.upgrade(AbstractUpgradeManager.java:164)\r\n\tat com.atlassian.confluence.plugin.PluginFrameworkContextListener.launchUpgrades(PluginFrameworkContextListener.java:122)\r\n\tat com.atlassian.confluence.plugin.PluginFrameworkContextListener.contextInitialized(PluginFrameworkContextListener.java:82)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [CREATE OR ALTER FUNCTION dbo.space_function_for_denormalised_permissions()\r\nRETURNS BIT\r\nAS\r\nBEGIN\r\n    RETURN 0\r\nEND]; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'OR'.\r\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:418)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.sqlserver.BaseSqlServerDdlHelper.createTriggersAndFunctions(BaseSqlServerDdlHelper.java:29)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.SqlServerDenormalisedPermissionsDdlOperations.createSpaceTriggersAndFunctions(SqlServerDenormalisedPermissionsDdlOperations.java:19)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.DenormalisedPermissionsDdlExecutor.createSpaceTriggersAndFunctions(DenormalisedPermissionsDdlExecutor.java:241)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.DenormalisedPermissionsDdlExecutor.lambda$createSpaceDatabaseObjects$0(DenormalisedPermissionsDdlExecutor.java:64)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.DenormalisedPermissionsDdlExecutor.createSpaceDatabaseObjects(DenormalisedPermissionsDdlExecutor.java:62)\r\n\tat com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask.doUpgrade(DenormalisedSpacePermissionsUpgradeTask.java:56)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager$UpgradeStep$3.execute(AbstractUpgradeManager.java:720)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.executeUpgradeTask(AbstractUpgradeManager.java:276)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.executeUpgradeStep(AbstractUpgradeManager.java:256)\r\n\t... 16 more\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'OR'.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:260)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1547)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:857)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:757)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7342)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2688)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:224)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:204)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:734)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyStatement.execute(NewProxyStatement.java:75)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:409)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\r\n\t... 27 more\r\n2021-02-10 03:31:31,009 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades 1 errors were encountered during upgrade:\r\n2021-02-10 03:31:31,010 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades 1: StatementCallback; bad SQL grammar [CREATE OR ALTER FUNCTION dbo.space_function_for_denormalised_permissions()\r\nRETURNS BIT\r\nAS\r\nBEGIN\r\n    RETURN 0\r\nEND]; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'OR'.\r\n{code}\r\nAfter the upgrade tasks are done and Confluence starts, the below screen is displayed when trying to reach Confluence UI.\r\n !upgrade_failed.jpg|width=522,height=156!\r\nh3. Workaround\r\n\r\nUpgrade the database to MSSQL 2016 SP1 (or SP2, SP1 is the minimum supported version) or to MSSQL 2017\r\nIf upgrading to a supported database is not a short term solution then rolling back the upgrade is otherwise highly recommended. ",
      "summary": "Upgrade task for Denormalised Space Permissions on Confluence 7.11.0 fail on MSSQL"
    }
  },
  {
    "key": "CONFSERVER-61144",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-12T03:15:09.000+0000",
      "created": "2021-02-10T06:40:21.000+0000",
      "description": "h3. Issue Summary\r\nFirst event in monthly recurrence series doesn't show or has wrong date \r\n\r\nh3. Steps to Reproduce\r\n # Create a new monthly recurring event that recurs every day of the month (e.g. 1st saturday)\r\n\r\nh3. Expected Results\r\nEvent for first month shows up at beginning date\r\n\r\nh3. Actual Results\r\nNotice that the first month you created the event for doesn't show up. \r\n\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "First event in monthly recurrence series doesn't show or has wrong date"
    }
  },
  {
    "key": "CONFSERVER-61143",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-10T03:59:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAttaching the following sample Powerpoint file [^samplepptx.pptx] to a Confluence DC page. Confluence will be unable to generate a preview file.\r\n(!) It is also affecting the Confluence Server instances and since there is no Sandboxing feature in Confluence Server, it crashed the application process.\r\n\r\nh3. Steps to Reproduce\r\n\r\n # Deploy Confluence DC with at least *2GB Max Heap Size*\r\n # Upload attached [^samplepptx.pptx]\r\n # Publish the page\r\n\r\nh3. Expected Results\r\n # Confluence kicks off the Sandbox process\r\n # Moments later, the preview of the PPTX file should be generated\r\n\r\n(on) The same attached PPTX file works seamlessly with the defaults of Confluence 7.9.3 DC\r\n\r\nh3. Actual Results\r\n # Confluence kicks off the Sandbox process\r\n # Moments later, the back end {{atlassian-confluence.log}} will show the Sandbox crashing:\r\n{code}\r\n2021-06-11 14:41:40,519 WARN [ForkJoinPool.commonPool-worker-11] [plugins.conversion.impl.FileSystemConversionState] markAsError Creating error file: /Users/myuser/shared-home/atlassian-confluence-7.11.2-dc/dcl-document/128/98/98378/98379_4.err\r\n -- url: /c7112/display/PD/test+page+7.11.2+PPTX+test | traceId: 18b2b85377047f3a | userName: admin | referer: http://localhost:27112/c7112/pages/resumedraft.action?draftId=98380&draftShareId=e2607d7a-c85e-4325-a30a-dc78ecceee0e&\r\n2021-06-11 14:41:43,542 WARN [sandbox-terminator] [impl.util.sandbox.DefaultSandboxPool] lambda$startTerminator$0 Request has taken 33142ms exceeds limit 30000ms terminating sandbox\r\n -- referer: http://localhost:27112/c7112/pages/resumedraft.action?draftId=98380&draftShareId=e2607d7a-c85e-4325-a30a-dc78ecceee0e& | url: /c7112/rest/tinymce/1/macro/placeholder | traceId: ab59ec8b71fb32fe | userName: admin\r\n2021-06-11 14:41:43,550 WARN [ForkJoinPool.commonPool-worker-11] [plugins.conversion.impl.LocalFileSystemConversionResultSupplier] lambda$performConversionInSandbox$2 Error when performing conversion com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier$3@4754d1b[attachment=/download/attachments/98378/samplepptx.pptx?version=4&modificationDate=1623385184310&api=v2,conversionType=DOCUMENT] in the sandbox\r\n -- url: /c7112/display/PD/test+page+7.11.2+PPTX+test | traceId: 18b2b85377047f3a | userName: admin | referer: http://localhost:27112/c7112/pages/resumedraft.action?draftId=98380&draftShareId=e2607d7a-c85e-4325-a30a-dc78ecceee0e&\r\njava.util.concurrent.CompletionException: com.atlassian.confluence.util.sandbox.SandboxTimeoutException: Sandbox request has been killed because it exceeded time limit of 30 seconds\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1592)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.confluence.util.sandbox.SandboxTimeoutException: Sandbox request has been killed because it exceeded time limit of 30 seconds\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.tryToThrowSpecificException(SandboxProcess.java:227)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:159)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandboxPool.execute(DefaultSandboxPool.java:116)\r\n\tat com.atlassian.confluence.impl.util.sandbox.ConfluenceSandboxPoolFactory$LazySandbox.execute(ConfluenceSandboxPoolFactory.java:72)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandbox.execute(DefaultSandbox.java:41)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:66)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:59)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.DelegatingDocumentConversionSandbox.execute(DelegatingDocumentConversionSandbox.java:47)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier.lambda$performConversionInSandbox$1(LocalFileSystemConversionResultSupplier.java:279)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n\t... 3 more\r\nCaused by: java.io.IOException: Stream closed\r\n\tat java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:214)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:388)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxMessage.receiveMessage(SandboxMessage.java:42)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.receiveMessage(SandboxProcess.java:283)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:156)\r\n\t... 11 more\r\n{code}\r\n# Even after adding {{-Ddocument.conversion.sandbox.request.time.limit.secs=1800}} as JVM flag, the sandbox still crashes with:\r\n{code}\r\n2021-06-11 15:20:16,346 WARN [http-nio-27122-exec-2] [org.springframework.beans.GenericTypeAwarePropertyDescriptor] getWriteMethodForActualAccess Invalid JavaBean property 'contentPermissionManager' being accessed! Ambiguous write methods found next to actually used [public void com.adaptavist.confluence.naturalchildren.NaturalChildrenAction.setContentPermissionManager(com.atlassian.confluence.internal.ContentPermissionManagerInternal)]: [public void com.atlassian.confluence.pages.actions.AbstractPageAwareAction.setContentPermissionManager(com.atlassian.confluence.core.ContentPermissionManager)]\r\n -- referer: http://localhost:27122/c7122/display/PD/test+123 | url: /c7122/plugins/pagetree/naturalchildren.action | traceId: 9b50d45349f2ce0a | userName: admin\r\n2021-06-11 15:20:36,248 WARN [document-conversion-sandbox-launcher-4] [impl.util.sandbox.SandboxProcess] startIfDead Sandbox 1 has died\r\n -- referer: http://localhost:27122/c7122/display/PD/test+123?preview=/98371/98378/samplepptx.pptx | url: /c7122/rest/documentConversion/0.1/conversion/convert/98378/1 | traceId: 0604643fdfd99b15 | userName: admin\r\n2021-06-11 15:20:36,249 WARN [document-conversion-sandbox-launcher-4] [impl.util.sandbox.SandboxProcess] startIfDead Attempting to restart the sandbox 1\r\n -- referer: http://localhost:27122/c7122/display/PD/test+123?preview=/98371/98378/samplepptx.pptx | url: /c7122/rest/documentConversion/0.1/conversion/convert/98378/1 | traceId: 0604643fdfd99b15 | userName: admin\r\n2021-06-11 15:20:36,274 WARN [ForkJoinPool.commonPool-worker-9] [plugins.conversion.impl.LocalFileSystemConversionResultSupplier] lambda$performConversionInSandbox$2 Error when performing conversion com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier$3@2a994e19[attachment=/download/attachments/98371/samplepptx.pptx?version=1&modificationDate=1623388561452&api=v2,conversionType=THUMBNAIL] in the sandbox\r\n -- url: /c7122/ | traceId: ee5c9c4e7412ddd5 | userName: admin\r\njava.util.concurrent.CompletionException: com.atlassian.confluence.util.sandbox.SandboxCrashedException: Sandbox has crashed while serving the request\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1592)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.confluence.util.sandbox.SandboxCrashedException: Sandbox has crashed while serving the request\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.tryToThrowSpecificException(SandboxProcess.java:230)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:159)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandboxPool.execute(DefaultSandboxPool.java:116)\r\n\tat com.atlassian.confluence.impl.util.sandbox.ConfluenceSandboxPoolFactory$LazySandbox.execute(ConfluenceSandboxPoolFactory.java:72)\r\n\tat com.atlassian.confluence.impl.util.sandbox.DefaultSandbox.execute(DefaultSandbox.java:41)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:66)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.LocalDocumentConversionSandbox.execute(LocalDocumentConversionSandbox.java:59)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.sandbox.DelegatingDocumentConversionSandbox.execute(DelegatingDocumentConversionSandbox.java:47)\r\n\tat com.atlassian.confluence.plugins.conversion.impl.LocalFileSystemConversionResultSupplier.lambda$performConversionInSandbox$1(LocalFileSystemConversionResultSupplier.java:227)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n\t... 3 more\r\nCaused by: java.io.EOFException\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:392)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxMessage.receiveMessage(SandboxMessage.java:42)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.receiveMessage(SandboxProcess.java:283)\r\n\tat com.atlassian.confluence.impl.util.sandbox.SandboxProcess.execute(SandboxProcess.java:156)\r\n\t... 11 more\r\n{code}\r\n\r\nh3. Diagnosis\r\n\r\nEnabling {{com.atlassian.confluence.impl.util}} DEBUG shows:\r\n\r\n{code}\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.e9.void.toArray(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.mb.try.if(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.e7.new.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n4.implements.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.FontsLoader.do(Unknown Source)\r\n2021-06-11 15:47:35,863 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.aspose.slides.FontsLoader.loadExternalFonts(Unknown Source)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.plugins.conversion.AsposeUtils.configureFonts(AsposeUtils.java:117)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.plugins.conversion.AsposeAware.<clinit>(AsposeAware.java:6)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.plugins.conversion.sandbox.SandboxConversionTask.<clinit>(SandboxConversionTask.java:33)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat java.lang.Class.forName0(Native Method)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat java.lang.Class.forName(Class.java:348)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.confluence.impl.util.sandbox.SandboxServer.createTask(SandboxServer.java:81)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.confluence.impl.util.sandbox.SandboxServer.run(SandboxServer.java:60)\r\n2021-06-11 15:47:35,864 INFO [sandbox-logger] [impl.util.sandbox.ConversionSandbox] lambda$static$0 worker0: \tat com.atlassian.confluence.impl.util.sandbox.SandboxServer.main(SandboxServer.java:121)\r\n2021-06-11 15:47:36,262 WARN [document-conversion-sandbox-launcher-1] [impl.util.sandbox.SandboxProcess] startIfDead Sandbox 0 has died\r\n{code}\r\n\r\n* Increasing the Sandbox memory to 4GB didn't help - still crashes with out of memory (x)\r\n{code}\r\n-Dconversion.sandbox.memory.limit.megabytes=4096\r\n{code}\r\n* Increasing the Sandbox memory to 8GB seemed to do the trick!\r\n{code}\r\n-Dconversion.sandbox.memory.limit.megabytes=8192\r\n{code}\r\n\r\n*Alternative symptom*: View file macro doesn't load:\r\n\r\n{noformat}\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n        at com.aspose.slides.internal.e9.void.toArray(Unknown Source)\r\n        at com.aspose.slides.internal.mb.try.if(Unknown Source)\r\n        at com.aspose.slides.internal.e7.new.do(Unknown Source)\r\n        at com.aspose.slides.internal.n4.implements.do(Unknown Source)\r\n        at com.aspose.slides.internal.n7.final.do(Unknown Source)\r\n        at com.aspose.slides.internal.n7.case.if(Unknown Source)\r\n        at com.aspose.slides.internal.n7.else.do(Unknown Source)\r\n        at com.aspose.slides.internal.n7.else.do(Unknown Source)\r\n        at com.aspose.slides.internal.n7.else.else(Unknown Source)\r\n        at com.aspose.slides.internal.n7.else.byte(Unknown Source)\r\n        at com.aspose.slides.internal.n7.case.do(Unknown Source)\r\n        at com.aspose.slides.o6.do(Unknown Source)\r\n        at com.aspose.slides.o6.do(Unknown Source)\r\n        at com.aspose.slides.o6.do(Unknown Source)\r\n        at com.aspose.slides.ok.do(Unknown Source)\r\n        at com.aspose.slides.ok.do(Unknown Source)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nTry adding these JVM flags and restart Confluence:\r\n{code}\r\n-Ddocument.conversion.sandbox.request.time.limit.secs=300\r\n-Dconversion.sandbox.memory.limit.megabytes=8192\r\n-Dconversion.sandbox.java.options=\"-Dconfluence.document.conversion.slides.convert.timeout=300\"\r\n{code}\r\n\r\nSee [Configuring System Properties|https://confluence.atlassian.com/doc/configuring-system-properties-168002854.html] for more details\r\n\r\n* (not recommended) Try removing unused fonts from OS.\r\n",
      "summary": "Simple PPTX file can cause OOME when using view powerpoint macro or from preview generation"
    }
  },
  {
    "key": "CONFSERVER-61142",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-10T03:24:56.000+0000",
      "description": "h3. Issue Summary\r\nAppleScript syntax highlight in Code Block Macro display nbsp as it is\r\n\r\nh3. Steps to Reproduce\r\n# Create a page and insert [Code Block Macro|https://confluence.atlassian.com/doc/code-block-macro-139390.html] into the page\r\n# Edit the Code Block Macro and select *AppleScript* in the {{Syntax Highlighting}} drop-down list\r\n# Paste the code below into the Code Block Macro:\r\n{noformat}\r\nthere are some non-breaking spaces below\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\r\nin the line above\r\n\r\n\r\n\r\nthere are some normal spaces below\r\n         \r\nin the line above\r\n\r\n\r\n\r\nthere are some tabs below\r\n\t\t\t\r\nin the line above\r\n{noformat}\r\n#* [^nbsp test.txt] \r\n# Publish the page\r\n\r\nh3. Expected Results\r\nThe \"nbsp\"(non-breaking spaces) is presented as a non-visible space. just like \"standard space\" and \"tabs\".\r\n !code block did not show nbsp.png|thumbnail! \r\n\r\nh3. Actual Results\r\nThe \"nbsp\" is displayed literally as {{*&*}}{{*nbsp;*}} instead of non-visible space\r\n !code block macro showing nbsp.png|thumbnail! \r\n\r\nh3. Note\r\n* This issue don't happen on other syntax highlighting options such as JavaScript, Python or HTML and XML\r\n* This issue don't happen in older version if Confluence (eg: Confluence 6.12.4)\r\n\r\nh3. Workaround\r\n* Replace the nbsp with normal spaces or tabs\r\nOR\r\n* Choose a different syntax highlight language",
      "summary": "AppleScript syntax highlight in Code Block Macro display \"nbsp\" as it is"
    }
  },
  {
    "key": "CONFSERVER-61141",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-10T01:43:11.000+0000",
      "description": "h3. Issue Summary\r\nThe attachment drop zone on the \u2026 -> Attachments page is flaky.\r\n\r\nh3. Steps to Reproduce\r\n # Reproduction is non-deterministic. Loading the attachment page multiple times in succession can cause the problem. \r\n # It can also be easier to reproduce by navigating back and forth from the main page to the attachment page using the browser forward/back buttons, since the timing of the caching seems to make it show up more often.\r\n\r\nh3. Expected Results\r\nAttachment upload drop zone appears\r\n\r\nh3. Actual Results\r\nAttachment upload drop zone is not visible\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Race condition in loading drop zone for attachments page"
    }
  },
  {
    "key": "CONFSERVER-61086",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-09T22:52:45.000+0000",
      "description": "h3. Issue Summary\r\n\r\ndepending on the ordering of items in JIM, the issue macro will not show the epic link on an epic\r\nh3. Steps to Reproduce\r\n # craft a query in Jira that will show an epic and a few tickets for that epic\r\n # create a confluence page with two Jira Issue Macros for the same query, make sure that one has 'order by id asc' and the other 'order by id desc' (assuming that the epic was created first)\r\n\r\nh3. Expected Results\r\n\r\nboth macros should show the epic link on the ticket that is the epic\r\nh3. Actual Results\r\n\r\nthe macro that shows the epic first does not have an epic link on the epic, the macro that shows the epic last does\r\n\r\n!image-2021-02-10-09-49-59-888.png|width=376,height=127!\r\n\r\nvs\r\n\r\n!image-2021-02-10-09-50-30-825.png|width=400,height=82!\r\nh3. Workaround\r\n\r\nchange sorting so that epics always come after tickets...",
      "summary": "Depending on order Jira Issue Macro does not show Epic Link on Epic"
    }
  },
  {
    "key": "CONFSERVER-61085",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-09T19:52:29.000+0000",
      "description": "h3. Issue Summary\r\nWhen changing a color of any of the options under Color Scheme, the links also change color to what should be the default.\r\nh3. Steps to Reproduce\r\n# Go to !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png|width=16! > General configuration > Color scheme;\r\n# Reset Color Scheme to default;\r\n# The *links* color will be set to {{#0052CC}} (blue), however, on the Dashboard, they appear as {{#172B4D}} (navy blue):\r\n|!Screen Shot 2021-02-09 at 16.36.20.png|thumbnail!|\r\n|!Screen Shot 2021-02-09 at 16.35.59.png|thumbnail!|\r\n# Change any color but the links.\r\n\r\nh3. Expected Results\r\nThe default color for the links should be blue already.\r\n\r\nh3. Actual Results\r\nEven with the default color set to blue, if nothing's changed under color scheme, the links will all be navy blue.\r\n\r\nh3. Workaround\r\nIf you'd like to keep the navy blue while changing other colors on the color scheme, use the hexadecimal color *#172B4D*. ",
      "summary": "Changing any color under Color Scheme settings causes links to change color"
    }
  },
  {
    "key": "CONFSERVER-61083",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-08T15:54:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPrior to Jira 7.4, when avatars are referenced in\u00a0as part of the URL request it used to reference the username. E.g: ownerId=jirauser\u00a0\r\n{code:java}\r\n<img src=\"http://localhost:8080/jira/secure/useravatar?ownerId=jirauser\" class=\"mw-drilldown-avatar avatar\">  {code}\r\n!missing_avatars.png|thumbnail!\r\n\r\nThis resulted into an issue\u00a0when a new user (A) reuses an *old username* that was originally used by a different user (B), the new user's avatar is shown as broken. This seems to be because, Jira attempts to look for the user's avatar with username in mind. This issue was tracked in the following ticket:\r\n * JRASERVER-46366: User's avatar picture is broken if its previous username is used by another user (fixed in Jira Server and Data Center 7.4.0)\u00a0\r\n\r\nThe above ticket was recently fixed where instead referencing the username, it now references the user ID e.g.\u00a0ownerId=JIRAUSER10000\r\n {color:#172b4d}where the value 10000 is the user ID{color}\r\n{code:java}\r\n<img class=\"avatar-image\" src=\"http://localhost:8080/jira/secure/useravatar?ownerId=JIRAUSER10000&amp;avatarId=10600\" alt=\"Edit avatar\"> {code}\r\n{color:#172b4d}While the above fix was introduced in Jira, it was not ported to Confluence.\u00a0{color}\r\n\r\n{color:#172b4d}At the moment, in the Confluence workbox. When Confluence\u00a0receives an in-app\u00a0notification from Jira, avatars are still\u00a0referencing the *old*\u00a0behaviour where the ownerId parameter accepts a username i.e.\u00a0ownerId=jirauser . This results in a situation where for users who are using usernames previously being used by different users, to have wrong/broken avatars.\u00a0{color}\r\nh3. Steps to Reproduce\r\n # Install both Confluence and Jira and turn on both applications.\r\n # Ensure that both applications are connected via application links\r\n # Ensure that *In-app Notification*\u00a0in Confluence is set to *Display In-app notifications from other servers*\r\n # Perform an activity in Jira that triggers an in-app notification in Confluence.\r\n\r\nh3. Expected Results\r\n\r\nIn Confluence, the avatar that is shown in the workbox is referencing the avatar that is stored in Jira which is correct. It should also be referencing the user ID e.g.\u00a0ownerId=JIRAUSER10000\r\n{code:java}\r\n<img class=\"avatar-image\" src=\"http://localhost:8080/jira/secure/useravatar?ownerId=JIRAUSER10000&amp;avatarId=10600\" alt=\"Edit avatar\"> {code}\r\nh3. Actual Results\r\n\r\nThe avatar is currently referencing ownerId=username\r\n{noformat}\r\n<img src=\"http://localhost:8080/jira/secure/useravatar?ownerId=jirauser\" class=\"mw-drilldown-avatar avatar\"> \r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "User's avatar picture in Confluence workbox is broken if the username was previously used by another user in Jira"
    }
  },
  {
    "key": "CONFSERVER-61082",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-08T14:34:41.000+0000",
      "description": "h3. Problem\r\nWhen a MS word document with numbered sub headings are imported, the numbered headings are not imported.\r\n\r\nh3. Suggested Solution\r\nThe numbered headings should also be converted and displayed correctly.\r\n\r\nh3. Why This Is Important\r\nThis would be a useful feature as other aspects of the document are imported correctly.\r\n\r\nh3. Workaround\r\nThere are some 3rd  party plugins [Numbered Headings | https://marketplace.atlassian.com/apps/16063/numbered-headings?hosting=cloud&tab=overview] that provide this feature.",
      "summary": "Word document with imported headers are not converted in Confluence"
    }
  },
  {
    "key": "CONFSERVER-61081",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-08T14:13:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen the user add a charts macro and configure the same to\u00a0display an excel spreadsheet, using the office excel macro, the same is not loaded after you publish the page.\u00a0\r\nh3. Steps to Reproduce\r\n # Create a new page\r\n # Attach an excel file to the page\r\n # Add the *chart macro*\r\n # Add the *office excel* macro inside of the *chart macro*\r\n # In the *office excel* macro, select the excel file attached\r\n # Save it and publish the page.\r\n\r\nh3. Expected Results\r\n\r\nThe excel spreadsheet data is displayed correctly.\r\nh3. Actual Results\r\n\r\nInstead of the display the excel\u00a0spreadsheet data, is displaying the following message:\u00a0\"No Data Available\".\r\nh3. Workaround\r\n\r\n\u00a0No workaround.",
      "summary": "Confluence charts with Excel File Not Loading Properly "
    }
  },
  {
    "key": "CONFSERVER-61080",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-08T10:24:09.000+0000",
      "description": "* Currently, the Request Access feature in Confluence will send an email to up to 5 people most likely to be able to grant you access. User clicking on the Request Access feature will trigger emails and will not show up in Notifications. \r\n* This feature request has been created to see the feasibility of allowing users to Disable email notifications for Request Access feature and instead get the Access requests in the Notifications.",
      "summary": "Allow users to Disable email notifications for Request Access feature and instead get the Access requests in the Notifications."
    }
  },
  {
    "key": "CONFSERVER-61079",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-08T06:21:26.000+0000",
      "description": "When we search the user in *Link Suggestion*, the user's full name only displayed. In Korea and China, it's not unusual to see the identical full name for multiple users, so the user name only is not enough to find the correct user. \r\n I would like to suggest displaying *{{userid}}* on the next of user name, for example, *Jaeha Lee(jlee5)*",
      "summary": "Search in Link Suggestion only display User's Full Name."
    }
  },
  {
    "key": "CONFSERVER-61078",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-08T05:41:37.000+0000",
      "description": "h3. Issue Summary\r\nWhen we trying to remove one character on macro search, the whole line of search is removed.\r\n\r\nh3. Steps to Reproduce\r\n # Add a macro by typing *{*, then try to type some characters\r\n # Remove all the characters except the *{*\r\n# Try to type some characters again.\r\n# Try to remove one character by hitting backspace, then we can see the whole line is deleted and the macro search window is closed.\r\n\r\nh3. Expected Results\r\nWhen hitting the backspace, only one character should be removed.\r\n\r\nh3. Actual Results\r\nThe whole line is removed and the search window is closed.\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Trying to delete one character on macro search, but the macro search is closed."
    }
  },
  {
    "key": "CONFSERVER-61076",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-18T09:33:39.000+0000",
      "created": "2021-02-08T00:24:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Office macro fails to load the Word or Excel documents on a blog post\r\nh3. Steps to Reproduce\r\n # Attach some Word or Excel documents to a blog post\r\n # Use the Office macro to load any of these documents on the same blog post\r\n\r\nh3. Expected Results\r\n\r\nThe Office documents content can be viewed on the blog post.\r\n\r\n+Notes:+ The documents can be displayed on Confluence 7.4\r\nh3. Actual Results\r\n\r\nAn error message shown on the blog post for each Office macro:\r\n\r\n\"We can't preview this file. You'll have to download the file to view it.\"\r\n\r\nA \"Failed to load resource: the server responded with a status of 500 ()\" error is displayed in the browser console\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "The Office macro fails to load the Word or Excel documents on a blog post"
    }
  },
  {
    "key": "CONFSERVER-61075",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-05T17:55:20.000+0000",
      "description": "As an administrator I would like to use the Confluence REST APIs to search for pages that have been deleted (moved to Space Trash), but not yet purged. This is currently not available in the core API as a defined field and is not exposed to CQL, but the status does exist.\r\n\r\nh3. Desired Behavior\r\n\r\nI would like to do something like the following curl request to retrieve all pages that have been put into the Space Trash for the space key titled \"FOO\":\r\n\r\n{code}\r\ncurl -u admin:admin -G \"http://localhost:6743/c743/rest/api/content/search\" \\\r\n--data-urlencode \"cql=(type=page and space=FOO and status=deleted) OR (creator=admin and type=blogpost)\"\r\n{code}\r\n\r\nThe \"status\" constraint (or similar field) should map to \"deleted\" or \"current\", or perhaps \"deleted\" should be the field with a boolean value.\r\n\r\nThe response should be as any other CQL response done from API.\r\n\r\nh3. Research Notes\r\n\r\nCurrently we do have SQL that allows for us to search for deleted pages at the database layer, per the following KB article: [link|https://confluence.atlassian.com/confkb/finding-who-deleted-pages-in-confluence-934717801.html]. \r\n\r\nOur REST API docs do not currently define a field for page status: [link|https://developer.atlassian.com/server/confluence/advanced-searching-using-cql/]\r\n\r\nPreviously before 6.7 there was a bug which had indexed deleted content in search results, which was resolved with the 6.7.0 release: [CONFSERVER-40833|https://jira.atlassian.com/browse/CONFSERVER-40833]\r\n\r\nh3. Temporary workaround\r\nUsing content REST API will return trashed items\r\n{code}\r\ncurl -u admin:password -G \"http://localhost:8090/rest/api/content?spaceKey=TEST&status=trashed\"\r\n{code}",
      "summary": "Allow for Pages in space trash to be searchable via REST API"
    }
  },
  {
    "key": "CONFSERVER-61074",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-11T00:16:21.000+0000",
      "created": "2021-02-05T14:25:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe field *_Restrict to this Space Key_*\u00a0in the macro *_Page Tree_* has an extra letter in Russian version\r\nh3. Steps to Reproduce\r\n # Create a new page or go to existing page\r\n # Add a Page tree macro\r\n # Edit the Page tree macro\r\n # Field *'_Restrict to this Space Key_'* in the above macro has an extra letter in Russian version.\r\n\r\nh3. Expected Results\r\n\r\nExtra letter should not be present. It should be _*\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u043a\u043b\u044e\u0447\u043e\u043c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430*_\r\nh3. Actual Results\r\n\r\nCurrently there is extra letter present and it appears as follows:\r\n _*\u041e\u0433\u0440\u0430\u043d\u0447\u0438\u0447\u0438\u0442\u044c \u043a\u043b\u044e\u0447\u043e\u043c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430.*_\r\nh3. Workaround\r\n\r\nNo workaround available.",
      "summary": "Field Restrict to this Space Key in Page Tree macro has an extra letter in Russian version"
    }
  },
  {
    "key": "CONFSERVER-61073",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-05T12:41:08.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a user is *_@mentioned_* on a Comment of an Answer to a Confluence Question, the Watchers or the Creator, receive email notifications with the *_@mentioned_* users *user_name* instead of the *displayName*, but the *_@mentioned_* user receives an email with the expected displayName.\r\n\r\nHowever when the same user is *_@mentioned_* in an Answer to a Question, the watchers and creator receives email with *displayName* in it.\r\n\r\nh3. Steps to Reproduce\r\n1) A creates a question. C is a watcher on the question\r\n2) When B is @ mentioned in the question description or answer, notification is sent to all parties with the display name as expected.\r\n3) However when B is @ mentioned in a comment, C and A receive B's username in their notification instead of the display name. But B receives a notification with display name (as expected)\r\n\r\nh3. Expected Results\r\nAll watchers and creator must receive email notification highlighting the displayName and not the username\r\nh3. Actual Results\r\nAll watchers and creator must receive email notification highlighting the username\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "[Confluence Questions] Mail sent to watchers and creator contains username of the tagged user instead of display name when @mentioned in an answer's comment"
    }
  },
  {
    "key": "CONFSERVER-61072",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-05T03:00:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you start Confluence with custom changes in configuration files, the file listing on startup check page may overflow if you use Safari 14.0.3 (released on February 1, 2021) and the list does not fit the screen.\r\n\r\nh3. Steps to Reproduce\r\n # Make changes in configuration files (e.g. xml, vm)\r\n # Start Confluence\r\n # Use Safari 14.0.3 to access Confluence\r\n# Click the link in \"To copy these changes to your new installation, click Copy configuration. Show {N} files\"\r\n\r\nh3. Expected Results\r\n\r\n !image-2021-02-05-13-57-40-098.png|thumbnail! \r\n\r\nh3. Actual Results\r\n\r\n !image-2021-02-05-13-58-04-611.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nYou can still read or copy the list of files.\r\nMaximise the browser window.",
      "summary": "Custom file changes dialog in the startup check page overflows in Safari 14.0.3"
    }
  },
  {
    "key": "CONFSERVER-61071",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-05T02:51:51.000+0000",
      "description": "This is one simple thing would add a lot of versatility to the existing macro:\r\n\r\nPlease add an option to restrict the macro to look at pages that have a certain label.\r\n\r\nThis way larger Wiki\u2019s could have separate Usage Statistics Macros for different sections of the Wiki.",
      "summary": "Add Filter by label option to Usage Statistics Macro"
    }
  },
  {
    "key": "CONFSERVER-61070",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-05T00:59:57.000+0000",
      "description": "h3. Problem\r\n\r\nBackground color applied inside table cells on pages are lost when importing a space from Confluence Cloud to DC instance\r\nh3. Environment\r\n\r\nConfluence Cloud\r\n Confluence DC (tested with version 7.1.0 and 7.9.1)\r\nh3. Steps to Reproduce\r\n # Create a table on a page in Confluence Cloud and fill some cells with a background color\r\n # Create an XML export of this space\r\n # Import the space into Confluence DC\r\n # Notice that the cell background color from the page has disappeared\r\n\r\nh3. Expected Results\r\n\r\nThe background color in the table cell should remain during the migration\r\nh3. Actual Results\r\n\r\nOnly the table and texts are migrated in Confluence DC without the background color in the table cell.\r\n * Cloud View\r\n ** !Screenshot 2021-08-02 at 10.08.57 PM.png|width=363,height=200!\r\n * DC View\r\n ** !Screenshot 2021-08-02 at 10.09.07 PM.png|width=367,height=157!\r\n\r\nh3. Workaround\r\n\r\nN/A",
      "summary": "Table Cell background colors are lost after space migration from Confluence Cloud to DC"
    }
  },
  {
    "key": "CONFSERVER-61069",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-02-04T23:45:24.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAnonymous user cannot access login form when using a direct link to authenticate.action: http://yourdomain/confluence/authenticate.action?destination=%2Fplugins%2Fservlet%2Fauthentication-config\r\n\r\nh3. Steps to Reproduce\r\n # Enable anonymous use\r\n # Log out\r\n # Visit http://yourdomain/confluence/authenticate.action?destination=%2Fplugins%2Fservlet%2Fauthentication-config\r\n\r\nh3. Expected Results\r\n\r\nLogin form\r\n\r\nh3. Actual Results\r\n\r\nOnly the heading shows.\r\n\r\n !Screen Shot 2021-02-05 at 10.22.16 am.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nLog in first using /login.action",
      "summary": "Administrator Access screen fails to render for anonymous user"
    }
  }
]