[
  {
    "key": "CONFSERVER-74533",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-01T06:13:17.000+0000",
      "description": "Steps to reproduce\r\n# Create a confluence page on a test instance with many inline tasks and publish it.\u00a0\r\n# Rapidly untick as many inline tasks as you can as quickly as you can.\r\n\r\nResults\r\n# Observe The HTTP thread stuck status in the Catalina.out logs, which will rapidly grow\r\n{code:java}\r\n27-Aug-2021 16:25:20.259 - [1] thread(s) stuck.\r\n27-Aug-2021 16:25:30.265 - [2] thread(s) stuck.\r\n27-Aug-2021 16:25:30.300 - [3] thread(s) stuck.\r\n27-Aug-2021 16:25:30.302 - [4] thread(s) stuck.\r\n.\r\n.\r\n.\r\n27-Aug-2021 16:27:00.662 - [44] thread(s) stuck.\r\n27-Aug-2021 16:27:00.664 - [45] thread(s) stuck.\r\n27-Aug-2021 16:27:10.669 - [46] thread(s) stuck.\r\n27-Aug-2021 16:27:10.671 - [47] thread(s) stuck.\r\n{code}\r\n# Eventually all the HTTP threads will be exhausted.\r\n# Catalina logs will have {{inlinetasks}} related threads in a STUCK state -\r\n{code:java}\r\n27-Aug-2021 16:35:36.650 WARNING [Catalina-utility-1] org.apache.catalina.valves.StuckThreadDetectionValve.notifyStuckThreadDetected Thread [http-nio-8080-exec-48] (id=[1331]) has been active for [61,172] milliseconds (since [8/27/21 4:34 PM]) to serve the same request for [https://localhost:8090/rest/inlinetasks/1/task/1039232143/905/] and may be stuck (configured threshold for this StuckThreadDetectionValve is [60] seconds). There is/are [48] thread(s) in total that are monitored by this Valve and may be stuck.\r\n\tjava.lang.Throwable\r\n\t\tat java.base@11.0.7/jdk.internal.misc.Unsafe.park(Native Method)\r\n                . . .\r\n\t\tat com.atlassian.confluence.plugins.merge.TDMMerger.mergeContent(TDMMerger.java:103)\r\n\t\tat com.atlassian.confluence.plugins.merge.TDMMerger.mergeContent(TDMMerger.java:118)\r\n\t\tat com.atlassian.confluence.util.diffs.PageLayoutAwareMerger.mergeContent(PageLayoutAwareMerger.java:53)\r\n\t\tat com.atlassian.confluence.pages.DefaultDraftManager.mergeContent(DefaultDraftManager.java:149)\r\n.\r\n.\r\n\t\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\t\tat com.sun.proxy.$Proxy2032.mergeContent(Unknown Source)\r\n\t\tat com.atlassian.confluence.plugins.tasklist.service.DefaultInlineTaskService.updatePage(DefaultInlineTaskService.java:361)\r\n\t\tat com.atlassian.confluence.plugins.tasklist.service.DefaultInlineTaskService.setTaskStatus(DefaultInlineTaskService.j\r\n{code}\r\n\r\nThis would cause a temporary outage for the node in case of DC.\r\n\r\nWorkaround\r\n * Open the Page in EDIT mode and then try to update the tasks which will not create multiple drafts in the background which could avoid spawning of new HTTP threads.",
      "summary": "Unchecking lots of inline tasks results\u00a0in all the HTTP thread exhaustion\u00a0"
    }
  },
  {
    "key": "CONFSERVER-74328",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-29T20:52:15.000+0000",
      "description": "h3. Summary\r\n\r\nUnable to edit repeating event via drag and drop that has an end repeating date\r\nh3. Environment\r\n * Confluence 7.12.5\r\n\r\nh3. Steps to Reproduce\r\n # Create a repeating event with an end date\r\n !Screen Shot 2021-10-29 at 3.47.35 PM.png|thumbnail!\r\n # Attempt to update the event to a different day via drag and drop in the browser\r\n\r\nh3. Expected Results\r\n\r\nIndividual event gets updated to a new day\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2021-10-29 15:47:18,809 WARN [http-nio-27125-exec-10] [extra.calendar3.util.TimeZoneUtil] tryParseBasicDateStringForEventEdit Unable to parse date Jan 4, 2022\r\n -- referer: http://localhost:27125/c7125/calendar/mycalendar.action | url: /c7125/rest/calendar-services/1.0/calendar/events.json | traceId: fc8a6a2ae471468f | userName: admin\r\n{noformat}\r\nh3. Workaround\r\n\r\nUpdate the event manually by hovering over the event and click on *Edit*",
      "summary": "Unable to edit repeating event via drag and drop that has an end repeating date"
    }
  },
  {
    "key": "CONFSERVER-74327",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-29T11:56:51.000+0000",
      "description": "If a user used a link from a mail to navigate to the Confluence, the URL is like the below:\r\n{code:java}\r\nhttps://confluence.example.com/pages/viewpage.action?pageId=123456&preview=example.pptx&src=mail&src.mail.product=confluence-server&src.mail.timestamp=160612345679&src.mail.notification=com.atlassian.confluence.plugins.confluence-file-notifications%3Afile-content-update-notification&src.mail.recipient=XYZWe&src.mail.action=view\r\n{code}\r\nThe *{{src=}}* part of the URL is created false-positive XSS alerts in the security systems as the XSS attacks can include some strings in the URLs like this:\r\n{code:java}\r\n<script src=http://ha.ckers.org/xss.js></script>\r\n{code}\r\nSo replacing the *{{src=}}* with something like {{utm_source}} (or {{utm_media}}, etc.) that is used for the same purpose but considered safe and is a technical standard for tracking requests, would be better from the security point of view.",
      "summary": "Replacing \"src=\" from the links that are created for email notifications"
    }
  },
  {
    "key": "CONFSERVER-74326",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-28T23:34:00.000+0000",
      "description": "h3. Issue Summary\r\nMicrosoft New Phonetic input method not working as expected in Table with Expand Macro when used with Chrome.\r\nThis input method is commonly used for Chinese(Traditional) language input.\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Browse Confluence using Chrome\r\n# Create a new Page in Confluence and insert a table with any number of column/row\r\n# Insert an Expand Macro into the table\r\n# Attempt to type any punctuation such as a comma (\uff0c) and press Enter so that it is inserted\r\n\r\nh3. Expected Results\r\nThe punctuation marks are inserted normally after pressing Enter once\r\n(i) The underline below the punctuation mark would disappear, indicating the punctuation has been inserted\r\n\r\n\r\nh3. Actual Results\r\nPressing Enter moves the cursor to next line instead\r\n(i) At this point, the underline below the punctuation mark can still be seen. Whereas it is supposed to be gone with the punctuation mark inserted\r\n [^Microsoft New Phonetic Input.mp4] \r\nAttempting to insert punctuation mark _outside_ of the table worked well as shown in the video as well.\r\n\r\nh3. Information\r\nThis is tested with Chrome Version 83.0.4103.97&95.0.4638.54\r\n\r\nh3. Workaround\r\n* Manually click somewhere else in the editor (so that the punctuation is inserted) and move the cursor back to continue typing\r\n* Use a different browser\r\n* Use a different input method",
      "summary": "Microsoft New Phonetic input method not working as expected in Table with Expand Macro when used with Chrome"
    }
  },
  {
    "key": "CONFSERVER-74325",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-28T22:47:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe following message is seen when a new instance of Confluence Data Center is being setup.\r\n !image-2021-10-29-09-44-39-048.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence Data Center\r\n# Select Clustering mode and setup the cluster\r\n\r\nh3. Expected Results\r\n\r\nIn a fresh installation of Confluence, the banner with upgrade shouldn't be seen.\r\n\r\nh3. Actual Results\r\n\r\nThe upgrade banner as shown in the above screenshot is seen. \r\n\r\nThere are no messages in logs, though selecting *Check Upgrade Process* shows the following screen that Upgrade tasks are being run.\r\n !freshInstall.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nOnce you go past the Welcome Screen, the banner is gone.",
      "summary": "Confluence shows an upgrade message on a fresh installation"
    }
  },
  {
    "key": "CONFSERVER-74324",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-28T15:18:23.000+0000",
      "description": "h3. Issue Summary\r\nThe Jira issue screen behind the date-picker screen disappears in first attempt when creating Jira issue from selecting a text in Confluence.\r\n\r\nh3. Steps to Reproduce\r\n* Install Confluence version 7.13.1\r\n* Connect it with a Jira Server version 8.13.10\r\n* Create an issue type were due date is a required field.\r\n* Go back to Confluence, select a text, and push the Jira icon next to the comment icon. \r\n* Select the Project, Issue-type and then open the date-picker for the required due date.\r\n* Try to switch the month with the arrows (left and right).\r\n* It only disappears for the first time, you will have to refresh the page to recreate this behaviour.\r\n\r\nh3. Expected Results\r\nThe Jira issue screen behind the date-picker screen should not disappear even on the first attempt.\r\n\r\nh3. Actual Results\r\nThe Jira issue screen behind the date-picker screen disappearing\u00a0on first attempt when toggling between months.\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "The Jira issue screen behind the date-picker screen disappears in first attempt when creating Jira issue from selecting a text in Confluence."
    }
  },
  {
    "key": "CONFSERVER-74323",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-28T03:41:06.000+0000",
      "created": "2021-10-28T00:06:51.000+0000",
      "description": "h3. Problem\r\nThe Tiny Link associated with each page in Confluence stopped working.\r\n\r\nh3. Environment\r\n* Reproduced on Confluence Server/Data Center *7.14.0* (x)\r\n(i) The issue is not happening on Confluence *7.13.0* (/)\r\n\r\nh3. Steps to Reproduce\r\n* On your Confluence site version 7.14.0:\r\n** Create a new page\r\n*** *Scenario 1* \r\n**** Go to \"...\" \u00bb *Page Information*\r\n**** Click on the Tiny Link URL\r\n*** *Scenario 2*\r\n**** Use the *Share* button to copy the tiny link\r\n**** Try to access the copied link in the web browser\r\n\r\nh3. Expected Results\r\n* The Tiny Link should point to the correct page (/)\r\n\r\nh3. Actual Results\r\n* The Tiny Link returns a *Page Not Found* error (x)\r\n\r\nh3. Workaround\r\n(i) The issue is not happening on Confluence *7.13.0* (/)\r\n",
      "summary": "Tiny Links (Short Links) Not Working "
    }
  },
  {
    "key": "CONFSERVER-74322",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-27T22:50:55.000+0000",
      "description": "h3. Issue Summary\r\nThe hyperlink in the legend, takes you to a Calendar view where the event types are not preserved. \r\nURL \r\n{code:java}\r\n~admin/calendar/ee460154-1d76-4774-bb59-c96b0dd2e4a8?calendarName=Mark%27s%20TC\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\n# Navigate to personal space. \r\n# Click on Calendars in the sidebar. \r\n# Add different types of events. \r\n# Click on \u00a0!https://confluence.atlassian.com/doc/files/704577869/704577870/2/1517274795952/ellipsis.png|width=22!\u00a0\u00bb *Hide Events*. \r\n# Check one or two Event types from the legend. \r\n# Navigate to Calendars from the menu bar. \r\n#* Not the Events type are honored in the legend. \r\n#*  !Screen Shot 2021-10-27 at 5.28.20 PM.png|thumbnail! \r\n# Next, navigate back to the *personal space* \u00bb *Calendars*.\r\n#* Not the Events type are honored in the legend. \r\n#*  !Screen Shot 2021-10-27 at 5.26.37 PM.png|thumbnail! \r\n# Click on the Calendar Link in the legend. \r\n\r\nh3. Expected Results\r\nThe checked event types should be honored like the other calendar views. \r\nh3. Actual Results\r\nAll the events are checked in the view and don't match the previous calendar views. \r\n !Screen Shot 2021-10-27 at 5.29.49 PM.png|thumbnail! \r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available\r\n\r\n\r\nTested TC version: 7.0.17",
      "summary": "Clicking on the Calendar link in the legend for Team Calendars doesn't honor the events type checked"
    }
  },
  {
    "key": "CONFSERVER-74321",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-27T17:30:58.000+0000",
      "description": "h3. Problem Definition\r\nWe have a client request where they need to set a higher timeout value for content rendering, because when accessing pages with a large amount of data Confluence sometimes returns a timeout error.\r\n\r\nh3. Suggested Solution\r\nSince the [Recognized System Properties|https://confluence.atlassian.com/doc/recognized-system-properties-190430.html] KB does not cover that section directly we would like to request for a built-in setting to be added to Confluence. ",
      "summary": "Improve Confluence Timeout Settings "
    }
  },
  {
    "key": "CONFSERVER-74310",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-26T13:03:24.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThough on page scroll action, top menu bar/header sticks to the page for normal pages but then this does not work for Dashboard and Space Home Page. \r\n\r\nThis issue is further linked to [Fix menu bar on top of screen|CONFSERVER-40978] and [Lock top bar (menu / navigation)|CONFSERVER-38746] raised earlier. \r\n\r\nh3. Steps to Reproduce\r\n# Login to Confluence and while you are on Dashboard, try to use scroll bar to move down.\r\n# As you move down, the header does not stays on top and is not available. \r\n# This issue is replicable for any Space Home page as well. \r\n# This works fine for a normal page though.  \r\n\r\nh3. Expected Results\r\n\r\nThe header should stick for the Dashboard and Space Home Page as well. \r\n\r\nh3. Actual Results\r\n\r\nThe top menu bar/header does not stick for the Dashboard and Space home page. \r\n\r\nI'm adding a short video to highlight that this functionality on a normal page seems to be working as we are adding a class i.e \"fixed-header\" to item header dynamically on page scroll event but then this is missing for the Dashboard and Space Home Page. \r\n\r\nh3. Workaround\r\n\r\nWe do not have any workaround for now though it should be possible to add this class dynamically using java script as documented under [How to use javascript in Confluence|https://confluence.atlassian.com/confkb/how-to-use-javascript-in-confluence-313458839.html] as a custom code though. \r\n\r\n",
      "summary": "Top Menu Bar/Header does not stick to the page"
    }
  },
  {
    "key": "CONFSERVER-74309",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-26T10:22:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Questions for Confluence, the search query in Japanese will be garbled when 'useBodyEncodingForURI=\"true\"' in server.xml.\r\n\r\nIn default, this parameter is \"false\"(There is no 'useBodyEncodingForURI' configuration in server.xml).\r\n\r\nh3. Steps to Reproduce\r\nStep 1: Configure 'useBodyEncodingForURI=\"true\"' in server.xml.\r\nStep 2: Search in Question for Confluence with Japanese character.\r\nStep 3: The search query will be garbled\r\n\r\n [^confluence-questions-garbled-in-japanese.mp4] \r\n\r\nh3. Expected Results\r\n\r\nThe query will not be garbled.\r\n\r\nh3. Actual Results\r\n\r\nThe query will be garbled.\r\n\r\nh3. Workaround\r\n\r\nModify server.xml as 'useBodyEncodingForURI=\"false\"'.\r\n\r\nref: https://tomcat.apache.org/tomcat-9.0-doc/config/http.html",
      "summary": "In Questions for Confluence, the search query in Japanese will be garbled when 'useBodyEncodingForURI=\"true\"' in server.xml"
    }
  },
  {
    "key": "CONFSERVER-74308",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-26T07:44:55.000+0000",
      "description": "Provide view for non-admin user on the Confluence UI to view below information  -\r\n* Last login:\r\n* Last failed login:\r\n* Current failed logins:\r\n\r\nThese details can only be viewed by Admin users as of now. One one our client had a requirement from the security standpoint, where a non-admin user should be able to view data to identify any illegal activities on his account in recent times. We may extend the existing functionally from Admin to non-admin users. \r\n",
      "summary": "Provide a view for login details for non-admin users on Confluence UI. "
    }
  },
  {
    "key": "CONFSERVER-74307",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-26T00:21:49.000+0000",
      "description": "h2. Problem definition\r\n\r\nPlugin upgrades usually involve the AO framework to issue multiple queries like below mixed with DDL queries if columns are added/changed/deleted:\r\n{code:java}\r\nselect * from AO_21D670_WHITELIST_RULES;{code}\r\nThis may become a problem in Postgres if 1/\u00a0[server prepared statements|https://jdbc.postgresql.org/documentation/head/server-prepare.html]\u00a0are used and 2/ a physical connection is reused (e.g. the use of connection pools): there is a chance that a cached query plan referring to the old table will be used after the DDL has altered the table resulting in\u00a0_*cached plan must not change result type*_ error from Postgres.\r\n{code:java}\r\n2021-10-17 21:56:51,324 WARN [active-objects-init-system tenant-0] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[PluginReadWriteTx]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #1240317474)\r\n -- url: /confluence/longrunningtaskxml.action | traceId: 024d01439ac993fd | userName: admin | action: longrunningtaskxml\r\n2021-10-17 21:56:51,372 ERROR [active-objects-init-system tenant-0] [springframework.transaction.support.TransactionTemplate] rollbackOnException Application exception overridden by rollback exception\r\n -- url: /confluence/longrunningtaskxml.action | traceId: 024d01439ac993fd | userName: admin | action: longrunningtaskxml\r\njava.lang.RuntimeException: Could not read fields for table AO_A0B856_WEB_HOOK_LISTENER_AO\r\n\tat net.java.ao.schema.helper.DatabaseMetaDataReaderImpl.getFields(DatabaseMetaDataReaderImpl.java:141)\r\n\tat net.java.ao.schema.ddl.SchemaReader.readFields(SchemaReader.java:126)\r\n\tat net.java.ao.schema.ddl.SchemaReader.readTable(SchemaReader.java:110)\r\n\tat net.java.ao.schema.ddl.SchemaReader.access$000(SchemaReader.java:62)\r\n\tat net.java.ao.schema.ddl.SchemaReader$1.apply(SchemaReader.java:99)\r\n\tat net.java.ao.schema.ddl.SchemaReader$1.apply(SchemaReader.java:97)\r\n\tat com.google.common.collect.Iterators$6.transform(Iterators.java:785)\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n\tat com.google.common.collect.Iterators.addAll(Iterators.java:358)\r\n\tat com.google.common.collect.Lists.newArrayList(Lists.java:147)\r\n\tat com.google.common.collect.Lists.newArrayList(Lists.java:133)\r\n\tat net.java.ao.schema.ddl.SchemaReader.readSchema(SchemaReader.java:97)\r\n\tat net.java.ao.schema.ddl.SchemaReader.readSchema(SchemaReader.java:88)\r\n\tat net.java.ao.schema.ddl.SchemaReader.readSchema(SchemaReader.java:81)\r\n\tat net.java.ao.schema.SchemaGenerator.generateImpl(SchemaGenerator.java:107)\r\n\tat net.java.ao.schema.SchemaGenerator.migrate(SchemaGenerator.java:84)\r\n\tat net.java.ao.EntityManager.migrate(EntityManager.java:131)\r\n\tat com.atlassian.activeobjects.internal.EntityManagedActiveObjects.migrate(EntityManagedActiveObjects.java:52)\r\n\tat com.atlassian.webhooks.internal.dao.MigrateToV1Task.upgrade(MigrateToV1Task.java:43)\r\n\tat com.atlassian.activeobjects.internal.DataSourceProviderActiveObjectsFactory$PostgresActiveObjectsUpgradeTask.configureConnectionAndRun(DataSourceProviderActiveObjectsFactory.java:241)\r\n\tat com.atlassian.activeobjects.internal.DataSourceProviderActiveObjectsFactory$PostgresActiveObjectsUpgradeTask.upgrade(DataSourceProviderActiveObjectsFactory.java:188)\r\n\tat com.atlassian.activeobjects.internal.ActiveObjectUpgradeManagerImpl.lambda$upgrade$0(ActiveObjectUpgradeManagerImpl.java:64)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.lambda$doInTransaction$0(SpringHostContextAccessor.java:70)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.access$001(ConfluenceSpringHostContextAccessor.java:21)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.lambda$doInTransaction$3(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68)\r\n\tat com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.doInTransaction(ConfluenceSpringHostContextAccessor.java:72)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor363.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy380.execute(Unknown Source)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor363.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy1270.execute(Unknown Source)\r\n\tat com.atlassian.activeobjects.internal.SalTransactionManager.inTransaction(SalTransactionManager.java:42)\r\n\tat com.atlassian.activeobjects.internal.AbstractLoggingTransactionManager.doInTransaction(AbstractLoggingTransactionManager.java:16)\r\n\tat com.atlassian.activeobjects.internal.EntityManagedActiveObjects.executeInTransaction(EntityManagedActiveObjects.java:214)\r\n\tat com.atlassian.activeobjects.internal.ActiveObjectUpgradeManagerImpl.upgrade(ActiveObjectUpgradeManagerImpl.java:62)\r\n\tat com.atlassian.activeobjects.internal.ActiveObjectUpgradeManagerImpl.upgrade(ActiveObjectUpgradeManagerImpl.java:34)\r\n\tat com.atlassian.activeobjects.internal.DataSourceProviderActiveObjectsFactory.upgrade(DataSourceProviderActiveObjectsFactory.java:84)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory.create(AbstractActiveObjectsFactory.java:65)\r\n\tat com.atlassian.activeobjects.internal.DelegatingActiveObjectsFactory.create(DelegatingActiveObjectsFactory.java:32)\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:91)\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:86)\r\n\tat com.atlassian.sal.core.executor.ThreadLocalDelegateCallable.call(ThreadLocalDelegateCallable.java:38)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.lambda$withRequestContext$1(VCacheRequestContextOperations.java:59)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: cached plan must not change result type\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat net.java.ao.schema.helper.DatabaseMetaDataReaderImpl.getResultSetMetaData(DatabaseMetaDataReaderImpl.java:271)\r\n\tat net.java.ao.schema.helper.DatabaseMetaDataReaderImpl.getFields(DatabaseMetaDataReaderImpl.java:91)\r\n\t... 74 more\r\n{code}\r\n\r\nh2. Workaround\r\n\r\n #  Restart Confluence might help since the stale cache is caused by a race condition.\r\n\r\n # Disable server prepared statements cache in Postgres\u00a0by setting\u00a0{{prepareThreshold=0}}\u00a0in the connection URL. This may incur some performance penalty!",
      "summary": "Plugin upgrades fail in Postgres because of stale prepared statements cache"
    }
  },
  {
    "key": "CONFSERVER-74306",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-25T20:33:38.000+0000",
      "description": "h3. Problem Definition\r\n\r\nConfluence has revamped the *Audit Logs* from version 7.5 onwards.\r\n\r\nReference:\u00a0[Confluence 7.5 Release Notes: Audit like a pro with our new Audit log|https://confluence.atlassian.com/doc/confluence-7-5-release-notes-1001823832.html#Confluence7.5ReleaseNotes-AuditlikeaprowithournewAuditlog].\r\n\r\nA System Administrator might want to *disable* Audit Logs from being generated for any given reason (ie: storage utilization), but that is currently not possible.\r\nh3. Suggested Solution\r\n\r\nAdd the ability for system administrators to disable Audit Logs from the interface.\r\n\r\nScope to be considered:\r\n * Entries in the Database\r\n * Log files in the server\r\n * Both\r\n\r\nPossible implementations:\r\n * Add new buttons for Enabling / Disabling the feature.\r\n * Creating system properties for disabling audit logs.\r\n * Allowing a zero value for the retention period (database side entries) and number of files stored (server-side logs).\r\n\r\nh3. Workaround\r\n\r\n*Option 1 - Data Minimization*\r\n # Navigate to *Audit Log > Settings*\r\n # Under *Audit log database retention*, set the {{Database retention period}} to 1 Day\r\n # Under *Audit log file retention*, set the {{Number of files stored}} to 1 file per node.\r\n",
      "summary": "Provide the ability to disable Audit Logs"
    }
  },
  {
    "key": "CONFSERVER-74303",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-25T11:37:42.000+0000",
      "description": "h3. Problem\r\n\r\nUpon Confluence startup, following error message appears\u00a0in the catalina.out:\u00a0\r\n{code:java}\r\nlog4j:ERROR Could not find value for key log4j.appender.luceneQuery\r\nlog4j:ERROR Could not instantiate appender named \"luceneQuery\"\r\n{code}\r\n * Confluence was updated from 6.15.5 to 7.14.0.\u00a0\r\n * Same error message seen with the fresh installation of Confluence 7.13 also.\r\n\r\nh3. Environment\r\n * Confluence 7.13.x and 7.14\r\n\r\nh3. Steps to Reproduce\r\n # Start the Confluence.\r\n # Check the catalina logs\r\n\r\nh3. Expected Results\r\n\r\nAs these errors are not causing any issue, it should not be printed in the logs.\u00a0\r\nh3. Actual Results\r\n\r\nNo side effect caused by these error but printed in the catalina logs which caused confusion for admins.\u00a0\r\nh3. Workaround\r\n\r\n_(Add a workaround, if available)_\r\nh3. Notes\u00a0\r\n\r\nThe above error comes from the log4j configuration that is related to Lucene query logging. It is safe to ignore this error unless Lucene query logging is needed.",
      "summary": "log4j.ERROR on startup appear in the logs after Confluence Upgrade"
    }
  },
  {
    "key": "CONFSERVER-74302",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-04T01:00:11.000+0000",
      "created": "2021-10-25T09:34:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nLog analyzer shows incorrect error that \"Confluence Unresponsive due to Blocked Threads when Comala Workflows Plugin 5.5.0, 5.5.1, 5.5.2, 5.7.2 or 5.7.3 Has Been Installed\" in spite of not installing Comala Workflows plugin\r\n\r\nh3. Steps to Reproduce\r\n\r\nStep 1: Go \"Troubleshooting and support tools\" > Log analyzer\r\nStep 2: Execute \"Scan\" log\r\nStep 3: In spite of not installing Comala Workflows plugin, \"Confluence Unresponsive due to Blocked Threads when Comala Workflows Plugin 5.5.0, 5.5.1, 5.5.2, 5.7.2 or 5.7.3 Has Been Installed\" is suggested when there is the following log in atlassian-confluence.log.\r\n\r\nh3. Expected Results\r\n\r\n- When not installing Comala Workflows plugin, \"Confluence Unresponsive due to Blocked Threads when Comala Workflows Plugin 5.5.0, 5.5.1, 5.5.2, 5.7.2 or 5.7.3 Has Been Installed\" is not suggested.\r\n\r\nh3. Actual Results\r\n\r\n- In spite of not installing Comala Workflows plugin, \"Confluence Unresponsive due to Blocked Threads when Comala Workflows Plugin 5.5.0, 5.5.1, 5.5.2, 5.7.2 or 5.7.3 Has Been Installed\" is suggested.\r\n\r\n !confluence-log-analyzer.png|thumbnail! \r\n\r\nFrom https://confluence.atlassian.com/support/files/179443532/792496589/7146/1633944262034/confluence_regex_v2.xml , \"regex\" value is likely wide range target in this suggest.\r\n{code}\r\n<regex>org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton</regex>\r\n{code}\r\n\r\n\r\n- confluence_regex_v2.xml( https://confluence.atlassian.com/support/files/179443532/792496589/7146/1633944262034/confluence_regex_v2.xml \u304b\u3089\u53d6\u5f97 )\r\n{code}\r\n<RegexEntry>\r\n<pageName>Confluence Unresponsive due to Blocked Threads when Comala Workflows Plugin 5.5.0, 5.5.1, 5.5.2, 5.7.2 or 5.7.3 Has Been Installed</pageName>\r\n<regex>org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton</regex>\r\n<URL>https://confluence.atlassian.com/display/CONFKB/Confluence+Unresponsive+due+to+Blocked+Threads+when+Comala+Workflows+Plugin+5.5.0%2C+5.5.1%2C+5.5.2%2C+5.7.2+or+5.7.3+Has+Been+Installed</URL>\r\n<Id>CONFKB954238832</Id>\r\n<sourceID>CAC_KB</sourceID>\r\n</RegexEntry>\r\n{code}\r\n\r\n\r\nh3. Workaround\r\n\r\nIf not installing \"Comala Workflows\" plugin, you don't have to follow the documentation.",
      "summary": "Log analyzer shows incorrect error that \"Confluence Unresponsive due to Blocked Threads when Comala Workflows Plugin 5.5.0, 5.5.1, 5.5.2, 5.7.2 or 5.7.3 Has Been Installed\" in spite of not installing Comala Workflows plugin"
    }
  },
  {
    "key": "CONFSERVER-74300",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-25T04:17:58.000+0000",
      "description": "h3. Issue Summary\r\nMoving page with incoming link from another page that has duplicated title in the same space failed without proper error in UI\r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence\r\n# Create a new Space with few pages named like below:\r\n#* Child 1\r\n#* Child 1\r\n#* Child 3\r\n(!) Note that Confluence Server/Data Center *does not* allow pages with duplicated names exist in the same space. However, situations like this can be found in some customers' environments where we're still not sure how it happened. For the purpose of replicating this bug, the above pages with a duplicated title are achieved via database modification.\r\n# Make sure either of the duplicated page is [linked to Child 3|https://confluence.atlassian.com/doc/links-776656293.html] so it appears as \"Incoming Link\" in {{_Child 3_}}'s Page Information\r\n# Move *Child 3* to another space\r\n\r\nh3. Expected Results\r\n* The page is moved successfully to the new space (since the page with duplicated page title is not part of the move)\r\nOR\r\n* The page move failed with a clear error message (eg: a page with the same title already existed)\r\n(i) Error messages in the log were able to show this, but only admin with access to the logs are able to find it out\r\n\r\nh3. Actual Results\r\nThe page has failed to move and \"Page Not Found\" error is shown in the UI. It is confusing to the user who triggers the page move because they won't understand if it has failed or why it has failed.\r\n !UI error.png|thumbnail! \r\n\r\nError message below can be found in {{atlassian-confluence.log}}\r\n{noformat}\r\n2021-10-25 15:12:19,735 ERROR [Long running task: Move Page] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.confluence.event.events.content.page.PageMoveEvent@7016d192[theMover=ConfluenceUserImpl{name='admin', key=ff8080817c7bc8fb017c7bc9d0130000},oldSpace=Space{key='CO'},oldParentPage=page: Parent Page v.1 (983045),oldPosition=<null>,movedBecauseOfParent=false,movedPageList=[page: Child 3 v.1 (983051)],page=page: Child 3 v.1 (983051),suppressNotifications=false,timestamp=1635135139607]] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.confluence.links.RelatedContentRefactoringListener.handleEvent(com.atlassian.confluence.event.events.content.page.PageMoveEvent), listener=com.atlassian.confluence.links.RelatedContentRefactoringListener@6bfbf2e0} (timed)]\r\n -- referer: http://localhost:27120/c7120/display/CO/Child+3 | url: /c7120/pages/movepage.action | traceId: 007f94c4f2adf7c7 | userName: admin | action: movepage\r\njava.lang.RuntimeException: A page already exists with the title Child 1 in the space with key CO. Listener: com.atlassian.confluence.links.RelatedContentRefactoringListener event: com.atlassian.confluence.event.events.content.page.PageMoveEvent\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:57)\r\n\tat com.atlassian.confluence.event.ConfluenceListenerHandlersConfiguration$TimedListenerInvoker.invoke(ConfluenceListenerHandlersConfiguration.java:96)\r\n\tat com.atlassian.confluence.event.ConfluenceEventDispatcher$VCacheRequestContextRunnableFactory$1.lambda$run$0(ConfluenceEventDispatcher.java:93)\r\n\tat com.atlassian.confluence.vcache.VCacheRequestContextOperations.lambda$doInRequestContext$0(VCacheRequestContextOperations.java:50)\r\n...\r\nCaused by: com.atlassian.confluence.pages.DuplicateDataRuntimeException: A page already exists with the title Child 1 in the space with key CO\r\n\tat com.atlassian.confluence.pages.DefaultPageManager.throwIfDuplicateAbstractPageTitle(DefaultPageManager.java:1760)\r\n\tat com.atlassian.confluence.pages.DefaultPageManager.saveContentEntity(DefaultPageManager.java:1532)\r\n...\r\n{noformat}\r\n\r\nh3. Information\r\nConfluence Cloud allows pages having the same title to exist in the same space. An XML Export from Confluence Cloud could have caused this.\r\n\r\nh3. Workaround\r\nLook into the log to identify the duplicate page title and rename either of the page.",
      "summary": "Moving page with incoming link from another page that has duplicated title in the same space failed without proper error in UI"
    }
  },
  {
    "key": "CONFSERVER-74299",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-24T14:43:23.000+0000",
      "description": "On a Confluence page with many [Jira macros|https://support.atlassian.com/confluence-cloud/docs/insert-the-jira-issues-macro/], it's very difficult to keep track of which Jira issue you're dealing with. The only way is to open each Jira in a new tab.\u00a0\r\n\r\nRequest: Confluence should render the title of the Jira issue in Edit mode, not just its ID. Not only would this be more WYSIWIG and let you know how much space the rendered macro will take up, it will also help greatly in discussions when a page is being edited.\r\n\r\nNote that I don't think the title should be updated live if the Jira issue is edited at the same time, that is likely an edge case. The initial title would be good enough.",
      "summary": "Render Jira macro with title in Confluence page Edit mode"
    }
  },
  {
    "key": "CONFSERVER-74298",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-19T02:56:23.000+0000",
      "created": "2021-10-22T20:53:50.000+0000",
      "description": "h3. Issue Summary\r\nIn Data Center, Team Calendar is bundled with Confluence. Version 7.3.1 is a higher version, but not found in the [TC version history|https://marketplace.atlassian.com/apps/72307/team-calendars-for-confluence/version-history]. Version 7.0.17 is the recent version. If you attempt to update the plugin, nothing happens. \r\nh3. Steps to Reproduce\r\n # Upgrade or install Data center 7.14.\r\n # Navigate to  !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png|width=16! > *Manage apps*.\r\n# Expand the view for Team Calendars. \r\n\r\nh3. Expected Results\r\n# TC version to match the latest in version history. \r\n# Or TC show version 7.3.1 as the latest version. \r\n\r\nh3. Actual Results\r\nTC displays:\r\n* Installed version:7.3.1\r\n*Available version:7.0.17\r\n !Screen Shot 2021-10-22 at 3.48.01 PM.png|thumbnail! \r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Installing or upgrading to Confluence version 7.14.0 installs Team Calendar 7.3.1  but shows available version 7.0.17. "
    }
  },
  {
    "key": "CONFSERVER-74296",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-22T14:09:02.000+0000",
      "description": "h3. Issue Summary\r\n\r\nGatekeeper and UPM breaks beyond in Confluence version >= 7.11.0 for MSSQL and Oracle database\r\nh3. Steps to Reproduce\r\n # Install Confluence version 7.13.1 with MSSQL\r\n # Connect an LDAP/Crowd containing a group that has more than 2100 nested groups\r\n # Give this group a canuse permission in Global Permission page\r\n # Synchronise the directory\r\n # Restart Confluence\r\n\r\nThis should be replicable in Oracle as well since it also enforces a limit of 1000\r\n\r\nh3. Expected Results\r\n\r\nNo Errors\r\nh3. Actual Results\r\n * We see following errors where MSSQL complains that the query has more then 2100 parameters in IN condition\r\n{code:java}\r\n021-10-19 11:16:10,405 ERROR [perm-delta-cache-receiver] [gatekeeper.evaluator.cache.CacheUpdateReceiver] error Failed to initialize evaluator cache\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:228)\r\n    at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:392)\r\n    at org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:351)\r\n    at com.atlassian.crowd.embedded.hibernate2.HibernateMembershipDao.search(HibernateMembershipDao.java:153)\r\n    at com.atlassian.confluence.impl.user.crowd.CachedCrowdMembershipDao.search(CachedCrowdMembershipDao.java:151)\r\n    at jdk.internal.reflect.GeneratedMethodAccessor490.invoke(Unknown Source)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    at com.sun.proxy.$Proxy264.search(Unknown Source)\r\n    at com.atlassian.crowd.directory.AbstractInternalDirectory.searchGroupRelationships(AbstractInternalDirectory.java:883)\r\n{code}\r\n\r\n{code:java}\r\n2021-10-20 08:34:28,283 ERROR [http-nio-8090-exec-5] [[Standalone].[localhost].[/].[servlet-module-container-servlet]] log Servlet.service() for servlet [servlet-module-container-servlet] in context with path [] threw exception\r\nio.atlassian.util.concurrent.LazyReference$InitializationException: io.atlassian.util.concurrent.LazyReference$InitializationException: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    at io.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:156)\r\n    at io.atlassian.util.concurrent.LazyReference.get(LazyReference.java:116)\r\n    at io.atlassian.util.concurrent.ResettableLazyReference.get(ResettableLazyReference.java:95)\r\n    at com.atlassian.upm.LazyReferences.safeGet(LazyReferences.java:15)\r\n    at com.atlassian.upm.core.pac.BaseClientContextFactory.getClientContext(BaseClientContextFactory.java:67)\r\n    at com.atlassian.upm.core.pac.BaseClientContextFactory.getClientContext(BaseClientContextFactory.java:47)\r\nCaused by: io.atlassian.util.concurrent.LazyReference$InitializationException: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat io.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:156)\r\n\tat io.atlassian.util.concurrent.LazyReference.get(LazyReference.java:116)\r\n\tat io.atlassian.util.concurrent.ResettableLazyReference.get(ResettableLazyReference.java:95)\r\n\tat com.atlassian.upm.LazyReferences.safeGet(LazyReferences.java:15)\r\n\tat com.atlassian.upm.core.impl.ConfUserAccessor.getActiveUserCount(ConfUserAccessor.java:26)\r\n\tat com.atlassian.upm.api.util.Option$4.fold(Option.java:353)\r\n\tat com.atlassian.upm.api.util.Option.getOrElse(Option.java:71)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The incoming request has too many parameters. The server supports a maximum of 2100 parameters. Reduce the number of parameters and resend the request.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:260)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1547)\r\n\tat com.microsoft.sqlserv\r\n{code}\r\nh3. Workaround\r\n * Disabling the user directory helps in showing Manage apps screen correctly but the error will appear again after a restart\r\n * Reduce the nested groups to below 2100 in case of MSSQL or below 1000 in Oracle\r\n* Disable Gatekeeper Plugin",
      "summary": "Gatekeeper and UPM breaks in Confluence 7.11.0 and above for MSSQL and Oracle databases due to too many parameters in the request"
    }
  },
  {
    "key": "CONFSERVER-74283",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-22T12:48:51.000+0000",
      "description": "h3. Issue Summary\r\nWhen creating a blog post and adding Table of Content macro to it, macro will render correctly and only pull headers from the blog post it was added to. \r\nBut if you want to look at blogs overview by clicking on *Blog* link in Space Navigation pane or look at blogs from a certain month or year using breadcrumbs pane, TOC macro will pull headers from all blogs in space.\r\n\r\nh3. Steps to Reproduce\r\n # Create one or more blog post page and add headers to it\r\n # Create another blogpost page add some headers to it and add TOC macro\r\n # Save the blog post and confirm that TOC macro is rendering correctly and pulling headers from your blog\r\n !Screenshot 2021-10-22 at 14.31.21.png|thumbnail! \r\n # Click on *Blog* in the Left Space Navigation pane or click on a _Month_ or _Year_ in top blog breadcrumbs\r\n\r\nh3. Expected Results\r\n# Table of Content macro on each blog is showing headers from the specific blog you are reading\r\n\r\nh3. Actual Results\r\n# Table of Content macro is showing heading from every blog post in the list\r\n !Screenshot 2021-10-22 at 14.34.40.png|thumbnail! \r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Adding TOC to a blog will result in it showing other blogs headers in blogs view"
    }
  },
  {
    "key": "CONFSERVER-74282",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-22T06:40:54.000+0000",
      "created": "2021-10-22T08:09:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nQuestions 2.7.34 cannot get enabled when install it into Confluence 6.8.1, though it seems supported according to [marketplace: questions for confluence|https://marketplace.atlassian.com/apps/1211644/questions-for-confluence?tab=versions&hosting=server]\r\n{code:java}\r\nVersion\u00a02.7.34\u2022Confluence Server 6.0.7 - 7.14.0\r\n{code}\r\nh3. Steps to Reproduce\r\n # Have Confluence 6.8.1\r\n # Install Questions\u00a02.7.34\r\n\r\nh3. Expected Results\r\n\r\nQuestions will be working normally.\r\nh3. Actual Results\r\n\r\nQuestions\u00a0 is grey in add-on list, and cannot get enabled.\r\n\r\n!questions in grey.png|thumbnail! \r\n\u00a0\r\n\r\nThe below exception is thrown in application log:\r\n{noformat}\r\n2021-10-05 11:50:45,174 ERROR [ThreadPoolAsyncTaskExecutor::Thread 32] [plugin.osgi.factory.OsgiPlugin] onPluginContainerFailed Unable to start the plugin container for plugin 'com.atlassian.confluence.plugins.confluence-questions'\r\n{noformat}\r\nh3. Workaround\r\n\r\nDowngrade to version 2.7.25 of Questions.",
      "summary": "Questions 2.7.34 does not support Confluence 6.8.1"
    }
  },
  {
    "key": "CONFSERVER-74281",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-22T02:40:22.000+0000",
      "description": "h3. Problem\r\n\r\nTeam Calendar is now bundled with Data Center and should be picking up license from Confluence. Though, this is not the case for a few older versions of Confluence.\r\n\r\n\r\nh3. Environment\r\n* Confluence v7.1.0\r\n* Team Calendar v7.0.17\r\n* UPM v4.0.20 (latest for Confluence v7.1.0)\r\n\r\nh3. Steps to Reproduce\r\n\r\nInstall a Data Center instance of Confluence and install Team Calendar. The following screen of Team Calendar is seen.\r\n !TC-1.png|thumbnail! \r\n\r\n\r\nh3. Expected Results\r\nTeam Calendar should be licensed and shouldn't prompt for a license. \r\n\r\nh3. Actual Results\r\nTeam Calendar is installed as if it's not licensed and asks to enter a license. \r\n\r\nh3. Workaround\r\nNo workaround is available for instances of Confluence which are not compatible with UPM v4.3.1 or above. For instances of Confluence compatible with UPM v4.3.1 or above go through the following guide.\r\n\r\n* [How to get Team Calendars bundled with an existing Data Center instance|https://confluence.atlassian.com/confkb/how-to-get-team-calendars-bundled-with-an-existing-data-center-instance-1044785099.html]\r\n\r\nIf you have a Data Center instance of Confluence with UPM less than v4.3.1, reach out to [Atlassian Support|https://support.atlassian.com/]. \r\n",
      "summary": "Team Calendar not picking up Data Center license of Confluence"
    }
  },
  {
    "key": "CONFSERVER-74276",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-21T11:57:11.000+0000",
      "description": "h3. Issue Summary\r\nConfluence is currently using underscore.js 1.10.2. However, it is being affected due to CVE-2021-23358\r\n\r\nThe package underscore from 1.13.0-0 and before 1.13.0-2\r\nFrom 1.3.2 and before 1.12.1 are vulnerable to Arbitrary Code Injection via the template function, particularly when a variable property is passed as an argument as it is not sanitized.\r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.13.1 or below\r\n\r\nh3. Expected Results\r\nHave Confluence using underscore.js 1.13.1 or higher.\r\n\r\nh3. Actual Results\r\nConfluence is using underscore.js 1.10.2 which is affected.\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "CVE-2021-23358 - Need to upgrade Underscore.js to 1.13.1 or higher"
    }
  },
  {
    "key": "CONFSERVER-74275",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-21T07:39:01.000+0000",
      "description": "h3. Issue Summary\r\n\r\nExpand macro will be broken after executing REST API without page refreshing\r\n\r\n !expand-macro-is-broken.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\nStep1.Create the page with  [^page-storage_format.txt] (Storage Format).\r\nStep2.With using REST API( [^reproduce-script.txt] ), update that page.\r\nStep3.Check the page in edit mode, the expand macro is broken(BUG).\r\n\r\n [^confluence-reproduce-without-page-refresh.mp4] \r\n\r\nh3. Expected Results\r\n\r\nExpand macro won't be broken as confluence-reproduce-with-page-refresh.mp4\r\n\r\nh3. Actual Results\r\n\r\nExpand macro will be broken as confluence-reproduce-without-page-refresh.mp4\r\n\r\n\r\nh3. Workaround\r\n\r\nUse the page refresh after executing REST API(between Step2 and Step3) as confluence-reproduce-with-page-refresh.mp4.\r\n [^confluence-reproduce-with-page-refresh.mp4] ",
      "summary": "Expand macro will be broken after executing REST API without page refreshing"
    }
  },
  {
    "key": "CONFSERVER-74272",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T13:56:54.000+0000",
      "description": "h3. Problem\r\n\r\nWhen using multiple excerpt macros in sequence on a page and instructing it to put data on a new line, it does not add a line break.\r\nh3. Environment\r\n\r\nConfluence 7.13.1\r\nh3. Steps to Reproduce\r\n # Create a new page and add an excerpt macros to it with any text,\u00a0selecting the 'Display on new line' option\r\n # Repeat the step above to add two more excerpt macros in a sequence, one below the other .\r\n # Save the page\u00a0\r\n\r\n\u00a0\r\nh3. Expected Results\r\n\r\nMacros' texts are shown on separate lines\r\nh3. Actual Results\r\n\r\nMacros' texts are shown on a single line.\r\nh3. Workaround\r\n * Select 'Display inline' on the first excerpt macro,\r\n * Select 'Display on new line' on the second macro,\r\n * Select 'Display inline' on the third excerpt macro\r\n\r\n(i)\u00a0On summary, you will need to alternate between the options for the text to show on separate lines.\r\n\r\n!image-bug-excerptmacro-01.png|width=193,height=226,thumbnail!\r\n\r\n!image-bug-excerptmacro-02.png|width=195,height=141!\r\n\r\n\u00a0\r\nh3. Notes",
      "summary": "Excerpt macro new line / line break configuration not working"
    }
  },
  {
    "key": "CONFSERVER-74258",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T12:57:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn TC, when there is a custom field where the following is added as part of the event:\r\n * *What*\r\n * *Who*\r\n * *When*\r\n * *Description*\r\n\r\n... external calendar clients subscribed to this calendar will have this event displaying the *Description* with the *What field* as a title.\u00a0\r\n\r\nThis is not the case with default events as the\u00a0*What* field will be the only text being displayed as title in the external calendars.\u00a0\r\nh3. Steps to Reproduce\r\n * Add a Calendar and create a *Custom Event*\r\n * Create an Event in the Calendar by choosing the custom event and fill in the *What*, *Who*, *When* and *Description*.\r\n * Select the\u00a0the More actions menu (\u2022\u2022\u2022) for your calendar in the side nav and choose\u00a0*Subscribe*.\r\n * In the\u00a0*Calendar app*\u00a0dropdown, select\u00a0*iCal*\u00a0or\u00a0*Microsoft Outlook (browser), or Microsoft Outlook (Windows Desktop)***\r\n * Using the subscription link, subscribe to this calendar using your Calendar client of your choice.\r\n\r\nh3. Expected Results\r\n\r\n!Screenshot 2021-10-20 at 14.49.44.png|thumbnail!\r\nh3. Actual Results\r\nh3. !Screenshot 2021-10-20 at 14.43.05.png|thumbnail!\r\nh3. Workaround\r\n\r\nThere is no workaround at the moment.\u00a0",
      "summary": "A custom event's What field is appended with description field in external calendars such us outlook and iCal"
    }
  },
  {
    "key": "CONFSERVER-74252",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T06:42:36.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDownload all attachments fails with a HTTP 404 Page Not Found with the URL showing the Confluence Home directory.\r\n\r\nh3. Environment\r\n\r\nConfluence running on Linux with the *{{<confluence-home>/temp}}* a symbolic link.\r\n\r\nh3. Steps to Reproduce\r\n # Install a fresh Confluence on Linux\r\n # Map the *{{<confluence-home>/temp}}* as a sym link folder\r\n{code}\r\nrm -rf /var/atlassian/application-data/confluence/temp\r\nln -s /tmp /var/atlassian/application-data/confluence/temp\r\n{code}\r\n # Start Confluence\r\n # Create a page with some attachments\r\n # Navigate to \"...\" > *Attachments*\r\n # Click on the *Download All* attachments link \r\n \r\nh3. Expected Results\r\n\r\n* All the attachments on the page should be downloaded as a single Zip file\r\n\r\nh3. Actual Results\r\n\r\n * Confluence returns a HTTP 404 Page Not found error (x)\r\n * The URL also shows the actual Home Directory location\r\n !DownloadAllAttachmentsFailWith404.png|thumbnail! \r\n\r\nh3. Diagnosis\r\n\r\nConfirm whether the *{{<confluence-home>/temp}}* is a symbolic link.\r\n\r\n{code}\r\n$ pwd\r\n/var/atlassian/application-data/confluence\r\n\r\n$ ls -l | grep -i temp\r\ndrwxr-x---     2 user  user     64 14 Oct 17:22 plugins-temp\r\nlrwxr-xr-x     1 user  user     17 20 Oct 17:31 temp -> /tmp      <---- This cannot be a symbolic link!\r\ndrwxr-x---  1030 user  user  32960 20 Oct 17:36 webresource-temp\r\n{code}\r\n\r\nh3. Workaround\r\n\r\n* Remove the *{{<confluence-home>/temp}}* symbolic link and make sure that it is an actual directory\r\n",
      "summary": "Download all attachments fails with HTTP 404 when temp folder in Confluence Home is a symlink"
    }
  },
  {
    "key": "CONFSERVER-74251",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T05:27:48.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\r\n*NOTE:* This suggestion is for *Confluence Server and Data Center*. \r\n{panel}\r\nh3. Problem Definition\r\n\r\nCurrently Confluence seems not to be 100% compatible with the security rule specs defined in OWASP ModSecurity Core Rule Set (CRS).\r\n The rule set is not only used by apache mod_security, but also is used by a big number of content distribution network (CDNs) providers and also by major cloud service providers like Microsoft Azure Application Gateway web application firewall.\r\n\r\nh3. Suggested Solution\r\n\r\nNeed to make Confluence more compatible with the OWASP WAF rule set: [https://coreruleset.org/faq/]\r\n\r\nh3. Why this is important\r\n # Enterprise customers using CDNs and Cloud services such as MS Azure are more likely to enable OWASP WAF rules on their infrastructure, with Confluence not able to be 100% compatible, those rules will prevent some Confluence functionalities from working as expected. \r\n\r\nEnforcing WAF rules is very useful for businesses as it makes their infrastructure more robust against attacks.\r\n\r\nh3. Workaround\r\nIn some instances downgrading the OWASP version from *3.0.0* to *2.2.9* in the WAF rules have fixed the *400 Bad Request* we got from the Azure Application Gateway WAF.",
      "summary": "Improve Confluence compatibility with OWASP ModSecurity Core Rule Set (CRS)"
    }
  },
  {
    "key": "CONFSERVER-74250",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T04:41:53.000+0000",
      "description": "h3. Issue Summary\r\nMobile view of a Confluence page  does not shows up the contents for Page Tree Macro where as the contents of the same page is shown without using Confluence Mobile view\r\n\r\nh3. Steps to Reproduce\r\n # Create a parent page having many child pages\r\n # Create a new page and insert [Page Tree Macro|https://confluence.atlassian.com/doc/page-tree-macro-163414255.html]\r\n# In the page tree macro add the root or parent page name that was created first time and chose 10 pages to be displayed. Save and publish the page.\r\n# Ensure this page is made public meaning can be viewed by anonymous user.\r\n# Open that page in chrome incognito mode in your computer and you will be able to see the list of pages which is fine.\r\n# Now, open the same page using Confluence Mobile view ( <Confluence URL>/plugins/servlet/mobile?contentId=xxxxxxxxxx#content/view/xxxxxxxxxx ) where xxxxxxxxxx is the Page ID or Content ID\r\n# Its observed that the content of the Page Tree macro is not displayed.\r\n\r\nh3. Expected Results\r\n Contents of the Page Tree macro is not displayed in mobile view\r\n\r\nh3. Actual Results\r\n Contents of the Page Tree macro is not displayed in mobile view\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Mobile view of a Confluence page  does not shows up the contents for Page Tree Macro"
    }
  },
  {
    "key": "CONFSERVER-74239",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T04:23:05.000+0000",
      "description": "h3. Issue Summary\r\nIndentation does not work on the first edit for imported word document \r\nh3. Steps to Reproduce\r\n # Import any word doc to Confluence ( sample doc attached ) \r\n # Once the doc is imported, edit the page \r\n # Now, try to indent the bullet point either selecting the indent button or using tab key\r\n # Its noticed that indentation does not works and also pressing the Tab button in the keyboard the selection jumps to other side of the page\r\n # Update or Publish the page without making any changes to the page. \r\n # Edit the page again and again try indenting the bullet points either using indent button or using tab key. Its observed that indentation now works.\r\n # The issue is that the indentation does not work for the first edit after the word doc is imported to Confluence.\r\n\r\nh3. Expected Results\r\n # Indentation does not work for the first edit after the word doc is imported to Confluence\r\n\r\nh3. Actual Results\r\n # Indentation should work for the first edit after the word doc is imported to Confluence\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Indentation does not work on the first edit for imported word document "
    }
  },
  {
    "key": "CONFSERVER-74238",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-19T21:23:41.000+0000",
      "description": "h3. Problem Definition\r\nWhen adding a new User Directory, an initial sync will halt if a duplicated user is found. The process has to be repeated over and over again if multiple duplicate users exist.\r\n\r\nh3. Suggested Solution\r\nCreate a \"Dry-Run\" that allows the entire sync to complete and produce a report of collisions.\r\n \r\nh3. Workaround \r\nResolve duplicated users one at a time.",
      "summary": "Identify duplicate users via \"dry-run\" on User Directory sync"
    }
  },
  {
    "key": "CONFSERVER-74215",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-19T09:30:25.000+0000",
      "description": "h3. Problem Definition\r\n\r\nJavaScript or dynamic customisations are not rendered in Word Exports. currently only the static HTML and CSS code is rendered in exported Word files.\r\nh3. Suggested Solution\r\n\r\nConfluence could execute any dynamic code before the Word is exported.\r\nh3. Why this is important\r\n\r\nThis would be useful for customers that want to add the current date or any other dynamic content in exported documents.",
      "summary": "JavaScript Code Should be Rendered in Word Exports"
    }
  },
  {
    "key": "CONFSERVER-74214",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-31T21:04:32.000+0000",
      "created": "2021-10-19T09:06:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nTiny links on Confluence return page not found. Note that the tiny link acquired by clicking the share button and the one listed under \"page information\" appear to be different. Both take you to a \"page not found\".\r\nh3. Steps to Reproduce\r\n # On a Confluence page click the share button\r\n # Copy the tiny link\r\n # Go to that link on your browser\r\n\r\nh3. Expected Results\r\n\r\nYou will be redirected to the page the tiny link was generated from.\r\nh3. Actual Results\r\n\r\nYou are taken to a page not found.\r\n\r\nHTTP 404\r\nh3. Workaround\r\n\r\nNone",
      "summary": "Tiny links on Confluence return page not found"
    }
  },
  {
    "key": "CONFSERVER-74198",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-18T13:50:40.000+0000",
      "description": "When using labels starting with non-ASCII but acceptable Latin-1 characters (such as \u00e5,\u00e4,\u00f6), the Labels List macro auto-groups the labels in a strange order. Se attachment.\r\n\r\nThis behaviour should be corrected to use the sorting order of the locale (or let the editor choose the grouping). In the attached picture, \"\u00c5\u00c4\u00d6\" should follow Z in the Swedish alphabet.\r\n\r\nThanks in advance!\r\n\r\n/Emil",
      "summary": "International sorting in Labels List macro"
    }
  },
  {
    "key": "CONFSERVER-74197",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-18T10:25:25.000+0000",
      "description": "h3. Issue Summary\r\n\r\nTable of Content macro picking up the heading from all other blog posts created.\u00a0\r\nh3. Steps to Reproduce\r\n # Create Blog 1\r\n # Add the content - Heading 1 -> Text - Heading 2 - Text\r\n # Add Table of Content Macro on Blog 1\r\n # Publish the blog\r\n # Create Blog 2\r\n # Add the content - Heading 11 -> Text - Heading 22 - Text\r\n # Publish\r\n # Create Blog 3\r\n # Add the content - Heading 111 -> Text - Heading 222 - Text\r\n # Publish\r\n # Click on 'Blog' -> URL( viewrecentblogposts.action )\r\n # It will show all the heading from(Blog1, 2, and 3) under Table of Content created on Blog 1.\r\n\r\nh3. Expected Results\r\n\r\nTable of Content should only display the heading from 'Blog 1' not from Blog 2 and 3.\r\nh3. Actual Results\r\nIt will show all the heading from(Blog1, 2, and 3) under Table of Content created on Blog 1.\r\n [^ToCMacroOnBlogPage.mp4] \r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available.\r\n\r\n\u00a0\r\n\r\n*Screen Record and Screenshot Attached.*",
      "summary": "Table of Contents macro displayed on Blog Page (viewrecentblogposts.action) displays all the heading from the all other Blog Pages. "
    }
  },
  {
    "key": "CONFSERVER-74195",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-18T00:48:13.000+0000",
      "description": "h3. Problem\r\n\r\nIf you use a shortcut link in a page, editing the page with Collaborative Editing turned on will result in the link to become empty (x).\r\n\r\nBut In preview mode and when hovering the link it will be displayed fine (/)\r\n\r\n\u00a0\r\nh3. Environment\r\n\r\nReproduced on Confluence Data Center version *7.14.0*, *7.13.0* and Confluence Server *7.12.2*\r\nh3. Steps to Reproduce\r\n\r\n(i)\u00a0Make sure Collaborative Editing is turned on.\r\n # Navigate to\u00a0{{Confluence Administration > General Configuration > Shortcut Links}}\u00a0and create a new shortcut link with properties below:\r\n #* Key: test\t \r\n #* Expanded Value: http://test/THIS_IS_TEST/record/%s/Test\t\r\n #* Default Alias: Test %s\r\n # Create a new page.\r\n # Insert a link to the page and under the 'Advanced' tab, insert the following values:\r\n*Link*: test@test\r\n # Save the page.\r\n # The link opens this page (as expected):\u00a0[http://test/THIS_IS_TEST/record/test/Test]\r\n # Edit the page and edit the link:\r\n #* Nothing will be displayed in the Link section under Advanced tab (x)\r\n #* But if you save the Link and try to click on it in Preview mode, it will still point to the previous link (/)\r\n\r\n\u00a0\r\nh3. Expected Results\r\n* Editing the Link on the page should result in displaying the Shortcut Links used\r\n\r\nh3. Actual Results\r\n* The link value is blank in edit mode (x)\r\n\r\nh3. Workaround\r\n* *Saving the page with the Link value left to blank* is preserving the previous Link value (/). So it seems that the issue is only limited to displaying the Link properly\r\n\r\nh3. Notes\r\n(i) A small recording is attached to help with the steps to reproduce ",
      "summary": "Shortcut links become empty in Edit Mode with Collaborative Editing turned On"
    }
  },
  {
    "key": "CONFSERVER-73980",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-16T02:11:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPasting rows from Excel into an existing table overwrites rows instead of inserting new rows.\r\n\r\nThe behavior is stranger when tested on a table with two columns, where the first row has the two columns merged. When pasting it will also overwrite existing rows, but starting at the row directly above the one where the cursor is.\r\n\r\nh3. Steps to Reproduce\r\n# Create a simple table in Excel\r\n# Copy/paste the table into a Confluence page\r\n# Select two or more rows in the Excel document and copy them\r\n# Click on a cell in the first column on the Confluence table, paste the rows\r\n\r\nh3. Expected Results\r\nPasting the rows inserts the data into new rows\r\n\r\nh3. Actual Results\r\nPasting the rows overwrites the existing data\r\n\r\nh3. Workaround\r\nInsert new rows into the Confluence table that match the number of rows you copied, and paste the data into those rows.",
      "summary": "Pasting rows from Excel into a table overwrites rows"
    }
  },
  {
    "key": "CONFSERVER-73979",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-15T23:50:25.000+0000",
      "description": "Please refer [question\u00a0|https://community.atlassian.com/t5/Confluence-questions/Search-for-labels-with-prefix-on-a-confluence-page/qaq-p/1833931?utm_source=atlcomm&utm_medium=email&utm_campaign=mentions_reply&utm_content=topic]\r\n\r\nWe would like to have wild card searches on Confluence pages. If we have labels like 'OTB_First' and 'otb_Second' on two separate pages, currently, we can only search for pages with labels starting\u00a0with 'OTB' using back-end query only. We are looking to searching them from a Confluence page search using wild-card search like %OTB% or something of that sort, via a CQL or a Macro\r\n\r\nPlease help with that feature",
      "summary": "Search for Confluence Labels using wildcards on a Confluence Page"
    }
  },
  {
    "key": "CONFSERVER-73974",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-15T20:39:31.000+0000",
      "description": "Currently, Team Calendars does not support groups and email distribution lists in the same way that Confluence does. As a Team Calendars and Confluence admin, I would like for the enumeration of groups and lists for Team Calendars to use the same indexed list as Confluence does.",
      "summary": "add support for AD Groups and Distribution lists in Team Calendars "
    }
  },
  {
    "key": "CONFSERVER-73963",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-31T21:04:31.000+0000",
      "created": "2021-10-15T04:11:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nEditor table resizing doesn't work in multi columns layout.\r\n\r\n!WX20211015-143957@2x.png|width=647,height=208!\r\n\r\ncaused by the workaround provided by Tiny in ticket [https://support.tiny.cloud/hc/en-us/requests/16405]\r\n\r\nTiny workaround or Tiny tables in general is not container aware.\u00a0\r\nh3. Steps to Reproduce\r\n # Create multi column layout\r\n # Insert a responsive table\r\n # drag the table border to a different position\u00a0\r\n\r\nh3. Expected Results\r\n\r\nEditor table should resize automatically to where the user drag the border to.\r\nh3. Actual Results\r\n\r\nEditor table resize to wrong wrong position.\r\nh3. Workaround\r\n\r\nOption: 1\r\n\r\nThe user could change table to fixed and responsive width to the full width.\r\n\r\nOption: 2\r\n\r\nThe user could drag much further to make the table wider.",
      "summary": "Editor table resizing doesn't work in multi column page layout"
    }
  },
  {
    "key": "CONFSERVER-73962",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T16:16:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using a filter in *Analytics*\u00a0app on Confluence that is configured with *MS SQL Server*, an error is thrown when selecting *Group By week* and *Display unique* filters together.\r\n\r\nError:\r\n\r\n_Something didn't work on the server_\r\n_Try again and if it continues contact your administrator_\r\n{code:java}\r\n2021-10-14 08:57:45,796 WARN [ForkJoinPool.commonPool-worker-3] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[SALSpringTx]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly (Session #1192287878)\r\n -- referer: http://localhost:8090/plugins/confanalytics/analytics.action | url: /rest/confanalytics/1.0/instance/activityByDate | traceId: 2560bcf21efed65f | userName: charlie\r\n2021-10-14 08:57:45,809 ERROR [http-nio-8090-exec-10] [common.error.jersey.ThrowableExceptionMapper] toResponse Uncaught exception thrown by REST service: Caught SQLServerException for select \"stat_external\".\"bucketStartTimestamp\", count(*) from (select \"stat_internal\".\"bucketStartTimestamp\" as \"bucketStartTimestamp\" from (select (cast(datediff(S, '1970-01-01', DATEADD(WEEK, DATEDIFF(WEEK, 0, dateadd(S, \"AO_7B47A5_EVENT\".\"EVENT_AT\" / ? + ?, '1970-01-01') - 1), 0);) as bigint) - ?) as \"bucketStartTimestamp\", cast(hashbytes('md5', \"AO_7B47A5_EVENT\".\"USER_KEY\") as bigint) as \"userKeyHash\" from \"AO_7B47A5_EVENT\" \"AO_7B47A5_EVENT\" inner join \"SPACES\" \"SPACES\" on \"AO_7B47A5_EVENT\".\"SPACE_KEY\" = \"SPACES\".\"SPACEKEY\" where (\"AO_7B47A5_EVENT\".\"NAME\" in (?, ?)) and \"AO_7B47A5_EVENT\".\"EVENT_AT\" >= ? and \"AO_7B47A5_EVENT\".\"EVENT_AT\" < ? and (\"SPACES\".\"SPACESTATUS\" = ? and \"SPACES\".\"SPACETYPE\" = ?)) as \"stat_internal\" group by \"stat_internal\".\"bucketStartTimestamp\", \"stat_internal\".\"userKeyHash\") as \"stat_external\" group by \"stat_external\".\"bucketStartTimestamp\"\r\n -- referer: http://localhost:8090/plugins/confanalytics/analytics.action | url: /rest/confanalytics/1.0/instance/activityByDate | traceId: 29f142f98e993a65 | userName: charlie\r\ncom.querydsl.core.QueryException: Caught SQLServerException for select \"stat_external\".\"bucketStartTimestamp\", count(*) from (select \"stat_internal\".\"bucketStartTimestamp\" as \"bucketStartTimestamp\" from (select (cast(datediff(S, '1970-01-01', DATEADD(WEEK, DATEDIFF(WEEK, 0, dateadd(S, \"AO_7B47A5_EVENT\".\"EVENT_AT\" / ? + ?, '1970-01-01') - 1), 0);) as bigint) - ?) as \"bucketStartTimestamp\", cast(hashbytes('md5', \"AO_7B47A5_EVENT\".\"USER_KEY\") as bigint) as \"userKeyHash\" from \"AO_7B47A5_EVENT\" \"AO_7B47A5_EVENT\" inner join \"SPACES\" \"SPACES\" on \"AO_7B47A5_EVENT\".\"SPACE_KEY\" = \"SPACES\".\"SPACEKEY\" where (\"AO_7B47A5_EVENT\".\"NAME\" in (?, ?)) and \"AO_7B47A5_EVENT\".\"EVENT_AT\" >= ? and \"AO_7B47A5_EVENT\".\"EVENT_AT\" < ? and (\"SPACES\".\"SPACESTATUS\" = ? and \"SPACES\".\"SPACETYPE\" = ?)) as \"stat_internal\" group by \"stat_internal\".\"bucketStartTimestamp\", \"stat_internal\".\"userKeyHash\") as \"stat_external\" group by \"stat_external\".\"bucketStartTimestamp\"\r\n\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near ';'. {code}\r\nh3. Steps to Reproduce\r\n # Install Confluence Data Center 7.11.6 with MS SQL Server\r\n # Go to *Analytics* Tab\r\n # Under overview, change *Group by* to *Week*\u00a0and *Display* to *Unique*\r\n\r\nh3. Expected Results\r\n\r\nIt should be possible to group by week and display unique results\r\nh3. Actual Results\r\n\r\nError is thrown and filter is not applied\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Selecting \"Group By Week\" and \"Display unique\" in Analytics result an error when SQL Server is used"
    }
  },
  {
    "key": "CONFSERVER-73961",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T15:30:35.000+0000",
      "description": "As of now, we are missing the REST API request to change the \"Site Title\" of Confluence.\u00a0\r\n\r\n\u00a0\r\n\r\nThis REST API request is specifically important under scenarios where we are trying setup a new environment from the production instance and as a part of automation, we would like to ensure that the Site Title is set to specific environment only. This will ensure to easily differentiate between production and other cloned environments.\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "REST API request to change the Site Title"
    }
  },
  {
    "key": "CONFSERVER-73960",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T14:50:01.000+0000",
      "description": "This suggestion is a follow up of CONFSERVER-7213 and CONFSERVER-60005.\r\n\r\nThough by adding below package -\r\n{quote}\r\nlog4j.category.com.atlassian.confluence.security.login.DefaultLoginManager=DEBUG\r\n{quote}\r\nwe can capture more details around user logging but then we still do not capture the IP address of the client if the user log's in successfully. As of now, we are doing this for failure login cases as well. \r\n\r\nFrom security perspective, it is really important that we not only capture the failure login attempts but at the same time capture the successful login attempts and apart from the username, IP address information is really crucial. \r\n\r\nIt will be great to have logging similar to JIRA as pointed earlier under CONFSERVER-60005\r\n\r\n",
      "summary": "Add Client IP address for Successful login similar to failed login under logs"
    }
  },
  {
    "key": "CONFSERVER-73888",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T09:43:54.000+0000",
      "description": "Currently, disabling the system app *Analytics for Confluence*\u00a0won't remove any existing analytics data from the database table *AO_7B47A5_EVENT*, but will stop Confluence from collecting data.\r\n\r\nIn some cases, administrators would like to remove any existing data for Confluence analytics when they choose to disable the app or when they choose to enable *Increased Privacy Mode*\u00a0due to privacy requirements.\r\n\r\nh2. Workaround\r\n\r\nThe following steps will delete all Analytics Data from Confluence.\r\n\r\n# (!) Please *backup the database* as the following steps are irreversible!\r\n# Navigate to *Confluence Administration* > *Manage Apps*\r\n#* Change filter to \"All\" to show all System Apps\r\n# Find  *Analytics for Confluence - Plugin*\r\n#* *Disable it*\r\n# Run the following SQL statement to *PURGE* all historic Analytics data against the Confluence database\r\n{code}\r\ntruncate table \"AO_7B47A5_EVENT\";\r\n{code}\r\n# Back  to Confluence, navigate to *Confluence Administration* > *Manage Apps*\r\n#* Change filter to \"All\" to show all System Apps\r\n# Find  *Analytics for Confluence - Plugin*\r\n#* *Enable it*\r\n# When you now navigate to *Analytics* in the top Confluence blue menu, the data set should start from scratch.",
      "summary": "Ability to remove existing data of Confluence Analytics from the interface"
    }
  },
  {
    "key": "CONFSERVER-73805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T02:38:35.000+0000",
      "description": "h3. Problem Definition\r\nAs of now there are two _Saved for later_ page/tab in Confluence; one in the Confluence Dashboard (URL {{<Confluence-Base-URL>/#starred), and another in the Saved for later tab on User's Profile page ({{<Confluence-Base-URL>/users/viewmyfavourites.action}}).\r\n\r\nThe one on Confluence Dashboard is being sorted based on the date and time where the page is added to the _Saved for later_ list (starred); newest to oldest.\r\nWhilst, the one on the User's Profile page is being sorted based on the pages' pageID (_contentid_ value in the {{CONTENT}} table).\r\n\r\nh3. Suggested Solution\r\nTo have both pages to have the same sorting mechanism to avoid any confusion.\r\n\r\nh3. Workaround \r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available\r\n\r\nh3. Information\r\n[Favorite Pages Macro|https://confluence.atlassian.com/doc/favorite-pages-macro-148581.html] is currently having the same sorting method as {{viewmyfavourites.action}} which should also be standardized",
      "summary": "As a user I want Saved for later page/tab in Confluence to have the same sorting mechanism"
    }
  },
  {
    "key": "CONFSERVER-73784",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-13T15:01:44.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf the macro is formatted (bold, italic, etc.), the macro won't preview the search results while typing and the UI will show only a spinning wheel as if it were loading.\r\n\r\nh3. Steps to Reproduce\r\n# Create an empty page\r\n# Insert a Livesearch macro with default settings\r\n# Select the Livesearch macro and select bold from the text format panel\r\n# Save the page\r\n# Click the textbox of the Livesearch macro and type at least three characters (this triggers an XHR call to backend)\r\n\r\nh3. Expected Results\r\nLivesearch macro previews the results of the search based on the typed characters\r\n !SS-1.jpg|thumbnail! \r\n\r\nh3. Actual Results\r\nLivesearch macro can't preview the results even the response has them and a javascript error is thrown in the console log:\r\n!SS-2.jpg|thumbnail! \r\n{noformat}\r\nUncaught TypeError: Cannot read properties of undefined (reading 'top')\r\n    at Object.dropdownPlacement (confluence.extra.livesearch:livesearch-macro-web-resources.js?locale=en-GB:7)\r\n    at m (batch.js?locale=en-GB:2691)\r\n    at g.show (batch.js?locale=en-GB:2695)\r\n    at g.<anonymous> (batch.js?locale=en-GB:2694)\r\n    at Object.success (batch.js?locale=en-GB:2703)\r\n    at i (batch.js?locale=en-GB:44)\r\n    at Object.fireWith [as resolveWith] (batch.js?locale=en-GB:44)\r\n    at u (batch.js?locale=en-GB:64)\r\n    at XMLHttpRequest.<anonymous> (batch.js?locale=en-GB:64)\r\n{noformat}\r\n\r\n\r\nh3. Workaround\r\n\r\nRemoving all formatting (bold, italic, underline) fixes the issue.",
      "summary": "Livesearch macro in Confluence does not preview search results while typing if the macro is formatted"
    }
  },
  {
    "key": "CONFSERVER-73780",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-13T11:47:34.000+0000",
      "description": "h3. Issue Summary\r\nIn Confluence, the Links table was design to keep track link within Confluence and therefore the column limit is 255.\r\n\r\nWhen user paste a link in a page that is more than 255 characters, only the first 255 characters is store in destpagetitle and lowerdestpagetitle column at LINKS table. The renaming of the URL will be truncate. This caused the outgoing links in the page information page is broken when the URL is more than 255 characters.\r\n*PS: This does not affect the link in the page itself. It only affect the link in page information.*\r\n\r\nh3. Steps to Reproduce\r\n# Create a page in Confluence\r\n# Paste the following link\r\n{code}\r\nhttps://www.google.com/search?q=1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22+23+24+25+26+27+28+29+30+31+32+33+34+35+36+37+38+39+40+41+42+43+44+45+46+47+48+49+50+51+52+53+54+55+56+57+58+59+60+61+62+63+64+65+66+67+68+69+70+71+72+73+74+75+76+77+78+79+80+81+82+83+84+85+86+87+88+89+90+91+92+93+94+95+96+97+98+99+100&newwindow=1&sxsrf=AOaemvIMBUeC7SAIK7vpK3ZR0IEKpTgT1w%3A1634022627055&source=hp&ei=4jRlYc-WPPGUxc8PnouE2AM&iflsig=ALs-wAMAAAAAYWVC819TmtDPyqZc20wzXZ3Q4bTB3l69&ved=0ahUKEwjPj_LRqMTzAhVxSvEDHZ4FATsQ4dUDCAc&uact=5&oq=1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22+23+24+25+26+27+28+29+30+31+32+33+34+35+36+37+38+39+40+41+42+43+44+45+46+47+48+49+50+51+52+53+54+55+56+57+58+59+60+61+62+63+64+65+66+67+68+69+70+71+72+73+74+75+76+77+78+79+80+81+82+83+84+85+86+87+88+89+90+91+92+93+94+95+96+97+98+99+100&gs_lcp=Cgdnd3Mtd2l6EANQlQxYlQxgrRZoAHAAeACAAQCIAQCSAQCYAQCgAQKgAQE&sclient=gws-wiz\r\n{code}\r\n# Save the page\r\n# Clicking the link in the page is working fine as expected\r\n# If we go to {...}} >> Page information\r\n# We can see a outgoing link is listed in the Page Information\r\n# Click the link under the outgoing link, it will redirect us to the following incomplete link.\r\n{code}\r\nhttps://www.google.com/search?q=1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22+23+24+25+26+27+28+29+30+31+32+33+34+35+36+37+38+39+40+41+42+43+44+45+46+47+48+49+50+51+52+53+54+55+56+57+58+59+60+61+62+63+64+65+66+67+68+69+70+71+72+73+74+75+76+77+78+79+8\r\n{code}\r\n# In the database we can see it only store the first 255 chracters of the URL.\r\n{code}\r\nselect destpagetitle, lowerdestpagetitle from LINKS;\r\n{code}\r\n\r\nh3. Expected Results\r\nThe Full URL is stored in the database\r\n\r\n\r\nh3. Actual Results\r\nThe maximum length of the URL that Confluence store is only 255\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Outgoing link in page information only store 255 characters when pasting URL more than 255 characters"
    }
  },
  {
    "key": "CONFSERVER-73778",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-12T20:54:55.000+0000",
      "description": "h4. Summary\r\nWhen attaching PDF files to Confluence Server and converting them to preview, it causes a CPU and memory usage spike on Confluence process which throws an OOM when the maximum memory is reached.\r\n\r\nThe PDF attached to this case as an example contains several images of high definition, but the file is only 16MB in size.\r\n [^1980.9.24 Spectator - Stern takes over budgeting group.pdf] \r\n\r\nThe instance can stall and crash given the OOM. The following error appears in atlassian-confluence.log file:\r\n\r\n{code}\r\nERROR [conversion-thread-pdf-thumb-0] [plugins.conversion.impl.TimeoutConversionRunnable] run Cannot convert. Execution error: \r\n -- referer: http://rodrigo.com:8411/pages/editpage.action?pageId=65610 | url: /rest/tinymce/1/macro/placeholder | traceId: a124ced5d925262d | userName: admin\r\njava.lang.OutOfMemoryError: Java heap space\r\n{code}\r\n\r\nOn Confluence *datacenter*, it uses the external conversion pool to perform this process. The CPU and memory still increase, however, the problem is mitigated by using the external pool, and Confluence continues working as normal. \r\n\r\nThere were old bug reports opened with the same behavior before. EG:\r\n* https://jira.atlassian.com/browse/CONFSERVER-38233\r\n* https://jira.atlassian.com/browse/CONFSERVER-43363\r\n\r\nh4. How to replicate\r\n\r\n1) Install Confluence version 7.4.11 server or datacenter. This was tested with 7.12 DC too.\r\n2) Attach the file from this bug report to a page and save it.\r\n3) Open the system monitor and start monitoring the Confluence services.\r\n4) Open the PDF file preview and check the system monitor for the CPU and memory increased usage.\r\n\r\nh4. Mitigation/workaround\r\n\r\nDisable the file conversion service for PDF as stated on this KB article:\r\n* [File conversion service causes out of memory errors in Confluence 5.7 or above|https://confluence.atlassian.com/confkb/file-conversion-service-causes-out-of-memory-errors-in-confluence-5-7-or-above-703398523.html]\r\n\r\nThe file can still be uploaded and downloaded from Confluence, but it will not be converted on the pages.",
      "summary": "PDF conversion process causing OOM"
    }
  },
  {
    "key": "CONFSERVER-73777",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-12T19:12:15.000+0000",
      "description": "As a user of Confluence Data Center, I'd like the ability to subscribe to a SharePoint calendar from within a Confluence Team Calendar. This way, events added to the SharePoint calendar automatically appear on the Confluence Team Calendar.",
      "summary": "Ability to subscribe to SharePoint calendar from within Confluence Team Calendar"
    }
  },
  {
    "key": "CONFSERVER-73766",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-12T12:39:13.000+0000",
      "description": "This option is available for [Jira|https://jira.atlassian.com/browse/JRASERVER-10544] and [Bamboo|https://jira.atlassian.com/browse/BAM-889] Application. It will be much useful to have the same option to disable Precedence Email header in Confluence.\r\n",
      "summary": "Option to disable Precedence Email header in Confluence"
    }
  },
  {
    "key": "CONFSERVER-73765",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-12T10:22:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCustom fields in Jira with a duplicate name to default Jira fields render empty data inside the Jira issue Macro in Confluence\r\nh3. Steps to Reproduce\r\n # Create a custom field in Jira with the name *Type*\u00a0and associate it with a Jira\u00a0Project screen.\r\n # Create a Jira Issue inside the Project and add the value to the custom field *Type*.\r\n # Insert a Jira Issues Macro into a Confluence page using a JQL and edit the columns to display to include the custom field *Type*.\r\n # Save the page.\r\n\r\nh3. Expected Results\r\nThe column for the custom field *Type*\u00a0and the data displayed correctly.\r\n\r\nh3. Actual Results\r\nThe column for the custom field *Type*\u00a0render an empty data.\r\n* !cfempty.png|thumbnail!\r\n\r\nh3. Workaround\r\nRename the custom field to a different name (for example *Newtype*).\r\n* !newtype.png|thumbnail!\r\n* !cfcorrected.png|thumbnail!\r\n\r\nh3. Notes\r\nThis behaviour appear to be intermittent. At some point, the custom field column get rendered or missing completely from the Jira Issue Macro.\r\n\r\n",
      "summary": "Custom fields in Jira with a duplicate name to default Jira fields render empty data inside the Jira issue Macro in Confluence"
    }
  },
  {
    "key": "CONFSERVER-73758",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-31T21:02:55.000+0000",
      "created": "2021-10-12T01:05:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nNew velocity lib\u00a0{{1.6.4-atlassian-23}} in confluence 7.13 prevent velocity template render correctly due to restricted class:\u00a0\r\n\r\nnet.java.ao.Entity,\r\n net.java.ao.RawEntity,\r\n net.java.ao.EntityProxyAccessor\r\nh3. Steps to Reproduce\r\n # Start confluence 7.14.x\r\n # Install plugin [https://marketplace.atlassian.com/apps/1211907/announcer-for-confluence/version-history]\r\n # Create announcer items, the items can't be rendered.\r\n\r\nh3. Expected Results\r\n\r\nAnnouncer items should be renders correctly and no error\r\nh3. Actual Results\r\n\r\nItems are rendered with blank contents\r\nh3. Workaround\r\n * Stop confluence\r\n * Edit file\u00a0 /WEB-INF/classes/velocity.properties\u00a0\r\n * update\u00a0introspector.allowlist.classes with values\r\n * \r\n{code:java}\r\nintrospector.allowlist.classes = java.io.Serializable,\\\r\njava.lang.reflect.Proxy,\\\r\nnet.sf.hibernate.proxy.HibernateProxy,\\\r\nnet.sf.cglib.proxy.Factory,\\\r\njava.io.ObjectInputValidation,\\\r\nnet.java.ao.Entity,\\\r\nnet.java.ao.RawEntity,\\\r\nnet.java.ao.EntityProxyAccessor {code}\r\n\r\n * Restart Confluence\r\n\r\nh3. Affected apps that have confirmed to be impacted\r\n- com.wittified.atl-announcer-confluence\r\n- com.stiltsoft.confluence.quiz\r\n\r\nh3. Notes\r\nFor other affected versions see:\r\n- 7.4.12: https://jira.atlassian.com/browse/CONFSERVER-73759\r\n- 7.13.1: https://jira.atlassian.com/browse/CONFSERVER-73758\r\n- 7.14.0: https://jira.atlassian.com/browse/CONFSERVER-73757",
      "summary": "Multiple apps cannot render velocity template in confluence 7.13.1"
    }
  },
  {
    "key": "CONFSERVER-73757",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-31T21:04:31.000+0000",
      "created": "2021-10-12T01:02:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nNew velocity lib\u00a0{{1.6.4-atlassian-23}} in confluence 7.14 prevent velocity template render correctly due to restricted class:\u00a0\r\n\r\nnet.java.ao.Entity,\r\nnet.java.ao.RawEntity,\r\nnet.java.ao.EntityProxyAccessor\r\nh3. Steps to Reproduce\r\n # Start confluence 7.14.x\r\n # Install plugin [https://marketplace.atlassian.com/apps/1211907/announcer-for-confluence/version-history]\r\n # Create announcer items, the items can't be rendered.\r\n\r\nh3. Expected Results\r\n\r\nAnnouncer items should be renders correctly and no error\r\nh3. Actual Results\r\n\r\nItems are rendered with blank contents\r\nh3. Workaround\r\n * Stop confluence\r\n * Edit file\u00a0 /WEB-INF/classes/velocity.properties\u00a0\r\n * update\u00a0introspector.allowlist.classes with values\r\n * \r\n{code:java}\r\nintrospector.allowlist.classes = java.io.Serializable,\\\r\njava.lang.reflect.Proxy,\\\r\nnet.sf.hibernate.proxy.HibernateProxy,\\\r\nnet.sf.cglib.proxy.Factory,\\\r\njava.io.ObjectInputValidation,\\\r\nnet.java.ao.Entity,\\\r\nnet.java.ao.RawEntity,\\\r\nnet.java.ao.EntityProxyAccessor {code}\r\n\r\n * Restart Confluence\r\n\r\nh3. Affected apps that have confirmed to be impacted\r\n- com.wittified.atl-announcer-confluence\r\n- com.stiltsoft.confluence.quiz\r\n\r\n\r\nh3. Notes\r\nFor other affected versions see:\r\n- 7.4.12: https://jira.atlassian.com/browse/CONFSERVER-73759\r\n- 7.13.1: https://jira.atlassian.com/browse/CONFSERVER-73758\r\n- 7.14.0: https://jira.atlassian.com/browse/CONFSERVER-73757",
      "summary": "Multiple apps cannot render velocity template in confluence 7.14"
    }
  },
  {
    "key": "CONFSERVER-73754",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-11T13:39:33.000+0000",
      "description": "While Jira supports Oauth via SMTP, confluence does not. Can this\u00a0feature be planned please?",
      "summary": "Oauth support via SMTP"
    }
  },
  {
    "key": "CONFSERVER-73725",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-11T11:12:26.000+0000",
      "description": "This feature request is to add the integration with Hashicorp Vault.",
      "summary": "Integration with Hashicorp Vault"
    }
  },
  {
    "key": "CONFSERVER-73614",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-08T19:10:27.000+0000",
      "description": "Please add Windows Batch Keyword highlighting as an option for Code blocks.\u00a0",
      "summary": "Add Windows Batch Keyword highlighting as an option for Code blocks"
    }
  },
  {
    "key": "CONFSERVER-73613",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-08T12:15:27.000+0000",
      "description": "In EVENTS table in Confluence, we have a column named Partition which is a reserved keyword in many Databases. Since,\u00a0Reserved words are\u00a0*not recommended*\u00a0for use as database, table, column, variable or other object names, this feature request is created to check the feasibility of modifying these reserved column names",
      "summary": "Avoid using Reserved Database Keywords like 'Partition' as Column names"
    }
  },
  {
    "key": "CONFSERVER-73612",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-08T09:53:44.000+0000",
      "description": "h3. Issue Summary\r\n\r\n*Page Properties Report* macro doesn't sort results from multiple result sections _(Number of items to display)_ when clicking on the *title* of the column, instead it sorts only the results from the displayed items.\u00a0Screen recording is enclosed to demonstrate the behaviour.\r\nh3. Steps to Reproduce\r\n # Create few pages with Page properties macro with a label\r\n # Create a page with page properties report macro to view the results from pages with the specified label\r\n # View the page with page properties report macro then Click on the title of the column\r\n\r\nh3. Expected Results\r\n\r\nThe items from all sections should be sorted\u00a0\u00a0\r\nh3. Actual Results\r\n\r\nThe items from the displayed page are sorted only, the rest of the items are ignored\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Page Properties Report macro does not sort results from multiple sections"
    }
  },
  {
    "key": "CONFSERVER-73611",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T16:46:35.000+0000",
      "description": "Similar to Jira's System Dashboard (pictured below), it would be great if Confluence Data Center offered a similar landing page that allowed for a system welcome message and login prompts.\u00a0\r\n\r\n!image-2021-10-07-12-41-54-748.png|width=541,height=149!\r\n\r\nWe offer this concept today through the [Confluence Dashboard|https://confluence.atlassian.com/doc/customizing-the-confluence-dashboard-169117112.html] BUT you need to enable Anonymous Access via Confluence's Global Permissions to view it without logging in.\u00a0 For any customer that has strict mandates to disable anonymous access, they lose the ability to offer a landing page and welcome message for non-authenticated users.\u00a0\r\n\r\nAlso note that lack of a landing page for non-anonymous sites limits options for customers that implement SAML SSO and need to specify a workable logout redirection URL.\u00a0\u00a0\r\n\r\n\u00a0",
      "summary": "Offer a publicly accessible Confluence landing page without enabling Anonymous Access"
    }
  },
  {
    "key": "CONFSERVER-73610",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T15:33:32.000+0000",
      "description": "h3. Problem\r\n\r\nWhen using the Office Excel macro to embed a Excel file (either XLS or XLSX), customer can modify the Column and row field to remove unwanted (blank) values.\r\n\r\nThis is not working properly as it needs the\u00a0 \"worksheet\" field to be modified so it actually apply.\r\n\r\n(check the attached gif for the reproduction steps)\r\nh3. Steps to Reproduce\r\n * Attach an excel file to a page\r\n * Create the Office excel macro and point it to the attached value\r\n * Modify either the Row or Column fields and save/update the page (just previweing the macro also has the issue).\u00a0\r\n\r\nh3. Expected Results\r\n\r\n_The page shows the excel file with the proper row/column numbers._\r\nh3. Actual Results\r\n\r\nThe macro don't change anything.\r\nh3. Workaround\r\n\r\n_If we, after changing the row/column value, also change the \"worksheet\" field, this works_",
      "summary": "Office macro Column and row count don't change unless \"worksheet\" value is changed"
    }
  },
  {
    "key": "CONFSERVER-73609",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T15:11:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a page is moved to a target location where custom sort is applied to a page tree all items are index within the subtree. \r\n\r\nThis can quickly overload the index queue if there are 50+ child pages as the page and its attachments must all be indexed.\r\n\r\nh3. Steps to Reproduce\r\n# Create\u00a0{{Parent A}}\u00a0with 10 children pages named\u00a0{{Child A1}}\u00a0-\u00a0{{Child A10}}.\r\n# Create\u00a0{{Parent X}}\u00a0with 100 children pages named\u00a0{{Child X1}}\u00a0-\u00a0{{Child X100}}.\r\n# Enable DEBUG logging for com.atlassian.confluence.internal.index.AbstractBatchIndexer, com.atlassian.confluence.search.lucene, and com.atlassian.bonnie.search.extractor\r\n#* The logging is very verbose, but atlassian-confluence.log will show all items being indexed for each move\r\n# Move Child A2 under Parent X\r\n\r\nh3. Expected Results\r\nYou should see only 3 pages being re-indexed (moved page, old parent and new parent).\r\n\r\nh3. Actual Results\r\nYou see over 100 pages being re-indexed (all children of\u00a0{{Parent X}}).\r\n\r\nh3. Workaround\r\n\r\nRestore alphabetic sort under *Space tools > Reorder pages*: [Move and Reorder Pages - Confluence|https://confluence.atlassian.com/doc/move-and-reorder-pages-146407727.html#MoveandReorderPages-Reorderpageswithinaspace]\r\n",
      "summary": "Page moves with custom sort inefficient indexing"
    }
  },
  {
    "key": "CONFSERVER-73608",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T13:25:29.000+0000",
      "description": "Currently it is possible to a space only, in case of a complex/large page tree it is convenient to search from the page you are on and downwards.",
      "summary": "Restrict the Livesearch macro to a page and its children pages"
    }
  },
  {
    "key": "CONFSERVER-73607",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T10:50:41.000+0000",
      "description": "h3. Issue Summary\r\nData inside the column containing non-latin character in the column name (for example, \"Coordinaci\u00f3n\") failed to load inside the *Page Properties Report Macro* if the *Columns to show* contain the affected column name.\r\n\r\nh3. Steps to Reproduce\r\n# Create a Page to insert the *Page Properties Macro*.\r\n# Inside the *Page Properties Macro* table, include a column name that contain a non-latin character (for example, \"Coordinaci\u00f3n\").\r\n#* !ppm1.png|thumbnail!\r\n# Create another Page to insert the *Page Properties Report Macro*.\r\n# Edit the *Page Properties Report Macro* configuration and include the column name that contain a non-latin character (for example, \"Coordinaci\u00f3n\") into the *Columns to show* field.\r\n#* !columnnotOK.png|thumbnail!\r\n# Preview the *Page Properties Report Macro*.\r\n\r\nh3. Expected Results\r\nThe column and the data inside the column that contain a non-latin character in the column name (for example, \"Coordinaci\u00f3n\") loaded inside the *Page Properties Report Macro*.\r\n* !columnOK.png|thumbnail!\r\n\r\nh3. Actual Results\r\nOnly the column that contain a non-latin character in the column name (for example, \"Coordinaci\u00f3n\") is displayed inside the *Page Properties Report Macro*. The column returned empty data.\r\n* !columnnotOK.png|thumbnail!\r\n\r\nh3. Workaround\r\n* *Workaround 1* - Rename the affected column inside the *Page Properties Macro* to remove the non-latin character. *OR*\r\n* *Workaround 2* -  Clear the *Columns to show* field inside the *Page Properties Report Macro* configuration.",
      "summary": "Page Properties Report Macro loaded empty data inside the column that contain the non-latin character in the column name"
    }
  },
  {
    "key": "CONFSERVER-73606",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T07:36:11.000+0000",
      "description": "Hello dear Atlassian team.\r\nFor what reasons may coloborate edit not work?\r\nIs it possible in the incompatibility of Jira versions with Confluence?\r\nJira Version 8.17.1\r\nConfluence Version7.13.0",
      "summary": "Does not work collaborate edit in confluence."
    }
  },
  {
    "key": "CONFSERVER-73604",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-06T20:19:17.000+0000",
      "description": "h3. Problem\r\nTeam Calendars 'who' field is limited to 10 values, this is becoming an issue when we have multiple users with similar names and userID. \r\nIt would be good to have the ability to show more results on the user-picker and scroll for the wanted user.\r\n\r\nh3. Suggested Solution\r\n_(Add a suggested solution once one has been determined)_\r\n\r\nh3. Why This Is Important\r\n_(Add a description for why this is important)_\r\n\r\nh3. Workaround\r\n_(Add a workaround, if available)_",
      "summary": "Change the user-picker limit on Team Calendar"
    }
  },
  {
    "key": "CONFSERVER-73603",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-06T18:49:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPage properties report sorting is not working if the field is formatted differently. For eg if a field is formatted as strong followed with span-tags and another page with same formatting but in reverse order i.e span-tags followed with strong or bold. And if we need to sort the data against that field then the sorting will not be proper.\r\nh3. Steps to Reproduce\r\n # Create 1st page using the storage format (SF1 attached)\r\n # Create 2nd page using the storage format (SF2 attached)\r\n # Create 3rd page using the storage format (SF3 attached)\r\n # Add desired label to all these pages\r\n # Finally the 3 pages looked as below:\r\n !Screenshot 2021-10-07 at 12.09.15 AM.png! \r\n !Screenshot 2021-10-07 at 12.09.23 AM.png! \r\n !Screenshot 2021-10-07 at 12.09.30 AM.png!\r\n # Create a new page with Page Properties Report Macro and add all the fields under \"Columns to show\" and Sort by \"Letter\" (this field is differently formatted in each pages)\r\n # We notice that the column is not sorted as desired.\r\n !Screenshot 2021-10-07 at 12.18.19 AM.png|thumbnail! \r\n\r\nh3. Expected Results\r\n\r\nThe column which is mentioned under \"Sort by\", should get sorted appropriately. As user will not be able to remember which order the formats were applied to the fields.\r\nh3. Actual Results\r\n\r\nThe sort by column is not sorted properly.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Page properties report sorting is not working if the field is formatted differently."
    }
  },
  {
    "key": "CONFSERVER-73602",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-06T07:25:40.000+0000",
      "description": "h3. Problem definition\r\n\r\nCurrently, Confluence does not officially support EnterpriseDB Postgres database.\r\nh3. Suggested resolution\r\n\r\nImplement and introduce official support for the aforementioned database.",
      "summary": "Support for EnterpriseDB Postgres"
    }
  },
  {
    "key": "CONFSERVER-73600",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-06T02:45:49.000+0000",
      "description": "h3. Problem\r\n\r\nA security scanner found that that with the Confluence pdfexport link, it could put an arbitrary value into the contenttype parameter and get it back in the Content-Type header:\r\n\r\n/confluence/download/temp/pdfexport-20210928-280921-0634-3/test-file-\r\n280921-0634-4.pdf?contentType=bogus-value\r\n\r\n==>\r\n\r\n{noformat}\r\nSet-Cookie: JSESSIONID=C674......; Path=/con [...]\r\nContent-Disposition: attachment; filename=\"test-file-280921-063 [...]\r\nContent-Type: bogus-value;charset=UTF-8\r\nContent-Length: 7692\r\nStrict-Transport-Security: max-age=63072000; includeSubdomains\r\n{noformat}\r\n\r\n\u00a0\r\nh4. Steps to Reproduce\r\n * When you go on a Confluence page and click on the\u00a0!https://confluence.atlassian.com/conf74/files/1003127979/1003127980/1/1587519096742/ellipsis.png|width=22!\u00a0\u00a0>\u00a0*Export to PDF*\r\n ** temporary files will be generated in the <confluence-home-directory>/temp folder\r\n ** The call on the URL <yourConfluenceBaseURL>/spaces/flyingpdf/pdfpageexport.action?pageId=<thePageID>/to export the file will be redirected by the application to point to this file and that's when the contentType is also being dynamically populated in the URL in my example it was\r\n{code:java}\r\n<confluencecontextpath>/download/temp/pdfexport-20210929-290921-1420-13/Example-file_e2ecb181551b4c21bebef4eb46476faa-290921-1420-14.pdf?contentType=application/pdf\"{code}\r\n\r\n ** In our testing, if we remove the contentType from the URL or add a bogus content type I can still download the PDF file which I believe won't be the expected outcome\u00a0(x)\r\n\r\nh3. Suggested Solution\r\n\r\nPrevent this contentType parameter to be passed to the URL if doable\r\nh3. Why This Is Important\r\n\r\nLetting the Content-Type header be controlled by the URL is a security risk. This could be used in code injection attacks - such as including JavaScript in a page with the code Origin being the Confluence server.\r\n\r\nWe believe the actual risk is quite mitigated in this specific scenario by: (1) the URL only serving exported PDF versions of the page and (2) the headers including {{{{Content-Disposition: attachment}}}}, which should force the browser to only offer saving the contents as a file.\r\nh3. Workaround\r\n\r\n_N/A_",
      "summary": "Prevent PDFExport handler to pass ContentType parameter directly in the URL"
    }
  },
  {
    "key": "CONFSERVER-73598",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-25T02:59:30.000+0000",
      "created": "2021-10-06T00:35:53.000+0000",
      "description": "Summary\u00a0\r\n # DCD team uses [smoke test\u00a0|https://bitbucket.org/atlassian/dcd-builds-resources/src/confluence-smoke-test-fix/confluence-dc-smoke-test-suite]in cloudformation Bamboo builds\r\n # Confluence(ver 7.13.0) smoke tests failed on AWS Quickstart builds when running SetupAcceptanceTest.\r\n\r\n # The test is searching for keyword \"License key\" on license page but what shows up on confluence is \"Enter your Confluence license key\"\r\n # Changed Setup to look for \"Enter your Confluence license key\" when setup type is AWS_CLUSTER\r\n\r\nProblem: The test is searching for keyword \"License key\" on license page but what shows up on confluence is \"Enter your Confluence license key\"\r\n\r\nSteps to Reproduce\r\n # Provision Confluence 7.13.0 using cloud formation\r\n # Run Smoke Test suite (Refer to pom.xml file below)\u00a0\r\n{code:java}\r\nmvn -B -e -nsu clean verify -Dbaseurl=<url> -Dconfluence.version=<version>{code}\r\n\r\nError log\r\n{code:java}\r\nerror 02-Sep-2021 09:58:31 \r\nerror 02-Sep-2021 09:58:31 \r\nerror 02-Sep-2021 09:58:31 <meta name=\"ajs-version-number\" content=\"7.13.0\"> \r\nerror 02-Sep-2021 09:58:31 <link rel=\"shortcut icon\" href=\"$webResourceManager.getGlobalCssResourcePrefix()/favicon.ico\"> \r\nerror 02-Sep-2021 09:58:31 <link rel=\"icon\" type=\"image/x-icon\" href=\"$webResourceManager.getGlobalCssResourcePrefix()/favicon.ico\"> \r\nerror 02-Sep-2021 09:58:31 </head> \r\nerror 02-Sep-2021 09:58:31 <body class=\"aui-layout aui-page-focused aui-page-focused-large setup\"> \r\nerror 02-Sep-2021 09:58:31 <div id=\"page\"> \r\nerror 02-Sep-2021 09:58:31 <header id=\"header\"> \r\nerror 02-Sep-2021 09:58:31 <nav class=\"aui-header aui-dropdown2-trigger-group\"> \r\nerror 02-Sep-2021 09:58:31 <div class=\"aui-header-inner\"> \r\nerror 02-Sep-2021 09:58:31 <div class=\"aui-header-primary\"> \r\nerror 02-Sep-2021 09:58:31 <h1 id=\"logo\" class=\"aui-header-logo aui-header-logo-aui\"> \r\nerror 02-Sep-2021 09:58:31 <h1 id=\"logo\" class=\"aui-header-logo aui-header-logo-confluence\"> \r\nerror 02-Sep-2021 09:58:31 <a href=\"/\"> \r\nerror 02-Sep-2021 09:58:31 <span class=\"aui-header-logo-device\">Confluence</span> \r\nerror 02-Sep-2021 09:58:31 </a> \r\nerror 02-Sep-2021 09:58:31 </h1> \r\nerror 02-Sep-2021 09:58:31 </h1> \r\nerror 02-Sep-2021 09:58:31 </div> \r\nerror 02-Sep-2021 09:58:31 <div class=\"aui-page-header-actions\"> \r\nerror 02-Sep-2021 09:58:31 </div> \r\nerror 02-Sep-2021 09:58:31 </div> \r\nerror 02-Sep-2021 09:58:31 </nav> \r\nerror 02-Sep-2021 09:58:31 </header> \r\nerror 02-Sep-2021 09:58:31 <div id=\"setup-content\" role=\"main\"> \r\nerror 02-Sep-2021 09:58:31 <div class=\"aui-page-panel\"> \r\nerror 02-Sep-2021 09:58:31 <div class=\"page-header-box\"> \r\nerror 02-Sep-2021 09:58:31 <div class=\"page-header-box__page-header-title\"> \r\nerror 02-Sep-2021 09:58:31 <h1 class=\"pageheader\">Enter your Confluence license key</h1> \r\nerror 02-Sep-2021 09:58:31 </div> \r\nerror 02-Sep-2021 09:58:31 <div class=\"page-header-box__page-header-actions\"> \r\nerror 02-Sep-2021 09:58:31 error 02-Sep-2021 09:58:31 </div> \r\nerror 02-Sep-2021 09:58:31 <div style=\"clear:both;\"></div> \r\nerror 02-Sep-2021 09:58:31 </div> \r\nerror 02-Sep-2021 09:58:31 <div class=\"aui-page-panel-inner\"> \r\nerror 02-Sep-2021 09:58:31 <div class=\"aui-page-panel-content\"> \r\nerror 02-Sep-2021 09:58:31 \r\nerror 02-Sep-2021 09:58:31 <meta name=\"ajs-server-id\" content=\"BDOX-I9GA-6X47-RALO\"> \r\nerror 02-Sep-2021 09:58:31 <meta name=\"ajs-setup-session-id\" content=\"583d33ff-2648-4bc5-814d-e3c49f41f25e\"> \r\nerror 02-Sep-2021 09:58:31 <meta name=\"ajs-SEN\" content=\"\"> error 02-Sep-2021 09:58:31 error 02-Sep-2021 09:58:31 error 02-Sep-2021 09:58:31 <form method=\"POST\" action=\"dosetuplicense.action\" name=\"licenseform\" id=\"licenseform\" class=\"aui\"> error 02-Sep-2021 09:58:31 error 02-Sep-2021 09:58:31 error 02-Sep-2021 09:58:31 <div id=\"action-messages\"> \r\nerror 02-Sep-2021 09:58:31 </div> error 02-Sep-2021 09:58:31 \r\nerror 02-Sep-2021 09:58:31 build 02-Sep-2021 09:58:31 [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 3.061 s <<< FAILURE! - in com.atlassian.confluence.setup.SetupAcceptanceTest error 02-Sep-2021 09:58:31 build 02-Sep-2021 09:58:31 [ERROR] testInstall(com.atlassian.confluence.setup.SetupAcceptanceTest) Time elapsed: 3.005 s <<< FAILURE! error 02-Sep-2021 09:58:31 build 02-Sep-2021 09:58:31 org.junit.ComparisonFailure: expected:<[L]icense key - Conflue...> but was:<[Enter your Confluence l]icense key - Conflue...>\r\n{code}\r\nFixes/Tests\r\n # [Change the getFirstPage() on SetupWizard.java to have \"Enter your Confluence license key\" as header when setup is AWS-cluster|https://stash.atlassian.com/projects/CONFSERVER/repos/confluence/pull-requests/14334/diff#confluence-test/confluence-acceptance-test/src/main/java/com/atlassian/confluence/setup/SetupAcceptanceTest.java]\r\n # Cut a custom release\r\n # Run a smoke test with new release\r\n # [Test passed|https://server-syd-bamboo.internal.atlassian.com/browse/ZDCD-AWSCONFLUENCE-CSMOKDEPLOY-79/log]",
      "summary": "Fix smoke test for ver 7.13.0 AWS Quickstart Env"
    }
  },
  {
    "key": "CONFSERVER-73597",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-05T15:09:34.000+0000",
      "description": "The Space export section shows a misleading text for XML export -\r\n \"_Generates an XML file for each page in this space, including those not visible to you. The export includes comments and attachments, +but excludes blog posts+._\"\r\n\r\nThis is not true, as per\u00a0[Export-content-to-word-pdf-html-and-xml|https://confluence.atlassian.com/doc/export-content-to-word-pdf-html-and-xml-139475.html]\u00a0the XML export contains Blogpost.\r\n\r\nThis needs to be corrected as it sets a wrong expectation to the potential migrators to the cloud using space export and import as their strategy.",
      "summary": "XML Space export section shows misleading text for blogposts export"
    }
  },
  {
    "key": "CONFSERVER-73595",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-04T19:54:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCharts Macro is not converting the data from an Office Excel Macro into charts.\r\nh3. Steps to Reproduce\r\n # Create a page in Confluence.\r\n # Upload a excel file.\r\n # Add a chart macro and and excel macro reading the uploaded excel file within the Chart Macro.\r\n # Save the page\r\n\r\nh3. Expected Results\r\n\r\nWhen testing the same configuration in older versions like 7.6.x the combination of both macros works normally like the following image:\r\n !conf-7.6.png|width=387,height=247!\r\nh3. Actual Results\r\n\r\nThe macro don't work and it presents that the error \"No Data Available\" like in the following image:\r\n !conf-7.13.png|width=389,height=326!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Charts Macro not rendering tables from the Office Excel Macro."
    }
  },
  {
    "key": "CONFSERVER-73594",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-04T14:37:19.000+0000",
      "description": "h3. Issue Summary\r\nFirefox and Chrome will show different text inside Jira Issue Macro columns if the text has brackets, like \"Fix Version(S)\" or \"Affected Version(S)\".\r\n\r\nh3. Steps to Reproduce\r\n # Connect Confluence with Jira.\r\n # Add Jira issue macro table with additional columns like \"Fix Version(S)\" or \"Affected Version(S)\".\r\n# Publish the page\r\n\r\nh3. Expected Results\r\nIn the view mode, in Chrome and Firefox, you will see \"Fix Version(S)\" or \"Affected Version(S)\"\r\n\r\nh3. Actual Results\r\nIn Firefox you will see \"Fix Version(s)\" or \"Affected Version(s)\"\r\n\r\nh3. Workaround\r\nThe issue comes from inconsistent rendering from Chrome and Firefox.\r\nA potential workaround can be to add a global javascript that will add a space before the open bracket, to create a new word that will be capitalised.\r\n{code}\r\n<script>\r\n    setTimeout(function(){\r\n        var columns = document.getElementsByClassName(\"jim-table-header-content\");\r\n        for (var i = 0; i < columns.length; i++) {\r\n           document.getElementsByClassName(\"jim-table-header-content\")[i].innerHTML = document.getElementsByClassName(\"jim-table-header-content\")[i].innerHTML.replace(/(?=[^\\n+])\\(/g, \" (\");\r\n       }\r\n   },1000); //delay is in milliseconds \r\n</script>\r\n{code}",
      "summary": "Inconsistent capitalization of letters for text inside brackets in Jira issue macro column"
    }
  },
  {
    "key": "CONFSERVER-73593",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-04T06:20:01.000+0000",
      "description": "h3. Issue Summary\r\nConfluence Lucene connection uses NIOFSDirectory implementation rather than MMapDirectory in Java 11 \r\n\r\nh3. Steps to Reproduce\r\n # Install any Confluence version above 7.X that has support for Java 11\r\n # The underlying Lucene uses NIOFSDirectory implementation rather than MMapDirectory which is more efficient\r\n\r\nh3. Expected Results\r\n\r\nConfluence should use MMapDirectory with Java 11 as it was with Java 8\r\n\r\nh3. Actual Results\r\n\r\nConfluence uses NIOFS implementation . This can result in multiple outcomes\r\n# At scale, this method can be notably less performant for index lookups and searches\r\n# Conditionally this results in situations where customers are presented with below error that requires a restart of the instance\r\n{code}\r\naused by: java.io.IOException: null: NIOFSIndexInput(_f2fd_Lucene41_0.tim in path=\"/var/atlassian/application-data/confluence/index/_f2fd.cfs\" slice=2604086:9597840)\r\n\tat org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NIOFSDirectory.java:191)\r\n\t... 143 more\r\nCaused by: java.nio.channels.ClosedByInterruptException\r\n{code}\r\nThis is a known behaviour for NIOFS class https://lucene.apache.org/core/3_5_0/api/all/org/apache/lucene/store/NIOFSDirectory.html\r\n** NOTE: Accessing this class either directly or indirectly from a thread while it's interrupted can close the underlying file descriptor immediately if at the same time the thread is blocked on IO. The file descriptor will remain closed and subsequent access to NIOFSDirectory will throw a ClosedChannelException. If your application uses either Thread.interrupt() or Future.cancel(boolean) you should use SimpleFSDirectory in favor of NIOFSDirectory.\r\n\r\nh3. Workaround\r\n\r\nDowngrade to Java 8",
      "summary": "In Confluence, Lucene connection uses NIOFSDirectory implementation rather then MMapDirectory in Java 11"
    }
  },
  {
    "key": "CONFSERVER-73541",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-01T13:17:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUpgrading Confluence to 7.12.2 results in Custom Fields from Jira getting displayed in lower case and disappearing from field selection section\r\nh3. Steps to Reproduce\r\n # Jira v8.17.0 installed\r\n # Jira and Confluence are linked by an application link\r\n # Jira Issues Macro is added to Confluence page with custom fields shown and populated\r\n # Upgrade Confluence to 7.12.2\r\n\r\n!Screenshot 2021-10-01 at 12.01.20.png|width=495,height=231!\r\nh3. Expected Results\r\n\r\nJira Macro on Confluence is displaying all fields as they were before upgrade\r\nh3. Actual Results\r\n\r\nJira Macro on Confluence is showing all custom fields lower case\r\n Some of the fields are not available for selection in field list\r\n Some custom field data might not get populated\r\n\r\n!Screenshot 2021-10-01 at 13.45.04.png|width=491,height=229!\r\nh3. Workaround\r\n\r\nRe-adding macro to the page will fix the custom fields\r\n Upgrading pre 7.12.2 Confluence to 7.13.1 will not result in custom fields being displayed as lower case, but if custom fields got broken by upgrade to 7.12.2, then upgrading to 7.13.1 will not fix them.",
      "summary": "Upgrading Confluence to 7.12.2 will result in custom fields being shown in lowercase"
    }
  },
  {
    "key": "CONFSERVER-73525",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-01T09:14:36.000+0000",
      "description": "h4. Summary\r\n\r\nWhile previewing any PDF space export in the PDF viewer, the sidebar is missing in the preview.\u00a0\r\n\r\nFor big PDF document, the sidebar would help the users to quickly navigate to the desired pages.\r\n\r\n!Screenshot 2021-10-01 at 2.39.51 PM.png|thumbnail!\r\n\r\n!Screenshot 2021-10-01 at 2.41.38 PM.png|thumbnail!\r\nh4. Suggestion\r\n\r\nTo include the sidebar in the PDF preview for the ease of navigating to the pages.",
      "summary": "Include sidebar in PDF preview for space export"
    }
  },
  {
    "key": "CONFSERVER-73522",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-30T13:46:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen importing a Word document to Confluence and the Word file contains headings, an image, and a [Table of Content|https://support.microsoft.com/en-us/office/insert-a-table-of-contents-882e8564-0edb-435e-84b5-1d8552ccf0c0], the import appears to fail as an error message is displayed. In the background, the import seems to have succeeded as the pages were created successfully.\r\n\r\nh3. Steps to Reproduce\r\n # Open a Confluence page\u00a0and click on {{...}} > {{Import Word Document}}.\r\n # Upload any Word document that contains Heading 1 text, an image, as well as a Table of Content.\r\n #* This file is a sample:  [^Test document with image and ToC.docx] \r\n # For *Split by heading*, choose *Level 1 Headings*.\r\n # Click on *Import*.\r\n\r\nh3. Expected Results\r\nThe import should succeed with no error messages.\r\n\r\nh3. Actual Results\r\nThis error appears in the UI:\r\n\r\n!HTTP 500 Internal Server Error.png|thumbnail!\r\n\r\nThe below exception is thrown in the {{atlassian-confluence.log}} file:\r\n{code}\r\n2021-09-30 15:42:59,034 ERROR [http-nio-27130-exec-10] [org.hibernate.internal.ExceptionMapperStandardImpl] mapManagedFlushFailure HHH000346: Error during managed flush [Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.atlassian.confluence.pages.Page#1409056]]\r\n -- url: /c7130/pages/worddav/doimportword.action | traceId: ecdd62701881e0bf | userName: admin | referer: http://localhost:27130/c7130/pages/worddav/importword.action?pageId=360451\r\n2021-09-30 15:42:59,036 WARN [http-nio-27130-exec-10] [net.sf.hibernate.StaleObjectStateException] <init> An operation failed due to stale data\r\n -- url: /c7130/pages/worddav/doimportword.action | traceId: ecdd62701881e0bf | userName: admin | referer: http://localhost:27130/c7130/pages/worddav/importword.action?pageId=360451\r\nnet.sf.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.atlassian.confluence.pages.Page#1409056]\r\n\tat com.atlassian.hibernate.adapter.adapters.HibernateExceptionAdapter.adaptStaleObjectStateException(HibernateExceptionAdapter.java:580)\r\n\tat com.atlassian.hibernate.adapter.adapters.HibernateExceptionAdapter.adaptOptimisticLockException(HibernateExceptionAdapter.java:551)\r\n\tat com.atlassian.hibernate.adapter.adapters.HibernateExceptionAdapter.adaptImpl(HibernateExceptionAdapter.java:102)\r\n\tat com.atlassian.hibernate.adapter.adapters.HibernateExceptionAdapter.adapt(HibernateExceptionAdapter.java:40)\r\n\tat com.atlassian.hibernate.adapter.adapters.TransactionV2Adapter.commit(TransactionV2Adapter.java:34)\r\n\tat org.springframework.orm.hibernate.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:510)\r\n\tat com.atlassian.confluence.impl.hibernate.ConfluenceHibernateTransactionManager.doCommit(ConfluenceHibernateTransactionManager.java:69)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n...\r\n2021-09-30 15:42:59,039 WARN [http-nio-27130-exec-10] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doCommit Commit failed. Rolling back. Error: Object of class [com.atlassian.confluence.pages.Page] with identifier [1409056]: optimistic locking failed; nested exception is net.sf.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.atlassian.confluence.pages.Page#1409056]\r\n -- url: /c7130/pages/worddav/doimportword.action | traceId: ecdd62701881e0bf | userName: admin | referer: http://localhost:27130/c7130/pages/worddav/importword.action?pageId=360451\r\n2021-09-30 15:42:59,039 WARN [http-nio-27130-exec-10] [confluence.impl.hibernate.ConfluenceHibernateTransactionManager] doRollback Performing rollback. Transactions:\r\n  ->[null]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT (Session #358820460)\r\n -- url: /c7130/pages/worddav/doimportword.action | traceId: ecdd62701881e0bf | userName: admin | referer: http://localhost:27130/c7130/pages/worddav/importword.action?pageId=360451\r\n2021-09-30 15:42:59,040 ERROR [http-nio-27130-exec-10] [atlassian.confluence.servlet.ConfluenceServletDispatcher] sendError Could not execute action\r\n -- url: /c7130/pages/worddav/doimportword.action | traceId: ecdd62701881e0bf | userName: admin | referer: http://localhost:27130/c7130/pages/worddav/importword.action?pageId=360451\r\norg.springframework.orm.hibernate.HibernateOptimisticLockingFailureException: Object of class [com.atlassian.confluence.pages.Page] with identifier [1409056]: optimistic locking failed; nested exception is net.sf.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.atlassian.confluence.pages.Page#1409056]\r\n...\r\nCaused by: net.sf.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.atlassian.confluence.pages.Page#1409056]\r\n{code}\r\n\r\nOnce you navigate back to the site, you'll notice that the pages were successfully created despite the error messages.\r\n\r\nh3. Workaround\r\nRemove the ToC from the Word document or remove the attachment before importing the file to Confluence.",
      "summary": "Importing a Word document that contains a Table of Content produces a HibernateOptimisticLockingFailureException error message"
    }
  },
  {
    "key": "CONFSERVER-73517",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-29T14:59:47.000+0000",
      "description": "h3. Issue Summary\r\nUnder certain conditions it's possible to enumerate valid usernames by replaying one of the password reset HTTP requests.\r\n\r\nh3. Steps to Reproduce\r\n # Request a password reset email\r\n # Open the password reset mail and click the link to open your browser\r\n # Intercept the POST request of the actual password entry saving (ie; Enter password twice and save, that is the request to capture.)\r\n# Replay that post after change the email in the request URI\r\n# It will validate whether that account does not exist or if it does\r\n\r\nh3. Expected Results\r\nIt should not be possible to determine valid usernames by replaying requests.\r\n\r\nh3. Actual Results\r\nBy replaying the mentioned request it is possible to confirm valid usernames.\r\n\r\nh3. Workaround\r\n\r\n(i) A suggestion was made '_The main problem is that the username is checked before the reset-token. It should be the other way around, so if you do not have a valid token you always get the same error message_.'",
      "summary": "Replaying / intercepting a password reset POST request can allow for valid username enumeration"
    }
  },
  {
    "key": "CONFSERVER-73516",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-29T13:50:05.000+0000",
      "description": "h3. Problem\r\n\r\nOnlinehelp refers to https://docs.atlassian.com/confluence/docs-713/ which is not accessible without Atlassian Account\r\nh3. Suggested Solution\r\n\r\n_Revert the Online Helpers button to the external documentation link\u00a0[https://confluence.atlassian.com/doc/confluence-data-center-and-server-documentation-135922.html]_\r\n\r\nWhy This Is Important\r\n\r\n_It creates a big hassle for users and also increases the time to get a kb._\r\nh3. Workaround\r\n\r\n_Manually access\u00a0[https://confluence.atlassian.com/doc/confluence-data-center-and-server-documentation-135922.html]_",
      "summary": "Online Helpers need refers to a page that needs authentication"
    }
  },
  {
    "key": "CONFSERVER-73515",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-29T04:15:08.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPreview of Microsoft Docs does not shows all informations correctly and also the characters of the page title is not displayed in a single line as it shows in the word document\r\nh3. Steps to Reproduce\r\n # Create a Page\r\n # Attach the word document which is attached here in the ticket\r\n # Publish the Page\r\n # Now click on the word doc to preview\r\n # Also open the Microsoft doc separately to compare side by side\r\n\r\nh3. Expected Results\r\n * The page title does not fits in a single line while previewing the word doc\r\n * Few lines that are present in the Microsoft doc is also not previewed ( screenshots attached )\r\n\r\nh3. Actual Results\r\n * Its expected to display exactly similar in Preview mode as it shows while opening the doc in Microsoft doc application.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Preview of Microsoft Docs does not shows all informations correctly"
    }
  },
  {
    "key": "CONFSERVER-73514",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-29T02:25:04.000+0000",
      "description": "h3. Problem\r\n\r\nAncestor table corruption logs should be logged in the main atlassian-confluence.log files as opposed to atlassian-confluence-security.log which should only contain information related to [users and user directories|https://confluence.atlassian.com/doc/working-with-confluence-logs-108364721.html]. \r\n\r\nThis makes is harder to detect and issues related to ancestor table can remain masked.\r\n\r\n\r\nh3. Environment\r\n\r\nConfluence v7.11\r\n\r\nh3. Steps to Reproduce\r\n\r\nWhen ancestor table is corrupted we can see logs like follows,\r\n{code}\r\n2021-09-27 11:45:46,460 ERROR [https-jsse-nio-8443-exec-32] [persistence.dao.hibernate.HibernateContentPermissionSetDao] logAncestorsTableFailure Detected ancestors table corruption for pageId: 28512155. Access to this page is blocked for all users as inherited permissions cannot be determined. To resolve this, rebuild the ancestors table. See https://confluence.atlassian.com/display/DOC/Rebuilding+the+Ancestor+Table\r\n -- referer: https://confluenec/users/viewmydrafts.action | url: /pages/createpage.action | traceId: 7e2b2c09711150e3 | userName: admin\r\n{code}\r\n\r\n\r\nh3. Expected Results\r\nThese logs should go under the main {{atlassian-confluence.log}} files\r\n\r\nh3. Actual Results\r\nThe logs are printed under {{atlassian-confluence-security.log}}\r\n\r\nh3. Workaround\r\nNo known workaround available for this.",
      "summary": "Ancestor table corruption is logged in atlassian-confluence-security logs"
    }
  },
  {
    "key": "CONFSERVER-73513",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-28T19:08:54.000+0000",
      "description": "h3. Problem Definition  \r\nCurrently, users can change the space's logo without administrators' knowledge, which might disrupt Confluence's organization and standardization.\r\n\r\nh3. Suggested Solution  \r\nAdd an option that allows only administrators to change the space logo.\r\n\r\nh3. Why this is important   \r\nThis is important for standardizing Confluence and administering the instance as per each company use case.\r\n\r\nh3. Workaround \r\nN/A",
      "summary": "Prevent users from changing the space logo"
    }
  },
  {
    "key": "CONFSERVER-73512",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-28T15:59:43.000+0000",
      "description": "h3. Issue Summary\r\nInstaller points to non-existing directory when it can't find previous install\r\n\r\nh3. Steps to Reproduce\r\n* Download installer\r\n* Select upgrade option\r\n\r\nh3. Expected Results\r\n* Installer should indicate it can't find the directory\r\n\r\nh3. Actual Results\r\n\r\n* Default directory points to */opt/Confluence*, which does not exist\r\n\r\nh3. Workaround\r\n\r\nEnter your desired directory at the *Existing installation directory:* prompt",
      "summary": "Installer points to non-existing directory when it can't find previous install"
    }
  },
  {
    "key": "CONFSERVER-73511",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-28T14:12:26.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen an *Expand macro*\u00a0is inserted inside a *header table cell* , the page does not scroll correctly in view mode after expanding the macro.\r\nh3. Steps to Reproduce\r\n # Create a page\r\n # Insert Table Header cell\r\n # Insert *Expand Macro* inside the *table header cell*\r\n # Publish page\r\n # View the page and expand the macro\r\n\r\nh3. Expected Results\r\n\r\nThe page should scroll without issues\r\nh3. Actual Results\r\n\r\nPage can't be scrolled correctly and it keeps resetting position\u00a0\r\nh3. Workaround\r\n\r\nRemove expand macro from the table header cell, and use a Panel macro instead as the container",
      "summary": "Inserting Expand Macro inside a table header cell causes pages not to scroll correctly"
    }
  },
  {
    "key": "CONFSERVER-73510",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-12T05:54:08.000+0000",
      "created": "2021-09-28T06:25:53.000+0000",
      "description": "\r\nh3. Problem\r\nWhen editing a Confluence table and merging all headers A, B, C with subsequent cells: the table formatting will break.\r\n\r\nh3. Environment\r\nConfluence 7.13\r\n\r\nh3. Steps to Reproduce\r\n# Create a new Confluence page with the storage format below\r\n{code:XML}<p class=\"auto-cursor-target\"><br /></p>\r\n<table><colgroup><col /><col /><col /></colgroup>\r\n<tbody>\r\n<tr>\r\n<th>A</th>\r\n<th>B</th>\r\n<th>C</th></tr>\r\n<tr>\r\n<td>1</td>\r\n<td>2</td>\r\n<td>3</td></tr>\r\n<tr>\r\n<td>4</td>\r\n<td>5</td>\r\n<td>6</td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p>{code}\r\n# Merge cell A and cell 1\r\n# Merge cell B and cell 2\r\n# Merge cell C and cell 3\r\n\r\nh3. Expected Results\r\nCells 4, 5, and 6 should be one row under the new header line cells A1, B2, and C3.\r\n\r\nh3. Actual Results\r\nCells 4, 5, and 6 are on the same row as the previous header line cells A1, B2, and C3.\r\n\r\nh3. Workaround\r\nN/A\r\n\r\nh3. Notes\r\nSmall Recording attached to illustrate the behavior",
      "summary": "Merging All Table header cells with Subsequent Cells break the Table Format"
    }
  },
  {
    "key": "CONFSERVER-73509",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-27T21:31:50.000+0000",
      "description": "h3. Problem\r\n\r\nThe Content Indexing UI is unable to detect a reindexing is running when it was initiated at startup. This happens when a rebuild from scratch is being performed.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Stop Confluence on one node\r\n# Add the following system property:\r\n{code}\r\nconfluence.cluster.index.recovery.num.attempts=0\r\n{code}\r\n# Delete the *index* and *journal* folders from Confluence Home\r\n# Start the application\r\n# Visit the Content Indexing page\r\n(!) The node will take longer than usual to start as it is processing the index.\r\n\r\nh3. Expected Results\r\n\r\nReindex progress is reported.\r\n\r\nh3. Actual Results\r\n\r\nNo reindex progress is reported on that page.\r\n\r\nh3. Workaround\r\n\r\nEither follow the progress on the *atlassian-confluence-index.log* or through the following endpoint:\r\n{code}\r\n<Confluence-URL>/json/reindextaskprogress.action\r\n{code}\r\n\r\nSample response:\r\n{code}\r\n{\"total\":\"1225758\",\"percentageComplete\":\"91\",\"compactElapsedTime\":\"00:12:20\",\"count\":\"1116938\"}\r\n{code}",
      "summary": "Confluence Content Indexing UI does not report progress of a rebuild from scratch"
    }
  },
  {
    "key": "CONFSERVER-73508",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-27T21:13:25.000+0000",
      "description": "h3. Problem\r\n\r\nThe logic to calculate the index size for one of the analytics events (finished_indexing) is not working since the index was split into content and change segments.\r\nh3. Environment\r\n\r\nConfluence cluster with two or more nodes on version 7.9+ (tested with 7.13)\r\nh3. Steps to Reproduce\r\n # Stop Confluence on all nodes\r\n # Add the following system property as you would do for a manual rebuild from scratch:\r\n{code:java}\r\nconfluence.cluster.index.recovery.num.attempts=0\r\n{code}\r\n\r\n # Do not delete the index folder, just start the nodes\r\n # Go to *General Configuration > Content Indexing* and click *Rebuild*\r\n\r\nh3. Expected Results\r\n\r\nIndex rebuild and propagation finishes without errors or warning messages. An analytics event (finished_indexing) is captured which contains index type and size.\r\nh3. Actual Results\r\n\r\nIndex rebuild and propagation completes, but the analytics event cannot be captured and the following warning is seen in the {*}atlassian-confluence-index.log{*}:\r\n{code:java}\r\n2021-09-27 20:59:15,518 WARN [lucene-interactive-reindexing-thread] [internal.index.lucene.LuceneIndexHelper] sizeOfIndexMB Cannot determine size of index located at change\r\n -- referer: http://10.125.90.153:8090/plugins/servlet/rebuildindex | url: /rest/prototype/latest/index/reindex | traceId: 5ad7ec4c52bda48a | userName: admin\r\njava.nio.file.NoSuchFileException: change\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:432)\r\n\tat java.base/java.nio.file.Files.newDirectoryStream(Files.java:472)\r\n\tat java.base/java.nio.file.Files.list(Files.java:3699)\r\n\tat com.atlassian.confluence.internal.index.lucene.LuceneIndexHelper.listRegularFilesNonRecursive(LuceneIndexHelper.java:91)\r\n\tat com.atlassian.confluence.internal.index.lucene.LuceneIndexHelper.sizeOfIndex(LuceneIndexHelper.java:37)\r\n\tat com.atlassian.confluence.internal.index.lucene.LuceneIndexHelper.sizeOfIndexMB(LuceneIndexHelper.java:52)\r\n\tat com.atlassian.confluence.impl.index.DefaultIndexRecoveryService.onReIndexFinishedEvent(DefaultIndexRecoveryService.java:436)\r\n{code}\r\n",
      "summary": "Confluence index size calculation not working for manual reindex from scratch after split index upgrade task"
    }
  },
  {
    "key": "CONFSERVER-73507",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-16T06:53:31.000+0000",
      "created": "2021-09-27T11:05:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *Grey color shades* in Confluence 7.13 version does not actually looks to be grey rather it looks *blue*\r\nh3. Steps to Reproduce\r\n # Add a table in a Page\r\n # Click on any cell and headover to the cell background color menu at the tool bar\r\n # Choose the different grey shades and fill the cell one by one starting to choose the top Grey shade from the dropdown\r\n # Publish the page and you will see that the Grey color does not looks to be Grey ( screenshots attached )\r\n\r\nh3. Expected Results\r\n # Colors looks to be blue\r\nh3. Actual Results\r\n\r\n # All Grey shades should reflect as Grey and not blue\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "The Grey shades for table cell in Confluence v7.13 are not exactly Grey"
    }
  },
  {
    "key": "CONFSERVER-73501",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-26T03:59:04.000+0000",
      "description": "vuln\u00a0CVE-2021-26084 effect a lot, I think is better to improve the method for warning the app admin when new vuln in futre.\r\nAs the notice email, a mail without any flag or important label, is really esay to ignor that because of receive a lot of marketing email from extenal domain. Is beeter to place a label or add like [IMPORTANT!!!!!!!} in subject.\r\nAs in admin web page, Is good if add a pop-up window when admin loged in. this window only triger by a update was found with a high level security fix.\r\n",
      "summary": "Let security alert more obvious"
    }
  },
  {
    "key": "CONFSERVER-73393",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-24T16:35:35.000+0000",
      "description": "We would like to be able to add a comment to a file that is uploaded to a file list page. Right now we have a lot of files on a single page and add all comments at the bottom of the page. This is becoming a long list and it is not easy to see all comments related to a specific file.\r\n\r\nOur suggestion is to add comments at file level or even for a specific version of the file.",
      "summary": "Add comment to file (version) on file list page"
    }
  },
  {
    "key": "CONFSERVER-73392",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-24T14:23:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOn Confluence from 7.13.0, Bobswift HTML 5.8.1 plugin is installed but disabled. When trying to enable it, it throws error \"This app failed to enable. Refer to the logs for more information.\"\r\nh3. Steps to Reproduce\r\n # Spin up a Confluence 7.13.0 instance.\r\n # Instal has Bobswift HTML plugin 5.8.1.\r\n # Update Confluence Cloud Migration Assistant plugin to version 3.2.5.\r\n # Disable\u00a0Bobswift HTML plugin\r\n # Enable\u00a0Bobswift HTML plugin.\r\n\r\nh3. Expected Results\r\n * Bobswift HTML plugin will be enabled.\r\n\r\nh3. Actual Results\r\n * We see the following error on UI: \"This app failed to enable. Refer to the logs for more information.\"\r\n\r\n!image-2021-09-24-12-38-31-039.png|width=838,height=573!\r\n * The below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2021-09-17 12:04:31,011 ERROR [ThreadPoolAsyncTaskExecutor::Thread 34] [plugin.osgi.factory.OsgiPlugin] onPluginContainerFailed Unable to start the plugin container for plugin 'org.swift.confluence.html'\r\n -- referer: https://confluence.sbx.era.nih.gov/plugins/servlet/upm | url: /rest/plugins/1.0/org.swift.confluence.html-key | traceId: 5bccb214c911fe84 | userName: kadhanagalh2@nih.gov\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appMigrationServiceImpl': Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: 'void com.atlassian.migration.app.AppCloudMigrationGateway.registerListener(com.atlassian.migration.app.AppCloudMigrationListener)'\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:322)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:287)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.NoSuchMethodError: 'void com.atlassian.migration.app.AppCloudMigrationGateway.registerListener(com.atlassian.migration.app.AppCloudMigrationListener)'\r\n\tat com.atlassian.migration.app.tracker.BoundCloudMigrationGateway.registerListener(BoundCloudMigrationGateway.java:34)\r\n\tat com.atlassian.migration.app.tracker.CloudMigrationAccessor.sendToRegistrar(CloudMigrationAccessor.java:75)\r\n\tat com.atlassian.migration.app.tracker.CloudMigrationAccessor.registerListener(CloudMigrationAccessor.java:35)\r\n\tat org.swift.confluence.html.service.AppMigrationServiceImpl.afterPropertiesSet(AppMigrationServiceImpl.java:119)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1828)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1765)\r\n\t... 16 more\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nDisable the Cloud Migration Assistant plugin.\r\n # Navigate to  !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png|width=16! > *Manage apps* > *User installed*.\r\n # Locate the *Confluence Cloud Migration Assistant* and disable it.\r\n # Enable the Bobswift plugin.\r\n\r\n\u00a0",
      "summary": "Bobswift HTML plugin not enabling due to Cloud Migration Assistant app - java.lang.NoSuchMethodError"
    }
  },
  {
    "key": "CONFSERVER-73384",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-24T11:37:04.000+0000",
      "description": "h3. Issue Summary\r\nConfluence Page URL containing the Anchor to the Table of Content Heading from the Word Document does not navigate to the right Heading in the Word Macro. The issue happen only on *Google Chrome* and *Firefox* Browser.\r\n\r\nh3. Steps to Reproduce\r\n# *Create* a Page in Confluence\r\n# *Attach* a Word Document that contain the *Table of Content* to the Page.\r\n# *Insert* the Office Word Macro into the page and choose the attached Word Document.\r\n# *Save* the page.\r\n# Click on any of the *Headings* in the Table of Content of the Word Document inside the Word Macro to obtain the URL (for example: <Confluence Base URL>/display/NTS/New+Document+Test#_Toc83135707).\r\n# Use the same URL to access the Page so that Confluence will navigate to the correct Headings in the Word Document inside the Word Macro.\r\n\r\nh3. Expected Results\r\nConfluence navigate to the correct Headings in the Word Document inside the Word Macro.\r\n\r\nh3. Actual Results\r\nConfluence navigate to the Table of Content Table of Content in the Word Document inside instead of the correct Headings in the Word Document inside the Word Macro.\r\n* [^headingtest.mp4]\r\n\r\nh3. Workaround\r\n* If using *Google Chrome or Firefox*, access the page URL and paste the Anchor *#_Toc83135707* manually to the URL when accessing the page.\r\n* Use *Internet Explorer* to access the full URL that contain the Anchor.\r\n\r\n\r\n",
      "summary": "Confluence Page URL containing the Anchor to the Table of Content Heading from the Word Document does not navigate to the right Heading in the Word Macro  "
    }
  },
  {
    "key": "CONFSERVER-73383",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-09T02:19:50.000+0000",
      "created": "2021-09-24T02:13:45.000+0000",
      "description": "{panel:title=Note|borderStyle=solid|borderColor=#6554c0|titleBGColor=#6554c0|bgColor=#eae6ff|titleColor=#ffffff}\r\n*This issue is caused by [CONFSERVER\\-69074: Duplicate Content Shown When Editing A Page After Modifying An Attachment (fixed in Confluence Server and Data Center 7.15.0)|https://jira.atlassian.com/browse/CONFSERVER-69074] and is fixed by the fix for this issue. If you are seeing this behaviour, please review [CONFSERVER-69074|https://jira.atlassian.com/browse/CONFSERVER-69074] for more information and fixed versions.*\r\n\r\nFor more information about this and related content duplication issues, please see the discussion at [Confluence Server and Data Center: Content duplication fix and next steps \\- Atlassian Community|https://community.atlassian.com/t5/Confluence-discussions/Confluence-Server-and-Data-Center-Content-duplication-fix-and/m-p/1873941#M9241].\r\n{panel}\r\nh3. Issue Summary\r\nWhen publishing a page, the page content is duplicated into the page draft. Users will only see the duplication on the next edit event after publishing.\r\n\r\nThis behaviour occurs intermittently without any special actions by the user.\r\n\r\nh3. Steps to Reproduce\r\nThis behaviour is not consistently reproducible, but may occur when a page is published and edited.\r\n\r\nh3. Expected Results\r\nThe editor should display only the page content.\r\n\r\nh3. Actual Results\r\nThe content appears to be duplicated in edit mode, and publishing the page results in the duplicated content being visible in view mode.\r\n\r\n",
      "summary": "Duplicate Content Shown When Editing A Newly Published Page"
    }
  },
  {
    "key": "CONFSERVER-73382",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-23T19:50:41.000+0000",
      "description": "When a page is deleted which has edit/view restrictions, the page is correctly removed from the space, and the index, but remains listed on Space Admin -> Restricted Pages. When the page link is clicked from this location, the user is taken to a blank screen (no error message, no stack trace, just a blank white page). When deleting a page with restrictions, the user should either be prompted to remove the restrictions first, or Confluence should remove the restrictions recursively as the page is being deleted so that the page will no be listed under Space Admin -> Restricted Pages after it is removed.",
      "summary": "Deleted pages are included on restricted pages list in space admin"
    }
  },
  {
    "key": "CONFSERVER-73381",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-23T13:13:22.000+0000",
      "description": "h3. Issue Summary\r\nWhen a user wants to copy an image in the page editor by right-clicking on it and choosing *Copy Image*, Confluence uses the image's URL as a reference point. This results in the pasted image to be referenced as a hardcoded URL and will break if the page is copied later on and the original page is removed.\r\n\r\nh3. Steps to Reproduce\r\n # Create a page with 1 attachment.\r\n # In edit mode, right-click on the image and click on *Copy Image*.\r\n # Paste the image on the page.\r\n # Save the page.\r\n # Check the page's storage format.\r\n\r\nh3. Expected Results\r\nThe storage format for the attachments should be identical and uses the attachment name as a reference point.\r\n{code}<p>\r\n  <ac:image ac:height=\"316\" ac:width=\"316\">\r\n    <ri:attachment ri:filename=\"image.png\"/>\r\n  </ac:image>\r\n</p>{code}\r\n\r\nh3. Actual Results\r\nThe original image that was attached has this storage format:\r\n{code}<p>\r\n  <ac:image ac:height=\"316\" ac:width=\"316\">\r\n    <ri:attachment ri:filename=\"image.png\"/>\r\n  </ac:image>\r\n</p>{code}\r\n\r\nThe pasted image has this storage format:\r\n{code}<p>\r\n  <ac:image>\r\n    <ri:url ri:value=\"http://localhost:8090/confluence/download/attachments/10158111/image.png?version=1&amp;modificationDate=1631799439947&amp;api=v2\"/>\r\n  </ac:image>\r\n</p>{code}\r\n\r\nh3. Workaround\r\nInstead of *Copy Image*, using either one of these options to copy will work:\r\n* CTRL+C / CMD+C to copy\r\n* Choosing *Copy* when right-clicking instead of *Copy Image*",
      "summary": "Selecting the 'Copy Image' option to copy an image in the page editor results in the image's hard-coded URL to be used as a reference"
    }
  },
  {
    "key": "CONFSERVER-73375",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-23T12:26:19.000+0000",
      "description": "A failed migration should be able to be restarted.\r\n\r\nFor Example:\u00a0\r\n * You start a migration\r\n * It fails, because there is an invalid e-mail address on some page\r\n * Now you should be able to restart the migration with the same configuration, instead of starting a new migration and configure it the same\r\n ** You can fix the invalid e-mail address before you restart",
      "summary": "A Migration can not be restarted"
    }
  },
  {
    "key": "CONFSERVER-73374",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-23T10:20:16.000+0000",
      "description": "h3. Problem Definition\r\nWith the introduction of read-only mode  for Confluence Data Center running 6.10.* and later (CONFSERVER-6390), it is possible to [set Confluence into read-only mode and set the banner from WebUI|https://confluence.atlassian.com/doc/using-read-only-mode-for-site-maintenance-952624304.html].\r\n\r\nh3. Suggested Solution\r\nAdding REST API endpoint to allow for the mode and banner to be set via script would allow for better planned maintenance execution.",
      "summary": "Allow for read-only mode to be enabled via API"
    }
  },
  {
    "key": "CONFSERVER-73370",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-23T03:32:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCustomers with over 2000 items in their space trash will not see items in the trash beyond the 2,000th and any pages older than that cannot be restored through the UI.\r\nh3. Steps to Reproduce\r\n # Accumulate over 2,000 deleted items in a space's trash, which have not been purged yet\r\n # Attempt to locate by title a page which you have been tasked with restoring\r\n\r\nh3. Expected Results\r\n\r\nYou will be able to find the page by using the browser's search function and are able to restore the desired page through the UI.\r\nh3. Actual Results\r\n\r\nIf the document you are after was created *before* the 2,000th deleted page listed on the screen then you will not be able to locate your page because it is too far down in the list be part of the first 2000 that the page currently shows (_ordered by contentID, descending_).\r\nh3. Workaround\r\n\r\nYou can restore a trashed page manually if you know its contentId and the space key. In your browser session, just open this URL and confirm:\r\n{code:java}\r\nhttp://<hostname>:<port>/<context-path>/pages/restoretrashitem.action?key=<space-key>&contentId=<page-Id>\r\n{code}",
      "summary": "Viewing the space trash will not show items past the 2,000th entry"
    }
  },
  {
    "key": "CONFSERVER-72245",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-22T09:32:45.000+0000",
      "description": "h3. Problem Definition\r\nWhen creating or editing Page Templates, it is impossible to collaborate or have a draft of a template before it's ready for publishing.\r\n\r\nh3. Suggested Solution\r\nAn option to enable Collaborative Editing shared drafts for templates so that multiple people could collaborate on more complex page templates\r\n\r\nh3. Workaround\r\nCreate a normal page as a potential future template and collaborate on that. \r\nOnce done, copy page storage format to a template using Confluence Source Editor plug-in.",
      "summary": "Shared Drafts for Templates"
    }
  },
  {
    "key": "CONFSERVER-70494",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-22T22:24:04.000+0000",
      "created": "2021-09-21T15:15:31.000+0000",
      "description": "h3. Issue Summary\r\nWhen you click on the Online help, you get directed to a login prompt and not the support documentation as it should be.\r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence\r\n# Make sure you are not logged in into https://confluence.atlassian.com/\r\n# Navigate to (?) > Online Help\r\n\r\nh3. Expected Results\r\nYou should be redirected to https://confluence.atlassian.com/ without the need to login. This is working fine in Confluence 7.12.5 and previous versions.\r\n\r\nvideo for the behavior: https://recordit.co/PSCbfg342d\r\n\r\nh3. Actual Results\r\n\r\nYou are redirected to login to https://confluence.atlassian.com/ \r\nvideo for the behavior: https://recordit.co/jdkNTYVHkM\r\n\r\nh3. Further details \r\nConfluence redirects to https://docs.atlassian.com/confluence/docs-713/ which requires login while previous versions redirects to https://confluence.atlassian.com/conf712/confluence-data-center-and-server-documentation-1056670964.html which doesn't require login.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Online help directs to a login prompt"
    }
  }
]