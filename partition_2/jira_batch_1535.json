[
  {
    "key": "CONFSERVER-60601",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T16:44:41.000+0000",
      "description": "h3. Problem\r\nAfter adding a new application link with the wrong URL using HTTPS, the page seems broken and seems as there is no application linked to Confluence. \r\nConfluence throws out an error message when opening the application link page:\r\n* *The server returned a bad response*\r\n\r\nh3. Environment\r\nConfluence Server and Data Center;\r\nJira Server and Data Center with SSL;\r\n\r\nh3. Steps to Reproduce\r\n# Create an application link between Confluence and Jira;\r\n# When setting up the URL from Jira, use as:\r\n#* http:s//yourjira:8080/\r\n# Select *Application Type* as Jira;\r\n# Application Link is completed;\r\n\r\nh3. Expected Results\r\nThe application link is configured incorrectly. Config Error should appear;\r\n\r\nh3. Actual Results\r\nApplication Link page breaks entirely.\r\n !image (5).png|thumbnail! \r\n\r\nh3. Workaround\r\nRemove the application link through the database:\r\n* [Alternative Methods of Deleting Application Links in Confluence|https://confluence.atlassian.com/confkb/alternative-methods-of-deleting-application-links-in-confluence-316637672.html]",
      "summary": "Application Link page seems broken and opening blank"
    }
  },
  {
    "key": "CONFSERVER-60600",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T16:43:44.000+0000",
      "description": "h3. Problem Definition\r\n\r\nLogin attempts fail intermittently in Confluence Mobile App (for iOS and Android) when connected to Confluence DC instances and Oracle SSO as an Identity Provider.\r\n\r\nAn error in logs show that the {{inResponseTo}} attribute not being properly handled:\r\n\r\n{code}\r\n2020-10-18 12:26:39,701 ERROR [http-nio-8090-exec-311] [onelogin.saml2.authn.SamlResponse] isValid The Response has an InResponseTo attribute: ONELOGIN_1a7be698-21e9-4fb8-ab1a-2fa4bf460914 while no InResponseTo was expected\r\n -- referer: https://url.identity.provider.com/fed/v1/user/response/login? | url: /plugins/servlet/samlconsumer | traceId: xxxxxxx | userName: anonymous\r\n{code}\r\n\r\nh3. Suggested Solution\r\n\r\nBetter handle the {{inResponseTo}} attribute if a value is returned by Oracle SSO (or other Identity Providers\r\n\r\nAlso include Oracle SSO in the testings and list of Supported Identity Providers as per [SAML single sign-on for Atlassian Data Center applications|https://confluence.atlassian.com/enterprise/saml-single-sign-on-for-atlassian-data-center-applications-857050705.html]:\r\n\r\n{quote}\r\n*Supported Identity Providers*\r\n\r\nOnce you have installed the SAML SSO 2.0, the solution should work with any identity provider implementing the SAML 2.0 Web Browser SSO Profile, using the HTTP POST binding. Alternatively it allows you to delegate authentication to Crowd.\r\n\r\nWe currently perform tests with the following identity providers (IdP):\r\n\r\n* Microsoft Azure Active Directory\r\n* Microsoft Active Directory (using ADFS 3.0)\r\n* Bitium\r\n* Okta\r\n* OneLogin\r\n* PingIdentity\r\n{quote}\r\n\r\nh3. Workaround \r\n\r\nCurrently there is no workaround for the error, however the issue seems to be intermittent for Oracle SSO.\r\n\r\nIt might be worth considering Crowd or another Identity Provider if no login attempts are successful.\r\n\r\nPS: our users report that the iOS version fails more often than the Android one for the Confluence Mobile App.",
      "summary": "Better handling for SAML SSO 2.0 attributes"
    }
  },
  {
    "key": "CONFSERVER-60599",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T14:44:55.000+0000",
      "description": "h3. Problem\r\nAdding special character in the page title leads to create of new page in edit mode when pasting page url in another page.\r\n\r\nh3. Environment\r\n\r\n7.4.3\r\nh3. Steps to Reproduce\r\n * Create a page with the title \"This is | first page\". (Notice the URL in the browser it would we converting to %7c for | symbol.)\u00a0\r\n{quote}1.png\r\n{quote}\r\n * Copy the URL of the page from the browser created in first step.\r\n * Create another page with the title\u00a0 \"TestPage\" and paste the URL in it.\u00a0\r\n{quote}2.png\r\n{quote}\r\nWhen we paste URL in the \"TestPage\" it gets converted in to\u00a0*TT:This is*\u00a0, which is representing spacekey:_text of the title before the \\ symbol_.\r\n\r\n * When we click on the link it open a new page (but not the \"This is | first page\") in edit mode as below (Page name would be the text after the | symbol):\u00a0\r\n{quote}3.png\r\n{quote}\r\n\r\nh3. Expected Results\r\n\r\nClicking on the link should open the actual page named \"This is | first page\"\r\nh3. Actual Results\r\n\r\nClicking on the link will open a new page in the edit mode ( and Page name would be the text after the | symbol):\u00a0\r\nh3. Workaround\r\n\r\nLink the page with page ID/tiny URL and not the actual page title.\u00a0\r\n * \u00a0Copy the page URL via navigating to\u00a0 \u2026\u00a0 -> Page information -> copy URL\u00a0\r\n * !image-2020-12-14-20-27-53-126.png|width=809,height=304!\r\n\r\n\u00a0\r\nh3. Notes\r\n\r\nAdding special character in the page leads to new page in edit mode.\r\n\r\nhttps://jira.atlassian.com/browse/CONFSERVER-11285\r\n\r\n\u00a0",
      "summary": "Page link with special characters is redirect to edit mode in new page "
    }
  },
  {
    "key": "CONFSERVER-60598",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T13:28:31.000+0000",
      "description": "h3. Issue Summary\r\nPreviewing \"Table of Content\" from a docx attachment, with Office Word Macro will display a broken table list, without page numbers. \r\n\r\nh3. Steps to Reproduce\r\n # Import a sample attachment with a table of content:  [^Table of Contents example.docx] \r\n # Save page\r\n # In the preview of the attachment TOC is displayed correctly\r\n !Screen Shot 2020-12-14 at 14.34.20.png|thumbnail! \r\n\r\n # Edit the page and create Office Word Macro from the same attachment.\r\n # Save and preview the page\r\n\r\nh3. Expected Results\r\nTOC is displayed correctly for the page\r\n\r\nh3. Actual Results\r\nTOC is displayed with broken styling and without the actual page numbers.\r\n !Screen Shot 2020-12-14 at 14.30.11.png|thumbnail! \r\n\r\nh3. Workaround\r\nThe issue seems to be not present in Confluence 7.4 or 7.7 style vise, but numbers are still missing.\r\n !Screen Shot 2020-12-14 at 14.29.43.png|thumbnail! \r\nA potential worakround might be to use javascript to alter css behavior:\r\n{code}\r\n<script>\r\nAJS.toInit(function() {\r\nsetTimeout(function() {\r\n            var element=$( \".converter-macro-content a[href*='#_Toc']\" );\r\n   element.children().css( \"width\", \"auto\" );\r\n        }, 500);\r\n });\r\n</script>\r\n{code}",
      "summary": "Previewing with Word office Macro, table of content will not have correct styling."
    }
  },
  {
    "key": "CONFSERVER-60597",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T13:27:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using Page Layout in a page to add \"sections\", and then add a [\"Page break\"|https://confluence.atlassian.com/confkb/how-to-create-a-page-break-function-in-confluence-to-control-pagination-in-pdf-exports-735943076.html] from macros, exported PDF file is broken.\r\n\r\nAll content after page break is condensed on the right site of the page, and it's not moved to new page (like page break should do).\r\nh3. Steps to Reproduce\r\n # Create a pagebreak user macro following the [instructions here\u00a0|https://confluence.atlassian.com/confkb/how-to-create-a-page-break-function-in-confluence-to-control-pagination-in-pdf-exports-735943076.html]\r\n # Create a new page using with few sections using page layout tool\r\n # Insert pagebreak macro in the middle of the layout\r\n # click on \"...\" >> export to PDF\r\n\r\nYou can also reproduce using\u00a0[^pagebreak_test_storage_format.txt]\u00a0\r\nh3. Expected Results\r\n\r\nContent should remain aligned properly after exporting to PDF\r\nh3. Actual Results\r\n\r\nContent is misaligned after the page break and is not displayed on a new page as supposed to, an example\u00a0[^pagebreak_test_results.pdf]\r\nh3. Workaround\r\n\r\nSelecting the section where the pagebreak macro is inserted and changing the style to \"preformatted\" seem to work, this workaround was submitted by a client in the comments section.\r\n{quote}I found a workaround for this issue- \"preformatted style\" needs to be applied in the section with \"Page break\". Then Confluence will be able to interpret \"Page break\" as a code, and PDF file will be formatted according to Confluence page correctly.\r\n{quote}\r\n.",
      "summary": "PDF Export - pagebreak macro causes content to be misaligned when using \"Page Layout\""
    }
  },
  {
    "key": "CONFSERVER-60596",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T12:55:24.000+0000",
      "description": "h3. Issue Summary\r\nIf user create a page properties macro in a page and the header of the table inside the page properties macro is a link referring to another page. The page properties report macro will only able to render to first column and not the second column.\r\n(!) *However, if we edit the link text, page properties report macro will be able to pick up the column value and display.*\r\n\r\nh3. Steps to Reproduce\r\n# Create a new page name *Page properties 1*\r\n# Add a page properties macro and add a table inside\r\n# In the first header, add a page link refer to another page in Confluence\r\n# In the second header, add another page link refer to a page in Confluence\r\n# Save the page\r\n# Add a label {{Test}} to the page\r\n# Create a new page name *Page Properties Report*\r\n# Add a page properties report macro\r\n# Configure the page properties report macro to show data from {{test}} label\r\n# Save the page\r\n# You will notice that the second header is not render in page properties report macro\r\n(i) View the following video for more details on how to reproduce the issue\r\n [^Recording #3.mp4] \r\n\r\nComparing the storage format of page properties 1 and page properties 3 (from the above video), we can see that additional link text parameter is added and allow page properties report macro to pick up and render it.\r\n*Storage format of page properties 1*\r\n{code}\r\n\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"details\" ac:schema-version=\"1\" ac:macro-id=\"6a7c667e-503e-4dbc-9a7d-fde26e948918\"><ac:rich-text-body>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<table class=\"wrapped\"><colgroup><col /><col /></colgroup>\r\n<tbody>\r\n<tr>\r\n<th><ac:link><ri:page ri:content-title=\"This is a testing KB 1\" /></ac:link></th>\r\n<td>x</td></tr>\r\n<tr>\r\n<th><ac:link><ri:page ri:content-title=\"This is test KB 2\" /></ac:link></th>\r\n<td>x</td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p></ac:rich-text-body></ac:structured-macro>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<p><br /></p>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n{code}\r\n\r\n*Storage format of page properties 3*\r\n{code}\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"details\" ac:schema-version=\"1\" ac:macro-id=\"ed9ced39-feb6-4392-9f2f-c8d0385bb87c\"><ac:rich-text-body>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<table class=\"wrapped\"><colgroup><col /><col /></colgroup>\r\n<tbody>\r\n<tr>\r\n<th><a href=\"http://localhost:6732/c732/display/KT2/This+is+a+testing+KB+1\">This is test KB 1</a></th>\r\n<td>x</td></tr>\r\n<tr>\r\n<th><a href=\"http://localhost:6732/c732/display/KT2/This+is+test+KB+2\">This is test KB 2 edit</a></th>\r\n<td>x</td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p></ac:rich-text-body></ac:structured-macro>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<p><br /></p>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n{code}\r\n\r\nh3. Expected Results\r\nAll the column should be render\r\n\r\nh3. Actual Results\r\nOnly the first column is rendered\r\n\r\nh3. Workaround\r\nEdit the link and give a link text.",
      "summary": "Page Properties Report macro is not able to render second column if the column in the table header is link."
    }
  },
  {
    "key": "CONFSERVER-60595",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-14T07:51:27.000+0000",
      "description": "Add the ability to use the REST API to update Question/Answer/Comment.\r\n\r\nCurrently, there is no REST API method for updating an existing Question/Answer/Comment. The only workaround for this is using the\u00a0{{DELETE method}} to delete the existing Q/A/C and using the\u00a0{{POST}}\u00a0method to add a new one with updated text.\r\n\r\n{{The PUT}} method is only available for updating {{topics}} of the given Question according to the Questions REST API documentation:\r\n * [Confluence Questions REST Resources|https://docs.atlassian.com/confluence-questions/rest/]",
      "summary": "Add the ability to use the REST API to update Question/Answer/Comment"
    }
  },
  {
    "key": "CONFSERVER-60593",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-12-21T03:47:21.000+0000",
      "created": "2020-12-11T19:30:48.000+0000",
      "description": "Hello,\u00a0\r\n\r\nI have our EAP test server running on Confluence 7.10.0-rc1.\r\n\r\nI am not having any trouble, I am testing my plugins.\r\n\r\nHowever, when I inspected my server log file I did notice that your\u00a0WebhooksDailySummaryPeriodicEventSupplier and PeriodicEventPublisherJob is failing because of a PSQLException so I thought I'd report it:\r\n\r\n\u00a0\r\n{code:java}\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near \")\"org.postgresql.util.PSQLException: ERROR: syntax error at or near \")\"\u00a0 Position: 185 at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.generateEvent(PeriodicEventPublisherJob.java:98) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.lambda$collectAndPublishEvents$0(PeriodicEventPublisherJob.java:89)\r\n{code}\r\nHere is the full stacktrace:\r\n{code:java}\r\n2020-12-11 02:15:00,084 ERROR [Caesium-1-1] [plugins.analytics.jobs.PeriodicEventPublisherJob] generateEvent com.atlassian.confluence.internal.webhooks.analytics.WebhooksDailySummaryPeriodicEventSupplier threw an exception while supplying the event.2020-12-11 02:15:00,084 ERROR [Caesium-1-1] [plugins.analytics.jobs.PeriodicEventPublisherJob] generateEvent com.atlassian.confluence.internal.webhooks.analytics.WebhooksDailySummaryPeriodicEventSupplier threw an exception while supplying the event.java.util.concurrent.ExecutionException: com.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:Database: - name:PostgreSQL - version:9.5.4 - minor version:5 - major version:9Driver: - name:PostgreSQL JDBC Driver - version:42.2.16\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near \")\"\u00a0 Position: 185 at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.generateEvent(PeriodicEventPublisherJob.java:98) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.lambda$collectAndPublishEvents$0(PeriodicEventPublisherJob.java:89) at com.google.common.collect.Iterables$5.lambda$forEach$0(Iterables.java:704) at java.base/java.util.concurrent.CopyOnWriteArrayList.forEach(CopyOnWriteArrayList.java:807) at java.base/java.util.concurrent.CopyOnWriteArraySet.forEach(CopyOnWriteArraySet.java:425) at com.google.common.collect.Iterables$UnmodifiableIterable.forEach(Iterables.java:106) at com.google.common.collect.Iterables$5.forEach(Iterables.java:704) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.collectAndPublishEvents(PeriodicEventPublisherJob.java:88) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.runJobInternal(PeriodicEventPublisherJob.java:79) at com.atlassian.confluence.plugins.analytics.jobs.PeriodicEventPublisherJob.runJob(PeriodicEventPublisherJob.java:74) at com.atlassian.confluence.impl.schedule.caesium.JobRunnerWrapper.doRunJob(JobRunnerWrapper.java:117) at com.atlassian.confluence.impl.schedule.caesium.JobRunnerWrapper.lambda$runJob$0(JobRunnerWrapper.java:87) at com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84) at com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68) at com.atlassian.confluence.impl.schedule.caesium.JobRunnerWrapper.runJob(JobRunnerWrapper.java:87) at com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:134) at com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:106) at com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:90) at com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.launchJob(CaesiumSchedulerService.java:435) at com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeLocalJob(CaesiumSchedulerService.java:402) at com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeQueuedJob(CaesiumSchedulerService.java:380) at com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeJob(SchedulerQueueWorker.java:66) at com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeNextJob(SchedulerQueueWorker.java:60) at com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35) at java.base/java.lang.Thread.run(Thread.java:834)Caused by: com.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:Database: - name:PostgreSQL - version:9.5.4 - minor version:5 - major version:9Driver: - name:PostgreSQL JDBC Driver - version:42.2.16\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near \")\"\u00a0 Position: 185 at com.atlassian.activeobjects.internal.EntityManagedActiveObjects.stream(EntityManagedActiveObjects.java:176) at com.atlassian.activeobjects.osgi.TenantAwareActiveObjects.stream(TenantAwareActiveObjects.java:322) at jdk.internal.reflect.GeneratedMethodAccessor830.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) at com.sun.proxy.$Proxy1433.stream(Unknown Source) at com.atlassian.webhooks.internal.dao.AoInvocationHistoryDao.getLatestInvocationsByWebhook(AoInvocationHistoryDao.java:251) at com.atlassian.webhooks.internal.dao.AsyncInvocationHistoryDao.getLatestInvocationsByWebhook(AsyncInvocationHistoryDao.java:149) at com.atlassian.webhooks.internal.history.DefaultInvocationHistoryService.lambda$getByWebhook$3(DefaultInvocationHistoryService.java:144) at com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21) at com.atlassian.sal.spring.component.SpringHostContextAccessor.lambda$doInTransaction$0(SpringHostContextAccessor.java:70) at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) at com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68) at com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.access$001(ConfluenceSpringHostContextAccessor.java:21) at com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.lambda$doInTransaction$3(ConfluenceSpringHostContextAccessor.java:72) at com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84) at com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68) at com.atlassian.confluence.spring.transaction.interceptor.ConfluenceSpringHostContextAccessor.doInTransaction(ConfluenceSpringHostContextAccessor.java:72) at com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18) at jdk.internal.reflect.GeneratedMethodAccessor296.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26) at com.sun.proxy.$Proxy266.execute(Unknown Source) at jdk.internal.reflect.GeneratedMethodAccessor296.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) at com.sun.proxy.$Proxy1445.execute(Unknown Source) at com.atlassian.webhooks.internal.history.DefaultInvocationHistoryService.getByWebhook(DefaultInvocationHistoryService.java:143) at jdk.internal.reflect.GeneratedMethodAccessor13364.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) at com.sun.proxy.$Proxy2793.getByWebhook(Unknown Source) at com.atlassian.confluence.internal.webhooks.analytics.WebhooksDailySummaryPeriodicEventSupplier.call(WebhooksDailySummaryPeriodicEventSupplier.java:54) at com.atlassian.confluence.internal.webhooks.analytics.WebhooksDailySummaryPeriodicEventSupplier.call(WebhooksDailySummaryPeriodicEventSupplier.java:28) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ... 1 moreCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near \")\"\u00a0 Position: 185 at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164) at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114) at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:431) at net.java.ao.ForwardingPreparedStatement.executeQuery(ForwardingPreparedStatement.java:40) at net.java.ao.ParameterMetadataCachingPreparedStatement.executeQuery(ParameterMetadataCachingPreparedStatement.java:10) at net.java.ao.EntityManager.stream(EntityManager.java:889) at com.atlassian.activeobjects.internal.EntityManagedActiveObjects.stream(EntityManagedActiveObjects.java:174) ... 86 more\r\n{code}",
      "summary": "Confluence 7.10 EAP Feedback (PSQLException in PeriodicEventPublisherJob --> FutureTask)"
    }
  },
  {
    "key": "CONFSERVER-60592",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-11T17:48:25.000+0000",
      "description": "We use templates that include the macro so it is common to see empty content. But the macro should be much smaller when there is no content to show and it should be less noisy and unobtrusive.\u00a0\r\n\r\nThis is an attempt to resurrect this older request:\r\nCONFSERVER-40839",
      "summary": "Make Content by Label less noisy when it shows no content "
    }
  },
  {
    "key": "CONFSERVER-60591",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-11T17:09:58.000+0000",
      "description": "h3. Issue Summary\r\nPDF export hangs in Confluence when external image URL destination connection hangs\r\n\r\nh3. Steps to Reproduce\r\n # Install Jira in AWS\r\n # Add an image from web to a Confluence page pointing to an image URL in Jira: http://jira.ec2.address:8080/images/icons/issuetypes/health.png\r\n# Confirm the image loads in Confluence\r\n# Edit security groups in AWS, and remove access on 8080\r\n# Confirm image can no longer be reached - URL should hang when trying to load the image\r\n# Export Confluence space containing the page with this image URL (Export to PDF)\r\n\r\nh3. Expected Results\r\nConnection should fail quickly and export should continue\r\n\r\nh3. Actual Results\r\nExport hangs on the connection until it times out\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2020-12-11 10:46:30,311 ERROR [Long running task: PDF Space Export] [extra.flyingpdf.impl.ConfluenceExportUserAgent] log Can't get image resource for urihttp://10.125.91.86:34929/jira853/images/icons/issuetypes/health.png, error: null\r\n -- url: /c773/spaces/flyingpdf/doflyingpdf.action | referer: http://localhost:6773/c773/spaces/flyingpdf/flyingpdf.action?key=ADMIN | traceId: a894c7b0bbb2ccc8 | userName: admin | action: doflyingpdf\r\n{noformat}\r\n\r\nExport eventually continues, but seems to hang for 1 minute per image that cannot connect. Some high CPU usage was noted, which could cause issues in larger sites.\r\n\r\nh3. Workaround\r\n\r\nEnsure that Confluence can reach the Jira destination, or attach the image directly to Confluence.",
      "summary": "PDF export hangs in Confluence when external image URL destination connection hangs"
    }
  },
  {
    "key": "CONFSERVER-60590",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-17T05:35:40.000+0000",
      "created": "2020-12-11T16:43:08.000+0000",
      "description": "Please advise whether following\u00a0vulnerability affecting Confluence?\r\n\r\n\u00a0\r\n\r\nApache has released an update to address a vulnerability affecting Tomcat. Successful exploitation of the vulnerability may allow an attacker to perform Denial-of-Service (DoS) and/or obtain sensitive information on a vulnerable system.\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n|*Vulnerability Information*|\r\n|*CVE*|*CVSS Base Score*|*GITSIR\u2019s Rating**|*Product Name*|*Version*|\r\n|CVE-2020-17527|Not Available|Not Available|Apache Tomcat|Apache Tomcat 10.0.0-M1 to 10.0.0-M9\r\nApache Tomcat 9.0.0.M5 to 9.0.39\r\nApache Tomcat 8.5.1 to 8.5.59|\r\n\r\n\u00a0\r\n|*GITSIR\u2019s Rating**|*CVSS Base Score (x)*|\r\n|High|x >= 8.0|\r\n|Medium|4.0 <= x < 8.0|\r\n|Low|x < 4.0|",
      "summary": "CVE-2020-17527 - Does this vulnerability affecting Confluence?"
    }
  },
  {
    "key": "CONFSERVER-60589",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-11T15:30:33.000+0000",
      "description": "h3. Problem Definition\r\nWhen a user has visited more than 10 pages, a \"View more recently visited\" appears when opening the [search|https://confluence.atlassian.com/display/DOC/Search] toolbox.\r\n !screenshot-1.png|thumbnail! \r\n\r\nClicking this link changes the current page to the _Recently viewed_ page of the [Confluence Dashboard|https://confluence.atlassian.com/display/DOC/The+dashboard].\r\n !screenshot-2.png|thumbnail! \r\n\r\nThe Confluence administrator might want to change the behavior of this link, specially when customizations had been applied to the Confluence layout.\r\nIt could be possible to disable this option or to change the target URL.\r\n\r\nh3. Suggested Solution\r\nMake the \"View more recently visited\" link configurable through Confluence administration, giving the administrator the option to change the target URL or to disable this link.\r\n \r\nh3. Workaround \r\nThe Confluence administrator may use _[Custom HTML or CSS|https://confluence.atlassian.com/doc/changing-the-look-and-feel-of-confluence-147534.html]_ code to change the behavior of this link.\r\nBelow are some suggestions.\r\n\\\\\r\n\r\n*Completely hide the link from the Search toolbox*\r\n# Go to *Cog icon* > *General configuration*.\r\n# Go to *Custom HTML* under _Look and Feel_.\r\n# Add the below code within the _At end of the HEAD_ box.\r\n{code}\r\n<!-- Hide the View more recently visited link from the Search toolbox -->\r\n<style type=\"text/css\">\r\n#search-panel-recent-page-link {\r\n\t\tdisplay:none !important;\r\n\t}\r\n</style>\r\n{code}\r\n\r\n\\\\\r\n\\\\\r\n*Change the link behavior to be the same as [Recently Viewed Pages and Blog Posts|https://confluence.atlassian.com/doc/recently-viewed-pages-and-blog-posts-179440601.html]*\r\nUsers can access the same _Recently Viewed_ content by navigating to this option within their User Profile.\r\nThe main difference is that this will open an display box without changing the context to the Dashboard.\r\n !screenshot-3.png|thumbnail! \r\n\r\nYou may want to change the link on the Search box to behave similarly following the procedure:\r\n# Go to *Cog icon* > *General configuration*.\r\n# Go to *Custom HTML* under _Look and Feel_.\r\n# Add the below code within the _At end of the HEAD_ box and save it.\r\n{code}\r\n<script type=\"text/javascript\">\r\n    AJS.toInit(function(){\r\n\t  AJS.$(document).on(\"click\",\"#search-panel-recent-page-link\", function () {\r\n\t    AJS.$(\"#search-panel-recent-page-link\").attr(\"href\", \"#\")\r\n \t\tAJS.$(\"#view-user-history-link\").trigger(\"click\");\r\n\t  });\r\n    });\r\n</script>\r\n{code}\r\n",
      "summary": "As a Confluence administrator I would like to change the behavior of \"View more recently visited\" link in the search panel"
    }
  },
  {
    "key": "CONFSERVER-60588",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-11T13:45:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUploading PPTX files comprising of gif files to Confluence can cause a high CPU/Memory usage which causes the instance to crash with OOM or become unavailable, the Aspose Library for Powerpoint Slides being used doesn't implement an InterruptMonitor to stop that thread from leaking memory or CPU resources.\r\n\r\nh3. Steps to Reproduce\r\n# Upload a large Powerpoint file with gif's or high resolution images on them\u00a0(single file or multiple files that accounts to >= 60 MB) \r\n # Wait for the preview to generate\r\n\r\nh3. Expected Results\r\nConfluence should be able to handle the conversion of a PPTX file and if it reaches a certain threshold it should kills/quit the conversion.\r\n\r\nh3. Actual Results\r\n\r\nConfluence becomes unresponsive and eventually crashes with OOM. Below are the entries we see in the application logs:\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{noformat}\r\n2020-12-08 08:22:22,292 WARN [conversion-thread-0] [plugins.conversion.impl.FileSystemConversionState] markAsError Creating error file: E:\\Atlassian\\Application Data\\Confluence\\shared-home\\dcl-document\\243\\88\\132588743\\150120046_1.err\r\n -- referer: <conf-base-url>/pages/resumedraft.action?draftId=144086730&draftShareId=7a55e4b3-8a6b-4c59-b5cd-fe48823846b3& | url: /rest/tinymce/1/macro/placeholder | traceId: c111c0b112fa6251 | userName: x\r\n\r\n2020-12-08 08:37:53,973 WARN [https-jsse-nio-443-exec-39] [confluence.util.profiling.DefaultActivityMonitor] close Exceeded the threshold of 60000 ms: ActivitySnapshot{startTime=1607433872023, threadId=90214, threadName='https-jsse-nio-443-exec-39', userId='<unknown>', type='web-request', summary='/rest/quickreload/latest/132588743?since=1607433780031&_=1607433188330'}\r\n -- referer: <conf-base-url>/display/XYZ/ABC?preview=%2F132588743%2F150120046%2FOverview.pptx | url: /rest/quickreload/latest/132588743 | traceId: 4c6adaa4663cbe88 | userName: x\r\n\r\n2020-12-08 08:44:05,422 WARN [https-jsse-nio-443-exec-47] [confluence.util.profiling.DefaultActivityMonitor] close Exceeded the threshold of 60000 ms: ActivitySnapshot{startTime=1607433872017, threadId=90230, threadName='https-jsse-nio-443-exec-47', userId='<unknown>', type='web-request', summary='/download/attachments/132588743/Overview.pptx?version=1&modificationDate=1600948608563&api=v2&download=true'}\r\n -- referer: <conf-base-url>/display/XYZ/ABC?preview=%2F132588743%2F150120046%2FOverview.pptx | url: /download/attachments/132588743/Overview.pptx | traceId: c60ecfb0a405e8a1 | userName: x\r\n{noformat}\r\n\r\nh4. Heap Dump Analysis\r\n\r\nHeap indicates the file conversion has consumed 10 GB of heap.\r\n\r\n !heapdump-Dec8-pid2376-overview.png|thumbnail! \r\n\r\n !heapdump-Dec8-pid2376-domtree.png|thumbnail! \r\n\r\n\r\n\r\nh3. Workaround\r\n\r\n* Increase the heap memory to a value where we no longer see the issue. We don't advise that as this might impact overall performance unless small increments would help. \r\n* Avoid adding gif's and substitute that with multiple screenshots etc",
      "summary": "PPTX File conversion causes OOM"
    }
  },
  {
    "key": "CONFSERVER-60587",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-10T23:41:57.000+0000",
      "description": "Would it be possible to have to standardize the date formatting for Jira, Confluence, BitBucket,\u00a0etc... the same.\r\n\r\nI just realized that this is not doable:\r\n * we cannot set date formatting in Bitbucket\r\n * we cannot disable relative dates setting in Confluence\r\n * Jira can do all.\r\n\r\nWould have been good to have used the same framework components and not start over duplicated functions for each app but have components that are reused from one product to another.\r\n\r\nSadly, this is not the case.\u00a0 The solution to be consistent is to use setting of the less permissive app.\u00a0 Use Bitbucket date format and keep relative dates across the board.\u00a0 This far from being the preferred settings.\r\n\u00a0",
      "summary": "Make date formatting consistent across Atlassian apps."
    }
  },
  {
    "key": "CONFSERVER-60584",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-10T13:58:13.000+0000",
      "description": "h3. Problem Definition\r\nOn a busy Confluence instance, there could be thousands of content created or updated at a given time.\r\nWith automated content curation, the number of new items on the content index queue (or change queue) might be extremely large.\r\n\r\nWhile the content index rebuild job is multi-threaded, the incremental indexing is performed by a single thread through a scheduled job.\r\n\r\nMaking the incremental indexing multi-threaded could improve Confluence usability making new content (created or updated) indexed as quickly as possible.\r\n\r\nh3. Suggested Solution\r\nMake the incremental indexing multi-threaded having it configurable on how many threads will be used to take care of the task.\r\nIt could be similar to the reindex task on which the Confluence administrator can configure the number of threads through [JVM parameters|https://confluence.atlassian.com/doc/recognized-system-properties-190430.html#RecognizedSystemProperties-reindex.thread.count].",
      "summary": "As a Confluence administrator I would like to configure the number of threads to run the incremental indexing"
    }
  },
  {
    "key": "CONFSERVER-60583",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-10T08:00:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe attachment param displays a (Not Found) label , when the attachment is not found on the page given.\r\nh3. Steps to Reproduce\r\n * In office macro, when we the enter (SPACEKEY: page title or Page Title alone) for Page parameter it fetches the attachments related to the page in the attachment drop down.\r\n\r\n*Problem:*\r\n Now without closing the macro editor, edit the Page to some other page, this time previously selected attachment with a (Not Found) label is being displayed in the attachment drop down along with the attachments found on the given page. Please see attachment screen shots.\r\n * \r\n ** !Screen Shot 2020-12-07 at 4.27.10 PM.png|width=158,height=100! \u00a0  !Attachment_NOT_FOUND_WARNING.png|width=156,height=97!\r\n\r\nh3. Expected Results\r\n\r\nAttachment drop down should display the attachments found on the given page only.\r\nh3. Actual Results\r\n\r\nAttachment drop down shows the attachments from the older page as well with a not found label when Page is changed.\r\nh3. Workaround\r\n\r\n\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "The attachment param displays a (Not Found) label , when the attachment is not found on the page given."
    }
  },
  {
    "key": "CONFSERVER-60582",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-10T07:16:53.000+0000",
      "description": "h3. Problem\r\n\r\nMacro usage page (*General Configuration*\u00a0\u00a0>\u00a0*Macro Usage*) does not list the macro from the restricted page.\u00a0\u00a0\r\nh3. Environment\r\n\r\n7.4.1\r\nh3. Steps to Reproduce\r\n * User1 (non admin user) creates a page and restricted it (viewing and editing restriction) so no other user can access it and User1 uses some macros (default macros not the third party ) on this page.\u00a0\r\n * When Admin opens Macro usage page from\u00a0*General Configuration*\u00a0\u00a0>\u00a0*Macro Usage*\u00a0they can't see the name of the macro/page (restricted page) here.\r\n\r\nh3. Expected Results\r\n\r\nExpectation is to list out the macros from restricted pages as well.\r\nh3. Actual Results\r\n\r\nMacros from restricted pages were not listed.\r\nh3. Workaround\r\n\r\n_Not available at the moment._\u00a0\r\nh3. Notes",
      "summary": "Macro usage (plugin usage) page does not show macro usage from the restricted pages"
    }
  },
  {
    "key": "CONFSERVER-60581",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-10T05:44:13.000+0000",
      "description": "h3. Problem\r\nSince [JIRA 8.9|https://confluence.atlassian.com/jirasoftware/jira-software-8-9-x-release-notes-1003522922.html], we introduced the better cluster monitoring page including the node status (active, no heartbeat, offline) and JIRA status information (maintenance, error, running, starting). This information is very helpful for administrators to manage the cluster nodes.\r\n\r\nWe are expecting to have a similar page for Confluence Data Centre.\r\n\r\nh3. Workaround\r\nAt the moment, we have to rely on Load Balancer or third party monitoring page for such information.\r\n\r\nHAProxy Example:\r\n!HAProxy.png|thumbnail! ",
      "summary": "Get more information from cluster monitoring"
    }
  },
  {
    "key": "CONFSERVER-60580",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-09T23:30:24.000+0000",
      "description": "h3. Problem\r\n\r\nConfluence lacks a feature that allows users to check how many pages and content are referenced by other pages.\r\n\r\n\u00a0\r\n\r\nWe would like to get a report of all Include Page, Excerpt Include macros, and hyperlinks for all pages in a Confluence space or a specific page. Below are the use cases.\r\nh3. Suggested Solution\r\n\r\nReport of all *Include Page*, *Excerpt Include* macros, and *hyperlinks* for all pages in a Confluence space or a specific page. Below are the use cases.\r\n\r\nA space level report for the\u00a0*Include Page* macro, which would be helpful to identify the most important pages that are being referenced by other pages:\r\n # For each reusable content page, what other pages call its content using the Include Page macro?\r\n # For each page using the *Include Page* macro, what pages are called?\r\n\r\nA space level report for the\u00a0*Excerpt Include*\u00a0macro, which would be helpful to identify the usage of each excerpt:\r\n # What pages use the *Excerpt* macro?\r\n # For each page using the *Excerpt Include* macro, what pages are called?\r\n\r\nh3. Workaround\r\n # Go to the page\r\n # Access\u00a0\u00a0!https://confluence.atlassian.com/doc/files/704577869/704577870/2/1517274795952/ellipsis.png|width=22!\u00a0>\u00a0*Page Information*. A new tab will be opened with the page's storage format\r\n # Copy the text to a .txt file and attach it to this ticket\r\n # Check the\u00a0*Incoming Links*\u00a0and\u00a0*Outcoming Links*\r\n\r\nThe pages that are referenced by other pages will contain\u00a0*Incoming Links*, while the ones referencing pages will contain\u00a0*Outgoing Links*.\r\n\r\nUnfortunately, Confluence doesn't differentiate\u00a0*Incoming*\u00a0*Links* and\u00a0*Outgoing* *Links* by type, so it's not clear if the links are hyperlinks from or to other pages,\u00a0*Include Page* macros, or\u00a0*Excerpt Include/Excerpt* macros.\r\n\r\n\u00a0",
      "summary": "Report of all Include Page macros and Excerpt Include macros"
    }
  },
  {
    "key": "CONFSERVER-60578",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-09T22:54:04.000+0000",
      "description": "As an idP Administrator, I would like to be able to select the attributes including user details and group memberships to be updated upon JIT provisioning.\r\n\r\nAt present, Confluence's JIT provisioning functionality requires an absolute group attribute and it cannot be blank. Putting a dummy attribute will trigger an error.\r\n !Screen Shot 2020-12-09 at 4.48.44 PM.png|thumbnail! \r\n\r\n(i) Existing group memberships defined in Confluence will be replaced by the group attribute defined in the idP.\r\n\r\nIn most use-case for JIT, there is an option to allow group attributes to be synced or not and users will be added to a default group like {{confluence-users}}. Currently, third-party apps offer JIT provisioning with such capability.",
      "summary": "Make JIT Group Attribute Sync optional and add Default Group Membership"
    }
  },
  {
    "key": "CONFSERVER-60576",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-12-17T21:35:09.000+0000",
      "created": "2020-12-09T11:15:58.000+0000",
      "description": "Dear Confluence team :)\u00a0\r\n\r\nAs part of preparing our apps to the new XStream changes planned to be introduced by Confluence 7.10, we are facing one issue while doing the marshalling/unmarshalling process using the {{XStreamManagerCompat}} component.\r\n\r\n\u00a0\r\n\r\nWe're saving in Bandana an object containing a list of Label (com.atlassian.confluence.labels.Label). While doing {{toXml()}} directly with {{XStreamManagerCompat}} bandana we get this exception:\r\n\r\nthis:\r\n{code:java}\r\nString marshalledXml = xStreamManagerCompat.toXML(ourObjectContainingLabel);\r\n{code}\r\ncauses this:\r\n{noformat}\r\n2020-12-09 10:48:01,241 ERROR [Caesium-1-1] [confluence.remotepublishing.macro.RemotePublishPageMacro] doExecute There was an error while publishing content2020-12-09 10:48:01,241 ERROR [Caesium-1-1] [confluence.remotepublishing.macro.RemotePublishPageMacro] doExecute There was an error while publishing contentcom.thoughtworks.xstream.converters.reflection.ObjectAccessException: Invalid final field com.atlassian.confluence.labels.Namespace.namespacePrefix at com.thoughtworks.xstream.converters.reflection.PureJavaReflectionProvider.validateFieldAccess(PureJavaReflectionProvider.java:150) at com.thoughtworks.xstream.converters.reflection.PureJavaReflectionProvider.visitSerializableFields(PureJavaReflectionProvider.java:105) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter.marshal(ReflectionConverter.java:44) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter$1.writeField(ReflectionConverter.java:78) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter$1.visit(ReflectionConverter.java:59) at com.thoughtworks.xstream.converters.reflection.PureJavaReflectionProvider.visitSerializableFields(PureJavaReflectionProvider.java:114) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter.marshal(ReflectionConverter.java:44) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.writeItem(AbstractCollectionConverter.java:68) at com.thoughtworks.xstream.converters.collections.CollectionConverter.marshal(CollectionConverter.java:47) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter$1.writeField(ReflectionConverter.java:78) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter$1.visit(ReflectionConverter.java:59) at com.thoughtworks.xstream.converters.reflection.PureJavaReflectionProvider.visitSerializableFields(PureJavaReflectionProvider.java:114) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter.marshal(ReflectionConverter.java:44) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter$1.writeField(ReflectionConverter.java:78) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter$1.visit(ReflectionConverter.java:59) at com.thoughtworks.xstream.converters.reflection.PureJavaReflectionProvider.visitSerializableFields(PureJavaReflectionProvider.java:114) at com.thoughtworks.xstream.converters.reflection.ReflectionConverter.marshal(ReflectionConverter.java:44) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.writeItem(AbstractCollectionConverter.java:68) at com.thoughtworks.xstream.converters.collections.CollectionConverter.marshal(CollectionConverter.java:47) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.writeItem(AbstractCollectionConverter.java:68) at com.thoughtworks.xstream.converters.collections.MapConverter.marshal(MapConverter.java:51) at com.thoughtworks.xstream.core.ReferenceByXPathMarshaller.convertAnother(ReferenceByXPathMarshaller.java:36) at com.thoughtworks.xstream.core.TreeMarshaller.start(TreeMarshaller.java:46) at com.thoughtworks.xstream.core.ReferenceByXPathMarshallingStrategy.marshal(ReferenceByXPathMarshallingStrategy.java:17) at com.thoughtworks.xstream.XStream.marshal(XStream.java:489) at com.thoughtworks.xstream.XStream.marshal(XStream.java:479) at com.thoughtworks.xstream.XStream.toXML(XStream.java:464) at com.atlassian.confluence.compat.setup.xstream.XStream111Compat.toXML(XStream111Compat.java:20) at com.atlassian.confluence.compat.setup.xstream.XStreamManagerCompat.toXML(XStreamManagerCompat.java:50) at com.comalatech.confluence.remotepublishing.confluence.BandanaPublishHistoryManager.saveBandanaPublishHistoryInfoSpaceConfigs(BandanaPublishHistoryManager.java:76){noformat}\r\nAs you can see, the problem is related while the library handles the final attribute Namespace of the Label. The error is the same if we don't call to the\u00a0{{XStreamManagerCompat}}\u00a0and instead we rely in the XML marshalling of BandanaManager{{.}}\r\n\r\n\u00a0\r\n\r\nPrevious to this, we're using directly a XStream instance defining the StaxDriver and a\u00a0 custom converter to be able to get rid of this exception and marshall/unmarshall the label object correctly. Code sample:\r\n{code:java}\r\nXStream xStream = new XStream(new StaxDriver());\r\n// We were having problems with Label's Namespace, as it has a private constructor, so we need to convert from object to\r\n// XML and from XML to object manually\r\nxStream.registerConverter(new Converter() {\r\n    @Override\r\n    public boolean canConvert(Class aClass) {\r\n       return aClass.equals(Namespace.class);\r\n    }\r\n    @Override\r\n    public void marshal(Object o, HierarchicalStreamWriter hierarchicalStreamWriter, MarshallingContext marshallingContext) {\r\n       Namespace namespace = (Namespace)o;\r\n       hierarchicalStreamWriter.startNode(\"namespacePrefix\");\r\n       hierarchicalStreamWriter.setValue(namespace.getPrefix());\r\n       hierarchicalStreamWriter.endNode();\r\n    }\r\n    @Override\r\n    public Object unmarshal(HierarchicalStreamReader hierarchicalStreamReader, UnmarshallingContext unmarshallingContext) {\r\n        hierarchicalStreamReader.moveDown();\r\n        String namespacePrefix = hierarchicalStreamReader.getValue();\r\n        hierarchicalStreamReader.moveUp();\r\n        if (namespacePrefix.equals(\"my\")){\r\n          return Namespace.PERSONAL;\r\n        }else if (namespacePrefix.equals(\"team\")){\r\n          return Namespace.TEAM;\r\n        }else if (namespacePrefix.equals(\"global\")){\r\n          return Namespace.GLOBAL;\r\n        }else {\r\n          return Namespace.SYSTEM;\r\n        }\r\n     }\r\n});\r\n{code}\r\nSo we're kind of stuck here if from Confluence 7.10 we cannot add this kind of custom converters or configurations using the {{XStreamManagerCompat}}.\r\n * Are you plan to resolve this adding some way to customize the internal XStream?\r\n * Or in this case as the error is related to your internal Label model, maybe you can provide\u00a0{{XStreamManagerCompat}} implementation already being compatible to marshall/unmarshall Confluence model.\r\n\r\n\u00a0\r\n\r\nLet us know if you need anything more.\r\n\r\n\u00a0",
      "summary": "Confluence 7.10 XStream Compat while saving"
    }
  },
  {
    "key": "CONFSERVER-60575",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-09T06:59:00.000+0000",
      "description": "h3. Summary\r\n\r\nPreviews of MS Office and PDF file attachments are not included in MS Word or PDF exports of a page.\r\nh3. Steps to Reproduce\r\n # Import a test PPT file and previewed it using both the view file macro and the PDF macro\r\n # Exported the page using both Export to PDF and Export to word functionality.\r\n\r\nh3. Expected Results\r\n * Preview of the PPT file should be available in both the PDF and Word Export.\r\n\r\nh3. Actual Results\r\n * The preview of the file is missing from both the PDF and the Word export.\r\n * In both PDF and Word export, instead of the viewfile macro,\u00a0a placeholder image of a paperclip is shown.\r\n * The Office macro only shows a big grey area in a PDF export. In a Word export, the Office macro is completely omitted.\r\n\r\nh4. Workaround\r\n\r\nNo workaround at the moment.\u00a0",
      "summary": "Previews of MS Office and PDF file attachments are not included in MS Word or PDF exports of a page"
    }
  },
  {
    "key": "CONFSERVER-60573",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-08T14:22:03.000+0000",
      "description": "h3. Issue Summary\r\n* When adding an empty comment to a Confluence page through an API, if the comment has other tags (such as the bold tag), it will propagate the formatting to subsequent comments.\r\n\r\nh3. Steps to Reproduce\r\n# Create a script to make the following request to add a comment:\r\n {code: title=Python Script Example}\r\ndef makeRequest(pageTitle, commentContent):\r\n    r = requests.get('http://baseURL/contextPath/rest/api/content',\r\n        params={'title' : pageTitle},\r\n        auth=('username', 'password'), verify=False)\r\n    printResponse(r)\r\n    parentPage = r.json()['results'][0]\r\n    pageData = {'type':'comment', 'container':parentPage,\r\n        'body':{'storage':{'value':commentContent,'representation':'storage'}}}\r\n    r = requests.post('http://baseURL/contextPath/rest/api/content',\r\n        data=json.dumps(pageData),\r\n        auth=('username', 'password'),\r\n        headers=({'Content-Type':'application/json'}), verify=False)\r\n    printResponse(r)\r\n\r\nmakeRequest('pageTitle', \"<b><u></u></b>\")\r\nmakeRequest('pageTitle', \"Now everything will be bold\")\r\n{code}\r\n# Run the script\r\n\r\nh3. Expected Results\r\n* The script will run and the formatting, even though the comment is empty, will be applied only to the first comment\r\n\r\nh3. Actual Results\r\n* The bold formatting that was meant to be applied only to the first comment will affect subsequent comments:\r\n !Screen Shot 2020-12-08 at 11.20.06.png|thumbnail! \r\n\r\nh3. Workaround\r\n* Add an extra spacing between the tags of the empty comment. In the example above:\r\n{code}\r\nmakeRequest('pageTitle', \"<b><u> </u></b>\")\r\n{code}",
      "summary": "Adding an empty comment with formatting through an API breaks the formatting of the following comments"
    }
  },
  {
    "key": "CONFSERVER-60571",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-08T03:56:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a Host is not configured a user visiting jira/plugins/servlet/myworkauth url will get just 500 error page.\r\n\r\nDetected during\u00a0quality testing for this PR [https://stash.atlassian.com/projects/JIRASERVER/repos/jira/pull-requests/8961/overview?commentId=2725990].\r\n\r\nAffected mywork plugin versions: at least 7.0.1 and 8.0.5.\r\nh3. Steps to Reproduce\r\n # Jira instance is set up and running without any application links configured.\r\n # Navigate to `jira/plugins/servlet/myworkauth` URL.\r\n\r\nh3. Expected Results\r\n\r\nUser-friendly error page is displayed instead of default 500 error page (ie. the error is handled).\r\nh3. Actual Results\r\n\r\nA default 500 error page is displayed with the following exception logged (please refer to the connie-jira-applinks-auth-error.txt file in this ticket the attachments)\r\nh3. Workaround\r\n\r\nSet up a desired application link before visiting `jira/plugins/servlet/myworkauth`.\r\n\r\n\u00a0",
      "summary": "If a Host is not configured a user visiting jira/plugins/servlet/myworkauth url will get just 500 error page"
    }
  },
  {
    "key": "CONFSERVER-60569",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-07T14:13:25.000+0000",
      "description": "When editing a page, the \"Close\" button is misleading, you'd have to hover it for a few seconds to understand that it saves the draft instead of discarding it. The button to delete unpublished changes is hidden on the !https://confluence.atlassian.com/download/thumbnails/704577869/ellipsis.png!.\r\nThe button could say \"Close and Save Draft\" to avoid any confusion.\r\n\r\nh3. Workaround\r\nChange the text in the button via Stylesheets:\r\n# Go to !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png|width=16! > General configuration > Stylesheet;\r\n# Choose *Edit*;\r\n# Add the following:\r\n{code}#rte-button-cancel::after {\t\r\n\tcontent: ' and Save Draft';\r\n}{code}\r\n# And save.",
      "summary": "Close button is misleading"
    }
  },
  {
    "key": "CONFSERVER-60568",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-07T13:56:04.000+0000",
      "description": "h3. Issue Summary\r\nUser without permissions to browse Confluence is presented with an Administrative link upon reaching \"Not Permitted\" screen\r\n\r\nh3. Steps to Reproduce\r\n# Install a vanilla instance of Confluence\r\n#* Validated on Confluence versions 7.4.5 and 7.9.0\r\n# Create a regular user in the Internal Directory\r\n# Remove the user from the default confluence-users group\r\n# Try to log into Confluence with the newly created user\r\n\r\nh3. Expected Results\r\nReach the Not Permitted UI, without any links to Confluence Administrative pages.\r\n\r\nh3. Actual Results\r\nReach the Not Permitted UI, that contains breadcrumb links to Confluence Administrative pages.\r\n!image-2020-12-07-10-43-00-448.png|thumbnail!\r\n!image-2020-12-07-10-52-52-988.png|thumbnail!\r\n\r\nh3. Workaround\r\n# Edit the {{<confluence-install>/confluence/notpermitted.vm}} file and comment the {{#parse ( \"/breadcrumbs.vm\" )}} line - add a second hash symbol:\r\n{code:java}##parse ( \"/breadcrumbs.vm\" ){code}\r\n# Save the file\r\n\r\n(!) If running on a Data Center cluster, this must be done on each node\r\n(!) It is *not* necessary to restart Confluence",
      "summary": "Trying to authenticate to Confluence without CAN-USE permission shows a Not Permitted UI with links to Confluence Administrative pages"
    }
  },
  {
    "key": "CONFSERVER-60567",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-06T23:32:31.000+0000",
      "created": "2020-12-07T09:00:18.000+0000",
      "description": "h3. Issue Summary\r\nPage Properties Report macro will show a column as duplicate when one of the page properties sonatinas additional <div> or <p> tag in the header.\r\nPS: Tested in Confluence 7.3.2 with same storage format and the issue is not reproducible there.\r\n\r\nh3. Steps to Reproduce\r\n# Download source editor plugin\r\n# Create a page and name it page properties 1 and import the following storage format to page properties 1\r\n{code}\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"details\" ac:schema-version=\"1\" ac:macro-id=\"f6c757b9-b753-43b0-9dc2-4a83012cdcb5\"><ac:rich-text-body>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<table class=\"wrapped\"><colgroup> <col style=\"width: 164.0px;\" /> <col style=\"width: 756.0px;\" /> </colgroup>\r\n<tbody>\r\n<tr>\r\n<th>\r\n<div class=\"content-wrapper\">\r\n<p>ID</p></div></th>\r\n<td>\r\n<div class=\"content-wrapper\">\r\n<p class=\"auto-cursor-target\">2019/114</p></div></td></tr>\r\n<tr>\r\n<th colspan=\"1\">test&Atilde;</th>\r\n<td colspan=\"1\">\r\n<div class=\"content-wrapper\">\r\n<p class=\"auto-cursor-target\"><span>1</span></p></div></td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p></ac:rich-text-body></ac:structured-macro>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n{code}\r\n# Create a page and name it page properties 1 and import the following storage format to page properties 2\r\n{code}\r\n<p class=\"auto-cursor-target\"><br /></p><ac:structured-macro ac:name=\"details\" ac:schema-version=\"1\" ac:macro-id=\"f6c757b9-b753-43b0-9dc2-4a83012cdcb5\"><ac:rich-text-body>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<table class=\"wrapped\"><colgroup> <col style=\"width: 164.0px;\" /> <col style=\"width: 756.0px;\" /> </colgroup>\r\n<tbody>\r\n<tr>\r\n<th>\r\n<div class=\"content-wrapper\">\r\n<p>ID</p></div></th>\r\n<td>\r\n<div class=\"content-wrapper\">\r\n<p class=\"auto-cursor-target\">2020/055</p></div></td></tr>\r\n<tr>\r\n<th>\r\n<p>test&Atilde;</p></th>\r\n<td>\r\n<p><span>1</span></p></td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p></ac:rich-text-body></ac:structured-macro>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n{code}\r\n# Create a page and name it page properties 1report and import the following storage format to page properties report\r\n{code}\r\n<p><ac:structured-macro ac:name=\"detailssummary\" ac:schema-version=\"2\" ac:macro-id=\"0fefe94c-1313-47e0-9da5-78f272ee550c\"><ac:parameter ac:name=\"firstcolumn\">Ma&Atilde;&Yuml;nahme</ac:parameter><ac:parameter ac:name=\"pageSize\">100</ac:parameter><ac:parameter ac:name=\"sortBy\">Status</ac:parameter><ac:parameter ac:name=\"cql\">label = &quot;testproperties&quot; and space = currentSpace()</ac:parameter></ac:structured-macro></p>\r\n{code}\r\n# Add testproperties label to page properties 1 and page properties 2\r\n# Edit the page properties report macro in page properties report page to show tables from testproperties label. \r\n\r\nh3. Expected Results\r\nNo duplicate column show in the page properties report macro\r\n\r\nh3. Actual Results\r\nduplicate column shown\r\n !Screenshot 2020-12-07 at 10.01.00.png|thumbnail! \r\n\r\nh3. Workaround\r\nRemove the special characters or remove the additional tag in the column.\r\n\r\nAlternatively enable the dark feature {{masterdetail.legacy.parse}} (fixes the issue but also will limit number of rows shown to 1000 in page property report)",
      "summary": "Page Properties Report macro showing duplicate column for same key when one of the page properties report macro contains addtional <div> or <p> tag and colum header contains characters like \u00c3 "
    }
  },
  {
    "key": "CONFSERVER-60566",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-15T00:18:13.000+0000",
      "created": "2020-12-07T07:46:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUser avatars are missing from the dashboard after updating the Team Calendar to version 6.1.5.\r\nh3. Steps to Reproduce\r\n * Install TC-6.1.4 with Confluence 7.x\r\n * Go to the dashboard\r\n * The user avatars/icons are not visible.\r\n\r\nh3. Expected Results\r\n\r\nUser Avatars should be visible in the dashboard.\r\nh3. Actual Results\r\n\r\n!issue_no_icons.png|thumbnail! \u00a0\r\nh3. Workaround\r\n\r\nDowngrade from Team Calendars 6.1.4 to Team Calendars 6.1.2.\r\n\r\nNavigate to\u00a0*Confluence Administration*\u00a0\u00bb\u00a0*Manage Apps*\r\n * Uninstall Team Calendars 6.1.4\r\n * Once uninstalled, click\u00a0*Upload App*\u00a0and install\u00a0*Team Calendars 6.1.2 using this URL*:\r\n ** [https://marketplace.atlassian.com/download/apps/72307/version/1060990330]",
      "summary": "Team Calendars 6.1.4 doesn't show user avatar on the dashboard "
    }
  },
  {
    "key": "CONFSERVER-60565",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-06T23:22:21.000+0000",
      "description": "h3. Problem\r\nWhen adding an Office Macro (for instance Powerpoint Macro) to a Confluence page, the previewing of high-resolution images and texts will result in blurry output in the Confluence Office Macro Preview.\r\n\r\nh3. Suggested Solution\r\nAllow controlling the resolution of the Office Macro preview in Confluence.\r\n\r\nh3. Why This Is Important\r\nBetter end-user experience in Confluence whilst previewing Office documents.\r\n\r\nh3. Workaround\r\nOpen the document in Office via Companion App to get the original document resolution.",
      "summary": "Ability to control Office Macro Preview Resolution"
    }
  },
  {
    "key": "CONFSERVER-60564",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-12-20T22:40:26.000+0000",
      "created": "2020-12-04T20:45:18.000+0000",
      "description": "h3. Problem\r\n\r\nThe Atlassian Marketplace does not have a compatible version of Advanced Roadmap released for Confluence 7.8 yet. Using the latest version of AR 1.2.0 (which only shows as compatible for Confluence Data Center 6.12.0 - 7.7.4) breaks the inline comments on Confluence pages that use this app.\r\nh3. Environment\r\n\r\nConfluence version 7.8.X\r\n Advanced Roadmaps for Jira app in Confluence version 1.2.0\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.8.3\r\n # Install Advanced Roadmaps for Jira app version 1.2.0 in Confluence\r\n # Add the AR macro to a Confluence page\r\n # Also, add some text to the page and publish it\r\n # Try to add inline comments anywhere on the page and it will throw a \"The editor didn't load properly\" error.\r\n\r\nh3. Expected Results\r\n\r\nThe inline comments should work on pages using Advanced Roadmaps macro\r\nh3. Actual Results\r\n\r\nThe inline comments break on pages using Advanced Roadmaps macro\r\nh3. Workaround\r\n\r\nN/A\r\nh3. Notes\r\n\r\nThis is only an issue after upgrading Confluence to version 7.8.",
      "summary": "Inline comments do not work in Confluence with Advanced Roadmaps for Jira app version 1.2.0"
    }
  },
  {
    "key": "CONFSERVER-60563",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-04T15:10:24.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe *Engine name* on Tomcat's {{server.xml}} is set to Standalone by default in Confluence:\r\n{code}\r\n<Engine name=\"Standalone\" defaultHost=\"localhost\" debug=\"0\">\r\n{code}\r\n\r\nThis configuration does not allow for exposing MBeans for remote Jconsole JMX monitoring.\r\n\r\nh3. Suggested Solution\r\n\r\nUsing the *Engine name* as Catalina (as Jira currently does) allows for out-of-the-box remote Jconsole JMX monitoring.\r\n\r\nThere are no known downsides to switching the Engine name.\r\n\r\nh3. Workaround \r\n\r\nManually edit Tomcat's {{server.xml}} to switch the *Engine name* from Standalone to Catalina:\r\n{code}\r\n<Engine name=\"Catalina\" defaultHost=\"localhost\" debug=\"0\">\r\n{code}\r\n\r\nAfter the changes are done, restart Confluence.\r\n\r\nIf running Confluence DC, repeat the same procedure for each node in the cluster.\r\n\r\nPS: The same steps need to be taken after a Confluence upgrade for JMX monitoring to keep working.",
      "summary": "Switch the Engine name from Standalone to Catalina on Tomcat"
    }
  },
  {
    "key": "CONFSERVER-60562",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-04T01:24:53.000+0000",
      "description": "h3. Problem\r\nThe user story could be _As an end user I want to be able to count how many times I have shared a page in order to enhance my reporting capabilities in Confluence_\r\n\r\nIt is not possible to track the share action from an end-user perspective.\r\n The requirement of this enhancement request will be to make the Share Action against a Confluence page being \"audit-able\".\r\n\r\nh3. Suggested Solution\r\n\r\nThe share action could be added to the *[View Space Activity|https://confluence.atlassian.com/doc/view-space-activity-2818381.html]* capabilities for instance.\r\n\r\nh3. Why This Is Important\r\nThe metric is important to get an idea of contents shared often and identify potential bottlenecks from there. \r\n\r\nh3. Workaround\r\nN/A\r\n\r\nA small recording of the feature we are looking to track is attached",
      "summary": "Tracking the Share Action on Confluence Pages"
    }
  },
  {
    "key": "CONFSERVER-60558",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-03T18:46:02.000+0000",
      "description": "h4. Problem\r\n\r\nSuppose the macro uses a JQL \"project = ABC and status = done,\" we want to update this JQL in the macro with \"status = canceled.\"\r\n\r\nThe problem this macro with manually written JQL is being used on maybe 1000 to 2000 pages.\r\nh4. Suggestion\r\n\r\nProvide an option to bulk change multiple selected JQL statements in select Jira Issue macros on pages or spaces.",
      "summary": "Method to build change the JQL for multiple Jira issue macro."
    }
  },
  {
    "key": "CONFSERVER-60557",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-03T11:17:48.000+0000",
      "description": "The new bar chart style introduced in Confluence 6.15 looks old. It would be good to have an option for changing style from the current look to the previous look.\r\n\r\nPlease see the screenshot below:\r\n\r\n*Confluence 6.14*\r\n\r\n!6.14_bar_chart.jpg|thumbnail!\r\n\r\n*Confluence 6.15*\r\n\r\n!6.15_bar_chart.jpg|thumbnail!",
      "summary": "Add option to chart macro for changing the style of the bar charts looks like in Confluence 6.14"
    }
  },
  {
    "key": "CONFSERVER-60556",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-03T06:20:55.000+0000",
      "description": "h3. Issue Summary\r\nThe current *Drafts* tab in the user profile only shows the draft that the page was newly created but not published yet.  Once the page is published, the page does not show up in the tab as it's not a draft anymore.\r\nIt would be convenient to have a new tab for *Unpublished* which shows the list of pages that were modified but not published yet.\r\n*Recently worked* shows the unpublished pages, but it becomes hard to read when there are a lot of pages have been modified.  So, currently, there is no place to see the list of all the unpublished pages for each user.\r\n\r\nh3. Workaround\r\nRequired, if there is no workaround please state:\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Need a list of Unpublished pages in the user profile"
    }
  },
  {
    "key": "CONFSERVER-60555",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-02T18:24:38.000+0000",
      "description": "Basic concept is to allow referencing (not directly attaching) files from third party cloud storage providers such as Dropbox, Box, OneDrive, etc.\u00a0Given all of these providers can be setup to use OIDC, the connections and authorization should be pretty simple. On top of this, the \"Attachments\" macro should be updated to clearly delineate where the attachment is actually stored.",
      "summary": "Enhance page attachments to allow linking to files from cloud storage providers (Dropbox, Box, etc.)"
    }
  },
  {
    "key": "CONFSERVER-60554",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-02T14:28:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWord Preview does not always show the title of the document\r\n\r\nPlease see the below screen recording:\r\n [^Screen Recording 2020-12-02 at 03.21.09 PM.mp4]\r\nh3. Steps to Reproduce\r\n # Create a page in Confluence.\r\n # Insert these two Word files with only titles on them to the page. Same font ({{Calibri}}) used for both documents. [^working-2.docx], [^not-working-2.docx]\r\n # Click the attached word document to preview it.\r\n\r\nh3. Expected Results\r\n\r\nFor both files, the title rendered properly.\r\nh3. Actual Results\r\n\r\nFor the [^not-working-2.docx] file, the title not rendered instead a placeholder is shown.\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available\r\n\u00a0",
      "summary": "Word Preview does not always show the title of the document"
    }
  },
  {
    "key": "CONFSERVER-60552",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-01T22:13:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe installer should prompt for the location of the install directory during upgrades in the case that the existing install directory is named something like \"atlassian-confluence-7.6.1\" and you are using the installer to upgrade to version 7.6.2\r\nh3. Steps to Reproduce\r\n # Use the installer to upgrade an existing instance\u00a0\r\n\r\nh3. Expected Results\r\n\r\nDuring the upgrade, you will be prompted with the option to change the location of the install directory or keep the default choice of what it is currently.\r\nh3. Actual Results\r\n\r\nThe installer always goes with the existing path for the install directory.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Installer should prompt for install directory during upgrades"
    }
  },
  {
    "key": "CONFSERVER-60551",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-01T22:03:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWe upgraded to 7.4.3 and found that the previous method of customizing invalid SAML messages is no longer working. Before this upgrade, we made changes to the confluence/WEB-INF/atlassian-bundled-plugins/atlassian-authentication-plugin-xx.xx.xx.jar\u00a0 and updated the jar file, however this method no longer seems to work.\r\nh3. Steps to Reproduce\r\n # Setup an OKTA developer account and then configure an OKTA instance and connect it to a Confluence 7.4.3 Data Center instance using the instructions found [here|https://confluence.atlassian.com/confkb/how-to-integrate-confluence-with-okta-saml-sso-2-0-1002475314.html].\r\n # Use the instructions found [here|https://confluence.atlassian.com/confkb/how-to-edit-files-in-confluence-jar-files-103711179.html] to extract the contents of the atlassian-authentication-plugin-3.2.1.jar file, open the atlassian-plugin.properties file in a text editor and update this line so that it says something else:\r\n{code:java}\r\n#---------------------Authentication failed---------------------    \r\nauthentication.failed.header= TTT We can''t log you in right now\r\n{code}\r\n\r\n # Re-compress the JAR file and then use it to replace the existing one in the WEB-INF/atlassian-bundled-plugins directory.\r\n # Restart Confluence\r\n # Create a user in OKTA, assign that user to the Confluence app, but do *NOT* add the user to Confluence\r\n # Try to login to Confluence\r\n\r\nh3. Expected Results\r\n\r\nThe error message on the failed login screen should be updated to the string entered in step 2 above.\r\nh3. Actual Results\r\n\r\nThe error message does not change.\r\n\r\nPlease confirm if this is a bug or if the procedure for editing this error message has changed with Confluence 7.4.3.\r\nh3. Workaround\r\n\r\nYou can workaround this issue by extracting the\u00a0atlassian-authentication-plugin-3.2.1 jar and then going into the templates directory and updating the error-page-generic.soy file like we have updated the one attached to this issue, however we would still like to understand why updating the\u00a0authentication.failed.header or the\u00a0authentication.failed.message value in the\u00a0atlassian-plugin.properties file no longer works.\u00a0Ideally, we would just like to have a dialog box, field/UI where we can enter this custom text and should be done. It is also inconvenient and time consuming to have to figure out how to update this error screen a new way when we update Confluence.",
      "summary": "Updating 'atlassian-authentication-plugin-3.2.1.jar' file Does Not Update Authentication Error Message After Upgrading to Confluence 7.4.3"
    }
  },
  {
    "key": "CONFSERVER-60550",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-12-02T04:26:21.000+0000",
      "created": "2020-12-01T16:53:06.000+0000",
      "description": "h3. Issue Summary\r\nThe addition of user search auditing in [Confluence 7.8|https://confluence.atlassian.com/doc/confluence-7-8-release-notes-1018778133.html] generates a red herring error in the application log file when an Anonymous user performs a site search. \r\n\r\nThe class *SearchAuditListener.java* was added to the plugin version 0.6.0 -- confluence-auditing-coverage-0.6.0. Version 0.5.7 of this plugin doesn't trigger this error, so, versions before 7.8 are *not* affected by this problem.\r\n\r\nh3. Steps to Reproduce\r\n# Install Confluence \r\n# Go to Global Permission page\r\n# Edit permissions to give Anonymous users the Can Use permission\r\n# Log out, use another browser or incognito mode, and access Confluence as an Anonymous user\r\n# Perform a search \r\n# Open the atlassian-confluence.log file and notice an error\r\n\r\nh3. Expected Results\r\nError is treated or filtered to not show up \r\n\r\nh3. Actual Results\r\nA single search from an anonymous user may generate 5 to 15 stack trace in the atlassian-confluence.log file:\r\n\r\n{code}\r\n2020-12-01 12:42:53,403 ERROR [http-nio-8090-exec-8] [atlassian.confluence.event.ConfluenceEventDispatcher] run There was an exception thrown trying to dispatch event [com.atlassian.confluence.event.events.search.SiteSearchAuditEvent@b1d4e4b] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.confluence.plugins.auditing.listeners.SearchAuditListener.onSiteSearchAuditEvent(com.atlassian.confluence.event.events.search.SiteSearchAuditEvent), listener=com.atlassian.confluence.plugins.auditing.listeners.SearchAuditListener@315a8fce} (timed)]\r\n -- referer: http://localhost:8090/ | url: /rest/api/search | traceId: aebfcd02cf893ee1 | userName: anonymous\r\njava.lang.RuntimeException: Listener: com.atlassian.confluence.plugins.auditing.listeners.SearchAuditListener event: com.atlassian.confluence.event.events.search.SiteSearchAuditEvent\r\n...\r\nCaused by: java.lang.NullPointerException\r\n\tat com.atlassian.confluence.plugins.auditing.listeners.SearchAuditListener.onSiteSearchAuditEvent(SearchAuditListener.java:60)\r\n{code}\r\n\r\nh3. Workaround\r\n\r\n# Go to Custom HTML page\r\n# Click edit\r\n# Add the following to *At the end of the HEAD* section and click Save:\r\n{code}\r\n<script type=\"text/javascript\">\r\n    AJS.toInit(function(){\r\n        if (AJS.params.remoteUser == ''){\r\n          AJS.$('#quick-search-query').hide();\r\n        }\r\n    });\r\n</script>\r\n{code}\r\nThis will hide the search bar for anonymous users. \r\n",
      "summary": "Audit event listener for anonymous search floods the atlassian-confluence.log file"
    }
  },
  {
    "key": "CONFSERVER-60549",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-01T15:21:03.000+0000",
      "description": "h3. Problem Definition\r\nConfluence differentiates between Drafts and Unpublished Changes as described in [Drafts|https://confluence.atlassian.com/doc/drafts-149040.html] documentation:\r\n{quote}\r\nA *draft* is a page you've never published. *Unpublished changes* are edits that you've made to a published page, without republishing them.  \r\n{quote}\r\n\\\\\r\n\r\nUsers can access their Drafts page by:\r\n * Directly accessing the URL {{<Confluence Base URL>/users/viewmydrafts.action}}.\r\n * Navigating to *Profile Picture* > *Drafts*.\r\n\r\nThe wording in this page says (Confluence 7.9.0):\r\n{quote}\r\nWhen you edit a page but don't publish the changes, a draft is created. Hit Resume to continue editing or publish the changes.\r\n{quote}\r\n\\\\\r\n\r\nThis wording may be confusing to users since it says _edit a page_, which can be perceived as _editing existing pages_.\r\nSince this page only shows _drafts_ of pages that were never published before, users may have the perception some content is lost in case they are looking for _Unpublished Changes_ of existing pages.\r\n\r\nh3. Suggested Solution\r\nProvide succinct information on what _type of drafts_ will be shown in this page, possibly linking to product documentation pages, such as the [Drafts|https://confluence.atlassian.com/doc/drafts-149040.html] document.\r\nAlso, it could have a link to {{<Confluence Base URL>/#recently-worked}} in case the user is searching for _Unpublished Changes_.\r\n\r\nAn option would be to implementing [CONFSERVER-55318|https://jira.atlassian.com/browse/CONFSERVER-55318], which suggests having both types of drafts available in this page.\r\n\r\n\r\n",
      "summary": "Improve in-product information on the User's draft page"
    }
  },
  {
    "key": "CONFSERVER-60548",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-01T08:48:50.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently when a page is restricted by a user, a system admin cannot view/edit this page. \r\n\r\nh3. Suggested Solution\r\n\r\nWhen a system admin accesses a restricted page, they should be prompted with an option that declares that the page is restricted and if they would still like to view the page.  And the admin should be able to view/edit page after answering yes for this  prompt. In Parallel, the owner of the page must be intimated about the administrator viewing the page.\r\n\r\nh3. Why This Is Important\r\n\r\nThis would ensure that admins have access to all pages, albeit with some intimation about the restriction.\r\n\r\nh3. Workaround\r\nNone at this point.",
      "summary": "Block first when system administrators view unauthorized content"
    }
  },
  {
    "key": "CONFSERVER-60547",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-12-01T05:49:14.000+0000",
      "description": "h3. Issue Summary\r\nUpon adding a 'Filter Result' gadgets onto a Confluence page, while trying to sort/rearrange the \"Field to Display\", the column freezes after sorting it once.\r\n\r\nTested and replicable with Confluence 7.8.1 with Jira was 8.5.8, on both Chrome and Firefox.\r\n\r\nh3. Steps to Reproduce\r\n# Add \"Filter Result\" to a page\r\n# Rearrange any \"Field to Display\" to a different position more than once\r\n\r\nScreen Recording:  [^Recording #2.mp4] \r\n\r\nh3. Expected Results\r\nThe field will rearrange/sort accordingly.\r\n\r\nh3. Actual Results\r\nThe 'Field to Display' column freeze and no longer function\r\nThe below exception is thrown in the browser log file:\r\n{noformat}\r\ncom.atlassian.jira.gadgets:column-picker.js?locale=en-MY:6 Uncaught TypeError: AJS.triggerEvtForInst is not a function\r\n    at HTMLTableSectionElement.update (VM763 com.atlassian.jira.gadgets:column-picker.js:6)\r\n    at t.<computed>.<computed>._trigger (VM751 com.atlassian.auiplugin:split_aui.splitchunk.vendors--d18e3cafa7.js:3)\r\n    at t.<computed>.<computed>._trigger (VM758 com.atlassian.auiplugin:split_aui.splitchunk.vendors--6ce18a1d80.js:3)\r\n    at t.<computed>.<computed>._trigger (VM751 com.atlassian.auiplugin:split_aui.splitchunk.vendors--d18e3cafa7.js:3)\r\n    at t.<computed>.<computed>.<anonymous> (VM758 com.atlassian.auiplugin:split_aui.splitchunk.vendors--6ce18a1d80.js:3)\r\n    at t.<computed>.<computed>._clear (VM758 com.atlassian.auiplugin:split_aui.splitchunk.vendors--6ce18a1d80.js:3)\r\n    at t.<computed>.<computed>._clear (VM751 com.atlassian.auiplugin:split_aui.splitchunk.vendors--d18e3cafa7.js:3)\r\n    at t.<computed>.<computed>._mouseStop (VM758 com.atlassian.auiplugin:split_aui.splitchunk.vendors--6ce18a1d80.js:3)\r\n    at t.<computed>.<computed>._mouseStop (VM751 com.atlassian.auiplugin:split_aui.splitchunk.vendors--d18e3cafa7.js:3)\r\n    at t.<computed>.<computed>._mouseUp (VM755 com.atlassian.auiplugin:split_aui.splitchunk.vendors--db57146687.js:3)\r\nupdate @ com.atlassian.jira.gadgets:column-picker.js?locale=en-MY:6\r\n{noformat}\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Not able to sort Filter Result Gadget \"Field To Display\" column"
    }
  },
  {
    "key": "CONFSERVER-60546",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-15T22:09:24.000+0000",
      "created": "2020-12-01T05:20:26.000+0000",
      "description": "h3. Problem\r\n\r\nWhile using Confluence in firefox, merging two cells of a table does not work. While merging 3 cells is possible. Also selecting 3 cells and marking two and then merging works.\r\nh3. Environment\r\n\r\n1. Any Confluence version\r\n 2. Firefox browser 72.0.1\r\n .\r\nh3. Steps to Reproduce\r\n\r\n1. Edit a Confluence page and include a table containing several rows and columns.\r\n 2. Select two cells and then use the \"merge\" icon at the top the merge the two cells.\r\n 3. Select three cells then use the \"merge\" icon at the top the merge the two cells.\r\n 4. Select three cells, but reduce selection to two and then use the merge icon.\r\nh3. Expected Results\r\n\r\nFor all steps 2,3 & 4 the cells should be merged.\r\nh3. Actual Results\r\n\r\n1. For step 2, cells are not merging.\r\n 2. For step 3 cells are merging.\r\n 3. For step 4, cells are merging.\r\nh3. Workaround\r\n\r\nWorkaround is to use Chrome or IE.\u00a0\r\nh3. Notes",
      "summary": "In Firefox Merging Two Cells of a Table Does not Work"
    }
  },
  {
    "key": "CONFSERVER-60545",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-07T01:45:00.000+0000",
      "created": "2020-11-30T15:35:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nJira issue due dates are not displayed in Confluence when the profile language is set to Norwegian.\r\nh3. Steps to Reproduce\r\n # Create a Jira Issue Date event.\r\n # Select a project and display *Issue Due Date*.\r\n # Click '*OK*' to proceed.\r\n # Click on any event that displays a due date.\r\n\r\nh3. Expected Results\r\n\r\nThe\u00a0*Issue Due* field should display the due date.\r\n\r\n!Due Date (Expected behaviour).png|thumbnail!\r\nh3. Actual Results\r\n\r\nThe *Issue Due* field displays *calendar3.issue.remainingDays* or *calendar3.issue.dueDays*.\r\n\r\n!Due Date (Actual behaviour).png|thumbnail!\r\nh3. Note\r\n\r\nThis issue does not appear if Confluence is set to English.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Jira issue due date is not displayed when language is set to Norwegian (norsk)"
    }
  },
  {
    "key": "CONFSERVER-60544",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-30T06:43:07.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently confluence does not have an updated REST API client library as well as documentation surrounding it. \r\n\r\nh3. Suggested Solution\r\n\r\nIt would be great if Confluence can support a REST client similar to that of Jira: https://ecosystem.atlassian.net/wiki/spaces/JRJC/overview\r\n\r\n\r\nh3. Why This Is Important\r\n\r\nThis would help developers get a better grip of the functions & design applications around these apis.\r\n\r\nh3. Workaround\r\nThere are some outdated and custom API's available. But these are generally outdated.",
      "summary": "Confluence REST API Client & Documentation"
    }
  },
  {
    "key": "CONFSERVER-60543",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-30T04:11:20.000+0000",
      "description": "h3. Problem\r\n\r\nWhen we highlight a text in Confluence and click on \"Create Jira Issue\", the issue always gets created with issue-key only\u00a0 however issue title (summary) is missing and the title gets displayed as soon as you edit the \"Insert Jira Issue/Filter\"-macro inside the Page.\r\nh3. Environment\r\n\r\n.Confluence 7.4.4\r\nh3. Steps to Reproduce\r\n * Select (highlight)\u00a0 any text for example \"*ITTII*\" on the page to create Jira issue and fill up the description field and click on Create button.\r\n\r\n\u00a0\r\n{quote}1.png\u00a0\r\n{quote} * \u00a0Issue appeared\u00a0in the page with the issue-key only (DEEP-12).\u00a0\r\n\r\n{quote}2.png\r\n{quote} * \u00a0In the page edit mode we edit the issue in Jira issue macro by clicking on edit button and click on insert as follows:\r\n\r\n{quote}\u00a0 \u00a03.png\r\n{quote} * \u00a0 After that summary field also appeared on the page along with the issue-key as follows (DEEP-12-ITTII):\u00a0\r\n\r\n{quote}4.png\r\n{quote}\r\nh3. Expected Results\r\n\r\n_While creating issue summary should appear._\u00a0\u00a0\r\nh3. Actual Results\r\n\r\n_Only issue key appears._\r\nh3. Workaround\r\n\r\nIn the page edit mode, edit the issue in Jira issue macro by clicking on edit button and click on insert\r\nh3. Notes",
      "summary": "Jira Issue missing title (summary) when created from Confluence"
    }
  },
  {
    "key": "CONFSERVER-60542",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-30T00:22:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a Space is imported from Cloud to Server, the import logic is comparing *cwd_user.user_name* instead of *cwd_user.lower_user_name*. This can break matching process of username when they have different casing.\r\n\r\nh3. Steps to Reproduce\r\n# In Confluence server have a single user exist with different *cwd_user.user_name* but same *cwd_user.lower_user_name* (casing will be different) \r\n||username||||lower_username||email||external ID|| Directory ID||\r\n|user|user|user@example.com|\t937c9532-f12f-437b-a8fd-7e9e0e8d8e69|294913|\r\n|USER|user|user@example.com\t|86782f67-5bc1-4818-9326-a9bc63eeccb3|8126465|\r\n|USER|user|user@example.com\t|458af6bc-40ae-49ae-9dff-7528d854836e|8126466|\r\n# If *user_mapping* table has *another user* which the following username,\r\n||user_key|| username||lower_username||\r\n|402880847157f278017157f699530000| user@example.com|user@example.com|\r\n# Import a Space from Cloud with user_mapping object like follows which will be mapped to the existing user in Confluence's DB\r\n{code:xml|title=Cloud's XML export}\r\n<object class=\"ConfluenceUserImpl\" package=\"com.atlassian.confluence.user\">\r\n<id name=\"key\"><![CDATA[8a7f808564e27fae0164d4db118d0064]]></id>\r\n<property name=\"name\"><![CDATA[user@example.com]]></property>\r\n<property name=\"lowerName\"><![CDATA[user@example.com]]></property>\r\n<property name=\"atlassianAccountId\"><![CDATA[5a0bbaa80e8b4605b373d809]]></property>\r\n</object>\r\n{code}\r\n\r\n\r\nh3. Expected Results\r\n\r\nConfluence should recognise that the imported user already exists in the database of Confluence and maps all imported content to the username *user*\r\n\r\nh3. Actual Results\r\n\r\nLogs will show the following,\r\n{code}\r\n2020-11-24 01:15:26,480 WARN [Long running task: Importing data] [importexport.xmlimport.persister.ConfluenceUserPersister] persist Ambiguous result while trying to match user by email address. An Unknown User will be created for email [user@example.com] entry.\r\n{code}\r\n\r\nA new row (user) will be inserted into *user_mapping* which will eventually result into violation of the unique constraint on *user_mapping.lower_username*\r\n\r\n{code}\r\n2020-11-24 01:15:26,530 ERROR [Long running task: Importing data] [engine.jdbc.spi.SqlExceptionHelper] logExceptions Cannot insert duplicate key row in object 'dbo.user_mapping' with unique index 'user_mapping_unq_lwr_username'. The duplicate key value is (user@example.com).\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nUpdate LDAP server to have lower case usernames temporarily. Synchronise with Confluence and re-import the Space. ",
      "summary": "Cloud to Server Space import is checking username instead of lower username"
    }
  },
  {
    "key": "CONFSERVER-60541",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-27T13:21:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you configure a table and use the tasklist macro to add tasks in that table, the checkbox with the help text appears, which is highlighted in blue. So you can delete and add your task description, this is the expected behavior.\r\n\r\nThe problem happens when you add a new column to that table and use\u00a0the tasklist macro to add tasks in that table in the new column,\u00a0now, the help text is highlighted grey instead of blue and I cannot delete the text with Backspace. Also with the Remove button, I can't remove the text.\r\nh3. Steps to Reproduce\r\n # Create a table in a Confluence page with the Confluence table macro\r\n # Add a new column to that table.\r\n # Add a new tasklist element in a cell in the new column.\r\n # The help text is highlighted grey instead of blue and you will not be able to delete the text with Backspace.\u00a0\r\n\r\nh3. Expected Results\r\n\r\nAfter I added a tasklist element in a cell, in the new column, I should be able to delete the help text.\r\nh3. Actual Results\r\n\r\nI'm not able to delete the help text after I've added the new column.\r\n\r\nFor that, I've recorded a video: [https://share.getcloudapp.com/yAuZWYgB]\r\nh3. Workaround\r\n\r\nNo workaround.",
      "summary": "Confluence Tasklist macro behaves differently in a table when added new columns"
    }
  },
  {
    "key": "CONFSERVER-60539",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-26T09:54:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWidget connector 5.3.2 doesn't export widgetrenderer class thus breaking custom plugins that are using it\r\nh3. Steps to Reproduce\r\n # Widget Connector 5.3.2 doesn't export widgetrenderer class\r\n !Screenshot 2020-11-25 at 7.38.56 PM.png|width=515,height=311!\r\n\r\nh3. Expected Results\r\n\r\nIt should export the widgetrenderer class so that custom plugins can use it\r\nh3. Actual Results\r\n\r\nIt should export the widgetrenderer class as in the previous version\r\nh3. Workaround\r\n\r\nDowngrade to Widget connector 5.0.2",
      "summary": "Widget connector 5.3.2 doesn't extend widgetrenderer class thus breaking custom plugins that are using it"
    }
  },
  {
    "key": "CONFSERVER-60538",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-08T06:25:28.000+0000",
      "created": "2020-11-26T08:59:54.000+0000",
      "description": "h3. Issue Summary\r\nPerformance improvement in request access operation on a restricted page \r\n\r\nh3. Steps to Reproduce\r\n # When a user click on Request access on a restricted page, Confluence runs the following query for each group that has been assgined space admin permissions\r\n{code}\r\n2020-11-25 19:59:01,775 DEBUG [http-nio-8094-exec-8] [org.hibernate.SQL] logStatement select internalus1_.user_name as col_0_0_ from cwd_membership hibernatem0_ cross join cwd_user internalus1_ cross join cwd_group internalgr2_ where hibernatem0_.child_user_id=internalus1_.id and hibernatem0_.parent_id=internalgr2_.id and (hibernatem0_.child_group_id is null) and internalgr2_.lower_group_name=? and internalgr2_.directory_id=? and internalgr2_.group_type=? order by internalus1_.lower_user_name\r\n{code}\r\n # If there are multiple very large groups added, it can result in a higher CPU utilization on the instance and DB\r\n# Looking at the thread dump, the thread is busy with flushing and loading the user caches\r\n{code}\r\nhttp-nio-8080-exec-96 url:/confluence/res...48942/request/view username:HOE1IMB\" #446 daemon prio=5 tid=0x00007f23480b2800 nid=0x72b2 runnable [0x00007f1d9b075000]\r\n   java.lang.Thread.State: RUNNABLE\r\n    at sun.reflect.GeneratedMethodAccessor1160.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:41)\r\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.getPropertyValues(AbstractEntityTuplizer.java:604)\r\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.getPropertyValues(PojoEntityTuplizer.java:215)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.getPropertyValues(AbstractEntityPersister.java:4707)\r\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:178)\r\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:135)\r\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)\r\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)\r\n    at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:44)\r\n    at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1389)\r\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1882)\r\n    at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n    at org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:388)\r\n    at com.atlassian.crowd.embedded.hibernate2.HibernateUserDao.lambda$internalFindUser$21(HibernateUserDao.java:559)\r\n    at com.atlassian.crowd.embedded.hibernate2.HibernateUserDao$$Lambda$1777/720364257.doInHibernate(Unknown Source)\r\n    at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:385)\r\n    at org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:337)\r\n    at com.atlassian.crowd.embedded.hibernate2.HibernateUserDao.internalFindUser(HibernateUserDao.java:556)\r\n    at com.atlassian.crowd.embedded.hibernate2.HibernateUserDao.internalFindByName(HibernateUserDao.java:470)\r\n    at com.atlassian.crowd.embedded.hibernate2.HibernateUserDao.findByName(HibernateUserDao.java:457)\r\n    at com.atlassian.confluence.user.crowd.CachedCrowdUserDao.findUserInternal(CachedCrowdUserDao.java:95)\r\n    at com.atlassian.confluence.user.crowd.CachedCrowdUserDao.lambda$findUser$0(CachedCrowdUserDao.java:131)\r\n    at com.atlassian.confluence.user.crowd.CachedCrowdUserDao$$Lambda$1776/501151391.get(Unknown\r\n{code}\r\n# Since request mail has to be sent to only 5 users,its seems a waste to load all the users\r\n\r\nThis will affect our largest customers with a huge no. of groups and users\r\n\r\nh3. Expected Results\r\nConfluence shouldn't load all users from the groups to determine 5 users to send notification to\r\n\r\nh3. Actual Results\r\nConfluence loads all users from all the groups that have been assigned admin space permission\r\n\r\n\r\nh3. Workaround\r\n\r\n Currently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Performance improvement in request access operation on a restricted page "
    }
  },
  {
    "key": "CONFSERVER-60537",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T12:23:58.000+0000",
      "description": "*Expected Results*\r\nProvide a way to control who can generate tokens. For example allow specific set of users/groups to do it.\r\n\r\n*Actual Results*\r\nEither all users can generate a tokens or none of them (if the feature is disabled).",
      "summary": "Better control who can generate Personal Access Tokens"
    }
  },
  {
    "key": "CONFSERVER-60536",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T12:23:45.000+0000",
      "description": "*Expected Results*\r\nProvide a possibility to generate tokens by admins on behalf of the specific user.\r\n\r\n*Actual Results*\r\nUsers can create tokens only by themselves.",
      "summary": "Ability to generate Personal Access Tokens for specific users by admins"
    }
  },
  {
    "key": "CONFSERVER-60535",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T12:23:31.000+0000",
      "description": "*Expected Results*\r\nA user should be able to restrict permissions of the token while generating it. For example allow the user to generate a token which:\r\n* is read-write,\r\n* is read-only,\r\nor going further:\r\n* token which has permissions for a specific project (e.g. fetching issues of the project, creating a ticket in the project, etc),\r\n\r\n*Actual Results*\r\nCurrently all generated tokens have the exact set of permissions as the user has.",
      "summary": "Fine grained permissions for Personal Access Tokens"
    }
  },
  {
    "key": "CONFSERVER-60534",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T07:50:05.000+0000",
      "description": "h3. Problem Definition\r\nWhen using proxies which make use of refresh tokens, such as Azure Application Proxy (AAP), Confluence is not able to properly detect them, causing undesired behavior regarding user sessions, such as preventing page saves if editing for longer than 1h\r\n\r\nh3. Suggested Solution\r\nImprove how Confluence handles refresh tokens, so proxies that make use of them.",
      "summary": "Make Confluence handle refresh tokens when using Confluence behind reverse proxy"
    }
  },
  {
    "key": "CONFSERVER-60533",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T07:04:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhile attempting to mention few specific users either in body of the page, comment, permission or restriction autocomplete doesn't work.\r\n\r\nh3. Steps to Reproduce\r\n* Try to mention the user in the body of the page in edit mode\r\n* User information doesn't autocomplete or user can't be mentioned\r\n* This is true in the comment section as well\r\n* Behaviour is slightly different in Page Restriction and Space Permission section where the users in question gets added after typing the complete name and hitting the Enter button.\r\n\r\nh3. Troubleshooting Steps\r\n* Disabling and Re-enabling users doesn't help.\r\n* Flushing Cache from Cache Management, doesn't help.\r\n* Rebuilding Index from UI doesn't solve the issue.\r\n* Rebuilding [user index|https://confluence.atlassian.com/confkb/unable-to-mention-certain-users-in-confluence-779165995.html] doesn't resolve the issue.\r\n* Rebuilding Index from scratch doesn't resolve the issue either.\r\n\r\nh3. Expected Results\r\n\r\nAutocomplete to work in all the areas specified above.\r\n\r\nh3. Actual Results\r\n\r\nAutocomplete doesn't work as expected\r\n\r\nh3. Workaround\r\n\r\n* Have the user log into Confluence\r\n* Click on User Profile from the top right corner\r\n* Click on Settings \r\n* On the left hand side, now click on Editor\r\n* You would see \"Disable Autocomplete\" already unchecked\r\n* Now click on Edit, check the box next to \"Disable Autocomplete\"\r\n* Click on Submit\r\n* Click on Edit again and uncheck \"Disable Autocomplete\" and hit Submit again.",
      "summary": "Autocomplete doesn't work for few specific users while mentioning them"
    }
  },
  {
    "key": "CONFSERVER-60532",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-30T04:13:48.000+0000",
      "created": "2020-11-25T05:49:16.000+0000",
      "description": "Ooyala is a now defunct platform for content sharing. Since we are no longer actively maintaining the integration and it is not seeing much usage, we want to remove support for it.",
      "summary": "Remove support for Ooyala from Widget Connector"
    }
  },
  {
    "key": "CONFSERVER-60531",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T05:32:36.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn a page, reference an attachment from other page via storage format editor like below.\r\n{code:java}\r\n<p> <ac:image>\r\n <ri:attachment ri:filename=\"test.png\">\r\n      <ri:page ri:content-title=\"Test attachment A\"/>\r\n    </ri:attachment>\r\n  </ac:image></p>\r\n<p>dddddd</p>\r\n<p>test</p> {code}\r\nGo to *Page History*, then *Compare selected versions*.\r\n\r\n\u00a0\r\n\r\nThe\u00a0 comparison result will show unknown attachment.\r\nh3. Steps to Reproduce\r\n # Create a page 'Test attachment A', and\u00a0 add an attachment (test.png).\r\n # Create another page 'Test attachment B', and edit it in source editor.\r\n # Put the storage format code in the summary into\u00a0Test attachment B, and save.\r\n # Go to the Page History of\u00a0Test attachment B, select v.1 and CURRENT(v.2) , and click *Compare selected versions*\u00a0.\r\n\r\nh3. Expected Results\r\n\r\nThe versions comparison result is shown without error.\r\nh3. Actual Results\r\n\r\n\"Unknown Attachment\" is shown.\r\n !unkown_attachment_version_comparison.png|thumbnail!\r\n \u00a0\r\nh3. Workaround\r\n\r\nUsing URL instead\r\n{code:java}\r\n <ac:image>\r\n<ri:url ri:value=\"https://aaa.bbb.com/download/attachments/2162697/test.png\" /></ac:image>\r\n{code}",
      "summary": "Version comparison shows unknown attachment when  the resource of attachment  is from other page"
    }
  },
  {
    "key": "CONFSERVER-60530",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-25T04:39:04.000+0000",
      "description": "h3. Problem\r\nPasting contents, especially images from the Confluence editor into Microsoft Apps such as Outlook, Word or Excel is not working well.\r\n\r\n\r\nh3. Workaround\r\n* Export Confluence content to Word document\r\n* Then copy-paste the content from the Word document to Outlook for instance will work.",
      "summary": "Improve copy and paste from Confluence WYSIWYG editor into Windows clipboard (and products)"
    }
  },
  {
    "key": "CONFSERVER-60528",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-24T14:26:02.000+0000",
      "description": "h3. Issue Summary\r\nIf Collaborative Editing is enabled while users are still editing pages using the legacy personal drafts model, the {{startheartbeatactivity}} request sent from these users' browsers will trigger errors in the application log because a shared draft doesn't exist to that page.\r\n\r\nIn this case, the editor should be capable of recognizing the context switch and stop sending the {{startheartbeatactivity}} requests.\r\n\r\nThis is technically possible since in the Confluence response to this request, the {{editMode}} value changes from {{legacy}} to {{collaborative}}.\r\n\r\nThis is not a problem if the user tries to save the page after Collaborative Editing is enabled, since Confluence will properly advise the user and guide on converting the draft.\r\n\r\nh3. Steps to Reproduce\r\n# Install a Confluence vanilla instance.\r\n #* It was validated on versions *7.4.4* and *7.9.0*.\r\n# Disable Collaborative Editing.\r\n# Create a regular user; let's call it {{user001}}.\r\n# Log in to Confluence as {{user001}}.\r\n# Create a sample Space.\r\n# Create a new page, but don't save it.\r\n #* Wait for the draft to be autosaved.\r\n #* If you open the _Network tab_ on the browser's developer tools, you will notice the {{startheartbeatactivity}} request is created each 30 seconds.\r\n #* Leave the browser window opened.\r\n !screenshot-1.png|thumbnail! \r\n# As Confluence administrator, on a different browser, enable Collaborative Editing.\r\n\r\nh3. Expected Results\r\nThe editor opened while Collaborative Editing was enabled identifies the context switch and stops sending new {{startheartbeatactivity}} requests.\r\n\r\n\r\nh3. Actual Results\r\nThe editor that was left opened will continue to send {{startheartbeatactivity}} requests and errors similar to the below are logged in the application logs:\r\n{code}\r\n2020-11-24 10:47:28,420 ERROR [http-nio-6790-exec-6] [confluence.pages.actions.HeartbeatAction] getContributors Error occurred while getting the contributors: Could not find content with ID 1769476 and status draft\r\n -- referer: http://localhost:6790/c790/pages/createpage.action?spaceKey=TS1&fromPageId=1769475 | url: /c790/json/startheartbeatactivity.action | traceId: f6455ea3b722b546 | userName: user001 | action: startheartbeatactivity\r\n{code}\r\n\r\n !screenshot-2.png|thumbnail! \r\n\r\nIf a significant number of users left the editor opened, this will contribute to flood the logs with unnecessary errors.\r\n \r\nThe same issue occurs when editing an existing page that never had a shared draft record created in the database.\r\n\r\n\r\nh3. Workaround\r\n_Currently there is no known workaround for this behavior._\r\n\r\nIf you would like to decrease the number of errors in the log, you may change the logging level for the specific class as described in [Getting a lot of HeartbeatAction errors in the logs|https://confluence.atlassian.com/confkb/getting-a-lot-of-heartbeataction-errors-in-the-logs-777004078.html].",
      "summary": "Enabling Collaborative Editing while the editor is opened on users browsers may flood the logs with errors"
    }
  },
  {
    "key": "CONFSERVER-60527",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-24T10:49:31.000+0000",
      "description": "Our SSO/2.0 app [SSO for Atlassian Server and Data Center|https://marketplace.atlassian.com/apps/1216096/sso-for-atlassian-server-and-data-center?hosting=server&tab=overview] which is bundled from Confluence 6.1+ states on the Marketplace that it can be configured from the REST API but there is no available documentation.\r\n{quote} * Simple configuration via the user interface or via REST{quote}\r\nPlease provide documentation on configuring via REST, SAML and OpenID based configurations.",
      "summary": "Provide documentation to configure our SSO 2.0 app for SAML/OpenID"
    }
  },
  {
    "key": "CONFSERVER-60526",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-17T00:37:20.000+0000",
      "created": "2020-11-24T09:22:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence generates attachment xml with <ri:content-entity content-id=\"...\"> that renders as an unknown attachment. When it happens, it affects the whole page, probably multiple pages.\r\n\r\nExample:\r\n{code:java}\r\n<p>\r\n  <ac:image>\r\n    <ri:attachment ri:filename=\"image2020-10-21_12-40-38.png\">\r\n      <ri:content-entity ri:content-id=\"138910055\"/>\r\n    </ri:attachment>\r\n  </ac:image>\r\n</p>{code}\r\nh3. Steps to Reproduce\r\n\r\nNot known yet.\r\nh3. Expected Results\r\n\r\nAttachment is rendered correctly.\r\nh3. Actual Results\r\n\r\nAttachment is rendered as an unknown attachment.\r\n\r\nh3. Workaround 1\r\n\r\n[Reindex|https://confluence.atlassian.com/doc/content-index-administration-148844.html] fixes the issue.\r\n\r\nh3. Workaround 2\r\n\r\nAlternatively one can manually remove *{{<ri:content-entity ri:content-id=\"...\"/>}}* inside *{{<ri:attachment>}}* tag using [source editor plugin|https://marketplace.atlassian.com/apps/1210722/confluence-source-editor] - that also seems to fix it, though much less convenient.",
      "summary": "Confluence generates attachment xml with <ri:content-entity content-id=\"...\"> that renders as an unknown attachment"
    }
  },
  {
    "key": "CONFSERVER-60525",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-24T08:37:18.000+0000",
      "description": "As a content owner I would like to receive contribution from others in the content I own.\r\n\r\nI would like to be able to review and approve this contributions before integrating them into the content.\r\n\r\nCurrently the only functionality I know for getting contributions is through either allowing other to edit the content directly, or to ask others to describe the changes using comments, which is not a good process.\r\n\r\nI would like to have functionality that would allow contributors to propose changes (preferably in multiple pages at once), and this changes would be reviewed, approved and integrated by users with write permission to the content.\r\n\r\nThis is very similar to a Pull Request, which is available in many git manager tools, such as Bitbucket and GitHub.\u00a0",
      "summary": "Create a Pull Request like change management and review process for Confluence pages"
    }
  },
  {
    "key": "CONFSERVER-60524",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-24T01:28:15.000+0000",
      "description": "Please add syntax highlighting support for  Kotlin and/or Swift to the Code Block macro\r\n",
      "summary": "Add Kotlin and Swift Syntax Highlighting Support to the Code Block Macro"
    }
  },
  {
    "key": "CONFSERVER-60523",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-13T00:58:04.000+0000",
      "created": "2020-11-23T14:09:45.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence renders 404 errors as a dashboard hitting DB and Lucene very hard resulting in subsequent performance issues\r\n\r\nh3. Steps to Reproduce\r\n # Whenever we try to reach a resource that doesn't exist on Confluence, it renders a 404 page\r\n # In Confluence, rendering of 404 is similar to the dashboard that increases pressure on CPU(permission checks), and Lucene\r\n # This also triggers https://jira.atlassian.com/browse/CONFSERVER-57535\u00a0 that cause overall high CPU utilization \r\n\r\nThis is a scalability problem that hits the customers with largest instances very badly\r\n\r\nh3. Expected Results\r\nConfluence shouldn't trigger actions similar to the dashboard\r\n\r\nh3. Actual Results\r\nTriggering of expensive operation on Lucene and Database \r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available\r\n\r\n\u00a0",
      "summary": "Confluence renders 404 errors as a dashboard hitting DB and Lucene very hard resulting into subsequent performance issues"
    }
  },
  {
    "key": "CONFSERVER-60522",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-23T13:32:19.000+0000",
      "description": "The task reports only allows for any labels, like an OR statement.\r\n\r\nIt should allow for AND statements, so it only reports statements with x-label AND y-label",
      "summary": "AND function for labels in task reports, like in page properties report"
    }
  },
  {
    "key": "CONFSERVER-60521",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-23T10:47:32.000+0000",
      "description": "Currently Companion has a hard-coded list of file types which it will not open. This is done for security reasons. However, a better model would be to prompt the user if they would like to open the file type. Users should be able to save and persist this preference for certain file types. ",
      "summary": "Companion should allow overriding of file type block list"
    }
  },
  {
    "key": "CONFSERVER-60520",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-07T04:45:59.000+0000",
      "created": "2020-11-23T10:14:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you subscribe to an Outlook calendar via URL in Team Calendar, recurring events created during European daylight savings will not show the correct timings once daylight saving ends.\r\nh3. Steps to Reproduce\r\n # Set your Outlook and TC calendars to be on GMT+1 timezone (or any European timezone affected by daylight savings).\r\n # Create a recurring event in Outlook calendar during summer 2020 (e.g. July 2020).\r\n # Set the recurring event monthly or weekly at *2:30pm*.\r\n # Generate the iCal URL to subscribe to the calendar.\r\n # In Confluence, open up your calendars and click on\u00a0*{{...}}* >\u00a0*Subscribe by URL*.\r\n # Input the URL generated in Outlook earlier.\r\n # Check the recurring event you created in step #2 and compare the difference in timing between events in July 2020 and November 2020.\r\n\r\nh3. Expected Results\r\n\r\nAll events should be set to 2:30pm.\r\nh3. Actual Results\r\n\r\nThe event in July is set to 2:30pm, but after daylight savings ended in late Oct, all recurring events after that are set to 1:30pm.\r\nh3. Notes\r\n # If you download the ICS file for the Outlook calendar and import it to Confluence (*{{...}}* > *Import Calendar*), the issue isn't seen. All recurring events are set to the expected timing (in this case, 2:30pm).\r\n # If you subscribe to the Outlook calendar in Google calendar, the timing appears correctly as what you see in Outlook. Only Confluence has the 1-hour difference in timing.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Recurring events from Outlook causes 1 hour difference in Team Calendar due to daylight savings"
    }
  },
  {
    "key": "CONFSERVER-60519",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-23T09:24:24.000+0000",
      "created": "2020-11-23T03:11:11.000+0000",
      "description": "h3. Issue Summary\r\nCompanion is blocking xlsm, docm, pptm files intentionally. \r\n\r\nh3. Steps to Reproduce\r\n # Uploaded one of the listed office documents to Confluence\r\n # Edit the document with Companion\r\n\r\nh3. Expected Results\r\nFile is opened in Office application and tracked by Companion\r\n\r\nh3. Actual Results\r\nFile is blocked by Companion. \r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Companion App is unable to edit office macro documents - xlsm, docm and pptm"
    }
  },
  {
    "key": "CONFSERVER-60518",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-23T00:33:12.000+0000",
      "description": "h3. Issue Summary\r\nWeb resources which are retrieved in Java with \"getResourceAsStream\" can fail to be loaded. \r\n\r\nh3. Steps to Reproduce\r\n # Create a Confluence plugin that defines a web resource that is from a nested JAR dependency. \r\n # Install that plugin to Confluence\r\n\r\nh3. Expected Results\r\nPlugin works and can load the resource.  \r\n\r\nh3. Actual Results\r\nThe install can intermittently fail as the resource cannot be loaded. \r\n\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Loading resources from nested JAR files in plugin can can fail on some instances"
    }
  },
  {
    "key": "CONFSERVER-60517",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-22T20:46:26.000+0000",
      "description": "h3. Problem\r\n\r\nThe following error is encountered while upgrading UPM from version 2.22.9 to 3.0.10, as suggested by the Confluence 6.6.15 UPM that upgrade was available.\r\nh3. Environment\r\n * Confluence 6.6.15\r\n * Universal Plugin Manager 2.22.9\r\n\r\nh3. Steps to Reproduce\r\n * Upgrade UPM 2.22.9 in Confluence 6.6.15 to suggested version 3.0.10 through the UI\r\n\r\nh3. Expected Results\r\n\r\nUPM upgrades to 3.0.10\r\nh3. Actual Results\r\n\r\nUPM upgrade fails with following ERROR message in the {{atlassian-confluence.log}}\r\n{code:java}\r\nException in thread \"Spring executor 24\" org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'updateParametersFactory' defined in URL [bundle://156.0:0/META-INF/spring/atlassian-plugins-components.xml]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.sal.api.pluginsettings.PluginSettingsFactory]: : Error loading class [com.atlassian.upm.selfupdate.async.SimpleAsyncTaskManager] for bean with name 'simpleAsyncTaskManager' defined in URL [bundle://156.0:0/META-INF/spring/atlassian-plugins-components.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: com.atlassian.upm.selfupdate.async.SimpleAsyncTaskManager not found from bundle [Atlassian Universal Plugin Manager Self-Update Plugin (com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin)]; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [com.atlassian.upm.selfupdate.async.SimpleAsyncTaskManager] for bean with name 'simpleAsyncTaskManager' defined in URL [bundle://156.0:0/META-INF/spring/atlassian-plugins-components.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: com.atlassian.upm.selfupdate.async.SimpleAsyncTaskManager not found from bundle [Atlassian Universal Plugin Manager Self-Update Plugin (com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin)] {code}\r\nh3. Workaround\r\n # Stop Confluence\r\n # Clear the plugin cache on all nodes:\u00a0[How to clear Confluence plugins cache|https://confluence.atlassian.com/confkb/how-to-clear-confluence-plugins-cache-297664846.html]\u00a0\r\n # Follow process for [manually resetting the UPM|https://confluence.atlassian.com/confkb/how-to-manually-reset-upm-or-manually-upgrade-upm-818580144.html]\u00a0and put the original UPM version 2.22.9 back in place.\r\n # Start Confluence, verify good startup and that UPM will load now\r\n # Stop Confluence\r\n # Clear the plugin cache on all nodes:\u00a0[How to clear Confluence plugins cache|https://confluence.atlassian.com/confkb/how-to-clear-confluence-plugins-cache-297664846.html]\u00a0\r\n # Follow process for [manually upgrading the UPM|https://confluence.atlassian.com/confkb/how-to-manually-reset-upm-or-manually-upgrade-upm-818580144.html]\u00a0to\u00a0*version 3.0.6* (not 3.0.10 as UPM suggests)\r\n\r\nh3. Notes\r\n\r\n(i)\u00a0Upgrade Confluence to later version than 6.6.15, such as the latest [LTS release|https://confluence.atlassian.com/enterprise/long-term-support-releases-948227420.html] before re-attempting the UPM upgrade to latest.\u00a0",
      "summary": "UnsatisfiedDependencyException error encountered when upgrading UPM from 2.22.9 to 3.0.10"
    }
  },
  {
    "key": "CONFSERVER-60516",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-20T18:48:47.000+0000",
      "description": "h3. Issue Summary\r\nThe 'crowd.polling.startdelay' Value is not respected in single-node Confluence DC environment on reboot.\r\n\r\nh3. Steps to Reproduce\r\n # Stand up a 7.4.1 or 7.4.3 Confluence DC node, make it the only node in the cluster.\r\n # Add the '-Dcrowd.polling.startdelay=60000' to the _setenv.sh_ file as outlined in [How to delay the directory sync on startup in Confluence|https://confluence.atlassian.com/confkb/how-to-delay-the-directory-sync-on-startup-in-confluence-957992766.html].\r\n # Configure one or more external user directories and set sync interval to 5 minutes.\r\n # After the first sync, reboot the node.\r\n\r\nh3. Expected Results\r\nFor a single node cluster, the initial user sync on reboot should be delayed by 5 minutes, then start it's expected sync interval cadence after that point (every 5 minutes).\r\nh3. Actual Results\r\n\r\nFor a single node cluster, the sync cadence does not change on the reboot of the node. The 'timestart' value does not change post-reboot and thus the 'delay' in the _setenv.sh_ is not respected.\r\n\r\nh4. Other notes\r\nFor Confluence Data Center, there is a 'scheduler_clustered_jobs' table in the database that has a 'com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerManager.<directory_id>' value that controls the start times of each of the user directories configured.\r\n\r\nThis value is read by each of the nodes in the cluster so that multiple nodes don't run the same user sync job at the same time. Rebooting one node wouldn't alter this start time (since the other node should be functionally online to still run the user sync job).\r\n\r\nIt should be noted that the '-Dcrowd.polling.startdelay=<time_in_ms>' works as expected in Confluence Server to delay the start of the sync post-reboot.\r\n\r\nFor single-node Confluence DC clusters, the delay should be respected since there isn't another node configured to accommodate the user sync start time if this one goes down. Instead, this should operate the same as Confluence Server.\r\n\r\nh3. Workaround\r\n # Clear out the 'com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerManager.<directory_id>' values in the 'scheduler_clustered_jobs' DB table while the node is down:\r\n{code:java}\r\nDELETE FROM scheduler_clustered_jobs WHERE job_id LIKE '%com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerManager%';\r\n{code}\r\n(i) Syntax is formatted for PSQL, may be different for another database type.\r\n # Start the node.\r\n(i) Please note: The sync interval and the delay will be added together to set the next start time for each of the user directories. For instance, if you had a sync interval of 5 minutes and the delay was set to 5 minutes, the next start time would be ~10 minutes from when the node was restarted and came back online and follow a 5-minute sync cadence after that.\r\n\r\nIf you simply want the sync to start at the normal cadences, you can remove the '-Dcrowd.polling.startdelay=<time_in_ms>' from your _setenv.sh_ file as well as the DELETE command above and the directories will resume their normal cadence after the system is online (i.e. the next sync start time will be directory interval added to when the node came online).\r\n\r\n(!) Do not run this delete while the node is online as it will clear out the next sync interval and the user directories will not sync. This can be rectified by restarting the single node.",
      "summary": "'crowd.polling.startdelay' value not respected in single-node Confluence DC setups"
    }
  },
  {
    "key": "CONFSERVER-60515",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-03-10T03:42:06.000+0000",
      "created": "2020-11-20T15:07:37.000+0000",
      "description": "h3. Summary\r\nPostgreSQL updated the default fallback behavior in the 42.2.16 driver in a way that breaks support for PostgreSQL instances in Microsoft Azure. This version of the driver was bundled into Confluence as of 7.8.3.\r\n\r\nh3. Environment\r\n* Azure Postgres\r\n* AWS serverless Aurora Postgres (reported in comments)\r\n\r\nh3. Steps to Reproduce\r\n# Setup an Azure PostgreSQL instance\r\n# Attempt to test a connection in the Confluence setup wizard to this instance\r\n\r\nh3. Expected Results\r\nConfluence is able to connect to the database\r\n\r\nh3. Actual Results\r\nThe test fails\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n2021-01-06 19:17:56,961 ERROR [http-nio-8090-exec-8] [atlassian.config.bootstrap.DefaultAtlassianBootstrapManager] getTestDatabaseConnection Could not successfully test your database: \r\n -- referer: http://localhost:7000/setup/setupdbtype-start.action | url: /setup/setupstandarddb-testconnection.action | traceId: 004f898b296e23d7 | userName: anonymous | action: setupstandarddb-testconnection\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:225)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.getTestDatabaseConnection(DefaultAtlassianBootstrapManager.java:347)\r\n{noformat}\r\n \r\nh3. Notes\r\n* This was reported to PostgreSQL at [Fallback for gssEncMode connection mode is not working as expected \u00b7 Issue #1868 \u00b7 pgjdbc/pgjdbc \u00b7 GitHub|https://github.com/pgjdbc/pgjdbc/issues/1868]\r\n* Driver 42.2.18 includes a fix for this bug\r\n\r\nh3. Workaround\r\n# Download the new driver from the following link: https://jdbc.postgresql.org/download/postgresql-42.2.18.jar\r\n# Stop Confluence\r\n# Rename the current driver\r\n## Navigate to {{<confluence-install>/confluence/WEB-INF/lib}}\r\n## Rename postgresql-42.2.16.jar to postgresql-42.2.16.jar.old\r\n# Move the new driver into {{<confluence-install>/confluence/WEB-INF/lib}}\r\n# Start Confluence\r\n\r\nAt this point, you should be able to create a connection.",
      "summary": "Connections to Azure PostgreSQL fail due to org.postgresql.util.PSQLException: The connection attempt failed"
    }
  },
  {
    "key": "CONFSERVER-60514",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-20T13:49:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMarking of a user mention when a user has been disabled\r\nh3. Steps to Reproduce\r\n # If the user is disabled, have some styling or mention (for example \"disabled\")\r\n # On a page containing many user mentions, this will help to know which users are active or have been disabled.\r\n\r\nh3. Actual Results\r\n\r\nCurrently there is no way to know if the user on the user mention is disabled or not",
      "summary": "Marking of a user mention when a user has been disabled"
    }
  },
  {
    "key": "CONFSERVER-60513",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-20T11:23:44.000+0000",
      "description": "h3. Issue Summary\r\n \"Unsynced from Directory\" feature doesn't annonymyze user content in edit mode\r\n\r\nh3. Steps to Reproduce\r\n # Integrate Confluence with any version of Crowd\r\n # Add two users to Crowd user group:\r\n  UserA - use normal characters in first/lastname fields\r\n  UserB - use special characters in first/lastname fields \r\n# Synchronise crowd directory with Confluence\r\n# Create new page. Add  user mention to UserA, UserB user accounts\r\n# Navigate to Crowd. Remove UserA, UserB accounts from directory \r\n# Navigate to Confluence administration -> User Management -> Unsynced from Directory -> delete UserA and UserB content\r\n# Navigate to page which contains previously created user mentions. Check if user names are correctly annonymyzed by \"Unsynced from Directory\" feature\r\n# Enter page edit mode. Check if user names display Check if user names are correctly annonymyzed by \"Unsynced from Directory\" feature\r\n  \r\nh3. Expected Results\r\n# User names are annonymzed:\r\n !Screenshot 2020-11-17 at 14.29.12.png|thumbnail! \r\n\r\nh3. Actual Results\r\n# User names in the edit mode are not annonymyzed:\r\n !Screenshot 2020-11-17 at 14.29.18.png|thumbnail!  \r\n# User accounts  containing special characters in first/last names are not annonyzed on page view mode ((!) only Confluence 7.4.5, this case doesn't affect Confluence 7.8 version and newer)\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": " \"Unsynced from Directory\" feature doesn't anonymize user content in edit mode"
    }
  },
  {
    "key": "CONFSERVER-60512",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-20T10:46:44.000+0000",
      "description": "h3. Summary\r\n\r\nSome non-ASCII Unicode characters break the \"Answer this question\" link in notifications generated by Confluence Questions.\r\n\r\nh3. Environment\r\n\r\n* Confluence 6.2.1 \r\n* Confluence 7.3.1 \r\n* Up to Questions for Confluence 2.7.21.\r\n\r\nh3. Steps to Reproduce\r\n # Create a new\u00a0Question\u00a0with the title, \"Test \u0105\u0107\u0119\u0142\u0144\u00f3\u015b\u017a\u017c\". \u00a0In this example\u00a0the characters are Polish.\r\n # Open the email notification generated afterwards, and click on \"Answer this question\".\r\n\r\nh3. Expected Results\r\n\r\nYou are able to open the link and answer the Question within Confluence.\r\nh3. Actual Results\r\n\r\nInstead, the browser throws an error such as the below:\r\n{code:java}\r\n// HTTP Status 401 - Expecting claim 'qsh' to have value '81b5e16f336512f1069a85f0697794052fa83f2f96dc5518ec284f3e24ce1660' but instead it has the value '68bb7e0b17e5f9ff332c8d35a3f321f15ddc79d27278148435a6d6b33e28c6b8'{code}\r\nh3. Workaround\r\n\r\nRemove the characters from the title, best bet is to use ASCII characters.",
      "summary": "Certain non-AASCII Unicode characters break some links in Confluence Questions notifications"
    }
  },
  {
    "key": "CONFSERVER-60511",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-26T21:51:17.000+0000",
      "created": "2020-11-20T10:08:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nJavascript error is seen on editing a page when TC 6.1.4 is installed.\r\nh3. Steps to Reproduce\r\n # Create a new page\r\n # Type some text into it and then save it\r\n # Edit the page again.\r\n # Select a piece of text from it, copy it, and paste it on the same page.\r\n # The page is then frozen, nothing happens and one cannot type or paste anything in the editor anymore.\r\n # In the Developer Tools Console one can see a Javascript error:\r\n\r\n{code:java}\r\nUncaught TypeError: Cannot read property 'selection' of null at Selection.getBookmark{code}\r\nh3. Expected Results\r\n\r\nNo errors expected during editing\r\nh3. Actual Results\r\n\r\n!Screenshot 2020-11-20 at 5.50.25 PM.png|width=601,height=265!\r\n\r\nThe javascript console throws this error:\r\n{code:java}\r\nbatch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2017 Uncaught TypeError: Cannot read property 'selection' of null\r\n    at Selection.getBookmark (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2017)\r\n    at j (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2274)\r\n    at Editor.<anonymous> (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2279)\r\n    at Dispatcher.dispatch (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:1854)\r\n    at b (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2168)\r\n    at DOMUtils.<anonymous> (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2169)\r\n    at HTMLBodyElement.e (batch.js?confluence.table.resizable=true&enable.legacy.edit.in.office=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2001)\r\n{code}\r\nh3. Workaround\r\n\r\nDowngrade from Team Calendars 6.1.4 to Team Calendars 6.1.2.\r\n\r\nNavigate to\u00a0*Confluence Administration*\u00a0\u00bb\u00a0*Manage Apps*\r\n * Uninstall Team Calendars 6.1.4\r\n * Once uninstalled, click\u00a0*Upload App*\u00a0and install\u00a0*Team Calendars 6.1.2 using this URL*:\r\n ** [https://marketplace.atlassian.com/download/apps/72307/version/1060990330]",
      "summary": "Javascript error seen on editing pages when Team Calendars 6.1.4 is installed"
    }
  },
  {
    "key": "CONFSERVER-60510",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-20T12:50:45.000+0000",
      "created": "2020-11-20T08:58:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe companion app is not able to Open excel file with the extension xls, doc file after upgrade to 1.2.3v.\r\nPS: Companion app is able to open file with xlsx, docx, pptx extension, but not xls, doc, and ppt extension.\r\n\r\nh3. Steps to Reproduce\r\n # Install Atlassian Companion App 1.2.3v\r\n # Upload a .xls file\r\n # Try to open the file in Companion App\r\n\r\nh3. Expected Results\r\nThe file should open without any error\r\n\r\nh3. Actual Results\r\nThe file does not open and throws the below error.\r\n!Screenshot 2020-11-20 at 2.24.23 PM.png|width=339,height=220!\r\n\r\nThe below exception is thrown in the companion.log file: xls format is interpreted as msi and blocked.\r\n{noformat}\r\ninfo: adc:file-manager 2020-11-20T08:54:11.240Z launching: /Applications/Microsoft Excel.app with file: /Users/asharma/.atlassian-companion/dbfbeec7-ef15-4595-bf87-7ce384375e32/testi.xlsinfo: adc:file-manager 2020-11-20T08:54:11.240Z launching: /Applications/Microsoft Excel.app with file: /Users/asharma/.atlassian-companion/dbfbeec7-ef15-4595-bf87-7ce384375e32/testi.xlsinfo: adc:file-manager 2020-11-20T08:54:11.240Z Trying to get file type using magic bytes:info: adc:file-manager 2020-11-20T08:54:11.242Z shouldLaunchFileOnMacOS:\u00a0 {\"blockListSet\":{},\"applicationName\":\"Excel\",\"fileExtention\":\"msi\"}info: adc:file-manager 2020-11-20T08:54:11.242Z MacOS blockListSet : action,app,bash,bin,command,csh,osx,pkg,sh,term,terminal,tool,workflow,zsh,0xe,73k,89k,8ck,a6p,a7r,ac,acc,acr,actc,actm,ahk,air,apk,appimage,applescript,arscript,as,asb,awk,azw2,ba_,bat,beam,btm,caction,cel,celx,cgi,chm,cmd,cof,coffee,com,crt,cyw,dek,dld,dmc,dmg,docm,dotm,ds,dxl,e_e,ear,ebm,ebs,ebs2,ecf,eham,elf,epk,es,esh,ex4,ex5,ex_,exe,exe1,exopc,ezs,ezt,fas,fky,fpi,frs,fxp,gadget,gpe,gpu,gs,ham,hms,hpf,hta,icd,iim,ipa,ipf,isp,isu,ita,jar,js,jse,jsf,jsx,kix,ksh,kx,lo,ls,m3g,mac,mam,mcr,mel,mem,mio,mlx,mm,mpx,mrc,mrp,ms,msi,msl,mxe,n,ncl,nexe,obs,ore,otm,out,paf,paf.exe,pex,phar,pif,plsc,plx,potm,ppam,ppsm,pptm,prc,prg,ps1,pvd,pwc,pyc,pyo,qit,qpx,rbf,rbx,rfu,rgs,rox,rpj,run,rxe,s2a,sbs,sca,scar,scb,scpt,scptd,scr,script,sct,seed,server,shb,sk,smm,snap,spr,sts,tcp,thm,tiapp,tlb,tms,u3p,udf,upx,url,vbe,vbs,vbscript,vdo,vexe,vlx,vpm,vxp,wcm,widget,wiz,wpk,wpm,ws,wsf,wsh,x86,x86_64,xap,xbap,xbe,xex,xlam,xlm,xlsm,xltm,xqt,xys,zl9,html,java:Application Name: Excelinfo: adc:file-manager 2020-11-20T08:54:11.243Z {noformat}\r\n{noformat}\r\ntesti.xls has an extension [msi]info: adc:file-manager 2020-11-20T08:54:11.243Z testi.xls contains an extension which is on the block list of executioninfo: adc:file-manager 2020-11-20T08:54:11.243Z Discard launching file because it violates block-listinfo: adc:ErrorHandler -\u00a0 2020-11-20T08:54:11.243Z Unable to JSON parse and extract response error responseText:\u00a0 undefined\r\n{noformat}\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available\r\nThe previous version of the Companion app 1.2.2 is not impacted.",
      "summary": "Companion App is unable to Open old excel file with xls extension after upgrade to 1.2.3v"
    }
  },
  {
    "key": "CONFSERVER-60509",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-20T03:50:48.000+0000",
      "description": "h3. Issue Summary\r\nUser Macro with iFrame in it causing Page Preview to load indefinitely\r\n\r\nh3. Steps to Reproduce\r\n# Create a [User Macro|https://confluence.atlassian.com/doc/writing-user-macros-4485.html] with minimum content that simply just renders what's in it. For Example:\r\n{code:title=Example User Macro}\r\n## Body processing: Rendered\r\n## @noparams\r\n\r\n                  $body\r\n{code}\r\n# [Enable HTML Macro|https://confluence.atlassian.com/doc/html-macro-38273085.html]\r\n# Create a new page\r\n# Insert the User Macro above with a HTML Macro that contains an {{<iframe>}} tag to any website\r\n{code:title=Example Storage Format}\r\n<ac:structured-macro ac:macro-id=\"3f1c5ba7-6915-46dc-b2ea-cb5707e23f2a\" ac:name=\"brokenpreview\" ac:schema-version=\"1\">\r\n  <ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter>\r\n  <ac:rich-text-body>\r\n\r\n    <ac:structured-macro ac:macro-id=\"9405e293-52c1-4bc5-b48c-ab065324895f\" ac:name=\"html\" ac:schema-version=\"1\">\r\n      <ac:plain-text-body><![CDATA[<iframe src=\"https://google.com\" </iframe>]]></ac:plain-text-body>\r\n    </ac:structured-macro>\r\n\r\n  </ac:rich-text-body>\r\n</ac:structured-macro>\r\n{code}\r\n# Click the \"Preview\" button\r\n\r\nh3. Expected Results\r\nPage Preview will show how the page supposed to look like\r\n\r\nh3. Actual Results\r\nPage Preview loads indefinitely\r\n !error screenshot.png|thumbnail! \r\n\r\nh3. Note\r\n* using [HTML for Confluence|https://marketplace.atlassian.com/apps/252/html-for-confluence?hosting=cloud&tab=overview] third-party macro will result in the same issue\r\n* using {{<img>}} tag will not hit into the issue\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "User Macro with iFrame in it causing Page Preview to load indefinitely"
    }
  },
  {
    "key": "CONFSERVER-60508",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-26T00:53:34.000+0000",
      "created": "2020-11-19T20:38:29.000+0000",
      "description": "{panel:title=How to apply this fix}\r\nThanks for your interest in this issue. We have fixed this in Team Calendars 6.1.5 (see\u00a0CONFSERVER-60489) by allowing you to set a system property to configure the number of days in list view. To use this feature, add the system property\r\n{code:java}\r\ncom.atlassian.confluence.extra.calendar3.display.events.calendar.maxdayslistview\r\n{code}\r\nto your confluence instance and set the value up to a maximum of 30 days. This value defaults to 1 when not set.\u00a0\r\n{panel}\r\nh3. Issue Summary\r\n * When in list mode, the calendar will only show the events for the current day, regardless if there are more events in the next day or week.\r\n\r\nh3. Steps to Reproduce\r\n # Install Team Calendars 6.1.4\r\n # Add a calendar in a Confluence page, in list mode\r\n # Add multiple events, on multiple dates\r\n\r\nh3. Expected Results\r\n * Future events, including from following weeks, are displayed in the list mode:\r\n !TC612.png|thumbnail!\r\n\r\nh3. Actual Results\r\n * Only the current day's events are shown:\r\n !TC614.png|thumbnail!\r\n\r\nh3. Workaround\r\n * Currently there is no known workaround for this behavior. A workaround will be added here when available\r\n\r\nh3. Notes\r\n * This affects Team Calendars *6.1.4*.",
      "summary": "Listing a calendar in a page shows only current day's events"
    }
  },
  {
    "key": "CONFSERVER-60507",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-19T16:36:30.000+0000",
      "description": "h3. Problem Definition\r\nConfluence has internal features that rely on Lucene searches, instead of DB queries.\r\nAs a Confluence administrator, or a support engineer, it would be extremely helpful to have a Lucene search logging similar to [Detailed SQL Logging|https://confluence.atlassian.com/doc/enabling-detailed-sql-logging-179030.html].\r\n\r\nThis request is different from [CONFSERVER-28959|https://jira.atlassian.com/browse/CONFSERVER-28959], since the current request is to also log internal Lucene searches, such as those used by some Macros.\r\n\r\nh3. Suggested Solution\r\nImplement a Lucene search detailed logging similar to [Detailed SQL Logging|https://confluence.atlassian.com/doc/enabling-detailed-sql-logging-179030.html].\r\n \r\nh3. Workaround \r\n_n/a_",
      "summary": "As a Confluence administrator I would like to enable detailed Lucene search logging similar to SQL Logging"
    }
  },
  {
    "key": "CONFSERVER-60506",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-19T13:23:13.000+0000",
      "description": "Hi,\r\n\r\nSecurity is a huge topic for Wolters Kluwer/Enablon. Some companies, like ours, have both clients and colleagues accessing Confluence. To fulfill security criteria (Permissions - access rights) in our business we have had to limit the number of people who can grant permissions on spaces. The unfortunate side effect of this is that we have to limit space admin rights and so block colleagues from doing basic tasks on spaces such as creating templates, changing look & feel, etc.)\r\n\r\nSeparating out Space Administration from Space Permissions would alleviate this issue.\r\n\r\nI hope you are able to consider this.\r\n\r\nKind regards,\r\n\r\nRosalind Banwell",
      "summary": "Separate out Space Administration from Space Permissions"
    }
  },
  {
    "key": "CONFSERVER-60504",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-19T08:49:14.000+0000",
      "description": "*Problem*\r\n\r\nThe inotify instances limit is too low for Intellij and it will show a warning. Searching for this warning in Google leads to this web page: [https://confluence.jetbrains.com/display/IDEADEV/Inotify+Instances+Limit]\r\n\r\nIt shows a way to temporarily change the \"max_user_instances\" of inotify. So after a system reboot the setting is lost. Readers might also want to know a way to permanently set the \"max_user_instances\".\r\n\r\n*Suggestion*\r\n\r\nAdd information to how to set the \"max_user_instances\" value permanently. This can be done by adding \"{color:#000000}fs.inotify.max_user_instances=256{color}\" to your sysctl configuration. (By adding this line in /etc/sysctl.conf or to a new file in /etc/sysctl.d/)\r\n\r\nThis depends on the Linux distribution though. Here is an article for the inotify watches: https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers\r\n\r\n\r\n\u00a0\r\n\r\nSorry if I chose the wrong component or project for this issue, I haven't found another way to reach out to you.Thank you!",
      "summary": "Permanent change of \"Inotify Instances Limit\""
    }
  },
  {
    "key": "CONFSERVER-60503",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-19T07:49:27.000+0000",
      "description": "h3. Problem\r\nJava Client Library for REST API currently does not have any user-friendly documentation to explain the purpose of different components. Potential custom developers find it difficult to obtain this information as it is not available on any public space.\r\n\r\nh3. Suggested Solution\r\nWe need a more elaborate documentation for the Java Client Library which is exposed to customers.\r\n\r\nh3. Why This Is Important\r\nThis is important because any potential custom developer is not supported with a document that is detailed enough to help with the implementation. \r\n\r\nh3. Workaround\r\nNone at this point",
      "summary": "Java Client Library for REST API Needs Detailed Documentation"
    }
  },
  {
    "key": "CONFSERVER-60501",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-27T02:55:51.000+0000",
      "created": "2020-11-19T00:53:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *Insert* button on the *Jira Issue Macro* does not work when Team Calendars 6.1.4 is installed. \r\n\r\nh3. Steps to Reproduce\r\n\r\n# Deploy Confluence 6.15.9 with *Team Calendars 6.1.4*\r\n# Restart Confluence after Team Calendars 6.1.4 has been installed\r\n# Deploy Jira 8.13.1 on the same Linux Server\r\n# Create an application link between the two servers\r\n# Create a new page on Confluence:\r\n#* Click *Insert More Content plus button* and select the *Jira Issue/Filter*\r\n#* Make a valid JQL search such as *project=\"TP\"*\r\n#* The *Insert* button becomes enabled\r\n#* Click *Insert* to insert the Jira Issue Macro\r\n\r\nh3. Expected Results\r\n\r\nThe Jira Issue Macro should disappear and return back to the Edit Page with the Jira Issue Macro inserted onto the page.\r\n\r\nh3. Actual Results\r\n\r\n* Nothing happens (x)\r\n* The Insert button then becomes greyed out / disabled (x)\r\n\r\n !insert_not_clickable.png|thumbnail! \r\n !insert_becomes_grey.png|thumbnail! \r\n\r\n* The java script console throws this error:\r\n{code}\r\n12:18:06.569 Uncaught TypeError: this[0] is undefined\r\n    selectionRange http://localhost:26159/c6159/s/2a828c72c2d24752e89e028afd5fe809-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/js/_super/batch.js?locale=en-US:1409\r\n    insertIssueLinkWithParams http://localhost:26159/c6159/s/88405e898c8e7fca9770c976564dd853-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/daa57787be2ac7f8354decc16d2c2cea/_/download/contextbatch/js/editor-v4,editor,macro-browser,-_super,-atl.general,-viewcontent,-main,-page/batch.js?confluence.table.resizable=true&frontend.editor.v4=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2449\r\n    insertLink http://localhost:26159/c6159/s/88405e898c8e7fca9770c976564dd853-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/daa57787be2ac7f8354decc16d2c2cea/_/download/contextbatch/js/editor-v4,editor,macro-browser,-_super,-atl.general,-viewcontent,-main,-page/batch.js?confluence.table.resizable=true&frontend.editor.v4=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2454\r\n    e http://localhost:26159/c6159/s/88405e898c8e7fca9770c976564dd853-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/daa57787be2ac7f8354decc16d2c2cea/_/download/contextbatch/js/editor-v4,editor,macro-browser,-_super,-atl.general,-viewcontent,-main,-page/batch.js?confluence.table.resizable=true&frontend.editor.v4=true&healthcheck-resources=true&highlightactions=true&hostenabled=true&locale=en-US:2444\r\n    _onclick http://localhost:26159/c6159/s/2a828c72c2d24752e89e028afd5fe809-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/js/_super/batch.js?locale=en-US:1112\r\n    dispatch http://localhost:26159/c6159/s/2a828c72c2d24752e89e028afd5fe809-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/js/_super/batch.js?locale=en-US:248\r\n    h http://localhost:26159/c6159/s/2a828c72c2d24752e89e028afd5fe809-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/js/_super/batch.js?locale=en-US:239\r\nbatch.js:1409:208\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nDowngrade from Team Calendars 6.1.4 to Team Calendars 6.1.2\r\n\r\n# Navigate to *Confluence Administration* \u00bb *Manage Apps*\r\n#* Uninstall Team Calendars 6.1.4\r\n#* Once uninstalled, click *Upload App* and install *Team Calendars 6.1.2 using this URL*:\r\n#** https://marketplace.atlassian.com/download/apps/72307/version/1060990330\r\n# Attempting to Insert a *Jira Issue Macro* or *Jira Chart macro* should now work as expected\r\n\r\nh3. *Additional Notes*\r\n\r\n(i) This does not impact Confluence 7.4.5 with Team Calendars 6.1.4",
      "summary": "Cannot insert Jira Issue Macro and Jira Chart when Team Calendars 6.1.4 is installed"
    }
  },
  {
    "key": "CONFSERVER-60500",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-19T00:49:33.000+0000",
      "description": "Before the 7.7.x version, if the first _n_ columns in the Page Properties macro were marked as header column, keys were taken from the first column, the values were taken from the first non-header column, and the columns in between were hidden from Page Properties Report Macro.\r\n\r\nFrom the 7.7.x version, the second column's content is taken as the value in the Page Properties Report macro regardless of the header column/row styling.\r\n\r\nIt will be good to have this feature for adding extra columns (like descriptions, help texts) in the page property macro.\r\n\r\nPlease see the screenshot below:\r\nh2. *7.6.2*\r\n\r\n!7.6.2_page_1.jpg! !7.6.2_page-2.jpg!\r\n\r\n!7.6.2_page_properties_report.jpg!\r\nh2. *7.8.1*\r\n\r\n!7.8.1_page-1.jpg! !7.8.1_page-2.jpg!\r\n\r\n!7.8.1_page_properties_report.jpg!\r\n\r\n\u00a0",
      "summary": "Add option to hide header column(s) if there are more than one for Page properties macro"
    }
  },
  {
    "key": "CONFSERVER-60499",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-18T20:28:28.000+0000",
      "description": "I normally like having the \u201cAutowatch\u201d email notification setting enabled but there are certain noisy shared pages which I do not want to watch. It would be really nice if Confluence used my unsubscribe history to avoid automatically re-watching pages which I have previously unsubscribed from.",
      "summary": "Autowatch should account for unsubscribes"
    }
  },
  {
    "key": "CONFSERVER-60497",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-30T05:53:09.000+0000",
      "created": "2020-11-18T06:09:12.000+0000",
      "description": "h3. Problem\r\nWhen Comment is deleted the Delete Comment pop up then needs to refresh the page to see the comment deleted\r\n\r\nh3. Steps to Reproduce\r\n# Comment on the page with images\r\n# Click _Delete_ button\r\n\r\nh3. Expected Results\r\nComment should disappear\r\n\r\nh3. Actual Results\r\nComment persists until refreshing the page\r\n\r\nh3. Workaround\r\nManually refresh the page\r\n\r\nh3. Notes\r\n\r\nSee the attached demo video  [^Screen Recording 2020-11-18 at 5.02.34 pm.mov] ",
      "summary": "Need to refresh the page to see the comment deleted"
    }
  },
  {
    "key": "CONFSERVER-60494",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-18T00:06:16.000+0000",
      "created": "2020-11-17T23:55:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe translation of \"uploaded\" and \"download\" during page edits in Confluence is wrong.\r\n\r\n\u00a0\r\nh3. Steps to Reproduce\r\n # Set language to Dutch\r\n # User 1 Edits a page and uploads an attachment.\r\n # User\u00a02 edit the page and uploads another attachment.\r\n\r\nh3. Expected Results\r\n\r\nThe pop-up message should say, user 1 uploaded a file:\r\n\r\n\"Iemand heeft XX minuten geleden een nieuwere versie van dit bestand ge\u00fcpload\"\r\nh3. Actual Results\r\n\r\nThe pop-up message says, user 1 downloaded a file:\r\n \"Iemand heeft XX minuten geleden een nieuwere versie van dit bestand gedownload\"\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Translation error in Companion App from English to Dutch"
    }
  },
  {
    "key": "CONFSERVER-60493",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-17T23:33:14.000+0000",
      "description": "h3. Problem\r\nWhen a user has many spaces or has a small screen size, a sidebar in the dashboard in collapsed stated will have a vertical scroll bar that will obstruct the view of the sidebar and its content.\r\n\r\nIn macOS Chrome:\r\n !Chrome_macOS.png|thumbnail! \r\n\r\nIn Windows Chrome:\r\n!Chrome_Windows.png|thumbnail! \r\n\r\nh3. Workaround\r\nThere is no workaround at this moment.",
      "summary": "Windows scrollbars are much wider by default than in macOS"
    }
  },
  {
    "key": "CONFSERVER-60492",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-17T14:04:06.000+0000",
      "description": "When Confluence can't reach an external image while exporting as PDF, this error is shown:\r\n !image-2020-11-17-11-03-45-489.png|thumbnail! \r\n\r\nThis confuses the users as they don't know why the export failed.\r\n\r\nThe suggestion would be to handle it in any of these ways:\r\n* If there's a time out -> replace the image with a default \"missing image\" image.\r\n\r\nor \r\n\r\n# Show a message in the Confluence web interface: Can't export the page to PDF, because external images can't be retrieved by the server.\r\n# Click on Cancel to add the images as an attachment and try exporting to PDF again.\r\n# Click on Continue to replace affected images with a placeholder.",
      "summary": "Better handle the error to export pages as PDF with external images"
    }
  },
  {
    "key": "CONFSERVER-60491",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-15T05:53:41.000+0000",
      "created": "2020-11-17T13:51:07.000+0000",
      "description": "h3. Problem\r\nConfluence is not currently supporting the use of TLS 1.3 due to its Java version\r\n\r\nh3. Environment\r\nAdopt OpenJDK 11.0.7_10\r\n\r\nh3. Steps to Reproduce\r\nAdd the parameter {{sslEnabledProtocols=\"TLSv1.3\"}}\r\n\r\nh3. Expected Results\r\nConfluence is up and running.\r\nConfluence is able to handshake with other apps\r\n\r\nh3. Actual Results\r\n{code:java}13-Nov-2020 10:30:24.188 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Http11Nio2Protocol-443]]\r\n\torg.apache.catalina.LifecycleException: Protocol handler initialization failed{code}\r\n\r\nh3. Workaround\r\nRemove the TLS 1.3 parameter from the {{server.xml}} and {{setenv.sh}}.\r\nIf using Windows as a Service, remove the TLSv1.3 parameter from {{-Djdk.tls.client.protocols}} and {{-Djdk.tls.server.protocols}}.\r\n\r\nh3. Notes\r\nIf Jira enabled TLS 1.3, the application link between Confluence and Jira will try to handshake with 1.3 and that won't work.\r\nPlease consider removing the parameter on both sides before creating the app link.",
      "summary": "Confluence does not support TLS 1.3 with Java 11.0.7"
    }
  },
  {
    "key": "CONFSERVER-60490",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-16T21:35:28.000+0000",
      "description": "h3. Summary\r\n\r\nEnabling the \"PrintExtendedThreadInfo\" parameter by default when using Java 11 would allow us to see allocated memory for each thread, when thread dumps are taken. \r\n\r\nh3. Example\r\n\r\nOn Confluence 7.9.0, using the default Java.\r\n\r\nBefore enabling the flag: \r\n{noformat}\r\n\"http-nio-8090-exec-1\" #63 daemon prio=5 os_prio=0 cpu=0.22ms elapsed=59.14s tid=0x00007fb5809f1000 nid=0x2fd3 waiting on condition  [0x00007fb482ef1000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat jdk.internal.misc.Unsafe.park(java.base@11.0.7/Native Method)\r\n\t- parking to wait for  <0x00000000e2e005e8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.LinkedBlockingQueue.take(java.base@11.0.7/Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:107)\r\n\tat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.7/Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(java.base@11.0.7/Unknown Source)\r\n{noformat}\r\n\r\nAfter enabling the flag:\r\n{noformat}\r\n\"http-nio-8090-exec-10\" #85 daemon prio=5 os_prio=0 cpu=0.13ms elapsed=53.53s allocated=32B defined_classes=0 tid=0x00007fd8f4475800 nid=0x3135 waiting on condition  [0x00007fd7db0f3000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat jdk.internal.misc.Unsafe.park(java.base@11.0.7/Native Method)\r\n\t- parking to wait for  <0x00000000ef9240d8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.LinkedBlockingQueue.take(java.base@11.0.7/Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:107)\r\n\tat org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.7/Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.7/Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(java.base@11.0.7/Unknown Source)\r\n{noformat}\r\n\r\nThis additional information would help support diagnose performance issues more easily. \r\n\r\nh3. Suggestion\r\n\r\nIf we can add this parameter to our default setenv.sh / .bat files, we could enable this functionality by default:\r\n{code}\r\n-XX:+PrintExtendedThreadInfo\r\n{code}",
      "summary": "Enable \"PrintExtendedThreadInfo\" by default when using Java 11"
    }
  },
  {
    "key": "CONFSERVER-60489",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-27T02:55:44.000+0000",
      "created": "2020-11-16T14:23:22.000+0000",
      "description": "{panel:title=How to apply this fix}\r\nThanks for your interest in this issue. We have fixed this in Team Calendars 6.1.5 (see\u00a0CONFSERVER-60489) by allowing you to set a system property to configure the number of days in list view. To use this feature, add the system property\r\n{code:java}\r\ncom.atlassian.confluence.extra.calendar3.display.events.calendar.maxdayslistview\r\n{code}\r\nto your confluence instance and set the value up to a maximum of 30 days. This value defaults to 1 when not set.\u00a0\r\n{panel}\r\nh3. \u00a0\r\nh3. Issue summary\r\n\r\nIn Team Calendar version 6.1.4, the 'List' view of a calendar will only display events from a single day. You'd have to click next to view events from the next day onwards.\r\n\r\nThis isn't ideal for users to plan ahead since they can't collectively see the upcoming events in a single view.\r\nh3. Suggestion\r\n\r\nAllow user to configure how many days worth of events should be displayed in the 'List' view either through the UI or a system property.",
      "summary": "Allow users to configure how many days of events are displayed in the 'List' view of TC"
    }
  },
  {
    "key": "CONFSERVER-60488",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-16T10:38:51.000+0000",
      "description": "Hi:\r\n\r\n\u00a0 When reinstalling, an error occurred while importing the backup\r\n\r\n\u00a0 My system environment\r\n\u00a0 \u00a0 # centos7 x86-64\r\n\u00a0 \u00a0 # mysql 5.7 utf8-bin\r\n\r\n\u00a0\u00a0The screenshot and error log of the error are as follows:\r\n\r\n+++++++++++++++++\r\n\r\ncom.atlassian.confluence.importexport.ImportExportException: Unable to complete import: An invalid XML character (Unicode: 0x8) was found in the CDATA section.\r\n\r\n+++++++++++++++++\r\n{code:java}\r\n// code placeholder\r\nOops - an error has occurred\u00a0System ErrorA system error has occurred \u2014 our apologies!For immediate troubleshooting, consult our\u00a0knowledge base\u00a0for a solution.If you would like to receive support from Atlassian's support team, ask your\u00a0Confluence administrator\u00a0to create a support issue on\u00a0Atlassian's support system\u00a0with the following information:a description of your problem and what you were doing at the time it occurreda copy of the error and system information found belowa copy of the application logs (if possible).Your Confluence administrator can use the\u00a0support request form\u00a0to create a support ticket which will include this information.We will respond as promptly as possible.\r\nThank you!Return to site homepage\u2026Causeorg.apache.velocity.exception.MethodInvocationException: Invocation of method 'isShowSignUp' in class com.atlassian.confluence.user.actions.LoginAction threw exception java.lang.NullPointerException: Application cannot be null at /login.vm[line 6, column 28]\r\n\u00a0\u00a0\u00a0\u00a0at org.apache.velocity.runtime.parser.node.ASTMethod.handleInvocationException(ASTMethod.java:342)caused by: java.lang.NullPointerException: Application cannot be null\r\n\u00a0\u00a0\u00a0\u00a0at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:895)Stack Trace:[hide]org.apache.velocity.exception.MethodInvocationException: Invocation of method 'isShowSignUp' in  class com.atlassian.confluence.user.actions.LoginAction threw exception java.lang.NullPointerException: Application cannot be null at /login.vm[line 6, column 28]\r\n\tat org.apache.velocity.runtime.parser.node.ASTMethod.handleInvocationException(ASTMethod.java:342)\r\n\tat org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:284)\r\n\tat org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:262)\r\n\tat org.apache.velocity.runtime.parser.node.ASTReference.value(ASTReference.java:507)\r\n\tat org.apache.velocity.runtime.parser.node.ASTExpression.value(ASTExpression.java:71)\r\n\tat org.apache.velocity.runtime.parser.node.ASTSetDirective.render(ASTSetDirective.java:142)\r\n\tat org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:336)\r\n\tat org.apache.velocity.Template.merge(Template.java:328)\r\n\tat org.apache.velocity.Template.merge(Template.java:235)\r\n\tat com.opensymphony.webwork.dispatcher.VelocityResult.doExecute(VelocityResult.java:91)\r\n\tat com.atlassian.xwork.results.ProfiledVelocityResult.doExecute(ProfiledVelocityResult.java:21)\r\n\tat com.atlassian.confluence.setup.webwork.EncodingVelocityResult.doExecute(EncodingVelocityResult.java:43)\r\n\tat com.opensymphony.webwork.dispatcher.WebWorkResultSupport.execute(WebWorkResultSupport.java:116)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:263)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:187)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.core.ConfluenceWorkflowInterceptor.intercept(ConfluenceWorkflowInterceptor.java:33)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.xwork.interceptors.XsrfTokenInterceptor.intercept(XsrfTokenInterceptor.java:100)\r\n\tat com.atlassian.confluence.xwork.ConfluenceXsrfTokenInterceptor.intercept(ConfluenceXsrfTokenInterceptor.java:29)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.security.interceptors.CaptchaInterceptor.intercept(CaptchaInterceptor.java:42)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.core.ConfluenceLicenseInterceptor.intercept(ConfluenceLicenseInterceptor.java:65)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.validation.MessageHolderInterceptor.intercept(MessageHolderInterceptor.java:37)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.util.LoggingContextInterceptor.intercept(LoggingContextInterceptor.java:44)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.core.CancellingInterceptor.intercept(CancellingInterceptor.java:21)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.xwork.HttpMethodValidationInterceptor.intercept(HttpMethodValidationInterceptor.java:68)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.security.websudo.WebSudoInterceptor.intercept(WebSudoInterceptor.java:57)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.themes.ThemeContextInterceptor.intercept(ThemeContextInterceptor.java:42)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.security.actions.PermissionCheckInterceptor.intercept(PermissionCheckInterceptor.java:97)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.setup.webwork.BootstrapAwareInterceptor.intercept(BootstrapAwareInterceptor.java:19)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.user.actions.UserAwareInterceptor.intercept(UserAwareInterceptor.java:50)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.pages.actions.CommentAwareInterceptor.intercept(CommentAwareInterceptor.java:37)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.pages.actions.PageAwareInterceptor.intercept(PageAwareInterceptor.java:48)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.spaces.actions.SpaceAwareInterceptor.intercept(SpaceAwareInterceptor.java:70)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.security.interceptors.ConfluenceAccessInterceptor.intercept(ConfluenceAccessInterceptor.java:31)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.xwork.FlashScopeInterceptor.intercept(FlashScopeInterceptor.java:21)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.core.actions.LastModifiedInterceptor.intercept(LastModifiedInterceptor.java:27)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.core.ConfluenceAutowireInterceptor.intercept(ConfluenceAutowireInterceptor.java:44)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.xwork.interceptors.TransactionalInvocation.invokeAndHandleExceptions(TransactionalInvocation.java:71)\r\n\tat com.atlassian.xwork.interceptors.TransactionalInvocation.invokeInTransaction(TransactionalInvocation.java:57)\r\n\tat com.atlassian.xwork.interceptors.XWorkTransactionInterceptor.intercept(XWorkTransactionInterceptor.java:56)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.xwork.SetupIncompleteInterceptor.intercept(SetupIncompleteInterceptor.java:61)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.atlassian.confluence.security.interceptors.SecurityHeadersInterceptor.intercept(SecurityHeadersInterceptor.java:39)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\r\n\tat com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\r\n\tat com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:115)\r\n\tat com.atlassian.confluence.servlet.ConfluenceServletDispatcher.serviceAction(ConfluenceServletDispatcher.java:56)\r\n\tat com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:199)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.DebugFilter.doFilter(DebugFilter.java:46)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.plugins.baseurl.IncludeResourcesFilter.doFilter(IncludeResourcesFilter.java:52)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.labs.botkiller.BotKillerFilter.doFilter(BotKillerFilter.java:36)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.plugins.pulp.PulpFilter.doFilter(PulpFilter.java:70)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.mywork.client.filter.ServingRequestsFilter.doFilter(ServingRequestsFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.efi.OnboardingFilter.doFilter(OnboardingFilter.java:77)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.plugins.authentication.impl.web.filter.authentication.AuthenticationFilter.doFilter(AuthenticationFilter.java:68)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.plugins.authentication.impl.web.filter.logout.LogoutFilter.doFilter(LogoutFilter.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:80)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.plugins.mobile.filter.MobileAppWebViewFilter.doFilter(MobileAppWebViewFilter.java:58)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat com.atlassian.johnson.plugin.servlet.filter.JohnsonServletFilterModuleContainerFilter.doFilter(JohnsonServletFilterModuleContainerFilter.java:50)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.message.MessagesDecoratorFilter.doFilter(MessagesDecoratorFilter.java:64)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\r\n\tat com.atlassian.confluence.util.profiling.ProfilingSiteMeshFilter.doFilter(ProfilingSiteMeshFilter.java:50)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.util.profiling.ConfluenceActivityFilter.doFilter(ConfluenceActivityFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat com.atlassian.johnson.plugin.servlet.filter.JohnsonServletFilterModuleContainerFilter.doFilter(JohnsonServletFilterModuleContainerFilter.java:50)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.jmx.JmxFilter.doFilter(JmxFilter.java:97)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.cache.TransactionalCacheFactoryCleanupFilter.doFilter(TransactionalCacheFactoryCleanupFilter.java:22)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:17)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.UserLoggingContextFilter.doFilter(UserLoggingContextFilter.java:32)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.UserNameHeaderFilter.doFilter(UserNameHeaderFilter.java:25)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.MauEventFilter.doFilterInternal(MauEventFilter.java:31)\r\n\tat com.atlassian.confluence.web.filter.AbstractStaticResourceAwareFilter.doFilter(AbstractStaticResourceAwareFilter.java:43)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.UserThreadLocalFilter.doFilter(UserThreadLocalFilter.java:38)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.ConfluenceTimeoutFilter.doFilter(ConfluenceTimeoutFilter.java:57)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:242)\r\n\tat com.atlassian.confluence.web.filter.ConfluenceSecurityFilter.applyFilter(ConfluenceSecurityFilter.java:40)\r\n\tat com.atlassian.confluence.web.filter.ConfluenceSecurityFilter.doFilter(ConfluenceSecurityFilter.java:29)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.ThreadLocalCacheFilter.doFilter(ThreadLocalCacheFilter.java:25)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:35)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat com.atlassian.johnson.plugin.servlet.filter.JohnsonServletFilterModuleContainerFilter.doFilter(JohnsonServletFilterModuleContainerFilter.java:50)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:57)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)\r\n\tat com.atlassian.confluence.web.filter.ConfluenceOpenSessionInViewFilter.doFilterInternal(ConfluenceOpenSessionInViewFilter.java:41)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.ConfluenceErrorFilter.doFilter(ConfluenceErrorFilter.java:24)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:105)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:37)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:31)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.web.filter.HttpRequestStatsFilter.doFilter(HttpRequestStatsFilter.java:58)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:115)\r\n\tat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:92)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.web.filter.ConfluenceTimingFilter.doFilter(ConfluenceTimingFilter.java:47)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.confluence.extra.webdav.servlet.filter.WebdavRequestForwardFilter.doFilter(WebdavRequestForwardFilter.java:72)\r\n\tat com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:29)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat com.atlassian.johnson.plugin.servlet.filter.JohnsonServletFilterModuleContainerFilter.doFilter(JohnsonServletFilterModuleContainerFilter.java:50)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.MobileAppRequestFilter.doFilter(MobileAppRequestFilter.java:36)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.internal.web.filter.spring.IgnoreWebAsyncManagerFilter.doFilter(IgnoreWebAsyncManagerFilter.java:59)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.validateparam.RequestParamValidationFilter.doFilter(RequestParamValidationFilter.java:51)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.TranslationModeFilter.doFilter(TranslationModeFilter.java:39)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.plugin.servlet.filter.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:71)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.LanguageExtractionFilter.doFilter(LanguageExtractionFilter.java:39)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextFilter.lambda$doFilter$3(VCacheRequestContextFilter.java:44)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContextInternal(VCacheRequestContextManager.java:84)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextManager.doInRequestContext(VCacheRequestContextManager.java:68)\r\n\tat com.atlassian.confluence.impl.vcache.VCacheRequestContextFilter.doFilter(VCacheRequestContextFilter.java:43)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:33)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:59)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.github.kristofa.brave.servlet.BraveServletFilter.doFilter(BraveServletFilter.java:59)\r\n\tat com.atlassian.confluence.web.filter.ZipkinTracingFilter.doFilter(ZipkinTracingFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.ResponseOutputStreamFilter.doFilter(ResponseOutputStreamFilter.java:25)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.ConfluenceJohnsonFilter.doFilter(ConfluenceJohnsonFilter.java:30)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.setup.ConfluenceEncodingFilter.doFilterInternal(ConfluenceEncodingFilter.java:35)\r\n\tat com.atlassian.confluence.web.filter.AbstractStaticResourceAwareFilter.doFilter(AbstractStaticResourceAwareFilter.java:43)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:37)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.servlet.FourOhFourErrorLoggingFilter.doFilter(FourOhFourErrorLoggingFilter.java:64)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.internal.diagnostics.HttpRequestMonitoringFilter.doFilter(HttpRequestMonitoringFilter.java:42)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.confluence.web.filter.DebugFilter.doFilter(DebugFilter.java:46)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException: Application cannot be null\r\n\tat com.google.common.base.Preconditions.checkNotNull(Preconditions.java:895)\r\n\tat com.atlassian.confluence.admin.criteria.DirectoryUtil.getActiveDirectories(DirectoryUtil.java:25)\r\n\tat com.atlassian.confluence.admin.criteria.DirectoryUtil.findFirstDirectoryWithGivenPermission(DirectoryUtil.java:43)\r\n\tat com.atlassian.confluence.admin.criteria.DirectoryUtil.findFirstDirectoryWithCreateUserPermission(DirectoryUtil.java:33)\r\n\tat com.atlassian.confluence.admin.criteria.DefaultWritableDirectoryExistsCriteria.isMet(DefaultWritableDirectoryExistsCriteria.java:35)\r\n\tat com.atlassian.confluence.user.actions.AbstractLoginSignupAction.isShowSignUp(AbstractLoginSignupAction.java:60)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.doInvoke(UberspectImpl.java:385)\r\n\tat org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:374)\r\n\tat com.atlassian.velocity.htmlsafe.introspection.UnboxingMethod.invoke(UnboxingMethod.java:28)\r\n\tat org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:270)\r\n\t... 401 more\r\n{code}\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "When reinstalling, an error occurred while importing the backup"
    }
  },
  {
    "key": "CONFSERVER-60487",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-18T00:45:49.000+0000",
      "created": "2020-11-16T09:47:57.000+0000",
      "description": "h3. Summary\r\nIn the older version of companion app, Companion runs a local websocket server and this method of connecting is incompatible with Citrix virtual desktop environments. Since companion app version 1.2.2, it connect Confluence via custom URI handler and is compatible with Citrix Environment.\r\n\r\nHowever, companion 1.2.2 is is backwards compatible and still attempt to run that local server. This caused user get a false pop up error when launching companion app in Citrix Environment. This caused some confusion to the user if there is an error with companion app.\r\nPS: User are still able to launch companion app and edit attachment when they ignore the error message.\r\n\r\nh3. Steps to reproduce\r\n# Install Confluence in Citrix Environment and install companion app 1.2.2\r\n# Try to launch companion app by edit a attachment.\r\n# companion app launched without any error\r\n# When another user try to edit and launch companion app, they get a error message\r\n !error_msg.JPG|thumbnail! \r\n\r\nh3. Workaround\r\nThis is a false error message and can be ignore. User can still edit the attachment via companion app.",
      "summary": "User getting false error message when launching companion app in Citrix Environment"
    }
  },
  {
    "key": "CONFSERVER-60485",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-13T19:40:21.000+0000",
      "description": "We just upgraded confluence to a latest release, will be possible to integrate with SAML SSO login for confluence ?\r\n\r\nIf yes, please advise the SAML SSO plugin, and how to configure it? Is it a free plugin (SAML SSO) for confluence?\u00a0\u00a0",
      "summary": "We just upgraded confluence to a latest release, will be possible to integrate with SAML SSO login for confluence ? "
    }
  },
  {
    "key": "CONFSERVER-60484",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-13T14:25:49.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe *listlabels-alphaview.action* and the *listlabels-heatmap.action* pages will limit the numbers of labels displayed.\r\n\r\nThe current setting is hard coded as it can be seen:\r\n{code:java}\r\n   @PermittedMethods(HttpMethod.GET)\r\n    @Override\r\n    public String execute() throws Exception {\r\n        Comparator comp;\r\n        if (isGroupRanks())\r\n            comp = new RankedRankComparator();\r\n        else\r\n            comp = new RankedNameComparator();\r\n\r\n        if (space != null)\r\n            results = labelManager.getMostPopularLabelsWithRanksInSpace(space.getKey(), 200, comp);\r\n        else\r\n            results = labelManager.getMostPopularLabelsWithRanks(200, comp); <--------------\r\n\r\n        return SUCCESS;\r\n    }\r\n{code}\r\n{code}\r\n    public AlphabeticalLabelGroupingSupport getAlphaSupport() {\r\n        if (alphaSupport == null) {\r\n            List labels;\r\n            if (getSpace() != null)\r\n                labels = labelManager.getLabelsInSpace(getSpace().getKey());\r\n            else\r\n                labels = labelManager.getRecentlyUsedLabels(1000); <-----------------\r\n\r\n            alphaSupport = new AlphabeticalLabelGroupingSupport(labels);\r\n        }\r\n        return alphaSupport;\r\n    }\r\n{code}\r\n*AlphaView:* sorts by most recently used labels on a page so depending on how the labels are associated with what pages, the number of labels shown will continually change when the CROSS JOIN exceeds the *1000* limit cap.\r\n *HeatMap:* sorts by the most popular count so we will always have the top *200* labels\r\nh3. Suggested Solution\r\n\r\nConfluence should provide an option to set the number of labels returned by the above pages or soft coding of the above two limits.\r\nh3. Workaround\r\n\r\nNo workarounds.",
      "summary": "Ability to set the number of labels returned by listlabels-alphaview.action and by listlabels-heatmap.action"
    }
  },
  {
    "key": "CONFSERVER-60483",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-13T11:11:21.000+0000",
      "description": "Background: \r\nElectron started to support the new apple arm chip\r\nhttps://www.electronjs.org/blog/apple-silicon\r\n\r\nA lot of popular apps are being actively developed to support Apple Silicon\r\nhttps://doesitarm.com/\r\n\r\nDone when: \r\n * Upgrade to Electron 11.\r\n * Companion could run on the Apple Silicon chips.\r\n\r\n",
      "summary": "Upgrade Electron for Companion app to support ARM based Apple Silicon CPU"
    }
  },
  {
    "key": "CONFSERVER-60482",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-11-13T09:54:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen setting the default language in Confluence to German, the subject of the daily report shows in English language.\r\nh3. Steps to Reproduce\r\n # Change the language of Confluence to German\r\n ## Go to General Configurations >> \"Languages\"\r\n ## Edit and change the language to\u00a0*Deutsch (Deutschland)*\r\n ## save\r\n # Change the language of user's profile to German\r\n ## Edit user's profile profile >>\u00a0*Settings*\u00a0tab\r\n ## Change language to\u00a0*Deutsch (Deutschland)*\u00a0>>\u00a0*Submit*\r\n # Trigger the job to send daily report\r\n ## Go to General Configurations >> Scheduled Jobs\u00a0\r\n ## Locate *Email Daily Reports*\u00a0, click on\u00a0*Run*\r\n ## Check your mail box\r\n\r\nh3. Expected Results\r\n\r\nThe subject of the daily report mail should show as \"Confluence Aenderungen in den letzten 24 Stunden\"\r\nh3. Actual Results\r\n\r\nThe subject of the daily report mail shows in English as \"Confluence Changes in the last 24 hours\"\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Daily email report's subject \"Confluence Changes in the last 24 hours\" stays in English when changing the language to German"
    }
  }
]