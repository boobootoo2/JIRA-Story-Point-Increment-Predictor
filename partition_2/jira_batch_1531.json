[
  {
    "key": "CONFSERVER-65770",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-26T17:12:53.000+0000",
      "description": "h3. Issue Summary\r\nIf a page has a broken macro in it, a *curl* request to the page will return a *500 Internal Server Error* response\r\n\r\nh3. Steps to Reproduce\r\n # Create a page with a broken macro\r\n # On a terminal, run the following *curl* command:\r\n{code: title=curl}\r\ncurl -u username:password -X GET http://baseURL/rest/api/space/SPACEKEY/content/page?expand=body.view&limit=25&start=1\r\n{code}\r\n#* Please note that it's necessary to replace the *username*, *password*, *baseURL* and *SPACEKEY* values with its respective values\r\n\r\nh3. Expected Results\r\nConfluence will return the page's content, including the broken macro.\r\n\r\nh3. Actual Results\r\nConfluence will return a *500 Internal Server Error* response\r\n\r\nh3. Workaround\r\nN/A",
      "summary": "Confluence returns a 500 Internal Server Error if a page has a broken macro"
    }
  },
  {
    "key": "CONFSERVER-65769",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-28T03:22:55.000+0000",
      "created": "2021-05-26T16:18:50.000+0000",
      "description": "h3. Problem\r\n\r\nIf the database name in a Microsoft SQL Server 2017 database has multiple prefixes, the upgrade will fail for Confluence 7.11.0.\r\n\r\nExample: confluence.company.com.dbo.SPACES\r\nh3. Environment\r\n * Confluence 7.9.3 upgrading to Confluence 7.12.0\r\n * Microsoft SQL Server 2017\r\n\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.9.3 with Microsoft SQL Server 2017\r\n # Upgrade to Confluence 7.11.0\r\n\r\nh3. Expected Results\r\n\r\nThe upgrade should complete without errors.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{code:java}\r\n2021-04-16 19:49:03,109 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades Upgrade failed, application will not start: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask@63dd328c failed during the SCHEMA_UPGRADE phase due to: StatementCallback; uncategorized SQLException for SQL [CREATE TRIGGER dbo.denormalised_space_trigger\r\nON confluence.company.com.dbo.SPACES\r\nAFTER INSERT, UPDATE, DELETE\r\nAS\r\nBEGIN\r\nSET NOCOUNT ON;\r\nif (dbo.space_function_for_denormalised_permissions() = 1)\r\nBEGIN\r\nINSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from inserted;\r\nINSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from deleted;\r\nEND\r\nEND\r\n]; SQL state [S0001]; error code [117]; The object name 'confluence.company.com.dbo.SPACES' contains more than the maximum number of prefixes. The maximum is 2.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The object name 'confluence.company.com.dbo.SPACES' contains more than the maximum number of prefixes. The maximum is 2.\r\n{code}\r\nh3. Workaround\r\n\r\nUpdate the database name and remove the periods(.) from the name and update the confluence.cfg.xml file with the new name.\r\nh3. Notes",
      "summary": "Upgrade task for Denormalised Space Permissions fails due to multiple prefixes(MSSQL)"
    }
  },
  {
    "key": "CONFSERVER-65768",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-26T13:46:10.000+0000",
      "description": "Currently for\u00a0automatic JIRA Issue information does not contains the status of the request which is only available after adding the Jira Issue Macro.\u00a0\r\n\r\n[https://www.atlassian.com/blog/confluence/display-jira-issues-in-confluence-more-power-more-control]\r\n\r\nThe ask here is to add more information to the\u00a0automatic JIRA Issue such as status of the ticket.\u00a0\r\n\r\n\u00a0",
      "summary": "Automatic JIRA Issue macro to include more information"
    }
  },
  {
    "key": "CONFSERVER-65732",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T00:39:06.000+0000",
      "created": "2021-05-26T04:13:06.000+0000",
      "description": "h3. Issue Summary\r\nIn Confluence 7.12 and above, accessing the [_Files and images_|https://confluence.atlassian.com/doc/upload-files-139513.html#UploadFiles-Uploadafile] dialog to upload an image file will result in {{java.lang.NullPointerException}} in the {{<Confluence-Home>/logs/atlassian-confluence.log}} file.\r\n\r\nh3. Steps to Reproduce\r\n# Create a new page in Confluence or edit an existing Confluence page.\r\n# Load up the [_Files and images_|https://confluence.atlassian.com/doc/upload-files-139513.html#UploadFiles-Uploadafile] dialog.\r\n# Upload an image file (of any image file extension) to the page. \r\n\r\n(i) The same {{java.lang.NullPointerException}} would also be thrown in the {{<Confluence-Home>/logs/atlassian-confluence.log}} when accessing the [_Files and images_|https://confluence.atlassian.com/doc/upload-files-139513.html#UploadFiles-Uploadafile] dialog of a page with an attachment image already embedded into it.\r\n\r\nh3. Expected Results\r\nThe page and its embedded attachments are load up fine without any errors thrown in the {{<Confluence-Home>/logs/atlassian-confluence.log}}.\r\n\r\nh3. Actual Results\r\nThe page and its embedded attachments are load up fine, but the below exception is thrown in the {{<Confluence-Home>/logs/atlassian-confluence.log}} file:\r\n{code}\r\n2021-05-26 14:06:42,229 ERROR [http-nio-27120-exec-5] [[Standalone].[localhost].[/c7120].[file-server]] log Servlet.service() for servlet [file-server] in context with path [/c7120] threw exception\r\njava.lang.NullPointerException\r\n        at com.atlassian.confluence.servlet.download.AttachmentDownload.streamResponse(AttachmentDownload.java:293)\r\n        at com.atlassian.confluence.servlet.download.ServeAfterTransactionDownload.serveFile(ServeAfterTransactionDownload.java:51)\r\n        at com.atlassian.plugin.servlet.AbstractFileServerServlet.doGet(AbstractFileServerServlet.java:28)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at com.atlassian.confluence.web.filter.DebugFilter.doFilter(DebugFilter.java:46)\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n...\r\n{code}\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Accessing files and images dialog on Confluence editor resulted in NullPointerException"
    }
  },
  {
    "key": "CONFSERVER-65731",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-25T19:53:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUsers are not able to create inline comments on texts that have been used in a Drawio plugin. For example if there is a Drawio diagram in a Confluence page that has a header with a string \"Test\", users cannot create an inline comment on any \"Test\" string *anywhere* in the page. The error message that is displayed is *We can't add your inline comment; the section you highlighted may contain a macro or user mention. Try highlighting plain text.*\r\n\r\n!Screenshot 2021-05-21 at 12.57.06 AM.png|width=520,height=163!\r\nh3. Steps to Reproduce\r\n # Create a new Confluence page.\r\n # Create a diagram using drawio plugin with a heading\r\n # Type the text \"Test\" in any heading cell.\r\n # Type the text \"Test\" anywhere else in the page.\r\n # Save the page.\r\n # Highlight on the text \"Test\" from step 4 above and create an inline comment\r\n # Type any comment on the inline comment text box and click Save\r\n\r\nh3. Expected Results\r\n\r\nOnce the user clicks on save, the inline comment should be available.\r\nh3. Actual Results\r\n\r\nThe error message *We can't add your inline comment; the section you highlighted may contain a macro or user mention. Try highlighting plain text.* will be displayed.\r\n\r\nNote: The issue described here is case-sensitive. For example, if the table header has the text \"Test\", users will still be able to create inline comments for the text \"test\"\r\n\r\nh3. Workaround\r\n\r\nIt seems that this issue only occurs if the page has exact string that is there in header. So a workaround on this would be to select extra words along with the header word.\r\n\r\nh3. Long term solution\r\n\r\nUnfortunately this is due to the way the draw.io macro renders in Confluence. The macro bypasses the normal macro rendering process which normally adds wrapping tags around the macro. The long term solution would have to be a fix on the draw.io side to add these wrapping tags:\r\n{code:xml}\r\n<div class=\"conf-macro output-block\" data-hasbody=\"false\" data-macro-name=\"some-macro\">  \r\n</div>\r\n{code}",
      "summary": "Users are not able to create inline comments on texts that have been used in a Drawio plugin."
    }
  },
  {
    "key": "CONFSERVER-65730",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-25T13:24:16.000+0000",
      "description": "h3. Problem\r\n\r\nWhen using the Space list macro if one of the listed spaces is a Personal Space, the link will redirect to the userprofile of the personal space owner instead of the personal space page.\r\n\r\n!image-2021-05-25-15-18-41-694.png|width=266,height=340!\r\nh3. Environment\r\n\r\nConfluence 7.4.8\r\n\r\nPostgreSQL\r\nh3. Steps to Reproduce\r\n\r\n# Setup a personal space for a user (i.e: \"user1\")\r\n# With any user, create a page and add the \"Spaces List macro\" on it. \r\n# Configure the macro filter to \"favorites\" or \"New\" and publish the page\r\n# with any user, make the Personal Space a favourite and open the page with the Spaces List macro on it\r\n\u00a0\r\n\r\n\u00a0\r\nh3. Expected Results\r\n\r\n_The link should redirect to the Personal Space URL._\r\nh3. Actual Results\r\n\r\n_The link redirects to the user profile of the personal space owner._\r\nh3. Workaround\r\nAt the moment no workaround is known for this and will be added as soon as one is available",
      "summary": "Spacelist macro redirects to incorrect Personal Space URL"
    }
  },
  {
    "key": "CONFSERVER-65724",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T00:39:09.000+0000",
      "created": "2021-05-25T10:13:39.000+0000",
      "description": "h3. Problem\r\n\r\nSite Analytics Doesn't Work when Increased Privacy Mode is enabled.\r\nh3. Environment\r\n\r\n.\r\n 7.11.x and above.\r\nh3. Steps to Reproduce\r\n\r\nIn Confluence go to : Increased Privacy Mode from General Configuration >> CONFLUENCE ANALYTICS >> Configuration and enable the same.\r\n\r\nThis is not reproducible. This appears to be connected to the specific set of data a particular instance has. But under general conditions, the error is not reproduced in test environments. For customers who do face the issue, we notice errors similar to the following (when the above setting is enabled):\r\n{code:java}\r\ncom.addonengine.analytics:client-vendor-resources.js:101512 A hash of at least 15 characters is required.\r\nCi @ com.addonengine.analytics:client-vendor-resources.js:101512\r\nXi.c.callback @ com.addonengine.analytics:client-vendor-resources.js:101529\r\nCg @ com.addonengine.analytics:client-vendor-resources.js:101434\r\nJi @ com.addonengine.analytics:client-vendor-resources.js:101515\r\nSj @ com.addonengine.analytics:client-vendor-resources.js:101558\r\npush.exports.unstable_runWithPriority @ com.addonengine.analytics:client-vendor-resources.js:101633\r\ncg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nJj @ com.addonengine.analytics:client-vendor-resources.js:101551\r\nyj @ com.addonengine.analytics:client-vendor-resources.js:101542\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:101426\r\npush.exports.unstable_runWithPriority @ com.addonengine.analytics:client-vendor-resources.js:101633\r\ncg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nfg @ com.addonengine.analytics:client-vendor-resources.js:101426\r\ngg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nMj @ com.addonengine.analytics:client-vendor-resources.js:101543\r\nnotify @ com.addonengine.analytics:client-vendor-resources.js:10115\r\nnotifyNestedSubs @ com.addonengine.analytics:client-vendor-resources.js:10188\r\nhandleChangeWrapper @ com.addonengine.analytics:client-vendor-resources.js:10193\r\ndispatch @ com.addonengine.analytics:client-vendor-resources.js:13510\r\nhandleAction @ com.addonengine.analytics:client-vendor-resources.js:19840\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:19753\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:56893\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:53977\r\ndispatch @ com.addonengine.analytics:client-vendor-resources.js:13844\r\n(anonym) @ com.addonengine.analytics:client-analytics-resources.js:1727\r\nPromise.then (asynchron)\r\n(anonym) @ com.addonengine.analytics:client-analytics-resources.js:1726\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:53974\r\ncollectUserDetails @ com.addonengine.analytics:client-analytics-resources.js:11563\r\n(anonym) @ com.addonengine.analytics:client-analytics-resources.js:6548\r\nIi @ com.addonengine.analytics:client-vendor-resources.js:101514\r\nVj @ com.addonengine.analytics:client-vendor-resources.js:101560\r\npush.exports.unstable_runWithPriority @ com.addonengine.analytics:client-vendor-resources.js:101633\r\ncg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nDj @ com.addonengine.analytics:client-vendor-resources.js:101560\r\nyj @ com.addonengine.analytics:client-vendor-resources.js:101542\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:101426\r\npush.exports.unstable_runWithPriority @ com.addonengine.analytics:client-vendor-resources.js:101633\r\ncg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nfg @ com.addonengine.analytics:client-vendor-resources.js:101426\r\ngg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nMj @ com.addonengine.analytics:client-vendor-resources.js:101543\r\nnotify @ com.addonengine.analytics:client-vendor-resources.js:10115\r\nnotifyNestedSubs @ com.addonengine.analytics:client-vendor-resources.js:10188\r\nhandleChangeWrapper @ com.addonengine.analytics:client-vendor-resources.js:10193\r\ndispatch @ com.addonengine.analytics:client-vendor-resources.js:13510\r\nhandleAction @ com.addonengine.analytics:client-vendor-resources.js:19840\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:19753\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:56893\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:53977\r\ndispatch @ com.addonengine.analytics:client-vendor-resources.js:13844\r\n(anonym) @ com.addonengine.analytics:client-analytics-resources.js:14730\r\nPromise.then (asynchron)\r\n(anonym) @ com.addonengine.analytics:client-analytics-resources.js:14729\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:53974\r\nonLoad @ com.addonengine.analytics:client-analytics-resources.js:11558\r\n(anonym) @ com.addonengine.analytics:client-analytics-resources.js:11647\r\nIi @ com.addonengine.analytics:client-vendor-resources.js:101514\r\nVj @ com.addonengine.analytics:client-vendor-resources.js:101560\r\npush.exports.unstable_runWithPriority @ com.addonengine.analytics:client-vendor-resources.js:101633\r\ncg @ com.addonengine.analytics:client-vendor-resources.js:101425\r\nDj @ com.addonengine.analytics:client-vendor-resources.js:101560\r\n(anonym) @ com.addonengine.analytics:client-vendor-resources.js:101559\r\nX @ com.addonengine.analytics:client-vendor-resources.js:101631\r\npush.H.port1.onmessage @ com.addonengine.analytics:client-vendor-resources.js:101628\r\n/plugins/com.addonen...pace/CON/overview:1 Uncaught (in promise) A hash of at least 15 characters is required.\r\n{code}\r\nh3. Expected Results\r\n\r\nSite analytics page should work when Increased Privacy Mode is enabled.\r\nh3. Actual Results\r\n\r\nThe site analytics page keeps loading and no results are displayed (sample below):\r\n\r\n !1.png|thumbnail! \r\n\u00a0\r\n\r\n\u00a0\r\nh3. Workaround\r\n\r\nDisabling this setting makes the analytics work again.\r\nh3. Notes",
      "summary": "Site Analytics Doesn't Work when Increased Privacy Mode is enabled"
    }
  },
  {
    "key": "CONFSERVER-65713",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-24T04:48:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a user creates or edits a page in Confluence, a call is made to {{/rest/jiraanywhere/1.0/servers}} to pre-populate a list of Jira servers that are available. The first time this URL is requested after startup, Confluence will attempt to retrieve server details from all Jira servers with a configured application link within Confluence. Those results are then cached for 4 hours, then the next call to {{/rest/jiraanywhere/1.0/servers}} will refresh those cached values.\r\n\r\nTypical output with one application link for Jira looks like:\r\n{code:java}\r\n[{\"id\":\"a11fa272-0a98-37e5-86b3-e563cce10260\",\"name\":\"Jira\",\"selected\":true,\"url\":\"http://pizza.atlassian.com:8080/jira\",\"buildNumber\":9223372036854775807}]{code}\r\nFlushing caches via the administration screen in Confluence seemingly has no impact on the 4 hour cache TTL for this request.\r\n\r\n+Delay Impact+\u00a0\r\n If a Jira server is unreachable, the first page edit/create operation after every 4 hours will pause for _at least_ 10 seconds, effectively hanging the Confluence editor for the same amount of time. If 2 Jira servers are unreachable (2x10sec), the delay will be at least 20 seconds.\r\n\r\nIf an outbound proxy is in use, the delays can be *much* more pronounced, to the point where the editor fails to load completely. If this occurs, the only available workaround in this instance is to refresh the page.\r\n\r\n+Example timeline+:\r\n||Time||Event||\r\n|09:00:00 |Confluence is started|\r\n|09:05:00 |User creates a page, which triggers the call to /rest/jiraanywhere/1.0/servers|\r\n|09:30:00 |Another user creates a page, which uses the cached data from the 09:05:00 call|\r\n|12:55:00 |Another user edits a page, which also uses the cached data from the 09:05:00 call|\r\n|13:10:00 |A user creates a page, but 4 hours has elapsed since 09:05:00, so the previously cached data from the earlier /rest/jiraanywhere/1.0/servers call has expired, so Confluence attempts to contact all Jira servers again to repopulate the cache.|\r\n\r\n\u00a0In the above example, the editor would hang at 09:05:00 and 13:10:00.\r\nh3. Steps to Reproduce\r\n# Start Confluence\r\n# Create an application link to a Jira instance\r\n# Shutdown Confluence\r\n# Modify the applink via the database, changing the display and rpc url's to an unreachable address that times out and doesn't just immediately reject the connection (eg. 203.56.8.1)\r\n{code:java}\r\nFrom the BANDANA table:\r\n\r\n   1048582 | _GLOBAL        | applinks.admin.a11fa272-0a98-37e5-86b3-e563cce10260.display.url                           | <string>http://pizza.atlassian.com:8080/jira</string>\r\n   1048583 | _GLOBAL        | applinks.admin.a11fa272-0a98-37e5-86b3-e563cce10260.rpc.url                               | <string>http://pizza.atlassian.com:8080/jira</string> \r\n\r\nupdate bandana set bandanavalue='<string>http://203.56.8.1:8080/jira</string>' where bandanaid=1048582;\r\nupdate bandana set bandanavalue='<string>http://203.56.8.1:8080/jira</string>' where bandanaid=1048583;\r\n{code}\r\n# Start Confluence\r\n# Create or edit a page\r\n\r\nFor even longer delays, configure an outbound proxy (like [datadog/squid|https://hub.docker.com/r/datadog/squid/]) and then configure {{setenv.sh}} with the proxy settings:\r\n{code:java}\r\nCATALINA_OPTS=\"-Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=3128  ${CATALINA_OPTS}\"\r\n{code}\r\nh3. Expected Results\r\n\r\nThe page editor should load if an applink server is unreachable.\r\nh3. Actual Results\r\n\r\nWithout an outbound proxy, the editor will hang for 10 seconds for each applink that is unreachable. If there is an outbound proxy, the problem becomes much worse and then editor will often hang indefinitely with the following error displayed on the UI:\r\n !jiraanywhere-editor-loading.png|width=600,height=300!\r\n\r\nIf the delay exceeds 60sec (such as with an outbound proxy configured), the below exception is thrown in the atlassian-confluence.log file for the stuck thread:\r\n{noformat}\r\n2021-05-24 13:54:54,844 WARN [http-nio-8090-exec-9] [confluence.util.profiling.DefaultActivityMonitor] close Exceeded the threshold of 60000 ms: ActivitySnapshot{startTime=1621828386267, threadId=241, threadName='http-nio-8090-exec-9', userId='user2', type='web-request', summary='/rest/jiraanywhere/1.0/servers?_=1621828386255'}\r\n -- referer: http://localhost:8090/pages/createpage.action?spaceKey=ST | url: /rest/jiraanywhere/1.0/servers | traceId: 5668110629b8a971 | userName: user2\r\n{noformat}\r\nAlso with a StuckThreadDetectionValve set in server.xml, the catalina.out file will display:\r\n{noformat}\r\n24-May-2021 13:54:10.421 WARNING [Catalina-utility-3] org.apache.catalina.valves.StuckThreadDetectionValve.notifyStuckThreadDetected Thread [http-nio-8090-exec-9] (id=[241]) has been active for [64,155] milliseconds (since [5/24/21 1:53 PM]) to serve the same request for [http://localhost:8090/rest/jiraanywhere/1.0/servers?_=1621828386255] and may be stuck (configured threshold for this StuckThreadDetectionValve is [60] seconds). There is/are [1] thread(s) in total that are monitored by this Valve and may be stuck.\r\n java.lang.Throwable\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n        at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n        at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n        at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282)\r\n        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\r\n        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\r\n        at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n        at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n        at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165)\r\n        at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        at com.atlassian.sal.core.net.HttpClientRequest.executeAndReturn(HttpClientRequest.java:105)\r\n        at com.atlassian.sal.core.net.HttpClientRequest.execute(HttpClientRequest.java:75)\r\n        at com.atlassian.plugins.rest.module.jersey.JerseyRequest.execute(JerseyRequest.java:125)\r\n        at com.atlassian.applinks.core.auth.ApplicationLinkRequestAdaptor.execute(ApplicationLinkRequestAdaptor.java:42)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager.getServerBuildNumber(DefaultJiraConnectorManager.java:84)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager.createJiraServerBean(DefaultJiraConnectorManager.java:77)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager.access$000(DefaultJiraConnectorManager.java:24)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager$1.load(DefaultJiraConnectorManager.java:119)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager$1.load(DefaultJiraConnectorManager.java:116)\r\n        at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3527)\r\n        at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2319)\r\n        at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2282)\r\n        at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2197)\r\n        at com.google.common.cache.LocalCache.get(LocalCache.java:3937)\r\n        at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3941)\r\n        at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4824)\r\n        at com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4830)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager.getInternalJiraServer(DefaultJiraConnectorManager.java:100)\r\n        at com.atlassian.confluence.extra.jira.applink.DefaultJiraConnectorManager.getJiraServers(DefaultJiraConnectorManager.java:47)\r\n        at com.atlassian.confluence.plugins.jira.rest.JiraConnectorStateResource.getJiraServers(JiraConnectorStateResource.java:38)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:192)\r\n        at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:83)\r\n<...snip...>\r\n{noformat}\r\nh3. Workaround\r\n\r\nRemove any unreachable applinks.",
      "summary": "Creating or editing a page in Confluence when applinks are unreachable can intermittently cause the editor to hang"
    }
  },
  {
    "key": "CONFSERVER-65631",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-21T00:58:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nTurning collaborative editing mode off and on again triggers a stale drafts auto cleanup but sometimes, there are stale drafts were not deleted successfully.\u00a0\r\nh3. Steps to Reproduce\r\n # turn collaborative mode off and on\r\n # run query\u00a0\r\n\r\n{code:java}\r\nSELECT d.contentid, d.title, d.prevver, d.lastmoddate, c.lastmoddate\r\nFROM CONTENT d\r\nJOIN CONTENT c\r\n  ON d.prevver = c.contentid\r\nWHERE d.content_status = 'draft'\r\n  AND d.prevver IS NOT NULL\r\n  AND c.lastmoddate >= d.lastmoddate;\r\n{code}\r\nh3. Expected Results\r\n\r\nAll stale draft pages should be deleted\r\n\r\n\u00a0\r\nh3. Actual Results\r\n\r\nThere are old stale drafts remained in db\r\n\r\n\r\nh3. Workaround\r\n\r\n[https://confluence.atlassian.com/confkb/how-to-manually-remove-stale-drafts-from-confluence-database-951392345.html]",
      "summary": "Re-enable collaborative mode doesn't remove all stale drafts"
    }
  },
  {
    "key": "CONFSERVER-65630",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-21T00:56:00.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe [safeguarding mechanism|https://confluence.atlassian.com/doc/confluence-7-3-release-notes-983794557.html#Confluence7.3ReleaseNotes-Safeguardingperformanceinmassivespaces] to restrict from displaying all the child page at every load is available only as an instance-wide setting. It requires giving \"page-tree.partial-loading-batch-size\" to the system property.\u00a0\r\n\r\nIt's not flexible because how the pages are structured is different among spaces. Some spaces have so many child pages but others don't.\r\nh3. Suggested Solution\r\n\r\nMake it possible to override the \"page-tree.partial-loading-batch-size\" value in the space setting.\u00a0",
      "summary": "Make \"Show all pages\" threshold configurable in space setting"
    }
  },
  {
    "key": "CONFSERVER-65629",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-02T03:25:30.000+0000",
      "created": "2021-05-21T00:38:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe JMX Logging Job cannot find the jmx-log-config.json and hence no JMX metrics are logged into the confluence.jmx.log file\r\nh3. Steps to Reproduce\r\n # Start Confluence and enable Log JMX Metrics job\r\n # Wait for the log to be written to the atlassian-confluence-jmx.log file\r\n\r\nh3. Expected Results\r\n\r\nJMX metrics are logged into the log file\r\nh3. Actual Results\r\n\r\nThe error message is written in the atlassian-confluence-jmx.log file:\r\n{noformat}\r\nCouldn't read jmx-log-config.json, JMX instruments will not be logged: null\r\n{noformat}\r\nh3. Workaround\r\n\r\nCopy the attached jmx-log-config.json file into the <confluence-install-dir>/confluence/WEB-INF/classes",
      "summary": "The Log JMX Metrics job cannot find the jmx-log-config.json and hence no JMX metrics are logged into the atlassian-confluence.jmx.log file"
    }
  },
  {
    "key": "CONFSERVER-65628",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T22:26:00.000+0000",
      "description": "Confluence REST API should have the ability for users to create named macro definitions to support querying macros by name.",
      "summary": "Add a REST API Endpoint for Creating Named Macro Definitions"
    }
  },
  {
    "key": "CONFSERVER-65627",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T22:25:22.000+0000",
      "description": "Confluence REST API should have the ability to query and return only a list of Macros used in a confluence page.",
      "summary": "Add a REST API Endpoint for Listing Macros on a Page"
    }
  },
  {
    "key": "CONFSERVER-65626",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T21:35:18.000+0000",
      "description": "h3. Problem\r\n\r\nJira user's Last Login Date/Time (specifically *login.lastLoginMillis* in Jira database) updated randomly. Jira engineer found that there is a lot of request by the affected users that are coming from Confluence at the same Date/Time which seems to cause the Last Login Date for the user in Jira to be updated.\r\n\r\nThe issue happens at random times but most of the time it coincides with the \"daily summary email\" that is executed at 13:00 every day.\r\n\r\nh3. Environment\r\n* Confluence 7.4.1\r\n* Jira 8.5.2\r\n\r\nh3. Steps to Reproduce\r\n* Configure Application link between Confluence and Jira\r\n* Create Confluence pages with the Jira macro listing a project with multiple issues\r\n* Randomly when the \"daily summary email\" is sent the last login values are updated in Jira\r\n\r\nh3. Expected Results\r\n* Jira last login dates should not be updated\r\n\r\nh3. Actual Results\r\n* The last login dates in Jira for sets of users are updated although the user did not log in.\r\n\r\nh3. Workaround\r\n* Disabling the \"daily summary email\" function stops this from happening\r\n\r\nh3. Notes\r\nMaybe related to the following issue:\r\n* https://jira.atlassian.com/browse/JRASERVER-60508",
      "summary": "\"daily summary email\" function appears to update last login times on Jira"
    }
  },
  {
    "key": "CONFSERVER-65619",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T17:43:18.000+0000",
      "description": "h3. Issue Summary\r\nRunning Confluence using the 'ATL_CLUSTER_PEERS' parameter for Docker/Podman does not auto-populate these peer IP's in setup wizard.\r\n\r\nh3. Steps to Reproduce\r\n # Install Docker/Podman in your environment.\r\n # Create local home directory and remote shared directory (can also be local).\r\n # Kick off the creation of the Docker/Podman container and run Confluence with the following parameters:\r\n{code}\r\nATL_CLUSTER_TYPE=tcp_ip\r\nATL_CLUSTER_NAME=Confluence_dev\r\nATL_CLUSTER_PEERS=<ip1>,<ip2>,<ip3>\r\nCONFLUENCE_SHARED_HOME=<path/to/shared>\r\n{code}\r\n(i) The cluster type must be set to tcp_ip for 'ATL_CLUSTER_PEERS' to work.\r\n\r\nExample:\r\n{code}\r\ndocker run --name=\"confnode1\" -d --network=confluencedc --ip=10.10.0.11 -p 8090:8090 -p 8091:8091 -v /Users/dmaye/docker-dc-installation/conf_node1:/opt/atlassian/confluence/logs -v /Users/dmaye/dockerdata/node1:/var/atlassian/application-data/confluence -v /Users/dmaye/shared-home/docker_shared_home:/var/atlassian/application-data/confluence/shared -e TZ=Australia/Sydney -e ATL_PROXY_NAME=test.myapp.com -e ATL_PROXY_PORT=443 -e ATL_TOMCAT_SCHEME=https -e ATL_TOMCAT_SECURE=false -e ATL_TOMCAT_ACCESS_LOG=true -e ATL_TOMCAT_PROXY_INTERNAL_IPS=\"10.10.0.10\" -e ATL_TOMCAT_MAXTHREADS=48 -e ATL_CLUSTER_TYPE=tcp_ip -e ATL_CLUSTER_NAME=Confluence_dev -e ATL_CLUSTER_PEERS=10.10.0.11,10.10.0.12 -e CONFLUENCE_SHARED_HOME=/var/atlassian/application-data/confluence/shared atlassian/confluence-server:7.4.8\r\n{code}\r\n\r\nh3. Expected Results\r\nIn the startup wizard (after inserting your license) all of the passed arguments (ATL_CLUSTER_TYPE, ATL_CLUSTER_NAME, CONFLUENCE_SHARED_HOME and ATL_CLUSTER_PEERS) are auto-populated. \r\n\r\nh3. Actual Results\r\nIn the startup wizard (after inserting your license) the 'ATL_CLUSTER_TYPE=tcp_ip',\r\n'ATL_CLUSTER_NAME=Confluence_dev' and the 'CONFLUENCE_SHARED_HOME' are auto-populated in their respective fields, but the 'ATL_CLUSTER_PEERS' values are not. To continue setup, these need to be added in the screen before the node can startup.\r\n\r\n !no-worky2.png|thumbnail! \r\n\r\n*Other Notes*\r\nUpon creation, there are two configuration.cfg.xml created. One on the local box and we can see it has the correct passed values, so these should technically pass to the startup wizard so they don't have to be entered again.\r\n\r\nThe other is on the shared drive (if it doesn't exist already).\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround aside from entering in the IP's in the startup wizard screen.",
      "summary": "Running Confluence using the 'ATL_CLUSTER_PEERS' parameter for Docker/Podman does not auto-populate these peer IP's in setup wizard"
    }
  },
  {
    "key": "CONFSERVER-65618",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T15:16:45.000+0000",
      "description": "*Problem Definition*\r\n At the moment, Confluence Data Center is not [FIPS 140-2|https://csrc.nist.gov/publications/detail/fips/140/2/final] compliant, which is a requirement for some of our customers.\r\n\r\n*Suggested Solution*\r\n Either implement the required security requirements on Confluence Data Center to ensure it is FIPS 140-2 compliant out of the box, or give administrators a supported / documented option to enable FIPS 140-2 compliance on their instance.\r\n\r\n*Workaround*\r\n It looks like it might be possible to achieve FIPS 140-2 Compliance on Confluence at a JVM and/or OS level, however this is not really the same as a supported solution that would ensure compliance is maintained as FIPS requirements change and Confluence is updated.",
      "summary": "FIPS 140-2 Compliance for Confluence"
    }
  },
  {
    "key": "CONFSERVER-65591",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T11:44:39.000+0000",
      "description": "h3. Environment\r\n\r\nConfluence Server\r\nh3. Steps to Reproduce\r\n # Create a Page on Confluence\r\n # Click on 'Save for Later'\r\n # Rebuild Confluence's Index\r\n\r\nh3. Expected Results\r\n\r\nIf another user searches for the page, they would see the page results normally.\r\nh3. Actual Results\r\n\r\nIf another user searches for the page they will see a 'favourite' at the end of the page's description on search page.\r\nh3. Notes\r\n\r\nIf you search for \"favourite\", you'll be able to reach the page.\r\nh3. Workaround\r\n NA",
      "summary": "Saved for Later' Pages displaying label 'Favourite' in Search"
    }
  },
  {
    "key": "CONFSERVER-65583",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-27T05:13:21.000+0000",
      "created": "2021-05-20T04:26:25.000+0000",
      "description": "This issue includes running tests against JDK 11 latest(11.0.12_7) and also bundling this JDK in installer",
      "summary": "7.13: Upgrade Confluence to latest Adopt OpenJDK versions 11.0.12"
    }
  },
  {
    "key": "CONFSERVER-65577",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-16T00:30:01.000+0000",
      "created": "2021-05-20T04:00:23.000+0000",
      "description": "h3. Problem\r\n\r\nXStream is vulnerable to security exploits including [CVE-2021-29505|http://x-stream.github.io/CVE-2021-29505.html]. This ticket tracks it's upgrade to 1.4.17\u00a0\r\n{panel:title=Atlassian Update - July 2021|borderStyle=solid|borderColor=#6554c0|titleBGColor=#6554c0|bgColor=#eae6ff}\r\nWe have upgraded XStream to 1.4.17.\u00a0 If your plugin bundles your own version of XStream you will also need to upgrade to this version or later. This is because XStream 1.4.16 provides a newer implementation of\u00a0{{XmlPullParser}}\u00a0through service loader. XStream's default parser has changed from\u00a0{{Xpp3}}\u00a0to\u00a0{{MXParser}}, which is a fork of\u00a0{{Xpp3}}.\u00a0 You can read more about the changes in the\u00a0[XStream change log|https://x-stream.github.io/changes.html].\r\n\r\nWhen upgrading XStream in our own plugins, we found that it remained compatible with older Confluence versions, as there's a dependency of\u00a0{{xpp3_min}}\u00a0which helps the plugin to work with older\u00a0{{XmlPullParser}}\u00a0implementations mentioned in service loader in older Confluence versions.\r\n{panel}\r\nh3. Environment\r\n\r\nConfluence v7.4\r\nh3. Workaround\r\n\r\nThere are no workaround available for this up til now.",
      "summary": "XStream upgrade to 1.4.17"
    }
  },
  {
    "key": "CONFSERVER-65576",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-19T21:49:30.000+0000",
      "description": "Currently Jira Align does not support importing of Objectives",
      "summary": "Jira Align - Need More Robust Importing - esp. Objectives"
    }
  },
  {
    "key": "CONFSERVER-65575",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-19T21:47:38.000+0000",
      "description": "Feature import should include acceptance criteria. Requires us to enter Epic and sync up to Program or manually enter acceptance criteria after imported.\u00a0",
      "summary": "Jira Align - Need More Robust Importing Capabilities - esp. Acceptance Criteria"
    }
  },
  {
    "key": "CONFSERVER-65574",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-19T21:39:31.000+0000",
      "description": "Jira Align is very limited in what can be changed in BULK.\u00a0 There is a need for a more robust ability to make bulk changes for all the Align fields.\r\n\r\n\u00a0",
      "summary": "Jira Align - More Robust Bulk Changes Needed"
    }
  },
  {
    "key": "CONFSERVER-65541",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-19T06:36:37.000+0000",
      "description": "h2. *Summary*\r\n\r\nImages attached to initial Confluence Questions are not displayed _in another Browser session_.\r\n\r\n\u00a0\r\nh2. *Testing Environment*\r\n\r\nConfluence 7.9.0 with Confluence Question plugin v2.7.25\r\n\r\n(Also tested this Confluence v7.4.8)\r\n \u00a0\r\nh2. *Steps to Reproduce*\r\n\r\n*Case 1*\r\n # Go to a space\r\n # Click question icon on sidebar\r\n # Ask a question\r\n # DnD an\u00a0image\r\n # Add a topic and save\r\n # Clear browser cache and reload the page (CMD + SHIFT + R on Mac)\u00a0\r\n\r\n*Case 2*\r\n # Go to CQ dashboard\r\n # Ask a question\u00a0\r\n # Choose a space\r\n # Upload an\u00a0image\r\n # Add a topic and save\r\n # Clear browser cache and reload the page (CMD + SHIFT + R on Mac)\u00a0\r\n\r\n*Expected Result*\r\n\r\nThe image show up correctly as the user uploaded.\r\n\r\n!image-2021-07-02-01-17-38-245.png|width=487,height=347!\r\n \u00a0\r\nh2. *Actual Result*\r\n\r\nThe image doesn't appear and the browser shows a resource not found error.\r\n\r\n!image-2021-07-02-01-13-26-188.png|width=488,height=351!\r\nh2. *Diagnosis*:\r\n\r\n1. Check the URL for the Confluence Question, e.g.:\r\n{code:java}\r\nhttp://localhost:8090/questions/3407895/how-do-i-reset-the-wifi\r\n{code}\r\n2. Right click on the broken image of the initial Confluence Question post and the ID after the attachments does not match to the above Question URL, e.g. image is linking to *3407893* and not the above *3407895*:\r\n{code:java}\r\nhttp://localhost:8090/download/attachments/3407893/jstack_analysis2.png?version=1&modificationDate=1520827628523&api=v2\r\n{code}\r\nh2. *Workaround - for New Questions*\r\n\r\nThe following procedure is not a scalable workaround, but works.\r\n # Create a new question and save it _without_ any images in it.\r\n # Browse to that question again and *edit* it.\r\n # Upload the images required in the question and *save* it.\r\n\r\nVideo attached on how to reproduce the issue:\r\n [^Screen Recording 2021-06-02 at 3.07.40 pm.mov]",
      "summary": "Confluence Questions in spaces doesn't save and show images"
    }
  },
  {
    "key": "CONFSERVER-65495",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-18T11:54:57.000+0000",
      "description": "This feature request is created for an enhancement to hide usernames to Anonymous users in all pages as per strict GDPR guidelines.\u00a0\r\n\r\nThe requirement is to hide usernames to Anonymous users in all pages, by showing something like 'An users has been updated this page' instead of '[USERNAME]\u00a0has been updated this page', or just not showing anything. Currently an anonymous user can view all the usernames in confluence.\u00a0",
      "summary": "Hide usernames to Anonymous users in all pages "
    }
  },
  {
    "key": "CONFSERVER-65494",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-18T05:29:35.000+0000",
      "description": "h4. Summary\r\n\r\nTicks and crosses in the word document are previewed as \u00a3 and R File preview macro\r\nh4. Steps to replicate\r\n # In MS Word 2010, add the ticks and crosses symbol from the Developers tool --> Content Properties Tool option\r\n # Attach this document in Confluence and preview it.\r\n\r\n\r\nh4. Expected Result\r\n * The ticks and crosses should be previewed as\u00a0\u2713 and\u00a0\u2715\r\n\r\nh4. Actual Result\r\n * The ticks and crosses are previewed \u00a3 and R\r\n\r\n!Screenshot 2021-05-18 at 10.58.03 AM.png|thumbnail!\r\nh4. \u00a0Workaround\r\n\r\nThe preview looks fine with the Word Macro is used to preview the document.\r\n !Screenshot 2021-05-18 at 11.00.47 AM.png|thumbnail! \r\n\r\n\u00a0",
      "summary": "Ticks and crosses in word document are previewed as  \u00a3 and R File preview macro  "
    }
  },
  {
    "key": "CONFSERVER-65483",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-17T22:51:28.000+0000",
      "description": "Microsoft Outlook has an option to repeat calendar events on *weekdays*. For example, repeat an event on the first/second/last _weekday_ of each month.\u00a0\r\n\r\nConfluence Team Calendars only has the option to repeat events on specific days (M, T, W, Th, F, S, Su) or \"Day\" (example: first day of each month), but no option to repeat on the first _working day/weekday_ of each month.\u00a0\r\n\r\nAllowing the dropdown option to repeat events by weekday in Team Calendars is essential. Thank you!\r\n\r\n!image-2021-05-17-16-50-41-152.png!\r\n\r\n!image-2021-05-17-16-50-54-204.png!",
      "summary": "Team Calendar Repeat Option for Weekday"
    }
  },
  {
    "key": "CONFSERVER-65482",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-17T17:49:46.000+0000",
      "description": "h3. Problem\r\n\r\nImporting an XML space backup with inconsistencies completes, even though there are problems with its contents.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a space XML backup\r\n# Extract the files and edit the *entities.xml*\r\n# Replace all the lower space key entries with their upper case equivalents, example:\r\n#* Original:\r\n{code:xml}\r\n<property name=\"key\"><![CDATA[TST]]></property>\r\n<property name=\"lowerKey\"><![CDATA[tst]]></property>\r\n{code}\r\n#* Modified:\r\n{code:xml}\r\n<property name=\"key\"><![CDATA[TST]]></property>\r\n<property name=\"lowerKey\"><![CDATA[TST]]></property>\r\n{code}\r\n# Create a new zip with the modified file and import the space\r\n\r\nh3. Expected Results\r\n\r\nThe import fails due to that problem or the key is converted to lower case before inserting into the database (lowerspacekey from spaces).\r\n\r\nh3. Actual Results\r\n\r\nThe import does not throw any error on the UI, so it looks successful. The following can be seen in the atlassian-confluence.log:\r\n{code}\r\n2021-05-14 17:26:26,155 ERROR [Long running task: Importing data] [confluence.pages.ancestors.RebuildAncestorsPostImportTask] rebuildPageAncestors Could not load valid space for imported space key: TST\r\n -- url: /admin/restore.action | referer: http://localhost:8090/admin/backup.action | traceId: ea82dd8239cdce28 | userName: admin | action: restore\r\n2021-05-14 17:26:26,192 WARN [AtlassianEvent::CustomizableThreadFactory-1] [gatekeeper.evaluator.cache.CacheUpdateSender] warn Space import for spaceKey TST did not import correctly. Unable to retrieve the space for permission cache update.\r\n -- url: /admin/restore.action | referer: http://localhost:8090/admin/backup.action | traceId: ea82dd8239cdce28 | userName: admin | action: restore\r\n2021-05-14 17:26:26,196 INFO [Long running task: Importing data] [confluence.importexport.actions.ImportLongRunningTask] runInternal Finished import.\r\n{code}\r\n\r\nAt this stage, the space is not functional. Trying to open pages results in 404 errors and neither the page tree nor the space tools load properly. Checking the database, you can confirm that the *lowerspacekey* column of the *spaces* table is holding the upper case key.\r\n\r\nh3. Workaround\r\n\r\n# Stop Confluence\r\n# Take a *database backup*\r\n# Run the following query to set the lower space key:\r\n(!) Replace the key accordingly\r\n{code:sql}\r\nupdate spaces \r\nset lowerspacekey = '<LOWERCASE-KEY>' \r\nwhere spacekey = '<UPPERCASE-KEY>';\r\n{code}\r\n# Restart Confluence\r\n# Rebuild the indexes and the ancestors table as follows, one at a time:\r\n#* [Rebuilding the search index|https://confluence.atlassian.com/conf74/content-index-administration-1003129434.html#ContentIndexAdministration-Rebuildingthesearchindex]\r\n#* [Rebuilding the Ancestor Table|https://confluence.atlassian.com/conf612/rebuilding-the-ancestor-table-958778330.html]\r\n\r\nh3. Notes\r\n\r\nThis problem can easily happen when trying to change a space key as covered here:\r\n\r\n* [How to copy or rename a space in Confluence|https://confluence.atlassian.com/confkb/how-to-copy-or-rename-a-space-in-confluence-169578.html]\r\n\r\nDuring the XML manipulation, space keys can be renamed incorrectly leading to this issue.",
      "summary": "Confluence XML space import accepts files with inconsistencies"
    }
  },
  {
    "key": "CONFSERVER-65481",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-17T14:14:39.000+0000",
      "description": "Team Calendar events should have an option to configure showing full names or static text like \"many invitees\" rather than defaulting to only showing the first name on events with more than person.\u00a0",
      "summary": "Modify Display Names of Invitees"
    }
  },
  {
    "key": "CONFSERVER-65400",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T21:14:44.000+0000",
      "description": "h3. Issue Summary\r\nAUI upgrade does not consider proper usage of ConfluenceWebResourceIntegration. It causes text transforms to not correctly fetch the translation as intended.\r\n\r\nh3. Steps to Reproduce\r\n # Attempt to transform text using {{AJS.I18n.getText('<>')}}\r\n\r\n\r\nh3. Expected Results\r\nThe correct transformed text is fetched and displayed.\r\n\r\nh3. Actual Results\r\nThere is no transformation applied.\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "AUI upgrade does not consider proper usage of ConfluenceWebResourceIntegration. It causes text transforms to not correctly fetch the translation as intended."
    }
  },
  {
    "key": "CONFSERVER-65386",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T15:44:36.000+0000",
      "description": "Hi Team.\r\n\r\nI want to suggest a purge from trash feature implementation due we just have the option to DELETE from content where we are not able to delete all itens that are located at the trash. The DELETE option that we do have now just delete page by page making the purge action only possible using scripts.\r\n\r\nLike:\u00a0\r\n{code:java}\r\ncurl -u admin:password -G \"http://localhost:8090/rest/api/content?spaceKey=IN&status=trashed\" | json_pp | grep -i self | grep -vi space | awk -F \\\" '\\{print $4}' > output\r\nwhile read line; do curl -u admin:password -X DELETE \"$line\"; done < output;rm output{code}\r\n\r\n\r\nThanks in Advance.",
      "summary": "Implement Purge from trash REST API"
    }
  },
  {
    "key": "CONFSERVER-65385",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T15:39:29.000+0000",
      "description": "h3. \u00a0\r\n\r\nHi team,\r\n\r\nWe are facing some issues with the purge task that now doesn't run as a long running task. It is causing some errors as proxy timeouts and we would like to suggest the implementation of a feature so this issue can be fixed.\r\n\r\n\u00a0",
      "summary": "Implement purge from trash as a long running task"
    }
  },
  {
    "key": "CONFSERVER-65384",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T13:31:00.000+0000",
      "description": "Any Operating System is using a system of Icons in order to represent files. It would be good, to have such posibility as well in Confluence.\r\n\r\n\u00a0\r\n\r\nFor example: attachment of an MS-Excel document, would be showed either as a \"thumbnail of the file\" either an ugly gray table. It would be great to allow administrators to change that in the configuration, and not in a obscure CSS file.",
      "summary": "Attachment: represented as ICON"
    }
  },
  {
    "key": "CONFSERVER-65383",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T13:25:28.000+0000",
      "description": "As we know Confluence allows 4 \"designs\" to represent an attachment in a Confluence page:\r\n * Small size picture\r\n * Medium size picture\u00a0\r\n * Big size picture\r\n * Text-Link\r\n\r\nUnfortunately, in EDIT mode, the only way of opening a document attached is when this document is represented as \"Text-link\".\r\n\r\nThis is anoying as, either you need to open the confluence page in VIEW mode to open the attachment, either change it in \"Text-link\" (right click - open in new window).\r\n\r\n\u00a0\r\n\r\n--> add an option in order to open an attached document in EDIT mode, when this one is represented as \"picture\"\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "File attachment in Edit mode"
    }
  },
  {
    "key": "CONFSERVER-65351",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-13T06:40:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nConfluence suffers increased load due to a bug in the QuickReloadCaches\r\nh3. Steps to Reproduce\r\n # Start Confluence\r\n # Do not touch the readonly mode\r\n # visit a page\r\n # check the response of the quickreload requests\r\n\r\nh3. Expected Results\r\n\r\nThe majority of responses should be 204 responses returned quickly by the quickreload filter\r\nh3. Actual Results\r\n\r\nThe quickreload filter will pass all requests through to the quickreload resource and return a full response.\r\nh3. Workaround\r\n\r\nEither:\r\n * quickly enabled and disable readonly mode *OR*\r\n * have increased load on the server\u00a0*OR*\r\n * disable quickreload plugin\r\n\r\n\u00a0",
      "summary": "Quick Reload Request Filter is broken by readonly mode cache"
    }
  },
  {
    "key": "CONFSERVER-65350",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-13T06:50:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAdding attachments to a page does not update the QuickReloadCaches, so the QuickReloadFilter prevents the attachment dialog showing.\r\nh3. Steps to Reproduce\r\n # Enable and disable read only mode\r\n # View one page as two users in two browsers\r\n # Drag files onto the page as one user\r\n # Keep viewing the page for a minutes as the other user\r\n\r\nh3. Expected Results\r\n\r\nThe second user should see a dialog saying files were added\r\nh3. Actual Results\r\n\r\nThe second user does _not_ see a dialog saying files were added.\r\nh3. Workaround\r\n\r\nRestart the server after using readonly mode, or do not receive these dialogs.\r\n\r\n\u00a0",
      "summary": "Adding attachments to page does not always trigger dialog"
    }
  },
  {
    "key": "CONFSERVER-65349",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T00:31:38.000+0000",
      "description": "h3. Problem\r\nCurrently, if we insert and mention someone using \"@\" the keyboard \r\nthe keyboard \\(\u2193\\) does not lower the cursor to the next line.\r\n\r\nh3. Suggested Solution\r\nImprove the User Experience and design by allow keypress event down to go to the next line after a @mention \r\n\r\n\r\nh3. Why This Is Important\r\nThis will help to edit and perform changes on Confluence pages quicker and overall enhance the user experience\r\n\r\nh3. Workaround\r\nBrowse to *after* the *mention* and then the keydown button press operation will work to go to next line\r\n\r\nSmall recording attached to illustrate the behavior",
      "summary": "Allow to go to next line from Keyboard when using mentions on Confluence Pages"
    }
  },
  {
    "key": "CONFSERVER-65347",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-13T17:32:19.000+0000",
      "description": "The Jira team is currently working to implement session timeouts for mobile: [SM-16031|https://jira.atlassian.com/browse/SM-16031]\r\n\r\nDoing the same for Confluence would be extremely helpful. Especially for a use-case where Confluence is configured for proxy authentication. If the proxy authentication cookie invalidates after some time mobile users will still have access to mobile, but requests to Confluence will try and force authentication. \r\n\r\nAdditionally, his would provide an easy workaround for [CONFSERVER-55229 - Allow proxy authentication for Confluence Server mobile app|https://jira.atlassian.com/browse/CONFSERVER-55229] if the proxy cookie timeout and Confluence mobile timeout are configured to be the same.",
      "summary": "Implement Session Timeouts for Confluence Server Mobile"
    }
  },
  {
    "key": "CONFSERVER-65343",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-13T11:57:46.000+0000",
      "description": "Current macro lacks support for RAG Status.\r\n\r\nA quick solution would be to remove the requirement that bars have the same colour as the swimlane IE allow the bars to have any colour available which could double for use as RAG Status.\r\n\r\nAlternatively add the RAG Status feature for each bar with a visual cue for it like the outline of the bar for example.",
      "summary": "Add support for RAG Status to the Confluence Roadmap Macro"
    }
  },
  {
    "key": "CONFSERVER-65304",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-12T17:34:49.000+0000",
      "description": "h3. Issue Summary\r\nSome pages for some reason lose or are created without created data associated with them.\r\n\r\nThat causes several different errors on Confluence, which we have some other bugs already explaining them like:\r\nhttps://jira.atlassian.com/browse/CONFSERVER-60169\r\nhttps://jira.atlassian.com/browse/CONFSERVER-59982\r\nhttps://jira.atlassian.com/browse/CONFSERVER-58270\r\n\r\nThe one found by one of our customers is that when trying to do an API call for content it returns a 500 error, in case there is any page without the creation date associated, and if they try to do that for trashed items like the rest below the same happen even with pages that have status DELETED:\r\n{noformat}\r\ncurl -u username:password -X GET \u201chttp://localhost:8090/rest/api/content?expand=history.lastUpdated&status=trashed\u201d\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n # Have a page with the creationdate null on the database\r\n # Perform an API call that will retrieve the data of that page\r\n # API will return\r\n{noformat}\r\n{\u201cstatusCode\u201d:500,\u201cmessage\u201d:\u201c\u201d,\u201creason\u201d:\u201cInternal Server Error\u201d}\r\n{noformat}\r\n\r\nh3. Expected Results\r\nReturn the data in an XML format\r\n [^content_api.xml] \r\n\r\nh3. Actual Results\r\n{noformat}\r\n{\u201cstatusCode\u201d:500,\u201cmessage\u201d:\u201c\u201d,\u201creason\u201d:\u201cInternal Server Error\u201d}\r\n{noformat}\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n[rest.api.model.ExceptionConverter] convertServiceException No status code found for exception, converting to internal server error :\r\n -- url: /rest/api/content/<ID>/child/page | traceId: xxxxx | userName: admin\r\njava.lang.NullPointerException\r\n        at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:210)\r\n        at com.atlassian.confluence.api.model.content.History$HistoryBuilder.createdDate(History.java:231)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nRun the following query on the database:\r\n{noformat}\r\nSELECT * from content where creationdate is NULL and content_status != 'draft';\r\n{noformat}\r\n\r\nEither remove them manually from the page after identifying the pages or add a dummy entry for date like:\r\n{noformat}\r\nUPDATE content SET creationdate ='2021-01-01 01:01:01.001', lastmoddate = '2021-01-01 01:01:01.001' where creationdate is NULL and content_status != 'draft'\r\n{noformat}",
      "summary": "Trying to retrieve content for trashed pages return 500 errors using api because of Create date is null"
    }
  },
  {
    "key": "CONFSERVER-65290",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-12T00:28:49.000+0000",
      "description": "h3. Problem\r\n\r\nWhen Jira is being used as a user server, disabled users in Jira are counted towards license in Confluence. This happens when the user exists in both Confluence and Jira.\r\n\r\n\r\nh3. Environment\r\n\r\n* Confluence v7.4.3\r\n* Jira v8.8.0\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a user in Confluence (_u1u1_)\r\n# Create a user with the same username in Jira (_u1u1_)\r\n# Configure Jira as a [user server|https://confluence.atlassian.com/doc/connecting-to-crowd-or-jira-for-user-management-229838465.html] and connect to Confluence\r\n# Synchronise and we should see the user (u1u1) appearing as follows,\r\n !u1u1-1.png|thumbnail! \r\n# Move Jira User directory to the [highest order|https://confluence.atlassian.com/doc/managing-multiple-directories-229838494.html#ManagingMultipleDirectories-ConfiguringtheDirectoryOrder] \r\n# Disable the user from Jira\r\n# The user is disabled in Confluence \r\n !u1u1-2.png|thumbnail! \r\n# [Enable DEBUG logging|https://confluence.atlassian.com/confkb/how-to-get-a-list-of-active-users-counting-towards-the-confluence-license-298978076.html] to get a list licensed users \r\n\r\nh3. Expected Results\r\n\r\nThe user shouldn't be counted towards license.\r\n\r\nh3. Actual Results\r\nThe user is counted towards license.\r\n{code}\r\n2021-05-12 10:17:21,636 DEBUG [read-only-transaction:thread-1] [atlassian.confluence.user.DefaultUserAccessor] getUserNamesWithConfluenceAccess Found 2 licensed users: [admin, u1u1]\r\n{code}\r\n\r\nThe user is not able to login to Confluence. Though, license count doesn't go down. \r\n\r\nh3. Workaround\r\n\r\nNo workaround available yet.\r\n\r\n\r\n",
      "summary": "Disabled users from Jira are counted towards license "
    }
  },
  {
    "key": "CONFSERVER-65259",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-11T04:58:11.000+0000",
      "description": "h3. Problem\r\n\r\nNested macros can't be edited via double click\r\nh3. Environment\r\n\r\nConfluence 7.10.1\r\nh3. Steps to Reproduce\r\n\r\nCreate a page in confluence\u00a0\r\n\r\nInsert Expand Macro as nested macro , as shown in the screen shot\r\n\r\nDouble click on the Macros to edit them.\r\nh3. Expected Results\r\n\r\n_Any macros in the nested macros should\u00a0 be edited via double click_\r\nh3. Actual Results\r\n\r\n_Any macros in the nested macros when double clicked doesn't open the Edit view_\r\n\r\n_Only the outermost macro gets edited via double click as per the image just - one_\r\nh3. Workaround\r\n\r\n_Click on the nested macro and go to Edit to modify it._\r\nh3. Notes",
      "summary": "Nested macros can't be edited via double click"
    }
  },
  {
    "key": "CONFSERVER-65246",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-11T03:53:06.000+0000",
      "description": "h3. Issue Summary\r\n\r\nTable end mouse focus is unintentionally moved when macros set.\r\n See the following videos.\r\n\r\ncode macro(10s~): table4 is affected\r\n [^confluence-table_end-mouse_focus-unintentionally-move-code-macro.mov]\r\n\r\nTeam Calendar(7s~): table2 is affected\r\n [^confluence-table_end-mouse_focus-unintentionally-move-team_calendar-macro.mov]\r\nh3. Steps to Reproduce\r\n\r\nBrowser: use Chrome 90.0.4430.93\uff08Official Build\uff09\uff08x86_64)\r\n Note: Firefox doesn't reproduce\r\n\r\n1.Set over two macros(ex: Team Calendar, Code, etc.) and tables under the macro on the page.\r\n\r\n2.The table under 2nd macro, table end mouse focus unintentionally moves.\r\n\r\n !1-table2-click.png|thumbnail! \r\n !2-table2-focus.png|thumbnail! \r\n !3-table2-unintentionally_move-focus.png|thumbnail! \r\n\r\nh3. Expected Results\r\n\r\nYou can set mouse focus to the table end.\r\nh3. Actual Results\r\n\r\nYou can't set mouse focus to the table end, and the mouse focuses unintentionally move.\r\nh3. Workaround\r\n\r\nUse Firefox, and you can avoid this bug.",
      "summary": "Table end mouse focus is unintentionally move when macros set"
    }
  },
  {
    "key": "CONFSERVER-65242",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-10T20:35:23.000+0000",
      "description": "We've had the following request from users in our Confluence instance:\r\n\r\nPlease ask Atlassian to enhance the Space Attachment dialog/widget to also:\r\n 1. search by attachment name, including wildcard support. Today the Space Attachment filter searches by file extension or label--which is great, but there is no easy way to find an attachment(s) by name or partial name. This feature is needed to reduce effort needed to locate attachments by topic (e.g., AI) that have no labels. Otherwise we need to guess at which pages might contain specific attachments and manually check their attachment dialogs one-by-one. \r\n 2. search by attachment size, to help us locate large attachments\r\n 3. search by attachment creation date and last modification date, to help locate either old attachments to remove or recently updated attachments we might want to review\r\n\r\nThe highest priority is to search by attachment name, with wildcard search support.\r\n Thank you.",
      "summary": "Search Attachments by Name"
    }
  },
  {
    "key": "CONFSERVER-65241",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-10T05:07:18.000+0000",
      "description": "**Hi\r\n\r\nsuggestion:\u00a0 please add restore bottom on universal plugin manger\r\n\r\n\r\nI want to remove all plugin in confluence and restore it to default setting, is there any way to do this?\r\n\r\nI do following blow instructions but issue still remain:\r\n\r\n1-reset all Confluence plugins\r\nhttps://confluence.atlassian.com/confkb/how-to-reset-all-confluence-plugins-back-to-their-default-state-through-the-database-859509873.html\r\n\r\n2-clear Confluence plugins cache\r\nhttps://confluence.atlassian.com/confkb/how-to-clear-confluence-plugins-cache-297664846.html\r\n\r\n3-manually remove malfunctioning add-ons\r\nhttps://confluence.atlassian.com/confkb/how-to-manually-remove-malfunctioning-add-ons-113705118.html\r\n\r\n\r\nAny idea?\r\n\r\nThanks,",
      "summary": "remove all plugin in confluence and restore it to default setting"
    }
  },
  {
    "key": "CONFSERVER-65151",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-11T13:14:57.000+0000",
      "created": "2021-05-09T23:03:58.000+0000",
      "description": "Prevent Confluence to generate below format where content-id is link into a draft and the attachment does not belong to a draft\r\n\r\ni.e.:\r\n{code:java}\r\n<p>\r\n  <ac:image>\r\n    <ri:attachment ri:filename=\"image2020-10-21_12-40-38.png\">\r\n      <ri:content-entity ri:content-id=\"138910055\"/>\r\n    </ri:attachment>\r\n  </ac:image>\r\n</p>\r\n{code}\r\n\u00a0",
      "summary": "Prevent Confluence to generate storage format which has a attachment with ri:content-entity of a draft"
    }
  },
  {
    "key": "CONFSERVER-65150",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-09T02:52:58.000+0000",
      "description": "h3. Graphical contents should be searchable after PDF export of a confluence page\r\n\r\nh3. Steps to replicate and understand the issue\r\n# Please copy *presentation.pptx* to ms word\r\n# Save MS Word in pdf and you will be able to search the content in pdf\r\n# Now import the MS Word pdf file by going to the page selecting the ... dots for page properties and then selecting 'import word' option.\r\n# Following the next steps, the page would be  created having the diagram.\r\n# Export the Confluence page in pdf and then again try searching the letter but the letter is not searchable now.\r\n\r\nThe ask is if it is possible to implement this feature where the letter/word is searchable in the last step.",
      "summary": "Graphical contents should be searchable after PDF export of a confluence page"
    }
  },
  {
    "key": "CONFSERVER-65149",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-08T01:15:49.000+0000",
      "description": "For Team Calendars, when creating a new calendar, a text description such as \"Required fields are marked with an asterisk *\" is expected to be provided for the fields marked with asterisks within the page.\r\n\r\nNotice in the screenshot that instruction is not provided anywhere within the page for the \"*\" fields marked with an asterisk.",
      "summary": "Label / Instruction for fields marked with an asterisk"
    }
  },
  {
    "key": "CONFSERVER-65148",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T22:29:39.000+0000",
      "description": "h3. Issue Summary\r\nWhen editing a page via the source editor, the changes don't display correctly in the page history comparison. \r\nh3. Steps to Reproduce\r\n# Edit a page with bullet list\r\n# Navigate to <> to open the [sourceeditor|https://marketplace.atlassian.com/apps/1210722/confluence-source-editor]. \r\n# Remove the bullet lists from page. \r\n# Save changes and publish page. \r\n# Navigate to \u00a0!https://confluence.atlassian.com/doc/files/704577869/704577870/2/1517274795952/ellipsis.png|width=22!\u00a0> Page history.\r\n# Select current and previous version and click *Compare selected versions*. \r\n\r\n\r\nh3. Expected Results\r\nChanges should be highlighted in red and strike-out. \r\n !testWithPatialSF.png|thumbnail! \r\nh3. Actual Results\r\nThe page displays the missing line as ...\r\n !testWithPriorSF.png|thumbnail! \r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "When editing a page via the source editor, the changes don't display correctly in the page history comparison. "
    }
  },
  {
    "key": "CONFSERVER-65147",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T16:23:01.000+0000",
      "description": "We need to have confluence with the ability to be able to connect with Microsoft Power Automation, our ask is when this connector will be enable to use in Confluence Server instance?",
      "summary": "Confluence connector for Microsoft Power Automation"
    }
  },
  {
    "key": "CONFSERVER-65146",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T00:39:07.000+0000",
      "created": "2021-05-07T14:37:01.000+0000",
      "description": "h3. Issue Summary\r\n\r\nLivesearch Macro search icon not displayed/aligned correctly when size is '*large*'\r\nh3. Steps to Reproduce\r\n # Install Confluence 7.12\r\n # Create a new page and insert 'Livesearch Macro'\r\n # Edit the macro properties - Size to 'large' and save the page\r\n # The macro search icon is not displayed correctly\r\n\r\nh3. Expected Results\r\n\r\nLivesearch Macro search icon not displayed/aligned correctly when size is large as shown in the attachment.\r\nh3. Actual Results\r\n\r\nThe search icon should be clearly displayed.\r\n\r\nh3. Workaround 1\r\n\r\nChange the size to '*medium*', the icon is displayed correctly.\r\n\r\nh3. Workaround 2\r\n\r\n# Navigate to *Confluence Administration* \u00bb *General Configuration* \u00bb *Custom HTML*\r\n#* In the \"At end of the HEAD\", add the following CSS overrides:\r\n{code}\r\n<!-- Workaround for LiveSearch Large - see bug https://jira.atlassian.com/browse/CONFSERVER-65146 -->\r\n<style>\r\n.search-macro-large .search-macro-query input {\r\n padding:2px 12px 2px 30px !important;\r\n height:40px !important;\r\n font-size:20px !important;\r\n font-weight:normal;\r\n line-height:1.5 !important;\r\n position:relative\r\n}\r\n\r\n.search-macro .search-macro-query input {\r\n max-width:none !important\r\n}\r\n\r\n.search-macro-large .search-macro-query .aui-icon {\r\n position:absolute;\r\n top:20px !important;\r\n left:9px;\r\n color:#707070\r\n}\r\n</style>\r\n{code}\r\n# Save and reload the Confluence page that contains the \"large\" live search\r\n# It should now appear closer to how it looked in previous versions of Confluence\r\n(i) Please note that the \"Preview\" screen of the \"Large\" livesearch properties screen is still incorrect but the published viewable page should present itself nicer now",
      "summary": "Livesearch Macro search icon not displayed/aligned correctly when size is 'large'"
    }
  },
  {
    "key": "CONFSERVER-65145",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T12:58:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nExpand Macro Drop down menu is not working when we browse a page in iPhone Browser\r\nh3. Steps to Reproduce\r\n # Create a test page and insert \"Expand Macro\"\r\n # Saved the page and confirmed drop down is shown as designed\r\n !Screenshot 2021-05-07 at 6.24.05 PM.png|width=355,height=178!\r\n # Open the same page in iPhone Browser\r\n # We see that the macro is visible but dropdown doesn't render\r\n !IMG_2058.jpeg|width=259,height=560!\r\n\r\nh3. Expected Results\r\n\r\nMacro should be expandable and contents under the expand macro is visible\r\nh3. Actual Results\r\n\r\nMacro is not expandable and contents under the expand macro is not visible\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Expand Macro Drop down menu is not working when we browse a page in iPhone Browser"
    }
  },
  {
    "key": "CONFSERVER-65144",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T09:29:31.000+0000",
      "description": "h3. Issue Summary\r\nDuring indexing Confluence throws Unable to Parse subcalendars even if the page doesn't contain any calendars\r\nh3. Steps to Reproduce\r\n # Create a page and past below storage format. \r\n{code}\r\np><ac:structured-macro><ac:parameter ac:name=\"name\"><ri:attachment ri:filename=\"Cross Channel Demo.mp4\" /></ac:parameter></ac:structured-macro></p>\r\n{code}\r\nWhen we add an attachment to the page, it looks like below\r\n{code}\r\n  <ac:structured-macro ac:macro-id=\"aea338db-2a95-4a06-a795-dfc7431f33ad\" ac:name=\"view-file\" ac:schema-version=\"1\">\r\n    <ac:parameter ac:name=\"name\">\r\n      <ri:attachment ri:filename=\"Cross channel Demo.mp4\"/>\r\n    </ac:parameter>\r\n    <ac:parameter ac:name=\"height\">250</ac:parameter>\r\n  </ac:structured-macro>\r\n{code}\r\nPlease note the missing macro-id and ac-name\r\n #  During indexing or reindexing Confluence throws following error which is misleading\r\n{code}\r\n2021-04-17 13:35:23,515 WARN [Indexer: 21] [confluence.extra.calendar3.DefaultEmbeddedSubCalendarsParser] getEmbeddedSubCalendarIds Unable to parse sub-calendars embedded in page: FEdsDS -  - Deployed v.11 (2203666870)\r\ncom.atlassian.confluence.content.render.xhtml.XhtmlException: RuntimeException occurred while performing an XHTML storage transformation (null)\r\n{code}\r\n# Even with above error pages are indexed correctly and are available in search\r\n\r\nh3. Expected Results\r\nThe indexer should throw a more informative error. If macro-id and macro-name is missing it shouldn't default to calendar parser\r\n\r\nh3. Actual Results\r\nFollowing error is thrown which is misleading\r\n{code}\r\n2021-04-17 13:35:23,515 WARN [Indexer: 21] [confluence.extra.calendar3.DefaultEmbeddedSubCalendarsParser] getEmbeddedSubCalendarIds Unable to parse sub-calendars embedded in page: FEdsDS -  - Deployed v.11 (2203666870)\r\ncom.atlassian.confluence.content.render.xhtml.XhtmlException: RuntimeException occurred while performing an XHTML storage transformation (null)\r\n{code}\r\n\r\n\r\n\r\nh3. Workaround\r\nReinsert the attachments to the pages so that the correct format is present",
      "summary": "During indexing Confluence throws Unable to Parse subcalendars even if the page doesn't contain any calendars"
    }
  },
  {
    "key": "CONFSERVER-65143",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T08:00:56.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDuplicate reminders sent when setting 1 day before reminder for Jira Issue Dates in team calendar.\r\n This problem happened when event time is not specified in Confluence calendar explicitly, for example Jira events (JIRA Issue Dates\u00a0, JIRA Software Sprints\u00a0, etc)\u00a0\u00a0\r\nh3. Steps to Reproduce\r\n # Need application link between Jira and Confluence\r\n # In Jira, created a custom filed of date time, for example ,\u00a0*test date time*\r\n # Create a issue, set the value of above field as : 2021-05-08 15:20 (BTW, now it is about 2021-05-07 15:00)\r\n # In Confluence\r\n ## set Event type: Jira Issue Dates\r\n ## set reminder:\u00a01 day before\r\n ## select the project and the date time filed.\r\n # The event will be added into calendar in few seconds.\r\n # Wait the email\u00a0\r\n\r\nh3. Expected Results\r\n\r\nOnly one reminder mail is sent for the event.\r\nh3. Actual Results\r\n\r\nThe reminder mail for the same event is sent twice, with a 5 minutes interval (15:20 and 15:25).\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available\r\nh3. Note\r\n\r\nIt seems similar problem to CONFCLOUD-65709: Duplicate Reminders in 3-day-reminders (Team Calendars)",
      "summary": "Duplicate reminders sent when setting 1 day before reminder for Jira Issue Dates in team calendars"
    }
  },
  {
    "key": "CONFSERVER-65141",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T13:00:20.000+0000",
      "description": "I want to place a search macro on a page that should search in the following pages\r\n * all ancestor pages\u00a0\r\n * AND pages with a given label\u00a0\r\n\r\nIf the Livesearch Macro had CQL filters like the\u00a0Content by Label Macro that would be easy done.\r\n\r\nPlease allow CQL filers for the Livesearch Macro.",
      "summary": "Livesearch Macro Should Work With CQL Filters"
    }
  },
  {
    "key": "CONFSERVER-65137",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T11:39:49.000+0000",
      "description": "h2. Issue Summary: \r\n\r\nShared drafts do not show {{Unpublished Changes}} warning message when task lists or drop downs are modified.\r\n\r\nh2. Steps to Reproduce\r\n\r\n# Currently, in Confluence, the shared drafts do not show the {{Unpublished Changes}} warning message when tasks are modified (checked/unchecked) after modifying in edit mode without saving the page.  This also occurs with tasks or drop down lists in certain add-ons (Easy Dropdowns as an example).\r\n# The {{Unpublished Changes}} warning message only appears when text is added during an edit without saving the page.\r\n# Attached below is the video of the testing where {{Unpublished Changes}} only appears when texts are added.\r\n [^TasklisksTest.mp4]\r\n(i) Skip to 00:13 for the actual behavior\r\n\r\n\r\nh2. Expected Results: \r\n\r\nIt would be better if Confluence gives the same warning message {{Unpublished Changes}} when tasks or any changes are being modified.  For customers who have a heavy reliance on task lists or certain add-ons, this can make the page information unreliable.  This is not mentioned in our documentation: [How do Drafts Work|https://confluence.atlassian.com/confkb/how-do-drafts-work-on-confluence-938043306.html].\r\n\r\nh2. Actual Results: \r\n\r\nThere is no warning about Unpublished Changes for certain specific changes made on pages.\r\n\r\nThis is created based on a feature request: https://jira.atlassian.com/browse/CONFSERVER-59676 because I believe this behavior is a bug and should not be a feature request.\r\n",
      "summary": "Unpublished Changes message does not appear when modifying task lists and drop downs when Collaborative Editing is ON"
    }
  },
  {
    "key": "CONFSERVER-65136",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T02:37:57.000+0000",
      "description": "Confluence doesn't have generic retry mechanism for handling Transaction rollbacks caused by HibernateOptimisticLockingFailureException or StaleObjectStateException.\r\n\r\n\r\n When there is a race condition, one thread is bound to see such exceptions, Confluence should try again to perform the operation instead of throwing this error to user. We need some level of guidelines and handling on UserActions.\r\n\r\nOne other example could be a job with modifying 100s of page and in parallel if some user alters a page, one of job/user can see Optimistic Lock exceptions. \r\nThis is similar to AllPage\u00a0[delete operation|https://stash.atlassian.com/projects/confserver/repos/confluence/browse/confluence-core/confluence/src/java/com/atlassian/confluence/pages/DefaultPageManager.java?at=ace3f9d9be349187d8fbfc46af84632c6880137b#748]\u00a0in a space which currently doesn't have batching.\r\nIdeally, for there cases the jobs should have batching and thats a programmer's choice.\r\nBut, a user action shouldn't be rolled-back instead it should be retried or handled in a graceful manner.\r\n\r\nExample trace:\r\n{noformat}\r\nCaused by: org.springframework.orm.hibernate5.HibernateOptimisticLockingFailureException: Object of class [com.atlassian.confluence.pages.Page] with identifier [6947404]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.atlassian.confluence.pages.Page#6947404]\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:284)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:392)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:351)\r\n\tat com.atlassian.confluence.core.persistence.hibernate.HibernateObjectDao.findNamedQueryStringParams(HibernateObjectDao.java:486)\r\n\tat com.atlassian.confluence.core.persistence.hibernate.HibernateObjectDao.findNamedQueryStringParam(HibernateObjectDao.java:426)\r\n\tat com.atlassian.confluence.pages.persistence.dao.hibernate.AbstractHibernateAttachmentDao.getLatestVersionsOfAttachmentsWithAnyStatus(AbstractHibernateAttachmentDao.java:163)\r\n\tat com.atlassian.confluence.pages.attachments.AbstractDelegatingAttachmentDao.getLatestVersionsOfAttachmentsWithAnyStatus(AbstractDelegatingAttachmentDao.java:90)\r\n\tat com.atlassian.confluence.pages.DefaultAttachmentManager.getLatestVersionsOfAttachmentsWithAnyStatus(DefaultAttachmentManager.java:399)\r\n\tat com.atlassian.confluence.pages.DelegatorAttachmentManager.getLatestVersionsOfAttachmentsWithAnyStatus(DelegatorAttachmentManager.java:71)\r\n\tat com.atlassian.confluence.impl.pages.attachments.ReadThroughCachingAttachmentManager.getLatestVersionsOfAttachmentsWithAnyStatus(ReadThroughCachingAttachmentManager.java:71)\r\n\tat sun.reflect.GeneratedMethodAccessor1698.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy249.getLatestVersionsOfAttachmentsWithAnyStatus(Unknown Source)\r\n\tat com.atlassian.confluence.pages.AbstractPage.getSearchableDependants(AbstractPage.java:75)\r\n\tat com.atlassian.confluence.search.lucene.QueuingConfluenceIndexer$InternalConfluenceIndexer.unIndexIncludingDependents(QueuingConfluenceIndexer.java:161)\r\n\tat com.atlassian.confluence.search.lucene.QueuingConfluenceIndexer.unIndexIncludingDependents(QueuingConfluenceIndexer.java:81)\r\n\tat com.atlassian.confluence.pages.DefaultPageManager.lambda$trashPage$11(DefaultPageManager.java:960)\r\n\tat com.atlassian.confluence.impl.search.IndexerEventPublisher.lambda$publishCallbackEvent$0(IndexerEventPublisher.java:29)\r\n\tat com.atlassian.confluence.impl.search.IndexerEventListener.onEvent(IndexerEventListener.java:42)\r\n\tat sun.reflect.GeneratedMethodAccessor1709.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:42)\r\n\t... 349 more\r\n{noformat}\r\n\r\nh2. Workaround\r\nWhile the problem cannot be entirely avoided with certainty, there are a few options to reduce the risk of concurrent updates:\r\n- If you have control over the code, introduce batched processing of the requests (e.g. perform the operation by space, on a list of pages)\r\n- For one off tasks, run them during low traffic times (e.g. outside of business hours)",
      "summary": "Introduce Transaction Rollback handling in core and provide plugin API"
    }
  },
  {
    "key": "CONFSERVER-65135",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T02:06:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMouse focus comes to the head of a sentence when clicking the end line space with Chrome/Edge Chromium\r\n !confluence-mouse-forcus-actual_expect.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n\r\nUse bullet list in Confluence page.\r\n\r\nFor example, mouse focus comes to the head of a sentence when clicking the end line space in \"aaaaa\" \"bbbbb\" \"ccccc\" lines.\r\n - NG: Chrome(90.0.4430.93\uff08Official Build\uff09 \uff08x86_64\uff09)/Edge Chromium\r\n -- [^confluence-bullet-click-Chrome.mov]\r\n - OK: Firefox(87.0 (64-bit))\r\n -- [^confluence-bullet-click-firefox.mov]\r\n\r\nWhen Japanese characters with bullet points are also reproduced.\r\nh3. Expected Results\r\n - When you use any supported browser, focus on the tail of a sentence.\r\n\r\nh3. Actual Results\r\n - When you use Chrome/Edge Chromium, focus on the head of a sentence.\r\n - When you use Firefox, focus on the tail of sentences.\r\n\r\nh3. Workaround\r\n - Click the end line character.",
      "summary": "Mouse focus comes to the head of a sentence when clicking the end line space with Chrome/Edge Chromium"
    }
  },
  {
    "key": "CONFSERVER-65134",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T01:05:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUpgrading to Confluence 7.11.0 and above will fail when database name involve hyphen in MS SQL Server\r\nh3. Steps to Reproduce\r\n # Install any older Confluence before 7.11.0\r\n (i) Confluence 6.15.10 were used in this example\r\n # Create the Confluence database name with a hyphen(-) in it such as {{*conf-1510*}}\r\n # Complete the setup wizard of the older Confluence so it is up and running properly\r\n # Stop Confluence and upgrade to Confluence 7.11.0 (or any later version)\r\n\r\nh3. Expected Results\r\n\r\nConfluence is upgraded successfully\r\nh3. Actual Results\r\n\r\nConfluence upgrade fails with the error message below in {{atlassian-confluence.log}}:\r\n{code:java}\r\n2021-05-06 10:07:48,158 ERROR [Catalina-utility-1] [atlassian.confluence.plugin.PluginFrameworkContextListener] launchUpgrades Upgrade failed, application will not start: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask@4b048de6 failed during the SCHEMA_UPGRADE phase due to: StatementCallback; uncategorized SQLException for SQL [CREATE TRIGGER dbo.denormalised_space_trigger\r\nON conf-1510.dbo.SPACES\r\nAFTER INSERT, UPDATE, DELETE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n    if (dbo.space_function_for_denormalised_permissions() = 1)\r\n        BEGIN\r\n            INSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from inserted;\r\n            INSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from deleted;\r\n        END\r\nEND\r\n]; SQL state [S0001]; error code [102]; Incorrect syntax near '-'.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '-'.\r\ncom.atlassian.confluence.upgrade.UpgradeException: Upgrade task com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask@4b048de6 failed during the SCHEMA_UPGRADE phase due to: StatementCallback; uncategorized SQLException for SQL [CREATE TRIGGER dbo.denormalised_space_trigger\r\nON conf-1510.dbo.SPACES\r\nAFTER INSERT, UPDATE, DELETE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n    if (dbo.space_function_for_denormalised_permissions() = 1)\r\n        BEGIN\r\n            INSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from inserted;\r\n            INSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from deleted;\r\n        END\r\nEND\r\n]; SQL state [S0001]; error code [102]; Incorrect syntax near '-'.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '-'.\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.executeUpgradeStep(AbstractUpgradeManager.java:262)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.runSchemaUpgradeTasks(AbstractUpgradeManager.java:218)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.upgrade(AbstractUpgradeManager.java:164)\r\n\tat com.atlassian.confluence.plugin.PluginFrameworkContextListener.launchUpgrades(PluginFrameworkContextListener.java:122)\r\n\tat com.atlassian.confluence.plugin.PluginFrameworkContextListener.contextInitialized(PluginFrameworkContextListener.java:82)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.springframework.jdbc.UncategorizedSQLException: StatementCallback; uncategorized SQLException for SQL [CREATE TRIGGER dbo.denormalised_space_trigger\r\nON conf-1510.dbo.SPACES\r\nAFTER INSERT, UPDATE, DELETE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n    if (dbo.space_function_for_denormalised_permissions() = 1)\r\n        BEGIN\r\n            INSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from inserted;\r\n            INSERT INTO DENORMALISED_SPACE_CHANGE_LOG (space_id) select SPACEID from deleted;\r\n        END\r\nEND\r\n]; SQL state [S0001]; error code [102]; Incorrect syntax near '-'.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '-'.\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:89)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:418)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.sqlserver.BaseSqlServerDdlHelper.createTriggersAndFunctions(BaseSqlServerDdlHelper.java:31)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.SqlServerDenormalisedPermissionsDdlOperations.createSpaceTriggersAndFunctions(SqlServerDenormalisedPermissionsDdlOperations.java:19)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.DenormalisedPermissionsDdlExecutor.createSpaceTriggersAndFunctions(DenormalisedPermissionsDdlExecutor.java:241)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.DenormalisedPermissionsDdlExecutor.lambda$createSpaceDatabaseObjects$0(DenormalisedPermissionsDdlExecutor.java:64)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.confluence.security.denormalisedpermissions.impl.setup.DenormalisedPermissionsDdlExecutor.createSpaceDatabaseObjects(DenormalisedPermissionsDdlExecutor.java:62)\r\n\tat com.atlassian.confluence.upgrade.upgradetask.DenormalisedSpacePermissionsUpgradeTask.doUpgrade(DenormalisedSpacePermissionsUpgradeTask.java:56)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager$UpgradeStep$3.execute(AbstractUpgradeManager.java:720)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.executeUpgradeTask(AbstractUpgradeManager.java:276)\r\n\tat com.atlassian.confluence.upgrade.AbstractUpgradeManager.executeUpgradeStep(AbstractUpgradeManager.java:256)\r\n\t... 15 more\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '-'.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:260)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1547)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:857)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:757)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7342)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2688)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:224)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:204)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:734)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyStatement.execute(NewProxyStatement.java:75)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:409)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\r\n\t... 26 more\r\n\t{code}\r\nh3. Note\r\n\r\nThe {{atlassian-confluence.log}} will also be spammed _rapidly_ with error messages like below and the main error above can easily get flooded away:\r\n{code:java}\r\n2021-05-06 11:06:55,891 ERROR [perm-delta-cache-receiver] [gatekeeper.evaluator.cache.CacheUpdateReceiver] error Failed to initialize evaluator cache\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:228)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:388)\r\n...\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'external_id'.\r\n...\r\n{code}\r\nh3. Workaround\r\nh4. Option 1\r\n\r\nUpdate the database/schema name and remove any periods/hyphens from the name and update the *confluence.cfg.xml* file with the new name.\r\nh4. Option 2\r\n\r\nAdd new column *external_id* to the *cwd_group* table before starting upgrade (it's important to put your database and schema name in square brackets []):\r\n{code:java}\r\nalter table\u00a0[your_database_name].[your_schema_name].cwd_group add external_id nvarchar(255)\u00a0{code}",
      "summary": "Upgrading to Confluence 7.11.0 and above will fail when database name involve hyphen in MS SQL Server"
    }
  },
  {
    "key": "CONFSERVER-65133",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-05T22:01:57.000+0000",
      "description": "h3. Issue Summary\r\nWhen clicking the upgrade to a datacenter license link for a server version add on in the manage apps section of Confluence an unexcepted errro occurs and link is not reachable\r\n\r\nh3. Steps to Reproduce\r\n # Upgrade to Confluence Datacenter from Confluence Server and have a Confluence server (third party add-on installed an configured) or add this after the fact\r\n # Attempt to click the upgrade to datacenter license \r\n\r\nh3. Expected Results\r\nThis link should go somewhere. \r\n\r\nh3. Actual Results\r\nAn unexpected error occurs\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{code}\r\n-- referer: http://localhost:27120/c7120/plugins/servlet/upm | url: /c7120/rest/plugins/1.0/installed-marketplace | traceId: d53936f7cae63b6e | userName: admin\r\n2021-05-05 12:53:37,334 ERROR [http-nio-27120-exec-9] [atlassian.upm.mac.HamletClientPacProxyImpl] getRedirectLocationFromRequest {\"errorKey\":\"bad.request\",\"errorDetail\":\"Crossgrading account is required\",\"uuid\":\"d9bea5e6-2df7-46c7-8f4d-76c1379b3788\"}\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nAdd an upgraded DC license to the license key add on in the manage apps section to upgrade it to it's Data Center version. ",
      "summary": "An unexpected error occurs when clicking link to upgrade a third party add on to datacenter"
    }
  },
  {
    "key": "CONFSERVER-65129",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-05T16:53:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWe need to have a way to send and receive mail using mail servers that utilize OAuth2 authentication, such as exchange online in Office 365 .\u00a0\r\n",
      "summary": "Add support for mail servers using OAuth2 authentication"
    }
  },
  {
    "key": "CONFSERVER-65128",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-05T14:31:34.000+0000",
      "description": "h2. Current behavior\r\nImages have the same filename, Confluence creates a new version of the original image. As a result, both new and old comments now display the new image, thereby losing the attachment's context.\r\n\r\nh2. Additional notes\r\n * This is also true of attachments uploaded via any other mechanism (Page Editor, drag and drop, More Actions > Attachments, etc)\r\n * This behavior is not restricted to images. All attachments will behave this way.\r\n * This is common for filenames that are generic, e.g. \"logo.png\" or \"screenshot.jpg\"\r\n\r\nh2. Propose solutions\r\n * *Proposal 1*: In comments, specifically refer to attachments by their specific version, rather than always the latest version\r\n * *Proposal 2*: Warn the user during upload if an attachment filename already exists on the page. We can additionally offer an option to rename the file or to continue and create a new version of the existing file\r\n\r\nh2. Note\r\nProposed solutions are good and working fine but customer would like to have this as an inbuilt feature.",
      "summary": "When attachments of the same name are uploaded, all page references automatically show latest version"
    }
  },
  {
    "key": "CONFSERVER-65102",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-05T06:06:08.000+0000",
      "description": "h3. Issue Summary\r\nAnonymised users in Jira shows the name in Confluence\r\nh3. Steps to Reproduce\r\n # Connect Jira as User directory having read/write access with Confluence\r\n # Create few users in Jira and ensure that the users get synced in Confluence\r\n # Add those users in Confluence-Users group\r\n #  Login with those users credentials in Confluence\r\n # Create few pages \r\n # In the comment for these pages and any other pages, please mention those users like [~7f4bf87dc9d0]\r\n # Login to Jira as admin\r\n # Anonymised those users in Jira and ensure that the sync happens with Confluence\r\n # In the user section ,the page created  by those users and where those users have been mentioned you can see the name of the user in brackets beside the anonymised user ID. ( screen shots attached ) \r\n\r\nh3. Expected Results\r\n # Anonymised user names are visible \r\n\r\nh3. Actual Results\r\n# Anonymised user names should not be visible with the original name\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Anonymised users in Jira shows the name in Confluence"
    }
  },
  {
    "key": "CONFSERVER-65072",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T09:29:08.000+0000",
      "description": "h3. Issue Summary\r\nThe path /rest/analytics/1.0/publish/bulk is missing important security headers:\r\n- Content-Security-Policy\r\n- X-XSS-Protection\r\n- HTTP Strict-Transport-Security\r\n\r\nh3. Steps to Reproduce\r\n # Open Dashboard or homepage in Confluence\r\n # In the Network tab locate the request /rest/analytics/1.0/publish/bulk\r\n # Check the headers\r\n\r\nh3. Expected Results\r\nSecurity headers like below will be present:\r\n- Content-Security-Policy\r\n- X-XSS-Protection\r\n- HTTP Strict-Transport-Security\r\n\r\nh3. Actual Results\r\nThey are not present:\r\n{code}\r\nRequest URL: http://localhost:8090/rest/analytics/1.0/publish/bulk\r\nRequest Method: POST\r\nStatus Code: 200 \r\nRemote Address: [::1]:8090\r\nReferrer Policy: strict-origin-when-cross-origin\r\nConnection: keep-alive\r\nContent-Encoding: gzip\r\nContent-Type: application/json\r\nDate: Fri, 30 Apr 2021 14:16:46 GMT\r\nKeep-Alive: timeout=20\r\nTransfer-Encoding: chunked\r\nVary: User-Agent\r\nX-AUSERNAME: admin\r\nX-Content-Type-Options: nosniff\r\nX-Seraph-LoginReason: OK\r\n{code}\r\n\r\nh3. Workaround\r\nUse reverse proxy and apply headers to the request. Below is the example for Apache:\r\n{code}\r\n<Location /rest/analytics/1.0/publish/bulk>\r\n   Header set Content-Security-Policy \"default-src 'self';\"\r\n   Header set X-XSS-Protection \"1; mode=block\"\r\n   Header always set Strict-Transport-Security \"max-age=63072000;\"\r\n</Location> \r\n{code}",
      "summary": "The path /rest/analytics/1.0/publish/bulk is missing security headers"
    }
  },
  {
    "key": "CONFSERVER-65071",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T08:31:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOn adding the @top-right custom header rule as a part of PDF Stylesheet under the Space and then exporting the space does not work correctly. The border around it confirms that it is aligned well within the boundaries of the page which is incorrect.\r\nh3. Steps to Reproduce\r\n * As a part of PDF Stylesheet option under Space Tools -> Look and Feel -> PDF StyleSheet, add below stylesheet\r\n @page\r\n {\r\n border:2px solid yellow;\r\n @top-right \\{ border:2px solid black; }\r\n@top-center\r\n{ border:2px solid green; }\r\n@top-left\r\n{ border:2px solid red; }\r\n}\r\n\r\n * Export space as PDF.\r\n\r\nh3. Expected Results\r\n\r\n@top-right custom header border should be aligned to the extreme right of the page.\r\nh3. Actual Results\r\n\r\n@top-right custom header border is not aligned to the extreme right of the page.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "PDF Export top right custom header rule not working correctly"
    }
  },
  {
    "key": "CONFSERVER-65064",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T04:21:14.000+0000",
      "description": "h3. Problem\r\n\r\nWhen attempting to configure an *Application Link* to a non-Atlassian generic application:\r\n * A warning for *XSRF Security Token Missing* will prevent any authentication configuration changes to be saved\r\n\r\nh3. Environment\r\n\r\nReproduce in local environment using\r\n * Confluence Server version *7.8.3*\r\n Here is also a list of binaries that have been tested\r\n atlassian-confluence-7.11.2-x64.bin / fail\r\n atlassian-confluence-7.10.2-x64.bin / fail\r\n atlassian-confluence-7.9.3-x64.bin / fail\r\n atlassian-confluence-7.8.3-x64.bin / fail\r\n atlassian-confluence-7.7.4-x64.bin / fail\r\n atlassian-confluence-7.6.3-x64.bin / fail\r\n atlassian-confluence-7.4.8-x64.bin / fail\r\n atlassian-confluence-7.4.7-x64.bin / fail\r\n atlassian-confluence-7.4.6-x64.bin / fail\r\n atlassian-confluence-7.4.3-x64.bin / Success\r\n atlassian-confluence-7.4.1-x64.bin / Success\r\n\r\nh3. Steps to Reproduce\r\n * Create a new application link - we used [https://www.thisisanapplicationlinktest.com|https://www.thisisanapplicationlinktest.com/] just for testing\r\n * Proceed with the creation and then Edit the new entry\r\n * Try to save changes in either the menu for *outgoing authentication* or *incoming authentication*\r\n\r\nh3. Expected Results\r\n * We expect to be able to save the changes against the application link\r\n * We expect to see the template correctly rendered\r\n\r\nh3. Actual Results\r\n * Instead we will receive a warning message on *XSRF Security Token Missing* message\r\n * The template for these menus is not properly rendered\r\n * Stack Trace as seen in the application logs. Full Stack trace as seen during the Bug reproduction is in attachments below.\u00a0\r\n\r\nh3. Workaround\r\n\r\nTo edit Oauth configurations:\r\n * Delete the applink you would like to edit\r\n * Re-create the applink\r\n * On `Configure Application URL` dialog, fill out the whole form, don't check `Use this URL` checkbox and continue\r\n * On `Link Application`\u00a0 dialog, fill out the whole form and check `create incoming link` and continue\r\n * Fill out the final form and submit\r\n\r\nh3. Notes\r\n\r\nThe recording is attached to illustrate the issue. [^XSRF Security Token Missing - Application Links.mp4]",
      "summary": "Custom Application Link Configuration not working due to XSRF Security Token Missing message"
    }
  },
  {
    "key": "CONFSERVER-65063",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T03:27:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFailed to create a Calendar with iCAL URL from Google Calendar.\r\nh3. Steps to Reproduce\r\n # Install two-node Confluence DC.\r\n # Download the problematic ICS file from the below internal comment.\r\n # Import the ICS file to a Goole Calendar and get an iCAL URL\r\n # Create a new Team Calendar by the above iCAL URL, and see the below error happens on the GUI:\r\n !reproduced-issue.png|thumbnail!\r\n\r\nh3. Expected Results\r\n\r\nA new calendar is created successfully.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-confluence.log}}\u00a0file (full exception is in attachment):\r\n{code:java}\r\n2021-05-03 23:56:07,366 DEBUG [http-nio-8090-exec-9] [extra.calendar3.rest.AbstractResource] getEvents Unable to load events of sub-calendar 1839c576-f463-4efb-ae16-3e532b75a06a\r\n -- referer: http://localhost:7091/calendar/mycalendar.action | url: /rest/calendar-services/1.0/calendar/events.json | traceId: f7bfbc6dbdb381e1 | userName: admin\r\ncom.atlassian.cache.CacheException: Problem retrieving a value from cache com.atlassian.confluence.extra.calendar3.calendarstore.SubscriptionCalendarDataStore:subcalendar-data.c711\r\n\tat com.atlassian.cache.hazelcast.HazelcastCache.getOrLoad(HazelcastCache.java:332)\r\n\tat com.atlassian.cache.hazelcast.HazelcastCache.get(HazelcastCache.java:118)\r\n\tat com.atlassian.confluence.cache.DefaultConfluenceCache.get(DefaultConfluenceCache.java:47)\r\n\tat com.atlassian.confluence.cache.ConfluenceMonitoringCache.get(ConfluenceMonitoringCache.java:46)\r\n        ...{code}\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Subscribing by URL to a calendar failed with the error, Unable to load events of sub-calendar "
    }
  },
  {
    "key": "CONFSERVER-65062",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T02:05:04.000+0000",
      "description": "*Context*\r\nGiven I'm visiting this page\u00a0[https://confluence.atlassian.com/doc/blog/2015/08/create-sprint-retrospective-and-demo-pages-like-a-boss]\r\n\r\nWhen I want to download a Confluence ebook to learn about the benefits of the product for software teams..\r\n\r\n*Expected result*\r\n\r\nThen I click this link [https://www.atlassian.com/dms/wac/ebook/software-teams-guide-to-confluence.pdf]\u00a0and I can download the PDF, signup etc\r\n\r\n***Actual result*\r\n\r\n.. Then I get a 404 / no PDF\r\n\r\n\r\n\r\n\r\n\u00a0",
      "summary": "Confluence Blog: Broken link to download PDF"
    }
  },
  {
    "key": "CONFSERVER-65061",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-03T19:15:41.000+0000",
      "description": "h3. Problem Definition\r\n\r\nConfluence currently does not log or track Page moves. This can cause confusion with both users and Admins if a popular / important Page is moved out of it's known location.\r\n\r\nh3. Suggested Solution\r\n\r\nInclude a message in the logs (either access.log or atlassian-confluence.log) such as a {{movepage.action}} entry with a few relevant infos:\r\n* The Page title and/or ID.\r\n* The username and/or ID responsible for the move.\r\n* The origin and destination (Parent Page ID).\r\n\r\nAlso, logging the user responsible for the move on a {{user_id}} column in the JOURNALENTRY table would add traceability to the system.\r\n\r\nh3. Workaround \r\nLocate the desired Page from the Search bar, visit the Page and check it's current location from the Page Tree on the left side menu.",
      "summary": "Better logging for Page Moves"
    }
  },
  {
    "key": "CONFSERVER-65060",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-03T18:25:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen importing a Confluence Cloud space into a Server instance, pages that contain images aren't displayed properly. The alignment breaks and images are displayed in a strange way.\r\nh3. Steps to Reproduce\r\n # Create a brand new space on Confluence Cloud\r\n # Create a new page\r\n # On that page add a few paragraphs of text and images, in the following sequence:\r\n ** Between the first and second paragraph, insert an image\r\n ** Set this new image to align to left\r\n ** After the second paragraph, add a second image\r\n ** In this new image set it to Wrap Left\r\n # Publish the page\r\n # In Space Settings > Content Tools > Export, export the entire new space to XML\r\n # In an OnPrem instance of Confluence, import the Cloud space\r\n # Access the test page\r\n\r\nh3. Expected Results\r\n\r\nThe page should be displayed with the same alignment as the Cloud version\r\n !image-2021-05-03-15-18-01-397.png|width=408,height=359!\r\nh3. Actual Results\r\n\r\nThe alignment of the images break, causing visual issues on the page. This effect gets worse in pages with many images:\r\n !image-2021-05-03-15-19-31-115.png|width=800,height=166!\r\n\r\nWhen importing the same Space into a Cloud instance, the result is the expected one.\r\n\r\nh4. Storage Format\r\nComparing the Storage Format of the Cloud and OnPrem instances, there are a few tags missing from the image macro:\r\n{code:java|title=Cloud}\r\n<ac:image ac:align=\"left\" ac:layout=\"wrap-left\" ac:original-height=\"422\" ac:original-width=\"1930\" ac:width=\"340\"> \r\n <ri:attachment ri:filename=\"PNGIX.com_atlassian-logo-png_4329165.png\" ri:version-at-save=\"3\" /> \r\n </ac:image>\r\n{code}\r\n{code:java|title=OnPrem}\r\n<ac:image ac:align=\"left\" ac:width=\"340\">\r\n <ri:attachment ri:filename=\"PNGIX.com_atlassian-logo-png_4329165.png\" />\r\n </ac:image>{code}\r\nh3. Workaround\r\n\r\nNo workaround found so far.",
      "summary": "Importing a Confluence Cloud Space into a OnPrem instance causes image alignment issues in pages"
    }
  },
  {
    "key": "CONFSERVER-65055",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-03T09:51:19.000+0000",
      "description": "To maintain a secure system, we would like to have users receive an email every time a new login is detected. ",
      "summary": "Login alerts"
    }
  },
  {
    "key": "CONFSERVER-65054",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-03T04:55:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe create button now behaves inconsistently with the theme of Confluence when hovering over it. When hovering over the button, there seems to be a border being applied where there was none prior. This looks especially odd as in most cases it is a split button so the issue is more apparent when contrasted with the other half of the button.\r\n\r\nAlso, the `{{...}}` has more horizontal padding applied to it as well.\r\nh3. Steps to Reproduce\r\n # Hover over the create button (this works on both halves - the `{{Create}}`\u00a0and the `{{...}}` side)\r\n # Also, observe that the `{{...}}` has more horizontal padding than before\r\n\r\nh3. Expected Results\r\n\r\nNo border should be applied on hover, also the `{{...}}` is horizontally slimmer\r\n\r\n!https://scontent-syd2-1.xx.fbcdn.net/v/t1.15752-9/181571169_475248783757042_788388618890451480_n.png?_nc_cat=108&ccb=1-3&_nc_sid=ae9488&_nc_ohc=qemLIFm3l-gAX9ushWf&_nc_ht=scontent-syd2-1.xx&oh=4964f7b7e52282374fd8fe7fdcfe9481&oe=60B57499|width=301,height=120!\r\nh3. Actual Results\r\n\r\nA border is applied on hover, and `{{...}}` is horizontally fatter\r\n\r\n!image-2021-05-03-14-38-31-859.png! \u00a0  !image-2021-05-03-14-38-40-372.png!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Hovering over the create button now has an odd border applied to it"
    }
  },
  {
    "key": "CONFSERVER-64904",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T23:56:26.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\r\n  *NOTE:* This suggestion is for *Confluence Server*. Using *Confluence Cloud*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFCLOUD-33463].\r\n  {panel}\r\n\r\nh3. Problem Definition\r\nCurrently in Team Calendars you cannot add an attachment or link to an attachment to download, except maybe in the Description field.\r\n\r\nh3. Suggested Solution\r\nProvide a way to either upload an attachment, or link to it within the event.\r\n\r\nh3. Why this is important\r\n It would be really helpful to be able to link to an attachment in a Team Calendar event. Through Related Page, you can currently link to a page or put in a url for an external webpage. Can you please make it so you can link to an attachment here the same way you would a page (through search)? Thank you!",
      "summary": "link to an attachment from a team calendar event"
    }
  },
  {
    "key": "CONFSERVER-64903",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T22:36:37.000+0000",
      "description": "h3. Issue Summary\r\niFrame macro isn't imported from Cloud to Server as expected. \r\nh3. Steps to Reproduce\r\n# Create a page in Confluence Cloud and insert a iFrame macro. \r\n# Navigate to *space settings* > *Content Tools* > *Export*. \r\n# Select XML export. \r\n# In Confluence server, Navigate to  !https://confluence.atlassian.com/doc/files/747833194/747833195/2/1517274813281/cog.png|width=16! > *General configuration* > *Backup and Restore* > *Import*.\r\n# Select Export file and *Upload and import*. \r\n# Reindex and flush cache. \r\n\r\nh3. Expected Results\r\niFrame macro to render on page. \r\nh3. Actual Results\r\niFrame macro is displayed as unknown macro. \r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available. \r\n\r\nNotes\r\nConfluence server doesn't have a iFrame macro. However, HTML macro is similar in usage. ",
      "summary": "Importing XML to Server from Cloud doesn't import and renders as unknown. "
    }
  },
  {
    "key": "CONFSERVER-64891",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T12:29:24.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen Confluence is still starting up and you attempt to access the website via the URL, the browser spins without any indication that Confluence is still in the process of starting up. This can cause confusion for the administrator as they get the impression that something is wrong with the instance.\r\nh3. Suggest Solution\r\n\r\nImplement a startup splash screen similar to the one in JIRA so that administrators can immediately see what Confluence is doing in the background.\r\n\r\n\u00a0\r\nh3. Comment\r\n\r\nThe year is 2021, I don't understand why such a possibility has not been implemented since the beginning of time. As a system administrator, this saddens and discourages me. Not to mention the users of the system, who have to talk about it every time and calm down.\r\n\r\nI don\u2019t know why it didn\u2019t get votes last time, but the rules do not prohibit raising this issue again in order to try again.\r\n\r\n\u00a0 !image-2021-04-30-15-29-11-176.png|width=379,height=285!\r\n\r\n\u00a0",
      "summary": "Add startup splash screen similar to JIRA's\\Bitbucket's so that for  know that Confluence is starting up"
    }
  },
  {
    "key": "CONFSERVER-64888",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T23:00:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter importing a space from Cloud, the note panel macro renders with duplicated content. \r\n\r\nh3. Steps to Reproduce \r\nInstructions:\r\n# In Cloud, create a page that includes the note panel macro\r\n# Export the space\r\n# Import the space into an on-premise Confluence instance\r\n\r\nh3. Expected Results\r\n\r\nAll native macros render with the on-premise equivalent\r\n\r\nh3. Actual Results\r\n\r\nThe note panel macro renders as the note macro, but with duplicated content:\r\n\r\nIn Cloud:\r\n!cloud-note.png|thumbnail!\r\n\r\nIn on-premise:\r\n!on-prem-note.png|thumbnail!\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Fix note panel rendering when importing space from Cloud "
    }
  },
  {
    "key": "CONFSERVER-64876",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T13:28:43.000+0000",
      "description": "It would be useful to have REST calls to get and modify/clear for Sidebar, header and footers for automation.\u00a0\u00a0\r\n\r\n\u00a0\r\n\r\nWe use headers and sidebar to display a Space's data classification and who manages it and would like to run automation checks against header info and Space managers.",
      "summary": "REST API to Get/Modify/Clear Sidebar, Header and footer"
    }
  },
  {
    "key": "CONFSERVER-64864",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T10:32:16.000+0000",
      "description": "Many time, when creating Table, mainly when importing Table from Excel by Copy/Paste, we have to split the current Table into smaller Table.\r\n\r\nThe only way to do that with current version is to copy the Table and clean up the original and copied Table.\r\n\r\nThis operation is painful since we can not copy a part of table when cell contains some macro (I do not have listed the case). It is needed to copy the entire table with at least some content outside of this table and top and bottom.\r\n\r\n\u00a0\r\n\r\nV.\r\n\r\n\u00a0",
      "summary": "Split an an existing table in 2 table"
    }
  },
  {
    "key": "CONFSERVER-64857",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T03:30:54.000+0000",
      "description": "Please see error below:\r\n\r\n--\r\n\r\n#\r\n\r\n#\u00a0 SIGSEGV (0xb) at pc=0x00007f2971694ff9, pid=21300, tid=0x00007f289d1d9700\r\n\r\n#\r\n\r\n# JRE version: OpenJDK Runtime Environment (8.0_202-b08) (build 1.8.0_202-b08)\r\n\r\n# Java VM: OpenJDK 64-Bit Server VM (25.202-b08 mixed mode linux-amd64 compressed oops)\r\n\r\n# Problematic frame:\r\n\r\n# C\u00a0 [libfreetype.so.6+0x23ff9]\u00a0 tt_get_metrics+0x59\r\n\r\n#\r\n\r\n--",
      "summary": "libfreetype crashes Confluence 6.15.3"
    }
  },
  {
    "key": "CONFSERVER-64856",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T02:40:24.000+0000",
      "description": "h3. Issue Summary\r\nIf an attachment got deleted, it gets moved to the trash. Before the attachment is purged from the trash. Users will still be able to access the attachment preview if a user saves the preview URL.\r\n\r\nh3. Steps to Reproduce\r\n# Upload attachment\r\n# Click on the attachment to preview the attachment\r\n# Copy the preview URL\r\n# Delete the attachment\r\n# Paste the preview URL in another browser tab\r\n\r\n(i) If it's an image, you'd still be able to download the image via the browser.\r\n\r\nh3. Expected Results\r\nDeleted attachments shouldn't be able to preview by the user anymore.\r\n\r\nh3. Actual Results\r\nThe user is still able to preview deleted attachments.\r\n\r\nh3. Workaround\r\nPurge the attachment from the trash right away after deleting it.\r\n* If the purged attachment is linked, then during preview an opaque layer displays with no close button. There is no way to close the preview mode",
      "summary": "Saving attachment preview URL allows user to download the attachment after deletion"
    }
  },
  {
    "key": "CONFSERVER-64821",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-28T04:38:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCQL search on /rest/api/content/search should not only support in-built types like PAGE, BLOG. ect. it should support CUSTOM types.\r\n\r\nCurrently you can't find custom types in search results.\r\n\r\nOn the cloud repo this issue may have already been fixed but the changes have not made their way into server.\r\n\r\nChanges required to be made likely reside here: DefaultCQLSearchService.java:241 in confluence-cql-plugin-parent.\r\n\r\nRelated ticket: https://jira.atlassian.com/browse/CRA-341\r\n\r\nFor reference check the cloud's implementation: [https://stash.atlassian.com/projects/CONFCLOUD/repos/confluence-cql-plugin/browse/conf[\u2026]an/confluence/plugins/cql/impl/DefaultCQLSearchService.java|https://stash.atlassian.com/projects/CONFCLOUD/repos/confluence-cql-plugin/browse/confluence-cql-plugin/src/main/java/com/atlassian/confluence/plugins/cql/impl/DefaultCQLSearchService.java#243]\r\n\r\nSeems as though while field handlers support custom content types, custom content is being filtered completely out due to how the ContentTypeQuery is defined.\r\n\r\nNeed to pay particular care to whether this change will cause regressions in how we expect CQL to work for all queries. Should be ok as long as we want custom to be enabled by default.\r\n\r\n*It could be worthwhile to try improve testing/simplify code in DefaultCQLSearchService as it seems quite obfuscated at a glance. Documentation regarding supported types is also missing.*\r\n\r\n*Testing/larger refactors will be done in separate ticket.*\r\n\r\n\u00a0\r\n\r\n*Important note:*\u00a0\r\n\r\nOnly affects /rest/api/content/search endpoint.\r\n\r\n/rest/api/search endpoint is not affected. Both have support different types due to using different CQLSearchService methods search() vs searchContent.\r\nh3. Steps to Reproduce\r\n\r\nPerform a CQL query through the /rest/api/content/search endpoint for custom types:\r\n\r\ne.g type = <custom-content-plugin-key>\r\n\r\ne.g id = <id-of-custom-content>\r\n\r\nThis incorrect behaviour is not limited to those specific queries.\r\nh3. Expected Results\r\n\r\nYou should expect to get custom content in the result and information about them just like any other built-in content.\r\nh3. Actual Results\r\n\r\nCustom content will not appear in results, but content of a built-in type will.\r\nh3. Workaround\r\n\r\nNone.",
      "summary": "CQL search should support custom content types"
    }
  },
  {
    "key": "CONFSERVER-64806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-27T16:52:09.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, the Attachment macro works with a limited set of metadata that's associated with each attachment file. Examples of this include the Author which is searchable while using _Contributor_ and File Name which is searchable by way of the _Type_ element.\r\n\r\nWhile it's possible to manually modify the Attachments macro to handle additional metadata elements, these are not automatically searchable through the Confluence UI.\r\nh3. Suggested Solution\r\n\r\nAllow users to create additional metadata elements for an attachment and make these searchable. Please also see the following requests to add viewable elements to the Attachments macro:\r\n * CONFSERVER-58555: additional display columns in Attachments macro\r\n * CONFSERVER-54967: Ability to display further columns for Attachments Macro\r\n\r\nh3. Workaround Solution\r\n\r\nFor a given attachment:\r\n * Click on it's *Properties* option.\r\n * Add additional metadata to the *Comments* field.\r\n * Once saved, this metadata is now searchable.",
      "summary": "Searchable Attachment macro metadata"
    }
  },
  {
    "key": "CONFSERVER-64798",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-02T01:49:42.000+0000",
      "created": "2021-04-27T03:54:56.000+0000",
      "description": "h3. Issue Summary\r\n\r\nEnabling profiling has no effect on logging in Confluence 7.0.1.\r\nh3. Environment\r\n\r\nConfluence 7.0.1\r\nh3. Steps to Reproduce\r\n # Enable profiling via the UI:\u00a0 *Confluence Administration >> General Configuration >> Logging and profiling >> Enable profiling*\r\n # Check atlassian-confluence.log\r\n\r\nh3. Expected Results\r\n\r\nAdditional profiling logging should be added to atlassian-confluence.log for each active thread. For example:\r\n{code:java}\r\n2019-09-12 16:09:05,667 DEBUG [http-nio-26158-exec-6] [atlassian.util.profiling.UtilTimerStack] log [9ms] - /conf6158/admin/changeprofiling.action\r\n\u00a0 [1ms] - UserAccessor.getExistingUserByKey()\r\n\u00a0 [1ms] - PermissionManager.hasPermission()\r\n\u00a0 \u00a0 [0ms] - UserAccessor.isDeactivated()\r\n\u00a0 \u00a0 \u00a0 [0ms] - CrowdService.getUser()\r\n\u00a0 \u00a0 \u00a0 \u00a0 [0ms] - ApplicationDAO.findByName()\r\n\u00a0 \u00a0 \u00a0 \u00a0 [0ms] - UserDao.findByName()\r\n\u00a0 \u00a0 [1ms] - CrowdService.isUserMemberOfGroup()\r\n\u00a0 \u00a0 \u00a0 [0ms] - ApplicationDAO.findByName()\r\n\u00a0 \u00a0 \u00a0 [0ms] - MembershipDao.isUserDirectMember()\r\n\u00a0 [0ms] - UserAccessor.getUserByName()\r\n\u00a0 \u00a0 [0ms] - CrowdService.getUser()\r\n\u00a0 \u00a0 \u00a0 [0ms] - ApplicationDAO.findByName()\r\n\u00a0 \u00a0 \u00a0 [0ms] - UserDao.findByName()\r\n\u00a0 [0ms] - PermissionManager.isSystemAdministrator()\r\n\u00a0 [0ms] - UserAccessor.getPropertySet()\r\n\u00a0 [2ms] - XW Interceptor: Before defaultStack: /admin/changeprofiling.action (ConfigureLog4jAction.changeProfiling())\r\n\u00a0 \u00a0 [0ms] - UserAccessor.exists()\r\n\u00a0 \u00a0 \u00a0 [0ms] - CrowdService.getUser()\r\n\u00a0 \u00a0 \u00a0 \u00a0 [0ms] - ApplicationDAO.findByName()\r\n\u00a0 \u00a0 \u00a0 \u00a0 [0ms] - UserDao.findByName()\r\n\u00a0 \u00a0 [0ms] - UserAccessor.getPropertySet()\r\n\u00a0 \u00a0 [0ms] - SpaceAwareInterceptor.intercept()\r\n\u00a0 \u00a0 [1ms] - PageAwareInterceptor.intercept()\r\n\u00a0 \u00a0 \u00a0 [0ms] - CommentAwareInterceptor.intercept()\r\n\u00a0 \u00a0 \u00a0 [0ms] - UserAwareInterceptor.intercept()\r\n\u00a0 \u00a0 \u00a0 [0ms] - BootstrapAwareInterceptor.intercept()\r\n\u00a0 \u00a0 \u00a0 [0ms] - PermissionManager.hasPermission()\r\n\u00a0 \u00a0 \u00a0 [0ms] - XW Interceptor: After defaultStack: /admin/changeprofiling.action (ConfigureLog4jAction.changeProfiling())\r\n\u00a0 \u00a0 \u00a0 \u00a0 [0ms] - XW Interceptor: After validatingStack: /admin/changeprofiling.action (ConfigureLog4jAction.changeProfiling()) {code}\r\nh3. Actual Results\r\n\r\nNo expected profiling output is generated.\r\n\r\n\u00a0\r\nh3. Workaround\r\n\r\n* Navigate to *Confluence Administration* >> *General Configuration* >> *Logging and profiling*\r\n** Click *Enable Profiling*; *and*\r\n** Manually add *{{com.atlassian.util.profiling.Timers}}* as *DEBUG* logging\r\n** Manually add *{{com.atlassian.util.profiling.UtilTimerStack}}* as *DEBUG* logging\r\n\r\n\r\n\r\n",
      "summary": "7.4 Turning on profiling has no effect on generated logging"
    }
  },
  {
    "key": "CONFSERVER-64797",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T13:46:28.000+0000",
      "description": "We have an LOB who uses the issue key hyperlink at the beginning of their Feature's Name in our Feature Name text field. They would like this to be able to display correctly when they pull them into Confluence using the Jira Issues macro. Instead the formatting is distorted by the URL.",
      "summary": "URL in Text Field Confluence Macro Formatting"
    }
  },
  {
    "key": "CONFSERVER-64796",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T08:47:10.000+0000",
      "description": "h3. Problem\r\n\r\nAs a Confluence administrator we would like to see the usage of each user's installed plugins that give us the result with respect to space/projects/plan.\r\n\r\nWe know there is macro usage page but it has lots of manual work to identify space out of the result.\r\nh3. Suggested Solution\r\n\r\n_We would like to have feature in Confluence so above mentioned details\u00a0can be fetch easily._\u00a0\r\nh3. Why This Is Important\r\n\r\n_This will save lot of time and efforts of users._\u00a0\r\nh3. Workaround\r\n\r\n_(Add a workaround, if available)_",
      "summary": "Get plugin usage in Confluence with respect to space"
    }
  },
  {
    "key": "CONFSERVER-64758",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T02:32:08.000+0000",
      "description": "h3. Issue Summary\r\nWhen editing a page with the collaborative editor, a request to update the page via the REST API will result in duplicated content. This REST update is a seperate action unrelated to the editor.\r\n\r\nGenerally only content that has been entered into the editor, and not yet published will be duplicated.\r\n\r\nh3. Steps to Reproduce\r\n# Create a page with some content, then publish the page\r\n# Edit the page and add some additional content, do not yet publish the page\r\n# Obtain the content of the draft using the REST API\r\n{code:title=Get Draft Content}\r\nGET /content/<content-id>?expand=body.storage&status=draft\r\n{code}\r\n# Add additional content to the recently obtained content, and POST it back to Confluence using\r\n{code:title=Update Page Content}\r\nPUT /content/<content-id>?status=draft  { \"type\": \"page\", \"version\": {\"number\": 1}, \"space\": {\"key\": \"KEYS\"}, \"status\": \"current\", \"title\": \"Page Title\", \"body\": { \"storage\": { \"value\": \"<p>already published content</p><p><br /></p><p>some</p><p>new</p><p>changes</p><p>done</p><p>manually</p><p><br /></p><p>API UPDATE</p>\", \"representation\": \"storage\" } } }\r\n{code}\r\n# Head back to the editor and note the duplicated content\r\n# Publish the page and note the content is still duplicated\r\n\r\nh3. Expected Results\r\nConfluence should reconcile the difference between the new REST content and the existing content in the editor.\r\n\r\nh3. Actual Results\r\nConfluence doesn't correctly reconcile the difference between the REST content and the editor content, resulting in duplicated data.\r\n\r\nh3. Workaround\r\nCurrently the only workaround is to go back and edit the page to remove the duplicated content. Rolling back to a previous version will result in the loss of content added to the editor but not yet published.\r\n\r\n{panel:title=Note|borderStyle=solid|borderColor=#6554c0|titleBGColor=#6554c0|bgColor=#eae6ff|titleColor=#ffffff}\r\nWhilst this issue presents in a similar fashion to [CONFSERVER\\-59227: Duplicate content shown when editing a page|https://jira.atlassian.com/browse/CONFSERVER-59227], it is unrelated.\r\n{panel}",
      "summary": "Duplicate Content When Updating Page Via REST Whilst Collaborative Editor Is Open"
    }
  },
  {
    "key": "CONFSERVER-64535",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T01:02:04.000+0000",
      "description": "h3. Summary\r\nI want Team Calendars to integrate reminders if an event occurs on the same date/time even in a different calendar\r\n\r\nh3. Steps to Reproduce\r\n# Create 2 calendar\r\n# Create Jira Issue Dates event for each calendar\r\n# Add reminder \"1 day before\"\r\n\r\n !Screen Shot 2021-04-26 at 10.01.32.png|thumbnail! \r\n\r\nh3. Expected Results\r\nOnly one reminders send from the calendar\r\n\r\nh3. Actual Results\r\nTwo reminders with the same content send from the calendar",
      "summary": "As a user, I want Team Calendars to integrate reminders if an event occurs on the same date/time even in a different calendar"
    }
  },
  {
    "key": "CONFSERVER-64534",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-23T13:07:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a user tries to delete a label on a page that is restricted for editing, an unspecific error message is being displayed.\r\n\r\n\r\nh3. Steps to Reproduce\r\n # Create a page with *{{user-1}}* and add a label to it\r\n # Make the page \"Editing Restricted\" for all other users with *{{user-1}}*\r\n # Access to the page created in the first step with *{{user-2}}* \r\n # Try to delete the label\r\n\r\nh3. Expected Results\r\nA meaningful warning message showing the users why they cannot delete this label.\r\n\r\nh4. Alternative results\r\n* The label editor does not open on click, but rather an info message is displayed, that one does not have the necessary permissions.\r\n* The label editor opens but all fields are only set to visible and the info regarding permissions is shown in place of the unspecific error message.\r\n\r\nh3. Actual Results\r\nUnspecific error message displayed\r\n !label-error-1.jpg|thumbnail! \r\n\r\nThe below exception is thrown in the atlassian-confluence.log file:\r\n{code}\r\n2021-04-23 12:06:21,652 ERROR [http-nio-27102-exec-2] [rest.api.model.ExceptionConverter] convertServiceException No status code found for exception, converting to internal server error : \r\n -- referer: http://localhost:27102/c7102/display/SX/Hello | url: /c7102/rest/ui/1.0/content/327703/label/655363 | traceId: f8dca8aa37fa6515 | userName: test-1\r\ncom.atlassian.confluence.core.service.NotAuthorizedException: test-1\r\n\tat com.atlassian.confluence.core.service.AbstractServiceCommand$ServiceCommandState$5.validate(AbstractServiceCommand.java:240)\r\n\tat com.atlassian.confluence.core.service.AbstractServiceCommand$ServiceCommandState$6.validate(AbstractServiceCommand.java:274)\r\n\tat com.atlassian.confluence.core.service.AbstractServiceCommand.isValid(AbstractServiceCommand.java:41)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy3148.isValid(Unknown Source)\r\n\tat com.atlassian.confluence.ui.rest.service.content.LegacyLabelHelper.validateLabelsCommand(LegacyLabelHelper.java:43)\r\n\tat com.atlassian.confluence.ui.rest.service.content.LegacyContentServiceImpl.removeLabel(LegacyContentServiceImpl.java:246)\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Deleting a label from an edit restricted page displays unspecific error"
    }
  },
  {
    "key": "CONFSERVER-64533",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-23T12:07:16.000+0000",
      "description": "h3. Issue Summary\r\nWhen you move a page from one parent to another within the UI the page inherits the restrictions of the new parent.\r\n\r\nIf you move the page via the API however the previous parent's restrictions are still applied to the page.\r\n\r\nh3. Steps to Reproduce\r\n * Parent A - restrictions applied\r\n * Parent B - no restrictions\r\n\r\n# Move a child page from Parent A to Parent B.\r\n# Notice the page still has the permissions from the original parent page\r\n\r\n{noformat}PUT /rest/api/content/456\r\n\r\n{\r\n\"version\": {\r\n\"number\": 2\r\n},\r\n\"ancestors\": [\r\n{\r\n\"id\": 789\r\n}\r\n],\r\n\"type\": \"page\",\r\n\"body\": {\r\n\"storage\": {\r\n\"value\": \"<p>New page data.</p>\",\r\n\"representation\": \"storage\"\r\n}\r\n}\r\n}{noformat}\r\n\r\nReindexing or rebuilding the ancestors table has no affect.\r\n\r\nh3. Expected Results\r\nThe page should inherit the same restrictions as it's new parents.\r\n\r\nh3. Actual Results\r\nThe previous restrictions are still applied to the page under the new parent.\r\n\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior apart from manually updating the restrictions.",
      "summary": "Moving a page via API to another parent page retains the previous parents restrictions"
    }
  },
  {
    "key": "CONFSERVER-64532",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-23T00:55:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a user does not have full access to a space ( ie space admin ), the move option should be disabled or not visible. The move option should only be visible to space admins.\r\nh3. Expected Results\r\n\r\nDisable move functionality if the user is not space admin.\u00a0\r\n\r\n\u00a0",
      "summary": "Disable move button based on permissions"
    }
  },
  {
    "key": "CONFSERVER-64531",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T20:23:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf you delete a page that is a parent of another page via the rest API, it does not move the child page up the page hierarchy as it does when you do the same thing via the UI. Furthermore, if you delete a parent page via the API, the child page(s) no longer appear in the Orphaned Pages section when you go to Space Tools > Content Tools. This makes it very hard to find the child page(s) since the only way to see them is to search for them or query the database.\r\nh3. Steps to Reproduce\r\n # Create a page with a child page and then create another child page under that page.\r\n # Use a curl command like this to delete the page in the middle of the page hierarchy:\r\n{code:java}\r\ncurl --user <username>:<password> -X DELETE <confluence base url>/rest/api/content/<page id>\u00a0{code}\r\n\r\n # Refresh your browser\r\n\r\nh3. Expected Results\r\n\r\nThe second child page would move up the page hierarchy as it does when you delete the parent via the UI...OR at the very least the child page(s) would show up under the Orphaned Pages section in Space Tools\r\nh3. Actual Results\r\n\r\nThe child page(s) no longer show up in the page tree at all or in the Orphaned Pages section.\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Deleting Parent Pages via the REST API No Longer Adds Child Pages to the Space Orphaned Pages List"
    }
  },
  {
    "key": "CONFSERVER-64530",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T18:13:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Office Powerpoint macro allows us to embed a PPT/PPTX file using a presentation format into a Confluence page.\r\n However, when expanding the macro to fullscreen, we can see images and fonts blurred. Although it's possible to read text, we can't actually see any details in images.\r\nh3. Steps to Reproduce\r\n # Create a test page\r\n # Attach the file\u00a0[^samplepptx.pptx] to the page\r\n # Insert the *Office PowerPoint* macro to the page\r\n # Chose the file samplepptx.pptx to be displayed in the macro\r\n # Save the page\r\n # Expand the Office Powerpoint macro to fullscreen and compare the results with displaying the same document using Office or Keynote. We can definitely see the fonts are slightly blurred\r\n\r\nh3. Expected Results\r\n\r\nGood resolution and definition when seeing the slide in fullscreen\r\n\r\n!image-2021-04-22-15-07-23-637.png|width=432,height=208!\r\nh3. Actual Results\r\n\r\nFonts are slightly blurred, but screenshots are the most affected element\r\n\r\n!image-2021-04-22-15-09-30-396.png|width=439,height=209!\r\n\r\nh3. Workaround\r\n\r\nNo workaround found so far",
      "summary": "Blurry Powerpoint document when expanding to fullscreen with Office Powerpoint macro"
    }
  },
  {
    "key": "CONFSERVER-64529",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T00:39:08.000+0000",
      "created": "2021-04-22T14:34:56.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen adding a Page Property Report macro for pages with more than one page property, if there is pagination, the pagination is being done on top of the number of pages, not the number of results, causing some of the results not to show.\r\nh3. Steps to Reproduce\r\n # Create some pages with more than one page property macro.\r\n # Create a page with a Page Properties Report Macro for previously pages\r\n # Configure the report to paginate\r\n\r\nh3. Expected Results\r\n\r\nIf there are no paginations, the results are correct as below.\r\n\r\n!esaPageReport.png!\r\n With pagination, we expect all the results above to be shown on the pages.\r\n \u00a0\r\nh3. Actual Results\r\n\r\nWhen pages are paginated, it is paginating by the number of pages not results, as shown below, it is paginated with 6 items, which should show 2 pages, but Confluence shows 6 results in one page only:\r\n !config6.png!\r\n\r\n\u00a0\r\n\r\nIf I paginate it to 3, it's showing 2 pages of 3, which is still 6:\r\n\r\n!config3.png!\r\n\r\nIf I paginate it to 5, it's showing 2 pages of 5, showing 10 results and leaving 2 behind:\r\n\r\n!config5.png!\r\n\r\n\u00a0\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Page properties report pagination not working correctly when more than 1 line is returned by each page"
    }
  },
  {
    "key": "CONFSERVER-64528",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T14:22:54.000+0000",
      "description": "h3. Summary\r\n\r\nIn rare occasions for a Managed Synchrony setup, it's possible for a Synchrony node to fail sending a heartbeat in time, causing the node to be evicted from the cluster. This node does not rejoin the cluster until an admin restarts Synchrony (through the Collaborative Editing admin page) on that particular node.\r\nh3. Suggestion\r\n\r\nLet the affected Synchrony node auto-restart to successfully join the cluster as soon as the node is evicted. When that is done, notify the admin of the incident so it can be looked into.",
      "summary": "Synchrony should be able to automatically recover from cluster panics"
    }
  },
  {
    "key": "CONFSERVER-64438",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T07:50:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUsing a custom Jira field\u00a0named \"Component\" on \"Insert Jira Issue/Filter\" macro is mixed up with default field \"Component/s\".\r\nh3. Steps to Reproduce\r\n # Create on Jira a custom field named \"Component\".\r\n # Use on the linked Confluence instance the \"insert Jira Issue/Filter\" macro.\r\n # While editing the macro, under \"Display Options\" select as a column to display the custom field \"Component\" created earlier.\r\n # Save and view the page.\r\n\r\nh3. Expected Results\r\n\r\nThe custom field/column \"Component\" will be displayed by Confluence.\r\nh3. Actual Results\r\n\r\nThe default field/column \"Component/s\" is displayed instead.\r\n\r\nThe storage format displays the correct column:\r\n{code:java}\r\n  <ac:structured-macro ac:macro-id=\"4fb34645-1aad-4c9b-b961-aa28fc5b5d2c\" ac:name=\"jira\" ac:schema-version=\"1\">\r\n    <ac:parameter ac:name=\"server\">Jira</ac:parameter>\r\n    <ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution,customfield_10202</ac:parameter>\r\n    <ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution,Component</ac:parameter>\r\n    <ac:parameter ac:name=\"maximumIssues\">20</ac:parameter>\r\n    <ac:parameter ac:name=\"jqlQuery\">key = bla-10        </ac:parameter>\r\n    <ac:parameter ac:name=\"serverId\">7a483d39-9c18-33e8-a4d1-2c4fd3b3e70b</ac:parameter>\r\n  </ac:structured-macro>{code}\r\n\u00a0But in the actual page, it shows the column \"Component's\" instead:\r\n !Screenshot 2021-04-22 at 09.46.49.png!\r\nh3. Workaround\r\n\r\nNo workaround other than renaming the custom column to something more distinct.",
      "summary": "Custom field \"Component\" on \"Insert Jira Issue/Filter\" macro is mixed up with default column \"Component/s\""
    }
  },
  {
    "key": "CONFSERVER-64399",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-21T00:10:48.000+0000",
      "description": "h3. Problem\r\nLinks in Confluence page grayed out when it's dead. \r\n\r\nh3. Suggested Solution\r\nIt's better to have a popup message telling the user that he is clicking on the dead link.\r\n\r\nh3. Why This Is Important\r\nOn a large page, it is hard to identify the gray link color\r\n\r\nh3. Workaround\r\nCustomize the dead link color via *Customizing Color Schemes*",
      "summary": "Possible to have a popup reminder of the dead links in Confluence"
    }
  },
  {
    "key": "CONFSERVER-64377",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-20T08:13:53.000+0000",
      "description": "h3. Issue Summary\r\nIn a small screen the entire page menu ( clicking the ... in the page ) does not fit on the screen when the menu increases after adding more plugins into Confluence.\r\nh3. Steps to Reproduce\r\n # Open Confluence in any browser in a small screen device may be a small screen laptop \r\n # Install few external plugins to Confluence which can appear in the page menu after clicking the three dots.\r\n# Now try scrolling the page and you will see that the complete page menu does not fit to the screen \r\n# The page fit would get fit once the browser is zoomed out\r\n# Few videos attached\r\n\r\nh3. Expected Results\r\n* The complete page menu should be shown while the page is been scrolled.\r\nh3. Actual Results\r\n* The complete page menu does not show up or fit to the screen while the page is been scrolled.\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Long Page menu does not fit on small screen even while scrolling the page"
    }
  },
  {
    "key": "CONFSERVER-64376",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-20T06:48:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Team Calendar, the all-day event's reminder doesn't consider timezone.\r\nThe X day before reminder mail seems to send in the UTC timezone(Doesn't consider User profile).\r\n\r\n\r\nh3. Steps to Reproduce\r\n\r\n !tc-event-calender.png|thumbnail! \r\n\r\nVersion: TC-7.0.16 \r\n\r\n*Step 1. Configure the mail server*\r\n*Step 2. Schedule the following event*\r\n !tc-event-wholeday-reminder-1daybefore.png|thumbnail!\r\n\r\nStart/End: 4/21(Apr 21, 2021) \r\nEvent: whole day\r\nReminder: 1 day before\r\nCalendar timezone: Asia/Tokyo (+0900) JST\r\nUser profile timezone: Asia/Tokyo (+0900) JST\r\nuser.timezone(System Properties): GMT (2021/04/26 added)\r\n\r\n*Step 3. Receive the reminder mail*\r\n !tc-event-reminder.png|thumbnail! \r\n\r\nh3. Expected Results\r\n\r\n- The reminder mail sent at 4/20 00:00 AM JST(4/19 15:00 PM UTC)\r\n\r\nh3. Actual Results\r\n\r\n- The reminder mail sent at 4/20 09:00 AM JST(4/20 00:00 AM UTC)\r\n-- The reminder should consider the timezone.\r\n-- evidence: see tc-event-reminder.png\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround now.",
      "summary": "In Team Calendar, all-day event's reminder doesn't consider timezone."
    }
  },
  {
    "key": "CONFSERVER-64375",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-20T05:55:19.000+0000",
      "description": "h3. Problem\r\n\r\nWhen the Confluence page has a table in it, Safari is unable to display it in preview or edit mode.\r\nh3. Steps to Reproduce\r\n # Create a test page in any Confluence space\r\n # Copy the below editor format to the page\r\n{code:java}\r\n<p><br /></p>\r\n<table class=\"fixed-table wrapped\">\r\n<thead>\r\n<tr>\r\n<th style=\"text-align: left;\">AAA</th>\r\n<th style=\"text-align: left;\">BBB</th>\r\n<th style=\"text-align: left;\">CCC</th></tr></thead><colgroup> <col style=\"width: 86.0px;\" /> <col style=\"width: 96.0px;\" /> <col style=\"width: 113.0px;\" /> </colgroup>\r\n<tbody>\r\n<tr>\r\n<td style=\"text-align: left;\">xxx</td>\r\n<td style=\"text-align: left;\">ALL</td>\r\n<td style=\"text-align: left;\">asdasd</td></tr>\r\n<tr>\r\n<td colspan=\"1\"><br /></td>\r\n<td colspan=\"1\"><br /></td>\r\n<td colspan=\"1\"><br /></td></tr>\r\n<tr>\r\n<td colspan=\"1\"><br /></td>\r\n<td colspan=\"1\"><br /></td>\r\n<td colspan=\"1\"><br /></td></tr>\r\n<tr>\r\n<td colspan=\"1\"><br /></td>\r\n<td colspan=\"1\"><br /></td>\r\n<td colspan=\"1\"><br /></td></tr>\r\n<tr>\r\n<td colspan=\"1\">xxx</td>\r\n<td colspan=\"1\">yyy</td>\r\n<td colspan=\"1\">zzz</td></tr></tbody></table>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n<p class=\"auto-cursor-target\"><br /></p>\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nTable should be displayed\r\n !Chrome.png|thumbnail!\r\nh3. Actual Results\r\n\r\nThe table is disappeared from the page\r\n !Safari.png|thumbnail!\r\nh3. Workaround\r\n\r\nUsing other supported browsers like Chrome and Firefox. Editing the page in Chrome will add Confluence's CSS classes into the table which also fixes its appearance in Safari.\r\nh3. Note\r\n\r\nObserved server resource load 404 error from Safari JS Console",
      "summary": "Safari is unable to automatically add CSS classes to tables that are missing them"
    }
  },
  {
    "key": "CONFSERVER-64308",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-19T09:10:25.000+0000",
      "description": "h3. Problem\r\n\r\nWhile using Chrome, if a Confluence page has a large page with tables containing 15k words or above, and if multiple languages are added in language pack, along with spell check enabled, right clicking on the document in edit mode creates a delay of upto 5-10 seconds.\r\nh3. Environment\r\n\r\n7.4.5, 7.10.2\r\n\r\nh3. Steps to Reproduce\r\n\r\n1. Create a Confluence page with tables that contain about 15k words. Ensure that there are not many repetitive words.\r\n 2. In Chrome, under language in advanced settings, add around 7-8 languages.\r\n 3. Also enable spell check or enhanced spell check.\r\n 4. Go to the document containing the table, edit it and right click on the page.\r\nh3. Expected Results\r\n\r\nRight click should react immediately/\r\n\r\nh3. Actual Results\r\n\r\nIt takes upto 10 seconds sometimes for the right click to react.\r\nh3. Workaround\r\n\r\nNo workaround at this time.\r\nh3. Notes",
      "summary": "In Chrome if multiple languages & Spell check are enabled, edit takes several seconds"
    }
  },
  {
    "key": "CONFSERVER-64307",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/10470",
        "id": "10470",
        "key": "CONFSERVER",
        "name": "Confluence Server and Data Center",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=10470&avatarId=105390",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=10470&avatarId=105390",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=10470&avatarId=105390",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=10470&avatarId=105390"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-19T08:49:40.000+0000",
      "description": "h3. Problem\r\n\r\nWhen a page containing a calendar is exported to pdf or word, the resultant exported document does not contain the calendar table.\r\nh3. Environment\r\n\r\n7.3.5, 7.4.5, 7.10.2\r\n\r\n.\r\nh3. Steps to Reproduce\r\n # Create a page.\r\n # Include a calendar into the page using the + icon.\r\n # Save page.\r\n # Export page to pdf or word.\r\n\r\nh3. Expected Results\r\n\r\n_The exported pdf or word doc page should contain the calendar table in the same format._\r\nh3. Actual Results\r\n\r\n_The calendar is completely missing in both these documents._\r\nh3. Workaround\r\n\r\n_There is currently not workaround._\r\nh3. Notes",
      "summary": "Exporting page containing calendar to PDF/Word does not work."
    }
  }
]