[
  {
    "key": "BAM-18375",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-05-11T01:35:55.000+0000",
      "description": "h3. Problem Definition\r\nIt is possible that over time, a random captcha may inadvertently generate an inappropriate word or message\r\n\r\nh3. Suggested Solution\r\nInclude a blacklist of words to prevent inappropriate captcha messages",
      "summary": "Prevent inappropriate captchas by blacklisting certain words or word fragments"
    }
  },
  {
    "key": "BAM-18374",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-05-11T01:30:25.000+0000",
      "description": "h3. Problem Definition\r\nAs a user, if I am running a large number of tests it can be difficult to get a good idea of which tests are which in my build results summary\r\n\r\nh3. Suggested Solution\r\nAllow tests to be broken into categories and grouped as such: e.g. by test type with pass/fail/total/ignored by unit, integration, system test level.",
      "summary": "Ability to group tests by type on build results summary"
    }
  },
  {
    "key": "BAM-18373",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:02.000+0000",
      "created": "2017-05-10T16:12:34.000+0000",
      "description": "While deleting a branch Bamboo doesn't delete remote link from JIRA.\r\n\r\nSteps to reproduce:\r\n # Configure bamboo build to delete branch plans 'After branch was deleted from repository'\r\n # Trigger a build of branch plan\r\nAR=ER: Bamboo creates a link in JIRA issue\r\n # Delete this branch from repository, wait for some time\r\nER: Bamboo deletes branch plan and removes link from JIRA\r\nAR: Bamboo deletes branch plan without notifying JIRA. JIRA has dead links. See the screenshot.",
      "summary": "Bamboo doesn't delete links to disabled branches in Jira"
    }
  },
  {
    "key": "BAM-18372",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-05-10T15:39:08.000+0000",
      "description": "h3. Summary\r\nSometimes a customer wants to create a custom notification report, not only including error messages, but also warning messages. \r\n\r\nI checked Bamboo's API (https://docs.atlassian.com/atlassian-bamboo/latest/). There, I searched for the class ExtraBuildResultsData. The only two methods available are:\r\ngetBuildErrors() \r\ngetBuildReturnCode()\r\nI also noticed that the only implementation for that interface (BuildResultsImpl) has been deprecated. So let's go to the actual one: BuildResultsSummary. That class handles all information regarding build results. Long story short: I went through the classes being called here. No methods to retrieve warnings.\r\n\r\nh3. Ideal feature:\r\nHave a method like the one above for warnings (getBuildWarnings()).",
      "summary": "Adding build logs with warnings to bamboo email notification"
    }
  },
  {
    "key": "BAM-18371",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:37.000+0000",
      "created": "2017-05-10T08:36:21.000+0000",
      "description": "h3. Summary\r\nSpecial characters (for example, umlauts) are displayed incorrectly on screen.\r\n\r\n\r\nh3. Environment\r\nAny, where OS language or user preferences uses an alphabet with special characters (example: german) or with encoding definition not \"UTF-8\".\r\n\r\nh3. Steps to Reproduce\r\n# Have your OS configured in the way described before.\r\n# Install and run Bamboo.\r\n\r\nh3. Expected Results\r\nSpecial characters displayed correctly\r\n\r\nh3. Actual Results\r\nA question mark is displayed instead of the special character.\r\n\r\nh3.Workaround\r\nThis is fixed in the file \"setenv.sh\" (or \"setenv.bat\" for Windows users). To do so, open that file located under <bamboo-install-dir>/bin, find the line\r\n{noformat}\r\nJVM_SUPPORT_RECOMMENDED_ARGS=\"\"\r\n{noformat}\r\nand change it to\r\n{noformat}\r\nJVM_SUPPORT_RECOMMENDED_ARGS=\"-Duser.country=EN -Duser.language=en -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8\"\r\n{noformat}\r\nNote that the first two new parameters address the language problem, while the last two, the encoding problem.",
      "summary": "User names containing special characters are incorrectly displayed on screen"
    }
  },
  {
    "key": "BAM-18370",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-05-08T19:54:37.000+0000",
      "description": "Add the possibility to specify who (users and groups) can access determined shared credentials (AWS) in Bamboo.",
      "summary": "Limit access to bamboo shared credentials based on users groups."
    }
  },
  {
    "key": "BAM-18369",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:36.000+0000",
      "created": "2017-05-08T19:46:12.000+0000",
      "description": "h3. Summary\r\nArtifact is not created if Ant pattern matches any dead symbolic link\r\n\r\nh3. Environment\r\nUnix like instances\r\n\r\nh3. Steps to Reproduce\r\n# Create a build plan with the following script task:\r\n{noformat}\r\nmkdir folder\r\ncd folder\r\nln -snf ../file file\r\necho hello > another_file\r\n{noformat}\r\n# Creat an aftifact definition called *Bug* with the ***/** pattern\r\n# Run the build\r\n\r\nh3. Expected Results\r\n# Bamboo will ignore the dead link and add the *another_file* as an artifact *OR*\r\n# Bamboo will add both dead link (if [\\[BAM\\-18157\\] Implement a \"preserve symlink\" option for artifacts \\- Atlassian JIRA|https://jira.atlassian.com/browse/BAM-18157] was implemented) and file as artifacts\r\n\r\nh3. Actual Results\r\nNo artifact is published and the following error happens in the server logs:\r\n{noformat}\r\n2017-05-08 16:33:44,878 INFO [17-BAM::Default Agent::Agent:pool-32-thread-1] [AbstractArtifactManager] Publishing [Bug] for BAM-AL-JOB1-7: 2 file(s) matching [**/*] in directory /Users/dsantos/atlassian/bamboo/6.0.0/home/xml-data/build-dir/BAM-AL-JOB1\r\n2017-05-08 16:33:44,879 INFO [17-BAM::Default Agent::Agent:pool-32-thread-1] [AbstractArtifactManager] Trying to publish the artifact with handler: com.atlassian.bamboo.build.artifact.ServerLocalArtifactHandler\r\n2017-05-08 16:33:44,880 WARN [17-BAM::Default Agent::Agent:pool-32-thread-1] [AbstractArtifactManager] /Users/dsantos/atlassian/bamboo/6.0.0/home/xml-data/build-dir/BAM-AL-JOB1/file\r\njava.nio.file.NoSuchFileException: /Users/dsantos/atlassian/bamboo/6.0.0/home/xml-data/build-dir/BAM-AL-JOB1/file\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n\tat sun.nio.fs.UnixFileAttributeViews$Posix.readAttributes(UnixFileAttributeViews.java:218)\r\n\tat sun.nio.fs.UnixFileAttributeViews$Posix.readAttributes(UnixFileAttributeViews.java:131)\r\n\tat com.atlassian.bamboo.utils.BambooFileAttributes$ExecutablePermissionGetter.visitPosix(BambooFileAttributes.java:159)\r\n\tat com.atlassian.bamboo.utils.BambooFileAttributes$FileAttributeVisitor.accept(BambooFileAttributes.java:42)\r\n\tat com.atlassian.bamboo.utils.BambooFiles.isExecutable(BambooFiles.java:79)\r\n\tat com.atlassian.bamboo.build.artifact.FileTransferTask.execute(FileTransferTask.java:33)\r\n\tat com.atlassian.bamboo.build.artifact.ArtifactHandlingUtils.transferFileSet(ArtifactHandlingUtils.java:89)\r\n\tat com.atlassian.bamboo.build.artifact.ArtifactHandlingUtils.copyFileSet(ArtifactHandlingUtils.java:73)\r\n\tat com.atlassian.bamboo.build.artifact.AbstractLocalArtifactHandler.publish(AbstractLocalArtifactHandler.java:56)\r\n\tat com.atlassian.bamboo.build.artifact.ServerLocalArtifactHandler.publish(ServerLocalArtifactHandler.java:32)\r\n\tat com.atlassian.bamboo.build.artifact.handlers.ArtifactHandlerPackagingDecorator.publish(ArtifactHandlerPackagingDecorator.java:96)\r\n\tat com.atlassian.bamboo.build.artifact.AbstractArtifactManager$1.call(AbstractArtifactManager.java:230)\r\n\tat com.atlassian.bamboo.build.artifact.AbstractArtifactManager$1.call(AbstractArtifactManager.java:223)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils.callUnsafeCode(BambooPluginUtils.java:57)\r\n\tat com.atlassian.bamboo.build.artifact.AbstractArtifactManager.publishFileSet(AbstractArtifactManager.java:222)\r\n\tat com.atlassian.bamboo.build.artifact.AbstractArtifactManager.publish(AbstractArtifactManager.java:119)\r\n\tat com.atlassian.bamboo.build.artifact.BuildArtifactPostProcessor.call(BuildArtifactPostProcessor.java:79)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.performCustomBuildProcess(ExecuteBuildTask.java:158)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:79)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:216)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:136)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:127)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:222)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:126)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:138)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n\r\nh3. Note\r\nTested in 5.14.3.1 and the artifact was published including only the file *another_file*. The dead link was ignored.\r\n \r\nh3.Workaround\r\n# Remove any dead links that may match the artifact definition\r\n# Create a more specific pattern for artifacts so they don't match any dead link\r\n\r\n\r\n",
      "summary": "Artifact is not created if Ant pattern matches any dead symbolic link"
    }
  },
  {
    "key": "BAM-18368",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-05-08T15:06:58.000+0000",
      "description": "h3. Problem Definition\r\nIt is not possible to remove the option -sdk in xcrun command when Xcode task run\r\n\r\nh3. Suggested Solution\r\nAdd a checkbox to remove the -sdk option\r\n\r\nh3. Why this is important\r\nWatchKit integration require this option to be removed\r\n \r\nh3. Workaround \r\nUse Script task instead of Xcode task",
      "summary": "Ability to remove sdk option in Xcode task for WatchKit integration"
    }
  },
  {
    "key": "BAM-18367",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-20T11:09:14.000+0000",
      "created": "2017-05-08T14:11:18.000+0000",
      "description": "h3. Summary\r\nSaving the setting for Upload Symbols/Bitcode in Xcode task iOS development does not work\r\n\r\nh3. Steps to Reproduce\r\n# Add a Xcode task\r\n# Check the boxes \"Upload Symbols\" and \"Upload Bitcode\" under iOS development\r\n# Click on the button Save\r\n\r\nh3. Expected Results\r\nThe settings are saved successfully\r\n\r\nh3. Actual Results\r\nThe settings for Upload Symbols/Bitcode fail to be saved",
      "summary": "Xcode task iOS development Upload Symbols/Bitcode settings fail to be saved"
    }
  },
  {
    "key": "BAM-18366",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-12T13:22:01.000+0000",
      "created": "2017-05-08T13:19:37.000+0000",
      "description": "Since Clover is now open sourced, Bamboo could automatically integrate with other coverage tools, e.g. forks of Clover, like OpenClover or Jacoco. \r\n\r\nConsider exposing module type to write integrations with other tools by plugin vendors ",
      "summary": "Make Bamboo<->Clover integration coverage tool agnostic "
    }
  },
  {
    "key": "BAM-18365",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-20T09:50:46.000+0000",
      "created": "2017-05-05T22:04:08.000+0000",
      "description": "h3. Summary\r\nDisabling a job from the plan branch results does not disable the job for the main plan. When you go to view the main plan and its job, the job shows as enabled. \r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with two jobs\r\n# Create a plan branch.\r\n# Run the plan branch build.\r\n# Bring up the left sidebar 'Stages & Job'. Click on one of the jobs\r\n# Click on 'Actions' and 'Disable Job'\r\n\r\nh3. Expected Results\r\n# The job gets disabled for entire plan\r\n\r\nh3. Actual Results\r\n# The job is still enabled for the main plan.\r\n\r\nh3. Notes\r\nThe job will be disabled for that branch only. Because there's no way to tell if a job is disabled for only a branch in the UI, it appears from a user standpoint that the branch is missing the job entirely when the branch plan is run.\r\n\r\nh3. Workaround\r\nTo enable the job again, you can do the following options.\r\n\r\n*Option 1*\r\n# Go into the plan configuration to see the job that shows as enabled.\r\n# Uncheck the 'Job enabled'\r\n# Save\r\n# Check the 'Job enabled'\r\n# Save\r\n\r\n*Option 2*\r\n# In the plan branch results, go back to the last build that had that job enabled.\r\n# Click on the job.\r\n# Click on 'Actions' and 'Enable'",
      "summary": "Disabling a job from the plan branch results does not disable the job for the main plan"
    }
  },
  {
    "key": "BAM-18364",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-22T09:18:06.000+0000",
      "created": "2017-05-05T20:51:16.000+0000",
      "description": "h3. Summary\r\n\r\nBamboo is slow for non-admin users when they try to perform certain actions such as:\r\n * Log in to the application.\r\n * Access the Bamboo dashboard (allPlans.action).\r\n * View personal dashboard (myBamboo.action).\r\n\r\nh3. Environment\r\n * Bamboo 5.15 or above.\r\n * MySQL server (5.6.x, 5.7.x) or Oracle.\r\n * MySQL JDBC driver version (5.1.39, 5.1.41).\r\n\r\nh3. Steps to Reproduce\r\n # Install Bamboo 5.15.5.\r\n # Download and install the MySQL JDBC driver.\r\n # Connect Bamboo to MySQL server.\r\n # Create ~6.000 plans and ~200 deployments in Bamboo.\r\n # Try navigating around with 2 different users (admin vs non-admin).\r\n\r\nh3. Expected Results\r\n\r\nPages should load in a timely fashion for both users.\r\nh3. Actual Results\r\n{panel:bgColor=#f8f8f8}\r\n * For admin users _(Global Permission)_ the dashboard page loads in {color:#008000}~2{color} seconds.\r\n * For regular users on the other end, the dashboard page took {color:#FF0000}~30{color} seconds to load.{panel}\r\nThe more we add plans, the more time it takes to load the dashboard for regular users because Bamboo has to read users permissions. For admin users Bamboo runs one single validation query.\r\nh3. Notes\r\n{panel:title=Bamboo MySQL vs PostgreSQL vs MSSQL testing|borderStyle=solid|titleBGColor=#f7d6c1|bgColor=#ffffce}\r\n|h3. \u00a0 MySQL * Install Bamboo 5.15.5.\r\n * Connect it to MySQL using the MySQL JDBC driver version *5.1.41*.\r\n * Connect Bamboo to Crowd.\r\n * Create ~6.000 plans and ~200 deployments.\r\n * Try navigating around with 2 different users:\r\n ** Admin user _(Global Permission)_. The dashboard page loads in {color:#008000}~2{color} seconds.\r\n ** Regular user. The dashboard page loads in {color:#FF0000}~30{color} seconds.|h3. \u00a0 PostgreSQL * Install Bamboo 5.15.5.\r\n * Connect it to PostgreSQL using the bundled PostgreSQL driver.\r\n * Connect Bamboo to Crowd.\r\n * Create ~6.000 plans and ~200 deployments.\r\n * Try navigating around with 2 different users:\r\n ** Admin user _(Global Permission)_. The dashboard page loads in {color:#008000}~2{color} seconds.\r\n ** Regular user. The dashboard page loads in {color:#008000}~7{color} seconds.|h3. \u00a0 MSSQL * Install Bamboo 5.15.5.\r\n * Connect it to MSSQL using the bundled MSSQL driver.\r\n * Connect Bamboo to Crowd.\r\n * Create ~6.000 plans\r\n * Try navigating around with 2 different users:\r\n ** Admin user _(Global Permission)_. The dashboard page loads in {color:#008000}~2{color} seconds.\r\n ** Regular user. The dashboard page loads in {color:#FF0000}~15{color} seconds.|\r\n{panel}",
      "summary": "Slowness for non-admin users after upgrading Bamboo to 5.15 or above"
    }
  },
  {
    "key": "BAM-18363",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-31T11:29:30.000+0000",
      "created": "2017-05-05T20:29:57.000+0000",
      "description": "h3. Problem Definition\r\nThere is currently no dropdown selection list for adding Global Permissions at the Group level. The list exists for Users, and _both_ are mentioned in our documentation.\r\n\r\nh3. Suggested Solution\r\nImplement a similar list, using the same dropdown icon as Users, for adding Group permissions. \r\n\r\nh3. Workaround\r\nPlease type the group name to add permissions for",
      "summary": "Dropdown for adding Group permissions"
    }
  },
  {
    "key": "BAM-18362",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-04T09:36:16.000+0000",
      "created": "2017-05-04T09:02:18.000+0000",
      "description": "What should happen instead is that only new branches should be created. The bug only happens if plan is created with branch detection turned off and the Bamboo Specs are used to turn it on.\r\n*Workaround:*\r\nUse UI to enable branch detection for the first time. Subsequent updates from Bamboo Specs work correctly. ",
      "summary": "Bamboo Specs: enabling branch detection through BambooSpecs can result in all the branches being created"
    }
  },
  {
    "key": "BAM-18361",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-05-04T00:57:54.000+0000",
      "description": "h3. Problem Definition\r\nCurrently when a VCS command is timed out due to reaching the configured 'Command Timeout' under Advanced options on the repository, there's no clear message in either the build or application / UI error log (when change detection fails before it gets to build) that this is what happened.\r\n\r\nThis is an example of what appears:\r\n{code}\r\n2017-05-03 22:50:28,337 ERROR [5-DelayedChangeDetectionThread:pool-11-thread-1] [ChainExecutionManagerImpl] Plan 'PROJ-PLAN' could not be started. Exception: com.atlassian.bamboo.executor.CancelException: Command was canceled: command /usr/bin/git fetch .. --update-head-ok failed with code -1. Working directory was [..].\r\ncom.atlassian.bamboo.repository.RepositoryException: com.atlassian.bamboo.executor.CancelException: Command was canceled: command /usr/bin/git fetch s.. --update-head-ok failed with code -1. Working directory was [..].\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesSinceLastBuildInternal(DefaultChangeDetectionManager.java:396)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesSinceRevisions(DefaultChangeDetectionManager.java:313)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesSinceRevisions(DefaultChangeDetectionManager.java:203)\r\n..........\r\nCaused by: com.atlassian.bamboo.executor.CancelException: Command was canceled: command .. --update-head-ok failed with code -1. Working directory was [..].\r\n\tat com.atlassian.bamboo.plugins.git.GitCommandProcessor.runCommand(GitCommandProcessor.java:771)\r\n\tat com.atlassian.bamboo.plugins.git.GitCommandProcessor.runFetchCommand(GitCommandProcessor.java:342)\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper.fetch(NativeGitOperationHelper.java:516)\r\n{code}\r\n\r\nWe also get a similar error code when the git executable can't be found:\r\n* https://confluence.atlassian.com/bamkb/command-was-canceled-command-git-version-failed-with-code-1-859530122.html\r\n\r\nh3. Suggested Solution\r\nLog a clear message to both the build and application log that the command timeout limit of x minutes was reached and the VCS command was aborted.",
      "summary": "Log git command timeout events"
    }
  },
  {
    "key": "BAM-18360",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-16T08:43:26.000+0000",
      "created": "2017-05-03T06:28:29.000+0000",
      "description": "h3. Summary\r\nIt's possible to get to a state where a job cannot be renamed as it does not exist on every plan branch in the plan.\r\n\r\nh3. Steps to Reproduce\r\n# Using a starter license so there is a 10 job limit.\r\n# Configure 2 plans:\r\n#* First plan has 7 jobs\r\n#* Second plan has 2 branches (master and a plan branch) and 1 job which is 2 jobs total when using the branching multiplier.\r\n# Clone the job on the second plan into a new job. You get an error stating the job couldn't be created. However, the job is created on the master plan and fails to create on the plan branch with:\r\n{code}\r\ncom.atlassian.bamboo.build.PlanCreationDeniedException: Could not create plan, plan limit has been reached.  You currently have 10 plans and your license allows only 10 plans.\r\n{code}\r\n# Given some time for caches to refresh, the job you just just cloned will show up. Attempt to rename is and receive another error.\r\n\r\nh3. Expected Results\r\n* Bamboo likely shouldn't allow you to partially clone that job to only some of the branches. If the clone job operation cannot apply to all plan branches, it should fail completely.\r\n* Otherwise, at least the rename should complete even if it the job isn't present on all branches.\r\n\r\nh3. Actual Results\r\n* Bamboo creates the job on a subset of the plan branches until the job limit is reached\r\n* The job cannot be renamed.\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\nCaused by: com.atlassian.bamboo.build.PlanCreationDeniedException: Could not create plan, plan limit has been reached.  You currently have 10 plans and your license allows only 10 plans.\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.savePlan(PlanCreationTemplate.java:320)\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.lambda$createPlan$0(PlanCreationTemplate.java:280)\r\n\tat io.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:293)\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.createPlan(PlanCreationTemplate.java:279)\r\n\t... 299 more\r\n...2017-05-03 16:27:59,162 ERROR [http-nio-8085-exec-21] [FiveOhOh] 500 Exception was thrown.\r\njava.lang.IllegalArgumentException: Job ARTI-POLL-D7 was not found in the branched job for plan branch ARTI-POLL3\r\n\tat com.atlassian.bamboo.plan.PlanHelper.getBranchedJob(PlanHelper.java:293)\r\n\tat com.atlassian.bamboo.plan.branch.JobPropagatingFacade.<init>(JobPropagatingFacade.java:37)\r\n\tat com.atlassian.bamboo.ww2.actions.build.admin.config.ConfigureBuildDetails.create(ConfigureBuildDetails.java:134)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\n{noformat}\r\n\r\nh3.Workaround\r\nTo workaround this, we need to manually delete the branch that didn't get the job in the error message or delete and re-create the job entirely.",
      "summary": "Job was not found in the branched job for plan branch error when renaming a job in Bamboo"
    }
  },
  {
    "key": "BAM-18359",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-07T13:55:28.000+0000",
      "created": "2017-05-02T10:36:55.000+0000",
      "description": "h3. Summary\r\nUnable to change the repository in {{Branch Plan configuration >> Source Repository >> Override the plan's default repository settings}}.\r\n\r\nh3. Environment\r\nBitbucket Server Linked repository\r\n\r\nh3. Steps to Reproduce\r\n# Create a branch plan\r\n# Go to {{Source Repository}} in the branch plan configuration\r\n# Enable _Override the plan's default repository settings_ and change the repository\r\n# Press save\r\n# After saving, change to another repository\r\n# Press save\r\n\r\nh3. Expected Results\r\nRepository changing without any issues.\r\n\r\nh3. Actual Results\r\nThe following error is thrown on the UI in a red banner:\r\n{noformat:borderStyle=dashed}\r\nCould not check if existing access key is valid: java.lang.IllegalArgumentException: Cannot read keypair, it doesn't contain any line with '-----BEGIN'\r\n{noformat}\r\nThe change does not take effect because of this error\r\n\r\nh3. Notes\r\nIn Step 4 and 6, this error banner is also shown but does not affect the functionality:\r\n{noformat:borderStyle=dashed}\r\nCould not contact the Bitbucket Server instance. This repository might not function properly.\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\n# Disable _Override the plan's default repository settings_\r\n# Press save\r\n# Enable _Override the plan's default repository settings_ and select the new repository\r\n# Press save",
      "summary": "Can't change repositories in \"Override the plan's default repository settings\" "
    }
  },
  {
    "key": "BAM-18358",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-22T10:26:45.000+0000",
      "created": "2017-05-02T08:22:42.000+0000",
      "description": "h3. Summary\r\nWhile working with Deployment Projects with large amounts of environments (estimated 1000 or higher), Bamboo will have performance issues (even freeze in worst cases) while opening the page to edit this project.\r\n\r\nh3. Environment\r\n- Any OS\r\n- Issue encountered using MySQL 5.6.31\r\n\r\nh3. Steps to Reproduce\r\n# Create a Deployment project with a very large amount of environments.\r\n# Open the deployment project to edit it.\r\n\r\nh3. Expected Results\r\nFast response.\r\n\r\nh3. Actual Results\r\n- Waiting times of many minutes.\r\n- Unresponsive thread:\r\n{noformat}\r\n20-Apr-2017 03:41:30.019 WARNING [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.valves.StuckThreadDetectionValve.notifyStuckThreadDetected Thread \"http-nio-8085-exec-13\" (id=257) has been active for 69,279 milliseconds (since 4/20/17 3:40 AM) to serve the same request for https://mybamboohost/deploy/config/configureDeploymentProject.action?id=1&environmentId=1&returnUrl=/deploy/viewAllDeploymentProjects.action and may be stuck (configured threshold for this StuckThreadDetectionValve is 60 seconds). There is/are 1 thread(s) in total that are monitored by this Valve and may be stuck.\r\n java.lang.Throwable\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:101)\r\n\tat com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:144)\r\n\tat com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:174)\r\n\tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3008)\r\n\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3469)\r\n\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3459)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3900)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2497)\r\n\tat com.mysql.jdbc.ConnectionImpl.setReadOnlyInternal(ConnectionImpl.java:4924)\r\n\tat com.mysql.jdbc.ConnectionImpl.setReadOnly(ConnectionImpl.java:4917)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyConnection.setReadOnly(NewProxyConnection.java:58)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction(DataSourceUtils.java:155)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:451)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\tat sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy31.getTransaction(Unknown Source)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:427)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:276)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n\tat com.sun.proxy.$Proxy133.getNotificationSet(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.projects.actions.ConfigureDeploymentProject.lambda$getEnvironments$0(ConfigureDeploymentProject.java:104)\r\n\tat com.atlassian.bamboo.deployments.projects.actions.ConfigureDeploymentProject$$Lambda$571/985449986.apply(Unknown Source)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat com.atlassian.bamboo.deployments.projects.actions.ConfigureDeploymentProject.getEnvironments(ConfigureDeploymentProject.java:109)\r\n\tat com.atlassian.bamboo.deployments.projects.actions.ConfigureDeploymentProject.validatePermissions(ConfigureDeploymentProject.java:121)\r\n\tat com.atlassian.bamboo.deployments.projects.actions.ConfigureDeploymentProject.execute(ConfigureDeploymentProject.java:65)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:871)\r\n\tat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1537)\r\n\tat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)\r\n\tat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1613)\r\n\tat ognl.ASTMethod.getValueBody(ASTMethod.java:91)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\tat ognl.Ognl.getValue(Ognl.java:494)\r\n\tat ognl.Ognl.getValue(Ognl.java:458)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:351)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:403)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:349)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:422)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:284)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ConditionalActionInterceptor.intercept(ConditionalActionInterceptor.java:95)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:177)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.validateWorkflow(BambooWorkflowInterceptor.java:54)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.access$000(BambooWorkflowInterceptor.java:16)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor$1.call(BambooWorkflowInterceptor.java:33)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor$1.call(BambooWorkflowInterceptor.java:29)\r\n\tat com.atlassian.bamboo.util.BambooProfilingUtils.withUtilTimerStack(BambooProfilingUtils.java:39)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.doIntercept(BambooWorkflowInterceptor.java:28)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:97)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:260)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.validate(BambooValidationInterceptor.java:50)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.access$000(BambooValidationInterceptor.java:12)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor$1.call(BambooValidationInterceptor.java:29)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor$1.call(BambooValidationInterceptor.java:25)\r\n\tat com.atlassian.bamboo.util.BambooProfilingUtils.withUtilTimerStack(BambooProfilingUtils.java:39)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.doIntercept(BambooValidationInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:97)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.FieldErrorUsageVerifier.intercept(FieldErrorUsageVerifier.java:49)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.JSONValidationInterceptor.doIntercept(JSONValidationInterceptor.java:69)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:82)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooXsrfTokenInterceptor.doIntercept(BambooXsrfTokenInterceptor.java:77)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.xwork.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:244)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:97)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:130)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptor.intercept(WebworkSecurityInterceptor.java:57)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptorProxy.intercept(WebworkSecurityInterceptorProxy.java:31)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.xwork.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.PaginationAwareInterceptor.doIntercept(PaginationAwareInterceptor.java:100)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ConditionalActionInterceptor.intercept(ConditionalActionInterceptor.java:95)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:188)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:558)\r\n\tat org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)\r\n\tat org.apache.struts2.dispatcher.filter.StrutsExecuteFilter.doFilter(StrutsExecuteFilter.java:88)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:79)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.SessionCreationForAnonymousUserFilter.doFilter(SessionCreationForAnonymousUserFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.NewRelicTransactionNamingFilter.doFilter(NewRelicTransactionNamingFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter$1.doFilter(StrutsPrepareFilter.java:91)\r\n\tat org.apache.struts2.dispatcher.filter.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:94)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.handleRequest(StrutsPrepareFilter.java:54)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:42)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.BambooProfilingFilter.doFilter(BambooProfilingFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:91)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\r\n\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter$1.run(SeraphLoginFilter.java:69)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runAs(ImpersonationHelper.java:67)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:75)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\r\n\tat org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\r\n\tat com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:26)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:81)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:242)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:103)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)\r\n\tat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:28)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.BambooCompressingFilter.doFilter(BambooCompressingFilter.java:45)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:48)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.ClickjackingPreventionFilter.doFilter(ClickjackingPreventionFilter.java:31)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:55)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n \r\nh3. Notes\r\n- No hardware limitations recorded. Proper CPU/memory usage.\r\n- Appropiate (100-150) number of max DB connections.\r\n- Heap size values normal (max values tried: 1024 - 4096).\r\n\r\nh3.Workaround\r\n\r\nThese can be used to improve page load time:\r\n* Reduce the amount of deployment environments in the project / cleanup unused ones.\r\n* Reduce the amount of agents your Bamboo instance is tracking (e.g. delete old 'offline agents' that are no longer utilized at {{Bamboo Administration >> Agents}})\r\n* Dedicate an agent to the Deployment Project that's loading slow at {{Bamboo Administration >> Agents >> agent >> Dedicate}}. You can remove the dedication if necessary once you've finished your edits.",
      "summary": "Deployment project editing with large amount of environments suffers performance issues."
    }
  },
  {
    "key": "BAM-18356",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-19T13:16:04.000+0000",
      "created": "2017-05-01T23:05:28.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, test parsers in Bamboo will only count one instance of a test, even if others with the same exist.\r\nAffected Test Parsers include:\r\n* JUnit\r\n* Mocha\r\n* NUnit\r\n\r\nh3. Suggested Solution\r\nAllow multiples of the same test name\r\n\r\nh3. Workaround\r\nManually give each test a unique name, and clone tests that need to be run multiple times",
      "summary": "Don't require unique names for test results"
    }
  },
  {
    "key": "BAM-18354",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-31T12:07:43.000+0000",
      "created": "2017-04-29T15:28:03.000+0000",
      "description": "It's not always the same (e.g. Perforce)",
      "summary": "Vcs repository api change: CommitFile should contain both file revision and commit id."
    }
  },
  {
    "key": "BAM-18353",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-28T14:54:48.000+0000",
      "description": "h3. Summary\r\n* Expiry logic will remove artifact (_row in database_) from deployment version if version/release is not deployed.\r\n\r\nh3. Environment\r\n* Bamboo Global Expiry\r\n** Expire after 3 days\r\n** Minimum builds to keep 5\r\n** Minimum deployments to keep 5\r\n* Bamboo Plan Expiry\r\n** Build results, Build artifacts, Build logs Expire after 35 days\r\n** Exception: Min Builds to keep 20 builds per plan\r\n\r\nh3. Steps to Reproduce\r\n* Run build that publishes a shared artifact\r\n* Create a release of this build\r\n* Run several other builds\r\n* Deploy release after 10 days or more, for instance\r\n\r\nh3. Expected Results\r\n* Artifact download task should be able to download the shared artifact\r\n\r\nh3. Actual Results\r\n* Artifact download task fails, unable to find artifact\r\n{noformat}\r\nsimple\t28-Apr-2017 12:12:57\tPreparing to download plan result PROJ-PLAN-17 artifact: Shared artifact: [Artifact], pattern: [Foo.txt] anchored at: []\r\nerror\t28-Apr-2017 12:12:57\tUnable to download artifact Shared artifact: [Artifact], pattern: [Foo.txt] anchored at: []\r\nsimple\t28-Apr-2017 12:12:57\tTask configuration:\r\nsimple\t28-Apr-2017 12:12:57\tartifactName_0 -> [Artifact]\r\nsimple\t28-Apr-2017 12:12:57\tartifactId_0 -> [75224803]\r\nsimple\t28-Apr-2017 12:12:57\tsourcePlanKey -> [PROJ-PLAN]\r\nsimple\t28-Apr-2017 12:12:57\tlocalPath_0 -> []\r\nsimple\t28-Apr-2017 12:12:57\tTask runtime configuration:\r\nsimple\t28-Apr-2017 12:12:57\tsecurityToken -> [cdb294c307f3b2179c704913183cbf1dabaf1ba8]\r\nsimple\t28-Apr-2017 12:12:57\truntimeArtifactIds_0 -> [0]\r\nsimple\t28-Apr-2017 12:12:57\tartifactName_0 -> [Artifact]\r\nsimple\t28-Apr-2017 12:12:57\tartifactId_0 -> [75224803]\r\nsimple\t28-Apr-2017 12:12:57\tresultKey -> [PROJ-PLAN-17]\r\nsimple\t28-Apr-2017 12:12:57\tartifactLocation_0 -> [subfolder]\r\nsimple\t28-Apr-2017 12:12:57\tlocalPath_0 -> []\r\nsimple\t28-Apr-2017 12:12:57\tartifactPattern_0 -> [Foo.txt]\r\n{noformat}\r\n\r\nh3. Notes\r\n* Build PROJ-PLAN-17 and its artifact are still available from Bamboo's UI\r\n* No record returned when running SQL statement:\r\n{noformat}\r\n-- get deployment/environment consuming artifact\r\nselect DEPLOYMENT_VERSION_ITEM_BA.PLAN_KEY\r\n     , DEPLOYMENT_VERSION.PLAN_BRANCH_NAME\r\n     , DEPLOYMENT_VERSION_ITEM_BA.BUILD_NUMBER\r\n     , DEPLOYMENT_RESULT.AGENT_ID\r\n     , QUEUE.AGENT_TYPE\r\n     , DEPLOYMENT_RESULT.ENVIRONMENT_ID\r\n     , DEPLOYMENT_ENVIRONMENT.NAME\r\n     , DEPLOYMENT_ENVIRONMENT.XML_DEFINITION_DATA\r\n     , DEPLOYMENT_VERSION_ITEM_BA.*\r\n  from DEPLOYMENT_VERSION_ITEM_BA\r\n  join DEPLOYMENT_VERSION_ITEM on DEPLOYMENT_VERSION_ITEM_BA.VERSION_BAM_ARTIFACT_ITEM_ID = DEPLOYMENT_VERSION_ITEM.DEPLOYMENT_VERSION_ITEM_ID\r\n  join DEPLOYMENT_VERSION on DEPLOYMENT_VERSION_ITEM.DEPLOYMENT_VERSION_ID = DEPLOYMENT_VERSION.DEPLOYMENT_VERSION_ID\r\n  join DEP_VERSION_PLANRESULTKEYS on DEPLOYMENT_VERSION.DEPLOYMENT_VERSION_ID = DEP_VERSION_PLANRESULTKEYS.DEPLOYMENT_VERSION_ID\r\n  join DEPLOYMENT_RESULT on DEPLOYMENT_VERSION.DEPLOYMENT_VERSION_ID = DEPLOYMENT_RESULT.VERSION_ID\r\n  join DEPLOYMENT_ENVIRONMENT on DEPLOYMENT_RESULT.ENVIRONMENT_ID = DEPLOYMENT_ENVIRONMENT.ENVIRONMENT_ID\r\n  join QUEUE on DEPLOYMENT_RESULT.AGENT_ID = QUEUE.QUEUE_ID\r\n where DEPLOYMENT_VERSION_ITEM_BA.BUILD_NUMBER = 17\r\n    and DEPLOYMENT_VERSION_ITEM_BA.PLAN_KEY like 'PROJ-PLAN';\r\n{noformat}\r\n\r\nh3. Workaround\r\n# Delete the release exhibiting the issue\r\n# Re-create the release",
      "summary": "Artifact download fails if version/release is not deployed before expiry"
    }
  },
  {
    "key": "BAM-18352",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-13T16:04:49.000+0000",
      "created": "2017-04-28T02:44:51.000+0000",
      "description": "h3. Summary\r\nWhen using {{.scheduleEvery}} for a scheduled trigger in Bamboo specs, the cron expression generated is incorrect.\r\n\r\nh3. Steps to Reproduce\r\n# Export a plan via Bamboo specs with the following scheduled trigger:\r\n{code:java}\r\n                .triggers(\r\n                        new ScheduledTrigger()\r\n                                .description(\"Every 5 minutes\")\r\n                                .scheduleEvery(5, TimeUnit.MINUTES)\r\n                );\r\n{code}\r\n\r\nh3. Expected Results\r\nThe plan triggers every 5 minutes.\r\n\r\nh3. Actual Results\r\nThe plan triggers every second.\r\n \r\nh3. Notes\r\nThe cron expression stored in Bamboo is: {{* 0/5 * ? * *}}\r\n\r\nh3.Workaround\r\nManually define the correct cron expression instead by using:\r\n{code:java}\r\n                .triggers(\r\n                        new ScheduledTrigger()\r\n                                .description(\"Every 5 minutes\")\r\n                                .cronExpression(\"0 0/5 * 1/1 * ? *\")\r\n                 );\r\n{code}",
      "summary": "Cron conversion for scheduled trigger when imported through Bamboo specs is incorrect"
    }
  },
  {
    "key": "BAM-18351",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-14T08:55:21.000+0000",
      "created": "2017-04-27T19:04:28.000+0000",
      "description": "h3. Summary\r\nOn the Export plan to Bamboo Specs page, the \"Learn More\" link goes to an incorrect link\r\n\r\nh3. Steps to Reproduce\r\n# Navigate to {{<bamboo-url/exportSpecs/plan.action?buildKey=PROJ-PLAN}}\r\n# Click the *Learn more* link at the top of the page\r\n\r\nh3. Expected Results\r\nYou are redirected to live documentation on exporting plans to Bamboo Specs:\r\nhttps://confluence.atlassian.com/display/BAMBOO/Exporting+existing+plans+to+Bamboo+Specs\r\n\r\nh3. Actual Results\r\nYou are redirected to an incorrect link:\r\nhttps://confluence.atlassian.com/display/BAMBOO/Exporting+existing+project+to+Bamboo+Specs\r\n \r\n\r\nh3.Workaround\r\nClick this link directly:\r\nhttps://confluence.atlassian.com/display/BAMBOO/Exporting+existing+plans+to+Bamboo+Specs",
      "summary": "Wrong URL for Specs \"Learn More\" link"
    }
  },
  {
    "key": "BAM-18350",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-04T12:59:13.000+0000",
      "created": "2017-04-27T08:03:43.000+0000",
      "description": "h3. Problem Definition\r\nCurrently no metadata related to pull requests is available to the Bamboo build.\r\n\r\nh3. Suggested Solution\r\nImplement pull request related metadata that can be accessed through build variables such as:\r\n* PR id / key\r\n* Source branch of PR\r\n* Target branch of PR",
      "summary": "Provide build variable with pull request metadata"
    }
  },
  {
    "key": "BAM-18348",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-27T05:54:16.000+0000",
      "description": "h3. Problem Definition\r\nBamboo will continuously attempt to run a spot instance even if Amazon responds that spot requests are unsupported for that AMI.\r\n\r\nE.g.\r\n{code}\r\nElastic Bamboo Error : EC2 Instance failed to start: EC2 instance order for image ami-950604f6 failed. \r\n(com.amazonaws.services.ec2.model.AmazonEC2Exception : Unsupported product. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidInput; Request ID: 7a254f86-6325-4103-9485-a848c67b1fd7))\r\n{code}\r\n{code}\r\nElastic Bamboo Error : EC2 Instance failed to start: EC2 instance order for image ami-b13538d2 failed. \r\n(com.amazonaws.services.ec2.model.AmazonEC2Exception : Microsoft SQL Server is not supported for spot instances. (Service: AmazonEC2; Status Code: 400; Error Code: UnsupportedOperation; Request ID: 13264974-c7d3-4a13-ae58-0e80e7f79aae))\r\n{code}\r\n\r\nh3. Suggested Solution\r\nIn the event of an error raising the spot request, it would be good to be able to have it fallback to starting an on-demand instance in the same way it will if the timeout is reached.\r\n",
      "summary": "Bamboo will continuously attempt to run a spot instance even if Amazon reports that spot is unsupported for that AMI"
    }
  },
  {
    "key": "BAM-18347",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-27T12:06:07.000+0000",
      "created": "2017-04-26T20:14:49.000+0000",
      "description": "Currently one can define a WEB Repository connection for Stash, BitBucket, Fisheye. However, there is no way to do so for a GitHub repository. Since JIRA can link commits to GitHub, being unable to link a commit from Bamboo to GitHub is a definite deficiency.",
      "summary": "Provide a way to define a WEB Repository connection to GitHub"
    }
  },
  {
    "key": "BAM-18346",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-12T11:00:26.000+0000",
      "created": "2017-04-24T21:51:05.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, Bamboo password variables are not encrypted in the VARIABLE_CONTEXT and VARIABLE_BASELINE_ITEM tables, even though they are encrypted in VARIABLE_DEFINITION\r\nh3. Suggested Solution\r\n\r\nEncrypt passwords in VARIABLE_CONTEXT and VARIABLE_BASELINE_ITEM tables\r\nh3. Workaround\r\n\r\nCurrently there is no workaround, apart from not using passwords in Bamboo variables",
      "summary": "Encrypt password variables in VARIABLE_CONTEXT and VARIABLE_BASELINE_ITEM tables"
    }
  },
  {
    "key": "BAM-18345",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:48:54.000+0000",
      "created": "2017-04-24T11:42:23.000+0000",
      "description": "When I started bamboo agent the following exception had occurred:\u00a0com.atlassian.bamboo.agent.bootstrap.RemoteAgentHttpException: HTTP status code 301 received in response to Could not retrieve 'classpath.zip'.\r\n\r\nLogs:\r\n\r\nExiting due to fatal exception.\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | com.atlassian.bamboo.agent.bootstrap.RemoteAgentHttpException: HTTP status code 301 received in response to Could not retrieve 'classpath.zip'.\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.ClasspathBuilder.getRemoteResources(ClasspathBuilder.java:128)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.ClasspathBuilder.build(ClasspathBuilder.java:66)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.AgentContext.getClassLoader(AgentContext.java:348)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.AgentContext.initServerSession(AgentContext.java:104)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.AgentContext.run(AgentContext.java:93)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.AgentBootstrap.run(AgentBootstrap.java:95)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at com.atlassian.bamboo.agent.bootstrap.AgentBootstrap.main(AgentBootstrap.java:41)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at java.lang.reflect.Method.invoke(Method.java:497)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)\r\nINFO | jvm 3 | 2017/04/24 13:37:22 | at java.lang.Thread.run(Thread.java:745)",
      "summary": "HTTP status code 301 received in response to Could not retrieve 'classpath.zip'."
    }
  },
  {
    "key": "BAM-18344",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:01.000+0000",
      "created": "2017-04-24T11:22:31.000+0000",
      "description": "If GitHub repository is used for plan it should be possible to choose pull request-aware plan branch strategy",
      "summary": "Allow to create plan branches from GitHub pull requests"
    }
  },
  {
    "key": "BAM-18343",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-24T11:16:28.000+0000",
      "description": "Extracted from BAM-15015\r\nTwo Bamboo Plan Triggers would do it:\r\n\"Stash repository triggers the build when pull-requests are created or updated\"\r\n\"Stash repository triggers the build when changes are commited to branches without an active pull-request\"",
      "summary": "Pull request-aware triggers"
    }
  },
  {
    "key": "BAM-18342",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-21T23:16:20.000+0000",
      "description": "h3. Summary\r\n\r\nUpdates published by the Bamboo Jira Plugin's IssueChangedPublisher send all JIRA issues for a build from Bamboo at once\r\nh3. Steps to Reproduce\r\n # Link JIRA to Bamboo\r\n # Link thousands of JIRA tickets to a Bamboo build\r\n # Run the builds so Bamboo sends details back to the JIRA Development Panel\r\n\r\nh3. Expected Results\r\n\r\nREST call to JIRA succeeds and Developer Panel is updated\r\nh3. Actual Results\r\n\r\nThe call to JIRA fails with the following exception thrown in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n2017-04-21 10:21:58,650 INFO [events.remote.ratelimit.threads:thread-2] [RemoteEventDispatcher] Failed to send events {\"sourceId\":\"<uuid>\",\"sourceUrl\":\"<bamboo-url>\",\"capabilities\":[\"update-devtool-summary-request\",\"atlassian-remote-event\"],\"issueKeys\":[<list-of-issue-keys>]} to <jira-url>/rest/dev-status/1.0/webhooks/update-summary with error java.net.SocketTimeoutException: Read timed out\r\n{noformat}\r\nh3. Workaround\r\n\r\nNo workaround has been found at this time.",
      "summary": "Batch sending fireIssueChangedEventForJiraIssueKeys"
    }
  },
  {
    "key": "BAM-18341",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-24T13:09:14.000+0000",
      "created": "2017-04-21T13:45:38.000+0000",
      "description": "h3. Summary\r\nThe _shallow clone_ preference value is wrongly shown in the UI. The actual value is inverse to the UI. Example: when the checkbox is checked, the actual value is false\r\n\r\nh3. Steps to Reproduce\r\n# Create a Bitbucket Server linked repository\r\n\r\nh3. Expected Results\r\nThe shallow clone option should reflect on the actual value in the database\r\nh3. Actual Results\r\nThe shallow clone option appears enabled by default in the UI but the value is false in the database\r\n ",
      "summary": "New and old values in audit log are reversed when editing Bitbucket Server repository"
    }
  },
  {
    "key": "BAM-18340",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-21T12:13:16.000+0000",
      "created": "2017-04-21T11:02:33.000+0000",
      "description": "h3. Summary\r\nBuild fail to start for SSH Hg repo if merge strategy is enabled\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with SSH Hg repo in Bamboo\r\n# Run the plan (build able to start)\r\n# Create a branch plan\r\n# Run the branch plan (build able to start)\r\n# Enable Merge Strategy \"Branch updater\" or Gatekeeper in the branch plan\r\n# Run the branch plan\r\n\r\nh3. Expected Results\r\nThe branch plan able to start running\r\n\r\nh3. Actual Results\r\nBuild fail to start with the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2017-04-21 19:04:48,296 DEBUG [5-DelayedChangeDetectionThread:pool-11-thread-25] [HgRepository] Running in /Users/klfoong/Desktop/ServiceRocket/bamboo/atlassian-bamboo-5.15.5/home/xml-data/build-dir/_hg-repositories-cache/2ac98d8084a56713a6e00b17295f982dd5ac4304: '/usr/local/bin/hg pull --rev c71f467a43b525e18574e3cbd5f8d8342ab61c0e --config 'ui.ssh=ssh -o StrictHostKeyChecking=no -o BatchMode=yes' ssh://d6247f26-cca5-4a9a-9edd-a8936675c369@127.0.0.1:50211/klfoong/testmercurial'\r\n2017-04-21 19:04:48,392 WARN [5-DelayedChangeDetectionThread:pool-11-thread-25] [ChainExecutionManagerImpl] Merge command error: abort: no suitable response from remote hg!\r\n\r\n2017-04-21 19:04:48,392 WARN [5-DelayedChangeDetectionThread:pool-11-thread-25] [ChainExecutionManagerImpl] Unable to merge BAM-BIT1-14 merge result: MergeResultSummaryImpl{integrationStrategy='BRANCH_UPDATER', mergeState='FAILED', pushState='NOT_ATTEMPTED', failureReason='Merge command error: abort: no suitable response from remote hg!\r\n', integrationBranchVcsKey='c71f467a43b525e18574e3cbd5f8d8342ab61c0e', mergeResultVcsKey='null', integrationRepositoryId=5406728, integrationRepositoryBranchName='default', branchTargetVcsKey='71a8b93d13a0a65e28d1c83bf25a9e629f81c7ec', branchName='test'}\r\n2017-04-21 19:04:48,395 ERROR [5-DelayedChangeDetectionThread:pool-11-thread-25] [ChainExecutionManagerImpl] Failed to merge for plan-result: BAM-BIT1-14. Merge command error: abort: no suitable response from remote hg!\r\n{noformat}\r\n \r\nh3.Workaround\r\nUse \"Username and password\" instead of \"SSH private key\" Authentication type for Mercurial configuration in Bamboo",
      "summary": "Unable to start build for SSH Hg when merge strategy enabled "
    }
  },
  {
    "key": "BAM-18339",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-21T13:00:47.000+0000",
      "created": "2017-04-21T10:58:58.000+0000",
      "description": "lfs fetch fetches master instead of current branch or revision. This can leads to build failures, or files being fetched from wrong revision,",
      "summary": "LFS support doesn't work correctly if 'Fetch whole repository' is set"
    }
  },
  {
    "key": "BAM-18338",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:21:59.000+0000",
      "created": "2017-04-20T22:58:14.000+0000",
      "description": "!image-2017-04-20-15-55-51-538.png!\r\n\r\n\u00a0\r\n\r\nI put a entry in the AGENTS ASSIGNMENT section but you don't see a (1) beside it.\u00a0 I also added a Triggers and you see a (1) there but nothing for Agents Assignment.\u00a0 So when I went to copy the same settings to another system I didn't notice that Agents Assignment had a value.\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "UI inconsistency"
    }
  },
  {
    "key": "BAM-18337",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-21T15:01:39.000+0000",
      "created": "2017-04-20T22:20:34.000+0000",
      "description": "h3. Summary\r\n\r\nWhen using Maven v3.0.5 on CentOS 7, the Maven task spawns thousands of {{mvn}} processes, which eventually use up all of the available RAM and swap space. Notably, this does not occur when running the Maven command with a Script task.\r\n\r\nh3. Environment\r\n * CentOS 7.3\r\n * Apache Maven 3.0.5 (Red Hat 3.0.5-17)\r\n\r\nh3. Expected Results\r\n\r\nMaven successfully builds and tests the executable\r\nh3. Actual Results\r\n\r\nThe build forks and runs out of swap space\r\n The below exception is thrown in CentOS's {{messages}} log\u00a0file:\r\n{noformat}\r\nOut of memory: Kill process <java pid> (java) score 332 or sacrifice child\r\n{noformat}\r\nh3. Workaround\r\nh4. Option 1\r\nUpgrade Maven to 3.5.0 or higher\r\nh4. Option 2\r\nRun the Maven command in a Script task\r\n(i) {{<GOAL>}} is the contents of the *Goal* field in the Maven Task configuration\r\n{noformat} /path/to/mvn --batch-mode <GOAL>{noformat}",
      "summary": "Maven Task OOMs when using Maven v3.0.5 on CentOS 7"
    }
  },
  {
    "key": "BAM-18336",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-20T20:40:48.000+0000",
      "description": "Bamboo currently supports NUnit 3.0 by switching it to NUnit 2 compatibility mode using the following command-line switch (this is done automatically by the application when an NUnit 3.0 executable is selected in the task, the user doesn't need to add anything for this to occur):\r\n{noformat}\r\n;format=nunit2{noformat}\r\n\u00a0\r\nThe actual NUnit 3 format is not supported so, if you're using tools other than Bamboo's NUnit task, the parser won't work.",
      "summary": "Support NUnit 3.0 format (nunit3)"
    }
  },
  {
    "key": "BAM-18335",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:32.000+0000",
      "created": "2017-04-20T18:26:46.000+0000",
      "description": "Today, when a build that was originally triggered as a dependent of another plan will show the parent linkage.\r\n\r\nHowever, when that build is rerun, the actual link on the page goes away and the \"rerun\" message shows up. \u00a0To get the parent linkage, I have to click the metadata tab and then cut-n-paste the key to get it back.\r\n\r\nPlease display the \"rerun\" message, but retain the parent build linkage.",
      "summary": "Retain parent build linkage when a build is rerun"
    }
  },
  {
    "key": "BAM-18333",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-30T04:06:50.000+0000",
      "created": "2017-04-19T21:48:36.000+0000",
      "description": "Similarly to what Bitbucket Server does: https://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-sql-server-776640385.html#ConnectingBitbucketServertoSQLServer-blaUseIntegratedAuthenticationor'WindowsAuthenticationMode'(Optional)\r\n\r\nDocumentation should also describe the setup required for this authentication mode.",
      "summary": "Bamboo should bundle dlls for SQL Server integrated authentication  "
    }
  },
  {
    "key": "BAM-18332",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-18T23:30:46.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, Bamboo allows dependent plan branches to run only under certain conditions:\r\n* When the Parent branch name matches the Child branch name; AND\r\n* When code is committed to the repository\r\n\r\nh4. References\r\n* BAM-10804\r\n* [How to trigger a branch after successful build of another branch with a different name|https://confluence.atlassian.com/bamkb/how-to-trigger-a-branch-after-successful-build-of-another-branch-with-a-different-name-598841224.html]\r\n\r\nh3. Suggested Solution\r\nAllow a Child branch to be triggered as a dependent Plan under the same conditions as the non-branch plans.\r\n\r\nh3. Workaround\r\nThere are workarounds mentioned in the article below, however, depending on your team or company policy they may not all work for you as it requires using the REST API which needs your password in a script:\r\n* [How to trigger a branch after successful build of another branch with a different name|https://confluence.atlassian.com/bamkb/how-to-trigger-a-branch-after-successful-build-of-another-branch-with-a-different-name-598841224.html]",
      "summary": "Allow branch dependency to trigger when code is not committed to the repository"
    }
  },
  {
    "key": "BAM-18331",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:21.000+0000",
      "created": "2017-04-18T20:00:57.000+0000",
      "description": "h3. Problem Definition\r\nThe Bamboo LDAP configuration is performed through a *XML* file and it is very susceptible to user mistakes. Some users have JIRA and may not know they can set the LDAP through JIRA and then make it available to Bamboo.\r\nA user trying to find out how to configure Bamboo LDAP will probably come into this page [Integrating Bamboo with LDAP \\- Atlassian Documentation|https://confluence.atlassian.com/bamboo/integrating-bamboo-with-ldap-289277210.html] and it didn't mention JIRA as a user repository but only Crowd.\r\n\r\nh3. Suggested Solution\r\nMention JIRA as an option for using LDAP at the beginning of this page: [Integrating Bamboo with LDAP \\- Atlassian Documentation|https://confluence.atlassian.com/bamboo/integrating-bamboo-with-ldap-289277210.html]\r\n",
      "summary": "Add link to JIRA user repository configuration in Bamboo LDAP page"
    }
  },
  {
    "key": "BAM-18330",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-17T21:03:40.000+0000",
      "created": "2017-04-17T20:54:03.000+0000",
      "description": "h3. Summary\r\nWhen using a Mercurial repository, commits from a branch *X* are shown in the *default* branch as merged commits when no merge is performed.\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan using a Mercurial repository\r\n# Create branch *X* and commit some data\r\n# Checkout the *default* branch and commit some data\r\n# Run the plan build for the *default* branch\r\n\r\nh3. Expected Results\r\nOnly the commit done for the *default* branch is shown on build results\r\n\r\nh3. Actual Results\r\nBoth commits from *X* and *default* branches are shown.\r\nThe commits from *X* are shown with an icon (\"M\") indicating they were merged on *default* but this is not the case",
      "summary": "Isolation problems when using Mercurial repositories on build plans"
    }
  },
  {
    "key": "BAM-18328",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-18T09:40:10.000+0000",
      "created": "2017-04-14T15:57:43.000+0000",
      "description": "h3. Problem Definition\r\nCurrently there is no way to replace Plan repositories in Bulk. For instances with multiple plans, this would be a big time saver, since the repository needs to be changed, and any Task that uses that repository needs to be re-saved.\r\n\r\nh3. Suggested Solution\r\nImplement a bulk add/update feature for Plan repositories.\r\n\r\nh3. Workaround\r\nThere is no workaround at this time.",
      "summary": "Bulk add/update Plan repositories"
    }
  },
  {
    "key": "BAM-18327",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-22T21:34:06.000+0000",
      "created": "2017-04-14T01:56:01.000+0000",
      "description": "h3. Problem Definition\r\nWhen build tasks, such as Maven or Grails build and test the code, artifacts are published regardless of the outcome of the tests.\r\n\r\nh3. Suggested Solution\r\nAdd a check to fail the build and not publish the artifact if the tests fail",
      "summary": "Don't publish artifacts if tests fail"
    }
  },
  {
    "key": "BAM-18326",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-15T07:57:11.000+0000",
      "created": "2017-04-13T21:48:58.000+0000",
      "description": "h3. Problem Definition\r\nBamboo has a status API ({{<bamboo-base-url>/rest/api/latest/server}}), which returns status and whether a reindex is in progress, but it requires authentication. \r\nOther Atlassian Applications, such as Bitbucket Server, JIRA, and Confluence have {{<application-base-url>/status}}, which returns\r\n{noformat}{\"state\":\"RUNNING\"}{noformat}\r\nh3. Suggested Solution\r\nAdd a new endpoint, available outside of authentication. This one does not need to return the {{reindexInProgress}} parameter.",
      "summary": "Add Server Status REST endpoint available by anonymous user"
    }
  },
  {
    "key": "BAM-18325",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-02T11:07:26.000+0000",
      "created": "2017-04-13T21:43:10.000+0000",
      "description": "h3. Problem Definition\r\nFor configurable variables, there is no way to know the purpose or valid formats of a given variable.\r\n\r\nh3. Suggested Solution\r\nAdd a field for help text/tool tips for Variables\r\n\r\nh3. Workarounds\r\nUnfortunately, there is no workaround at this time.",
      "summary": "Help text for variables"
    }
  },
  {
    "key": "BAM-18324",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-13T21:32:41.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, all variables can be overwritten, but some administrators may want certain variables to be \"locked\" to non-Admin users.\r\n\r\nh3. Suggested Solution\r\nAdd a field for help text/tool tips for Variables\r\n\r\nh3. Workarounds\r\nUnfortunately, there is no workaround at this time.",
      "summary": "Locked Global and Plan Variables"
    }
  },
  {
    "key": "BAM-18323",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-13T20:25:50.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, the console does not show parsed test counts\r\n\r\nh3. Suggested Solution\r\nAdd a debug logger to NUnitXmlTestResultsParser to output the number of passed, failed, and skipped tests\r\n \r\nh3. Workaround\r\nThere is currently no workaround for this. However the Bamboo UI can also show this information on the Tests tab of the Job result.",
      "summary": "Add debug output to NUnit Parser task to show test counts"
    }
  },
  {
    "key": "BAM-18322",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:06.000+0000",
      "created": "2017-04-13T11:48:04.000+0000",
      "description": "Long repository name should be wrapped at Build summary page. See atlassian/bamboo_buildstamper repository link in screenshot",
      "summary": "Wrong wrapping of long repository name at build summary"
    }
  },
  {
    "key": "BAM-18320",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-12T15:42:21.000+0000",
      "description": "h3. Problem Definition\r\nOnly Bamboo admins can view audit logs. Some companies have audit departments that need access to those logs (and nothing else).\r\n\r\nh3. Suggested Solution\r\nCreate a new group for auditors, with special access to audit logs only. Basically, a new type of \"Restricted access\"",
      "summary": "Add new group with special permission for auditors"
    }
  },
  {
    "key": "BAM-18319",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-09T14:26:38.000+0000",
      "created": "2017-04-12T13:56:39.000+0000",
      "description": "h3. Summary\r\nSSH/SCP task fail to connect to SSH server that only have aes256-ctr, aes192-ctr ciphers\r\n\r\nh3. Steps to Reproduce\r\n# Edit the file {{/etc/ssh/sshd_config}} in the SSH server to add the following lines:\r\n{noformat}\r\nCiphers aes256-ctr,aes192-ctr\r\n{noformat}\r\n# Restart the SSH service, e.g. \"/etc/init.d/ssh restart\"\r\n# Configure Bamboo SSH task to connect to the SSH server\r\n\r\nh3. Expected Results\r\nAble to connect to the SSH server successfully\r\n\r\nh3. Actual Results\r\nSSH task fail to connect to the SSH server with the following error in the build log:\r\n{noformat}\r\n11-Apr-2017 05:56:56 Failed to connect to host\r\n11-Apr-2017 05:56:56 net.schmizz.sshj.transport.TransportException: Unable to reach a settlement: [aes128-ctr, aes128-cbc, 3des-cbc, blowfish-cbc, cast128-cbc, cast128-ctr, idea-cbc, idea-ctr, serpent128-cbc, serpent128-ctr, 3des-ctr, twofish128-cbc, twofish128-ctr, arcfour, arcfour128] and [aes256-ctr, aes192-ctr]\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.Proposal.firstMatch(Proposal.java:145)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.Proposal.negotiate(Proposal.java:127)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.KeyExchanger.gotKexInit(KeyExchanger.java:227)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.KeyExchanger.handle(KeyExchanger.java:359)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.TransportImpl.handle(TransportImpl.java:493)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.Decoder.decode(Decoder.java:107)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.Decoder.received(Decoder.java:175)\r\n11-Apr-2017 05:56:56 at net.schmizz.sshj.transport.Reader.run(Reader.java:60)\r\n{noformat}\r\n \r\nh3. Notes\r\nhttps://github.com/hierynomus/sshj used by Bamboo should be able to work with aes256-ctr, aes192-ctr ciphers\r\n\r\nh3.Workaround\r\nConfigure the SSH server to use other ciphers like \"aes128-ctr\"",
      "summary": "SSH task does not work with aes256-ctr, aes192-ctr ciphers"
    }
  },
  {
    "key": "BAM-18318",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-26T09:17:49.000+0000",
      "created": "2017-04-12T09:18:56.000+0000",
      "description": null,
      "summary": "java.io.NotSerializableException: com.atlassian.bamboo.plan.PlanKeyUserType\" errors in Bamboo logs"
    }
  },
  {
    "key": "BAM-18317",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-19T11:06:13.000+0000",
      "created": "2017-04-12T08:17:05.000+0000",
      "description": "h3. Summary\r\nWhen upgrading Bamboo from 5.9.3 to 5.15.3 and using Subversion, all existing branches are duplicated, old branches created again, and everything (new from Bamboo's perpective) is built.\r\n\r\nh3. Environment\r\nAny OS, svn 1.9.3\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.9.3 and svn. \r\n# Create a repository with branches\r\n# Configure Bamboo to \"Create plan branches for all new branches\".\r\n# Stop Bamboo and upgrade to 5.15.3\r\n\r\nh3. Expected Results\r\n- New branches to be created (in my screenshots, \"branch4\" was created in svn and the plan branch was created when Bamboo 5.15.3 started)\r\n- Existing branches to be ignored.\r\n\r\nh3. Actual Results\r\n- All branches (old and new) were created.\r\n- None was disabled.\r\n\r\nh3. Notes\r\n- No error logs found. \r\n\r\nh3.Workaround\r\nManually fixing the configuration.",
      "summary": "When upgrading from 5.9.3 to 5.15.3, all svn branches are created again."
    }
  },
  {
    "key": "BAM-18316",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-07T10:37:38.000+0000",
      "created": "2017-04-11T14:10:52.000+0000",
      "description": "h3. HTR\r\n\r\n# Create a plan\r\n# Grant a user _A_ an _Admin_ permission to that plan\r\n\r\nh3. Expected result\r\n\r\nUser _A_ is able to make modifications to that plan given he's an admin of that plan\r\n\r\nh3. Actual result\r\n\r\nEdit links for user _A_ are hidden, user doesn't have permissions to actually change the plan.\r\n\r\nh3. Workaround\r\n\r\n# Add explicit _EDIT_ permission for user _A_ to the plan\r\n# It's possible to enter Permissions URL manually in the browser and access the plan permissions page for a user who doesn't have EDIT but have ADMIN permissions. He can grant explicit _EDIT_ access for him self.  ",
      "summary": "User with Plan Admin permission (without explicit Edit) can't edit plan "
    }
  },
  {
    "key": "BAM-18310",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:52.000+0000",
      "created": "2017-04-10T16:37:53.000+0000",
      "description": "h3. Problem Definition\r\nWhen Build agents run out of disk space, builds will fail, but Bamboo users are not notified of low space in any way.\r\n\r\nh3. Suggested Solution\r\nAdd some capabilities to report low disk space with an email alert to admins, and potentially stop agents from pulling jobs until the condition is resolved.\r\n\r\nh3. Workaround\r\nThere is currently no workaround for this.",
      "summary": "Notify administrators when disk space runs low on Build Agents"
    }
  },
  {
    "key": "BAM-18309",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-09T13:30:52.000+0000",
      "created": "2017-04-10T03:39:17.000+0000",
      "description": "h3. Summary\r\nAfter upgrading Bamboo, re-run build or continuing a build that was pending a manual stage that existed before the upgrade will fail with an Unknown RepositoryDefinition error. \r\n\r\nh3. Steps to Reproduce\r\n# Using an older version of Bamboo, E.g. 5.7.2\r\n# Create a plan and link it to a repository (reproduced with a linked Bitbucket repository)\r\n# Build definition:\r\n#* Stage 1: Source-code checkout\r\n#* Stage 2 (Manual Stage): Source-code checkout\r\n# Run the plan\r\n# Continue / run the manual stage so it completes successfully\r\n# Run the plan again: New build, don't run the manual stage\r\n# Should now have a successful build result and a second build result pending manual stage completion\r\n# Shutdown Bamboo\r\n# Upgrade Bamboo to 5.14+\r\n# Attempt to re-run the first successful pre-upgrade build result\r\n# Attempt to continue the manual stage from the second pre-upgrade build result\r\n\r\n\r\nh3. Expected Results\r\n* Build re-runs and completes successfully.\r\n* Manual stage runs and build is completed.\r\n\r\n\r\nh3. Actual Results\r\n* Build will not complete.\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file and shown in the UI:\r\n{noformat}\r\njava.lang.IllegalArgumentException: Unknown RepositoryDefinition 917505\r\n\tat com.atlassian.bamboo.v2.build.BuildChangesImpl.getBuildRepositoryChanges(BuildChangesImpl.java:214)\r\n\tat com.atlassian.bamboo.v2.build.BuildChangesImpl.setPreviousVcsRevisionKey(BuildChangesImpl.java:87)\r\n\tat com.atlassian.bamboo.plan.vcsRevision.PlanVcsRevisionHistoryManagerImpl.markBuildStartedNewTx(PlanVcsRevisionHistoryManagerImpl.java:60)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n\tat com.sun.proxy.$Proxy180.markBuildStartedNewTx(Unknown Source)\r\n\tat com.atlassian.bamboo.plan.vcsRevision.PlanVcsRevisionHistoryServiceImpl.lambda$markBuildStarted$1(PlanVcsRevisionHistoryServiceImpl.java:35)\r\n\tat io.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:302)\r\n\tat com.atlassian.bamboo.plan.vcsRevision.PlanVcsRevisionHistoryServiceImpl.markBuildStarted(PlanVcsRevisionHistoryServiceImpl.java:34)\r\n\tat com.atlassian.bamboo.chains.ChainExecutionManagerImpl.tryStartChainState(ChainExecutionManagerImpl.java:362)\r\n\tat com.atlassian.bamboo.chains.ChainExecutionManagerImpl.delayedStart(ChainExecutionManagerImpl.java:235)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n\tat com.sun.proxy.$Proxy151.delayedStart(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy151.delayedStart(Unknown Source)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionManagerImpl$1$1$1.lambda$call$0(PlanExecutionManagerImpl.java:413)\r\n\tat com.atlassian.bamboo.util.CacheAwareness$3.call(CacheAwareness.java:159)\r\n\tat com.atlassian.bamboo.util.CacheAwareness$3.call(CacheAwareness.java:155)\r\n\tat com.atlassian.bamboo.util.CacheAwareness.withValuesOlderThanTimestampReloaded(CacheAwareness.java:188)\r\n\tat com.atlassian.bamboo.util.CacheAwareness.withValuesOlderThanTimestampReloaded(CacheAwareness.java:154)\r\n\tat com.atlassian.bamboo.util.CacheAwareness.withValuesOlderThanTimestampReloaded(CacheAwareness.java:219)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionManagerImpl$1$1$1.call(PlanExecutionManagerImpl.java:412)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionManagerImpl$1$1$1.call(PlanExecutionManagerImpl.java:403)\r\n\tat io.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:293)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionLockServiceImpl.lock(PlanExecutionLockServiceImpl.java:85)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionManagerImpl.doWithProcessLock(PlanExecutionManagerImpl.java:783)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionManagerImpl.access$400(PlanExecutionManagerImpl.java:130)\r\n\tat com.atlassian.bamboo.plan.PlanExecutionManagerImpl$1$1.run(PlanExecutionManagerImpl.java:397)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n\r\nh3. Notes\r\n* New builds complete successfully.\r\n\r\nh3.Workaround\r\nInstead of rerunning a build customer can run custom build with the same vcs revision as the original one.",
      "summary": "Unknown RepositoryDefinition error when re-running past builds or continuing a build that is pending a manual stage which existed pre-upgrade in Bamboo"
    }
  },
  {
    "key": "BAM-18307",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-07T16:16:02.000+0000",
      "description": "h3. Problem Definition\r\nWhen builds fail with \"Not enough disk space\" or similar errors, file handles are not released.\r\n \r\nh3. Suggested Solution\r\nIf possible, clean up file handles programatically.\r\n \r\nh3. Workaround\r\nManually clean up the files help by the handles and kill the Java process.",
      "summary": "Clean up file handles after \"not enough disk space\" and similar errors"
    }
  },
  {
    "key": "BAM-18306",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-07T12:48:14.000+0000",
      "description": "h3. Summary\r\n* Non-administrators are able to override global expiry, causing performance and storage issues\r\n\r\nh3. Environment\r\n* Bamboo version 5.15.5\r\n\r\nh3. Steps to Reproduce\r\n# create a group (_i.e bamboo-users_)\r\n# create a user (_i.e userA_) and associate with group\r\n# grant *edit* permission to user over a plan\r\n\r\nh3. Expected Results\r\n* *userA* should not be able to override Global configuration\r\n\r\nh3. Actual Results\r\n* *userA* is able to edit global configuration",
      "summary": "Prevent non-admin users from overriding Global Expiry"
    }
  },
  {
    "key": "BAM-18305",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-06T20:41:58.000+0000",
      "description": "h3. Summary\r\n\r\nIt looks like some scheduled builds will randomly be droped with the message:\r\n{noformat}\r\n2017-03-22 01:02:02,668 INFO [10-BAM::PlanExec:pool-17-thread-3] [ExecutionLimitsServiceImpl] : PLAN-KEY cannot be run because the system is PAUSING\r\n{noformat}\r\nh3. Steps to Reproduce\r\n # Configure multiple scheduled builds to run during the time a scheduled backup is running\r\n # Wait for the builds to happen after the backup is finished\r\n\r\nh3. Expected Results\r\n\r\nBamboo will run the scheduled builds after the backup is finished\r\nh3. Actual Results\r\n\r\nBamboo will sometimes try running buids when the server is still PAUSED and it will just avoid running those\r\n\r\nSome log examples of this problem:\r\n{noformat}\r\n2017-03-21 01:06:39,027 INFO [scheduler_Worker-10] [XmlMigrator] Export completed. 01:06:39.021\r\n2017-03-21 01:06:39,041 INFO [scheduler_Worker-6] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-FTTHC\r\n2017-03-21 01:06:39,041 INFO [scheduler_Worker-8] [QuartzTriggerJob] Running quartz strategy job for CHAIN:TLR-FAT\r\n2017-03-21 01:06:39,041 INFO [scheduler_Worker-10] [ServerLifecycleManagerImpl] Server state changed to 'RUNNING' from 'PAUSING'\r\n2017-03-21 01:06:39,042 INFO [scheduler_Worker-3] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-UFTD\r\n2017-03-21 01:06:39,042 INFO [scheduler_Worker-2] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-PIT\r\n2017-03-21 01:06:39,044 INFO [10-BAM::PlanExec:pool-17-thread-3] [ScheduledBuildDetectionAction] Detecting changes for TLR-FAT...\r\n2017-03-21 01:06:39,045 INFO [10-BAM::PlanExec:pool-17-thread-1] [ScheduledBuildDetectionAction] Detecting changes for EDC-UFTD...\r\n2017-03-21 01:06:39,046 INFO [10-BAM::PlanExec:pool-17-thread-4] [ScheduledBuildDetectionAction] Detecting changes for EDC-FTTHC...\r\n2017-03-21 01:06:39,046 INFO [10-BAM::PlanExec:pool-17-thread-2] [ScheduledBuildDetectionAction] Detecting changes for EDC-PIT...\r\n2017-03-21 01:06:39,051 INFO [10-BAM::PlanExec:pool-17-thread-2] [ScheduledBuildDetectionAction] : Schedule build EDC-PIT-1690 triggered\r\n2017-03-21 01:06:39,052 INFO [10-BAM::PlanExec:pool-17-thread-1] [ScheduledBuildDetectionAction] : Schedule build EDC-UFTD-475 triggered\r\n2017-03-21 01:06:39,053 INFO [10-BAM::PlanExec:pool-17-thread-3] [ScheduledBuildDetectionAction] : Schedule build TLR-FAT-402 triggered\r\n2017-03-21 01:06:39,066 INFO [10-BAM::PlanExec:pool-17-thread-4] [ScheduledBuildDetectionAction] : Schedule build EDC-FTTHC-413 triggered\r\n--\r\n--\r\n2017-03-22 01:02:02,650 INFO [scheduler_Worker-7] [XmlMigrator] Export completed. 01:02:02.644\r\n2017-03-22 01:02:02,668 INFO [scheduler_Worker-1] [QuartzTriggerJob] Running quartz strategy job for CHAIN:TLR-FAT\r\n2017-03-22 01:02:02,668 INFO [scheduler_Worker-9] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-PIT\r\n2017-03-22 01:02:02,668 INFO [scheduler_Worker-5] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-UFTD\r\n2017-03-22 01:02:02,668 INFO [scheduler_Worker-3] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-FTTHC\r\n2017-03-22 01:02:02,668 INFO [10-BAM::PlanExec:pool-17-thread-3] [ExecutionLimitsServiceImpl] : TLR-FAT cannot be run because the system is PAUSING\r\n2017-03-22 01:02:02,669 INFO [10-BAM::PlanExec:pool-17-thread-3] [ExecutionLimitsServiceImpl] : EDC-PIT cannot be run because the system is PAUSING\r\n2017-03-22 01:02:02,669 INFO [10-BAM::PlanExec:pool-17-thread-3] [ExecutionLimitsServiceImpl] : EDC-UFTD cannot be run because the system is PAUSING\r\n2017-03-22 01:02:02,669 INFO [10-BAM::PlanExec:pool-17-thread-3] [ExecutionLimitsServiceImpl] : EDC-FTTHC cannot be run because the system is PAUSING\r\n2017-03-22 01:02:02,669 INFO [10-BAM::PlanExec:pool-17-thread-4] [ExecutionLimitsServiceImpl] : ZZZ-BD48 cannot be run because the system is PAUSING\r\n2017-03-22 01:02:02,670 INFO [10-BAM::PlanExec:pool-17-thread-2] [ExecutionLimitsServiceImpl] : TLR-TCA1 cannot be run because the system is PAUSING\r\n2017-03-22 01:02:02,671 INFO [scheduler_Worker-7] [ServerLifecycleManagerImpl] Server state changed to 'RUNNING' from 'PAUSING'\r\n--\r\n--\r\n2017-03-23 01:02:10,415 INFO [scheduler_Worker-6] [XmlMigrator] Export completed. 01:02:10.411\r\n2017-03-23 01:02:10,427 INFO [scheduler_Worker-5] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-FTTHC\r\n2017-03-23 01:02:10,428 INFO [scheduler_Worker-4] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-UFTD\r\n2017-03-23 01:02:10,428 INFO [scheduler_Worker-8] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-PIT\r\n2017-03-23 01:02:10,428 INFO [scheduler_Worker-10] [QuartzTriggerJob] Running quartz strategy job for CHAIN:EDC-UPT\r\n2017-03-23 01:02:10,428 INFO [10-BAM::PlanExec:pool-17-thread-4] [ExecutionLimitsServiceImpl] : ZZZ-BD48 cannot be run because the system is PAUSING\r\n2017-03-23 01:02:10,428 INFO [scheduler_Worker-9] [QuartzTriggerJob] Running quartz strategy job for CHAIN:TLR-FAT\r\n2017-03-23 01:02:10,430 INFO [scheduler_Worker-6] [ServerLifecycleManagerImpl] Server state changed to 'RUNNING' from 'PAUSING'\r\n2017-03-23 01:02:10,432 INFO [10-BAM::PlanExec:pool-17-thread-4] [ScheduledBuildDetectionAction] Detecting changes for EDC-FTTHC...\r\n2017-03-23 01:02:10,434 INFO [10-BAM::PlanExec:pool-17-thread-1] [ScheduledBuildDetectionAction] Detecting changes for EDC-PIT...\r\n2017-03-23 01:02:10,434 INFO [10-BAM::PlanExec:pool-17-thread-3] [ScheduledBuildDetectionAction] Detecting changes for EDC-UPT...\r\n2017-03-23 01:02:10,437 INFO [10-BAM::PlanExec:pool-17-thread-2] [ScheduledBuildDetectionAction] Detecting changes for EDC-UFTD...\r\n2017-03-23 01:02:10,438 INFO [10-BAM::PlanExec:pool-17-thread-4] [ScheduledBuildDetectionAction] : Schedule build EDC-FTTHC-434 triggered\r\n2017-03-23 01:02:10,439 INFO [10-BAM::PlanExec:pool-17-thread-3] [ScheduledBuildDetectionAction] : Schedule build EDC-UPT-2988 triggered\r\n2017-03-23 01:02:10,442 INFO [10-BAM::PlanExec:pool-17-thread-1] [ScheduledBuildDetectionAction] : Schedule build EDC-PIT-1693 triggered\r\n2017-03-23 01:02:10,445 INFO [10-BAM::PlanExec:pool-17-thread-2] [ScheduledBuildDetectionAction] : Schedule build EDC-UFTD-476 triggered\r\n{noformat}\r\nIn this case, the plan TLR-FAT was configured to run at 00:05 AM. Backup starts at 00:00 AM so usually the plan is built after 1 AM when the export is finished, but sometimes it is dropped and not run.\r\nh3. Workaround\r\n\r\nOption 1 - Configure an external backup tool and avoid using the scheduled backup\r\n Option 2 - Do not configure builds to run when the server is running the scheduled backup",
      "summary": "Investigate possible race condition when starting scheduled builds after scheduled backup"
    }
  },
  {
    "key": "BAM-18304",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-06T20:04:25.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, a new plan branch is created when a branch is created in the whole repo even if the Bamboo plan is configured to use a different branch as the main repo.\r\n\r\nh3. Suggested Solution\r\nProvide option so plan branches will only be created on the child branch.\r\n \r\nh3. Workaround \r\nSet a standard naming convention and use a regular expression to match against that name for automatic branch management.",
      "summary": "Provide option for automatic branch creation to only occur for the child branches of the configured branch repository"
    }
  },
  {
    "key": "BAM-18303",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-06T15:53:26.000+0000",
      "description": "h3. Problem Definition\r\nIncoming triggers cannot be be configured to another connector. \r\n\r\nh3. Suggested Solution\r\nProvide option to configured triggers to come in with through another connector. \r\n",
      "summary": "As an administrator, I'd like to configure another connector and have the triggers communicate on that connector."
    }
  },
  {
    "key": "BAM-18302",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-06T13:27:39.000+0000",
      "created": "2017-04-06T13:10:33.000+0000",
      "description": "h3. Summary\r\n\r\nh3. Environment\r\n* Bamboo v5.15.5\r\n* Internet Explorer 11\r\n\r\nh3. Steps to Reproduce\r\n# create a new Project\r\n# create a new Plan \r\n# add a task (_i.e. Script_)\r\n# hit Save\r\n\r\nh3. Expected Results\r\n* Task should be save to the plan\r\n\r\nh3. Actual Results\r\n* Error gets thrown in IE 11 Console and task does not get saved\r\n !bamboo5155.save.task.png|thumbnail! ",
      "summary": "Cannot save tasks in IE 11"
    }
  },
  {
    "key": "BAM-18300",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-17T13:57:19.000+0000",
      "created": "2017-04-05T21:14:36.000+0000",
      "description": "h3. Problem\r\n\r\nIn Bamboo, we handle plan branches internally by keeping copies of stages and jobs for each branch. Occasionally the synchronization fails and we run into intermittent issues similar to BAM-12217 and customers have to apply the listed _resolution_ in [Cannot access Plan Configuration - Retrieving PROJ-PLAN threw java.lang.NullPointerException, aborting|https://confluence.atlassian.com/display/BAMKB/Cannot+access+Plan+Configuration+-+Retrieving+PROJ-PLAN+threw+java.lang.NullPointerException%2C+aborting]. \r\n\r\nh3. Improvement\r\n\r\nAddress the synchronization issue in Bamboo between plan branches and plan branch copies we keep internally. ",
      "summary": "Better synchronization of plan branches"
    }
  },
  {
    "key": "BAM-18298",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-20T09:48:00.000+0000",
      "created": "2017-04-05T09:58:38.000+0000",
      "description": "h3. Summary\r\nAfter upgrading Bamboo from 5.14.0.2 to 5.15.5, bidding prices for Spot instances are not shown on screen, although they are still stored.\r\nh3. Environment\r\nBamboo Server with EC2 configured\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.14.0.2.\r\n# Create an EC2 Configuration.\r\n# Enable Spot Instances and make a bid.\r\n# Stop Bamboo.\r\n# Upgrade to 5.15.5.\r\n# Start Bamboo and open the Spot Instances page.\r\n\r\nh3. Expected Results\r\nBidding prices shown, just as before.\r\nh3. Actual Results\r\nPrices not shown. Refer to screenshots for more info\r\nThe following can be seen in the logs:\r\n{noformat}\r\n2017-07-03 05:55:55,923 INFO [http-nio-8085-exec-15] [AccessLogFilter] juan GET http://X.X.X.X:8085/admin/elastic/viewSpotInstancesConfig.action 388866kb\r\n2017-07-03 05:55:56,483 ERROR [http-nio-8085-exec-15] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nFor \"...(...)\" callee: Expected a method, but this has evaluated to an extended_hash+string (com.atlassian.aws.ec2.SpotPrices$Price wrapped into f.e.b.StringModel):\r\n==> priceRange.left  [in template \"admin/elastic/commonElasticFunctions.ftl\" at line 364, column 46]\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n        - Failed at: ${priceRange.left().timestamp?datetim...  [in template \"admin/elastic/commonElasticFunctions.ftl\" in macro \"displaySpotPrices\" at line 364, column 44]\r\n        - Reached through: @ww.param  [in template \"admin/elastic/commonElasticFunctions.ftl\" in macro \"displaySpotPrices\" at line 364, column 33]\r\n        - Reached through: @s.text name=\"elastic.configure.spot...  [in template \"admin/elastic/commonElasticFunctions.ftl\" in macro \"displaySpotPrices\" at line 363, column 29]\r\n        - Reached through: @ela.displaySpotPrices editMode=false...  [in template \"admin/elastic/viewConfigureSpotInstances.ftl\" at line 34, column 17]\r\n        ~ Reached through: #nested  [in template \"freemarker-lib/ui.ftl\" in macro \"bambooInfoDisplay\" at line 47, column 5]\r\n        ~ Reached through: @ui.bambooInfoDisplay id=\"bidTableInf...  [in template \"admin/elastic/viewConfigureSpotInstances.ftl\" at line 33, column 13]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core.NonMethodException: [... Exception message was already printed; see it above ...]\r\n        at freemarker.core.MethodCall._eval(MethodCall.java:97)\r\n        at freemarker.core.Expression.eval(Expression.java:81)\r\n        at freemarker.core.Dot._eval(Dot.java:41)\r\n{noformat}\r\n\r\n\u00a0\r\nh3. Notes\r\nDoing a rollback to 5.14.0.2 will show the prices again, which proves that that info is not lost, just not shown.\r\n\r\nh3.Workaround\r\nRollbacking, if that's actually possible.",
      "summary": "bidding values for Spot instances not shown after Bamboo upgrade"
    }
  },
  {
    "key": "BAM-18297",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-04T12:55:44.000+0000",
      "description": "Within Bamboo - as a System Administrator I would like to have the ability to assign, view and manage capabilities assigned to the Restricted Administrator role.\r\n\r\nThis is to allow the capabilities of the Restricted Administrator role\u00a0to be refined as needed to meet workflow, process and business needs.\r\n\r\n\u00a0",
      "summary": "Bamboo make the Restricted Administrator role configurable"
    }
  },
  {
    "key": "BAM-18296",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-04T13:43:00.000+0000",
      "created": "2017-04-04T05:06:00.000+0000",
      "description": "Bamboo has an embedded link to https://support.atlassian.com/secure/CreateIssue.jspa?pid=10060&issuetype=1 which results in a 404 Not Found error.\r\n\r\n*Proposed*: We should redirect /secure/CreateIssue.jspa to https://support.atlassian.com/ (without GET params or pre-population) in the interim and update the application accordingly.\r\n\r\nNote: Other products linked to a different location (https://support.atlassian.com/secure/SENVerification.jspa) which has since been redirected.\r\n\r\n",
      "summary": "Report a problem link in Bamboo is broken"
    }
  },
  {
    "key": "BAM-18295",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-09T14:27:10.000+0000",
      "created": "2017-04-04T01:58:51.000+0000",
      "description": "h3. Summary\r\n\r\nWhen there are multiple POSTs to {{executeManualDeployment.action}} in quick succession there can be a NullPointer exception.\r\nh3. Steps to Reproduce\r\n\r\n*\u00a0Double click the Start deployment button (happens very rarely, needs to be close in succession)\r\nh3. Expected Results\r\n\r\nError stating that the deployment is in progress.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{code:java}\r\n2017-03-31 09:52:33,413 INFO [http-apr-8085-exec-3] [AccessLogFilter] bamboo POST http://bamboo:8085/deploy/executeManualDeployment.action 96537kb\r\n2017-03-31 09:52:33,460 INFO [http-apr-8085-exec-39] [AccessLogFilter] bamboo POST http://bamboo:8085/deploy/executeManualDeployment.action 90346kb\r\n2017-03-31 09:52:33,507 ERROR [http-apr-8085-exec-39] [ExceptionMappingInterceptor] \r\njava.lang.NullPointerException\r\nat com.atlassian.bamboo.deployments.execution.actions.ExecuteManualDeployment.execute(ExecuteManualDeployment.java:269)\r\nat sun.reflect.GeneratedMethodAccessor3047.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:497)\r\nat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:892)\r\nat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1537)\r\nat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\nat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)\r\nat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)\r\nat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1613)\r\nat ognl.ASTMethod.getValueBody(ASTMethod.java:91)\r\nat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\nat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\nat ognl.Ognl.getValue(Ognl.java:494)\r\nat ognl.Ognl.getValue(Ognl.java:458){code}\r\nh3. Notes\r\nOne of the deployments will still execute.\r\n\u00a0",
      "summary": "NullPointerException when executing manual deployment in Bamboo"
    }
  },
  {
    "key": "BAM-18294",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-03T18:00:58.000+0000",
      "description": "h3. Problem Definition\r\nSome users have of lots global variables on their setup, so their build/deployment logs are filled with them. This has some bad consequences:\r\n# Their logs become very big since every log will have all the variables\r\n# It is difficult to browse results since they need to navigate through the variable content every time\r\n\r\nh3. Suggested Solution\r\n# Create a mechanism allowing the user to decide whether the variable content will be logged or not on build/deployment logs",
      "summary": "Allow users to enable/disable variable logging on builds or deployments"
    }
  },
  {
    "key": "BAM-18293",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-04-03T10:25:43.000+0000",
      "description": "h3. Summary\r\nIf there are multiple JOBs in a single plan, buildTimeStamp variables in each JOBs have milliseconds difference\r\n\r\nh3. Steps to Reproduce\r\n# Create multiple JOBs in a single Stage\r\n# Run the plan\r\n# Check buildTimeStamp variable in the Metadata tab of each JOBs\r\n\r\nh3. Expected Results\r\nIt will have the same timestamp\r\n\r\nh3. Actual Results\r\nThe timestamp is slight different in milliseconds",
      "summary": "buildTimeStamp is slightly different between JOBs in a single Stage"
    }
  },
  {
    "key": "BAM-18292",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-02T08:25:04.000+0000",
      "created": "2017-03-30T09:11:55.000+0000",
      "description": "Currently when Bamboo connects to Bitbucket Server's instance, it uses the Base URL to perform any Git operations\u00a0(like checkout). However, this should be available for mirrored instances as well. The only way currently to configure is to use the Generic Git for mirrored repositories.",
      "summary": "Allow Bamboo to select Bitbucket Server's Smart Mirroring instance"
    }
  },
  {
    "key": "BAM-18290",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-30T09:08:13.000+0000",
      "created": "2017-03-30T07:57:11.000+0000",
      "description": "[Pre-Post Build Command Runner|https://marketplace.atlassian.com/plugins/com.sysbliss.bamboo.plugins.prepost-build-command/server/versionhistory] is currently only listed compatible up to 5.14.5. \r\n\r\nUpdate the plugin to be compatible with latest 5.15.X version.",
      "summary": "Update Pre-Post Build Command Runner to be compatible with 5.15.X"
    }
  },
  {
    "key": "BAM-18289",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:08.000+0000",
      "created": "2017-03-29T22:15:25.000+0000",
      "description": "h3. Problem Definition\r\nBamboo has a strategy to escape special characters in the docker task arguments and it is not similar to terminal, causing users to get confused receiving unexpected errors.\r\n\r\nh3. Steps to Reproduce\r\n# Build a docker image (called *image*) with the following docker file:\r\n{noformat}\r\nFROM ubuntu\r\nRUN apt-get update\r\nRUN apt-get install -y wget\r\nENTRYPOINT [\"wget\", \"-O-\", \"-q\"]\r\n{noformat}\r\n# Create a docker run task with:\r\n{noformat}\r\nDocker image: image\r\nAdditional arguments:--entrypoint=\"ls\"\r\n{noformat}\r\n# Run a build\r\n\r\nh3. Expected Results\r\nBamboo will execute a command as if the following command was run in terminal, something similar to:\r\n{noformat}\r\ndocker run --entrypoint=\"ls\" image\r\n{noformat}\r\nthe new image will run the *ls* command\r\n\r\nh3. Actual Results\r\nBamboo will execute a command similar to:\r\n{noformat}\r\ndocker run --entrypoint=\\\"ls\\\" image\r\n{noformat}\r\nThe docker command will fail, since the ENTRYPOINT will be set to *\"ls\"* and not only *ls* as it should be.\r\n\r\nThis is the command shown in the build logs:\r\n{code}\r\n/usr/local/bin/docker run --volume /Users/dsantos/atlassian/bamboo/5.15.3/home/xml-data/build-dir/DOC-DOC-JOB1:/data --workdir /data --rm --entrypoint=\"ls\" image\r\n{code}\r\n\r\nThis is the error we get:\r\n{code}\r\nerror\t29-Mar-2017 19:31:44\tcontainer_linux.go:247: starting container process caused \"exec: \\\"\\\\\\\"ls\\\\\\\"\\\": executable file not found in $PATH\"\r\nerror\t29-Mar-2017 19:31:45\t/usr/local/bin/docker: Error response from daemon: oci runtime error: container_linux.go:247: starting container process caused \"exec: \\\"\\\\\\\"ls\\\\\\\"\\\": executable file not found in $PATH\".\r\nsimple\t29-Mar-2017 19:31:45\tFailing task since return code of [/usr/local/bin/docker run --volume /Users/dsantos/atlassian/bamboo/5.15.3/home/xml-data/build-dir/DOC-DOC-JOB1:/data --workdir /data --rm --entrypoint=\"ls\" image] was 127 while expected 0\r\n{code}\r\n\r\nh3. Workaround \r\nUnderstand how Bamboo works on escaping special characters and correctly set the needed arguments\r\n\r\nHere we can find some examples and the differences:\r\n{panel}||Command in Bamboo|| Command Wrapped|| Command executed|\r\n| docker run --entrypoint=\"\" image| docker run --entrypoint=\\\"\\\" image| docker run --entrypoint=\"\" image|\r\n| docker run '--entrypoint=\"\"' image| docker run \\'--entrypoint=\"\"\\' image| docker run --entrypoint=\"\" image|\r\n| docker run --entrypoint= image| docker run --entrypoint= image| docker run --entrypoint= image|\r\n\r\n||Command in Terminal|| Command executed (after evaluation)|\r\n| docker run --entrypoint=\"\" image| docker run --entrypoint= image|\r\n| docker run '--entrypoint=\"\"' image| docker run --entrypoint=\"\" image|\r\n| docker run --entrypoint=\\\"\\\" image| docker run --entrypoint=\"\" image|\r\n\r\nFrom the above you will see that:\r\n||Bamboo command|| Equivalent in terminal client|\r\n|docker run --entrypoint=\"\" image|docker run --entrypoint=\\\"\\\" image|\r\n|docker run --entrypoint= image|docker run --entrypoint=\"\" image, {{OR}} docker run --entrypoint= image|\r\n{panel}",
      "summary": "The docker task should interpret its arguments in a similar way terminal does"
    }
  },
  {
    "key": "BAM-18288",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-21T12:13:52.000+0000",
      "created": "2017-03-29T17:25:46.000+0000",
      "description": "h3. Summary\r\nBamboo XML import taken from a large MySQL database to PostgreSQL database fails with SQL Foreign Key Constraint errors\r\n\r\nh3. Environment\r\n* Export from MySQL using MyISAM\r\n* Importing to PostgreSQL\r\n\r\nh3. Steps to Reproduce\r\n# Export large Bamboo MySQL instance XML\r\n# Install Bamboo on new server with PostgreSQL database\r\n# Run Bamboo import\r\n\r\nh3. Expected Results\r\nImport succeeds and Bamboo starts up.\r\n\r\nh3. Actual Results\r\nImport fails, and the below exception is thrown in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n2017-03-15 13:03:02,644 WARN [http-nio-8009-exec-14] [SqlExceptionHelper] SQL Error: 0, SQLState: 23503\r\n2017-03-15 13:03:02,644 ERROR [http-nio-8009-exec-14] [SqlExceptionHelper] Batch entry 0 insert into STAGE_VARIABLE_CONTEXT (VARIABLE_KEY, VARIABLE_VALUE, VARIABLE_TYPE, STAGERESULT_ID, VARIABLE_CONTEXT_ID) values ('......') was aborted.  Call getNextException to see the cause.\r\n2017-03-15 13:03:02,644 WARN [http-nio-8009-exec-14] [SqlExceptionHelper] SQL Error: 0, SQLState: 23503\r\n2017-03-15 13:03:02,644 ERROR [http-nio-8009-exec-14] [SqlExceptionHelper] ERROR: insert or update on table \"stage_variable_context\" violates foreign key constraint \"fk_2ewf5u6g614u11mr4yxk847m3\"\r\n  Detail: Key (stageresult_id)=(xxxxxxx) is not present in table \"chain_stage_result\".\r\n2017-03-15 13:03:02,655 ERROR [http-nio-8009-exec-14] [BatchingBatch] HHH000315: Exception executing batch [could not execute batch]\r\n2017-03-15 13:03:02,657 ERROR [http-nio-8009-exec-14] [BuildResultsSummaryHibernateDao] Problems getting build result summary by key 'PROJ-PLAN-JOB-X'\r\norg.hibernate.exception.ConstraintViolationException: could not execute batch{noformat}\r\n \r\n\r\nh3.Workaround\r\nPlease use the {{nmig}} Migration tool.\r\n# Install npm \u2013 for example:\r\n{code}sudo apt-get install npm{code}\r\n# Clone the script for database conversion:\r\n{code}git clone https://github.com/atlassian/nmig{code}\r\n# Edit the script configuration:\r\n{code}cd nmig{code}\r\n{code}vim config.json{code} (enter mysql and postgres config)\r\n#* The destination Postgres db should be empty, without schema (public schema will be created by the migration tool)\r\n#* The user used for migration should have db permissions to COPY, otherwise the migration will take a very long time to complete (temporarily granting a superuser permissions is the simplest approach)\r\n#* Please use the same user name as the one you'll later use to connect Bamboo to the db, otherwise you'll have to change the table owners\r\n# Run the script:\r\n{code}node --max-old-space-size=8196 --expose-gc nmig.js{code}\r\n# After migration, before running Bamboo:\r\n#* Check {{logs_directory/errors-only.log}} and see what didn't get migrated (possible problems: nulls, constraint violations and some inserts).\r\n#* Run the following statements on the db to fix null problems:\r\n{code:sql}update variable_context set variable_key='' where variable_key is null{code}\r\n{code:sql}update variable_substitution set variable_key='' where variable_key is null{code}\r\n{code:sql}update auth_attempt_info set user_name='' where user_name is null{code}\r\n\r\nh4. Notes\r\n# To fix constraint violations, you will need to run some 'delete where not exists' statements\r\n# Individual rows typically fail because of UTF issues",
      "summary": "Error importing Bamboo MySQL export"
    }
  },
  {
    "key": "BAM-18287",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-16T13:31:09.000+0000",
      "created": "2017-03-29T11:59:10.000+0000",
      "description": "h3. Problem Definition\r\nCloned plans do not currently inherit quarantined tests. Tests need to be manually quarantined after a failed build is done.\r\n\r\nh3. Suggested Solution\r\nProvide option for quarantined tests to be inherited.",
      "summary": "When cloning a plan, there should be an option to inherit quarantined tests"
    }
  },
  {
    "key": "BAM-18286",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:48.000+0000",
      "created": "2017-03-29T07:53:43.000+0000",
      "description": "h3. Problem Definition\r\nWhen Bamboo is set to manage workspace for Perforce repo, Perforce builds cannot run successfully with multiple local agents and concurrent builds.\r\n\r\nThis is a limitation outlined in [Perforce notes|https://confluence.atlassian.com/display/BAMBOO/Perforce#Perforce-Notes]\r\n\r\nbq. We recommend this configuration if your Jobs will be running on many different machines or different operating systems, as Bamboo sets the client root for you.\r\n\r\nBamboo sets the client root once to the first agent that runs the build, but doesn't update it when it is ran with other local agents.\r\n\r\nh3. Suggested Solution\r\nReconfigure the Perforce workspace every time an agent realize that the workspace path does not contain his(local agent) path.",
      "summary": "Improve Perforce client to work with local agents and concurrent builds while allowing Bamboo to manage workspace"
    }
  },
  {
    "key": "BAM-18285",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:27.000+0000",
      "created": "2017-03-28T17:12:43.000+0000",
      "description": "h3. Issue\r\n{{NativePRNG}} (_the default implementation on typical Linux installations among others_) uses a global lock to synchronise access to {{/dev/random}} and {{/dev/urandom}} and {{random}} can block waiting for sufficient entropy to accumulate causing builds to hang during Source Code Checkout task.\r\n\r\nh3. Logs\r\n{noformat:title=build log}\r\n28-Mar-2017 16:20:02\tCreating local git repository in '/path/to/bamboo-remote-home/xml-data/build-dir/PROJ-PLAN-JOB1/.git'.\r\n28-Mar-2017 16:20:02\t/usr/bin/git init\r\n28-Mar-2017 16:20:02\tStarting task 'Checkout Default Repository' of type 'com.atlassian.bamboo.plugins.vcs:task.vcs.checkout'\r\n28-Mar-2017 16:20:03\tUpdating source code to revision: 67e21c41dc3e62eee3047db767363a6e8a6a9f95\r\n28-Mar-2017 16:20:03\t/usr/bin/git version\r\n28-Mar-2017 16:20:03\t/usr/bin/git log -1 --encoding=UTF-8 --format=%H HEAD\r\n{noformat}\r\n{noformat:title=atlassian-bamboo.log}\r\nINFO   | jvm 1    | 2017/03/28 16:20:02 | 2017/03/28 16:20:02,997 INFO [0-BAM::bamboo.remote.agent::Agent:pool-3-thread-1] [TaskExecutorImpl] Starting task 'Checkout Default Repository' of type 'com.atlassian.bamboo.plugins.vcs:task.vcs.checkout'\r\nINFO   | jvm 1    | 2017/03/28 16:20:03 | 2017/03/28 16:20:03,030 INFO [0-BAM::bamboo.remote.agent::Agent:pool-3-thread-1] [VcsCheckoutTask] Updating source code to revision: 67e21c41dc3e62eee3047db767363a6e8a6a9f95\r\n{noformat}\r\n{noformat:title=thread-dump}\r\n\"0-BAM::bamboo.remote.agent (2)::Agent:pool-3-thread-1\" #69 daemon prio=1 os_prio=0 tid=0x00007f8c6d645800 nid=0x374d runnable [0x00007f8cf45f4000]\r\n   java.lang.Thread.State: RUNNABLE\r\n      at java.io.FileInputStream.readBytes(Native Method)\r\n      at java.io.FileInputStream.read(FileInputStream.java:255)\r\n      at sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:410)\r\n      at sun.security.provider.NativePRNG$RandomIO.implGenerateSeed(NativePRNG.java:427)\r\n      - locked <0x00000000e0602e38> (a java.lang.Object)\r\n      at sun.security.provider.NativePRNG$RandomIO.access$500(NativePRNG.java:329)\r\n      at sun.security.provider.NativePRNG.engineGenerateSeed(NativePRNG.java:224)\r\n      at java.security.SecureRandom.generateSeed(SecureRandom.java:533)\r\n      at org.apache.sshd.common.util.SecurityUtils$BouncyCastleRandom.<init>(SecurityUtils.java:460)\r\n      at org.apache.sshd.common.util.SecurityUtils$BouncyCastleRandomFactory.create(SecurityUtils.java:441)\r\n      at org.apache.sshd.common.util.SecurityUtils$BouncyCastleRandomFactory.create(SecurityUtils.java:426)\r\n      at org.apache.sshd.common.random.SingletonRandomFactory.<init>(SingletonRandomFactory.java:38)\r\n      at org.apache.sshd.common.BaseBuilder.fillWithDefaultValues(BaseBuilder.java:154)\r\n      at org.apache.sshd.client.ClientBuilder.fillWithDefaultValues(ClientBuilder.java:111)\r\n      at org.apache.sshd.client.ClientBuilder.fillWithDefaultValues(ClientBuilder.java:50)\r\n      at org.apache.sshd.common.BaseBuilder.build(BaseBuilder.java:242)\r\n      at org.apache.sshd.client.ClientBuilder.build(ClientBuilder.java:154)\r\n      at org.apache.sshd.client.ClientBuilder.build(ClientBuilder.java:50)\r\n      at org.apache.sshd.common.BaseBuilder.build(BaseBuilder.java:263)\r\n{noformat}\r\n\r\nh3. Suggestion\r\nTest for entropy availability and issue a warning\r\n\r\nh3. Workaround\r\nh4. Running build against Bamboo server\r\n# stop Bamboo server\r\n# append {color:blue}{{-Djava.security.egd=file:/dev/./urandom}}{color} to {{JVM_SUPPORT_RECOMMENDED_ARGS}}\r\n{noformat:title=<bamboo-install>/bin/setenv.sh}\r\nJVM_SUPPORT_RECOMMENDED_ARGS=\"-Djava.security.egd=file:/dev/./urandom\"\r\n{noformat}\r\n# start Bamboo\r\n\r\nh4. Running build against Bamboo remote agent\r\n# stop Bamboo remote agent\r\n# append {color:blue}{{-Djava.security.egd=file:/dev/./urandom}}{color} to {{wrapper.java.additional.X}}:\r\n{noformat:title=<bamboo-remote-agent>/conf/wrapper.conf}\r\nwrapper.java.additional.1=-Dbamboo.home=/path/to/bamboo-remote-home\r\nwrapper.java.additional.2=-Dbamboo.agent.ignoreServerCertName=false\r\n#wrapper.java.additional.3=-Dlog4j.configuration=\r\n#wrapper.java.additional.3=-agentlib:yjpagent\r\nwrapper.java.additional.3=-Djava.security.egd=file:/dev/./urandom\r\n{noformat}\r\n{panel:titleBGColor=#b8e7f9|bgColor=#e3f7fc|borderColor=#8ed9f6|borderWidth=1|title=}\r\n(i) &nbsp; In the example above, *X* was replaced by *3* because it was the following number to be used in sequence. Yours may differ.\r\n{panel}\r\n# start Bamboo remote agent",
      "summary": "SSHD can hang for a long time in NativePRNG"
    }
  },
  {
    "key": "BAM-18284",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-14T12:12:29.000+0000",
      "created": "2017-03-28T14:03:28.000+0000",
      "description": "The Deployment Projects page in Bamboo 5.15.3 is still very slow (it was supposed to be fixed with BAM-13643). Our system is mid-size but fast growing (about 900 plans, about 1200 deployment environments) The deployment projects page takes about 1min to load. What about pagination?\u00a0",
      "summary": "Deployment Projects page slow"
    }
  },
  {
    "key": "BAM-18283",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-05T13:03:42.000+0000",
      "created": "2017-03-28T13:26:00.000+0000",
      "description": "It appears that the \"View as YAML\" feature is only available to instance admins. This might be due to its beta-feature nature, but I hope it's clear that this should be available to\u00a0*all users that have at least read* access to the plan.\r\n\r\n\u00a0\r\n\r\nBy the way, this would at the same time solve this issue:\u00a0BAM-11515 in an elegant way.\u00a0\r\n\r\n\u00a0",
      "summary": "Textual plan representation should be accessible to non-admins"
    }
  },
  {
    "key": "BAM-18282",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-24T08:42:03.000+0000",
      "created": "2017-03-28T11:34:36.000+0000",
      "description": "Create Docker task\r\n Choose Run a docker container command\r\n Click checkbox Detach container\r\n Enter 'test-$\\{bamboo.shortPlanKey}' in Container name\r\n Save task\r\n\r\n\r\n Expected: task is saved\r\n Actual: Invalid container name (a), minimum length is two characters and only [a-zA-Z0-9][a-zA-Z0-9_.-] are allowed",
      "summary": "Unable to use variables in Container name field in Run docker task"
    }
  },
  {
    "key": "BAM-18280",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-28T15:00:50.000+0000",
      "created": "2017-03-27T20:03:48.000+0000",
      "description": "h3. Summary\r\nWhen upgrading Bamboo to version 5.15.4 from a version below 5.15.3, the Upgrade Task *51517 : Re-encrypting repositories for plan branches (post-bootstrap)* fails with a NullPointerException.\r\nOnly customers using \"GitHub\" repository type are affected.\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.14.x or lower\r\n# Configure Plan branches\r\n# Upgrade directly to Bamboo 5.15.4\r\n\r\nh3. Expected Results\r\nBamboo successfully upgrades and starts\r\n\r\nh3. Actual Results\r\nThe upgrade fails, and the below exception is thrown in the {{<bamboo-home>/logs/atlassian-bamboo.log}} file:\r\n{noformat}\r\n2017-03-27 14:17:27,331 INFO [15-UpgradeTaskBackgroundThread:pool-30-thread-1] [AbstractUpgradeManager] ---------------------------------------------------------------------\r\n2017-03-27 14:17:27,331 INFO [15-UpgradeTaskBackgroundThread:pool-30-thread-1] [AbstractUpgradeManager] 51517 : Re-encrypting repositories for plan branches (post-bootstrap)\r\n2017-03-27 14:17:27,331 INFO [15-UpgradeTaskBackgroundThread:pool-30-thread-1] [AbstractUpgradeManager] ---------------------------------------------------------------------\r\n2017-03-27 14:17:27,804 INFO [15-UpgradeTaskBackgroundThread:pool-30-thread-1] [UpgradeTask51517ReEncryptPlanBranchRepositories] Updating configuration for repository <repository-name> (<repository-id>)\r\n2017-03-27 14:17:27,811 ERROR [15-UpgradeTaskBackgroundThread:pool-30-thread-1] [AbstractUpgradeManager] java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n\tat java.util.HashMap.putMapEntries(HashMap.java:500)\r\n\tat java.util.HashMap.<init>(HashMap.java:489)\r\n\tat com.atlassian.bamboo.collections.message.FinalHashMap.<init>(FinalHashMap.java:15)\r\n\tat com.atlassian.bamboo.vcs.configuration.VcsLocationDefinitionImpl.<init>(VcsLocationDefinitionImpl.java:23)\r\n\tat com.atlassian.bamboo.vcs.configuration.PartialVcsRepositoryDataImpl.<init>(PartialVcsRepositoryDataImpl.java:84)\r\n\tat com.atlassian.bamboo.vcs.configuration.PartialVcsRepositoryDataBuilder.build(PartialVcsRepositoryDataBuilder.java:200)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v5_15.UpgradeTask51517ReEncryptPlanBranchRepositories.upgradeChainBranchRepository(UpgradeTask51517ReEncryptPlanBranchRepositories.java:132)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v5_15.UpgradeTask51517ReEncryptPlanBranchRepositories.upgradeChainBranch(UpgradeTask51517ReEncryptPlanBranchRepositories.java:96)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1249)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v5_15.UpgradeTask51517ReEncryptPlanBranchRepositories.lambda$doUpgrade$0(UpgradeTask51517ReEncryptPlanBranchRepositories.java:85)\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nh4. Recommended\r\nRestore the backup of your Home directory and database to your previous version, and upgrade to Bamboo 5.15.5 which contains the fix for this issue.",
      "summary": "Upgrade task for 5.15.4 fails with NPE"
    }
  },
  {
    "key": "BAM-18279",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-27T19:20:58.000+0000",
      "description": "Remote agents will fail to connect if HTTP to HTTPS redirection is configured in Tomcat web.xml. The logs in the remote agent will show the following errors:\r\n \r\n{code}\r\n ERROR [WrapperSimpleAppMain] [ClasspathBuilder] An error has occurred when retrieving classpath data: HTTP/1.1 302 Found\r\n Exiting due to fatal exception.\r\n com.atlassian.bamboo.agent.bootstrap.RemoteAgentHttpException: Response: [HTTP/1.1 302 Found] received after 'classpath.zip' retrieval request.\r\n at com.atlassian.bamboo.agent.bootstrap.ClasspathBuilder.getRemoteResources(ClasspathBuilder.java:118)\r\n at com.atlassian.bamboo.agent.bootstrap.ClasspathBuilder.build(ClasspathBuilder.java:59)\r\n at com.atlassian.bamboo.agent.bootstrap.AgentContext.newClassLoader(AgentContext.java:388)\r\n at com.atlassian.bamboo.agent.bootstrap.AgentContext.run(AgentContext.java:98)\r\n at com.atlassian.bamboo.agent.bootstrap.AgentBootstrap.run(AgentBootstrap.java:117)\r\n at com.atlassian.bamboo.agent.bootstrap.AgentBootstrap.main(AgentBootstrap.java:52)\r\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n at java.lang.reflect.Method.invoke(Method.java:497)\r\n at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)\r\n {code}\r\n\r\nh3. Workaround: \r\n# In the remote agent edit the \"wrapper.app.parameter\" in <agent-home>/conf/wrapper.conf and change the protocol to https.\r\n E.g: {{wrapper.app.parameter=[http://bamboo-server.com/agentServer/]}} change to {{wrapper.app.parameter=[https://bamboo-server.com/agentServer/]}}\r\n# Restart the remote agent",
      "summary": "Remote agents do not work with HTTP to HTTPS redirects in Tomcat web.xml"
    }
  },
  {
    "key": "BAM-18278",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-27T14:01:01.000+0000",
      "description": "h3. Summary\r\n\r\nBamboo throws a database error while trying to upgrade to 5.15 or higher when using Microsoft SQL Server database:\r\n\r\n{noformat}\r\n2017-03-13 12:44:53,068 ERROR [localhost-startStop-1] [AbstractUpgradeManager] java.sql.SQLException: The component of the database name of the object qualifier must be the name of the current database.\r\njava.sql.SQLException: The component of the database name of the object qualifier must be the name of the current database.\r\n    at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:372)\r\n    at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2988)\r\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2421)\r\n    at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:677)\r\n    at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:505)\r\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:1032)\r\n    at net.sourceforge.jtds.jdbc.JtdsDatabaseMetaData.getTables(JtdsDatabaseMetaData.java:1836)\r\n    at com.mchange.v2.c3p0.impl.NewProxyDatabaseMetaData.getTables(NewProxyDatabaseMetaData.java:2962)\r\n    at com.atlassian.bamboo.utils.db.AbstractDbmsBean.isTablePresent(AbstractDbmsBean.java:230)\r\n    at com.atlassian.bamboo.upgrade.tasks.v5_15.UpgradeTask51502UniqueSharedCredentialNames.lambda$doUpgrade$0(UpgradeTask51502UniqueSharedCredentialNames.java:37)\r\n    at com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:83)\r\n    at com.atlassian.bamboo.upgrade.tasks.v5_15.UpgradeTask51502UniqueSharedCredentialNames.doUpgrade(UpgradeTask51502UniqueSharedCredentialNames.java:35)\r\n    at com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:210)\r\n    at com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.doUpgrade(BootstrapUpgradeManagerImpl.java:62)\r\n    at com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:343)\r\n    at com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n    at com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:118)\r\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5303)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    at java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n# Create a Microsoft SQL Server database named *Bamboo*.\r\n# Install Bamboo version < 5.15.\r\n# Connect Bamboo to the Microsoft SQL Server database using the connection string url as *bamboo* (instead of Bamboo with an uppercase letter B).\r\n# Upgrade Bamboo to 5.15 or higher.\r\n\r\nh3. Expected Results\r\n* Upgrade is successful.\r\n\r\nh3. Actual Results\r\n* Upgrade fails on upgrade task number 51502 while executing \"SELECT DB_NAME()\" and comparing it to dbmsBean.getCatalog(c). The former shows the actual database name, the latter shows the database name configured in the connection string. They should match. If they don't, upgrade task breaks with the following error:\r\n\r\n{noformat}\r\nThe component of the database name of the object qualifier must be the name of the current database.\r\n{noformat}\r\n\r\nh3.Workaround\r\n# Get the name of the Microsoft SQL Server database using the following SQL statement:\r\n{code:sql}\r\nSELECT name, database_id, create_date \r\nFROM sys.databases;\r\n{code}\r\n# Compare it with the database name configured inside the {{<BAMBOO_HOME>/bamboo.cfg.xml}} file:\r\n{noformat}\r\njdbc:jtds:sqlserver://<host>:<port>/<database name>\r\n{noformat}\r\n# Update the database name so it matches the name of the database from the SQL statement.\r\n# Restart Bamboo.",
      "summary": "Validate database configuration on Microsoft SQL Server"
    }
  },
  {
    "key": "BAM-18277",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-27T10:01:40.000+0000",
      "description": "h3. Problem Definition\r\nIt is not possible to start a elastic agent instance with two or more network interfaces from Bamboo\r\n\r\nh3. Suggested Solution\r\nAdd a new setting into Bamboo Image Configuration to configure more than one network interface\r\n\r\nh3. Why this is important\r\nTo perform test on a cluster product. The current Elastic Agent could not perform test on clustering feature without multiple network interfaces",
      "summary": "Ability to add multiple network interface to Image Configuration"
    }
  },
  {
    "key": "BAM-18276",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-30T13:35:38.000+0000",
      "created": "2017-03-26T01:30:51.000+0000",
      "description": "h3. Summary\r\nThe Oracle JDBC driver bundled with Bamboo 5.15.x, {{ojdbc7-12.1.0.1.jar}}, is subject to some known bugs that may prevent Bamboo from starting on certain databases.\r\n\r\nh3. Steps to Reproduce\r\n# Start Bamboo 5.15.x on a database with large values in CLOB (Character Large Object) data type fields\r\n\r\n\r\nh3. Expected Results\r\nBamboo should start normally\r\n\r\nh3. Actual Results\r\nBamboo fails to start with errors similar to the ones described in [java.sql.SQLException: Protocol violation caught while accessing a page and Oracle DB is used|https://confluence.atlassian.com/display/BAMKB/java.sql.SQLException%3A+Protocol+violation+caught+while+accessing+a+page+and+Oracle+DB+is+used], where an exception such as the following occurs: {code}\r\n2017-03-25 08:22:01,484 ERROR [15-UpgradeTaskBackgroundThread:pool-30-thread-1] [TransactionTemplate] Application exception overridden by rollback exception\r\norg.springframework.orm.hibernate4.HibernateSystemException: IOException occurred reading text; nested exception is org.hibernate.HibernateException: IOException occurred reading text\r\n\tat org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218)\r\n\tat org.springframework.orm.hibernate4.HibernateTemplate.doExecute(HibernateTemplate.java:344)\r\n\tat org.springframework.orm.hibernate4.HibernateTemplate.execute(HibernateTemplate.java:296)\r\n\tat com.atlassian.bamboo.repository.RepositoryDefinitionHibernateDao.findAll(RepositoryDefinitionHibernateDao.java:79)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v5_14.UpgradeTask51402ReseedServerKeyAndOids.lambda$recalculateRepositoryOids$0(UpgradeTask51402ReseedServerKeyAndOids.java:79)\r\n\tat org.hibernate.jdbc.WorkExecutor.executeWork(WorkExecutor.java:54)\r\n\tat org.hibernate.internal.SessionImpl$2.accept(SessionImpl.java:2076)\r\n\tat org.hibernate.internal.SessionImpl$2.accept(SessionImpl.java:2073)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:313)\r\n\tat org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2095)\r\n\tat org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2080)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate$2.doInHibernate(BambooTransactionHibernateTemplate.java:66)\r\n\tat org.springframework.orm.hibernate4.HibernateTemplate.doExecute(HibernateTemplate.java:341)\r\n\tat org.springframework.orm.hibernate4.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:309)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate$1.doInTransaction(BambooTransactionHibernateTemplate.java:52)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:41)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:47)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.doWork(BambooTransactionHibernateTemplate.java:60)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v5_14.UpgradeTask51402ReseedServerKeyAndOids.recalculateRepositoryOids(UpgradeTask51402ReseedServerKeyAndOids.java:77)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v5_14.UpgradeTask51402ReseedServerKeyAndOids.doUpgrade(UpgradeTask51402ReseedServerKeyAndOids.java:62)\r\n\tat com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:210)\r\n\tat com.atlassian.bamboo.upgrade.UpgradeManagerImpl.doUpgrade(UpgradeManagerImpl.java:114)\r\n\tat com.atlassian.bamboo.upgrade.UpgradeLauncher.lambda$upgradeAndStartBamboo$0(UpgradeLauncher.java:111)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.hibernate.HibernateException: IOException occurred reading text\r\n\tat org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:96)\r\n\tat org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:282)\r\n\tat org.hibernate.type.descriptor.java.StringTypeDescriptor.wrap(StringTypeDescriptor.java:89)\r\n\tat org.hibernate.type.descriptor.java.StringTypeDescriptor.wrap(StringTypeDescriptor.java:39)\r\n\tat org.hibernate.type.descriptor.sql.ClobTypeDescriptor$1.doExtract(ClobTypeDescriptor.java:61)\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:267)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n\tat com.atlassian.hibernate.BucketClobStringType.nullSafeGet(BucketClobStringType.java:90)\r\n\tat org.hibernate.type.CustomType.nullSafeGet(CustomType.java:127)\r\n\tat org.hibernate.type.AbstractType.hydrate(AbstractType.java:106)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2969)\r\n\tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1696)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1628)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1515)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:726)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:953)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:921)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1718)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)\r\n\tat com.atlassian.bamboo.repository.RepositoryDefinitionHibernateDao.lambda$findAll$0(RepositoryDefinitionHibernateDao.java:85)\r\n\tat org.springframework.orm.hibernate4.HibernateTemplate.doExecute(HibernateTemplate.java:341)\r\n\t... 32 more\r\nCaused by: java.io.IOException: Protocol violation: [ 14, 121, ]\r\n\tat oracle.jdbc.driver.OracleClobReader.needChars(OracleClobReader.java:264)\r\n\tat oracle.jdbc.driver.OracleClobReader.read(OracleClobReader.java:195)\r\n\tat org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:88)\r\n\t... 60 more\r\nCaused by: java.sql.SQLException: Protocol violation: [ 14, 121, ]\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:669)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:249)\r\n\tat oracle.jdbc.driver.T4C8TTIClob.read(T4C8TTIClob.java:245)\r\n\tat oracle.jdbc.driver.T4CConnection.getChars(T4CConnection.java:3901)\r\n\tat oracle.sql.CLOB.getChars(CLOB.java:517)\r\n\tat oracle.jdbc.driver.OracleClobReader.needChars(OracleClobReader.java:245)\r\n\t... 62 more\r\n{code}\r\nThis bug in the Oracle driver caused similar issues with JIRA: [JRA-60604 - Oracle Driver 12.1.0.1 throws error Protocol violation|https://jira.atlassian.com/browse/JRA-60604]\r\n\r\nh3.Workaround\r\n# Stop Bamboo\r\n# Remove {{ojdbc7-12.1.0.1.jar}} from *$BAMBOO_INSTALL/lib*\r\n# Download [ojdbc8.jar version 12.2.0.1\ufeff|http://www.oracle.com/technetwork/database/features/jdbc/jdbc-ucp-122-3110062.html] and copy it to *$BAMBOO_INSTALL/lib*\r\n# Restart Bamboo",
      "summary": "The Oracle JDBC Driver bundled with Bamboo 5.15.x is buggy "
    }
  },
  {
    "key": "BAM-18274",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-25T00:13:06.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAt this time, Tests are not filtered on the Build Result Summary page, and appear to only be ordered\u00a0by Test Class.\r\nh3. Suggested Solution\r\n\r\nAdd test case name to order by clause of Hibernate query\u00a0{{findTestsForChainResultByDeltaStates}}\r\nh3. Workaround\r\n\r\nOne way to get a list of Tests ordered alphabetically by Test Class and Test Case, for a given list of Jobs and Job Numbers:\r\n{code:sql|title=For MySQL}\r\nselect concat(substring_index(tcl.test_class_name,'.',-1), ' ', tca.test_case_name) 'Test',\r\n    tcar.failing_since 'Failing since',\r\n    b.title 'Job',\r\n    tcar.duration 'Duration'\r\nFROM test_case_result tcar\r\nJOIN test_case tca ON (tcar.test_case_id = tca.test_case_id)\r\nJOIN test_class_result tclr ON (tcar.test_class_result_id = tclr.test_class_result_id)\r\nJOIN test_class tcl ON (tclr.test_class_id = tcl.test_class_id)\r\nJOIN build b ON (b.build_id = tcl.plan_id)\r\nJOIN buildresultsummary brs USING (buildresultsummary_id)\r\nWHERE full_key in (<list of job keys : PROJ-PLAN-JOB>)\r\n  AND failing_since = <first failed job number>\r\n  AND tcar.delta_state = 'BROKEN'\r\nORDER BY tcl.test_class_name,\r\n         tca.test_case_name,\r\n         b.title;\r\n{code}\r\n{code:sql|title=For PostgreSQL}\r\nselect replace(substring(tcl.test_class_name from '%#\"._+#\"' for '#'), '.', '')||' '||tca.test_case_name \"Test\",\r\n    tcar.failing_since \"Failing since'\"\r\n    b.title \"Job\",\r\n    tcar.duration \"Duration\"\r\nFROM test_case_result tcar\r\nJOIN test_case tca ON (tcar.test_case_id = tca.test_case_id)\r\nJOIN test_class_result tclr ON (tcar.test_class_result_id = tclr.test_class_result_id)\r\nJOIN test_class tcl ON (tclr.test_class_id = tcl.test_class_id)\r\nJOIN build b ON (b.build_id = tcl.plan_id)\r\nJOIN buildresultsummary brs USING (buildresultsummary_id)\r\nWHERE full_key in (<list of job keys : PROJ-PLAN-JOB>)\r\n  AND failing_since = <first failed job number>\r\n  AND tcar.delta_state = 'BROKEN'\r\nORDER BY tcl.test_class_name,\r\n         tca.test_case_name,\r\n         b.title;\r\n{code}",
      "summary": "Sort Tests on Build Summary page"
    }
  },
  {
    "key": "BAM-18273",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-24T16:00:24.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen migrating Bitbucket Server/Stash repositories to new servers, the repository URLs do not change for Branch Plans, even if the Application link is recreated and the Repository recreated.\r\nh3. Suggested Solution\r\n * Add option to re-sync all repository SSH URLs via Bitbucket application link.\r\n * Add option to re-save (or re-create SSH keys) all existing Bitbucket repositories incase of SSH key issues.\r\n\r\nh3. Workaround\r\nThis can be done using a database update:\r\n # Stop Bamboo\r\n # Back up your Bamboo database for restore/recovery purposes\r\n # Run the following update query, replacing {{<old-url>}} and {{<new-url>}} as needed:\r\n{code:sql}\r\nupdate VCS_LOCATION as V\r\n   set xml_definition_data = replace(xml_definition_data,'<old-url>','<new-url>');{code}\r\n(i)\u00a0_Note:\u00a0If you are using a port other than 22, you will also need to amend the port number to the new URL or configure port forwarding from the default port (22) as explained in [this KB article|https://confluence.atlassian.com/bamkb/bamboo-ssh-proxy-while-connecting-to-git-stash-baseurl-127-0-0-1-22-authenticating-remote-session-failed-655556623.html/]._\r\n # Start Bamboo",
      "summary": "Ability to bulk update Bitbucket Server/Stash repository URLs"
    }
  },
  {
    "key": "BAM-18272",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:39.000+0000",
      "created": "2017-03-24T14:46:55.000+0000",
      "description": "h3. Summary\r\nWhen calling rest/triggers/1.0/remote/changeDetection no log errors are thrown if the caller IP is unauthorized\r\n\r\nh3. Steps to Reproduce\r\n# Configure a plan in Bamboo with a remote trigger (don't authorize any IPs)\r\n# Login in a different machine and try to trigger the change detection:\r\n# Run the following curl command:\r\n{code}\r\ncurl --user <user>:<password> -H \"Content-Type: application/json\" -X POST http://<Bamboo_URL>/bamboo/rest/triggers/1.0/remote/changeDetection?planKey=<PLAN-KEY>&skipBranches=false\r\n{code}\r\n# Observe that change detection is not started since the caller IP is unauthorized\r\n\r\nh3. Expected Results\r\nBamboo informs in server logs why change detection wasn't started\r\n\r\nh3. Actual Results\r\nBamboo didn't inform anything in the logs (although it did inform the caller through call back message)\r\n \r\nh3. Notes\r\n\r\nIf we use *<Bamboo_URL>/bamboo/api/rest/updateAndBuild.action* it does inform in the logs when the IP is not authorized:\r\n{code}\r\n2017-03-24 08:49:38,343 INFO [http-nio-8085-exec-23] [AccessLogFilter] admin POST http://<Bamboo_URL>/bamboo/api/rest/updateAndBuild.action?buildKey=<PLAN-KEY> 227457kb\r\n2017-03-24 08:49:38,360 INFO [http-nio-8085-exec-23] [DefaultErrorHandler] Recording an error: TriggerRemoteBuild : Build request for plan [ANT - ANT] originated from <CALLER_IP> which is not an allowed address : <PLAN-KEY>\r\n{code}\r\n\r\nThe same didn't happen when calling *<Bambo_URL>/rest/triggers/1.0/remote/changeDetection*. Bamboo only notifies the received post.\r\n{code}\r\n2017-03-24 08:31:18,784 INFO [http-nio-8085-exec-25] [AccessLogFilter] <CALLER_IP> POST http://<Bamboo_URL>/bamboo/rest/triggers/1.0/remote/changeDetection?planKey=<PLAN-KEY>&skipBranches=false 283835kb\r\n{code}",
      "summary": "When calling rest/triggers/1.0/remote/changeDetection no log errors are thrown if the caller IP is unauthorized"
    }
  },
  {
    "key": "BAM-18271",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-11T15:11:37.000+0000",
      "created": "2017-03-24T10:04:14.000+0000",
      "description": "h3. Summary\r\nElastic agent failed to be started after importing Bamboo backup file from the older version\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.14.3.1\r\n# Configure the Linux stock image at {{Administration >> Elastic Bamboo >> Image configurations}} to enable \"Use Virtual Private Cloud\" option and select a \"Virtual Private Cloud subnet\"\r\n# Save the configuration\r\n# Start the image to confirm that it is able to startup\r\n# Terminate it\r\n# Create a backup file from {{Administration >> System >> Export}}\r\n# Shutdown Bamboo 5.14.3.1\r\n# Install Bamboo 5.15.3 in an empty directory and new Bamboo Home\r\n# Restore the backup file from Step 6\r\n# Start the Linux stock image\r\n\r\nh3. Expected Results\r\nThe stock image able to start up\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2017-03-24 20:03:53,205 ERROR [http-nio-8085-exec-4] [ManageElasticInstancesAction] Failed to start elastic instances\r\ncom.atlassian.aws.AWSException: Error when starting a new instance\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.startupAgents(ElasticFunctionalityFacadeImpl.java:219)\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ManageElasticInstancesAction.create(ManageElasticInstancesAction.java:129)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:871)\r\n\tat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1537)\r\n\tat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:96)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:88)\r\n\tat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1613)\r\n\tat ognl.ASTMethod.getValueBody(ASTMethod.java:91)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n...\r\nCaused by: java.lang.IllegalArgumentException\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:108)\r\n\tat com.atlassian.aws.ec2.model.SubnetId.<init>(SubnetId.java:24)\r\n\tat com.atlassian.aws.ec2.model.SubnetId.from(SubnetId.java:41)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat com.atlassian.aws.ec2.model.ResourceId.fromCollection(ResourceId.java:70)\r\n\tat com.atlassian.aws.ec2.model.SubnetId.from(SubnetId.java:59)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.getVpcsAndSubnets(ElasticFunctionalityFacadeImpl.java:273)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.ensureSecurityGroupsExist(ElasticFunctionalityFacadeImpl.java:291)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.startupAgents(ElasticFunctionalityFacadeImpl.java:181)\r\n{noformat}\r\nThe Linux stock image is missing the selected option in \"Virtual Private Cloud subnet\" but the option \"Use Virtual Private Cloud\" is selected\r\n \r\nh3. Notes\r\nThe Linux stock image in Bamboo 5.14.3.1 have different AMI ID compared to Bamboo 5.15.3\r\n\r\nh3.Workaround\r\nEdit the problematic stock image and select the missing \"Virtual Private Cloud subnet\" option",
      "summary": "Fail to start Elastic Agent after importing Bamboo backup"
    }
  },
  {
    "key": "BAM-18268",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-24T13:35:33.000+0000",
      "created": "2017-03-23T12:49:49.000+0000",
      "description": "In Bamboo 5.14 and before, the custom variables list is shown on the right pane when variables are overide using _Run Customised_.\r\nIn Bamboo 5.15, the custom variables list is no longer shown.\r\n",
      "summary": "Custom Variable not shown in build result summary"
    }
  },
  {
    "key": "BAM-18267",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-22T10:59:01.000+0000",
      "description": "Bamboo could log the location of the cacerts file in use to ease the troubleshooting processing when dealing with SSL.",
      "summary": "Log location of cacerts files in used to ease SSL related troubleshooting"
    }
  },
  {
    "key": "BAM-18266",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-19T13:16:41.000+0000",
      "created": "2017-03-22T06:32:25.000+0000",
      "description": "Its possible to set Global Variables through the REST API, and to set Plan Variables when executing a build but I can't find a way to permanently set a Plan Variable.\r\n\r\nRationale is I can create branch plan's, set to my VCS branch through REST API, I can enable, favourite and add labels, but the most important part is to set the Plan Variables which override the parent (or global) variables for this branch.\r\n\r\nReferencing [https://answers.atlassian.com/questions/35774012/how-to-update-plan-or-global-variable-using-rest-api]\u00a0and https://jira.atlassian.com/browse/BAM-9344\u00a0but can't see if this is or isnt a dark feature?\r\n\r\nIf it is - can I have an example of POST setting a planvariable?\r\n\r\nIf it isn't - can this be added asap to make the REST API useful for creation of plan branches?",
      "summary": "Set Plan Variables through REST API"
    }
  },
  {
    "key": "BAM-18265",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-21T20:44:25.000+0000",
      "description": "h3. Summary\r\nBamboo latest no longer support relative path on {{.gitmodules}}\r\n\r\nh3. Steps to Reproduce\r\n# create two Git repositories on Bitbucket server\r\n#* ssh://git@git.webserver:7999/proj/source.git\r\n#* ssh://git@git.webserver:7999/proj/module.git\r\n# under {{proj/source.git}} create a {{.gitmodules}}\r\n{noformat}\r\ncd source\r\ngit submodule add ../module\r\n{noformat}\r\nAs a result, you should have:\r\n{noformat:title=.gitmodules}\r\n[submodule \"module\"]\r\n\tpath = module\r\n\turl = ../module\r\n{noformat}\r\n# create Application Link between Bamboo and Bitbucket server\r\n# create a Plan and use {{proj/source.git}} as repository\r\n# select *Use submodules* under *Advanced options*\r\n# run a new build\r\n\r\nh3. Expected Results\r\nBamboo v5.14.5 should have the same behaviour as v5.8.1 checking out submodule using relative path\r\n{noformat:title=Bamboo v5.8.1}\r\nsimple\t21-Mar-2017 16:54:38\tStarting task 'Checkout Default Repository' of type 'com.atlassian.bamboo.plugins.vcs:task.vcs.checkout'\r\nsimple\t21-Mar-2017 16:54:38\tUpdating source code to revision: e227f47ef48b0808ce6d5ffc5844685fb207a050\r\nsimple\t21-Mar-2017 16:54:38\t/usr/bin/git log -1 --encoding=UTF-8 --format=%H HEAD\r\nsimple\t21-Mar-2017 16:54:38\tFetching 'refs/heads/master' from 'ssh://git@git.webserver:7999/proj/source.git'.\r\nsimple\t21-Mar-2017 16:54:38\t/usr/bin/git fetch ssh://75087a6d-c182-4c11-8153-062876287a86@127.0.0.1:58186/proj/source.git +refs/heads/master:refs/heads/master --update-head-ok --progress --verbose\r\nsimple\t21-Mar-2017 16:54:38\tWarning: Permanently added '[127.0.0.1]:58186' (RSA) to the list of known hosts.\r\nsimple\t21-Mar-2017 16:54:38\tFrom ssh://127.0.0.1:58186/proj/source\r\nsimple\t21-Mar-2017 16:54:38\t = [up to date]      master     -> master\r\nsimple\t21-Mar-2017 16:54:38\t/usr/bin/git log -1 --encoding=UTF-8 --format=%H e227f47ef48b0808ce6d5ffc5844685fb207a050\r\nsimple\t21-Mar-2017 16:54:38\tChecking out revision e227f47ef48b0808ce6d5ffc5844685fb207a050.\r\nsimple\t21-Mar-2017 16:54:38\tCreating local git repository in '/opt/atlassian/products/bamboo/5.8.1/home/xml-data/build-dir/REP-SRC-JOB1/.git'.\r\nsimple\t21-Mar-2017 16:54:38\t/usr/bin/git clone file:///opt/atlassian/products/bamboo/5.8.1/home/xml-data/build-dir/_git-repositories-cache/c3c8a863d9a98c02b1e3201409d88f3d348660b8 -n --reference /opt/atlassian/products/bamboo/5.8.1/home/xml-data/build-dir/_git-repositories-cache/c3c8a863d9a98c02b1e3201409d88f3d348660b8 /opt/atlassian/products/bamboo/5.8.1/home/xml-data/build-dir/REP-SRC-JOB1\r\nsimple\t21-Mar-2017 16:54:38\tCloning into '/opt/atlassian/products/bamboo/5.8.1/home/xml-data/build-dir/REP-SRC-JOB1'...\r\nsimple\t21-Mar-2017 16:54:39\t/usr/bin/git show-ref master\r\nsimple\t21-Mar-2017 16:54:39\t/usr/bin/git checkout -f master\r\nsimple\t21-Mar-2017 16:54:39\tAlready on 'master'\r\nsimple\t21-Mar-2017 16:54:39\tYour branch is up-to-date with 'origin/master'.\r\nsimple\t21-Mar-2017 16:54:39\t/usr/bin/git remote set-url origin ssh://8346a111-ea35-4116-b64d-e93e8c3ee206@127.0.0.1:58186/proj/source.git\r\nsimple\t21-Mar-2017 16:54:39\t/usr/bin/git submodule update --init --recursive\r\nsimple\t21-Mar-2017 16:54:39\tSubmodule 'module' (ssh://8346a111-ea35-4116-b64d-e93e8c3ee206@127.0.0.1:58186/proj/module) registered for path 'module'\r\nsimple\t21-Mar-2017 16:54:39\tCloning into 'module'...\r\nsimple\t21-Mar-2017 16:54:39\tWarning: Permanently added '[127.0.0.1]:58186' (RSA) to the list of known hosts.\r\nsimple\t21-Mar-2017 16:54:39\tSubmodule path 'module': checked out 'b03523b16dc9baff16b466d0a38cd61e9b0b5ffa'\r\nsimple\t21-Mar-2017 16:54:40\t/usr/bin/git remote set-url origin file:///opt/atlassian/products/bamboo/5.8.1/home/xml-data/build-dir/_git-repositories-cache/c3c8a863d9a98c02b1e3201409d88f3d348660b8\r\nsimple\t21-Mar-2017 16:54:40\tUpdated source code to revision: e227f47ef48b0808ce6d5ffc5844685fb207a050\r\nsimple\t21-Mar-2017 16:54:40\tFinished task 'Checkout Default Repository' with result: Success\r\n{noformat}\r\n\r\nh3. Actual Results\r\nBamboo does not checkout submodule using relative path\r\n{noformat:title=Bamboo v5.14.5}\r\nsimple\t21-Mar-2017 16:36:15\tStarting task 'Checkout Default Repository' of type 'com.atlassian.bamboo.plugins.vcs:task.vcs.checkout'\r\nsimple\t21-Mar-2017 16:36:15\tBuild always requires a clean checkout\r\nsimple\t21-Mar-2017 16:36:15\tCleaning build directory '/opt/atlassian/products/bamboo/5.14.5/home/xml-data/build-dir/REP-SRC-JOB1'\r\nsimple\t21-Mar-2017 16:36:15\tUpdating source code to revision: e227f47ef48b0808ce6d5ffc5844685fb207a050\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git log -1 --encoding=UTF-8 --format=%H HEAD\r\nsimple\t21-Mar-2017 16:36:15\tFetching 'refs/heads/master' from 'ssh://git@git.webserver:7999/proj/source.git'.\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git fetch ssh://6eecec9d-b2ad-4c27-9d33-38ccb2a13630@127.0.0.1:50834/proj/source.git +refs/heads/master:refs/heads/master --update-head-ok --progress --verbose\r\nsimple\t21-Mar-2017 16:36:15\tWarning: Permanently added '[127.0.0.1]:50834' (RSA) to the list of known hosts.\r\nsimple\t21-Mar-2017 16:36:15\tFrom ssh://127.0.0.1:50834/proj/source\r\nsimple\t21-Mar-2017 16:36:15\t = [up to date]      master     -> master\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git log -1 --encoding=UTF-8 --format=%H e227f47ef48b0808ce6d5ffc5844685fb207a050\r\nsimple\t21-Mar-2017 16:36:15\tChecking out revision e227f47ef48b0808ce6d5ffc5844685fb207a050.\r\nsimple\t21-Mar-2017 16:36:15\tCreating local git repository in '/opt/atlassian/products/bamboo/5.14.5/home/xml-data/build-dir/REP-SRC-JOB1/.git'.\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git clone /opt/atlassian/products/bamboo/5.14.5/home/xml-data/build-dir/_git-repositories-cache/c3c8a863d9a98c02b1e3201409d88f3d348660b8 --shared --no-checkout /opt/atlassian/products/bamboo/5.14.5/home/xml-data/build-dir/REP-SRC-JOB1\r\nsimple\t21-Mar-2017 16:36:15\tCloning into '/opt/atlassian/products/bamboo/5.14.5/home/xml-data/build-dir/REP-SRC-JOB1'...\r\nsimple\t21-Mar-2017 16:36:15\tdone.\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git show-ref master\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git checkout -f master\r\nsimple\t21-Mar-2017 16:36:15\tAlready on 'master'\r\nsimple\t21-Mar-2017 16:36:15\tYour branch is up-to-date with 'origin/master'.\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git remote set-url origin ssh://e098740c-0434-4983-8fea-71dbd31889b2@127.0.0.1:50834/proj/source.git\r\nsimple\t21-Mar-2017 16:36:15\t/usr/bin/git submodule update --init --recursive\r\nsimple\t21-Mar-2017 16:36:15\tSubmodule 'module' (ssh://e098740c-0434-4983-8fea-71dbd31889b2@127.0.0.1:50834/proj/module) registered for path 'module'\r\nsimple\t21-Mar-2017 16:36:15\tCloning into 'module'...\r\nsimple\t21-Mar-2017 16:36:15\tWarning: Permanently added '[127.0.0.1]:50834' (RSA) to the list of known hosts.\r\nsimple\t21-Mar-2017 16:36:15\tRepository not found\r\nsimple\t21-Mar-2017 16:36:15\tThe requested repository does not exist, or you do not have permission to access it.\r\nsimple\t21-Mar-2017 16:36:15\tfatal: Could not read from remote repository.\r\nsimple\t21-Mar-2017 16:36:15\t\r\nsimple\t21-Mar-2017 16:36:15\tPlease make sure you have the correct access rights\r\nsimple\t21-Mar-2017 16:36:15\tand the repository exists.\r\nsimple\t21-Mar-2017 16:36:15\tClone of 'ssh://e098740c-0434-4983-8fea-71dbd31889b2@127.0.0.1:50834/proj/module' into submodule path 'module' failed\r\nerror\t21-Mar-2017 16:36:15\tCheckout to revision e227f47ef48b0808ce6d5ffc5844685fb207a050 has failed.\r\n{noformat}\r\n\r\nh3. Possible workarounds:\r\n# Configure repository access keys on agents and use absolute paths in favour of relative ones in the {{.gitmodule}} descriptor, \r\n# Bamboo, when Bitbucket server repository is created, generates and configures an SSH key on Bitbucket/repository. The problem can be mitigated by manually adding the same access keys to submodule repositories hold in Bitbucket Server. Once done that Bamboo will be able to successfully checkout the repository with submodules. \r\n",
      "summary": "gitmodules fail when using relative path"
    }
  },
  {
    "key": "BAM-18264",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-21T18:18:45.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen a Perforce repository is linked to Bamboo, we do not set the Perforce environment variables that are required to override the defaults. These include:\r\n * P4PORT\r\n * P4USER\r\n * P4PASSWD\r\n\r\nWe set these values in the Linked repository settings, but if the environment variable is not present, we use the defaults. Under the hood, this is because Bamboo\u00a0triggers the Perforce commands with a script.\r\n\r\nh3. Suggested Solution\r\n Implement a solution to set the values in Linked repository settings as their respective environment variables.\r\n\r\n||Linked repository setting||P4 environment variable||\r\n|Port|P4PORT|\r\n|Username|P4USER|\r\n|Password|P4PASSWD|\r\n|Client (workspace)|P4CLIENT|\r\n\r\nRun {{p4 login}} when the repository is added, and then on startup.\r\n\r\nh3. Workaround\r\nPlease set these as environment variables from your command line\r\n\r\n{code}export P4PORT=<Port>\r\nexport P4USER=<Username>\r\nexport P4CLIENT=<Client>{code}\r\n\r\nRun {{p4 login}} \u2013 this also allows your password to not be an environment variable, which may be desirable.\r\n\r\n*If you are running Bamboo and Perforce on the same server:*\r\nOn Unix machines, you can also run {{configure-helix-p4d.sh}} to configure the Perforce Daemon. This will configure {{/etc/perforce/p4dctl.conf.d/master.conf}} which the Daemon uses to set its variables on startup",
      "summary": "Set Perforce environment variables, and execute p4 login from Linked repository configuration"
    }
  },
  {
    "key": "BAM-18263",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-07T08:30:15.000+0000",
      "created": "2017-03-21T16:29:43.000+0000",
      "description": "Atlassian support site was moved from support.atlassian.com to getsupport.atlassian.com. So 500 error page template should point to new site",
      "summary": "500 error page should point to new support site"
    }
  },
  {
    "key": "BAM-18262",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-31T07:27:38.000+0000",
      "created": "2017-03-21T15:51:45.000+0000",
      "description": "h3. Summary\r\nWhen modifying the 'bamboo.config.directory' property in bamboo.cfg.xml, Bamboo doesn't look for the cipher file in this updated location.\r\n\r\nh3. Environment\r\n* Bamboo 5.15.3\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.15.3\r\n# Set up a linked repository with authentication that authenticates via keys, passwords, or passphrases.\r\n#* [System-wide encryption|https://confluence.atlassian.com/bamboo/system-wide-encryption-873930114.html]\r\n# Stop Bamboo 5.15.3.\r\n# Move the ${bambooHome}/xml-data/configuration directory to a new location. \r\n# Update the 'bamboo.config.directory' property in bamboo.cfg.xml to point to this new location.\r\n# Start up Bamboo 5.15.3\r\n# Attempt to edit existing linked repositories.\r\n\r\nh3. Expected Results\r\n# View and edit the existing linked repositories without issues.\r\n\r\nh3. Actual Results\r\nNo existing linked repositories are shown. \r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{code}\r\n2017-03-21 23:22:17,714 ERROR [http-nio-8085-exec-5] [ExceptionMappingInterceptor] Unknown cipher data id 0\r\njava.lang.IllegalArgumentException: Unknown cipher data id 0\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:122)\r\n{code}\r\n \r\nh3.Workaround\r\nDon't move the cipher directory and 'cipher.key_0' file when updating the bamboo.config.directory.\r\nLeave the configuration directory structure in place for the Bamboo home directory and keep the 'cipher.key_0' in place. ",
      "summary": "After modifying 'bamboo.config.directory' property bamboo.cfg.xml Bamboo does not look for cipher file in updated configuration directory"
    }
  },
  {
    "key": "BAM-18261",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-20T14:30:13.000+0000",
      "description": "Bamboo should rotate all its log files enabled in a default installation\r\n\r\nh4. Problem:\r\nAs an admin I would expect that any application should be able to manage its logs growth by itself. We should not need to discover what logs are growing fast and creating routines or cron jobs to limit them. The application should have at least a customizable way to manage those limits, rotating the logs.\r\n\r\nExample of logs:\r\n !Screen_Shot_2017-03-20_at_8_32_35_AM.png|thumbnail! \r\n\r\nh4. Proposed solution:\r\nAll the log files enabled by default should be rotated. This rotation should be easily customizable through the application UI or configuration log file.\r\n\r\nh4. Partial workaround:\r\nSolution tomcat stdout:\r\n* Windows:[How to rotate the Tomcat catalina log file on Windows \\- Atlassian Documentation|https://confluence.atlassian.com/jirakb/how-to-rotate-the-tomcat-catalina-log-file-on-windows-852592789.html]\r\n* Linux:[How to rotate the Tomcat catalina log file \\- Atlassian Documentation|https://confluence.atlassian.com/jirakb/how-to-rotate-the-tomcat-catalina-log-file-224398003.html]\r\n\r\nThis will not solve the problem for the following files enabled by default:\r\naccess_log.<DATE>, catalina.<DATE>.log, host-manager.<DATE>.log, localhost.<DATE>.log or manager.<DATE>.log",
      "summary": " Bamboo should rotate all its log files enabled in a default installation"
    }
  },
  {
    "key": "BAM-18260",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-24T10:34:09.000+0000",
      "created": "2017-03-20T14:01:08.000+0000",
      "description": "h3. Summary\r\nBamboo build plan branches are failing to authenticate successfully after upgrading Bamboo to 5.15.3.\r\n\r\nh3. Environment\r\n* Bamboo 5.13.0.1 and 5.15.3\r\n** Most likely affects all versions < 5.15.X and upgrading to 5.15.X\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.13.0.1\r\n# Set up Mercurial and Git repostories with 'Username and Password' for authentication\r\n# Configure builds for the repositories and set up automatic plan branch configuration. \r\n# Create a couple plan branches and observe Bamboo automatically builds them successfully.\r\n#* The plan branches will be configured with 'Override the plan's default repository settings' enabled. \r\n# Stop Bamboo 5.13.0.1\r\n# Upgrade Bamboo to 5.15.3\r\n# Attempt to run the plan branches. \r\n#* You can also go to test the connection of the repository for the plan branch to reproduce similar error.\r\n\r\nh3. Expected Results\r\nExpect the plan branches to run successfully.\r\n\r\nh3. Actual Results\r\nThe plan branches fail to run due to authentication errors with the configured username/password.\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{code}\r\n2017-03-20 20:47:36,937 INFO [9-BAM::PlanExec:pool-16-thread-1] [RetryingTaskExecutor] Task 'Detecting branches HG' was unsuccessful. Run 1 / 2. Exception thrown when running task 'Detecting branches HG', with message: command /usr/local/bin/hg pull --config 'ui.ssh=ssh -o StrictHostKeyChecking=no -o BatchMode=yes' https://*** failed. Working directory was `/Users/mduong/atlassian/bamboo/bamb51301/data/xml-data/build-dir/_hg-repositories-cache/885513b01063a0687a3056cba9259fbbaada78ba'. stderr: abort: authorization failed\r\n stdout: pulling from https://*****\r\n...\r\n2017-03-20 21:34:11,943 INFO [9-BAM::PlanExec:pool-16-thread-3] [DefaultErrorHandler] Recording an error: Unable to detect changes : PRJ217934-PLN179346 : command /usr/bin/git ls-remote https://***** failed with code 128. Working directory was [.]., stderr:\r\nremote: Invalid username or password. If you log in via a third party service you must ensure you have an account password set in your account profile.\r\nfatal: Authentication failed for 'https://*****'\r\n{code}\r\n\r\nh3.Workaround\r\nDisable the 'Override the plan's default repository settings' setting for the source repository of the plan branch.",
      "summary": "Upgrading Bamboo to 5.15.3 Breaks Plan Branches Using Repository Authentication Type 'Username and Password'"
    }
  },
  {
    "key": "BAM-18259",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-20T10:43:23.000+0000",
      "description": "h3. Summary\r\nNUnit executable selection in NUnit tasks is not preserved after upgrade. All executable selection reverts back to the first selection\r\n\r\nh3. Steps to Reproduce\r\n# Start Bamboo 5.13\r\n# Add 2 NUnit executables\r\n# Add a _NUnit Runner_ task in Bamboo\r\n# Select the 2nd executable in the list\r\n# Upgrade to Bamboo 5.14\r\n# Check the NUnit executable\r\n\r\nh3. Expected Results\r\nThe selection should be the same as per pre-upgrade\r\nh3. Actual Results\r\nSelection reverts back to the 1st selection\r\n \r\nh3. Observation\r\nBefore Bamboo 5.14, the following values are stored in the database to determine executable:\r\n{code:borderStyle=solid}\r\n        <item>\r\n          <key>label</key>\r\n          <value>NUnit 2</value>\r\n        </item>\r\n{code}\r\n\r\nAfter upgrade, the label format changes:\r\n{code:borderStyle=solid}\r\n        <item>\r\n          <key>label</key>\r\n          <value>system.builder.nunit.NUnit 2</value>\r\n        </item>\r\n{code}\r\n\r\nh3.Workaround\r\n(!) Create a database backup before proceeding\r\n{code:borderStyle=solid}\r\nUPDATE BUILD_DEFINITION SET XML_DEFINITION_DATA=REPLACE(XML_DEFINITION_DATA,'<value>Executable Name</value>','<value>system.builder.nunit.Executable Name</value>');\r\n{code}\r\n(i) Replace _Executable Name_ in the query\r\n\r\nThen restart Bamboo",
      "summary": "NUnit Executable selection not preserve during upgrade from 5.13 to 5.14"
    }
  },
  {
    "key": "BAM-18258",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-20T10:52:53.000+0000",
      "created": "2017-03-20T08:55:06.000+0000",
      "description": "h2. HTR\r\n# Install Xcode plugin on a Bamboo instance\r\n# Start Bamboo Agent on a system which doesn't have `xcodebuild` installed and register it to Bamboo instance\r\n\r\nh2. Expected Behaviour \r\nAgent starts fine and automatically detects its own capabilities. If Agent is no capable of building Xcode tasks, if shouldn't have any Xcode related capabilities.\r\n\r\nh2. Actual behaviour\r\nAgent starts and registers fine, but NPE is thrown into Agents logs.\r\n{noformat}\r\njava.lang.NullPointerException\r\n\tat java.io.File.<init>(File.java:277)\r\n\tat com.atlassian.bamboo.plugins.xcode.build.XCodeSDKCapabilityTypeModule.addDefaultCapabilities(XCodeSDKCapabilityTypeModule.java:74)\r\n\tat com.atlassian.bamboo.v2.build.agent.capability.CapabilityDefaultsHelperImpl$1.run(CapabilityDefaultsHelperImpl.java:54)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils$Runnable.call(BambooPluginUtils.java:123)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils$Runnable.call(BambooPluginUtils.java:113)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils.callUnsafeCode(BambooPluginUtils.java:57)\r\n\tat com.atlassian.bamboo.v2.build.agent.capability.CapabilityDefaultsHelperImpl.addDefaultCapabilities(CapabilityDefaultsHelperImpl.java:43)\r\n\tat com.atlassian.bamboo.v2.build.agent.remote.AgentRegistrationBean.registerAgent(AgentRegistrationBean.java:50)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:354)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:305)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:778)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:139)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:93)\r\n\tat com.atlassian.bamboo.v2.build.agent.remote.RemoteAgent$1.<init>(RemoteAgent.java:251)\r\n\tat com.atlassian.bamboo.v2.build.agent.remote.RemoteAgent.initApplicationContext(RemoteAgent.java:250)\r\n\tat com.atlassian.bamboo.v2.build.agent.remote.RemoteAgent.start(RemoteAgent.java:86)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.bamboo.agent.bootstrap.AgentRunner.run(AgentRunner.java:30)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n",
      "summary": "Bamboo Xcode plugin on agent which doesn't have `xcodebuild` throws NPE"
    }
  },
  {
    "key": "BAM-18257",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-20T02:15:13.000+0000",
      "description": "h3. Problem Definition\r\n\r\nSince the transition to systemd from SysV in RHEL 7\u00a0we have some issues within our elastic agent scripts which make creating a custom AMI for RHEL 7\u00a0difficult.\r\n\r\nE.g.\u00a0{{setupEphemeralStorageStructure.sh}} doesn't work.\r\n{code:java}\r\nERROR\r\n.......................\r\nRestarting Docker...\r\n/opt/bamboo-elastic-agent/bin/setupEphemeralStorageStructure.sh: line 58: /etc/init.d/docker: No such file or directory\r\nRemoved symlink /etc/systemd/system/multi-user.target.wants/docker.service\r\n........................{code}\r\n\u00a0The failing part of the script:\r\n{code:java}\r\necho Restarting Docker...\r\nif [ -f /etc/default/docker ] ; then\r\nservice docker restart\r\nelif [ -f /etc/sysconfig/docker ] ; then\r\n/etc/init.d/docker restart\r\nfi\r\nhash systemctl 2>/dev/null && systemctl disable docker{code}\r\nAlso setting up the elastic agent watchdog in the {{/etc/rc.local}} has incompatibilities with:\r\n{code:java}\r\necho \"*/5 * * * * root /opt/bamboo-elastic-agent/bin/checkElasticAgent.sh\" > /etc/cron.d/elasticagentcheck\r\n\r\ncronScripts=\"/etc/init.d/cron /etc/init.d/crond /etc/init.d/dcron /etc/init.d/anacron\"\r\ncronScript=$(firstMatching x $cronScripts)\r\nif [ -z \"$cronScript\" ] ; then\r\n\u00a0 \u00a0 logStartupProgress \"Unknown cron setup, tried $cronScripts, terminating instance.\"\r\n\u00a0 \u00a0 shutdown\r\nfi{code}\r\nResulting in:\r\n{code:java}\r\nUnknown cron setup, tried /etc/init.d/cron /etc/init.d/crond /etc/init.d/dcron /etc/init.d/anacron, terminating instance{code}\r\nh3. Suggested Solution\r\n\r\nSeparate restart case for RHEL configurations E.g.\r\n{code:java}\r\nsudo systemctl restart docker{code}\r\nh3. Workaround\r\n\r\nModify {{setupEphemeralStorageStructure.sh}} to restart Docker with {{sudo systemctl restart docker}} and save the image.",
      "summary": "Better support for RHEL 7 custom elastic images"
    }
  }
]