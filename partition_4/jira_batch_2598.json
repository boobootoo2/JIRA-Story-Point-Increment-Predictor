[
  {
    "key": "BAM-20712",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-08T14:39:15.000+0000",
      "created": "2019-11-08T14:38:28.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo queue fail to work properly due to duplicates\r\n\r\nh3. Steps to Reproduce\r\nSteps may vary depending on each instance\r\n\r\nh3. Expected Results\r\nNo duplicates entries in the queue, since keys should always be unique\r\n\r\nh3. Actual Results\r\nThe following error is displayed in the server logs:\r\n{noformat}\r\n2019-07-30 00:39:30,388 ERROR [PluginSchedulerTask-KubernetesIsolatedDockerImpl] [KubernetesWatchdog] Exception caught and swallowed to preserve rescheduling of the task\r\njava.lang.IllegalArgumentException: Multiple entries with same key: QueuedResultKey{resultKey=BP-FLL-CUIE-323, timestamp=16838536244288330}=com.atlassian.bamboo.v2.build.queue.BuildQueueManager$QueueItemView@78f5394d and QueuedResultKey{resultKey=BP-FLL-CUIE-323, timestamp=16838536244288330}=com.atlassian.bamboo.v2.build.queue.BuildQueueManager$QueueItemView@64ee5a78\r\n    at com.google.common.collect.ImmutableMap.checkNoConflict(ImmutableMap.java:150)\r\n    at com.google.common.collect.RegularImmutableMap.checkNoConflictInBucket(RegularImmutableMap.java:104)\r\n    at com.google.common.collect.RegularImmutableMap.<init>(RegularImmutableMap.java:70)\r\n    at com.google.common.collect.ImmutableMap$Builder.build(ImmutableMap.java:254)\r\n    at com.google.common.collect.Maps.uniqueIndex(Maps.java:1166)\r\n    at com.google.common.collect.Maps.uniqueIndex(Maps.java:1140)\r\n    at com.atlassian.bamboo.v2.build.queue.QueueManagerView.getQueueView(QueueManagerView.java:55)\r\n    at com.atlassian.buildeng.spi.isolated.docker.DockerAgentBuildQueue.currentlyQueued(DockerAgentBuildQueue.java:72)\r\n    at com.atlassian.buildeng.kubernetes.KubernetesWatchdog.executeImpl(KubernetesWatchdog.java:262)\r\n    at com.atlassian.buildeng.kubernetes.KubernetesWatchdog.execute(KubernetesWatchdog.java:107)\r\n    at com.atlassian.sal.core.scheduling.TimerPluginScheduler$PluginTimerTask.run(TimerPluginScheduler.java:75)\r\n    at java.util.TimerThread.mainLoop(Timer.java:555)\r\n    at java.util.TimerThread.run(Timer.java:505)\r\n{noformat}\r\n\r\nh3. Workaround\r\nUpgrade to a version of Bamboo higher or equal to 6.10.0.",
      "summary": "Bamboo queue fail to work properly due to duplicates"
    }
  },
  {
    "key": "BAM-20711",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-23T14:20:58.000+0000",
      "created": "2019-11-08T07:22:08.000+0000",
      "description": "Summary\r\nCurrently, Bamboo Server supports SQL Server 2016 and SQL Server 2017 .\r\n\r\nRequest\r\n\r\nAs improvements and new features are for MS SQL 2019, it would be useful to add support for MS SQL 2019.",
      "summary": "Support for MS SQL 2019"
    }
  },
  {
    "key": "BAM-20709",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-07T23:36:23.000+0000",
      "description": "Raised from [YAML - How to define a JOB that does not pull down source code?|https://community.atlassian.com/t5/Bamboo-questions/YAML-How-to-define-a-JOB-that-does-not-pull-down-source-code/qaq-p/1220284]\r\n\r\n\r\nCurrently there is no way to stop a job from checking out source code. \r\nThis is a problem when trying to define multi stage plans. Multi stage plans typically checkout in stage one and for subsequent stages depend on output/artefacts thus do not need to checkout source again. \r\n\r\neg.\r\n\r\n",
      "summary": "Bamboo Specs - YAML - Capability to skip/disable checkout for a job"
    }
  },
  {
    "key": "BAM-20708",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-07T09:14:23.000+0000",
      "created": "2019-11-06T22:20:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAt some conditions Bamboo is unable to clear inconsistent git cache and perform change detection\r\nh3. Steps to Reproduce\r\n # none\r\n It seems that this happens if the change detection and the branch detection run at the same time.\r\nh3. Expected Results\r\n\r\nWhen the git cache is inconsistent should be deleted and recreated.\r\nh3. Actual Results\r\n\r\nThe detention of the cache fails:\r\n{code:java}\r\n2019-10-18 03:02:28,922 WARN [9-BAM::PlanExec:pool-16-thread-4] [AbstractGitExecutor] Deleting directory /var/vcap/store/atlassian-bamboo/xml-data/build-dir/_git-repositories-ca\r\nche/18dcecf2d35a3ffacb7165829681b4f94640bd4a\r\n2019-10-18 03:02:28,923 ERROR [9-BAM::PlanExec:pool-16-thread-4] [AbstractGitExecutor] Unable to delete files: [.git], expect trouble\r\n2019-10-18 03:02:28,936 INFO [9-BAM::PlanExec:pool-16-thread-4] [DefaultChangeDetectionManager] Found 1672 open branches for xxxx-xxxx\r\n2019-10-18 03:02:28,938 INFO [9-BAM::PlanExec:pool-16-thread-4] [DefaultErrorHandler] Recording an error: Unable to detect changes : xxxxx-xxxx : com.atlassian.bamboo.repository.RepositoryException: : Cannot fetch branch 'refs/heads/SBM-1290_Update__FOR_QA_MERGE_ONLY' from 'ssh://git@......com:7999/.../.....git' to source directory '/var/vcap/store/atlassian-bamboo/xml-data/build-dir/_git-repositories-cache/18dcecf2d35a3ffacb7165829681b4f94640bd4a'. command [/usr/bin/git fetch ssh://45dd5a04-ff0f-40e2-92d1-556630c29827@127.0.0.1:45257/..../......git +refs/heads/SBM-1290_Update__FOR_QA_MERGE_ONLY:refs/heads/SBM-1290_Update__FOR_QA_MERGE_ONLY --update-head-ok] failed with code 128. Working directory was [/var/vcap/store/atlassian-bamboo/xml-data/build-dir/_git-repositories-cache/18dcecf2d35a3ffacb7165829681b4f94640bd4a]., stderr:\r\nfatal: Not a git repository (or any parent up to mount point /var/vcap)\r\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n{code}\r\nh3. Workaround\r\n\r\nManually clean the git cache.",
      "summary": "At some conditions Bamboo is unable to clear inconsistent git cache and perform change detection"
    }
  },
  {
    "key": "BAM-20707",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-17T15:43:04.000+0000",
      "created": "2019-11-06T20:19:33.000+0000",
      "description": "Please update confusing messaging for capability path override \u2013\r\n\"Overrides ...\" should clarify that the override on the agent page applies only to commands run on the agent and not to the server.",
      "summary": "Update messaging on Agent Capabilities override"
    }
  },
  {
    "key": "BAM-20706",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-28T07:42:49.000+0000",
      "created": "2019-11-06T16:06:40.000+0000",
      "description": "h3. Problem Definition\r\n\r\nBamboo currently caches global variables at the time the build that resulted in the release was executed, and if the variable values were modified after that, the changes will only take effect on the next builds/releases.\r\n\r\nIt's understandable that in some cases is important to keep the same context (to get consistent build re-runs, for example) but, it's debatable that this same logic should also be applied to global variables in deployments as they are often used to store credentials that sometimes needs to be updated.  \r\n\r\nh3. Suggested Solution\r\n\r\nBamboo should allow global variables values to be read in runtime when deploying releases to environments.\r\n \r\nh3. Workaround\r\n\r\nNo workaround is available.",
      "summary": "Global variables should be read at runtime during deployment"
    }
  },
  {
    "key": "BAM-20705",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-19T13:08:19.000+0000",
      "created": "2019-11-05T16:32:43.000+0000",
      "description": "h3. Issue Summary\r\nDuplicate project keys when double clicking \"save\" on creating a new project\r\n\r\nh3. Steps to Reproduce\r\n# Select Create and Project\r\n# Double click on Save\r\n\r\nh3. Expected Results\r\nOnly one project is created.\r\n\r\nh3. Actual Results\r\nTwo projects are created with the same key in {{PROJECTS}} table:\r\n\r\n||project_id||created_date||updated_date||project_key||title||description||marked_for_deletion||oid||\r\n|218759169|2019-09-04 11:58:32|2019-09-04 11:58:32|PKEY|TITLE| |false|3225703233104165889|\r\n|218759170|2019-09-04 11:58:32|2019-09-04 11:58:32|PKEY|TITLE| |false|3225703233104165890|\r\n\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log and UI when viewing the project:\r\n{noformat}\r\norg.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is org.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:262)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:386)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:335)\r\n\tat com.atlassian.bamboo.project.ProjectHibernateDao.getProjectByKey(ProjectHibernateDao.java:123)\r\n\tat sun.reflect.GeneratedMethodAccessor983.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy147.getProjectByKey(Unknown Source)\r\n\tat com.atlassian.bamboo.project.DefaultProjectManager.getProjectByKey(DefaultProjectManager.java:96)\r\n{noformat}\r\n\r\nh3. Workaround\r\nSingle click in Save",
      "summary": "Duplicate project keys when double clicking \"save\" on creating a new project"
    }
  },
  {
    "key": "BAM-20704",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-04T10:24:19.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAccording to logs Bamboo was not able to remove repository cache folder and after reporting process for remove branch list was finished. It might be coincidence but it looks like git process for branch detection prevented Bamboo from cache folder removal\r\nh3. Steps to Reproduce\r\n\r\nIt's hard to reproduce and happened several times at customer environment.\u00a0\r\nh3. Expected Results\r\n\r\nExecuted by Bamboo processes are synchronized by folder and don't conflict\r\nh3. Actual Results\r\n\r\nCache folder kept in broken state\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Git branch detection might block cache folder cleanup"
    }
  },
  {
    "key": "BAM-20703",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-04T09:21:41.000+0000",
      "description": "h3. Summary\r\nApart from agent dedication, there is not much control on how to prioritize agents and limit usage.\r\n\r\nh3. Accepted solution\r\n- Have the ability to prioritize certain agents per job.\r\n- Have the ability to prioritize agents over other agents overall. \r\n- Have the ability to prioritize one type of agents over other (example: ec2 vs spot instances vs remote)",
      "summary": "Ability to prioritize agents"
    }
  },
  {
    "key": "BAM-20702",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-01T18:31:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen clicking on *Deployed* button on Jira issue a NullPointerException is thrown if the linked plan from deployment project doesn't exist anymore.\r\nh3. Steps to Reproduce\r\n # Create a plan and generate build with Jira linked issue\r\n # Create a deployment environment and link with the build\r\n # Deploy a release from the deployment environment created\r\n # Delete the plan\r\n\r\nh3. Expected Results\r\n\r\nBamboo shouldn't throw any error.\r\nh3. Actual Results\r\n # Clicking on Deployed on Jira issue linked to a deployed environment shows the following error:\u00a0\r\n !image-2019-11-01-15-40-49-715.png|width=578,height=280!\r\n # In the Bamboo logs the NullPointerException is thrown:\r\n{code:java}\r\n2019-11-01 14:15:15,338 INFO [http-nio-8085-exec-22] [AccessLogFilter] http://bamboo-server:8085/rest/jira-dev/latest/detail/deployment?globalId=SCRUM-10\r\n2019-11-01 14:15:15,424 ERROR [http-nio-8085-exec-22] [ThrowableExceptionMapper] Uncaught exception thrown by REST service: null\r\njava.lang.NullPointerException\r\n\tat com.atlassian.bamboo.plan.PlanKeys.isJobKey(PlanKeys.java:92)\r\n\tat com.atlassian.bamboo.plan.cache.CachedPlanManagerImpl.getPlanByKey(CachedPlanManagerImpl.java:53)\r\n\tat sun.reflect.GeneratedMethodAccessor1005.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.aopalliance.AuthorityOverrideMethodSecurityInterceptor.invoke(AuthorityOverrideMethodSecurityInterceptor.java:24)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy145.getPlanByKey(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor1005.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy453.getPlanByKey(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor1005.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.sun.proxy.$Proxy1549.getPlanByKey(Unknown Source)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.getChainBranchName(ChainBranchUtils.java:84)\r\n\tat com.atlassian.bamboo.plugins.jira.rest.resource.JiraIssueRelatedDeploymentsResource.getLatestRelevantBuildStatusesForJiraIssue(JiraIssueRelatedDeploymentsResource.java:136)\r\n(...)\r\n{code}\r\n # In the {{[http://bamboo-server:8085/rest/jira-dev/latest/detail/deployment?globalId=SCRUM-10]}} endpoint we can see the NullPointerException as well:\r\n !image-2019-11-01-15-41-41-501.png|width=509,height=61!\r\n\r\nh3. Workaround\r\n # Stop Bamboo\r\n # Clean <bamboo-home>/caches\r\n # Restart Bamboo",
      "summary": "NullPointerException when clicking on Deployed button on Jira issue"
    }
  },
  {
    "key": "BAM-20701",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-01T04:26:39.000+0000",
      "description": "hi Support,\r\n\r\nWe are creating a elastic agent to start up a instance , in order to run selenium webdriver tests.\r\n\r\nAMI configuration is done according to your documents, and configured on our bamboo server.\u00a0\u00a0[https://confluence.atlassian.com/bamboo/creating-a-custom-elastic-image-windows-296093042.html]\u00a0\r\n\r\n\u00a0\r\n\r\nHowever, for dubugging purpose, test team require to use \"bamboo\" user , to logon the started elastic agent to view the chrome browser running on RDP session.\u00a0\r\n\r\n\u00a0\r\n\r\nWhen I RDP into the instance (windows server 2012 R2) , i run commnad line \"tasklist \\v \". I can see there are different sessions , that chromedriver.exe exist in Session Name  as \"Services\", Session# is 0. \r\n\r\nHowever, I logon that instance , i reside in Session \"RDP-Tcp#3\", and Session Number \"2\". \r\n\r\nwe want to see chrome browser in the actived screen, can be seen in the user logon session. \r\n\r\nCan you advise how do we achieve it ? \r\n\r\nRegards,\r\nKevin",
      "summary": "use elastic agent to run selenium webdriver tests"
    }
  },
  {
    "key": "BAM-20700",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-31T13:14:28.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCurrently, it is not possible to include branch name in artifacts name.\r\nh3. Suggestion\r\n\r\nInclude an option to include branch name automatically in artifact name.\r\nh3. Workaround\r\n\r\nInclude branch name in the artifact name manually.",
      "summary": "Include branch name in artifact name"
    }
  },
  {
    "key": "BAM-20699",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-30T22:09:41.000+0000",
      "description": "One of our developers wants to write a Bamboo Plan which rolls back his changes if his unit tests fail.\r\n\r\nHe wants to roll them back via a force push.\r\n\r\nCan we add an option to allow force pushing from the Repository Push task?",
      "summary": "Add ability to force push from Repository Push task"
    }
  },
  {
    "key": "BAM-20698",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-21T12:32:46.000+0000",
      "created": "2019-10-30T14:36:35.000+0000",
      "description": "At some conditions non-admin user can't see deployment environments when scroll page.\r\n\r\n\u00a0\r\n\r\nWorkaround:\u00a0\r\n\r\nUse deployment name filter to fetch limited deployment list",
      "summary": "Deployment dashboard misses environments for non-admin users"
    }
  },
  {
    "key": "BAM-20697",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-30T13:42:47.000+0000",
      "description": "Example:\r\n\r\nWhen running commands which commits and tags, for example\r\n{code:java}\r\nnpm version major{code}\r\nWithout having to use the _Repository Commit_ and _Repository Tag_ tasks.\r\n\r\nIt would be preferable to use the _Repository Push_ with the option to push existing tags in the repo. Using the `--follow-tags` and/or `--tags`",
      "summary": "Allow --follow-tags for Repository Push"
    }
  },
  {
    "key": "BAM-20696",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-30T03:57:07.000+0000",
      "description": "As a Bamboo administrator I would like to control users permissions in a regular way via UI separately from Bamboo YAML Specs (At the same time using YAML specs for build control).\r\n\r\nLike in Travis or Appveyor.",
      "summary": "Using Bamboo YAML Specs with regular UI permissions control"
    }
  },
  {
    "key": "BAM-20695",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-30T17:47:03.000+0000",
      "created": "2019-10-28T18:15:56.000+0000",
      "description": "h3. Issue Summary\r\nThe {{UpgradeProtocol}} in the 8443 Connector in {{server.xml}} causes Bamboo to fail on startup with a Severe exeption\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 6.9 or above\r\n# Uncomment the 8443 connector\r\n# Start Bamboo\r\n\r\nh3. Expected Results\r\nBamboo starts as expected\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n23-Oct-2019 21:10:11.763 SEVERE [main] org.apache.coyote.http11.AbstractHttp11Protocol.configureUpgradeProtocol The upgrade handler [org.apache.coyote.http2.Http2Protocol] for [h2] only supports upgrade via ALPN but has been configured for the [\"https-jsse-nio-8443\"] connector that does not support ALPN.\r\n23-Oct-2019 21:10:11.763 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"https-jsse-nio-8443\"]\r\n23-Oct-2019 21:10:12.228 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8443]]\r\n\torg.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8443]]\r\n...\r\n\tCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n...\r\n\tCaused by: java.lang.IllegalArgumentException\r\n...\r\n\tCaused by: java.io.IOException\r\n...\r\n{noformat}\r\n\r\nh3. Workaround\r\nh4. Option 1\r\n# Stop Bamboo\r\n# Remove the following lines from the {{server.xml}}:\r\n{code:xml|title=From}\r\n...\r\n            <UpgradeProtocol className=\"org.apache.coyote.http2.Http2Protocol\" />\r\n</Connector>\r\n{code}\r\n# Close the Connector XML\r\n{code:xml|title=To}\r\n/>\r\n{code}\r\n# Start Bamboo\r\n\r\nh4. Option 2\r\n# Stop Bamboo\r\n# Comment out or delete the existing HTTPS Connector from {{server.xml}}\r\n# Copy the HTTPS Connector from [_Securing Bamboo with Tomcat using SSL \\- 2. Configure HTTPS in Tomcat_|https://confluence.atlassian.com/bamboo/securing-bamboo-with-tomcat-using-ssl-391087422.html#SecuringBamboowithTomcatusingSSL-2.ConfigureHTTPSinTomcat] into {{server.xml}}\r\n# Start Bamboo",
      "summary": "UpgradeProtocol node in 8443 connector causes error on startup"
    }
  },
  {
    "key": "BAM-20694",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-29T14:14:29.000+0000",
      "created": "2019-10-28T09:53:03.000+0000",
      "description": "h3. Issue Summary\r\nEncrypted password variables can be viewed as plain text with the option of *Show*. If for some reason an unintended guest has access to the SPECS managed git repository, such encrypted string can be copied as a variable value in the unwanted guest instance, and decoded\r\n\r\nh3. Expected Results\r\nThe option Show should be removed to keep encrypted password secure.\r\n A possibility of reusing encrypted variables in different projects should be eliminated\r\n",
      "summary": "Secure password variables"
    }
  },
  {
    "key": "BAM-20691",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-01T23:08:54.000+0000",
      "created": "2019-10-25T19:51:38.000+0000",
      "description": "h2. Summary\r\n\r\nWhen Bamboo is having issues with Bitbucket authentication, Bamboo creates SSH zombie process in Bamboo server when the following message appears in the logs:\r\n{code:java}\r\n[Connection killer] [SshProxyCommand] SSH proxy tried to connect to [git@SERVER/XXX.XXX.XXX.XXX:PORT]: and failed due to the following error: [Authenticating remote session failed]{code}\r\nh2. Details\r\n\r\nCreate a Bitbucket linked repository with Bamboo and create any trigger to call the change detection in the repository.\r\n\r\nAfter doing that, a message should appear in the logs, such as:\r\n{code:java}\r\n[Connection killer] [SshProxyCommand] SSH proxy tried to connect to [git@SERVER/XXX.XXX.XXX.XXX:PORT]: and failed due to the following error: [Authenticating remote session failed]\r\n{code}\r\nNow, check the zombie process in the Bamboo server and you should see the zombie process increasing:\r\n{code:java}\r\nbamboo     213     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     214     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     215     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     217     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     218     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     256     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     261     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\nbamboo     262     1  0 11:32 ?        00:00:00 [ssh] <defunct>\r\n{code}\r\nh2. Workaround\r\n\r\nRestart Bamboo server to clean the zombie processes or delete the repository or remove Bitbucket trigger.",
      "summary": "Zombie SSH process is created in the server when some Bitbucket authentication error happens"
    }
  },
  {
    "key": "BAM-20690",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-12T11:01:48.000+0000",
      "created": "2019-10-24T15:05:35.000+0000",
      "description": "On an instance with several linked repositories the repository cache initialization may take a while:\r\n{code}\r\n2019-05-04 09:20:12,810 INFO [localhost-startStop-1] [CachedRepositoryDefinitionManagerImpl] Repository cache initialising...\r\n2019-05-04 09:30:41,562 INFO [localhost-startStop-1] [CachedRepositoryDefinitionManagerImpl] Repository cache initialised in 10.48 min\r\n{code}\r\nAnd there is no log showing if the initialization is proceeding. Please add additional log similar to plan cache initialization.",
      "summary": "Please add additional logging at startup for Repository cache initializing"
    }
  },
  {
    "key": "BAM-20689",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-22T14:09:35.000+0000",
      "description": "h3. Summary\r\nWhen Bamboo performs an import or any kind of restore (or even after a deletion thread is run), its index will be outdated, and a manual re-index is needed.\r\n\r\nh3. Accepted solution 1\r\nForce a re-index if an import is performed. \r\n\r\nh3. Accepted solution 2\r\nHave the possibility to schedule re-indexes.",
      "summary": "Force a full re-index under certain conditions"
    }
  },
  {
    "key": "BAM-20688",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-22T05:50:41.000+0000",
      "description": "Currently when doing scheduled backups it will pause bamboo server, which will interrupt the CI and CD activities. So if bamboo backup can run while don't pause the bamboo server?",
      "summary": "Avoid downtime during bamboo scheduled backups"
    }
  },
  {
    "key": "BAM-20686",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:38:23.000+0000",
      "created": "2019-10-21T14:01:14.000+0000",
      "description": "It's not possible to manage plan dependencies by Bamboo Specs YAML",
      "summary": "Manage plan dependencies by YAML"
    }
  },
  {
    "key": "BAM-20685",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T13:59:58.000+0000",
      "description": "Docker tasks allow to run docker container in background during job execution. It's not possible to use it at Bamboo Specs YAML.",
      "summary": "Support Docker CLI tasks at Specs YAML"
    }
  },
  {
    "key": "BAM-20684",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-03T07:13:12.000+0000",
      "created": "2019-10-21T13:58:38.000+0000",
      "description": "There's no separate Maven task for Specs YAML. It would be great to have it\r\nh3. Workaround\r\n\r\nSee workaround at documentation:\u00a0\u00a0[https://docs.atlassian.com/bamboo-specs-docs/6.10.3/specs.html?yaml#task-maven]",
      "summary": "Support Maven task at Specs YAML"
    }
  },
  {
    "key": "BAM-20683",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T13:55:19.000+0000",
      "description": "It's not possible to use Repository Push task in Bamboo Specs YAML",
      "summary": "Support Repository Push task at Specs YAML"
    }
  },
  {
    "key": "BAM-20682",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T13:53:07.000+0000",
      "description": "It's not possible to use Repository Commit task in Bamboo Specs YAML",
      "summary": "Support Repository Commit task at Specs YAML"
    }
  },
  {
    "key": "BAM-20681",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T13:52:18.000+0000",
      "description": "It's not possible to use Repository Branch task in Bamboo Specs YAML",
      "summary": "Support Repository Branch task at Specs YAML"
    }
  },
  {
    "key": "BAM-20680",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T13:50:15.000+0000",
      "description": "It's not possible to use Repository Tag task in Bamboo Specs YAML",
      "summary": "Support Repository Tag task at Specs YAML"
    }
  },
  {
    "key": "BAM-20679",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:39:02.000+0000",
      "created": "2019-10-18T08:58:27.000+0000",
      "description": "h3. Issue Summary\r\nWhen complex label regex is used, it will cause\r\n* high CPU usage\r\n* all other builds hung in Bamboo server (even though remote agents have completed the builds)\r\n* builds that have completed on an agent earlier appear to still be running (because their result is being processed by the server, or waiting to be processed)\r\n\r\nh3. Steps to Reproduce\r\n# Create a build with complex label regex setting at {{Plan Configuration >> Stages & jobs >> <jobName> >> Miscellaneous/Other}}\r\n{noformat}\r\n(.*,\\([^abc]*\\):.*)\r\n{noformat}\r\n# Configure a Script task with the following command:\r\n{noformat}\r\nyes \"HelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorldHelloWorld\" | head -n 2000000\r\n{noformat}\r\n# Create multiple remote agents\r\n# Disable local agent\r\n# Enable Concurrent builds\r\n# Run the same plan for a multiple times to perform concurrent builds\r\n\r\nh3. Expected Results\r\nAll builds will finish without problem\r\n\r\nh3. Actual Results\r\n* High CPU usage in Bamboo server when the first plan finish running\r\n* Some builds hung for certain time even though the remote agent logs shows that it has completed\r\n* Some builds fail due to remote agent disconnected even though the remote agent logs shows that it has completed and sent the result to Bamboo server\r\n* Thread dump shows that \"BuildTailMessageProcessingThread-expensive:pool\" is processing label search, causing it unable to process other remote agent communication messages:\r\n{noformat}\r\n\"9-BuildTailMessageProcessingThread-expensive:pool-16-thread-4196\" #3245944 daemon prio=1 os_prio=0 tid=0x00007f28a014e800 nid=0x1e9f runnable [0x00007f277bc40000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.util.regex.Pattern$CharProperty.match(Pattern.java:3776)\r\n\tat java.util.regex.Pattern$Curly.match0(Pattern.java:4260)\r\n\tat java.util.regex.Pattern$Curly.match(Pattern.java:4234)\r\n\tat java.util.regex.Pattern$Branch.match(Pattern.java:4604)\r\n\tat java.util.regex.Pattern$GroupHead.match(Pattern.java:4658)\r\n\tat java.util.regex.Pattern$Start.match(Pattern.java:3461)\r\n\tat java.util.regex.Matcher.search(Matcher.java:1248)\r\n\tat java.util.regex.Matcher.find(Matcher.java:637)\r\n\tat com.atlassian.bamboo.plugins.labeller.BuildLabeller.resolveLabels(BuildLabeller.java:119)\r\n\tat com.atlassian.bamboo.plugins.labeller.BuildLabeller.labelBuildResult(BuildLabeller.java:263)\r\n\tat com.atlassian.bamboo.plugins.labeller.BuildLabeller.call(BuildLabeller.java:85)\r\n\tat sun.reflect.GeneratedMethodAccessor1913.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInterceptor.invoke(OpenSessionInterceptor.java:93)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n{noformat}\r\n\r\nh3. Notes\r\n* If large build log (~160MB) is produced, the label search might take a few days to complete causing all other builds to hung and fail (Bamboo server have to restarted to stop this process)\r\n* The fix in BAM-20570 may produce more than one thread processing the remote agent message but it will still produce high CPU and the same problem will still happen if multiple build produce large build logs at the same time\r\n* It would be great if one of the following is used to prevent it:\r\n** timeout on label search so that it will not cause other builds to hung (user may not know that label search has timeout without checking Bamboo log)\r\n** label search will only process the first XX lines (the label setting can have a message that it will only process the first XX lines)\r\n** detect complex regex or [initial|https://www.regular-expressions.info/catastrophic.html] \".*\" (if it is possible) and prevent user from configuring it\r\n** perform label search in the remote agent side\r\n\r\nh3. Workaround\r\nDo not use complex regex in label setting",
      "summary": "High CPU and hung builds when using complex label regex"
    }
  },
  {
    "key": "BAM-20678",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-16T10:23:46.000+0000",
      "description": "*Releated Bug:*\r\n\r\nhttps://jira.atlassian.com/browse/BAM-19600\r\n\r\n*My Suggetion:*\r\n\r\nIn my opinion this bug was not resolved only the document was updated.\r\n\r\nI did some research and reviewed the code that was previously plugin.\r\n\r\nfinal File file = new File (taskContext.getWorkingDirectory (), filePath);\r\n\r\nThis is the wrong use. This task may contain more options. fileName and filePath are not the same thing.\u00a0!https://pasteboard.co/ICdNgpB.png!\r\n\r\n*My Design:*\r\n\r\n[https://pasteboard.co/ICdNgpB.png]",
      "summary": "Inject Bamboo variables task will support absoulte path"
    }
  },
  {
    "key": "BAM-20677",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-15T16:37:21.000+0000",
      "description": "\r\nh3. Problem\r\n\r\nWe can trigger an environment when another environment is successfully run, but we can't trigger it based on more than one environment.\r\nLet's suppose the following scenario:\r\n* Env1 is triggered when a Plan build x successfully finishes\r\n* Env2 is also triggered when Plan build x successfully finishes\r\n* Env1 and Env 2 will run in parallel due to this configuration\r\n* Env3 should run only when Env1 and Env2 finishes with success\r\n\r\nThis scenario is not achievable with the current implementation of Bamboo. It means that we can define a sequence of environments to run one after another, but we can't run some of them in parallel. If we try that we will lose the ability to run the chain of events that connect them.\r\n\r\nh3. Suggested solution\r\n\r\nAllow triggers to have multiple previous environments. The trigger should provide the option to check if all of them succeeded before triggering the current environment.",
      "summary": "Allow triggering an environment only when multiple specified environments run with success"
    }
  },
  {
    "key": "BAM-20676",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-15T14:00:46.000+0000",
      "created": "2019-10-15T08:03:22.000+0000",
      "description": "h3. Issue Summary\r\nIf Submodule option is enabled in the repository, Specs scan will fail due to unable to checkout submodule repository (BAM-11369)\r\n\r\nh3. Steps to Reproduce\r\n# Enable Submodule option in the Bamboo repository setting\r\n# Run Specs scan\r\n\r\nh3. Expected Results\r\nBamboo will checkout repository with submodule without problem\r\n\r\nh3. Actual Results\r\nBamboo fail to checkout submodule repository.\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2019-10-15 15:48:57,335 INFO [15-BAM::SpecsDetection:pool-22-thread-2] [RssDetectionRunnable] Exception while executing RSS detection for repository 524291\r\njava.lang.RuntimeException: com.atlassian.bamboo.plugins.stash.repository.StashRepositoryException: com.atlassian.bamboo.repository.RepositoryException: Checkout to revision cefdb817452b8c7254e7e1767d92d2041ef1dca9 has failed.command [/usr/local/bin/git submodule update --init --recursive] failed with code 1. Working directory was [/Volumes/Atlassian/bamboo/atlassian-bamboo-6.10.3/home/xml-data/build-dir/serverSide/REPOSITORY_STORED_SPECS/repository-524291/checkout]., stderr:\r\nSubmodule 'test2' (ssh://09e10741-04d7-4c21-8757-935ac9bc29d4@127.94.0.1:53966/tst/test2.git) registered for path 'test2'\r\nCloning into 'test2'...\r\nWarning: Permanently added '[127.94.0.1]:53966' (RSA) to the list of known hosts.\r\ngit@xxx: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\nfatal: clone of 'ssh://git@xxx/tst/test2.git' into submodule path 'test2' failed\r\n...\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n\tat com.atlassian.bamboo.utils.BambooThrowables.propagate(BambooThrowables.java:20)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:320)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:284)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n{noformat}\r\n\r\nh3. Notes\r\nSubmodule checkout fail due to https://jira.atlassian.com/browse/BAM-11369\r\n\r\nh3. Workaround\r\nAdd the SSH key in the machine hosting Bamboo to the Submodule repository",
      "summary": "Specs scan fail due to submodule"
    }
  },
  {
    "key": "BAM-20675",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-14T13:10:21.000+0000",
      "description": "h3. Problem\r\nNot every Bamboo status is mapped to Bitbucket server. Status like the *not built* or *never built* are represented as failed in Bitbucket which is a problem.\r\n\r\nh3. Suggested solution\r\nSend the status STOPPED to Bitbucket which is a better representation of the CI status. \r\n\r\n\u26a0\ufe0fThis status is still not available in Bitbucket Server. This feature request is blocked until the BSERV-12000 is implemented.",
      "summary": "Bamboo should send the STOPPED status to bitbucket server when a build is stopped"
    }
  },
  {
    "key": "BAM-20674",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-21T12:32:58.000+0000",
      "created": "2019-10-10T20:38:59.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n\r\nBamboo 6.10.2 / 6.10.3, no further prerequisites required for reproduction.\r\nh3. Steps to Reproduce\r\n # Create project \"Test Project\" and therein a simple build plan \"Test Plan\" minimally containing task Source Code Checkout. Other than this, set up a Linked repository in Bamboo for a Bitbucket Server Git repository which the below Bamboo user has full access to.\r\n # Create a new user \"testuser\" and provide no global permissions to this user*.*\r\n # Navigate to _Projects >> \"Test Project\" >> press button \"Project settings\"_ in the right upper corner and set \"Project permissions\" as well as \"Plan permissions\" visible on the left-hand side, as such:\r\n ** Project permissions: \"Create plan\" (or \"Admin\" - same effect)\r\n ** Plan permissions: \"Admin\"\r\n # Now navigate to plan \"Test Plan\", open its configuration page and there tab \"Repositories\"\r\n # Pressed button \"Add repository\". The above and previously created Linked repository shows up.\r\n # Add this Linked repository to plan \"Test Plan\".\r\n\r\nh3. Expected Results\r\n\r\nSee the repository being added as a plan repository and thereafter to appear in the \"Repositories\" tab (also see Notes).\r\nh3. Actual Results\r\n\r\nWhat we see instead is that this process never terminates (unless the \"Cancel\" button is pressed) and the below exception is trown and shows up in Bamboo's Server log (_atlassian-bamboo.log_):\r\n{noformat}\r\n2019-10-10 15:23:42,894 ERROR [http-nio-8085-exec-3] [ExceptionMappingInterceptor] object cannot be null\r\njava.lang.IllegalArgumentException: object cannot be null\r\n...\r\n2019-10-10 15:23:43,392 ERROR [http-nio-8085-exec-3] [FiveOhOh] 500 Exception was thrown.\r\njava.lang.IllegalArgumentException: object cannot be null{noformat}\r\nh3. Notes\r\n\r\nFor Bamboo 6.9.2 we see the following behavior:\r\n * Operation terminates quickly and with success\r\n * \"(/) *Repository created successfully*\" being displayed on the \"Repositories\" tab\r\n * No error messages in the Bamboo Server log\r\n\r\nApparently this issue is related to global permission and apparently a user needs global \"Admin\" permission for the failing Bamboo versions to add a Linked repository to a build plan.\r\nh3. Workaround\r\n\r\nThe only work-around found so far, for the faulty Bamboo versions, is that a non-Admin Bamboo user asks a global Bamboo Admin user to add a repository to a certain build plan. Any further action sequence bypassing this bug will be denoted here, once avaialble.",
      "summary": "Repository cannot be added to a build plan by a user without global \"Admin\" permission"
    }
  },
  {
    "key": "BAM-20673",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-12T11:01:48.000+0000",
      "created": "2019-10-09T15:54:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Bamboo is upgraded from old version before 5.x, entries in the table VARIABLE_SUBSTITUTION are migrated to a different table. However, the table and its values remaining uncleaned. This results in some sensitive variable values appearing unencrypted in the database. \r\n\r\nh3. Expected Results\r\nThe table must be deleted or the contents in it must be cleared.\r\n\r\nh3. Actual Results\r\nThe old entries remain intact in the table; thereby resulting in displaying some sensitive old variable values in plaintext.\r\n\r\nh3. Workaround\r\nManually delete the contents of this table.",
      "summary": "Remove VARIABLE_SUBSTITUTION table from the database"
    }
  },
  {
    "key": "BAM-20672",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-09T12:57:30.000+0000",
      "description": "h3. Problem Definition\r\nThere isn't any default variable that show who created or deployed the release version\r\n\r\nh3. Suggested Solution\r\nIt would be great to have a deployment variable that show who created or deployed the release version",
      "summary": "Deployment Variable to show who create and deploy release"
    }
  },
  {
    "key": "BAM-20670",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-08T17:59:31.000+0000",
      "description": "h3. Problem\r\n\r\nWe have several environments AND several clients and would like to have some visibility on which version is deployed to which environment and to which client.\r\n",
      "summary": "Multi tenant/client deployment support"
    }
  },
  {
    "key": "BAM-20669",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-10T13:59:11.000+0000",
      "created": "2019-10-04T18:14:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *enable plan* configuration should not prevent a plan to be published. This is not a coherent/intuitive behavior. Enabling a plan and publishing it are different things which will create confusion for users.\r\nh3. Steps to Reproduce\r\n # Create a specs plan configuration in Bitbucket with the plan configuration disabled:\r\n\r\n{code:java}\r\n...\r\n public Plan plan() { final Plan plan = new Plan(new Project()\r\n .key(new BambooKey(\"SPECS\"))\r\n .name(\"specs project\"),\r\n \"Specs Plan\",\r\n  new BambooKey(\"PLAN\"))\r\n .enabled(false)\r\n... {code}\r\n\r\n # Configure a spec linked repository in Bamboo with the expected permissions\r\n # Run the specs scan\u00a0\r\n\r\nh3. Expected Results\r\n # The plan is created\r\n # The plan has the master branch disabled\r\n\r\nh3. Actual Results\r\n # The plan is not published\r\n\r\nh3. Note\r\n\r\nThis behavior is not coherent. If we publish a specs plan and later set the plan as disabled through specs it will be still available in Bamboo. In other words, disabling a plan should not prevent it to be published.\r\nh3. Workaround\r\n # Create the plan enabled\r\n # Disabled the master branch through specs",
      "summary": "Setting a plan as disabled prevents specs of publishing its configuration"
    }
  },
  {
    "key": "BAM-20668",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-03T21:50:45.000+0000",
      "description": "h3. Problem\r\n\r\nThe plan branch name could be retrieved from ${bamboo.shortPlanName} in the past, but after fixing https://jira.atlassian.com/browse/BAM-17810 this is no longer possible. \r\n The fix was correct, but it brought up another need for a Bamboo variable to provide the plan branch display name.\r\n\r\nNone of the variables below can be used for this purpose:\r\n * *bamboo_planRepository_branchName*\r\n * *bamboo_planRepository_1_branchDisplayName*\r\n * *bamboo_planRepository_branchName*\r\n All the variables above will show what is configured in the repository section for the branch. if the branch is changed manually the display name will not be represented by them anymore.\r\n\r\nh3. Workaround (Partial)\r\n\r\n*For script task on Linux*\r\n Use bash substitution to get the branch display name from the *bamboo_planName* variable.\r\n{code:java}\r\nbamboo_planBranchName = ${bamboo_planName##* - }\r\n{code}",
      "summary": "Variable to get plan branch name"
    }
  },
  {
    "key": "BAM-20667",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-03T15:17:38.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently is not possible to change the Deployment Environment's variables' values with REST API.\r\nh3. Suggested solution\r\n\r\nAdd a PUT REST API endpoint to allow to change values of the Deployment\u00a0Environment's variables.",
      "summary": "REST API to update Deployment Environment's variables"
    }
  },
  {
    "key": "BAM-20666",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-21T12:32:33.000+0000",
      "created": "2019-10-03T14:45:29.000+0000",
      "description": "h3. Issue Summary\r\nScpTask calls File.getCanonicalPath() a lot of times. (O(n^2) complexity)\r\n\r\nh3. Environment\r\nAny.\r\nh3. Steps to Reproduce\r\n # Create an artifact with big number of file\r\n # Use an Scp task to copy it\r\n\r\nh3. Expected Results\r\nTask completes in reasonable time (should be linear to number of files and total size of them)\r\nh3. Actual Results\r\nPerformance degrades very fast with increasing number of files.\r\n\r\nh3. Notes\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n\r\nTar and/or zip your artifact prior to transfering it.",
      "summary": "Scp Task is slow due to high number of disk operations"
    }
  },
  {
    "key": "BAM-20665",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-21T12:32:52.000+0000",
      "created": "2019-10-03T10:09:40.000+0000",
      "description": "h3. Issue Summary\r\nh3. Steps to Reproduce\r\n # Open Elastic Bamboo config and create new image\r\n # try to choose r5.8xlarge instance type\r\n\r\nh3. Expected Results\r\n\r\nIt can be chosen\r\nh3. Actual Results\r\n\r\nIt's not listed\r\nh3. Notes\r\n\r\naws-api was updated to version 1.11.549 which excluded these instance types.\r\n It was returned at version 1.11.584\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Can't choose r5.8xlarge/r5.16xlarge instance types"
    }
  },
  {
    "key": "BAM-20664",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:38:58.000+0000",
      "created": "2019-10-03T07:59:06.000+0000",
      "description": "Add task description to YAML Specs",
      "summary": "Add task description to YAML"
    }
  },
  {
    "key": "BAM-20663",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-03T06:34:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBranch deletion / expiry can run on plan branches that override the default repository. If the default repository on the master doesn't contain the branch (which is common), it will end up with the plan branch being deleted. It's dangerous and can lead to unexpected branch deletion. It's not obvious from a user perspective that this will occur due to how branch detection works in Bamboo.\r\nh3. Steps to Reproduce\r\n # Create a plan pointing at repository 1\r\n # Manually create a plan branch\r\n # Override the plan branch repository to point to repository 2 and a specific branch. Ensure this branch does not exist in repository 1.\r\n # Enable branch deletion, 0 days at *Plan Configuration >> Branches*\r\n\r\nh3. Expected Results\r\n\r\nThe plan branch is not disabled and eventually deleted, as the branch does exist on the overridden repository.\r\nh3. Actual Results\r\n\r\nThe plan branch is disabled and eventually deleted even though it exists on the overridden repository.\r\nh3. Workaround\r\n\r\nDon't use plan branch deletion / expiry on plans where plan branches will override the default repository when the default repository does not contain the same branches as the override.",
      "summary": "Branch deletion / expiry can run on branches that override the default repository which will usually end up with it being removed"
    }
  },
  {
    "key": "BAM-20662",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-03T06:26:32.000+0000",
      "created": "2019-10-03T06:25:21.000+0000",
      "description": "h3. Steps to reproduce:\r\n # Create new deployment project that will have id larger than\u00a02,147,483,647\r\n # Go to deployment page and click 'Create release'\r\n\r\nh3. Expected Results\r\n\r\nNew release configuration page is shown\r\nh3. Actual Results\r\n\r\nAction fails with an error:\u00a0{{Can not create release, no deployment project with id 0 could be found}}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Creating new release fails if deployment id is bigger than 2,147,483,647"
    }
  },
  {
    "key": "BAM-20661",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-15T13:44:52.000+0000",
      "created": "2019-10-02T18:09:30.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n\r\nBamboo 6.2.8, JDK 11 being installed on Bamboo host.\r\nh3. Steps to Reproduce\r\n # Add capability \"JDK 11\" specific to an agent as described in this KB: [Defining a new JDK capability|https://confluence.atlassian.com/bamboo/defining-a-new-jdk-capability-289277157.html]\r\n # Navigate to a build plan, there into a job and on tab \"Requirements\" select capability \"JDK 11\" with attribute \"exists\" and press the \"Add\" button.\r\n\r\nh3. Expected Results\r\n\r\nBehind \"Can build on\" on this job's Requirements page should appear the agent possessing capability \"JDK 11\".\r\nh3. Actual Results\r\n\r\nWhat appears on this page is \"No agent available\".\r\nh3. Workaround\r\n\r\n*Dedicating* the project / build / job that shall use capability \"JDK 11\" on page Agent Summary > Agent via tab \"Dedicate agent\" overcomes this bug.\r\n\r\nBesides since in Bamboo version 6.7.2 this bug is not present, a *Bamboo upgrade to 6.7.2 or higher* should also bypass it.",
      "summary": "No agent found when setting e.g. \"JDK 11\" as an agent specific capability matching \"JDK 11\" as a plan's job requirement"
    }
  },
  {
    "key": "BAM-20660",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-02T13:47:31.000+0000",
      "description": "h6. Summary\r\n\r\nThe \"branch Updater\" feature will run merges and builds locally in the Bamboo server. If many branches are configured, and the repository being used is considerably big, Bamboo server will suffer a performance impact. \r\n\r\nh6. Accepted Solution\r\n\r\nHave the possibility to select the environment where \"Automatic branch merging\" features (Branch Updater and Gatekeeper too) are to be run. This includes:\r\n- Remote agents.\r\n- Docker containers.\r\n- Other.",
      "summary": "Automatic branch merging options run only locally, impacting the server performance. "
    }
  },
  {
    "key": "BAM-20659",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-02T12:26:21.000+0000",
      "description": "It\u2019s possible to pass custom variable parameter via query params to trigger build with overridden values: https://${BAMBOO_INSTANCE}.internal.atlassian.com/rest/api/latest/queue/${PLAN_KEY}?bamboo.variable.some_var=some_var_value. \r\n\r\nThis method is not described on this page: https://developer.atlassian.com/server/bamboo/bamboo-rest-resources/ . However it is described here: https://docs.atlassian.com/atlassian-bamboo/REST/6.10.2/",
      "summary": "Improve REST API documentation about build triggering"
    }
  },
  {
    "key": "BAM-20658",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-24T10:22:54.000+0000",
      "created": "2019-10-02T08:36:32.000+0000",
      "description": "h3. Issue Summary\r\nDownloading artifact that has a hash / number sign / pound (\"#\") in the name does not work\r\n\r\nh3. Steps to Reproduce\r\n# Create a ZIP file with the name \"test#.zip\"\r\n# Configure it to be an artifact\r\n{noformat}\r\nName: test\r\nCopy pattern: test#.zip\r\n{noformat}\r\n# Run the build\r\n# Access the build result artifact page http://localhost:8085/browse/BAM-GIT-1006/artifact\r\n# Click on the artifact to download it\r\n\r\nh3. Expected Results\r\nThe artifact can be downloaded\r\n\r\nh3. Actual Results\r\n* The artifact could not be downloaded with the URL http://localhost:8085/browse/BAM-GIT-1006/artifact/shared/test/test%23.zip\r\n* The page show the following error:\r\n{noformat}\r\nPage not found\r\nSorry, the page you were trying to reach does not exist. Try going back to the dashboard and browse the site to find the page you were looking for.\r\n{noformat}\r\n* No error in the log file. If the same URL is reloaded, the below exception is thrown (with incorrect URL http://localhost:8085/artifact/BAM-GIT/shared/build-1006/test/test ) in the atlassian-bamboo.log file:\r\n{noformat}\r\n2019-10-02 16:24:49,015 INFO [http-nio-8085-exec-15] [AccessLogFilter] kahloun.foong GET http://localhost:8085/artifact/BAM-GIT/shared/build-1006/test/test 528884kb\r\n2019-10-02 16:24:49,019 ERROR [http-nio-8085-exec-15] [AbstractDownloadStrategy] File does not exist/can't be read: /Volumes/Atlassian/bamboo/atlassian-bamboo-6.9.2/home/artifacts/plan-589825/shared/build-01006/test/test\r\n{noformat}\r\n\r\nh3. Notes\r\n* The artifact can be downloaded with another URL http://localhost:8085/artifact/BAM-GIT/shared/build-1006/test/test%23.zip\r\n* The artifact can also be downloaded by double escaping it http://localhost:8085/browse/BAM-GIT-1006/artifact/shared/test/test%2523.zip\r\n* The same setting does not have error in Bamboo 6.8.2\r\n* Tomcat version 8.5.34 in latest Bamboo does not work with # character\r\n* Bamboo should have a warning message that special character is not recommended in the artifact file\r\n\r\nh3. Workaround\r\n# Create another directory to keep the artifact, for example:\r\n{noformat}\r\nmkdir -p testdirectory\r\n{noformat}\r\n# Configure the Artifact definition to include the directory:\r\n{noformat}\r\nName: test\r\nCopy pattern: testdirectory/test#.zip\r\n{noformat}\r\ntestdirectory will be included in the artifact",
      "summary": "Downloading artifact will fail if the name has a hash #"
    }
  },
  {
    "key": "BAM-20657",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-04T10:47:39.000+0000",
      "created": "2019-10-01T22:24:32.000+0000",
      "description": "h3. Issue Summary\r\nBamboo specs dependencies are missing from [Maven repository|\u00a0\r\n [https://repo.maven.apache.org/maven2/com/atlassian/bamboo/bamboo-specs-parent/]]:\r\n{code:xml}\r\n    <parent>\r\n        <groupId>com.atlassian.bamboo</groupId>\r\n        <artifactId>bamboo-specs-parent</artifactId>\r\n        <version>6.10.3</version>\r\n        <relativePath/>\r\n    </parent>\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\n # Install bamboo 6.10.3\r\n # Scan a repository-stored-specs-enabled linked repository\r\n\r\nh3. Expected Results\r\nThe specs code will be compiled and the changes will be applied to Bamboo\r\nh3. Actual Results\r\nThe scan fails and the following error is thrown in Bamboo server logs:\r\n\r\n{noformat}\r\n2019-10-01 22:11:11,851 WARN [14-repository-stored-specs:pool-21-thread-1] [RepositoryStoredSpecsServiceImpl] 01-Oct-2019 22:11:09\tContent of pom.xml used:\r\n01-Oct-2019 22:11:09\t<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\r\n01-Oct-2019 22:11:09\t    <!--Edit template at BAMBOO_INSTALL/atlassian-bamboo/WEB-INF/classes/bamboo-specs-pom.xml-->\r\n01-Oct-2019 22:11:09\t    <modelVersion>4.0.0</modelVersion>\r\n01-Oct-2019 22:11:09\t    <parent>\r\n01-Oct-2019 22:11:09\t        <groupId>com.atlassian.bamboo</groupId>\r\n01-Oct-2019 22:11:09\t        <artifactId>bamboo-specs-parent</artifactId>\r\n01-Oct-2019 22:11:09\t        <version>6.10.3</version>\r\n01-Oct-2019 22:11:09\t        <relativePath/>\r\n01-Oct-2019 22:11:09\t    </parent>\r\n01-Oct-2019 22:11:09\r\n01-Oct-2019 22:11:09\t    <artifactId>bamboo-specs-generator</artifactId>\r\n01-Oct-2019 22:11:09\t    <version>1.0.0</version>\r\n01-Oct-2019 22:11:09\t    <packaging>jar</packaging>\r\n01-Oct-2019 22:11:09\t    <dependencies>\r\n01-Oct-2019 22:11:09\t    <dependency>\r\n01-Oct-2019 22:11:09\t      <groupId>com.atlassian.bamboo</groupId>\r\n01-Oct-2019 22:11:09\t      <artifactId>bamboo-specs-api</artifactId>\r\n01-Oct-2019 22:11:09\t    </dependency>\r\n01-Oct-2019 22:11:09\t    <dependency>\r\n01-Oct-2019 22:11:09\t      <groupId>com.atlassian.bamboo</groupId>\r\n01-Oct-2019 22:11:09\t      <artifactId>bamboo-specs</artifactId>\r\n01-Oct-2019 22:11:09\t    </dependency>\r\n01-Oct-2019 22:11:09\r\n01-Oct-2019 22:11:09\t    <!-- Test dependencies -->\r\n01-Oct-2019 22:11:09\t    <dependency>\r\n01-Oct-2019 22:11:09\t      <groupId>junit</groupId>\r\n01-Oct-2019 22:11:09\t      <artifactId>junit</artifactId>\r\n01-Oct-2019 22:11:09\t      <scope>test</scope>\r\n01-Oct-2019 22:11:09\t    </dependency>\r\n01-Oct-2019 22:11:09\t  </dependencies>\r\n01-Oct-2019 22:11:09\t    <build>\r\n01-Oct-2019 22:11:09\t        <plugins>\r\n01-Oct-2019 22:11:09\t            <plugin>\r\n01-Oct-2019 22:11:09\t                <groupId>org.apache.maven.plugins</groupId>\r\n01-Oct-2019 22:11:09\t                <artifactId>maven-compiler-plugin</artifactId>\r\n01-Oct-2019 22:11:09\t                <configuration>\r\n01-Oct-2019 22:11:09\t                    <compilerArgs>\r\n01-Oct-2019 22:11:09\t                        <compilerArg>-proc:none</compilerArg>\r\n01-Oct-2019 22:11:09\t                    </compilerArgs>\r\n01-Oct-2019 22:11:09\t                </configuration>\r\n01-Oct-2019 22:11:09\t            </plugin>\r\n01-Oct-2019 22:11:09\t        </plugins>\r\n01-Oct-2019 22:11:09\t    </build>\r\n01-Oct-2019 22:11:09\t</project>\r\n01-Oct-2019 22:11:10\t[INFO] Error stacktraces are turned on.\r\n01-Oct-2019 22:11:10\t[INFO] Scanning for projects...\r\n01-Oct-2019 22:11:10\t[INFO] Downloading: https://repo.maven.apache.org/maven2/com/atlassian/bamboo/bamboo-specs-parent/6.10.3/bamboo-specs-parent-6.10.3.pom\r\n01-Oct-2019 22:11:11\t[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n01-Oct-2019 22:11:11\t[FATAL] Non-resolvable parent POM for com.atlassian.bamboo:bamboo-specs-generator:1.0.0: Could not find artifact com.atlassian.bamboo:bamboo-specs-parent:pom:6.10.3 in central (https://repo.maven.apache.org/maven2) and 'parent.relativePath' points at no local POM @ line 4, column 13\r\n01-Oct-2019 22:11:11\t @\r\n01-Oct-2019 22:11:11\t[ERROR] The build could not read 1 project -> [Help 1]\r\n01-Oct-2019 22:11:11\torg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n01-Oct-2019 22:11:11\t[FATAL] Non-resolvable parent POM for com.atlassian.bamboo:bamboo-specs-generator:1.0.0: Could not find artifact com.atlassian.bamboo:bamboo-specs-parent:pom:6.10.3 in central (https://repo.maven.apache.org/maven2) and 'parent.relativePath' points at no local POM @ line 4, column 13\r\n01-Oct-2019 22:11:11\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:382)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.graph.DefaultGraphBuilder.collectProjects(DefaultGraphBuilder.java:400)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor(DefaultGraphBuilder.java:391)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.graph.DefaultGraphBuilder.build(DefaultGraphBuilder.java:78)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.buildGraph(DefaultMaven.java:511)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:221)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n01-Oct-2019 22:11:11\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n01-Oct-2019 22:11:11\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n01-Oct-2019 22:11:11\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n01-Oct-2019 22:11:11\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n01-Oct-2019 22:11:11\t[ERROR]\r\n01-Oct-2019 22:11:11\t[ERROR]   The project com.atlassian.bamboo:bamboo-specs-generator:1.0.0 (/var/atlassian/application-data/bamboo/xml-data/build-dir/serverSide/REPOSITORY_STORED_SPECS/repository-34209793/checkout/bamboo-specs/specs5580404988264704452.xml) has 1 error\r\n01-Oct-2019 22:11:11\t[ERROR]     Non-resolvable parent POM for com.atlassian.bamboo:bamboo-specs-generator:1.0.0: Could not find artifact com.atlassian.bamboo:bamboo-specs-parent:pom:6.10.3 in central (https://repo.maven.apache.org/maven2) and 'parent.relativePath' points at no local POM @ line 4, column 13 -> [Help 2]\r\n01-Oct-2019 22:11:11\torg.apache.maven.model.resolution.UnresolvableModelException: Could not find artifact com.atlassian.bamboo:bamboo-specs-parent:pom:6.10.3 in central (https://repo.maven.apache.org/maven2)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:197)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:243)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.model.building.DefaultModelBuilder.readParentExternally(DefaultModelBuilder.java:1051)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.model.building.DefaultModelBuilder.readParent(DefaultModelBuilder.java:829)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:331)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:429)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:398)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:361)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.graph.DefaultGraphBuilder.collectProjects(DefaultGraphBuilder.java:400)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor(DefaultGraphBuilder.java:391)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.graph.DefaultGraphBuilder.build(DefaultGraphBuilder.java:78)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.buildGraph(DefaultMaven.java:511)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:221)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n01-Oct-2019 22:11:11\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n01-Oct-2019 22:11:11\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n01-Oct-2019 22:11:11\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n01-Oct-2019 22:11:11\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n01-Oct-2019 22:11:11\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n01-Oct-2019 22:11:11\tCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact com.atlassian.bamboo:bamboo-specs-parent:pom:6.10.3 in central (https://repo.maven.apache.org/maven2)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:453)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:255)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:232)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:303)\r\n01-Oct-2019 22:11:11\t\tat org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:193)\r\n01-Oct-2019 22:11:11\t\t... 25 more\r\n01-Oct-2019 22:11:11\tCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.atlassian.bamboo:bamboo-specs-parent:pom:6.10.3 in central (https://repo.maven.apache.org/maven2)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed(ArtifactTransportListener.java:48)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run(BasicRepositoryConnector.java:364)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:76)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute(BasicRepositoryConnector.java:590)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.connector.basic.BasicRepositoryConnector.get(BasicRepositoryConnector.java:258)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads(DefaultArtifactResolver.java:529)\r\n01-Oct-2019 22:11:11\t\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:430)\r\n01-Oct-2019 22:11:11\t\t... 29 more\r\n01-Oct-2019 22:11:11\t[ERROR]\r\n01-Oct-2019 22:11:11\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n01-Oct-2019 22:11:11\t[ERROR]\r\n01-Oct-2019 22:11:11\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n01-Oct-2019 22:11:11\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n01-Oct-2019 22:11:11\t[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n2019-10-01 22:11:11,853 INFO [14-repository-stored-specs:pool-21-thread-1] [RepositoryStoredSpecsServiceImpl] exit code: 1\r\n2019-10-01 22:11:11,854 INFO [14-repository-stored-specs:pool-21-thread-1] [RepositoryStoredSpecsServiceImpl] process exception:\r\ncom.atlassian.utils.process.ProcessException: Non-zero exit code: 1\r\n\tat com.atlassian.utils.process.PluggableProcessHandler.complete(PluggableProcessHandler.java:69)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:667)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.execute(ExternalProcessImpl.java:114)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.lambda$runSpecsWithMaven$10(RepositoryStoredSpecsServiceImpl.java:993)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2019-10-01 22:11:12,366 INFO [15-BAM::SpecsDetection:pool-22-thread-4] [ImmutablePlanCacheServiceImpl] Invalidating EB-BRAN2\r\n2019-10-01 22:11:12,503 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-14] [BitbucketServerRssStatusUpdater] Sending RSS notification to Stash (repository: JavaSpecs)\r\n2019-10-01 22:11:12,826 INFO [15-BAM::SpecsDetection:pool-22-thread-4] [RssDetectionRunnable] Exception while executing RSS detection for repository 34209793\r\njava.lang.RuntimeException: com.atlassian.bamboo.repository.RepositoryException: Unable to scan repository JavaSpecs (34209793) for Bamboo Specs\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.generateBambooYamlsFromSpecs(RepositoryStoredSpecsServiceImpl.java:682)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.processSpecs(RepositoryStoredSpecsServiceImpl.java:561)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:308)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:284)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.bamboo.repository.RepositoryException: Unable to scan repository JavaSpecs (34209793) for Bamboo Specs\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.lambda$runSpecsWithMaven$10(RepositoryStoredSpecsServiceImpl.java:1006)\r\n\t... 8 more\r\nCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 1\r\n\tat com.atlassian.utils.process.PluggableProcessHandler.complete(PluggableProcessHandler.java:69)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:667)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.execute(ExternalProcessImpl.java:114)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.lambda$runSpecsWithMaven$10(RepositoryStoredSpecsServiceImpl.java:993)\r\n\t... 8 more\r\n{noformat}\r\n\r\nh3. Workaround\r\nCurrently, there is no known workaround for this behavior.",
      "summary": "Missing dependencies for repository-stored-specs on Bamboo 6.10.3 "
    }
  },
  {
    "key": "BAM-20656",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-01T20:13:02.000+0000",
      "description": "The Shared Artifacts tab of a build can currently display multiple copies of an artifact. The current workaround to this noise is to disable all but one artifact. Adding a column to list the name of the artifact handler that published the artifact would allow users to parse this noise more easily.",
      "summary": "Add column to display artifact handler name of published artifact"
    }
  },
  {
    "key": "BAM-20655",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-01T20:09:32.000+0000",
      "description": "This response of /rest/api/1.0/deploy/project/\\{deploymentProjectId} contains a flag to let you know if that project is managed by repository stored specs.\r\n\r\n\r\n\r\nIt would be helpful if /rest/api/1.0/plan/\\{projectKey}-\\{buildKey}, or similar, contained the same flag.\r\n\r\n{code}\r\n{\r\n   ...\r\n   \"repositorySpecsManaged\": true,\r\n   ...\r\n}\r\n{code}",
      "summary": "repositorySpecsManaged flag in build plan configuration response"
    }
  },
  {
    "key": "BAM-20654",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-21T12:32:39.000+0000",
      "created": "2019-10-01T17:43:19.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n\r\nBamboo 6.10.2, no more needed.\r\nh3. Steps to Reproduce\r\n # Run a build plan containing at least one failing test (precondition to allow quarantining).\r\n # Quarantine a failed test of the above plan as of _Dashboard >> Build >> All build plans >> #buildresult in column \"Build\"_. On this page scroll down to the failing tests and aside each one find _Cog >> Quarantine_ (last selectable option).\r\n # Navigate to the Build dashboard of this plan and there click the most right tab \"Quarantines tests\".\r\n # Select the link under the \"Test\" column for the quarantined test. This link is broken and thus results in a 404 - \"Page not found\".Expected Results\r\n\r\nh3. Expected Results\r\n\r\nThe link is correct as in elder Bamboo versions. Here an example of a correct one:\r\n{noformat}\r\nhttp://bamboo6102:8085/browse/PQ-MPQ-JOB1-6/test/case/1146881\r\n{noformat}\r\nh3. Actual Results\r\n\r\nThe link is broken. Reusing the above example it shows:\r\n{noformat}\r\nhttp://bamboo6102:8085/browse/PQ-MPQ-6/test/case/1146881\r\n{noformat}\r\nComparing the wrong with the correct link, it's apparent that within the _PROJ-PLAN-JOB-BUILD_ part between \"browse/\" and \"/test\", for the broken link _JOBx_ is missing.\r\nh3. Workaround\r\n\r\nThere is currently no workaround known, other than manually inserting JOBx into the link so to reach this failing plan's \"Test case result\" page. Once another approach is applicable, we'll add it here.",
      "summary": "Incorrect link under column \"Test\" in \"Quarantined tests\" tab for failing build plan test(s)"
    }
  },
  {
    "key": "BAM-20653",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-12T11:00:27.000+0000",
      "created": "2019-10-01T16:07:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter upgrading to Bamboo 6.10+ versions, application logs are flooded with WARN messages like the following ones:\r\n{noformat}\r\n2019-10-01 14:36:58,379 WARN [http-nio-8085-exec-14] [PerformanceStatsServiceImpl] Problem in measurement of call duration REST:com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus(), measured duration [ms]: 1569940618379\r\n2019-10-01 14:37:30,132 WARN [http-nio-8085-exec-16] [BambooRestPerformanceFilterFactory] requestProcessingStart was not initialised for this call com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus()\r\n2019-10-01 14:37:30,133 WARN [http-nio-8085-exec-16] [PerformanceStatsServiceImpl] Problem in measurement of call duration REST:com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus(), measured duration [ms]: 1569940650133\r\n2019-10-01 14:38:00,615 WARN [http-nio-8085-exec-21] [BambooRestPerformanceFilterFactory] requestProcessingStart was not initialised for this call com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus()\r\n2019-10-01 14:38:00,616 WARN [http-nio-8085-exec-21] [PerformanceStatsServiceImpl] Problem in measurement of call duration REST:com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus(), measured duration [ms]: 1569940680616\r\n2019-10-01 14:38:32,136 WARN [http-nio-8085-exec-20] [BambooRestPerformanceFilterFactory] requestProcessingStart was not initialised for this call com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus()\r\n2019-10-01 14:38:32,136 WARN [http-nio-8085-exec-20] [PerformanceStatsServiceImpl] Problem in measurement of call duration REST:com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus(), measured duration [ms]: 1569940712136\r\n2019-10-01 14:39:02,967 WARN [http-nio-8085-exec-2] [BambooRestPerformanceFilterFactory] requestProcessingStart was not initialised for this call com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus()\r\n2019-10-01 14:39:02,968 WARN [http-nio-8085-exec-2] [PerformanceStatsServiceImpl] Problem in measurement of call duration REST:com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus(), measured duration [ms]: 1569940742968\r\n{noformat}\r\nh3. Workaround\r\n\r\nAdd the following lines at the end of\u00a0the {{<installation directory>/atlassian-bamboo/WEB-INF/classes/log4j.properties}} file and restart your Bamboo:\r\n{code:xml}\r\n# Adjust debug level for performance measurement classes\r\nlog4j.category.com.atlassian.bamboo.performance.PerformanceStatsServiceImpl=ERROR\r\nlog4j.category.com.atlassian.bamboo.plugins.rest.performance.BambooRestPerformanceFilterFactory=ERROR\r\n{code}",
      "summary": "\"Problem in measurement of call duration\" warn messages after upgrading  to recent Bamboo versions"
    }
  },
  {
    "key": "BAM-20652",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-01T06:10:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\n[Bamboo Specs YAML|https://docs.atlassian.com/bamboo-specs-docs/6.9.0/specs.html?yaml] documentation must be updated informing required properties, so users when building their {{/bamboo-specs/bamboo.(yml|yaml)}} can have a better understanding to the reason why their YAML file is not working as expected.\r\n\r\nAs an example, when setting up Environment permissions (_ernvironment-permissions:_), it is mandatory to declare Deployment permissions (_deployment-permission:_) in the same YAML file.\r\nh3. Environment\r\n * Bamboo v6.9.0 or above\r\n * Bamboo Specs YAML version 2\r\n\r\nh3. Steps to Reproduce\r\n # Follow the steps on [Tutorial: Bamboo Specs YAML stored in Bitbucket Server|https://confluence.atlassian.com/bamboo/tutorial-bamboo-specs-yaml-stored-in-bitbucket-server-941616819.html]\r\n # Describe YAML as per following (_aiming to set up Environment permissions_):\r\n{code:java}\r\n---\r\nversion: 2\r\ndeployment: My deployment\r\n\r\nenvironment-permissions:\r\n  - Test:\r\n    - users:\r\n      - admin\r\n    permissions:\r\n      - view\r\n      - edit\r\n      - deploy\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nUser \"_admin_\" should have \"_view_\", \"_edit_\" and \"_deploy_\" permissions granted.\r\nh3. Actual Results\r\n\r\nError gets thrown:\r\n{noformat}\r\nBamboo YAML import failed: Invalid format of the YAML file: mapping values are not allowed here\r\n in 'reader', line 5, column 24:\r\n    environment-permissions:\r\n                           ^\r\n{noformat}\r\nh3. Workaround\r\n\r\nDeployment permissions\u00a0(_deployment-permission:_)\u00a0*must be* provided as it is *required* by Bamboo Specs YAML version 2. You shall find an example to {{/bamboo-specs/bamboo.(yml|yaml)}} below:\r\n{code:java}\r\n---\r\nversion: 2\r\ndeployment: My deployment\r\n\r\ndeployment-permissions: \r\n  - users:\r\n      - admin\r\n\r\nenvironment-permissions:\r\n  - Test:\r\n    - users:\r\n      - admin\r\n    permissions:\r\n      - view\r\n      - edit\r\n      - deploy\r\n{code}",
      "summary": "Bamboo Specs YAML documentation must inform required properties"
    }
  },
  {
    "key": "BAM-20651",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:39:04.000+0000",
      "created": "2019-09-27T22:19:20.000+0000",
      "description": "h3. Description\r\n\r\nBy default Bamboo's SSH Proxy timeout is set to 2 minutes. This built-in Proxy is used for e.g. Git repository accesses / operations utilizing the SSH protocol.\r\n\r\nIn some cases this value is not big enough, so e.g. a _git clone_ does not terminate in time, an error gets thrown an error and that is also logged.\r\n\r\nThis is the timeout from Bamboo's SSH *client* after 2 mins:\r\n{code}\r\nBAMBOO-SSH-PROXY: [User session has timed out idling after 120000 ms.]\r\n{code}\r\n\r\nBamboo's SSH server can also timeout after 10 mins depending on the Git activity:\r\n* [BAM\\-21279: Increase Bamboo SSH Server timeout|https://jira.atlassian.com/browse/BAM-21279]\r\n\r\nh3. Solution\r\n\r\nInstead of requesting a patch to increase this value, if really needed, or trying to control the repository operation / the repository data in order to not exceed the 2 minute limit, Bambo could solve this unfomfortable user situation by:\r\n * Generally making the SSH Proxy value user adjustable via Bamboo UI\r\n * Keep the default timeout at 2 minutes (which is typically sufficient), but add the option of 5 minutes instead and additionally of 10 minutes (e.g. per radio button in Bamboo's UI)\r\n\r\nThe idea presented here is to provide a a tunability / two alternative settings globally, but could be thought further so to allow the same even on build plan level.",
      "summary": "Make SSH Proxy Timeout adjustable or provide at least more options than 2 minutes only"
    }
  },
  {
    "key": "BAM-20650",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-27T20:48:45.000+0000",
      "description": "h3. Description\r\n\r\nFor a huge Bamboo instance, depending on the set export option (plan configuration only, with build logs / results and/or with artifacts) a Bamboo export may take a long time.\r\n\r\n+Background+: Bamboo's export feature is single-threaded and so the only option to speed up the export process is by reducing data to export.\r\n\r\nSo, in case this process takes long, like more than 24 hours or even days, it would be very useful if a Bamboo user could see if this process is still running \"as expected\" or if it perhaps got stuck, hangs or even failed.\r\nh3. Workaround\r\n\r\nWhat a Bamboo user can do for the time being is e.g. the following:\r\n * Check if there is a file named _export_atlassianbamboo_<Bamboo version>_<date>.zip_ being created in directory _<__Bamboo home directory>/exports__._ It represents the export Zip.\r\n * Monitor the data and size of the above file over time. It should steadily grow until the export process terminated successfully.\r\n * You may open the Bamboo Server log _<Bamboo home directory>/logs/atlassian-bamboo.log_ and check for export log messages constantly appearing there.\r\n\r\nh3. Possible solution\r\n # If a Bamboo export is triggered by Bamboo UI, a pop-up window might show up providing the \"export status\" till export terminates (and as such \"behind the scene\" constantly checking sanity of the export thread and e.g. in case of an error occurring advising next steps to the user)\r\n # Once Bamboo export is started, the user should be able to press a button\u00a0 e.g. be called \"Export Health Check\" grabbing and displaying the current export status",
      "summary": "Bamboo export process tracking or \"health check on demand\""
    }
  },
  {
    "key": "BAM-20649",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-27T05:00:45.000+0000",
      "description": "h3. Problem Definition\r\nSystem information Instance Statistics only show number of plans, builds and reindex time.\r\n\r\nh3. Suggested Solution\r\nIt would be great to have the number of projects, deployment projects and deployment environments as well",
      "summary": "Improving Instance Statistics"
    }
  },
  {
    "key": "BAM-20648",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-26T23:03:39.000+0000",
      "description": "h2. Problem\r\nBamboo's Docker Runner feature encounters a number of Permission Denied errors when running tasks on a remote agent that is mounted on NFS with root squashing (default configuration). \r\n\r\nSince most commands run in containers typically run under a root context, the root user is squashed to {{nfsnobody}} which has very limited permissions on the build working directory and temp.\r\n\r\nh2. Suggested Solution\r\nAllow an option to tell Docker Runner to execute commands as the same UID/GUID of the user running the Bamboo agent, inside the container. Docker {{exec}} allows specifying a user context.\r\n\r\nh2. Workaround\r\n\r\nSetup root squashing to the same UID/GUID as the user that runs the Bamboo agent for trusted clients using {{anonuid}} and {{anongid}} on the NFS export. E.g.\r\n{code}\r\n/mnt/sharedfolder 192.156.1.56(rw,sync,no_subtree_check,anonuid=1068,anongid=1068)\r\n{code}\r\n* https://linux.die.net/man/5/exports\r\n\r\nOr setup your containers to have a user with a UID/GUID that matches your Bamboo remote agent and either {{su}} to it in any scripts or make it the default user for the image.\r\n\r\n",
      "summary": "Improve Docker Runner's ability to function when the agent home is mounted on NFS"
    }
  },
  {
    "key": "BAM-20647",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-26T16:23:51.000+0000",
      "created": "2019-09-26T16:19:14.000+0000",
      "description": "The Atlassian Troubleshooting and Support Tools (ATST) plugin prior to version 1.17.2 which was used in Bamboo before version 6.10.2, allows an unprivileged user to initiate periodic log scans and send the results to a user-specified email address due to a missing authorization check. The email message may contain configuration information about the application that the plugin is installed into.",
      "summary": "Improper Authorization in Bambooo through ATST Plugin - CVE-2019-15005"
    }
  },
  {
    "key": "BAM-20646",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-26T14:15:49.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n\r\nBamboo version 6.8.1 with Mercurial 4.2.1 running on a Windows Bamboo host.\r\nh3. Steps to Reproduce\r\n # Add a Mercurial repository to a Bamboo build plan, either as a Linked repository or plan internally.\r\n # Configure this build plan's \"Remote trigger\" to use the Mercurial repository just by following [Repository triggers the build when changes are committed|https://confluence.atlassian.com/bamboo/repository-triggers-the-build-when-changes-are-committed-289276902.html] and thus prepare it by copying the SVN\u00a0_postCommitBuildTrigger.py_ script into your local repository folder and there edit _.hg/hgrc_ adding adding the [hooks]section.\r\n # For the _postCommitBuildTrigger_ script use your Bamboo URL with HTTPS protocol.\r\n # Now modify at least one of the repository files and then _hg add_ plus _hg commit_ the change.\r\n\r\nh3. Expected Results\r\n\r\nThe build should automatically be triggered.\r\nh3. Actual Results\r\n\r\nBuild is mostly not triggered (sporadically tiggering appears to work).\r\n\r\nThe Bamboo logs show no errors related to this, however the _postCommitBuildTrigger.py_ script indicates the below (or similar messages) when failing:\r\n{noformat}\r\nremote: Traceback (most recent call last):\r\nremote: File \"E:\\Repositories\\postCommitBuildTrigger.py\", line 13, in <module>\r\nremote: fileHandle = urllib.urlopen(remoteCall, proxies=proxies)\r\nremote: File \"E:\\Mercurial\\Python27\\lib\\urllib.py\", line 87, in urlopen\r\nremote: return opener.open(url)\r\nremote: File \"E:\\Mercurial\\Python27\\lib\\urllib.py\", line 208, in open\r\nremote: return getattr(self, name)(url)\r\nremote: File \"E:\\Mercurial\\Python27\\lib\\urllib.py\", line 444, in open_https\r\nremote: 'got a bad status line', None)\r\nremote: IOError: ('http protocol error', 0, 'got a bad status line', None)\r\nremote: warning: changegroup.update hook exited with status 1\r\n{noformat}\r\nh3. Notes\r\n\r\nFrom the Python errors showing up, it seems like the issue is triggered by HTTPS used for Python lib urllib (Mercurial for Windows comes with a Python built-in and thus a PY script needs to be used for postCommitBuildTrigger).\r\n\r\nThe affected Mercurial version uses Python 2.7. From Mercurial 5.0 and higher Python 3 is bundled.\r\nh3. Workaround\r\n # Use HTTP instead of HTTPS as Bamboo URL for the _postCommitBuildTrigger_ Python script ((!) note that you need to potentially first adapt your Connector settings in _server.xml_ so that the default 8085 Connector exists). This workaround made the HG trigger function.\r\n # Potentially a Mercurial upgrade to 5.x might do the trick (also see Note above).\r\n # Another chance could be to tune the postCommitBuildTrigger script trying to pass by the found Python 2.7 / urllib issue (some WEB posts point to that).",
      "summary": "Mercurial remote trigger on Windows Bamboo host fails with HTTPS in Bamboo's URL used for postCommitBuildTrigger.py "
    }
  },
  {
    "key": "BAM-20645",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-26T13:33:19.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n\r\nBamboo version 6.7.2 running and Mercurial version 5.1 (as of hg --version from command-line) being installed on Linux / MacOS.\r\nh3. Steps to Reproduce\r\n # Stand up a local Mercurial repository with source file(s) and connect it to e.g. TortopiseHg being used as Mercurial server.\r\n # Add this Mercurial repository to a Bamboo build plan, either as a Linked repository or plan internally.\r\n # Configure this build plan's \"Remote trigger\" to use the Mercurial repository and prepare it according to [Repository triggers the build when changes are committed|https://confluence.atlassian.com/bamboo/repository-triggers-the-build-when-changes-are-committed-289276902.html] by copying the SVN\u00a0_postCommitBuildTrigger.sh_\u00a0script into your local repository folder and there edit _.hg/hgrc_ adding\r\n{code:java}\r\n[hooks]\r\nchangegroup.update = /<path to script>/postCommitBuildTrigger.sh <Bamboo URL> <PROJ-BUILD key>{code}\r\n\r\n # Now modify at least one of the repository files and then _hg add_ plus _hg commit_ the change.\r\n\r\nh3. Expected Results\r\n\r\nThe build should automatically be triggered.\r\nh3. Actual Results\r\n\r\nBuild is not triggered. No error appears in the logs.\r\nh3. Workaround\r\n\r\nChange the _.hg/hgrc_ setting to this:\r\n{code:java}\r\n[hooks]\r\ncommit = /<path to script>/postCommitBuildTrigger.sh <Bamboo URL> <PROJ-BUILD key>{code}\r\nand a _hg commit_ immediately kicks off a build for the plan key pointed to.",
      "summary": "Remote Mercurial trigger not working with .hg/hgrc [hook] setting \"changegroup.update\""
    }
  },
  {
    "key": "BAM-20644",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-26T13:29:35.000+0000",
      "description": "Need to have an option to disable the quiet period for plan repositories globally, so users do not get an option to configure this in their repositories. \r\n\r\nCurrently, admins have to reach to users to configure the quiet period to our recommended time.",
      "summary": "Disable quiet period globally in bamboo"
    }
  },
  {
    "key": "BAM-20643",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-26T13:15:15.000+0000",
      "description": "h3. Issue Summary\r\nUsers can deliberately remove volumes that are necessary for the correct operation of a job tasks. If they are needed they should not be removable.\r\n\r\nh3. Steps to Reproduce\r\n # Create a job with docker runner\r\n # Create a script task with a simple command\r\n # Remove the\u00a0*bamboo.tmp.directory* volume\r\n\r\nh3. Actual Results\r\n\r\nThe script task will not work due to the fact that the docker runner will not find it.\r\n{noformat}\r\n/tmp/runInDocker5641418594940319039.sh: 4: /tmp/runInDocker5641418594940319039.sh: /var/atlassian/application-data/bamboo/temp/DR-DRT-JOB1-2-ScriptBuildTask-6641718064966873655.sh: not found\r\n{noformat}\r\n\r\nh3. Workaround\r\nGo to *Job configuration >> Docker >> Volumes* and make sure you have the following volumes configured:\r\n||Host directory||Container directory||\r\n|${bamboo.tmp.directory}|${bamboo.tmp.directory}|\r\n|${bamboo.working.directory}|${bamboo.working.directory}|\r\n\r\n",
      "summary": "Docker runner: removing bamboo.tmp.directory volume breaks job tasks"
    }
  },
  {
    "key": "BAM-20642",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-25T12:58:07.000+0000",
      "description": "h3. Summary\r\nExport file has inconsistent data due to potential race condition\r\n\r\n\r\nh3. Steps to Reproduce\r\n- Run a manual or schedule backup. What's important is to have the server paused.\r\n- Perform any kind of operations (excluding builds) that can modify data in the DB at any level.\r\n\r\nh3. Expected Results\r\nThose operations won't be allowed since the server is paused. \r\n\r\nh3. Actual Results\r\nOperations are allowed.\r\n \r\nh3. Notes\r\n- These scenarios can create inconsistencies in the export file. \r\n- When performing an import, these problem will raise. \r\n- If this happens, please open a ticket with the Bamboo support team to address that particular issue.\r\n\r\nh3. Workaround\r\nBlock all kind of write operations while the server is paused.",
      "summary": "Export file has inconsistent data due to potential race condition"
    }
  },
  {
    "key": "BAM-20641",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-25T12:37:49.000+0000",
      "description": "Some systems have a limited approach on how to make authentication to other systems and allow only username and password, which in effect doesn't allow the use of Bamboo's Personal Tokens.",
      "summary": "Bamboo authentication tokens should be acceptable as a password"
    }
  },
  {
    "key": "BAM-20639",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-26T02:11:48.000+0000",
      "created": "2019-09-24T12:59:16.000+0000",
      "description": "{panel:title=Atlassian status as of September 2019|borderStyle=solid|borderColor=#B2D4FF | titleBGColor=#B2D4FF | bgColor=#EAF1FC}\r\nMicrosoft has not released any major updates for IE11 since 2015, and has [recently discouraged the use of IE11 as a default browser|https://techcommunity.microsoft.com/t5/Windows-IT-Pro-Blog/The-perils-of-using-Internet-Explorer-as-your-default-browser/ba-p/331732].\r\n\r\nTo allow us to continue to take advantage of modern web standards to deliver improved functionality and the best possible user experience across all of our products, we have decided to end support for IE11. *Bamboo 6.10 will be the last IE11-supported version.*\r\n\r\nEnd of support means we will not fix bugs that are specific to IE11, and will begin to introduce features that aren't compatible with this browser.\r\n\r\nFind out more about this change from our [announcement|https://community.atlassian.com/t5/Feedback-Forum-articles/Retiring-IE11-support-for-Atlassian-cloud-server-and-data-center/ba-p/1185312].\r\n\r\nIf you have questions or concerns about this change, please comment on this issue.\r\n\r\n{panel}",
      "summary": "Plans to end support for IE11"
    }
  },
  {
    "key": "BAM-20638",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-24T00:51:45.000+0000",
      "description": "h2. Problem\r\nBamboo default heap size may be insufficient as memory requirements have changed over time.\r\n\r\nh2. Suggested Solution\r\n* Review current heap size and determine if there is a more optimal default to reduce the occurrences of {{OutOfMemoryError}} not long after installing the product for smaller customers.\r\n* If changes are required, ensure system requirements are also updated so there's enough overhead for external processes outside of JVM heap:\r\n** [Bamboo Best Practice \\- System Requirements|https://confluence.atlassian.com/bamboo/bamboo-best-practice-system-requirements-388401170.html]\r\n* More clarity on System Requirements to properly communicate that the number provided relates to physical RAM rather than a heap size recommendations. Perhaps we can include both.\r\n",
      "summary": "Review Bamboo default heap size"
    }
  },
  {
    "key": "BAM-20637",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-24T13:36:54.000+0000",
      "created": "2019-09-23T20:45:35.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe bamboo-agent.sh script does not check whether $JAVA_HOME is set before adding $JAVA_HOME/bin to the front of the PATH variable.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd logic to check if $JAVA_HOME is defined or not, before modifying $PATH.\r\n\r\n{code}\r\nif [ ! -z \"$JAVA_HOME\" ]\r\nthen\r\nPATH=\"$JAVA_HOME/bin:$PATH\"\r\nexport PATH\r\nfi\r\n{code}\r\n \r\nh3. Workaround\r\n\r\nConfigure $JAVA_HOME, per Atlassian [Supported platforms|https://confluence.atlassian.com/bamboo/supported-platforms-289276764.html]\r\n\r\n",
      "summary": "If $JAVA_HOME is empty do not update $PATH in bamboo-agent.sh"
    }
  },
  {
    "key": "BAM-20636",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-23T13:33:26.000+0000",
      "description": "Please implement OID for deployment environments. It will greatly help us with tasks like renaming environments as environment names are not unique.",
      "summary": "In Bamboo Specs deployment environments does not have OID"
    }
  },
  {
    "key": "BAM-20635",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-23T01:27:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMisconfigured SVN repository (empty branch name and branch path) can cause branches to be deleted from plans that share the same repository root URL.\r\nh3. Steps to Reproduce\r\nh6. Method One\r\n # Set global branch detection interval to 15 seconds at *Bamboo Administration >> General Configuration* to speed things up\r\n # Create two SVN repositories\r\n{code:java}\r\nName: S1\r\nType: Plan Repository\r\nURL: http://172.17.0.3/svn/bamboo/\r\nBranch Name: trunk\r\nBranch Path: trunk\r\n{code}\r\n{code:java}\r\nName: S2\r\nType: Linked Repository\r\nURL: http://172.17.0.3/svn/bamboo/\r\nBranch Name: \r\nBranch Path:\r\n{code}\r\n\r\n # Create a plan, with S1 as a repository\r\n # Configure *Delete plan branches after 7 days*\r\n # Create a plan branch on it manually pointing at a branch in my repository: branches/branch1\r\n # Visit *Build > Branch Status* and select *S2* drop the dropdown\r\n # Open the *Select VCS branch* dropdown > If it triggered, it should appear blank and log something like:\r\n{code:java}\r\n2019-09-20 23:34:42,631 INFO [http-nio-8085-exec-9] [AccessLogFilter] bamboo GET http://localhost:8085/rest/branchStatus/latest/branches?repoId=4849666&searchTerm=&_=1569022479376 606997kb\r\n2019-09-20 23:34:42,707 INFO [http-nio-8085-exec-9] [SvnBranchDetector] Path http://172.17.0.3/svn/branches does not exist. Please check configuration of SVN repository. No branches found.\r\n{code}\r\n\r\n # At this point, the branch should be marked for deletion.\r\n ** (!) There does appear to be some inconsistency in reproducing it at this point. Perhaps some caching at play.\r\n # If it doesn't trigger, go poke around the UI, view the repository on your plan, come back to the branch status and try again.\r\n\r\nh6. Method two\r\n # Set global branch detection interval to 15 seconds at *Bamboo Administration >> General Configuration* to speed things up\r\n # Create two SVN repositories\r\n{code:java}\r\nName: S1\r\nURL: http://172.17.0.3/svn/bamboo/\r\nBranch Name: trunk\r\nBranch Path: trunk\r\n{code}\r\n{code:java}\r\nName: S2\r\nURL: http://172.17.0.3/svn/bamboo/\r\nBranch Name: \r\nBranch Path:\r\n{code}\r\n\r\n # Create a plan, with S1 as a repository\r\n # Configure *Delete plan branches after 7 days*\r\n # Create a plan branch on it manually pointing at a branch in my repository: branches/branch1\r\n # Create a second plan, with S2 as a repository\r\n # Configure *Delete plan branches after 7 days*\r\n # Wait a bit for the plan branch on *S1* to be marked for deletion.\r\n\r\nh3. Expected Results\r\n\r\nPlan branches are not marked for deletion on the plan with S1 as a repository.\r\nh3. Actual Results\r\n\r\nPlan branches are marked for deletion on the plan with S1 as a repository.\r\nh3. Workaround\r\n\r\nConfigure a branch name and branch path on the SVN repository which has none and shares a repository root URL with the repository on the plan that keeps getting branches marked for deletion. (e.g. S2 from the example above).",
      "summary": "Misconfigured SVN repository can cause branches to be deleted from plans that share the same repository root URL"
    }
  },
  {
    "key": "BAM-20634",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-19T20:21:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen the user selects more than one build making a report chart of successful builds, 0% results do not show on the chart.\r\nh3. Environment\r\n\r\nBamboo 6.9.2\r\n Tested for \"percentage of successful builds\" and \"build activity\".\r\nh3. Steps to Reproduce\r\n\r\nChoose two plans that have days that all builds failed and some days with success.\r\n Go to reports and create a chart selecting both plans, group by day and the date filter desired.\r\nh3. Expected Results\r\n\r\nA chart that varies from 0% to 100%\r\nh3. Actual Results\r\n\r\nThere are now 0% results when having more than one plan selected.\r\n !Screen Shot 2019-09-19 at 17.16.51.png|width=236,height=194!\r\n !Screen Shot 2019-09-19 at 17.16.35.png|width=236,height=194! \r\n !Screen Shot 2019-09-19 at 17.17.12.png|width=236,height=194!\r\nh3. Notes\r\n\r\nThe same can be done with build activity when there is no activity in a day.\r\nh3. Workaround\r\n\r\nFor a single plan chart, there is no issue, although this does not solve the problem. For actually showing all the plans together there is no known workaround.",
      "summary": "Build report chart does not show 0 when selecting more than 1 build"
    }
  },
  {
    "key": "BAM-20633",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-19T14:41:19.000+0000",
      "description": "In the \"Notification\" field Bamboo YAML documentation:\r\n * [Bamboo Specs Reference|https://docs.atlassian.com/bamboo-specs-docs/6.9.2/specs.html?yaml]\r\n\r\nThe text leads the reader to believe that you can change notifications settings through YAML specs for plans, build-outcomes, etc... Instead, this can only be used for deployments as stated in this other documentation at \"These settings cannot be changed:\":\r\n * [Bamboo YAML Specs|https://confluence.atlassian.com/bamboo/bamboo-yaml-specs-938844479.html]\r\n\r\nA message should be added warning the reader that the notifications are sent by default for the committers and watchers of the plan when the build fails.\r\n\r\nIt's only possible to change notifications settings with YAML specs for deployments.\r\n\r\nIn the deployment triggers description (Bamboo Specs Reference) would be great to have a message telling that branch plans need to be already created and linked before scanning the YAML specs.",
      "summary": "Should add to YAML - Bamboo Specs Reference Documentation "
    }
  },
  {
    "key": "BAM-20632",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-19T14:26:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a test report contains more than 1000 test results, Bamboo doesn't list them all when we navigate to 'tests' tab in build result summary.\r\nh3. Steps to Reproduce\r\n # Add a test report xml file with more than 1000 test results in a build\r\n # Add a JUnit parser task to parse this test report.\r\n # Run this build\r\n\r\nh3. Expected Results\r\n\r\nAll the test results in the Build result summary page are listed (preferably paginated showing only the first few and leave the rest in next subsequent pages).\r\nh3. Actual Results\r\n\r\nOnly the first 1000 test results are listed, but the Tests tab clearly shows there are more test passed/failed.\r\nh3. Workaround\r\n\r\nThere is no workaround to display the remaining tests for now.",
      "summary": "tests tab displays only the first 1000 test result entries"
    }
  },
  {
    "key": "BAM-20631",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-18T07:27:37.000+0000",
      "description": "It would be nice to have additional information a environment about its trigger metadata\r\n * if triggers exists, and if any is active, what kind of trigger\r\n * clickable link to triggers\r\n\r\n\u00a0",
      "summary": "Add Trigger Information to the Deployment projects overview"
    }
  },
  {
    "key": "BAM-20630",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-30T08:01:01.000+0000",
      "created": "2019-09-18T05:25:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf Spot instances were enabled and you upgrade to Bamboo 6.10, Elastic Bamboo functionality breaks (can't start elastic agents) because of references to deprecated instance types in the Spot bidding configuration.\r\n\r\nh3. Steps to Reproduce\r\n# Start Bamboo 6.9.2\r\n# Enable Spot instances at *Bamboo Administration >> Overview >> (Elastic Bamboo) Spot Instances*\r\n# Shutdown Bamboo and upgrade to Bamboo 6.10\r\n# Try to start an Elastic Agent > Error\r\n# Try to edit Spot instance configuration > Error\r\n\r\nh3. Expected Results\r\nElastic Bamboo works.\r\n\r\nh3. Actual Results\r\nCan't start Elastic Agents or edit the Spot Instance configuration.\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file and in the UI when visiting the Spot instances UI:\r\n{noformat}\r\n2019-09-18 05:10:11,645 ERROR [http-nio-8085-exec-9] [FiveOhOh] 500 Exception was thrown.\r\ncom.google.common.util.concurrent.UncheckedExecutionException: com.thoughtworks.xstream.converters.ConversionException:\r\n...\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4830)\r\n\tat com.atlassian.bamboo.bandana.BambooCachingBandanaPersister.retrieve(BambooCachingBandanaPersister.java:36)\r\n\tat com.atlassian.bamboo.bandana.DefaultBandanaPersister.retrieve(DefaultBandanaPersister.java:43)\r\n\tat com.atlassian.bandana.DefaultBandanaManager.getValue(DefaultBandanaManager.java:32)\r\n\tat com.atlassian.bandana.DefaultBandanaManager.getValue(DefaultBandanaManager.java:24)\r\n\tat com.atlassian.bamboo.bandana.BambooBandanaManager.getValue(BambooBandanaManager.java:28)\r\n\tat com.atlassian.bamboo.agent.elastic.server.SpotInstanceConfigurationAccessorImpl.getSpotInstanceConfig(SpotInstanceConfigurationAccessorImpl.java:28)\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ConfigureSpotInstancesAction.getSpotInstanceConfig(ConfigureSpotInstancesAction.java:91)\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ConfigureSpotInstancesAction.read(ConfigureSpotInstancesAction.java:58)\r\n....\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.thoughtworks.xstream.converters.ConversionException:\r\n...\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:77)\r\n...\r\n\tat com.atlassian.bamboo.bandana.BandanaPersisterImpl.getObjectFromValue(BandanaPersisterImpl.java:76)\r\n\tat com.atlassian.bamboo.bandana.BandanaPersisterImpl.retrieve(BandanaPersisterImpl.java:31)\r\n\tat com.atlassian.bamboo.bandana.BambooCachingBandanaPersister$1.load(BambooCachingBandanaPersister.java:28)\r\n\tat com.atlassian.bamboo.bandana.BambooCachingBandanaPersister$1.load(BambooCachingBandanaPersister.java:25)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3527)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2319)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2282)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2197)\r\n\t... 290 more\r\nCaused by: java.lang.IllegalArgumentException: No enum constant com.amazonaws.services.ec2.model.InstanceType.R5d16xlarge\r\n\tat java.lang.Enum.valueOf(Enum.java:238)\r\n\tat com.thoughtworks.xstream.converters.enums.EnumConverter.unmarshal(EnumConverter.java:49)\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n\t... 347 more\r\n{noformat}\r\n\r\nThe below is logged to {{atlassian-bamboo.log}} when trying to start an Elastic instance:\r\n{noformat}\r\n2019-09-18 05:41:37,390 INFO [http-nio-8085-exec-6] [AccessLogFilter] bamboo POST http://localhost:8085/admin/elastic/createElasticInstances.action 397788kb\r\n2019-09-18 05:41:38,651 ERROR [http-nio-8085-exec-6] [ManageElasticInstancesAction] Failed to start elastic instances\r\ncom.atlassian.aws.AWSException: Error when starting a new instance\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.startInstancesInternal(ElasticFunctionalityFacadeImpl.java:217)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.startupAgents(ElasticFunctionalityFacadeImpl.java:159)\r\n...\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ManageElasticInstancesAction.create(ManageElasticInstancesAction.java:110)\r\n...\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.google.common.util.concurrent.UncheckedExecutionException: com.thoughtworks.xstream.converters.ConversionException:\r\n...\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4830)\r\n\tat com.atlassian.bamboo.bandana.BambooCachingBandanaPersister.retrieve(BambooCachingBandanaPersister.java:36)\r\n\tat com.atlassian.bamboo.bandana.DefaultBandanaPersister.retrieve(DefaultBandanaPersister.java:43)\r\n\tat com.atlassian.bandana.DefaultBandanaManager.getValue(DefaultBandanaManager.java:32)\r\n\tat com.atlassian.bandana.DefaultBandanaManager.getValue(DefaultBandanaManager.java:24)\r\n\tat com.atlassian.bamboo.bandana.BambooBandanaManager.getValue(BambooBandanaManager.java:28)\r\n\tat com.atlassian.bamboo.agent.elastic.server.SpotInstanceConfigurationAccessorImpl.getSpotInstanceConfig(SpotInstanceConfigurationAccessorImpl.java:28)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticInstanceManagerImpl.createRemoteElasticInstanceObject(ElasticInstanceManagerImpl.java:240)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticInstanceManagerImpl.newElasticAgent(ElasticInstanceManagerImpl.java:255)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticFunctionalityFacadeImpl.startInstancesInternal(ElasticFunctionalityFacadeImpl.java:196)\r\n\t... 298 more\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nh6. Option 1: Completely remove spot configuration.\r\n\r\nThis option involves completely deleting all spot related configuration from the Bamboo database. \r\n\r\n(!) If following this route, you will need to manually reconfigure your Spot bids.\r\n# Shutdown Bamboo\r\n# (!) *Take a Bamboo database backup before running any modifications*\r\n# You may also choose to extract the stored configuration if you want to reference your old spot prices at any point from the *SERIALIZED_DATA* column:\r\n{code}\r\nSELECT * FROM BANDANA WHERE BANDANA_KEY = 'EC2_SPOT_INSTANCES_CONFIG';\r\n{code}\r\n# Run the below SQL to delete the Spot config from the Bamboo database:\r\n{code}\r\nDELETE FROM BANDANA WHERE BANDANA_KEY = 'EC2_SPOT_INSTANCES_CONFIG';\r\n{code}\r\n# Start Bamboo\r\n# Reconfigure your bids manually\r\n",
      "summary": "Cannot start Bamboo Elastic agents in 6.10 if Spot was enabled before the upgrade"
    }
  },
  {
    "key": "BAM-20629",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-17T21:24:30.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBuild log is showing inaccurate information once we change an invalid \"Working subdirectory\" value for the script task to another (yet invalid) value.\r\nh3. Steps to Reproduce\r\n # Create a new plan\r\n # Add a Script task to it with an invalid path at the \"Working subdirectory\" field ({{Path/from/step2}})\r\n # Run the plan\r\n # Change the \"Working subdirectory\" content to a different nonexistent path ({{Path/from/step4}})\r\n # Run the build again\r\n\r\nh3. Expected Results\r\n\r\nIt's expected the Job to fail in both cases because we are pointing the \"Working subdirectory\" to a non-existent path and we should see the correct non-existent path at the build logs\r\nh3. Actual Results\r\n\r\nBoth builds will fail but in the build logs for the second build (Step 5) we'll still see the error referencing the path set on step 2:\r\n{noformat}\r\ncom.atlassian.bamboo.task.TaskException: Failed to execute task\r\n\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:65)\r\n\tat com.atlassian.bamboo.plugins.script.task.ScriptBuildTask.execute(ScriptBuildTask.java:68)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:319)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:252)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:319)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:112)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:73)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.executeBuildPhase(DefaultBuildAgent.java:204)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:176)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:131)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:125)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:127)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalArgumentException: The working directory /var/atlassian/application-data/bamboo/xml-data/build-dir/EB-TES-JOB1/Path/from/step2 must exist before executing the process\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:122)\r\n\tat com.atlassian.bamboo.process.ProcessServiceImpl.createExternalProcess(ProcessServiceImpl.java:145)\r\n\tat com.atlassian.bamboo.process.ProcessServiceImpl.executeExternalProcess(ProcessServiceImpl.java:203)\r\n\tat com.atlassian.bamboo.process.ProcessServiceImpl.executeExternalProcess(ProcessServiceImpl.java:218)\r\n\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:48)\r\n\t... 17 more\r\n{noformat}\r\nBut if you look at the agent logs, you'll see that the task is failing with the correct directory ({{Path/from/step4}}):\r\n{noformat}\r\n2019-09-17 21:11:03,981 ERROR [20-BAM::Agente 3::Agent:pool-35-thread-1] [TaskExecutorImpl] Error occurred while running Task 'Test ScriptTask(3)' of type com.atlassian.bamboo.plugins.scripttask:task.builder.script.\r\ncom.atlassian.bamboo.task.TaskException: Failed to execute task\r\n\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:65)\r\n\tat com.atlassian.bamboo.plugins.script.task.ScriptBuildTask.execute(ScriptBuildTask.java:68)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:319)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:252)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:319)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:112)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:73)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.executeBuildPhase(DefaultBuildAgent.java:204)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:176)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:131)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:125)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:127)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalArgumentException: The working directory /var/atlassian/application-data/bamboo/xml-data/build-dir/EB-TES-JOB1/Path/from/step4 must exist before executing the process\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:122)\r\n\tat com.atlassian.bamboo.process.ProcessServiceImpl.createExternalProcess(ProcessServiceImpl.java:145)\r\n\tat com.atlassian.bamboo.process.ProcessServiceImpl.executeExternalProcess(ProcessServiceImpl.java:203)\r\n\tat com.atlassian.bamboo.process.ProcessServiceImpl.executeExternalProcess(ProcessServiceImpl.java:218)\r\n\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:48)\r\n\t... 17 more\r\n{noformat}\r\n(i) If you set a valid subdirectory the build will pass\r\n (i) It does not matter how many times you change the \"Working subdirectory\" value. if is a non-existent path, the logs will still show the first one.\r\nh3. Workaround\r\n\r\nRestarting Bamboo server will adjust the build log information",
      "summary": "Build log is showing inaccurate information when replacing an invalid Working subdirectory path to another (yet invalid) value at script tasks"
    }
  },
  {
    "key": "BAM-20628",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-12T09:16:11.000+0000",
      "created": "2019-09-17T18:32:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIt's not possible to scan YAML specs when configuring a deployment trigger for build success on branches if the branch plan does not exist in bamboo yet.\r\n\r\nEnvironment\r\n\r\nBamboo 6.9.1 with YAML specs\r\n\r\nh3. Steps to Reproduce\r\n\r\nCreate YAML specs for deployments and set a trigger to set off on build success of a branch plan.\r\nMake sure you don't have the branch plan created.\r\n\r\nh3.Expected Results\r\n\r\nJust a warning message that the branch plan does not exist and the deployment is configured without the trigger.\r\n\r\nh3. Actual Results\r\n\r\nAn error message:\u00a0\r\n{code}\r\nThere was an error when processing yaml file \"bamboo.yml\". File structure is correct, contact Atlassian Support for assistance on resolving this issue.\r\n\r\nAfter successful build plan: Can't find triggering branch 'dev-branch'\r\ncom.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: After successful build plan: Can't find triggering branch 'dev-branch'\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkArgument(ImporterUtils.java:123)\r\n\tat com.atlassian.bamboo.trigger.exporters.AfterSuccessfulPlanTriggerExporter.toTriggerConfiguration(AfterSuccessfulPlanTriggerExporter.java:101)\r\n\tat com.atlassian.bamboo.configuration.external.helpers.TriggerDefinitionExportHelper.importTriggerDefinition(TriggerDefinitionExportHelper.java:110)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.importTriggerProperties(DeploymentImportServiceImpl.java:832)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.lambda$createTriggers$15(DeploymentImportServiceImpl.java:812)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1082)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.createTriggers(DeploymentImportServiceImpl.java:812)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.updateTriggers(DeploymentImportServiceImpl.java:723)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.updateEnvironments(DeploymentImportServiceImpl.java:717)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.lambda$modifyExistingDeploymentFunction$9(DeploymentImportServiceImpl.java:541)\r\n\tat com.atlassian.bamboo.core.ScopedExclusionServiceImpl.tryWithLock(ScopedExclusionServiceImpl.java:74)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.modifyExistingDeployment(DeploymentImportServiceImpl.java:482)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.lambda$importDeployment$0(DeploymentImportServiceImpl.java:279)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:28)\r\n\tat com.atlassian.bamboo.configuration.external.DeploymentImportServiceImpl.importDeployment(DeploymentImportServiceImpl.java:259)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.importDeploymentProperties(RepositoryStoredSpecsServiceImpl.java:1039)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.yamlImportDeploymentProject(RepositoryStoredSpecsServiceImpl.java:438)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.processSimplifiedYaml(RepositoryStoredSpecsServiceImpl.java:371)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:285)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:267)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n{code}\r\n\u00a0\r\nh3. Workaround\r\n\r\nThere is no workaround reported yet.\r\n\u00a0",
      "summary": "YAML specs deployment trigger does not work without plan"
    }
  },
  {
    "key": "BAM-20627",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-18T07:22:27.000+0000",
      "created": "2019-09-17T16:37:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAttempting to spin up an elastic agent from one of the stock AMIs results in a permissions error\r\n\r\nh3. Environment\r\n\r\nBamboo 6.10.2\r\n\r\nh3. Steps to Reproduce\r\n # Configure an Elastic Image to use one of the new stock images from Bamboo 6.10.2\r\n # attempt to start an Elastic Agent using this instance\r\n\r\n\r\nh3. Expected Results\r\n\r\nElastic Instance and Agent both start.\r\n\r\nh3. Actual Results\r\n\r\n !image-2019-09-17-11-36-06-547.png|thumbnail! \r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\njava.lang.NullPointerException: Unable to find ami-0c5856a1aa5cf29f3, make sure it exists and your account has permissions to access it\r\nat com.google.common.base.Preconditions.checkNotNull(Preconditions.java:226)\r\nat com.atlassian.aws.ec2.awssdk.launch.LauncherUtils.getBlockDeviceMappings(LauncherUtils.java:42)\r\nat com.atlassian.aws.ec2.awssdk.launch.AwsInstanceLauncher.getRunInstancesRequest(AwsInstanceLauncher.java:120)\r\nat com.atlassian.aws.ec2.awssdk.launch.AwsInstanceLauncher.runInstance(AwsInstanceLauncher.java:95)\r\nat com.atlassian.aws.ec2.awssdk.launch.AwsInstanceLauncher.call(AwsInstanceLauncher.java:69)\r\nat com.atlassian.aws.ec2.RemoteEC2InstanceImpl.launchInstance(RemoteEC2InstanceImpl.java:363)\r\nat com.atlassian.aws.ec2.RemoteEC2InstanceImpl.backgroundStart(RemoteEC2InstanceImpl.java:346)\r\nat com.atlassian.aws.ec2.RemoteEC2InstanceImpl.access$100(RemoteEC2InstanceImpl.java:39)\r\nat com.atlassian.aws.ec2.RemoteEC2InstanceImpl$1.run(RemoteEC2InstanceImpl.java:95)\r\nat com.atlassian.aws.ec2.RemoteEC2InstanceImpl$CatchingRunnableDecorator.run(RemoteEC2InstanceImpl.java:79)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\nat java.lang.Thread.run(Thread.java:748)\r\n{noformat}\r\n\r\nh3. Workaround\r\nThere once was a workaround here, but it's no longer necessary since the issue is fixed so we've removed it prevent any confusion.",
      "summary": "Unable to Start Stock Elastic Images"
    }
  },
  {
    "key": "BAM-20626",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-17T14:10:47.000+0000",
      "description": "Currently bamboo will not allow users to map multiple build plans to a deployment project. With this the user has to create 1 deployment project per build plan.\u00a0\r\n\r\nDeployment Projects should have the same organization and project hierarchy as do build project.\u00a0\r\n\r\nDeployment Project\r\ndeployment plan\r\ndeployment plan\r\netc\r\nThis type of grouping (which is available for builds) would allow users to easily identify which deployment plans correspond to which project instead of having to use a label. The same functionality for Build Dashboard should be available for deployments as well (ex: Deployment Dashboard). Or even allow users to create an overall project that would contain all build plans and deployment plans that are correspond to it.",
      "summary": "Deployment Projects should have same hierarchy as Build project / plans"
    }
  },
  {
    "key": "BAM-20625",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-16T15:14:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAdding Docker capability (*Bamboo cog icon > Agent > add capability*) using Windows path like\u00a0C:\\Program Files\\Docker shows the following error:\r\n{noformat}\r\nThis entry cannot contain the character \\\r\n{noformat}\r\nh3. Suggested Solution\r\n\r\nBamboo should accept character \\ in the path for Docker capability.\r\nh3. Environment\r\n * Bamboo agent running Windows\r\n\r\nh3. Steps to Reproduce\r\n # Access *Bamboo cog icon > Agent > add capability*\r\n # Select Docker capability and put:\r\n{code:java}\r\nC:\\\\Program Files\\\\Docker\r\nC:\\Program Files\\Docker\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nBamboo should add Docker capability when using \\ in the path.\r\nh3. Actual Results\r\n\r\nThe message below is shown on Agent capability page:\r\n\r\n!image-2019-09-16-12-11-59-798.png|width=937,height=206!\r\nh3. Workaround\r\n\r\nAdd the Docker agent capability using [bamboo-capabilities.properties|https://confluence.atlassian.com/bamboo/configuring-remote-agent-capabilities-using-bamboo-capabilities-properties-289276849.html] file:\r\n{code:java}\r\nsystem.docker.executable=C:\\\\Program Files\\\\Docker\r\n{code}",
      "summary": "Adding Docker capability in Windows agent using \\ in the path shows \"This entry cannot contain the character \\\" error"
    }
  },
  {
    "key": "BAM-20624",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-16T10:20:20.000+0000",
      "description": "h3. Problem Definition\r\n\r\n\u00a0Currently, the docker image we ship doesn't preserve any changes we make in server.xml.\u00a0If we need to change some settings like adding a proxy address, we need to build a new image.\r\nh3. Suggested Solution\r\n\r\nWe can \u00a0add the volume attribute in DockerFile. This preserves the changes we make in server conf.\r\n{noformat}\r\nVOLUME [\"${BAMBOO_SERVER_HOME}\", \"${BAMBOO_SERVER_INSTALL_DIR}/conf\"]\r\n{noformat}\r\nh3. Workaround\u00a0\r\n\r\nWe need to create a new image after alteration to preserve the values during a restart.",
      "summary": "Allow Bamboo Docker images to mount server configuration files"
    }
  },
  {
    "key": "BAM-20623",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-16T06:43:40.000+0000",
      "description": "h3. Problem Definition\r\nBamboo with MySQL database does not work with Polish or Umlaut characters by default. The characters will be stored in MySQL database as ???\r\n\r\nh3. Suggested Solution\r\nWhen configuring the MySQL connection in Setup Wizard, the following properties should be added by default:\r\n{noformat}\r\n&useUnicode=true&characterEncoding=utf8\r\n{noformat}\r\n \r\nh3. Workaround \r\n# Shutdown Bamboo\r\n# Edit {{bamboo.cfg.xml}} file to add the the properties like the following example:\r\n{noformat}\r\n    <property name=\"hibernate.connection.url\">jdbc:mysql://localhost/bamboo?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8</property>\r\n\r\n{noformat}\r\n# Restart Bamboo\r\n",
      "summary": "Bamboo does not work with Polish or Umlaut characters by default"
    }
  },
  {
    "key": "BAM-20622",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-16T07:25:20.000+0000",
      "created": "2019-09-16T00:46:16.000+0000",
      "description": "h3. Issue Summary\r\nS3 bucket for Elastic agent sync is empty on Bamboo 6.4.2. This affects some but not all regions. \r\n\r\n(!) Not all regions have been tested.\r\n\r\nAffected:\r\n* US West 1 (N. Cali)\r\n* AP South-East 2 (Sydney)\r\n\r\nUnaffected:\r\n* US East 1 (N. Virginia)\r\n\r\nh3. Steps to Reproduce\r\nLaunch an Elastic Agent on Bamboo 6.4.2 using US West 1 (N. Cali).\r\n\r\nh3. Expected Results\r\nThe agent loads successfully.\r\n\r\nh3. Actual Results\r\nThe agent hangs on pending indefinitely and never connects\r\n\r\nThe below is observed in the {{/home/bamboo/bamboo-elastic-agent.out}}\r\n{noformat}\r\nroot@ip-10-52-20-129:~# cat /home/bamboo/bamboo-elastic-agent.out\r\nSyncing Elastic Bamboo Agent files...\r\n2019-09-15 02:02:43,133 INFO [main] [S3Sync] Syncing from: bamboo-agent-release-us-w1/6.4.2/9091f47f50c45aef96a489411d828b946a8040a2d2acf0e3a8ade8c2dd8b5a37/ to /opt/bamboo-elastic-agent\r\n2019-09-15 02:02:44,794 INFO [main] [AmazonClients] Detected current region us-west-1, using it for S3 access\r\n2019-09-15 02:02:44,795 INFO [main] [S3Synchroniser] Syncing s3://bamboo-agent-release-us-w1/6.4.2/9091f47f50c45aef96a489411d828b946a8040a2d2acf0e3a8ade8c2dd8b5a37/ to /opt/bamboo-elastic-agent\r\n2019-09-15 02:02:44,796 INFO [main] [AmazonClients] Detecting bucket location for [bamboo-agent-release-us-w1] via us-west-1\r\n2019-09-15 02:02:45,396 INFO [main] [AmazonClients] S3 endpoint for bamboo-agent-release-us-w1 set to: s3.us-west-1.amazonaws.com\r\n2019-09-15 02:02:45,396 INFO [main] [S3Synchroniser] Fetching the list of remote objects...\r\n2019-09-15 02:02:45,416 INFO [main] [S3Synchroniser] Found 0 files in s3://bamboo-agent-release-us-w1/6.4.2/9091f47f50c45aef96a489411d828b946a8040a2d2acf0e3a8ade8c2dd8b5a37\r\n2019-09-15 02:02:45,419 INFO [main] [S3Synchroniser] Found 36 files in /opt/bamboo-elastic-agent\r\n2019-09-15 02:02:45,419 INFO [main] [S3Synchroniser] Generating the list of files to fetch from S3...\r\n2019-09-15 02:02:45,419 INFO [main] [S3Synchroniser] Generating the list of files to remove...\r\n2019-09-15 02:02:45,433 INFO [main] [S3Synchroniser] Removing 0 files from /opt/bamboo-elastic-agent\r\n2019-09-15 02:02:45,433 INFO [main] [S3Synchroniser] Fetching 0 files to /opt/bamboo-elastic-agent\r\n2019-09-15 02:02:45,433 INFO [main] [S3Synchroniser] Fetched 0 MB from S3\r\ncat: 2019-09-15: No such file or directory\r\nsh: 0: Can't open 2019-09-15\r\n{noformat}\r\n\r\nh3. Workaround\r\nThe list of regions below are unaffected, so if possible within your AWS infrastructure you could utilize one of them:\r\n* US East 1 (N. Virginia)",
      "summary": "S3 bucket for Elastic agent sync is empty on Bamboo 6.4.2"
    }
  },
  {
    "key": "BAM-20621",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-14T20:48:08.000+0000",
      "description": "When configure After Build trigger for environment it's easy to make a mistake at branch name field. Bamboo expects plan branch name, not repository name.\r\nIt would be convenient if Bamboo lists available plan branches name so Specs author can fix mistake and see expected config value",
      "summary": "Show values of available branches when configure after build trigger"
    }
  },
  {
    "key": "BAM-20620",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-13T21:07:28.000+0000",
      "description": "h3. Problem\r\nAs an admin some times I need to identify the stage details during build time. This information is not available through build variables, requiring a call to \r\n{code}\r\n${bambooUrl}/rest/api/latest/search/jobs/${planKey}?searchTerm=${jobName}\r\n{code}\r\n\r\nCalling a rest API to get this information does not seem to be the best approach and even requires extra steps on filtering the results.\r\n\r\nh3. Suggested solution\r\nProvide a variable that shares what is the stage name of the given build job running.\r\n\r\n",
      "summary": "Add variable with stage information during build time"
    }
  },
  {
    "key": "BAM-20619",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-13T17:26:26.000+0000",
      "description": "Currently bamboo will not allow users to map multiple build plans to a deployment project. With this the user has to create 1 deployment project per build plan.\u00a0\r\n\r\nDeployment Projects should have the same organization and project hierarchy as do build project.\u00a0\r\n * Deployment Project\r\n ** deployment plan\r\n ** deployment plan\r\n ** etc\r\n\r\nThis type of grouping (which is available for builds) would allow users to easily identify which deployment plans correspond to which project instead of having to use a label. The same functionality for Build Dashboard should be available for deployments as well (ex: Deployment Dashboard). Or even allow users to create an overall project that would contain all build plans and deployment plans that are correspond to it.",
      "summary": "Deployment Projects should have same hierarchy as Build project / plans"
    }
  },
  {
    "key": "BAM-20618",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-12T14:51:51.000+0000",
      "description": "h3. Problem\r\nThere are some REST API endpoints that have its results restricted to 25 and could be adjusted by using the \"max-result\" property, but this is not showing as available in our docs.\r\n\r\nh3. Suggested Solution\r\nUpdate all the documented REST API endpoints that can use this property to show it as a possible configuration.",
      "summary": "REST API docs: Add the \"max-result\" property in every rest endpoint that can make use of it"
    }
  },
  {
    "key": "BAM-20617",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-30T08:01:08.000+0000",
      "created": "2019-09-12T06:29:50.000+0000",
      "description": "h3. Issue Summary\r\nSpecs status will hang in \"Scanning in progress\" if LFS is enabled in the repository but not installed in Bamboo\r\n\r\nh3. Steps to Reproduce\r\n# Enable LFS support in the Bitbucket Server repository\r\n# Do not install or uninstall Git LFS in Bamboo server\r\n# Run Specs for the repository\r\n\r\nh3. Expected Results\r\nSpecs will fail to run because unable to checkout without LFS\r\n\r\nh3. Actual Results\r\n* The Bitbucket Server repository in Bamboo show the Specs status \"Scanning in progress\" without stopping.\r\n* The below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2019-09-10 08:24:57,273 INFO [15-BAM::SpecsDetection:pool-22-thread-3] [RssDetectionRunnable] Exception while executing RSS detection for repository 197493079\r\ncom.atlassian.bamboo.plugins.stash.repository.StashRepositoryException: com.atlassian.bamboo.repository.RepositoryException: Cannot fetch branch 'refs/heads/master' from 'ssh://git@stash.server:7999/proj/repo.git' to source directory '/bamboo-home/xml-data/build-dir/_git-repositories-cache/194724e1a77a1dbe4b6c6d09d31c2928bfdca0a5'. command [/usr/bin/git lfs logs last] failed with code 1. Working directory was [/bamboo-home/xml-data/build-dir/_git-repositories-cache/194724e1a77a1dbe4b6c6d09d31c2928bfdca0a5]., stderr:\r\ngit: 'lfs' is not a git command. See 'git --help'.\r\n\r\nDid you mean this?\r\nlog\r\n\r\n{noformat}\r\n\r\nh3.Notes\r\n* The same status hang problem will happen if checkout fail due to other problem as well\r\n* Specs status should change to fail if checkout fail\r\n\r\nh3. Workaround\r\n# Recreate a new repository in Bamboo to remove the hang Specs status\r\n# Install Git LFS in the machine hosting Bamboo so that it will not happen again",
      "summary": "Specs status hang if checkout fail due to LFS"
    }
  },
  {
    "key": "BAM-20616",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-11T22:02:14.000+0000",
      "description": "After triggering a deployment, page \"Deployment preview: <Name of deployment environment>\" shows up with two options (selectable via radio button)\r\n * \"Create new release from build result\"\r\n * \"Promote existing release to this environment\"\r\n\r\nBy default, the second option, namely \"Promote existing release to this environment\" is pre-selected.\r\n\r\nSome use-case would prefer changing this default to \"Create new release from build result\". An option might be to define this a a new select option under button \"Action\" in a deployment environment or e.g add a button \"Miscelanious\"\u00a0 along with \"Triggers\", \"Dockker\", etc. in \"Edit mode of a deployment environment.",
      "summary": "\"Deployment preview: ...\" page shows \"Promote existing release to this environment\" per default"
    }
  },
  {
    "key": "BAM-20614",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-09T12:59:14.000+0000",
      "description": "h3. Issue summary\r\n\r\nSetting up the administrative user during install may throw NullPointerException if the installation was previously interrupted.\r\nh3. Environment\r\n\r\nBamboo 6.x\r\nh3. Steps to Reproduce\r\n # Perform a fresh install of Bamboo 6.9. Stop the install wizard at the step of setting up the administrative user by killing the application.\r\n # Start Bamboo again.\r\n # Attempt to complete setting up the administrative user.\r\n\r\nh3. Expected Results\r\n\r\nThe administrative user is created and the installation completes successfully.\r\nh3. Actual Results\r\n\r\nA NullPointerException is thrown:\r\n{noformat}\r\njava.lang.NullPointerException\r\nat com.atlassian.bamboo.ww2.actions.setup.SetupAdminUserAction.execute(SetupAdminUserAction.java:33)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nat java.lang.reflect.Method.invoke(Unknown Source)\r\nat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:899)\r\nat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1544)\r\nat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\nat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:98)\r\nat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:90)\r\nat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1620)\r\nat ognl.ASTMethod.getValueBody(ASTMethod.java:91)\r\nat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\nat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\nat ognl.Ognl.getValue(Ognl.java:470)\r\nat ognl.Ognl.getValue(Ognl.java:434)\r\nat com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:401)\r\nat com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:453)\r\nat com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:399)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:438)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:293)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:254)\r\nat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:181)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.validateWorkflow(BambooWorkflowInterceptor.java:46)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.access$000(BambooWorkflowInterceptor.java:16)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor$1.call(BambooWorkflowInterceptor.java:29)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor$1.call(BambooWorkflowInterceptor.java:26)\r\nat com.atlassian.bamboo.util.BambooProfilingUtils.withUtilTimerStack(BambooProfilingUtils.java:35)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.doIntercept(BambooWorkflowInterceptor.java:26)\r\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.validate(BambooValidationInterceptor.java:42)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.access$000(BambooValidationInterceptor.java:12)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor$1.call(BambooValidationInterceptor.java:25)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor$1.call(BambooValidationInterceptor.java:22)\r\nat com.atlassian.bamboo.util.BambooProfilingUtils.withUtilTimerStack(BambooProfilingUtils.java:35)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.doIntercept(BambooValidationInterceptor.java:22)\r\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.atlassian.bamboo.ww2.interceptors.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:64)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.atlassian.bamboo.ww2.interceptors.BambooXsrfTokenInterceptor.doIntercept(BambooXsrfTokenInterceptor.java:70)\r\nat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.lambda$intercept$0(AbstractBambooInterceptor.java:29)\r\nat com.atlassian.bamboo.util.BambooProfilingUtils.withUtilTimerStack(BambooProfilingUtils.java:35)\r\nat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:28)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:137)\r\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:201)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:101)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:160)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:175)\r\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:121)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:137)\r\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:167)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:203)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:196)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat com.atlassian.bamboo.ww2.interceptors.SetupCheckInterceptor.intercept(SetupCheckInterceptor.java:36)\r\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\nat org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:48)\r\nat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:576)\r\nat org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:79)\r\nat org.apache.struts2.dispatcher.filter.StrutsExecuteFilter.doFilter(StrutsExecuteFilter.java:86)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\r\nat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.SessionCreationForAnonymousUserFilter.doFilter(SessionCreationForAnonymousUserFilter.java:40)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.NewRelicTransactionNamingFilter.doFilter(NewRelicTransactionNamingFilter.java:30)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.ww2.StrutsPrepareFilter$1.doFilter(StrutsPrepareFilter.java:72)\r\nat org.apache.struts2.dispatcher.filter.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:92)\r\nat com.atlassian.bamboo.ww2.StrutsPrepareFilter.handleRequest(StrutsPrepareFilter.java:46)\r\nat com.atlassian.bamboo.ww2.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:38)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.BambooProfilingFilter.doFilter(BambooProfilingFilter.java:72)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:84)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:19)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:74)\r\nat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:59)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:88)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\nat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:37)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:29)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.BambooCompressingFilter.doFilter(BambooCompressingFilter.java:39)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:40)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.ClickjackingAndMimeTypeSniffingPreventionFilter.doFilter(ClickjackingAndMimeTypeSniffingPreventionFilter.java:36)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:49)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\nat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.lang.Thread.run(Unknown Source)\r\n{noformat}\r\nand the installation does not complete.\r\nh3. Notes\r\n\r\nThe steps to reproduce do not always work reliably. Depending when during the install wizard the process is stopped, the next start may continue and complete the install successfully or fail.\r\nh3. Workaround\r\n\r\nIf the installation is interrupted before completion then perform the installation again from scratch and do not re-use previous directories for the home and install directory.\r\n\r\nFor Windows installations start Bamboo initially from the console and not as a service. Complete the installation wizard. Once Bamboo is installed successfully, stop it, install the service, set the correct user to run the service (the same user that installed Bamboo) and start Bamboo as a service.",
      "summary": "Setting up the administrative user during install may throw NullPointerException"
    }
  },
  {
    "key": "BAM-20613",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-07T12:39:04.000+0000",
      "description": "h3. Problem Definition\r\n\r\n{{[http://Bamboourl/authors/viewAuthors.action|http://bamboourl/authors/viewAuthors.action]}}\r\n\r\nThis page shows a list of all authors whom have commited to repositories linked to Bamboo. All non-admins can view this information. As a lot of commit 'authors' are listed as email addresses, this can lead to privacy concerns.\r\nh3. Suggested Solution\r\n\r\nObfuscate author details for non-admins who vew the {{viewAuthors.action}} page.\r\nh3. Workaround\r\n # Open the file *<BambooInstall>/atlassian-bamboo/author/viewAuthors.ftl* in an editor (note the file name is viewAuthor*s*.ftl, not viewAuthor.ftl)\r\n # You will find the following content:\r\n{code:java}\r\n[#-- @ftlvariable name=\"action\" type=\"com.atlassian.bamboo.ww2.actions.author.ViewAuthors\" --]\r\n[#-- @ftlvariable name=\"\" type=\"com.atlassian.bamboo.ww2.actions.author.ViewAuthors\" --]\r\n<html>\r\n<head>\r\n    [@ui.header pageKey='author.statistics.list.title' object='' title=true /]\r\n    <meta name=\"decorator\" content=\"bamboo.authors\"/>\r\n    <meta name=\"tab\" content=\"list\" />\r\n</head>\r\n<body>\r\n\r\n[@ui.header pageKey='author.statistics.list.title' /]\r\n[#if authors?has_content]\r\n    <p>[@ww.text name=\"author.statistics.list.description\"/]</p>\r\n\r\n    <table id=\"authorTable\" class=\"aui tablesorter\">\r\n        <thead>\r\n            <tr>\r\n                <th>[@ww.text name=\"author.name\"/]</th>\r\n                <th>[@ww.text name=\"author.statistics.triggered\"/]</th>\r\n                <th>[@ww.text name=\"author.statistics.failed\"/]</th>\r\n                <th>[@ww.text name=\"author.statistics.percentageFailed\"/]</th>\r\n                <th title=\"[@ww.text name='author.statistics.broken.description'/]\">[@ww.text name=\"author.statistics.broken\"/]</th>\r\n                <th title=\"[@ww.text name='author.statistics.fixed.description'/]\">[@ww.text name=\"author.statistics.fixed\"/]</th>\r\n                <th title=\"[@ww.text name='author.statistics.score.description'/]\">[@ww.text name=\"author.statistics.score\"/]</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n        [#list authorsBuildStatistics as stats]\r\n            <tr>\r\n                <td><a href=\"${req.contextPath}/${stats.nameDisplayUrl}\">${stats.name?html}</a></td>\r\n                <td>${stats.numberOfTriggeredBuilds}</td>\r\n                <td>${stats.numberOfFailedBuilds}</td>\r\n                <td>${stats.percentageOfFailedBuilds?string.percent}</td>\r\n                <td>${stats.numberOfBrokenBuilds}</td>\r\n                <td>${stats.numberOfFixedBuilds}</td>\r\n                <td>${stats.score}</td>\r\n            </tr>\r\n        [/#list]\r\n        </tbody>\r\n    </table>\r\n\r\n    <script type=\"text/javascript\">\r\n        AJS.$(function() {\r\n            AJS.$(\"#authorTable\").tablesorter({\r\n                sortList: [[0,0]],\r\n                headers: {\r\n                    1: { sorter: 'digit' },\r\n                    2: { sorter: 'digit' },\r\n                    3: { sorter: 'digit' },\r\n                    4: { sorter: 'digit' },\r\n                    5: { sorter: 'digit' },\r\n                    6: { sorter: 'digit' },\r\n               },\r\n            });\r\n        });\r\n    </script>\r\n[#else]\r\n    [@ui.messageBox type=\"info\"]\r\n        [@s.text name=\"author.statistics.list.noAuthors\" /]\r\n    [/@ui.messageBox]\r\n[/#if]\r\n\r\n</body>\r\n</html>\r\n{code}\r\n\r\n # Remove all lines starting from {{<table id=\"authorTable\" class=\"aui tablesorter\">}} up to and including {{</script>}}\r\n # After that, the contents of the file should be\r\n{code:java}\r\n[#-- @ftlvariable name=\"action\" type=\"com.atlassian.bamboo.ww2.actions.author.ViewAuthors\" --]\r\n[#-- @ftlvariable name=\"\" type=\"com.atlassian.bamboo.ww2.actions.author.ViewAuthors\" --]\r\n<html>\r\n<head>\r\n    [@ui.header pageKey='author.statistics.list.title' object='' title=true /]\r\n    <meta name=\"decorator\" content=\"bamboo.authors\"/>\r\n    <meta name=\"tab\" content=\"list\" />\r\n</head>\r\n<body>\r\n\r\n[@ui.header pageKey='author.statistics.list.title' /]\r\n[#if authors?has_content]\r\n    <p>[@ww.text name=\"author.statistics.list.description\"/]</p>\r\n\r\n\r\n[#else]\r\n    [@ui.messageBox type=\"info\"]\r\n        [@s.text name=\"author.statistics.list.noAuthors\" /]\r\n    [/@ui.messageBox]\r\n[/#if]\r\n\r\n</body>\r\n</html>\r\n{code}\r\n\r\n # Save the file and restart Bamboo",
      "summary": "Obfuscate \"Authors\" list on Reports tab for non-admins"
    }
  },
  {
    "key": "BAM-20612",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-02T19:36:10.000+0000",
      "created": "2019-09-05T15:26:45.000+0000",
      "description": "Please include a full description of how to replicate the problem you are experiencing. This may be the steps to replicate, or the data that caused the problem.",
      "summary": "Allow Organization admins to exclude specific email addresses from SAML"
    }
  },
  {
    "key": "BAM-20611",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-04T09:16:19.000+0000",
      "description": "h3. Summary\r\ndevenvrunner.bat loses working directory setting when called and run.\r\n\r\n\r\nh3. Environment\r\n- Bamboo 6.9.2\r\n- Plan building with Visual Studio.\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with a Visual Studio task.\r\n# Make the plan run, using the variable BAM_WORK_DIR at some point. \r\n\r\nh3. Expected Results\r\nBuild works as expected\r\n\r\nh3. Actual Results\r\nVariable loses its value. \r\n \r\nh3. Notes\r\nApparently the dot-net plugin is overwritting the file every time the build runs, therefore it's not possible to permanently edit this file.\r\n\r\nh3. Workaround\r\nModify the content of the file <bamboo-agent-home>\\DotNetSupport\\devenvrunner.bat when the build runs, from \r\n{noformat}\r\ncd \"%BAM_WORK_DIR%\"\r\n\r\nif exist \"%BAM_VS_HOME%\\VC\\Auxiliary\\Build\\vcvarsall.bat\" (\r\nSET VCVARSALL=\"%BAM_VS_HOME%\\VC\\Auxiliary\\Build\\vcvarsall.bat\"\r\n) else (\r\nSET VCVARSALL=\"%BAM_VS_HOME%\\VC\\vcvarsall.bat\"\r\n)\r\n@echo on\r\ncall %VCVARSALL% %BAM_VS_ARCH%\r\ncall \"%BAM_VS_HOME%\\Common7\\IDE\\devenv.com\" %BAM_ARGS%\r\nexit ERRORLEVEL\r\n{noformat}\r\nto \r\n{noformat}\r\nif exist \"%BAM_VS_HOME%\\VC\\Auxiliary\\Build\\vcvarsall.bat\" (\r\nSET VCVARSALL=\"%BAM_VS_HOME%\\VC\\Auxiliary\\Build\\vcvarsall.bat\"\r\n) else (\r\nSET VCVARSALL=\"%BAM_VS_HOME%\\VC\\vcvarsall.bat\"\r\n)\r\n@echo on\r\ncall %VCVARSALL% %BAM_VS_ARCH%\r\ncd \"%BAM_WORK_DIR%\"\r\ncall \"%BAM_VS_HOME%\\Common7\\IDE\\devenv.com\" %BAM_ARGS%\r\nexit ERRORLEVEL\r\n{noformat}",
      "summary": "devenvrunner.bat loses working directory setting when called and run."
    }
  },
  {
    "key": "BAM-20610",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-12T11:00:28.000+0000",
      "created": "2019-09-04T02:07:36.000+0000",
      "description": "h3. Issue Summary\r\nPossible to create duplicate project keys with concurrent Bamboo Specs pushes.\r\n\r\nh3. Steps to Reproduce\r\n# Create two Bamboo Specs that reference the same project but create different plans\r\n# Ensure the project does not already exist (so that it is created)\r\n# Push both specs concurrently e.g.\r\n{code}\r\n#!/bin/bash\r\ncd ~/Documents/bamboo-specs/bamboo-specs/ && mvn -Ppublish-specs &\r\ncd ~/Documents/bamboo-specs-2/bamboo-specs && mvn -Ppublish-specs &\r\n{code}\r\n# Attempt to browse the project in the UI at *Projects >> Project*\r\n\r\n(!) There may be some variance in reproducibility as this is a race condition.\r\n\r\nh3. Expected Results\r\nOnly one project is created.\r\n\r\nh3. Actual Results\r\nTwo projects are created with the same key in {{PROJECTS}} table:\r\n\r\n||project_id||created_date||updated_date||project_key||title||description||marked_for_deletion||oid||\r\n|218759169|2019-09-04 11:58:32|2019-09-04 11:58:32|PKEY|TITLE| |false|3225703233104165889|\r\n|218759170|2019-09-04 11:58:32|2019-09-04 11:58:32|PKEY|TITLE| |false|3225703233104165890|\r\n\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log and UI when viewing the project:\r\n{noformat}\r\norg.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is org.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:262)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:386)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:335)\r\n\tat com.atlassian.bamboo.project.ProjectHibernateDao.getProjectByKey(ProjectHibernateDao.java:123)\r\n\tat sun.reflect.GeneratedMethodAccessor983.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy147.getProjectByKey(Unknown Source)\r\n\tat com.atlassian.bamboo.project.DefaultProjectManager.getProjectByKey(DefaultProjectManager.java:96)\r\n{noformat}\r\n\r\nh3. Workaround\r\nIntroduce a minor sleep (2 - 4 seconds) between Bamboo Specs pushes.",
      "summary": "Possible to create duplicate project keys with concurrent Bamboo Specs pushes"
    }
  },
  {
    "key": "BAM-20608",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-03T12:54:03.000+0000",
      "description": "Follow up to BAM-12161.",
      "summary": "Plan branches that are removed due to inactivity are not created if branch has new commits"
    }
  },
  {
    "key": "BAM-20607",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-03T12:39:13.000+0000",
      "description": "Bamboo does not detect any changes on the first build of any plan/branch since there is no comparison point to figure out which changes to include. Bamboo can't just look back in time unconditionally, because it could end up with too many results.\r\n\r\nPlease add some specialized handling for branches to maybe always include just the last commit, or all commits since the branch was created.\r\n\r\nIn Bamboo 6.10, it was solved for Git-powered repository types. This issue is about adding the same feature the remaining repository types that support branch detection.\r\n",
      "summary": "Support detection of commits on new branches for repositories other than Git"
    }
  },
  {
    "key": "BAM-20606",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-22T15:41:21.000+0000",
      "created": "2019-09-03T05:27:53.000+0000",
      "description": "h3. Issue Summary\r\n\r\nJob with dependent artifact can hang during initial branch build if triggered before artifact exists.\r\nh3. Steps to Reproduce\r\n # Create producer build plan\r\n ## Link it to a repository.\r\n ## Create plan branch: When new branch in repository is created\r\n ## Trigger >> Bitbucket Server repository triggered\r\n ## One stage with job that creates artifact A and a script task with {{sleep 30;}} (to delay the first build from completion)\r\n ## Share artifact A\r\n # Create Consumer build plan\r\n ## Link it to a repository.\r\n ## Create plan branch: When new branch in repository is created\r\n ## Trigger >> Bitbucket Server repository triggered (repository polling untested but assumed to be the same)\r\n ## 2 stages\r\n ## First stage is a placeholder and can do anything.\r\n ## 2nd stage has job with artifact download task to download artifact A\r\n # Push a new branch\r\n\r\nh3. Expected Results\r\n\r\nConsumer plan job that downloads the artifact fails as dependent artifact is not found.\r\nh3. Actual Results\r\n\r\nJob hangs indefinitely.\r\n\r\nThe below exception is *correctly* thrown in the {{atlassian-bamboo.log}} file and is displayed against the build result:\r\n{noformat}\r\njava.lang.IllegalArgumentException: Unable to find at least one successful result for plan: ART-PROD15\r\n\tat com.atlassian.bamboo.plugins.artifact.ArtifactDownloaderRuntimeDataProvider.populateRuntimeTaskData(ArtifactDownloaderRuntimeDataProvider.java:104)\r\n\tat com.atlassian.bamboo.chains.ChainPluginSupportHelper.lambda$prepareRuntimeTaskData$0(ChainPluginSupportHelper.java:37)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n\tat com.atlassian.bamboo.chains.ChainPluginSupportHelper.prepareRuntimeTaskData(ChainPluginSupportHelper.java:31)\r\n\tat com.atlassian.bamboo.chains.ChainPluginSupportImpl$10.run(ChainPluginSupportImpl.java:242)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:174)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextRunnerImpl.execute(CustomVariableContextRunnerImpl.java:31)\r\n\tat com.atlassian.bamboo.chains.ChainPluginSupportImpl.buildStarted(ChainPluginSupportImpl.java:233)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInterceptor.invoke(OpenSessionInterceptor.java:90)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy245.buildStarted(Unknown Source)\r\n{noformat}\r\nh3. Notes\r\n\r\nThe job never gets dispatched, so while this doesn't consume an agent the impact is it will use up a concurrent build slot for that plan and appear to be building while viewing the result.\r\nh3. Workaround\r\n\r\nThe build can be stopped manually by *Viewing the build result >> Actions >> Stop Build*.\r\n\r\nTo avoid the problem: Remove the commit trigger (*Plan Configuration >> Triggers*) from the child plan and instead use a Bamboo plan dependency to trigger the child plan:\r\n * [Setting up plan build dependencies|https://confluence.atlassian.com/bamboo/setting-up-plan-build-dependencies-289276887.html]",
      "summary": "Job with dependent artifact can hang during branch creation if triggered before artifact exists"
    }
  },
  {
    "key": "BAM-20605",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-09-02T17:42:24.000+0000",
      "description": "After entering any command in the \"Pre Build Commands\" field from the Pre-Post Build Command Runner plugin it cannot be erased, the field can only be changed for another command.\r\nh3. Steps to Reproduce:\r\n\r\nInstall the plug-in on Bamboo, enter any command in the Pre Build Command and save it. Erase the command entered in the field and try to save it.\r\nh3. Expected Results:\r\n\r\nA blank field in the \"Pre Build Command\".\r\nh3. Actual Results:\r\n\r\nThe content of the field will not be deleted.\r\nh3. Workaround\r\n\r\nOption 1: Just put a harmless command.\r\n\r\nOption2:\u00a0\r\n# Manually update the content of Pre Build Commands - Command field to TOERASE\r\n# Access the job's configurations and copy the full key of the job.\r\n# Run the following SQL command against the database:\r\n{code:sql}UPDATE BUILD_DEFINITION\r\nSET XML_DEFINITION_DATA = REPLACE(XML_DEFINITION_DATA, 'TOERASE', '')\r\nWHERE BUILD_DEFINITION_ID IN (SELECT BD.BUILD_DEFINITION_ID FROM BUILD_DEFINITION BD INNER JOIN BUILD B ON (BD.BUILD_ID = B.BUILD_ID)\r\n                              WHERE B.BUILD_TYPE = 'JOB'\r\n                              AND B.FULL_KEY = '{full_job_key}');{code}\r\n# Go to the plan's configurations > Miscellaneous tab and click on Save button.",
      "summary": "Pre command build from Pre-Post Build Command Runner cannot be cleaned"
    }
  }
]