[
  {
    "key": "BAM-18731",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-01-25T10:39:49.000+0000",
      "created": "2017-10-04T09:21:16.000+0000",
      "description": "h6.Problem Definition:\r\nCurrently, there is no such feature in Bamboo to use the shared credentials in the Docker tasks.\r\n\r\nh6.Workaround:\r\nNo such workaround available right now.\r\n\r\nh6. Solution Suggested:\r\nIt would be very helpful if we can extend the use of Bamboo Shared credentials to the Docker tasks in order to Push or Pull Docker Images to Docker Registry. ",
      "summary": "Shared Credentials support for Docker Tasks"
    }
  },
  {
    "key": "BAM-18730",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-15T16:21:21.000+0000",
      "created": "2017-10-04T08:20:03.000+0000",
      "description": "h3. Summary\r\nUI error when non admin user tries to edit deployment project permissions permissions\r\n\r\nh3. Environment\r\nBamboo 6.2.1\r\n\r\nh3. Steps to Reproduce\r\n# In Bamboo, create a user, with all permissions but admin.\r\n# Log in as that user.\r\n# Create a deployment project.\r\n# In the project configuration page, click on \"Project permissions\".\r\n\r\nh3. Expected Results\r\nPage is displayed properly.\r\n\r\nh3. Actual Results\r\nAn error appears on screen (see screenshot).\r\n!Screen Shot 2017-10-04 at 10.13.18.png|thumbnail! \r\n\r\n\r\n{noformat}\r\nNot allowed to access deployment project: com.atlassian.bamboo.deployments.projects.DeploymentProjectImpl@636c392f permissions\r\n{noformat}\r\n\r\n\r\nh3. Notes\r\n- No errors in the server logs\r\n- Bamboo starts to check if the user has admin permission to the deployment project. But there's no admin permission for that.\r\n\r\nh3.Workaround\r\nSet permissions with an admin user. ",
      "summary": "UI error when non admin user tries to edit deployment project permissions"
    }
  },
  {
    "key": "BAM-18729",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-27T12:28:36.000+0000",
      "created": "2017-10-04T06:45:38.000+0000",
      "description": "Bamboo currently has good support for sending various [notifications to HipChat|https://confluence.atlassian.com/bamboo/integrating-bamboo-with-hipchat-289276960.html].\r\n\r\nNow that [Atlassian's Stride|https://www.stride.com/] is on the scene, it would make sense for Bamboo to support similar notifications to this new chat service as well.",
      "summary": "Support Stride notifications"
    }
  },
  {
    "key": "BAM-18728",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-10T13:13:40.000+0000",
      "created": "2017-10-03T22:28:09.000+0000",
      "description": "For monitoring purposes it would be nice if bamboo had a status url which could be accessed when not logged in. \u00a0Similar to JIRA and Confluence \"<url>/status\"",
      "summary": "Bamboo Status URL"
    }
  },
  {
    "key": "BAM-18727",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-12T12:22:13.000+0000",
      "created": "2017-10-03T20:18:11.000+0000",
      "description": "h3. Summary\r\n\r\nRight now Bamboo stores the Jira issue key associated to a build result in the {{BRS_LINKEDJIRAISSUES}} table. The problem is with the way we store the information. Bamboo does not keep the entire URL to the Jira instance where the link was originally pointing to (e.g. http://localhost:8080/browse/TEST-1), only the Jira issue key (e.g. TEST-1). Therefore, if you have multiple Jira instances connected to Bamboo and the prefix of a Jira issue exists in more than one Jira instance, Bamboo will always assume that the Jira issue is coming from the 'primary' application link or in case there's no Jira issue with that prefix in the 'primary' application, the first Jira application that has a matching prefix, following top to bottom in the list of application links.\r\n\r\nh3. Expected Results\r\n\r\nWe should improve the way we store this information so that when we first create a link between a Jira issue and a build result, the entire URL to the Jira issue is stored (e.g. http://localhost:8080/browse/TEST-1 instead of just TEST-1) to avoid confusion and preserve the original association.",
      "summary": "Improve the way we generate links between Jira issues and build results"
    }
  },
  {
    "key": "BAM-18726",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-11T12:10:07.000+0000",
      "created": "2017-10-03T15:40:43.000+0000",
      "description": "h3. Summary\r\nDuring the upgrade, if one of the variable values for a plan is uncharacteristically a NULL value, clicking 'View plan as Bamboo Specs' from a plan throws a page with error 'Export to Bamboo Spec failed: Argument value can not be null.' Bamboo has to handle NULL values well. Maybe replace it with empty values.\r\n\r\nh3. Steps to Reproduce\r\n# If the plan variable has an empty value in the older version of Bamboo\r\n# Upgrade Bamboo to the latest version\r\n# Export the plan as Specs\r\n\r\nh3. Expected Results\r\nBamboo specs template is created\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the Bamboo UI:\r\n{noformat}\r\nExport to Bamboo Spec failed: Argument value can not be null\r\n{noformat}\r\n\r\nh3. Workaround \r\n\r\nResults of this SQL query confirms that the value NULL is set in the database.:\r\n\r\n{noformat}\r\nSELECT * FROM VARIABLE_DEFINITION vd \r\n   JOIN BUILD b on vd.PLAN_ID = b.BUILD_ID\r\nWHERE VARIABLE_VALUE IS NULL;\r\n{noformat}\r\n\r\nGo to the *Plan Configuration > Variables* tab and find the variable with no value and add some random value and click save (and delete the entered value back to empty if required) and then try Bamboo Specs export again. It should work\r\n",
      "summary": "Export to Bamboo Spec failed: Argument value can not be null"
    }
  },
  {
    "key": "BAM-18725",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-10-03T14:39:45.000+0000",
      "description": "It would be nice feature if there was a notification in\r\nbamboo when a new release is out.",
      "summary": "In-app modal/notification of Bamboo Version Release"
    }
  },
  {
    "key": "BAM-18724",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-20T14:00:25.000+0000",
      "created": "2017-10-02T22:26:39.000+0000",
      "description": "Bamboo's Support Zip does not display existent application links. However, it should display application links information in the same way as Bitbucket Server does.",
      "summary": "(Support Zip) Bamboo should display application link"
    }
  },
  {
    "key": "BAM-18723",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-10-02T18:57:08.000+0000",
      "description": "h3. Summary\r\n\r\nUsers are forced to authenticate to the 'primary' application when there are multiple application links of the same type using *OAuth*. If Bamboo is linked to multiple Jira instances, users that exist in one Jira instance does not necessarily exist in others. However Bamboo is forcing users to authenticate to the Jira instance marked as the 'primary' application when looking at the build result summary page even if the links are not pointing to that Jira instance, and there's no way to bypass the first prompt for authentication to get to the second one, for the correct Jira instance.\r\n\r\nUsers must first authenticate to the Jira instance marked as the 'primary' application so then they can authenticate to the second Jira instance and retrieve the links.\r\n\r\nh3. Steps to Reproduce\r\n# Create an application link between Bamboo and two different Jira instances.\r\n#* In this example, I have linked Bamboo to Jira 7.5.0 *(primary)* and Jira 7.3.1.\r\n!configure_app_links.png|thumbnail!\r\n# Access a build result summary page and a) create a link to one or more existing Jira issues inside 7.3.1 or b) create one or more issues from inside Bamboo to Jira 7.3.1 using the *Actions > Create issue* link.\r\n# Create a new user inside Bamboo and Jira 7.3.1 (e.g. test-user).\r\n#* The user will have access to Bamboo and Jira 7.3.1 to work with that plan and issues that are linked to that build.\r\n# Access Bamboo as *test-user* and visit the build result summary page for that build. The one we just created a link to a Jira 7.3.1 issue in step 2.\r\n# (!) Keep in mind that the issue only exists in Jira 7.3.1 as well as the *test-user*.\r\n\r\nh3. Expected Results\r\n\r\nBamboo will prompt the user to authenticate in both Jira instances or at least provide a mechanism so the user can choose with application he needs to authenticate.\r\n\r\nh3. Actual Results\r\n\r\n# Bamboo prompts the user to authenticate in Jira 7.5.0 even though that build is not linked to any issues inside Jira 7.5.0.\r\n!auth_jira_primary.png|thumbnail!\r\n# In this case, if I create the *test-user* inside Jira 7.5.0, I can authenticate and get to the second authentication prompt, for Jira 7.3.1:\r\n!auth_second_jira_link.png|thumbnail!\r\n# The user is able to retrieve the links to the Jira issues as well as the statuses after that:\r\n!auth_finished.png|thumbnail!\r\n\r\n(!) If the user does not hold an account in the 'primary' application, the user is not able to get past the authentication prompt and therefore unable to load Jira issues inside Bamboo.",
      "summary": "Users are forced to authenticate to the 'primary' application when there are multiple application links of the same type"
    }
  },
  {
    "key": "BAM-18722",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-10T17:02:30.000+0000",
      "created": "2017-10-02T08:40:06.000+0000",
      "description": "I've been testing out the Bamboo Specs API and Docker tasks.\r\n\r\nI'd like to have multiple Dockerfiles in the repository for multiple types of tests. Let's say Dockerfile.unit and Dockerfile.integration, each with different dependencies.\r\n\r\nCurrently, you can define the Dockerfile in the task either with [.dockerfileFromPath()|https://docs.atlassian.com/bamboo-specs/latest/com/atlassian/bamboo/specs/builders/task/DockerBuildImageTask.html#dockerfileFromPath-java.nio.file.Path-] or [.dockerfileInWorkingDir()|https://docs.atlassian.com/bamboo-specs/latest/com/atlassian/bamboo/specs/builders/task/DockerBuildImageTask.html#dockerfileInWorkingDir--].\r\n\r\nThe latter doesn't have a way of defining the Dockerfile's name. I have a workaround, which uses a relative path \"../../Dockerfile.unit\", but this reads the Dockerfile and uses it inline during publishing of the spec and not when the task itself is running.",
      "summary": "Allow defining of Dockerfile by name from working directory"
    }
  },
  {
    "key": "BAM-18721",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-12-29T16:08:17.000+0000",
      "created": "2017-10-02T07:44:02.000+0000",
      "description": "h3. Summary\r\nWhen upgrading Bamboo from 5.13.1 to 6.1.0, it constantly detects and creates new plan branches.\r\n\r\nh3. Environment\r\n- Bamboo 5.13.1, upgraded to 6.1.0\r\n- Oracle 12.2.0\r\n- SVN repository\r\n\r\nh3. Steps to Reproduce\r\n# Have a repository configured with SVN\r\n# Configure Bamboo 5.13.1 and Oracle 12.2.0.\r\n# Perform an upgrade to Bamboo 6.1.0\r\n\r\nh3. Expected Results\r\nNo branches created.\r\n\r\n\r\nh3. Actual Results\r\nThe following error happens when Bamboo starts:\r\n{noformat}\r\n2017-09-28 23:50:24,293 DEBUG [12-BranchDetectionBackgroundThread:pool-20-thread-1] [BranchDetectionServiceImpl] Detecting already existing branches for plan BAM-SUB\r\n2017-09-28 23:50:24,332 WARN [12-BranchDetectionBackgroundThread:pool-20-thread-1] [SvnBranchDetector] svn branch detected: http://localhost:8080/subversion/server2/branches/test2, but doesn't start with root http://localhost:8080/subversion/server2/trunk\r\n2017-09-28 23:50:24,332 WARN [12-BranchDetectionBackgroundThread:pool-20-thread-1] [SvnBranchDetector] svn branch detected: http://localhost:8080/subversion/server2/branches/test3, but doesn't start with root http://localhost:8080/subversion/server2/trunk\r\n2017-09-28 23:50:24,713 INFO [12-BranchDetectionBackgroundThread:pool-20-thread-1] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n2017-09-28 23:50:24,713 ERROR [12-BranchDetectionBackgroundThread:pool-20-thread-1] [BatchingBatch] HHH000315: Exception executing batch [java.sql.BatchUpdateException: ORA-01400: cannot insert NULL into (\"BAMBOO\".\"VCS_BRANCH\".\"NAME\")\r\n], SQL: insert into VCS_BRANCH (NAME, DETECTED_DELETION_DATE, CHAIN_ID, VCS_BRANCH_ID) values (?, ?, ?, ?)\r\n2017-09-28 23:50:24,715 WARN [12-BranchDetectionBackgroundThread:pool-20-thread-1] [SqlExceptionHelper] SQL Error: 1400, SQLState: 23000\r\n2017-09-28 23:50:24,715 ERROR [12-BranchDetectionBackgroundThread:pool-20-thread-1] [SqlExceptionHelper] ORA-01400: cannot insert NULL into (\"BAMBOO\".\"VCS_BRANCH\".\"NAME\")\r\n\r\n2017-09-28 23:50:24,715 WARN [12-BranchDetectionBackgroundThread:pool-20-thread-1] [SqlExceptionHelper] SQL Error: 1400, SQLState: 23000\r\n2017-09-28 23:50:24,715 ERROR [12-BranchDetectionBackgroundThread:pool-20-thread-1] [SqlExceptionHelper] ORA-01400: cannot insert NULL into (\"BAMBOO\".\"VCS_BRANCH\".\"NAME\")\r\n\r\n2017-09-28 23:50:24,721 ERROR [12-BranchDetectionBackgroundThread:pool-20-thread-1] [ExceptionMapperStandardImpl] HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute batch]\r\n2017-09-28 23:50:24,747 ERROR [12-BranchDetectionBackgroundThread:pool-20-thread-1] [BambooPluginUtils] An unexpected error has occurred while detecting branches: BAM-SUB\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into VCS_BRANCH (NAME, DETECTED_DELETION_DATE, CHAIN_ID, VCS_BRANCH_ID) values (?, ?, ?, ?)]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:241)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:755)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:594)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n\tat sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy79.commit(Unknown Source)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy156.saveAll(Unknown Source)\r\n\tat com.atlassian.bamboo.plan.branch.VcsBranchManagerImpl.createAll(VcsBranchManagerImpl.java:86)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl.findBranchesCreatedBeforePlanCreation(BranchDetectionServiceImpl.java:377)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl.access$500(BranchDetectionServiceImpl.java:79)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector$1.lambda$run$0(BranchDetectionServiceImpl.java:128)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector$1.run(BranchDetectionServiceImpl.java:121)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils$Runnable.call(BambooPluginUtils.java:106)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils$Runnable.call(BambooPluginUtils.java:99)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils.callUnsafeCode(BambooPluginUtils.java:53)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector.run(BranchDetectionServiceImpl.java:167)\r\n...\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:121)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:97)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:147)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:206)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:611)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1435)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3201)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2411)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:146)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:220)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:582)\r\n\t... 30 more\r\nCaused by: java.sql.BatchUpdateException: ORA-01400: cannot insert NULL into (\"BAMBOO\".\"VCS_BRANCH\".\"NAME\")\r\n\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeBatch(OraclePreparedStatement.java:11190)\r\n{noformat}\r\n \r\nh3. Notes\r\n- Cannot reproduce with MySQL.\r\n- The empty string branch name that works in MySQL to identify trunk does not work in Oracle.\r\n- No empty string branch name is created in Oracle.\r\n- Trunk is the main repository but there is another branch plan created for trunk.\r\n- Every time it performs the branch detection process, the branch plan for trunk is increased by one (creating more duplicates).",
      "summary": "Bamboo constantly creates plan branches when using Oracle and SVN"
    }
  },
  {
    "key": "BAM-18720",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-10T23:51:36.000+0000",
      "created": "2017-09-30T18:35:10.000+0000",
      "description": "h3. Summary\r\n\r\nWhen running Bamboo's Support Zip, several plugins ({color:blue}application-provided-plugins.txt{color}) are marked as User Installed even though they come bundled with Bamboo. This information makes difficult keeping track of actual user installed plugin.\r\nh3. Environment\r\n * Bamboo v6.1.1\r\n * [https://bitbucket.org/atlassian/atlassian-support-tools-plugin]\r\n\r\nh3. Steps to Reproduce\r\n * Download and install any plugin in Bamboo\r\n * Create Bamboo Support Zip\r\n\r\nh3. Expected Results\r\n * Only user installed plugin should be displayed as {color:#0000FF}<bundled>User installed</bundled>{color}\r\n\r\nh3. Actual Results\r\n * Several plugins are marked as User installed even though they come from a vanilla Bamboo instance.\r\n{noformat}\r\n2017-09-30 15:30:16,748 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.systemjira, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,750 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugins.bamboo-grails-plugin, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,753 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.additionalBuildConfiguration, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,754 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.quickFilters, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,756 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.webRepositoryViewer.fisheye, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,758 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.listeners, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,759 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:bamboo.webrepositoryviewer.provided, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,760 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.notifications, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,761 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.reports, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,762 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.webpanel, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,762 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.triggerReason, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,763 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugins.vcs, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,764 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.triggercondition.internal, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,764 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugins.php, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,765 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-ssh, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,766 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.vcsversion, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,768 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugins.scripttask, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,769 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.dotnet, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,770 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.labeller, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,771 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.repository, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,772 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.artifact.handler.remote, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,773 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.sharedCredentials, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,773 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:bamboo.deployments, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,774 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugins.ant, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,775 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:bamboo.sections.global.admin, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,776 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:bamboo.global.header, version:0.0, bundled:User installed}\r\n2017-09-30 15:30:16,776 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.webRepositoryViewer.stash, version:6.1.1, bundled:User installed}\r\n2017-09-30 15:30:16,777 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.servlets, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,778 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:bamboo.web.resources, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,779 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.artifact.handler.local, version:1.0, bundled:User installed}\r\n2017-09-30 15:30:16,779 INFO [http-nio-8085-exec-4] [BambooApplicationInfo] {key:com.atlassian.bamboo.plugin.system.build, version:1.0, bundled:User installed}\r\n{noformat}",
      "summary": "(Support Zip) Plugins are wrongly marked as User Installed"
    }
  },
  {
    "key": "BAM-18719",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-04T12:49:31.000+0000",
      "created": "2017-09-30T13:55:34.000+0000",
      "description": null,
      "summary": "Bamboo Specs: if job specs' artifact list is empty, pre-existing  artifact definitions are not removed when specs are published"
    }
  },
  {
    "key": "BAM-18718",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-12T08:15:27.000+0000",
      "created": "2017-09-29T23:59:17.000+0000",
      "description": "h3. Summary\r\nIf an Upgrade Task fails when upgrading _to_ Bamboo 6.2, and the upgrade is restarted, the build number validation will fail.\r\n\r\nh3. Steps to Reproduce\r\n# Start a Bamboo upgrade from pre-6.2 to 6.2.1\r\n# Upgrade fails during a pre-6.2 Upgrade Task\r\n# Fix the upgrade task error\r\n# Restart Upgrade to 6.2.1\r\n\r\nh3. Expected Results\r\nUpgrade proceeds as expected.\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2017-09-29 17:56:42,912 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] ---------------------------------------------------------------------------\r\n2017-09-29 17:56:42,912 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] 2 : Validate if build number in home directory matches database (bootstrap)\r\n2017-09-29 17:56:42,912 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] ---------------------------------------------------------------------------\r\n...\r\n2017-09-29 17:56:43,646 FATAL [localhost-startStop-1] [BuildNumberInHomeMatchesDatabase] Bamboo home directory comes from pre 6.2 version (build number [xxxxx]) but database already contains build number [xxxxx]\r\n2017-09-29 17:56:43,670 FATAL [localhost-startStop-1] [BootstrapUpgradeManagerImpl] Task 2 failed\r\ncom.atlassian.bamboo.upgrade.exception.ValidationException: Your Bamboo instance could not start because Bamboo home directory does not match database. Contact Atlassian Support at https://support.atlassian.com\r\n...\r\n2017-09-29 17:56:43,671 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Validation tests failed: Your Bamboo instance could not start because Bamboo home directory does not match database. Contact Atlassian Support at https://support.atlassian.com\r\n{noformat}\r\n\r\nh3. Notes\r\nFor this bug to be applicable the build number for both the build directory and database will be equal in the logged error.  E.g.:\r\n{code}\r\n2017-09-29 17:56:43,646 FATAL [localhost-startStop-1] [BuildNumberInHomeMatchesDatabase] Bamboo home directory comes from pre 6.2 version (build number [60103]) but database already contains build number [60103]\r\n{code}\r\nIf the numbers aren't equal, the validation is working correctly and you have a true mismatch between the Bamboo home and database schema versions.\r\n \r\nh3.Workaround\r\nh4. Option 1 (upgrading to Bamboo 6.2.2+ is preferred)\r\nRoll back database and Bamboo home directory to pre-upgrade snapshot.\r\n",
      "summary": "Version number validation fails retried upgrades from pre-6.2"
    }
  },
  {
    "key": "BAM-18717",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-12T09:17:14.000+0000",
      "created": "2017-09-29T18:17:59.000+0000",
      "description": "h3. Summary\r\nPermission assignment is not anymore working for groups with \"/\" forward slashes\r\n\r\nBamboo doesn't allow creating groups with some special characters like \"/\", but they can be created in LDAP or JIRA for example. When synced to Bamboo this issue is created.\r\n\r\nh3. Steps to Reproduce\r\n# Add a group called \"name/name\" in JIRA\r\n# Configure Bamboo to get its users form JIRA\r\n# Try to assign any Bamboo permissions (Project, Plan or Global) to this group\r\n\r\nh3. Expected Results\r\nThe permissions are correctly assigned\r\n\r\nh3. Actual Results\r\nThe Browser will receive a 400 error for the following request: \r\n{noformat}\r\nGeneral\r\n  Request URL:http://localhost:8085/bamboo/rest/api/latest/permissions/project/PROJ/groups/name%2name\r\n  Request Method:PUT\r\n  Status Code:400 Bad Request\r\n  Remote Address:[::1]:8085\r\n  Referrer Policy:no-referrer-when-downgrade\r\n\r\nResponse Headers\r\n  Connection:close\r\n  Content-Length:0\r\n  Date:Fri, 29 Sep 2017 18:08:38 GMT\r\n  Server:Apache-Coyote/1.1\r\n\r\nRequest Headers\r\n  Accept:application/json, text/javascript, */*; q=0.01\r\n  Accept-Encoding:gzip, deflate, br\r\n  Accept-Language:en-US,en;q=0.8\r\n  Connection:keep-alive\r\n  Content-Length:10\r\n  Content-Type:application/json\r\n  Cookie:JSESSIONID=3D39E9BD2E94F9BB99E81318E36C1EC4; BAMBOO-AGENT-FILTER=LAST_25_BUILDS; BAMBOO-BUILD-FILTER=ALL_BUILDS; atl.xsrf.token=79b697d3e2b151d9c35d421c371b44e643902b3e; BAMBOO-MAX-DISPLAY-LINES=25; atlassian.bamboo.dashboard.tab.selected=allPlansTab; bamboo.dash.display.toggles=1900546-0|buildQueueActions-actions-queueControl; BAMBOO-BUILD-FILTER=LAST_25_BUILDS; BAMBOO-MAX-DISPLAY-LINES=25; bamboo.dash.display.toggles=buildQueueActions-actions-queueControl; toggle=false; AJS.conglomerate.cookie=\"|config.sidebar.branchNavigator.expanded=true|config.sidebar.planNavigator.expanded=true|tabContainer.relies_40_51_0433.selectedTab=Agents|tabContainer.tabContainer.selectedTab=Capabilities|tabContainer.remote-agents-tabs.selectedTab=Online%20remote%20agents\"; crowd.token_key=s5RHkjYd9IdZNGYX5W3i6A00; _ga=GA1.1.416090514.1497366042; _gid=GA1.1.1679337175.1506620950\r\n  Host:localhost:8085\r\n  Origin:http://localhost:8085\r\n  Referer:http://localhost:8085/bamboo/project/admin/config/editProjectPermissions.action?projectKey=PROJ\r\n  User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36\r\n  X-Atlassian-Token:no-check\r\n  X-Requested-With:XMLHttpRequest\r\n\r\nRequest Payload\r\n  view source\r\n  [\"CREATE\"]\r\n  0\r\n  :\r\n  \"CREATE\"\r\n{noformat}\r\n\r\nThe following dialog will show up:\r\n !Screen Shot 2017-09-29 at 10.23.50 AM.png|thumbnail! \r\n\r\nh3. Note\r\n* This problem cannot be reproduced in Bamboo 6.1.1\r\n* This issue is probably affecting other characters (it is also present for the backslash for example)\r\n",
      "summary": "Permission assignment is not working for groups with \"/\" forward slashes"
    }
  },
  {
    "key": "BAM-18715",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-02T15:48:24.000+0000",
      "created": "2017-09-29T17:21:32.000+0000",
      "description": "h3. Summary\r\nWhen deploying using the Heroku plugin, a 400 error is received with the following message:\r\n{noformat}com.heroku.api.exception.RequestFailedException: Failed to create app statuscode:400 responseBody:{\"id\":\"missing_version\",\"error\":\"Please specify a version along with Heroku's API MIME type. For example, `Accept: application/vnd.heroku+json; version=3`.\\n\"}{noformat}\r\n\r\nh3. Steps to Reproduce\r\n# Create a Heroku deployment task\r\n# Run your deployment\r\n\r\nh3. Expected Results\r\nApp is successfully deployed\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the build log:\r\n{noformat}\r\nerror\t27-Sep-2017 14:00:03\tUnknown error creating app '<app-name>'Failed to create app statuscode:400 responseBody:{\"id\":\"missing_version\",\"error\":\"Please specify a version along with Heroku's API MIME type. For example, `Accept: application/vnd.heroku+json; version=3`.\\n\"}\r\nerror\t27-Sep-2017 14:00:03\tError occurred while running Task '<task name>' of type com.heroku.bamboo.heroku-bamboo-plugin:com.heroku.bamboo.WarDeploymentTask.\r\nerror\t27-Sep-2017 14:00:03\tcom.heroku.api.exception.RequestFailedException: Failed to create app statuscode:400 responseBody:{\"id\":\"missing_version\",\"error\":\"Please specify a version along with Heroku's API MIME type. For example, `Accept: application/vnd.heroku+json; version=3`.\\n\"}\r\nerror\t27-Sep-2017 14:00:03\t\tat com.heroku.api.request.app.AppCreate.getResponse(AppCreate.java:66)\r\nerror\t27-Sep-2017 14:00:03\t\tat com.heroku.api.request.app.AppCreate.getResponse(AppCreate.java:20)\r\n...\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nIf you are able to use the Heroku CLI, you could work around this issue adding a script task with the following inline contents:\r\n{code}\r\nexport HEROKU_API_KEY=<your heroku api key>\r\nheroku plugins:install heroku-cli-deploy\r\nheroku war:deploy <path to your war> --app <your app name>\r\n{code}\r\n* https://devcenter.heroku.com/articles/war-deployment\r\n\r\n\r\nh3. Notes from Atlassian\r\nWe reached out to Heroku for this issue, and they advised us of the API deprecation as well:\r\n[\"missing\\_version\" errors on Deploy \u00b7 Issue \\#10 \u00b7 heroku/heroku\\-bamboo\\-plugin|https://github.com/heroku/heroku-bamboo-plugin/issues/10]",
      "summary": "\"missing_version\" errors on Heroku Deploy"
    }
  },
  {
    "key": "BAM-18713",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-01T09:10:48.000+0000",
      "created": "2017-09-29T08:33:56.000+0000",
      "description": "When setting up LDAP for Bamboo; you'll need to change the _atlassian-user.xml_.\r\n\r\nCurrently, you need to set the password as plaintext! in the configuration.\r\n _<securityCredential>*PLAINTEXT PASSWORD!*</securityCredential>_\r\n _<securityProtocol>plain</securityProtocol>_\r\n _<securityAuthentication>simple</securityAuthentication>_\r\n\r\nI'm requesting a better solution for the plaintext password.",
      "summary": "Improve security of LDAP securityCredential"
    }
  },
  {
    "key": "BAM-18712",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:07.000+0000",
      "created": "2017-09-29T07:09:33.000+0000",
      "description": "In case a build has failed, general information about the test (if present) would be very useful on the wallboard without the need for expanding.\r\n\r\nFor example the \"Number of failed tests\"\r\n\r\n\u00a0\r\n\r\nIn General it would be very useful to have a\u00a0the option to choose what information is on the wallboard (before and after expanding the build-block)",
      "summary": "Add test information to the wallboard"
    }
  },
  {
    "key": "BAM-18711",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:22.000+0000",
      "created": "2017-09-29T02:24:06.000+0000",
      "description": "h3. Problem Definition\r\nCurrently the Bamboo EC2 Wizard is only able to create a Bamboo EC2 instance hosted on Ubuntu.\r\n\r\nh3. Suggested Solution\r\nThe ability to create Bamboo on other distros (or even operating systems) is desired. E.g.\r\n* CentOS\r\n* Amazon Linux\r\n \r\nh3. Workaround \r\nNone. You'll need to manually perform the AWS operations to create an EC2 instance and manually install Bamboo on it, if another distro is desired.",
      "summary": "Improve the Bamboo EC2 Wizard to support creating Bamboo instances on other operating systems"
    }
  },
  {
    "key": "BAM-18710",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-30T06:25:26.000+0000",
      "created": "2017-09-28T15:34:00.000+0000",
      "description": "h3. Summary\r\n\"Build Activity\" reports don't include branch activity. Only the predefined branch (usually \"master\") is included in the report.\r\nIt would be useful to have the option to generate a report including all builds from all branches.",
      "summary": "Include build activity for all branches for reports"
    }
  },
  {
    "key": "BAM-18709",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-02-22T15:28:34.000+0000",
      "created": "2017-09-28T11:02:53.000+0000",
      "description": "{panel:title=Problem Definition}\r\nIssue while deleting the Remote Agent.\r\nWhen you try to delete remote agent from the Bamboo UI you will be greeted with {{500}} error and upon restart the remote agent will reappear.\r\n\r\nDatabase Used: MySQL\r\n\r\nThe following error can be found from the logs:\r\n{noformat}\r\n2017-09-26 21:19:38,973 INFO [http-nio-8085-exec-17] [AgentManagerImpl] Attempting to remove build agent... \r\n2017-09-26 21:19:39,022 INFO [http-nio-8085-exec-17] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n2017-09-26 21:19:39,023 WARN [http-nio-8085-exec-17] [SqlExceptionHelper] SQL Error: 1451, SQLState: 23000\r\n2017-09-26 21:19:39,023 ERROR [http-nio-8085-exec-17] [SqlExceptionHelper] Cannot delete or update a parent row: a foreign key constraint fails (`new`.`capability`, CONSTRAINT `FK_sm8xum6eu61qtx5twb34enyf9` FOREIGN KEY (`CAPABILITY_SET`) REFERENCES `capability_set` (`CAPABILITY_SET_ID`))\r\n2017-09-26 21:19:39,023 ERROR [http-nio-8085-exec-17] [BatchingBatch] HHH000315: Exception executing batch [could not execute batch]\r\n2017-09-26 21:19:39,023 ERROR [http-nio-8085-exec-17] [SessionImpl] HHH000346: Error during managed flush [could not execute batch]\r\n2017-09-26 21:19:39,028 ERROR [http-nio-8085-exec-17] [ExceptionMappingInterceptor] could not execute batch; SQL [delete from CAPABILITY_SET where CAPABILITY_SET_ID=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [delete from CAPABILITY_SET where CAPABILITY_SET_ID=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:164)\r\n{noformat}\r\n\r\n{code}\r\nCaused by: java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`new`.`capability`, CONSTRAINT `FK_sm8xum6eu61qtx5twb34enyf9` FOREIGN KEY (`CAPABILITY_SET`) REFERENCES `capability_set` (`CAPABILITY_SET_ID`))\r\n{code}\r\n\r\n{code}\r\n2017-09-26 21:19:39,041 ERROR [http-nio-8085-exec-17] [FiveOhOh] 500 Exception was thrown.\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [delete from CAPABILITY_SET where CAPABILITY_SET_ID=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n{code}\r\n\r\nIt's throwing this error because you cannot delete from parent table leaving the data behind in the child table which will result into orphan records.\r\nHere the parent table is {{CAPABILITY_SET}} and the child table is {{CAPABILITY}}. \r\nAnd Bamboo is trying to delete data from CAPABILITY_SET leaving the data orphan in the table CAPABILITY.\r\n{panel}\r\n\r\n\r\nh6.Steps to Reproduce:\r\n* There are no steps to reproduce as from Bamboo UI it is not possible to add the duplicate records in the CAPABILITY table for the column KEY_IDENTIFIER.\r\n\r\n\r\n\r\n{panel}\r\nh6.Workaround:\r\n* Backup your current Bamboo database state.\r\n* Use the following SQL query to find the duplicates and manually delete the duplicates from the table {{CAPABILITY}} and then delete the agents from the Bamboo UI:\r\n{code:sql}\r\nSELECT *\r\nFROM queue\r\nWHERE capability_set IN (SELECT DISTINCT t.CAPABILITY_SET\r\n                         FROM (SELECT\r\n                                 c.CAPABILITY_SET,\r\n                                 c.KEY_IDENTIFIER,\r\n                                 c.VALUE,\r\n                                 count(*)\r\n                               FROM capability c\r\n                               GROUP BY CAPABILITY_SET, KEY_IDENTIFIER, c.VALUE\r\n                               HAVING count(*) > 1) AS t);\r\n{code}\r\n{panel}\r\n\r\n{panel}\r\nh6.Suggested Solution:\r\n* As we have validation in UI and even at the time of deletion of agent, we should have an unique constraint in the DB also to avoid duplicate entries.\r\n{panel}\r\n\r\n{panel}",
      "summary": "Unable to delete a Remote Agent when there are duplicates in the CAPABILITY table for the column KEY_IDENTIFIER"
    }
  },
  {
    "key": "BAM-18708",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-27T21:48:54.000+0000",
      "description": "When installing a Bamboo Remote Agent, the same is potentially available to run builds and/or deployments. Since there are scenarios where Bamboo is outsourced, unintentional build and/or deployment could be assigned to this just installed agent before necessary requirements and/or agent dedication could be applied.",
      "summary": "Remote agent having property to install in disabled state"
    }
  },
  {
    "key": "BAM-18707",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-27T19:42:39.000+0000",
      "created": "2017-09-27T16:51:12.000+0000",
      "description": "We often get the following errors on our bamboo agents. When that happens, the only way to fix it so to trigger a manual build.\r\n{noformat}\r\nsimple\t22-Sep-2017 12:28:21\tUpdating source code to revision: cefd031fe085f6b1e6510fec5a1aaa70dc681231\r\nerror\t22-Sep-2017 12:28:21\tError occurred while running Task 'Checkout Default Repository(1)' of type com.atlassian.bamboo.plugins.vcs:task.vcs.checkout.\r\nerror\t22-Sep-2017 12:28:21\tjava.lang.RuntimeException: java.util.MissingResourceException: Unable to load resource com.atlassian.bamboo.ww2.BambooActionSupport for en_US\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:141)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.runTask(RetryingTaskExecutor.java:99)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.retry(RetryingTaskExecutor.java:207)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.retry(RetryingTaskExecutor.java:188)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask.execute(VcsCheckoutTask.java:121)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:284)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:223)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:284)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executePreparationTasks(TaskExecutorImpl.java:91)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.build.pipeline.tasks.PrepareBuildTask.call(PrepareBuildTask.java:74)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:185)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:120)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:113)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:113)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:47)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\nerror\t22-Sep-2017 12:28:21\t\tat java.lang.Thread.run(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\tCaused by: java.util.MissingResourceException: Unable to load resource com.atlassian.bamboo.ww2.BambooActionSupport for en_US\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.utils.i18n.DefaultI18nBean.getDefaultResourceBundle(DefaultI18nBean.java:190)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.utils.i18n.DefaultI18nBean.<init>(DefaultI18nBean.java:64)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.utils.i18n.I18nBeanFactoryImpl.getI18nBean(I18nBeanFactoryImpl.java:60)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.sal.message.BambooI18nResolver.getI18nBean(BambooI18nResolver.java:129)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.sal.message.BambooI18nResolver.getI18nBean(BambooI18nResolver.java:125)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.sal.message.BambooI18nResolver.resolveText(BambooI18nResolver.java:113)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.sal.message.BambooI18nResolver.getText(BambooI18nResolver.java:49)\r\nerror\t22-Sep-2017 12:28:21\t\tat sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat java.lang.reflect.Method.invoke(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.sun.proxy.$Proxy66.getText(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat java.lang.reflect.Method.invoke(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\nerror\t22-Sep-2017 12:28:21\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.sun.proxy.$Proxy104.getText(Unknown Source)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.git.v2.GitWorkingCopyManager.checkout(GitWorkingCopyManager.java:243)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.git.v2.GitWorkingCopyManager.retrieveSourceCode(GitWorkingCopyManager.java:56)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.stash.v2.BitbucketServerWorkingCopyManager.retrieveSourceCode(BitbucketServerWorkingCopyManager.java:68)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask.fillWorkingDirFromVcs(VcsCheckoutTask.java:204)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask.access$000(VcsCheckoutTask.java:54)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask$1.call(VcsCheckoutTask.java:124)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask$1.call(VcsCheckoutTask.java:121)\r\nerror\t22-Sep-2017 12:28:21\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:112)\r\nerror\t22-Sep-2017 12:28:21\t\t... 20 more\r\nerror\t22-Sep-2017 12:28:21\tFailed to prepare the build ..{noformat}",
      "summary": "Builds randomly fail on agents"
    }
  },
  {
    "key": "BAM-18706",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-03T13:51:58.000+0000",
      "created": "2017-09-27T15:29:13.000+0000",
      "description": "h3. Summary\r\n* {color:blue}\"myLdapRepository\"{color} cannot be found in {color:blue}<bamboo-install>/atlassian-bamboo/WEB-INF/classes/atlassian-user.xml{color}\r\n* {color:blue}<bamboo-install>/atlassian-bamboo/WEB-INF/classes/atlassian-user.xml{color} suggests Bamboo Internal Directory and JIRA/Crowd can be setup together, differing from what Bamboo's UI state\r\n\r\nh3. Environment\r\n* Bamboo v6.1.1\r\n\r\nh3. Steps to Reproduce\r\n* Open {color:blue}<bamboo-install>/atlassian-bamboo/WEB-INF/classes/ehcache.xml{color}\r\n* Search for comment:\r\n{noformat}\r\n  ** In all of the examples below the timeout is set to 5 minutes.  Replace \"myLdapRepository\" with the key\r\n    of your LDAP repository as defined in .../webapp/WEB-INF/classes/atlassian-user.xml\r\n{noformat}\r\n\r\nh3. Expected Results\r\n* Find {color:blue}myLdapRepository{color} in {color:blue}<bamboo-install>/atlassian-bamboo/WEB-INF/classes/atlassian-user.xml{color}\r\n\r\nh3. Actual Results\r\n* {color:blue}myLdapRepository{color} is not mentioned in {color:blue}<bamboo-install>/atlassian-bamboo/WEB-INF/classes/atlassian-user.xml{color}\r\n{noformat}\r\n<!--<ldap key=\"adRepository\" name=\"AD Repository\" cache=\"true\">-->\r\n{noformat}\r\n\r\nh3. Notes\r\n* The way file {color:blue}<bamboo-install>/atlassian-bamboo/WEB-INF/classes/atlassian-user.xml{color} suggest users can connect Bamboo Internal Directory and JIRA/Crowd at the same time, which differs from Bamboo's UI under {color:blue}Bamboo administration >> Overview >> Security >> User repositories{color}\r\n{noformat}\r\n<atlassian-user>\r\n    <repositories>\r\n\r\n        <!--LDAP: Uncomment the following block and modify accordingly for LDAP integration-->\r\n        <!--<ldap key=\"adRepository\" name=\"AD Repository\" cache=\"true\">-->\r\n            <!--<host>host</host>-->\r\n            <!--<port>389</port>-->\r\n\r\n            <!--<securityPrincipal>CN=Administrator,CN=Users,DC=ad,DC=yourorg,DC=com</securityPrincipal>-->\r\n            <!--<securityCredential>administrator</securityCredential>-->\r\n            <!--<securityProtocol>plain</securityProtocol>-->\r\n            <!--<securityAuthentication>simple</securityAuthentication>-->\r\n            <!--<baseContext>dc=yourorg,dc=com</baseContext>-->\r\n\r\n            <!--<baseUserNamespace>CN=Users,DC=ad,DC=yourorg,DC=com</baseUserNamespace>-->\r\n\r\n            <!--<baseGroupNamespace>CN=Users,DC=ad,DC=yourorg,DC=com</baseGroupNamespace>-->\r\n            <!--<usernameAttribute>sAMAccountName</usernameAttribute>-->\r\n\r\n            <!--<userSearchFilter>(objectClass=person)</userSearchFilter>-->\r\n            <!--<firstnameAttribute>givenname</firstnameAttribute>-->\r\n            <!--<surnameAttribute>sn</surnameAttribute>-->\r\n            <!--<emailAttribute>mail</emailAttribute>-->\r\n            <!--<groupnameAttribute>cn</groupnameAttribute>-->\r\n\r\n            <!--<groupSearchFilter>(objectClass=group)</groupSearchFilter>-->\r\n            <!--<membershipAttribute>member</membershipAttribute>-->\r\n        <!--</ldap>-->\r\n\r\n        <hibernate name=\"Hibernate Repository\" key=\"hibernateRepository\" description=\"Hibernate Repository\" cache=\"true\"/>\r\n\r\n        <!-- CROWD respository -->\r\n\r\n        <!--\r\n             You will need to uncomment the Crowd Repository below to enable Crowd integration. For more information,\r\n             please see:\r\n\r\n             http://confluence.atlassian.com/display/CROWD/Integrating+Crowd+with+Atlassian+Bamboo\r\n\r\n             You must also comment out the Hibernate Repository above.\r\n        -->\r\n        <!--<crowd key=\"crowd\" name=\"Crowd Repository\"/>-->\r\n\r\n        <!-- END of CROWD repository -->\r\n\r\n    </repositories>\r\n</atlassian-user>\r\n{noformat}",
      "summary": "ehcache.xml providing misleading information"
    }
  },
  {
    "key": "BAM-18703",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:38:23.000+0000",
      "created": "2017-09-27T09:48:30.000+0000",
      "description": "This encoding in MySQL is helpful to support emojis and 4-byte UTF-8 characters.",
      "summary": "Support MySQL utf8mb4 encoding "
    }
  },
  {
    "key": "BAM-18702",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:51.000+0000",
      "created": "2017-09-26T21:29:33.000+0000",
      "description": "h3. Summary\r\nBamboo's stop script is unreliable leaving process in hung state preventing further start up from running.\r\n\r\nh3. Environment\r\n* Bamboo v6.1.1\r\n\r\nh3. Steps to Reproduce\r\n* Start Bamboo following [Running Bamboo as a Linux service|https://confluence.atlassian.com/bamboo/running-bamboo-as-a-linux-service-416056046.html] OR\r\n* Start Bamboo from {color:blue}<bamboo-install>/bin/start-bamboo.sh{color}\r\n* Stop Bamboo\r\n\r\nh3. Expected Results\r\n* Bamboo and Tomcat should stop gracefully\r\n\r\nh3. Actual Results\r\n* Bamboo's process does not stop, being necessary:\r\n** reviewing ({color:blue}ps aux | grep bamboo{color}) and killing process ({color:blue}kill -9 PID{color}) OR\r\n** running Stop command for the 2nd time\r\n\r\nh3. Notes\r\n* Documentation [Running Bamboo as a Linux service|https://confluence.atlassian.com/bamboo/running-bamboo-as-a-linux-service-416056046.html] should be updated with script to handle return codes properly",
      "summary": "Bamboo does not shutdown properly"
    }
  },
  {
    "key": "BAM-18701",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-20T13:30:35.000+0000",
      "created": "2017-09-26T21:07:30.000+0000",
      "description": "h3. Summary\r\n* After LDAP synch, when adding a user to a group Bamboo does not pick up this membership automatically.\r\n\r\nh3. Environment\r\n* Bamboo v6.1.1\r\n* Windows Active Directory\r\n* OpenDS/OpenDJ\r\n\r\nh3. Steps to Reproduce\r\n{noformat:title=Users}\r\ndc: cn=user0001,ou=users,dc=example,dc=com\r\n    memberOf: cn=group0001,ou=groups,dc=example,dc=com\r\ndc: cn=user0002,ou=users,dc=example,dc=com\r\n    memberOf: cn=group0002,ou=groups,dc=example,dc=com\r\ndc: cn=user0003,ou=users,dc=example,dc=com\r\n    memberOf: cn=group0003,ou=groups,dc=example,dc=com\r\ndc: cn=user0004,ou=users,dc=example,dc=com\r\n    memberOf: cn=group0004,ou=groups,dc=example,dc=com\r\ndc: cn=user0005,ou=users,dc=example,dc=com\r\n    memberOf: cn=group0005,ou=groups,dc=example,dc=com\r\n{noformat}\r\n{noformat:title=Groups}\r\ndc: cn=group0001,ou=groups,dc=example,dc=com\r\n    member: cn=user0001,ou=users,dc=example,dc=com\r\ndc: cn=group0002,ou=groups,dc=example,dc=com\r\n    member: cn=user0002,ou=users,dc=example,dc=com\r\ndc: cn=group0003,ou=groups,dc=example,dc=com\r\n    member: cn=user0003,ou=users,dc=example,dc=com\r\ndc: cn=group0004,ou=groups,dc=example,dc=com\r\n    member: cn=user0004,ou=users,dc=example,dc=com\r\ndc: cn=group0005,ou=groups,dc=example,dc=com\r\n    member: cn=user0005,ou=users,dc=example,dc=com\r\ndc: cn=Testing Group,ou=groups,dc=example,dc=com\r\n    member: cn=user0001,ou=users,dc=example,dc=com\r\n{noformat}\r\n_The only member of {color:blue}Testing Group{color} before Bamboo's start up was {color:blue}user0001{color}_\r\n\r\nAfter starting up Bamboo I have:\r\nh4. Authenticated with username: admin\r\n* log in to Bamboo using an administrator user from Bamboo's Internal Directory (e.g. admin)\r\n* added {color:blue}user0002{color} to {color:blue}Testing Group{color} in LDAP\r\n* searched for the {color:blue}user0002{color} in http://localhost:8085/admin/user/viewUsers.action and the user was still member of {color:blue}group0002{color}\r\n\r\nh4. Authenticated with username: user0002\r\n* log in to Bamboo with {color:blue}user0002{color} in attempt to refresh caching for user and its group membership\r\n* log out from Bamboo\r\n* log back in with administrator (e.g. admin)\r\n* revisited http://localhost:8085/admin/user/viewUsers.action and {color:blue}user0002{color} was still member of {color:blue}group0002{color} and not in {color:blue}Testing Group{color}\r\n\r\nh4. Authenticated with username: admin\r\n* finally, searching for the group {color:blue}Testing Group{color} in http://localhost:8085/admin/group/viewGroups.action\r\n* group {color:blue}Global Rates IT{color} increased the *Number of Users* from 1 to 2\r\n* going back to http://localhost:8085/admin/user/viewUsers.action displays {color:blue}user0002{color} as being member of {color:blue}Testing Group{color}\r\n\r\nh4. Properties\r\n\r\nh3. Expected Results\r\n* Membership should be applied\r\n\r\nh3. Actual Results\r\n* Under {color:blue}groups_hasMembership{color} and {color:blue}groups_getGroupsForUser{color}, properties {color:blue}timeToIdleSeconds=\"300\" timeToLiveSeconds=\"300\"{color} seemed to not have any effect as 5min have lapsed without having any interaction in Bamboo and even after that Bamboo did not refresh membership.\r\n\r\nh3. Workaround\r\n* Search for the group under http://localhost:8085/admin/group/viewGroups.action OR\r\n* Switch User repositories from {color:blue}Custom repositories{color} to {color:blue}Internal directory{color} back to {color:blue}Custom repositories{color} OR\r\n* Restart Bamboo",
      "summary": "Membership is not getting updated"
    }
  },
  {
    "key": "BAM-18699",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-12-28T08:13:32.000+0000",
      "created": "2017-09-26T09:02:40.000+0000",
      "description": "h3. Summary\r\nRight now the only way to dedicate agents is through the UI. The purpose of this request is to extend the Rest API to include this functionality.\r\n\r\nh3. Notes\r\nExample of Rest call that could be useful:\r\n{noformat}\r\ncurl -u user:password -POST https://<bamboo-server-url>/rest/api/latest/agent/assignment?executorType=AGENT&executorId=<agent-ID>&assignmentType=PLAN&entityId=<build-plan-ID>\r\n{noformat}\r\n\r\nh3.Workaround\r\nUse the UI",
      "summary": "Add agent dedication configuration in the supported Rest API"
    }
  },
  {
    "key": "BAM-18698",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-25T21:52:53.000+0000",
      "description": "h3. Problem Definition\r\nThe [REST API documentation|https://docs.atlassian.com/bamboo/REST/6.2.0-eap3] does not specify the Bamboo API version is at 1.0. It looks like the API version increments with each version of the application.\r\n\r\nh3. Suggested Solution\r\nSpecify the available versions. To future proof, allow a space for \"old,\" \"new,\" and \"future\" API versions\r\n\r\nh3. Workaround\r\nFor now, the only version is 1.0.",
      "summary": "Show API version on REST docs "
    }
  },
  {
    "key": "BAM-18697",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-20T13:32:52.000+0000",
      "created": "2017-09-25T11:29:56.000+0000",
      "description": "Pattern \"[-a-z@_\\-\\.0-9]+\" used for username validation. It doesn't allow to create new user with username which contains uppercase letters.\r\n \r\nThere's no visible reason for this limitation. Bamboo has requirement to use case sensitive DB collations, uppercase letters are handled without any problems if user comes from LDAP etc.",
      "summary": "Remove uppercase letters validation from username"
    }
  },
  {
    "key": "BAM-18696",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-27T10:42:06.000+0000",
      "created": "2017-09-25T08:18:48.000+0000",
      "description": "h3. Summary\r\nBamboo Upgrade task 60101 fails with {{ORA-00933: SQL command not properly ended}}\r\n\r\nh3. Environment\r\n* Oracle 12c\r\n\r\nh3. Steps to Reproduce\r\n# Have a duplicated agent assignment in table *AGENT_ASSIGNMENT*\r\n# Upgrade Bamboo to 6.1 on Oracle 12c\r\n\r\nh3. Expected Results\r\nUpgrade succeeds.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2017-09-25 08:10:56,671 ERROR [16-UpgradeTaskBackgroundThread:pool-31-thread-1] [AbstractUpgradeManager] java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\njava.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1017)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:655)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:249)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:566)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:202)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:45)\r\n\tat oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:766)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:897)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1034)\r\n\tat oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1244)\r\n\tat oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:420)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyStatement.executeQuery(NewProxyStatement.java:327)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v6_1.UpgradeTask60101AddUniqueIndex.removeDuplicates(UpgradeTask60101AddUniqueIndex.java:61)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v6_1.UpgradeTask60101AddUniqueIndex.lambda$doUpgrade$0(UpgradeTask60101AddUniqueIndex.java:44)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:69)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v6_1.UpgradeTask60101AddUniqueIndex.doUpgrade(UpgradeTask60101AddUniqueIndex.java:41)\r\n\tat com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:175)\r\n\tat com.atlassian.bamboo.upgrade.UpgradeManagerImpl.doUpgrade(UpgradeManagerImpl.java:99)\r\n\tat com.atlassian.bamboo.upgrade.UpgradeLauncher.lambda$upgradeAndStartBamboo$0(UpgradeLauncher.java:104)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:47)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2017-09-25 08:10:56,720 INFO [16-UpgradeTaskBackgroundThread:pool-31-thread-1] [AbstractUpgradeManager] Completed task 60101 successfully.\r\n2017-09-25 08:10:56,722 FATAL [localhost-startStop-1] [UpgradeLauncher] Upgrade task error: Task for build 60101 failed with exception: ORA-00933: SQL command not properly ended\r\n{noformat}\r\n\r\n\r\nh3.Workaround\r\n# Stop Bamboo\r\n# Run the below select statement to identify any duplicates in the AGENT_ASSIGNMENT table:\r\n{code}\r\nselect AA.ASSIGNMENT_ID, AA.EXECUTABLE_ID, AA.EXECUTABLE_TYPE, AA.EXECUTOR_ID, AA.EXECUTOR_TYPE\r\n\tfrom AGENT_ASSIGNMENT AA\r\n\tjoin (select EXECUTABLE_ID, EXECUTABLE_TYPE, EXECUTOR_ID, EXECUTOR_TYPE\r\n       from AGENT_ASSIGNMENT\r\n        group by EXECUTABLE_ID, EXECUTABLE_TYPE, EXECUTOR_ID, EXECUTOR_TYPE\r\n        having count(*) > 1) DUP\r\n     on DUP.EXECUTABLE_ID = AA.EXECUTABLE_ID\r\n        and DUP.EXECUTABLE_TYPE = AA.EXECUTABLE_TYPE\r\n    \tand DUP.EXECUTOR_ID = AA.EXECUTOR_ID\r\n    \tand DUP.EXECUTOR_TYPE = AA.EXECUTOR_TYPE;\r\n{code}\r\n# (!) *Always backup your database before performing any modifications.*\r\n# The query will return any rows that are duplicated. You will need to ensure to leave *one* of the returned rows present. Manually remove each duplicate from the {{AGENT_ASSIGNMENT}} table so that only one unique row exists for the assignment. \r\n# Start Bamboo (the constraint that the upgrade task was trying to create will be created automatically)",
      "summary": "Bamboo UpgradeTask60101AddUniqueIndex fails with ORA-00933: SQL command not properly ended"
    }
  },
  {
    "key": "BAM-18693",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-14T12:22:58.000+0000",
      "created": "2017-09-21T16:55:12.000+0000",
      "description": "h3. Summary\r\nWhen visiting http://localhost:8085/deploy/viewAllDeploymentProjects.action, Bamboo runs a SQL statement joining 2 tables (REQUIREMENT_SET and NOTIFICATION_SETS) that should not be required by the view.\r\n\r\nh3. SQL statement\r\n{noformat}\r\nselect this_.ENVIRONMENT_ID as ENVIRONM1_27_3_\r\n\t, this_.NAME as NAME2_27_3_\r\n\t, this_.DESCRIPTION as DESCRIPT3_27_3_\r\n\t, this_.XML_DEFINITION_DATA as XML_DEFI4_27_3_\r\n\t, this_.TRIGGERS_XML_DATA as TRIGGERS5_27_3_\r\n\t, this_.CONFIGURATION_STATE as CONFIGUR6_27_3_\r\n\t, this_.PACKAGE_DEFINITION_ID as PACKAGE_7_27_3_\r\n\t, this_.REQUIREMENT_SET as REQUIREM8_27_3_\r\n\t, this_.NOTIFICATION_SET as NOTIFICA9_27_3_\r\n\t, this_.LIST_POSITION as LIST_PO10_27_3_\r\n\t, mutabledep2_.DEPLOYMENT_PROJECT_ID as DEPLOYME1_29_0_\r\n\t, mutabledep2_.OID as OID2_29_0_\r\n\t, mutabledep2_.NAME as NAME3_29_0_\r\n\t, mutabledep2_.DESCRIPTION as DESCRIPT4_29_0_\r\n\t, mutabledep2_.PLAN_KEY as PLAN_KEY5_29_0_\r\n\t, requiremen3_.REQUIREMENT_SET_ID as REQUIREM1_70_1_\r\n\t, notificati4_.NOTIFICATION_SET_ID as NOTIFICA1_55_2_\r\n\t, notificati4_.SET_TYPE as SET_TYPE2_55_2_\r\n  from DEPLOYMENT_ENVIRONMENT this_ \r\n  left outer join DEPLOYMENT_PROJECT mutabledep2_ on this_.PACKAGE_DEFINITION_ID=mutabledep2_.DEPLOYMENT_PROJECT_ID \r\n  left outer join REQUIREMENT_SET requiremen3_ on this_.REQUIREMENT_SET=requiremen3_.REQUIREMENT_SET_ID \r\n  left outer join NOTIFICATION_SETS notificati4_ on this_.NOTIFICATION_SET=notificati4_.NOTIFICATION_SET_ID\r\n{noformat}\r\n\r\nh3. Environment\r\n* Tested on Bamboo v5.15.5 connected to PostgreSQL\r\n* Tested on Bamboo v6.1.1 connected to PostgreSQL\r\n\r\nh3. Steps to Reproduce\r\n* Visit http://localhost:8085/deploy/viewAllDeploymentProjects.action in Bamboo v5.15.5\r\n* Visit http://localhost:8085/deploy/viewAllDeploymentProjects.action in Bamboo v6.1.1",
      "summary": "Deployment dashboard requesting REQUIREMENT_SET and NOTIFICATION_SETS"
    }
  },
  {
    "key": "BAM-18692",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-21T16:52:59.000+0000",
      "description": "h3. Problem Definition\r\nCustomers would like access to the {{planRepository.revision}} variable of a build to check the hash via REST API calls.  This variable is not currently exposed on the API.\r\n\r\nh3. Workaround \r\nGet information directly from the database:\r\n{code:sql}\r\nselect v.name, c.deployment_version_id, c.changeset_id \r\n        from deployment_version_changeset as c\r\n        JOIN deployment_version as v\r\n                ON (v.deployment_version_id = c.deployment_version_id)\r\n        WHERE v.name = '{releaseName}';\r\n{code}",
      "summary": "Expose planRepository.revision to REST API"
    }
  },
  {
    "key": "BAM-18691",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-06T12:35:02.000+0000",
      "created": "2017-09-21T15:21:03.000+0000",
      "description": "h2. Summary\r\nEnvironment: Bamboo 5.7.1 (MS SQL 2008) upgraded to Bamboo 6.1.1 (MSSQL 2016). Data was migrated through DB backup-restore.\r\n\r\n219 environments and about 4500 deployment results. When open deployment dashboard some environments have Never deployed status. But when open deployment details you see several versions deployed to them.\r\n\r\nh2. Workaround\r\n# Stop Bamboo\r\n# (!) Backup your database for rollback purposes\r\n# change DEPLOYMENT_RESULT.STARTED_DATE column type to datetime2(7)\r\n{code:sql}\r\nUSE <Bamboo_DB>\r\n\r\n-- Drop related indexes\r\nDROP INDEX\r\ndr_started ON dbo.DEPLOYMENT_RESULT,\r\ndr_started_env_lc ON dbo.DEPLOYMENT_RESULT;\r\n\r\n-- Change column datatype\r\nALTER TABLE dbo.DEPLOYMENT_RESULT ALTER COLUMN STARTED_DATE datetime2(7)\r\nGO\r\n{code}\r\n(!) Change <Bamboo_DB> to your database name\r\n# Restart your Bamboo.\r\n\r\nThe dropped indexes will be recreated when Bamboo is restarted.",
      "summary": "Some deployment results are not visible in deployment dashboard"
    }
  },
  {
    "key": "BAM-18690",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:51.000+0000",
      "created": "2017-09-21T04:45:28.000+0000",
      "description": "The [Bamboo upgrade guide|https://confluence.atlassian.com/bamboo/bamboo-upgrade-guide-720411366.html] contains a section about backing up your configuration and database, but doesn't close the loop to instruct users on how to perform a rollback. It would be great to include a section on this similar to the Bitbucket Server upgrade guide:\r\n* [Bitbucket Server upgrade guide|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-upgrade-guide-776640551.html]\r\n\r\nInterchange Bitbucket for Bamboo and paragraph is applicable and accurate for Bamboo.",
      "summary": "Add a rollback section for Bamboo upgrade guide"
    }
  },
  {
    "key": "BAM-18689",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-20T20:35:24.000+0000",
      "created": "2017-09-20T06:52:26.000+0000",
      "description": "h3. Summary\r\nCannot upgrade to Bamboo 6.1.1 (and presumably 6.0.4) on Microsoft SQL Server due to \"not a constraint\" error.\r\n\r\nh3. Environment\r\n* Microsoft SQL Server with case sensitive collation\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.13.2 on a Microsoft SQL database with *CS_AS* collation.\r\n# Upgrade the instance to Bamboo 6.1.1\r\n\r\nh3. Expected Results\r\nUpgrade succeeds.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the <bamboo-home>/atlassian-bamboo.log file:\r\n{noformat}\r\n2017-09-18 10:51:03,765 TRACE [localhost-startStop-1] [JdbcUtils] Executing: [alter table EXTERNAL_MEMBERS drop constraint FK_O35Y9WAFG8GXRHFEDX6P840A9] took 9.784 ms\r\n2017-09-18 10:51:03,771 ERROR [localhost-startStop-1] [AbstractUpgradeManager] java.lang.RuntimeException: com.microsoft.sqlserver.jdbc.SQLServerException: 'FK_O35Y9WAFG8GXRHFEDX6P840A9' is not a constraint.\r\njava.lang.RuntimeException: com.microsoft.sqlserver.jdbc.SQLServerException: 'FK_O35Y9WAFG8GXRHFEDX6P840A9' is not a constraint.\r\n        at com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n        at com.atlassian.bamboo.upgrade.tasks.v5_16.UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.lambda$dropConstraint$4(UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.java:59)\r\n        at java.util.Optional.ifPresent(Optional.java:159)\r\n        at com.atlassian.bamboo.upgrade.tasks.v5_16.UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.dropForeignKeyConstraintIfExists(UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.java:47)\r\n        at com.atlassian.bamboo.upgrade.tasks.v5_16.UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.lambda$null$1(UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.java:38)\r\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n        at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n        at com.atlassian.bamboo.upgrade.tasks.v5_16.UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.lambda$doUpgrade$2(UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.java:38)\r\n        at com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:69)\r\n        at com.atlassian.bamboo.upgrade.tasks.v5_16.UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.doUpgrade(UpgradeTask51605RemoveOldForeignKeysFromRenamedTables.java:34)\r\n        at com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:175)\r\n        at com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.doUpgrade(BootstrapUpgradeManagerImpl.java:57)\r\n        at com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:285)\r\n        at com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n        at com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:117)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5303)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n{noformat}\r\n \r\nh3. Notes\r\n* The foreign keys dropped by this upgrade task exist as lower case in MS SQL:\r\n{code}\r\nFK_i5xelapgkulq7lqovowe4irbc\tVARIABLESTOAUTOINCREMENT\r\nFK_hbr9i9d2dct3a205rhh82y555\tEXTERNAL_MEMBERS\r\nFK_o35y9wafg8gxrhfedx6p840a9\tEXTERNAL_MEMBERS\r\nFK_stjxt95av33tmiyd4xtf68nhc\tLOCAL_MEMBERS\r\nFK_kbapw8j5ejxolemecf1p86p83\tLOCAL_MEMBERS\r\n{code}\r\n\r\nh3.Workaround\r\n# Shutdown Bamboo\r\n# Run the below SQL manually on your Bamboo database to drop the constraints:\r\n{code:sql}\r\nALTER TABLE EXTERNAL_MEMBERS DROP CONSTRAINT FK_hbr9i9d2dct3a205rhh82y555\r\nGO\r\nALTER TABLE EXTERNAL_MEMBERS DROP CONSTRAINT FK_o35y9wafg8gxrhfedx6p840a9\r\nGO\r\nALTER TABLE LOCAL_MEMBERS DROP CONSTRAINT FK_stjxt95av33tmiyd4xtf68nhc\r\nGO\r\nALTER TABLE LOCAL_MEMBERS DROP CONSTRAINT FK_kbapw8j5ejxolemecf1p86p83\r\nGO\r\nALTER TABLE VARIABLESTOAUTOINCREMENT DROP CONSTRAINT FK_i5xelapgkulq7lqovowe4irbc\r\nGO\r\n{code}\r\n# Start Bamboo to proceed with upgrade",
      "summary": "Cannot upgrade to Bamboo 6.1.1 on Microsoft SQL Server due to \"not a constraint\" error"
    }
  },
  {
    "key": "BAM-18688",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-02T12:23:55.000+0000",
      "created": "2017-09-19T15:09:18.000+0000",
      "description": "As announced by AWS, EC2 will offer per-second pricing from October:\r\n\r\nhttps://aws.amazon.com/blogs/aws/new-per-second-billing-for-ec2-instances-and-ebs-volumes/\r\n\r\nElastic Bamboo should take this into account when deciding when to tear down an elastic agent.",
      "summary": "Elastic Bamboo should take new per-second billing into account"
    }
  },
  {
    "key": "BAM-18687",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:35:23.000+0000",
      "created": "2017-09-18T22:02:05.000+0000",
      "description": "From 2017 keynote talk - I see that Atlasssian rolled out Data Center editions for Jira, Confluence, BitBucket, Crowd and HipChat.\r\n\r\nWould like to know if there is any roadmap which you can share with us about Bamboo HA mode or Data Center version?\r\n\r\nBamboo data center makes a compelling case for below reasons.\r\n\r\na) HA mode. Not many options in the market currently for CI/CD which supports active-active nodes.\r\n\r\nb) No failed builds due to server crashes.\r\n\r\nc) No downtime for upgrades.\r\n\r\n\u00a0",
      "summary": "Bamboo DC edition"
    }
  },
  {
    "key": "BAM-18686",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-19T09:16:39.000+0000",
      "created": "2017-09-18T14:27:11.000+0000",
      "description": "h3. Summary\r\nWhen exporting a plan using Specs, if the plan has an Inject Variable Task, it will generate invalid code\r\n\r\n\r\nh3. Environment\r\nBamboo 6.1.0\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan, with a job, with a Task of type \"Inject Variable\".\r\n\r\nh3. Expected Results\r\nCode generated that compiles\r\n\r\nh3. Actual Results\r\nThe following code is generated:\r\n{noformat}\r\n.tasks(new ScriptTask()\r\n\t.description(\"hi\")\r\n\t.inlineBody(\"echo hi\"),\r\n\t\tnew InjectVariablesTask(\"pathto.properties\")\r\n\t\t.description(\"inject.me\")\r\n\t\t.namespace(\"inject\")\r\n\t\t.scope(InjectVariablesScope.LOCAL))))\r\n{noformat}\r\nbut that constructor doesn't exist: [Class InjectVariablesTask|https://docs.atlassian.com/bamboo-specs/latest/com/atlassian/bamboo/specs/builders/task/InjectVariablesTask.html]\r\n \r\nh3.Workaround\r\nManually fix the code to make it compile:\r\n{noformat}\r\n.tasks(new ScriptTask()\r\n\t.description(\"hi\")\r\n\t.inlineBody(\"echo hi\"),\r\n\t\tnew InjectVariablesTask()\r\n        .path(\"pathto.properties\")\r\n\t\t.description(\"inject.me\")\r\n\t\t.namespace(\"inject\")\r\n\t\t.scope(InjectVariablesScope.LOCAL))))\r\n{noformat}\r\n\r\n",
      "summary": "Specs: InjectVariableTask missing constructor (or invalid code generation)"
    }
  },
  {
    "key": "BAM-18685",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-20T20:36:04.000+0000",
      "created": "2017-09-18T01:47:51.000+0000",
      "description": "h3. Steps to replicate:\r\n1. export the spec code from https://server-syd-bamboo.internal.atlassian.com/exportSpecs/plan.action?buildKey=CSM-CMRAP.\r\nwhich contains an AnyTrigger with no name field:\r\n\r\n{code:java}\r\n     new AnyTrigger(new AtlassianModule(\"com.atlassian.bamboo.triggers.atlassian-bamboo-triggers:daily\"))\r\n                    .description(\"Run daily at 19:00 UTC\")\r\n                    .configuration(new MapBuilder()\r\n                            .put(\"selectedBuildStrategy\", \"daily\")\r\n                            .put(\"repository.change.daily.buildTime\", \"19:00\")\r\n                            .build()))\r\n{code}\r\n\r\n2. run the code using java or groovy and an exception will be throw:\r\n\r\n{code:java}\r\ncom.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: Argument name can not be null.\r\n\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkNotNull(ImporterUtils.java:100)\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkNotNull(ImporterUtils.java:92)\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkNotBlank(ImporterUtils.java:140)\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkNotBlank(ImporterUtils.java:132)\r\n\tat com.atlassian.bamboo.specs.api.model.trigger.TriggerProperties.validate(TriggerProperties.java:72)\r\n\tat com.atlassian.bamboo.specs.api.model.trigger.RepositoryBasedTriggerProperties.validate(RepositoryBasedTriggerProperties.java:48)\r\n\tat com.atlassian.bamboo.specs.api.model.trigger.AnyTriggerProperties.validate(AnyTriggerProperties.java:53)\r\n\tat com.atlassian.bamboo.specs.api.model.trigger.AnyTriggerProperties.<init>(AnyTriggerProperties.java:37)\r\n\tat com.atlassian.bamboo.specs.api.builders.trigger.AnyTrigger.build(AnyTrigger.java:59)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.bamboo.specs.api.util.EntityPropertiesBuilders.build(EntityPropertiesBuilders.java:21)\r\n\tat com.atlassian.bamboo.specs.api.builders.plan.Plan.triggers(Plan.java:264)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSite.invoke(PojoMetaMethodSite.java:189)\r\n\tat org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:53)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:110)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\r\n{code}\r\n\r\nh3. Workaround:\r\n* add a call to explicitly set the name in above exported script.\r\n\r\n\r\n",
      "summary": "Null validation on the name field in AnyTrigger while it's not possible to set name on UI"
    }
  },
  {
    "key": "BAM-18682",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-18T10:27:33.000+0000",
      "created": "2017-09-16T19:42:20.000+0000",
      "description": "h2. Summary\r\nPlan with CVS repository can't be imported by Bamboo Specs\r\n\r\nh2. Steps to reproduce\r\nCreate plan with plan repository of CVS type. Export to Bamboo Specs\r\n{code}\r\n...\r\nAnyVcsRepository repository = new AnyVcsRepository(new AtlassianModule(\"com.atlassian.bamboo.plugin.system.repository:cvs\"))\r\n                .name(repositoryName)\r\n                .repositoryViewer(new GenericRepositoryViewer()\r\n                        .viewerUrl(\"http://myrepo.com\")\r\n                        .repositoryPath(\"csv\"))\r\n                .serverConfiguration(new MapBuilder()\r\n                        .put(\"repository.cvs\", new MapBuilder()\r\n                                .put(\"cvsRoot\", \"/usr/local/CVS\")\r\n                                .put(\"password\", \"\")\r\n                                .put(\"quietPeriod\", 2)\r\n                                .put(\"module\", \"test\")\r\n                                .put(\"authType\", \"password\")\r\n                                .put(\"selectedVersionType\", \"head\")\r\n                                .build())\r\n                        .build())\r\n                .changeDetectionConfiguration(new VcsChangeDetection());\r\n...\r\n{code}\r\n\r\nImport to Bamboo from Maven command\r\nOpen configuration plan in browser\r\n\r\nExpected: it's possible to edit plan details\r\nActual: stack trace \r\n{code}\r\nio.atlassian.util.concurrent.LazyReference$InitializationException: java.lang.NullPointerException\r\n\tat io.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:156)\r\n\tat io.atlassian.util.concurrent.LazyReference.get(LazyReference.java:116)\r\n\tat com.atlassian.bamboo.plan.cache.AbstractImmutableChain.getPlanRepositoryDefinitions(AbstractImmutableChain.java:231)\r\n\tat com.atlassian.bamboo.plan.PlanHelper.getPlanRepositoryDefinitions(PlanHelper.java:49)\r\n\tat com.atlassian.bamboo.plan.PlanHelper.getDefaultPlanRepositoryDefinition(PlanHelper.java:69)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.getANameFromBranch(ChainBranchUtils.java:64)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.getSubstitutedVcsBranchDisplayNameWithoutContextChange(ChainBranchUtils.java:51)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.getChainBranchNameWithoutContextChange(ChainBranchUtils.java:110)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.lambda$getChainBranchNameInTemporaryContext$3(ChainBranchUtils.java:101)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:196)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.getChainBranchNameInTemporaryContext(ChainBranchUtils.java:100)\r\n\tat com.atlassian.bamboo.plan.branch.ChainBranchUtils.getChainBranchName(ChainBranchUtils.java:95)\r\n\tat com.atlassian.bamboo.ww2.beans.DecoratedNavObjectFactoryImpl.getSubstitutedBranchName(DecoratedNavObjectFactoryImpl.java:132)\r\n{code}",
      "summary": "Exported CVS repo can't be used after import"
    }
  },
  {
    "key": "BAM-18681",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-14T16:15:22.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen Amazon adds a new IP range to the involved services (EC2 and S3), elastic agents are not able to communicate to Atlassian buckets to download the needed files.\r\n\r\nAn error like this one is thrown in the Elastic Agent log file:\r\n\r\n{noformat}\r\nSyncing Elastic Bamboo Agent files...\r\n2017-09-13 17:17:24,597 INFO [main] [S3Sync] Syncing from: bamboo-agent-release-us-w1/5.14.4.1/7c492fa079f7969a702e3781fb83511749a24cd307b48c6fcdfb7409e6f31ac7/ to /opt/bamboo-elastic-agent\r\n2017-09-13 17:17:25,225 INFO [main] [S3Synchroniser] Syncing s3://bamboo-agent-release-us-w1/5.14.4.1/7c492fa079f7969a702e3781fb83511749a24cd307b48c6fcdfb7409e6f31ac7/ to /opt/bamboo-elastic-agent\r\n2017-09-13 17:17:25,226 INFO [main] [AmazonClients] Detecting bucket location for [bamboo-agent-release-us-w1]\r\n2017-09-13 17:17:25,576 WARN [main] [AmazonClients] Unable to get bucket location for [bamboo-agent-release-us-w1], using default. Error: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 975109E1DDA85904), S3 Extended Request ID: oute8zxYA3gMECo86qNYDrtvSh8EcCubbkrJPIOae+/TadliLLHmoQ87h0hWeutW4AStTrus29Q=\r\n2017-09-13 17:17:25,576 INFO [main] [S3Synchroniser] Fetching the list of remote objects...\r\n2017-09-13 17:17:25,583 ERROR [main] [ElasticAgentInstaller] Unable to access S3 bucket, dumping the route table:\r\n2017-09-13 17:17:25,583 INFO [main] [ElasticAgentInstaller] Starting [route, -n]\r\nException in thread \"main\" java.io.IOException: Cannot run program \"route\": error=2, No such file or directory\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat com.atlassian.bamboo.agent.elastic.installer.ElasticAgentInstaller.runCommand(ElasticAgentInstaller.java:135)\r\n\tat com.atlassian.bamboo.agent.elastic.installer.ElasticAgentInstaller.dumpRouteTable(ElasticAgentInstaller.java:125)\r\n\tat com.atlassian.bamboo.agent.elastic.installer.ElasticAgentInstaller.install(ElasticAgentInstaller.java:84)\r\n\tat com.atlassian.bamboo.agent.elastic.installer.ElasticAgentInstaller.main(ElasticAgentInstaller.java:199)\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n\tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n\tat java.lang.UNIXProcess.<init>(UNIXProcess.java:248)\r\n\tat java.lang.ProcessImpl.start(ProcessImpl.java:134)\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n\t... 4 more\r\n{noformat}\r\n\r\nh3. Suggested Solution\r\n\r\nNowadays, when this situation happens, the new IP range needs to be whitelisted manually, in the perfect scenario, this change will be handled automatically. \r\n\r\nh3. Workaround\r\n\r\nNo Workaround, please reach the support team.",
      "summary": "IPs should be automatically whitelisted when Amazon adds a new IP range"
    }
  },
  {
    "key": "BAM-18680",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-28T11:03:28.000+0000",
      "created": "2017-09-14T12:29:16.000+0000",
      "description": "h2. Steps to reproduce\r\nCreate BBS linked repository and add it to plan\r\nLogin by another user and go to Plan configuration > Repositories. Choose added repository\r\n\r\nExpected: repository details are not visible until you authorize access from Bamboo to Bitbucket Server\r\nActual: error page. See  !Capture 2017-09-04 at 14.34.17.png|thumbnail! \r\n\r\n{code}\r\nStack Trace:\r\ncom.atlassian.stash.rest.client.applinks.StashCredentialsRequiredException: com.atlassian.applinks.api.CredentialsRequiredException: You do not have an authorized access token for the remote resource.\r\n\tat com.atlassian.stash.rest.client.applinks.ApplinkHttpExecutor.execute(ApplinkHttpExecutor.java:59)\r\n\tat com.atlassian.stash.rest.client.core.StashClientImpl.doRestCall(StashClientImpl.java:619)\r\n\tat com.atlassian.stash.rest.client.core.StashClientImpl.doRestCall(StashClientImpl.java:606)\r\n\tat com.atlassian.stash.rest.client.core.StashClientImpl.getApplicationProperties(StashClientImpl.java:598)\r\n\tat com.atlassian.bamboo.plugins.stash.v2.configurator.BitbucketServerServerConfigurator.populateContextWithBitbucketVersion(BitbucketServerServerConfigurator.java:170)\r\n\tat com.atlassian.bamboo.plugins.stash.v2.configurator.BitbucketServerServerConfigurator.populateContextForView(BitbucketServerServerConfigurator.java:138)\r\n\tat com.atlassian.bamboo.configuration.repository.VcsUIConfigBean.prepareViewHtmlFragments(VcsUIConfigBean.java:178)\r\n\tat com.atlassian.bamboo.ww2.actions.build.admin.config.repository.EditRepository.lambda$prepareHtml$0(EditRepository.java:122)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:196)\r\n\tat com.atlassian.bamboo.ww2.actions.build.admin.config.repository.EditRepository.prepareHtml(EditRepository.java:115)\r\n\tat com.atlassian.bamboo.ww2.actions.build.admin.config.repository.EditRepository.prepare(EditRepository.java:39)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:170)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:120)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptor.intercept(WebworkSecurityInterceptor.java:47)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptorProxy.intercept(WebworkSecurityInterceptorProxy.java:26)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:133)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.PaginationAwareInterceptor.doIntercept(PaginationAwareInterceptor.java:87)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.StatisticsAwareInterceptor.doIntercept(StatisticsAwareInterceptor.java:35)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ResultsListAwareInterceptor.doIntercept(ResultsListAwareInterceptor.java:38)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.NavigationAwareInterceptor.doIntercept(NavigationAwareInterceptor.java:100)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BuildResultsSummaryAwareInteceptor.doIntercept(BuildResultsSummaryAwareInteceptor.java:53)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n{code}\r\n\r\nh2. Workaround\r\nGo to list of linked repositories and grant authorization there. See  !Screen Shot 2017-09-14 at 14.28.01.png|thumbnail! ",
      "summary": "Bitbucket Server authorization breaks linked repository details in plan repositories"
    }
  },
  {
    "key": "BAM-18679",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:55.000+0000",
      "created": "2017-09-13T21:24:16.000+0000",
      "description": "h3. Problem Definition\r\nCurrently we cannot select multiple builds to trigger at once. Users need to manually click each plan to run.\r\nh3. Suggested Solution\r\nAdd check boxes to be able to select and run the plans.\r\nh3. Workaround\r\nYou can create a shell script to loop through and run the plans.",
      "summary": "Multi-select Build Plans"
    }
  },
  {
    "key": "BAM-18678",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-17T07:34:21.000+0000",
      "created": "2017-09-13T12:55:15.000+0000",
      "description": "During running\u00a0CodeDeploy task exception is thrown:\u00a0\r\n{code:java}\r\n13-Sep-2017 13:56:08\tAttempt #17/60: status 'Ready'.\r\n13-Sep-2017 13:56:08\tDeployment overview: {Pending: 3,InProgress: 0,Succeeded: 0,Failed: 0,Skipped: 0,Ready: 3}.\r\n13-Sep-2017 13:56:08\tError occurred while running Task 'aws(2)' of type com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-aws-codedeploy:task.aws.codeDeploy.\r\n13-Sep-2017 13:56:08\tjava.lang.IllegalArgumentException: No enum constant com.atlassian.bamboo.plugins.aws.codedeploy.DeploymentStatus.READY\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.lang.Enum.valueOf(Enum.java:238)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.plugins.aws.codedeploy.DeploymentStatus.valueOf(DeploymentStatus.java:8)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.plugins.aws.codedeploy.DeploymentStatus.fromDisplayName(DeploymentStatus.java:36)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.plugins.aws.codedeploy.CodeDeployTask.retrieveDeploymentStatus(CodeDeployTask.java:221)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.plugins.aws.codedeploy.CodeDeployTask.executeDeployment(CodeDeployTask.java:165)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.plugins.aws.codedeploy.CodeDeployTask.execute(CodeDeployTask.java:73)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:284)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:223)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:284)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:111)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:71)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:185)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:120)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:113)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:113)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:47)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n13-Sep-2017 13:56:08\t\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.lang.Thread.run(Thread.java:748)\r\n{code}\r\nRerunning failed stage usually helps\r\n\r\n\u00a0",
      "summary": "java.lang.IllegalArgumentException during CodeDeploy task"
    }
  },
  {
    "key": "BAM-18677",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-02-07T10:59:04.000+0000",
      "created": "2017-09-13T09:45:42.000+0000",
      "description": "h3. Summary\r\nWhen a build with huge number of files modified in a single commit is re-run, Bamboo can no longer build any other plan.\r\n\r\nh3. Steps to Reproduce\r\n# Use any repository, e.g. Git\r\n# Create a plan and configure it to checkout that repository\r\n# Run the plan\r\n# Commit 100k file changes to the repository\r\n# Run the plan again\r\n# Attempt to re-run the plan\r\n\r\nh3. Expected Results\r\nBamboo re-runs the plan.\r\n\r\nh3. Actual Results\r\n{{restartBuild.action}} request is non-performant and runs for an extended period (depending on number of commit files):\r\n{noformat}\r\n18-Nov-2017 10:25:42.884 WARNING [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.valves.StuckThreadDetectionValve.notifyStuckThreadDetected Thread \"http-nio-8085-exec-85\" (id=375) has been active for 69,972 milliseconds (since 11/18/17 10:24 AM) to serve the same request for https://bamboo/build/admin/restartBuild.action?planKey=PLAN-PROJ&buildNumber=2 and may be stuck (configured threshold for this StuckThreadDetectionValve is 60 seconds). There is/are 3 thread(s) in total that are monitored by this Valve and may be stuck.\r\n java.lang.Throwable\r\n\tat org.hibernate.internal.util.compare.EqualsHelper.equals(EqualsHelper.java:31)\r\n\tat org.hibernate.type.descriptor.java.AbstractTypeDescriptor.areEqual(AbstractTypeDescriptor.java:70)\r\n\tat org.hibernate.type.AbstractStandardBasicType.isEqual(AbstractStandardBasicType.java:197)\r\n\tat org.hibernate.type.AbstractStandardBasicType.isSame(AbstractStandardBasicType.java:185)\r\n\tat org.hibernate.type.ComponentType.isSame(ComponentType.java:168)\r\n\tat org.hibernate.collection.internal.PersistentBag.countOccurrences(PersistentBag.java:133)\r\n\tat org.hibernate.collection.internal.PersistentBag.equalsSnapshot(PersistentBag.java:115)\r\n\tat org.hibernate.engine.spi.CollectionEntry.dirty(CollectionEntry.java:158)\r\n\tat org.hibernate.engine.spi.CollectionEntry.preFlush(CollectionEntry.java:181)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.prepareCollectionFlushes(AbstractFlushingEventListener.java:178)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:78)\r\n\tat org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:44)\r\n\tat org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1396)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1889)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n\tat org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:388)\r\n\tat com.atlassian.bamboo.resultsummary.BuildResultsSummaryHibernateDao$2.doInHibernate(BuildResultsSummaryHibernateDao.java:156)\r\n\tat com.atlassian.bamboo.resultsummary.BuildResultsSummaryHibernateDao$2.doInHibernate(BuildResultsSummaryHibernateDao.java:148)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.resultsummary.BuildResultsSummaryHibernateDao.getResultsSummary(BuildResultsSummaryHibernateDao.java:148)\r\n\tat com.atlassian.bamboo.resultsummary.BuildResultsSummaryManagerImpl.getResultsSummary(BuildResultsSummaryManagerImpl.java:182)\r\n\tat com.atlassian.bamboo.resultsummary.BuildResultsSummaryManagerImpl.getResultsSummary(BuildResultsSummaryManagerImpl.java:176)\r\n\tat sun.reflect.GeneratedMethodAccessor1553.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.acegisecurity.intercept.method.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:66)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.aopalliance.AuthorityOverrideMethodSecurityInterceptor.invoke(AuthorityOverrideMethodSecurityInterceptor.java:30)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy100.getResultsSummary(Unknown Source)\r\n\tat com.atlassian.bamboo.resultsummary.variables.ResultsSummaryVariableAccessorImpl.getValidChainResultSummaryByKey(ResultsSummaryVariableAccessorImpl.java:53)\r\n\tat com.atlassian.bamboo.resultsummary.variables.ResultsSummaryVariableAccessorImpl.calculateCurrentVariablesState(ResultsSummaryVariableAccessorImpl.java:277)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy127.calculateCurrentVariablesState(Unknown Source)\r\n\tat com.atlassian.bamboo.v2.trigger.ContinuedBuildDetectionAction.generateResultWithoutChanges(ContinuedBuildDetectionAction.java:177)\r\n{noformat}\r\nThe plan is not re-run and blocks all other plans from being run. Stays so until Bamboo is restarted or connection to the DB dies, possibly after hours.\r\n\r\nh3. Notes\r\nThe problem seems to be related to Hibernate and the way it's checking dirty state of entities. Commit files are implemented as 'bag' in the commit entity, and dirty check for a 'bag' pessimistically requires N^2 operations. For 100k sized bag it would take 10B comparisons to determine dirtiness. Bamboo most likely acquires some lock to perform the calculation, causing starvation to the build queue, and never actually executing the build itself.\r\n\r\nh3. Workaround\r\nAvoid re-running builds with hundreds of thousands of files changed per commit.",
      "summary": "Bamboo hangs on re-running build with huge number of commit files"
    }
  },
  {
    "key": "BAM-18676",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-13T09:38:46.000+0000",
      "description": "h3. Summary\r\nAdd a search box for audit logs.\r\n \r\nh3. Notes\r\nAs for today users have no chance to search through audit logs, just go through the pages. \r\n\r\nh3.Workaround\r\nAudit logs are stored in the database, more precisely in the table \"audit_log\". Users can query, or export and prepare reports using their own tools.",
      "summary": "Add a search box for audit logs"
    }
  },
  {
    "key": "BAM-18675",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-03T13:30:51.000+0000",
      "created": "2017-09-12T04:36:47.000+0000",
      "description": "h3. Summary\r\nUsers cannot login to a Bamboo instance via a URL different to the configured *Base URL*. The login attempt will take the application back to the main entry point with no error message and the user will not be logged in.\r\n\r\nThis becomes problematic when the old address is no longer accessible and needs to be updated. E.g. Proxy / LB goes down or during migration activities.\r\n\r\nh3. Steps to Reproduce\r\n# Access Bamboo to a URL different to the Base URL. E.g.\r\n#* Base URL: https://bamboo\r\n#* Access URL: http://bamboo:8085\r\n# Attempt to login\r\n\r\nh3. Expected Results\r\nLogin is successful OR failure reason is communicated.\r\n\r\nh3. Actual Results\r\nRedirected to main application entry point, user is not logged in, no messaging communicating the reason.\r\n\r\nh3.Workaround\r\nChange the Base URL to the accessible URL manually: \r\n* [How to manually change the Base URL of Bamboo without access to the UI|https://confluence.atlassian.com/bamkb/how-to-manually-change-the-base-url-of-bamboo-without-access-to-the-ui-913212864.html]",
      "summary": "Cannot log into Bamboo without access to Base URL"
    }
  },
  {
    "key": "BAM-18674",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-02-07T14:35:19.000+0000",
      "created": "2017-09-08T10:34:02.000+0000",
      "description": "It would be good if the Bamboo server is able to handle more than 250 remote agents for example.\r\n\r\nIt will be helpful when the Organization is big and they have numerous build plans.",
      "summary": "Improve Bamboo server to support more then 250 remote agent"
    }
  },
  {
    "key": "BAM-18673",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-08T03:04:35.000+0000",
      "description": "h3. Summary\r\nREST endpoint {{rest/api/latest/server}} or {{/rest/api/latest/status}} to retrieve the server status is unusable due to a 302 redirect while Bamboo is performing a scheduled backup / export. This is particularly problematic for as external health checks cannot assess the state of the server while it's under maintenance. If the client follows the redirect, they'll get a HTTP 500 internal server error.\r\n\r\nIt is also not usable when performing an import into a fresh instance, it simply returns no response until the import is complete.\r\n\r\nh3. Steps to Reproduce\r\n\r\nImport:\r\n# Start a fresh Bamboo\r\n# Import a XML backup\r\n# cURL the endpoint: {{curl -H 'Accept: application/json' http://bamboo/rest/api/latest/server}}\r\n# cURL the endpoint: {{curl -H 'Accept: application/json' http://bamboo/rest/api/latest/status}}\r\n\r\nExport\r\n# Start a scheduled backup\r\n# cURL the endpoint: {{curl -H 'Accept: application/json' http://bamboo/rest/api/latest/server}}\r\n# cURL the endpoint: {{curl -H 'Accept: application/json' http://bamboo/rest/api/latest/status}}\r\n\r\nh3. Expected Results\r\nEndpoint returns a state that reflects the status of the Bamboo Server or REST endpoints should return an appropriate HTTP status response that are indicative of maintenance.\r\n\r\nh3. Actual Results\r\nImport:\r\nNo response is returned until the import finishes.\r\n\r\nExport:\r\n{noformat}\r\n< HTTP/1.1 302 Found\r\n< Date: Fri, 08 Sep 2017 02:58:27 GMT\r\n< Server: Apache-Coyote/1.1\r\n< X-ASEN: SEN-500\r\n< X-Frame-Options: SAMEORIGIN\r\n< Location: /bamboo/error/errorEvents.action\r\n< Content-Length: 0\r\n{noformat}\r\n\r\nIf redirect is followed:\r\n{code}\r\n< HTTP/1.1 500\r\n< Date: Tue, 23 Jun 2020 07:21:57 GMT\r\n< X-ASEN: SEN-500\r\n< X-Frame-Options: SAMEORIGIN\r\n< X-Content-Type-Options: nosniff\r\n< Vary: Accept-Encoding\r\n< Cache-Control: no-store\r\n< Content-Type: text/html;charset=utf-8\r\n< Content-Language: en-US\r\n< Connection: close\r\n< Transfer-Encoding: chunked\r\n...\r\n            <td>\r\n                Bamboo is currently exporting. Depending on the number of builds and test results, the time until Bamboo is available will vary. Bamboo will automatically become available as soon as this task is complete.\r\n</td>\r\n{code}\r\n\r\nh3.Workaround\r\nNone",
      "summary": "Server and status REST endpoint is not usable when Bamboo is performing a scheduled backup or importing a backup"
    }
  },
  {
    "key": "BAM-18672",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-27T11:09:35.000+0000",
      "created": "2017-09-07T17:32:17.000+0000",
      "description": "h3. Problem Definition\r\nA new Struts library is available\r\n\r\nh3. Suggested Solution\r\nInvestigate requirements for upgrading Struts, and any dependencies so the new version is compatible with Bamboo\r\n\r\nh3. Workaround\r\nThere is no workaround at this time.",
      "summary": "Upgrade Struts to latest 2.5.x"
    }
  },
  {
    "key": "BAM-18670",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:50.000+0000",
      "created": "2017-09-06T19:58:19.000+0000",
      "description": "Bamboo REST API documentation - [https://docs.atlassian.com/bamboo/REST/6.1.1], error messages should return in the same format making it accessible to others extending the product through endpoint.\r\n\r\n* Performs a contains search against a version name.\r\n{noformat:title=http://myhost.com:8085/bamboo/rest/api/latest/search/versions \\[GET\\]}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET http://localhost:8085/rest/api/latest/search/versions?searchTerm&deploymentProjectId&branchKey&chronologicalOrder\r\n{noformat}\r\n{noformat}\r\n{\r\n    \"message\": \"Please provide a deploymentProjectId\",\r\n    \"status-code\": 400\r\n}\r\n{noformat}\r\n* A starts-with search of users based on their username, full-name and if allowed email address.\r\n{noformat:title=http://myhost.com:8085/bamboo/rest/api/latest/search/users \\[GET\\]}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\nhttp://localhost:8085/rest/api/latest/search/users?searchTerm&includeAvatars\r\n{noformat}\r\n{noformat}\r\n{\r\n    \"errors\": [\r\n        \"Searching for all users is currently not supported for performance reasons. Please provide a searchTerm.\"\r\n    ]\r\n}\r\n{noformat}",
      "summary": "(REST) Error message should return in the same format"
    }
  },
  {
    "key": "BAM-18669",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-12T13:45:45.000+0000",
      "created": "2017-09-06T19:42:29.000+0000",
      "description": "h3. Summary\r\nSince {color:blue}deploymentProjectId{color} is mandatory (https://jira.atlassian.com/browse/BAM-18668), providing the incorrect value should return an error\r\n\r\nh3. Steps to Reproduce\r\n{noformat:title=http://myhost.com:8085/bamboo/rest/api/latest/search/versions \\[GET\\]}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET http://localhost:8085/rest/api/latest/search/versions?searchTerm&deploymentProjectId=123&branchKey&chronologicalOrder\r\n{noformat}\r\n\r\nh3. Expected Results\r\n{noformat}\r\n{\r\n    \"message\": \"The deploymentProjectId provided could not be found\",\r\n    \"status-code\": 400\r\n}\r\n{noformat}\r\n\r\nh3. Actual Results\r\n{noformat}\r\n{\r\n    \"size\": 0,\r\n    \"searchResults\": [],\r\n    \"start-index\": 0,\r\n    \"max-result\": 0\r\n}\r\n{noformat}",
      "summary": "(REST) Search versions should return error if invalid deploymentProjectId is provided"
    }
  },
  {
    "key": "BAM-18668",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:49.000+0000",
      "created": "2017-09-06T19:16:06.000+0000",
      "description": "Bamboo REST API documentation - [https://docs.atlassian.com/bamboo/REST/6.1.1], should inform, in the documentation, which parameter(s) is/are mandatory:\r\n\r\nPerforms a contains search against a version name.\r\n{noformat:title=http://myhost.com:8085/bamboo/rest/api/latest/search/versions \\[GET\\]}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET http://localhost:8085/rest/api/latest/search/versions?searchTerm&deploymentProjectId&branchKey&chronologicalOrder\r\n{noformat}\r\n{noformat}\r\n{\r\n    \"message\": \"Please provide a deploymentProjectId\",\r\n    \"status-code\": 400\r\n}\r\n{noformat}\r\n",
      "summary": "(REST) Mandatory parameters must be informed"
    }
  },
  {
    "key": "BAM-18667",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-06T17:59:14.000+0000",
      "description": "h3. Summary\r\n\r\nFollowing endpoint in [https://docs.atlassian.com/bamboo/REST/6.1.1] do not work due to misleading parameters:\r\n{noformat}\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/dependency/search/{projectKey}-{buildKey}/child [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/dependency/search/{projectKey}-{buildKey}/parent [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/clone/{projectKey}-{buildKey}:{toProjectKey}-{toBuildKey} [PUT]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/queue/{projectKey}-{buildKey} [POST]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/queue/{projectKey}-{buildKey}-{buildNumber : ([0-9]+)} [PUT, DELETE]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}/{buildKey} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/branch [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/branch/{branchName} [PUT, GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/label [GET, POST]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/label/{labelName} [DELETE]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/vcsBranches [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/issue/{issueKey} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/favourite [POST, DELETE]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/enable [POST, DELETE]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/artifact [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/test/{testId}/quarantine [POST]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/plan/{projectKey}-{buildKey}/test/{testId}/unleash [POST]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey}-{buildNumber : ([0-9]+)|(latest)} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey}/branch/{branchName} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey}/{buildNumber : ([0-9]+)|(latest)} [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey}-{buildNumber}/comment [GET, POST]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey}-{buildNumber}/label [GET, POST]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/{projectKey}-{buildKey}-{buildNumber}/label/{labelName} [DELETE]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/result/status/{projectKey}-{buildKey}-{buildNumber : ([0-9]+)} [GET]\r\n{noformat}\r\nh3. Environment\r\n * Setting up Project - Plan in Bamboo, runnig a few builds\r\n * Referring to [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] documentation we have:\r\n||Build-specific variable||Description||\r\n|bamboo.{color:#0000FF}buildKey{color}|The job key for the current job, in the form PROJECT-PLAN-JOB, e.g. *BAM-MAIN-JOBX*|\r\n|bamboo.{color:#0000FF}planKey{color}|The key of the current plan, in the form PROJECT-PLAN, e.g. *BAM-MAIN*|\r\n|bamboo.{color:#0000FF}shortPlanKey{color}|The short key of the current plan (without project part), e.g. *MAIN*|\r\n|bamboo.{color:#0000FF}shortJobKey{color}|The short key of the current job (without project and plan parts), e.g. *JOBX*|\r\n|bamboo.{color:#0000FF}buildResultKey{color}|The result key when this job executes, in the form PROJECT-PLAN-JOB-BUILD e.g. *BAM-BOO-JOB1-8*, where '8' is the build number.\r\nFor deployment projects this variable will not have the JOB component e.g. *PROJ-TP-6*.|\r\n|bamboo.{color:#0000FF}buildNumber{color}|The Bamboo build number, e.g. *123*|\r\n\r\nh3. Steps to Reproduce\r\n * run the following cURL command, making use of [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] documentation as reference[http://myhost.com:8085/bamboo/rest/api/latest/plan/]\r\n{noformat:title=\\{projectKey\\}-\\{buildKey\\} \\[GET\\]}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET 'http://localhost:8085/rest/api/latest/plan/PROJ-PROJ-PLAN-JOB1'\r\n{noformat}\r\n\r\nh3. Results\r\n\r\nThe above results on an error:\r\n{noformat}\r\n{\r\n    \"message\": \"Plan PROJ-PROJ-PLAN not found.\",\r\n    \"status-code\": 404\r\n}\r\n{noformat}\r\nh3. Notes\r\n\r\nAs we can notice from above, the endpoint refers to {color:#0000FF}\\{projectKey}-\\{buildKey}{color}:\r\n * {color:#0000FF}\\{projectKey}{color} is not an available varialbe in [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] documentation\r\n * In Bamboo's UI, there is a reference to *Project Key* (e.g. {color:#0000FF}PROJ{color}) in which is not mentioned in [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] documentation\r\n !bamboo.variable.planKey.png|thumbnail!\r\n * {color:#0000FF}\\{projectKey}-\\{buildKey}{color} is not a valid key\r\n * In Bamboo's UI, there is a reference to *Plan Key* (e.g. {color:#0000FF}PLAN{color}) in which differs from [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] documentation\r\n !bamboo.variable.planKey.png|thumbnail!",
      "summary": "(REST) Misleading parameters: projectKey buildKey"
    }
  },
  {
    "key": "BAM-18666",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-09-06T17:24:49.000+0000",
      "description": "h3. Summary\r\n* Following endpoint in https://docs.atlassian.com/bamboo/REST/6.1.1 are not retrieving the expected result set:\r\n{noformat}\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/dependency/search/{projectKey}-{buildKey}/child [GET]\r\nhttp://myhost.com:8085/bamboo/rest/api/latest/dependency/search/{projectKey}-{buildKey}/parent [GET]\r\n{noformat}\r\n* Both endpoint are implementing the same method.\r\n* Using misleading parameters: projectKey buildKey\r\n\r\nh3. Environment\r\nExistent PROJECT - PLAN in Bamboo whilst running test:\r\n* DEP-CHIL (_Dependency - Child_)\r\n* DEP-PAR (_Dependency - Parent_)\r\n{panel:titleBGColor=#b8e7f9|bgColor=#e3f7fc|borderColor=#8ed9f6|borderWidth=1}\r\n{color:blue}Plan configuration >> Dependencies >> Child plans{color} poiting to {color:blue}DEP-CHIL{color}\r\n{panel}\r\n* PROJ-PLANA (_Project - Plan A_)\r\n* PROJ-PLANB (_Project - Plan B_)\r\n* PROJ-PLANC (_Project - Plan C_)\r\n\r\nh3. Steps to Reproduce\r\n* run any of the following cURL command:\r\n{noformat:title=Search for available plan parent dependencies}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET 'http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent?searchTerm='\r\n{noformat}\r\n{noformat:title=Search for available plan child dependencies}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET 'http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/child?searchTerm='\r\n{noformat}\r\n\r\nh3. Expected Results\r\nIn *Search for available plan parent dependencies*, no results should be found since there is not dependency of any plan.\r\nIn *Search for available plan child dependencies*, only DEP-CHIL should be listed\r\n\r\nh3. Actual Results\r\n* All plans as displayed under *dependencies.plan* section:\r\n{noformat}\r\n{\r\n    \"expand\": \"dependencies\",\r\n    \"link\": {\r\n        \"href\": \"http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent\",\r\n        \"rel\": \"self\"\r\n    },\r\n    \"dependencies\": {\r\n        \"size\": 3,\r\n        \"expand\": \"plan\",\r\n        \"start-index\": 0,\r\n        \"max-result\": 3,\r\n        \"plan\": [\r\n            {\r\n                \"shortName\": \"Child\",\r\n                \"shortKey\": \"CHIL\",\r\n                \"type\": \"chain\",\r\n                \"enabled\": false,\r\n                \"link\": {\r\n                    \"href\": \"http://localhost:8085/rest/api/latest/plan/DEP-CHIL\",\r\n                    \"rel\": \"self\"\r\n                },\r\n                \"key\": \"DEP-CHIL\",\r\n                \"name\": \"Dependency - Child\",\r\n                \"planKey\": {\r\n                    \"key\": \"DEP-CHIL\"\r\n                }\r\n            },\r\n            {\r\n                \"shortName\": \"Plan A\",\r\n                \"shortKey\": \"PLANA\",\r\n                \"type\": \"chain\",\r\n                \"enabled\": false,\r\n                \"link\": {\r\n                    \"href\": \"http://localhost:8085/rest/api/latest/plan/PROJ-PLANA\",\r\n                    \"rel\": \"self\"\r\n                },\r\n                \"key\": \"PROJ-PLANA\",\r\n                \"name\": \"Project - Plan A\",\r\n                \"planKey\": {\r\n                    \"key\": \"PROJ-PLANA\"\r\n                }\r\n            },\r\n            ...\r\n{noformat}\r\n\r\nh3. Notes\r\n* Both endpoint (parent?searchTerm= and child?searchTerm=) are retrieving the same result set.\r\n* searchTerm seems to search *only* project name/key, e.g:\r\n** searching for existent dependency by referring plan name/key (_chil_ stands for plan key):\r\n{noformat}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET 'http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent?searchTerm=chil'\r\n{noformat}\r\n{noformat}\r\n{\r\n    \"expand\": \"dependencies\",\r\n    \"link\": {\r\n        \"href\": \"http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent\",\r\n        \"rel\": \"self\"\r\n    },\r\n    \"dependencies\": {\r\n        \"size\": 0,\r\n        \"expand\": \"plan\",\r\n        \"start-index\": 0,\r\n        \"max-result\": 0,\r\n        \"plan\": []\r\n    }\r\n}\r\n{noformat}\r\n** searching for existent dependency by referring project name/key (_dep_ stands for project name Dependency):\r\n{noformat}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET 'http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent?searchTerm=dep'\r\n{noformat}\r\n{noformat}\r\n{\r\n    \"expand\": \"dependencies\",\r\n    \"link\": {\r\n        \"href\": \"http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent\",\r\n        \"rel\": \"self\"\r\n    },\r\n    \"dependencies\": {\r\n        \"size\": 1,\r\n        \"expand\": \"plan\",\r\n        \"start-index\": 0,\r\n        \"max-result\": 1,\r\n        \"plan\": [\r\n            {\r\n                \"shortName\": \"Child\",\r\n                \"shortKey\": \"CHIL\",\r\n                \"type\": \"chain\",\r\n                \"enabled\": false,\r\n                \"link\": {\r\n                    \"href\": \"http://localhost:8085/rest/api/latest/plan/DEP-CHIL\",\r\n                    \"rel\": \"self\"\r\n                },\r\n                \"key\": \"DEP-CHIL\",\r\n                \"name\": \"Dependency - Child\",\r\n                \"planKey\": {\r\n                    \"key\": \"DEP-CHIL\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n{noformat}\r\n** searching for existent dependency by referring project name/key (_pr_ stands for project name Project):\r\n{noformat}\r\ncurl -u admin:admin\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -X GET 'http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent?searchTerm=pr'\r\n{noformat}\r\n{noformat}\r\n{\r\n    \"expand\": \"dependencies\",\r\n    \"link\": {\r\n        \"href\": \"http://localhost:8085/rest/api/latest/dependency/search/DEP-PAR/parent\",\r\n        \"rel\": \"self\"\r\n    },\r\n    \"dependencies\": {\r\n        \"size\": 1,\r\n        \"expand\": \"plan\",\r\n        \"start-index\": 0,\r\n        \"max-result\": 1,\r\n        \"plan\": [\r\n            {\r\n                \"shortName\": \"Plan A\",\r\n                \"shortKey\": \"PLANA\",\r\n                \"type\": \"chain\",\r\n                \"enabled\": false,\r\n                \"link\": {\r\n                    \"href\": \"http://localhost:8085/rest/api/latest/plan/PROJ-PLANA\",\r\n                    \"rel\": \"self\"\r\n                },\r\n                \"key\": \"PROJ-PLANA\",\r\n                \"name\": \"Project - Plan A\",\r\n                \"planKey\": {\r\n                    \"key\": \"PROJ-PLANA\"\r\n                }\r\n            },\r\n            {\r\n                \"shortName\": \"Plan B\",\r\n                \"shortKey\": \"PLANB\",\r\n                \"type\": \"chain\",\r\n                \"enabled\": false,\r\n                \"link\": {\r\n                    \"href\": \"http://localhost:8085/rest/api/latest/plan/PROJ-PLANB\",\r\n                    \"rel\": \"self\"\r\n                },\r\n                \"key\": \"PROJ-PLANB\",\r\n                \"name\": \"Project - Plan B\",\r\n                \"planKey\": {\r\n                    \"key\": \"PROJ-PLANB\"\r\n                }\r\n            },\r\n            ...\r\n        ]\r\n    }\r\n}\r\n{noformat}",
      "summary": "(REST) Add REST endpoints that will return plan dependencies (children and parents)"
    }
  },
  {
    "key": "BAM-18665",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-13T12:21:10.000+0000",
      "created": "2017-09-05T19:07:44.000+0000",
      "description": "h3. Summary\r\n\r\nWhen Child Plans are included in Bamboo Specs, the Plan fails due to TransientObjectExceptions\r\nh3. Steps to Reproduce\r\n # Create a {{PlanSpec.java}} for Bamboo Specs including a project with two plans, {{CHILD}} and {{PARENT}}\r\n # Create {{CHILD}} first\r\n # Add the following block to {{PARENT}}'s code:\r\n{code:java}\r\n.dependencies(new Dependencies()\r\n                    .childPlans(new PlanIdentifier(\"TEST\", \"CHILD\"))){code}\r\n\r\n # Add {{-Dbamboo.specs.log.level=DEBUG}} to {{JVM_SUPPORT_RECOMMENDED_ARGS}} in {{setenv.sh}}\r\n # Restart Bamboo\r\n # Run Bamboo Specs, eg:\r\n{code:java}\r\nmvn -Ppublish-specs{code}\r\n\r\nh3. Expected Results\r\n\r\nPlan is created with execution of {{CHILD}} being dependent on {{PARENT}}.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the Maven log:\r\n{noformat}\r\n2017-08-25 15:31:15,220 INFO [BambooServer] Publishing plan TEST-PARENT\r\n2017-08-25 15:31:15,947 INFO [BambooServer] Exception in thread \"main\" An error occurred while publishing plan TEST-PARENT: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\r\n2017-08-25 15:31:15,947 DEBUG [BambooServer] {\"message\":\"object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\",\"status-code\":500}\r\ncom.atlassian.bamboo.specs.api.exceptions.BambooSpecsPublishingException: An error occurred while publishing plan TEST-PARENT: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\r\nat com.atlassian.bamboo.specs.util.BambooServer.translateRestException(BambooServer.java:166)\r\nat com.atlassian.bamboo.specs.util.BambooServer.translateException(BambooServer.java:136)\r\nat com.atlassian.bamboo.specs.util.BambooServer.publish(BambooServer.java:93)\r\nat ProjectTemplates.PlanSpec.main(PlanSpec.java:2064)\r\nCaused by: com.atlassian.bamboo.specs.exceptions.BambooSpecsRestRequestException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\r\nat com.atlassian.bamboo.specs.util.RestHelper.lambda$sendRequest$2(RestHelper.java:89)\r\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:222)\r\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:164)\r\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:139)\r\nat com.atlassian.bamboo.specs.util.RestHelper.sendRequest(RestHelper.java:92)\r\nat com.atlassian.bamboo.specs.util.RestHelper.post(RestHelper.java:201)\r\nat com.atlassian.bamboo.specs.util.SendQueue$1.run(SendQueue.java:23)\r\n{noformat}\r\nand {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n2017-08-25 15:31:15,947 INFO [BambooServer] Exception in thread \"main\" An error occurred while publishing plan TEST-PARENT: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\r\n2017-08-25 15:31:15,947 DEBUG [BambooServer] {\"message\":\"object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\",\"status-code\":500}\r\ncom.atlassian.bamboo.specs.api.exceptions.BambooSpecsPublishingException: An error occurred while publishing plan TEST-PARENT: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\r\n...\r\nCaused by: com.atlassian.bamboo.specs.exceptions.BambooSpecsRestRequestException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance beforeQuery flushing: com.atlassian.bamboo.plan.AbstractPlan\r\n{noformat}\r\nh3. Workaround\r\n\r\nRemove the dependencies block from the {{PlanSpecs.java}}, and add the dependencies from the Bamboo UI.",
      "summary": "Bamboo Specs: Plan Dependencies result in Hibernate Transient Object Exceptions"
    }
  },
  {
    "key": "BAM-18664",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:32.000+0000",
      "created": "2017-09-05T08:10:37.000+0000",
      "description": "h3. Summary\r\nModifying an artifact download task with _Add another artifact_ while the deployment project is not linked to a source build plan (e.g. the source build plan has been deleted) will cause a {{NumberFormatException}} when attempting to re-link that deployment project to a build plan.\r\n\r\nh3. Steps to Reproduce\r\n# Create a build plan with 2 plan branches and 1 shared artifact\r\n# Create a deployment plan with a source build plan of one of the plan branches and an artifact download task\r\n# Delete the plan branch that the deployment plan is linked to\r\n# Edit the artifact download task in the deployment plan\r\n## Add another artifact > All\r\n## Save\r\n# Edit the build plan of the deployment plan and select the other plan branch > Save\r\n\r\nh3. Expected Results\r\nThe new source build plan should be linked and artifact references updated.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the UI and logged to the {{atlassian-bamboo.log}}\r\n{noformat}\r\njava.lang.NumberFormatException: null\r\n\tat java.lang.Long.parseLong(Long.java:552)\r\n\tat java.lang.Long.parseLong(Long.java:631)\r\n\tat com.atlassian.bamboo.plugin.ArtifactDownloaderTaskConfigurationHelper.getArtifactId(ArtifactDownloaderTaskConfigurationHelper.java:83)\r\n\tat com.atlassian.bamboo.deployments.projects.service.DeploymentProjectServiceImpl.validateArtifactTaskDefinitionOnPlanChange(DeploymentProjectServiceImpl.java:418)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.aopalliance.AuthorityOverrideMethodSecurityInterceptor.invoke(AuthorityOverrideMethodSecurityInterceptor.java:24)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy195.validateArtifactTaskDefinitionOnPlanChange(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy215.validateArtifactTaskDefinitionOnPlanChange(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.projects.actions.ConfigureDeploymentProjectDetails.execute(ConfigureDeploymentProjectDetails.java:68)\r\n...\r\n{noformat}\r\n\r\nh3.Workaround\r\n# Disable all 'Artifact download' tasks in all environments\r\n#* Go to the deployment project with problem\r\n#* Click the pencil icon next to the environment, under 'Actions'\r\n#* Click 'Edit Tasks'\r\n#* Select the 'Artifact Download' task\r\n#* Select the 'Disable this task'\r\n#* Click 'Save'\r\n#* Do that to all environments\r\n# Associate the deployment project with the build plan again. The error should not appear. \r\n# Re-enable the tasks\r\n#* The same instructions as Step 1 above, only deselect the 'Disable this Task'",
      "summary": "NumberFormatException when attempting to re-link a Deployment plan to a Source Build plan"
    }
  },
  {
    "key": "BAM-18663",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:21:53.000+0000",
      "created": "2017-09-05T05:10:44.000+0000",
      "description": "h3. Problem Definition\r\nWhen saving Elastic Configuration in Bamboo (saveElasticConfig.action), if there's no outbound access, the request will run for up to 5 minutes while the AWS client attempts to validate the AWS credentials, before timing out. Most proxy configurations will timeout the request before this timeout is reached which results in a cryptic 504 for users. \r\n\r\nThis is only really a problem when the server Bamboo is on can't make an outbound connection to the Internet, but it's not obvious what's going on internally here. If we use a shorter socket timeout and send the exception to the UI once it's reached, it should be pretty obvious what the issue is.\r\n\r\n{noformat}\r\n2017-09-05 04:46:30,139 INFO [http-nio-8085-exec-7] [AccessLogFilter] jowen POST http://localhost:8085/admin/elastic/saveElasticConfig.action 602120kb\r\n2017-09-05 04:51:32,137 ERROR [http-nio-8085-exec-7] [ElasticInstanceManagerImpl] Failed to determine the validity of AWS credentials.\r\ncom.atlassian.aws.AWSException: Failed to determine the validity of AWS credentials.\r\n\tat com.atlassian.aws.AWSAccountImpl.getAccountValidationError(AWSAccountImpl.java:210)\r\n\tat com.atlassian.bamboo.agent.elastic.aws.AwsAccountBeanImpl.getAccountDetailsValidationError(AwsAccountBeanImpl.java:95)\r\n\tat com.atlassian.bamboo.agent.elastic.server.ElasticInstanceManagerImpl.validateAwsCredentials(ElasticInstanceManagerImpl.java:304)\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ConfigureElasticCloudAction.testAWSCredentials(ConfigureElasticCloudAction.java:494)\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ConfigureElasticCloudAction.validate(ConfigureElasticCloudAction.java:269)\r\n\tat com.atlassian.bamboo.ww2.actions.admin.elastic.ConfigureElasticCloudAction.save(ConfigureElasticCloudAction.java:336)\r\n...\r\nCaused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to ec2.ap-southeast-2.amazonaws.com:443 [ec2.ap-southeast-2.amazonaws.com/54.240.195.127] failed: connect timed out\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1038)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649)\r\n{noformat}\r\n\r\nh3. Suggested Solution\r\n* If possible, reduce the socket timeout (60s?) just for the AWS client calls when saving elastic configuration and from other UI actions. Probably don't want to change it for internal Elastic Bamboo calls as a longer timeout might be desirable.\r\n* Make it clearer from the UI what's happening when the validation request is taking a long time.\r\n \r\nh3. Workaround \r\nN/A",
      "summary": "Shorter SocketTimeout when validating AWS Credentials"
    }
  },
  {
    "key": "BAM-18662",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-21T16:41:31.000+0000",
      "created": "2017-09-04T22:57:59.000+0000",
      "description": "h3. Summary\r\n\r\nWhen we try to promote an existing release, after selecting the branch, the screen first loads the latest deployed release (it does not matter if it's from a different branch), after a few seconds the page reloads and the content of the drop-down changes to the latest release from the selected branch.\r\nh3. Steps to Reproduce\r\n # Create a plan with two branches (ex. master, branch)\r\n # Create one Deployment project\r\n # Run a huge number of builds (ex. 5k+ for master and 500+ for branch)\r\n # Deploy all releases to the same environment.\r\n\r\nh3. Expected Results\r\n\r\nWhen you select the branch in the \"Promote existing release to this environment\" screen, Bamboo should load only the releases related to that branch to avoid an incorrect release to be deployed.\r\nh3. Actual Results\r\n\r\nBamboo loads the latest deployed release and after a few seconds, the page refreshes and the content of the drop-down changes to the latest release deployed from the select branch.\r\nh3. Notes\r\n\r\nThis situation can cause incorrect releases to be deployed if the user clicks at the \"Start deployment\" before the page is fully loaded. The following video shows this situation being reproduced.\r\n [^BSP33361.mp4]\r\n\r\nNotes from the original reporter (BSP-33361):\r\n{quote}Just to further re-iterate our perspective, there seems to be a couple options:\r\n * Tune the performance to load 5k+ release artifacts in < 1 second\r\n * Tune the page to load the last 100'ish artifacts on page load, and only more artifacts if the user does a search or attempts to scroll down the list past the designated loading mark\r\n * Tune the page to not update to the latest /master release once it's done loading all release artifacts ... it seems to override our selection when it shouldn't need to select. It seems there's some logic that says \"load artifacts, default to latest\"\r\n * Force the page to not allow you to select a branch/artifact until the page fully loads ... maybe gray the selections out and put in a spinning wheel or such.{quote}\r\nh3. Workaround\r\n\r\nAs this problem just happens when you have a huge amount of releases, if you create a more aggressive\u00a0expiry configuration, the screen will load faster and the bug will not be perceptible.\r\n\r\nMore information about global expiry you can find at the following documentation:\r\n\r\n* [Configuring global expiry|https://confluence.atlassian.com/bamboo/configuring-global-expiry-289277253.html]\u00a0",
      "summary": "Incorrect release being loaded at the drop-down when promoting an existing release."
    }
  },
  {
    "key": "BAM-18660",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:32.000+0000",
      "created": "2017-09-04T11:53:05.000+0000",
      "description": "History.JS is poorly maintained and also recommends ([https://github.com/browserstate/history.js]) the use of the native HTML5 History API of modern browsers.\r\n\r\n\u00a0\r\n\r\nBamboo is affected by a bug in History.JS : [https://github.com/browserstate/history.js/issues/363/]",
      "summary": "Remove History.JS from Bamboo"
    }
  },
  {
    "key": "BAM-18659",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-27T09:49:22.000+0000",
      "created": "2017-09-01T06:54:42.000+0000",
      "description": "{noformat}\r\n2017-08-16 15:23:43,435 INFO [10-BAM::PlanExec:pool-17-thread-1] [ChangeDetectionListenerAction] : Change detection found 2 changes for plan PROJ-PLAN\r\n2017-08-16 15:23:43,582 INFO [10-BAM::PlanExec:pool-17-thread-1] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n2017-08-16 15:23:43,582 WARN [10-BAM::PlanExec:pool-17-thread-1] [SqlExceptionHelper] SQL Error: 1366, SQLState: HY000\r\n2017-08-16 15:23:43,582 ERROR [10-BAM::PlanExec:pool-17-thread-1] [SqlExceptionHelper] Incorrect string value: '\\xF0\\x9F\\x98\\x80' for column 'COMMIT_COMMENT_CLOB' at row 1\r\n2017-08-16 15:23:43,582 ERROR [10-BAM::PlanExec:pool-17-thread-1] [BatchingBatch] HHH000315: Exception executing batch [could not execute batch]\r\n2017-08-16 15:23:43,583 ERROR [10-BAM::PlanExec:pool-17-thread-1] [SessionImpl] HHH000346: Error during managed flush [could not execute batch]\r\n2017-08-16 15:23:43,600 ERROR [10-BAM::PlanExec:pool-17-thread-1] [ChainExecutionManagerImpl] Plan 'PROJ-PLAN' could not be started. Exception: JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch\r\norg.springframework.orm.hibernate5.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch\r\n        at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:171)\r\n        at org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:739)\r\n        at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:588)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n        at sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        at com.sun.proxy.$Proxy64.commit(Unknown Source)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:484)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n        at com.atlassian.bamboo.author.AuthorCreatorServiceInterceptor.invoke(AuthorCreatorServiceInterceptor.java:40)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n        at com.sun.proxy.$Proxy219.create(Unknown Source)\r\n        at sun.reflect.GeneratedMethodAccessor1919.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        at com.sun.proxy.$Proxy216.create(Unknown Source)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.createNewChainState(ChainExecutionManagerImpl.java:524)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.lambda$start$0(ChainExecutionManagerImpl.java:223)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.tryStartChainState(ChainExecutionManagerImpl.java:314)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.start(ChainExecutionManagerImpl.java:221)\r\n        at sun.reflect.GeneratedMethodAccessor1918.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t...\r\nCaused by: java.sql.BatchUpdateException: Incorrect string value: '\\xF0\\x9F\\x98\\x80' for column 'COMMIT_COMMENT_CLOB' at row 1\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\r\n        at com.mysql.jdbc.Util.getInstance(Util.java:387)\r\n        at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1154)\r\n        at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)\r\n        at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)\r\n        at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)\r\n        at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPreparedStatement.java:2544)\r\n        at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:110)\r\n        ... 94 more\r\nCaused by: java.sql.SQLException: Incorrect string value: '\\xF0\\x9F\\x98\\x80' for column 'COMMIT_COMMENT_CLOB' at row 1\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3878)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814)\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2478)\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2625)\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2551)\r\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)\r\n        at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)\r\n        at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)\r\n        ... 98 more\r\n2017-08-16 15:23:43,601 INFO [10-BAM::PlanExec:pool-17-thread-1] [DefaultErrorHandler] Recording an error: Plan 'PROJ-PLAN' could not be started. Exception: JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch : PROJ-PLAN : JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch\r\n{noformat}",
      "summary": "Unable to insert emoji into USER_COMMIT. COMMIT_COMMENT_CLOB"
    }
  },
  {
    "key": "BAM-18658",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-08-31T13:02:55.000+0000",
      "description": "Currently you [generate|https://confluence.atlassian.com/bamboo/exporting-existing-plans-to-bamboo-specs-894743917.html] for 1 plan the code for Specs.\r\nIt would be great to have an option to export *all* your plans in 1 go to Specs.\r\n\r\nSuggestion from BAM-19613: generate Specs for all plans in a project",
      "summary": "Export all existing plans to specs"
    }
  },
  {
    "key": "BAM-18657",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:30:13.000+0000",
      "created": "2017-08-31T10:49:39.000+0000",
      "description": "You can use\u00a0[Flow|https://flow.org/] on Bamboo to run the static code checker in your build jobs.\r\n\r\nTo integrate the checks into the Bamboo, I've written a reporter ([flow-bamboo-reporter|https://www.npmjs.com/package/flow-bamboo-reporter]) that converts the result JSON that Flow generates to a valid {{mocha.json}} that can be used with the Mocha result parser.\r\n\r\nIt will show Flow errors like this:\r\n !image-2017-08-31-12-42-49-041.png|thumbnail! \r\n\r\nIt would be great if Flow can be added to the [Getting Started With NodeJS|https://confluence.atlassian.com/bamboo/getting-started-with-node-js-and-bamboo-687213472.html] page as quite a lot people use it and it adds imo great value to code quality if used correctly.\r\n\r\nThe README contains the necessary steps, but in short, it is the following:\r\nAdd a script that executes {{flow check --json | flow-bamboo-reporter}} that will create the mocha.json and use the Mocha Parser task afterwards.\r\n\r\nSeems the README on NPM is not yet updated correctly. Find the current version in [GitHub|https://github.com/hyperbrain/flow-bamboo-reporter]",
      "summary": "Add Flow static code checker instructions to the Getting Started page"
    }
  },
  {
    "key": "BAM-18656",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:30:29.000+0000",
      "created": "2017-08-30T23:15:00.000+0000",
      "description": "In the Bamboo web UI a plans execution log can is retrieved by accessing something like the following URI:\r\nhttps://<My Bamboo Host>/download/<PROJECT KEY>-<PLAN KEY>-BP/build_logs/NB\r\n\r\nI need an automated way to access those logs.",
      "summary": "REST API endpoint to download log from build result"
    }
  },
  {
    "key": "BAM-18655",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:12.000+0000",
      "created": "2017-08-30T04:35:39.000+0000",
      "description": "When performing an AWS assume-role, the role session needs a name.  In build projects, it is suitable to use bamboo.buildResultKey, which is unique-ish (at least within the Bamboo instance, ignoring re-runs, etc).\r\n\r\nAs near as I can tell, deployments don't have a good unique ID like that which is exposed.  The best I can find is bamboo.resultsUrl and pulling off the deploymentResultId from it\r\n\r\nIt this was exposed directly, it would be safer than hoping the resultsUrl is always in a specific format, etc.\r\n\r\nAlternatively, provide some other identifier for this purpose which can be tracked/audited like a build result.",
      "summary": "Please provide deploymentResultId via its own variable"
    }
  },
  {
    "key": "BAM-18654",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-30T02:18:57.000+0000",
      "created": "2017-08-30T02:16:30.000+0000",
      "description": "The version of the bundled Atlassian OAuth plugin was vulnerable to Server Side Request Forgery (SSRF). This allowed a XSS and or a SSRF attack to be performed. More information about the Atlassian OAuth plugin issue see https://ecosystem.atlassian.net/browse/OAUTH-344 . When running in an environment like Amazon EC2, this flaw can used to access to a metadata resource that provides access credentials and other potentially confidential information.",
      "summary": "The bundled Atlassian OAuth plugin allows arbitrary HTTP requests to be proxied - CVE-2017-9506"
    }
  },
  {
    "key": "BAM-18652",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-31T14:22:16.000+0000",
      "created": "2017-08-29T17:34:58.000+0000",
      "description": "h3. Problem Definition\r\nSince Bamboo installations can have multiple agents, each could have multiple configurations and different versions of the JDK.\r\nCurrently, if any of these server settings cause errors with plugins, there is no way to permanently disable the plugin on that agent.\r\n\r\nh3. Suggested Solution\r\nAdd a way to select agents to which the plugin will not be installed. \r\n\r\nh3. Workaround\r\nThere is no workaround at this time.",
      "summary": "Ability to select which Plugins are installed on which Agents"
    }
  },
  {
    "key": "BAM-18651",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-31T12:22:19.000+0000",
      "created": "2017-08-29T14:23:21.000+0000",
      "description": "h3. Summary\r\n\r\nBamboo creates plan branches for all pull requests across all repositories associated to a plan when the *Create plan branch* strategy is set to _\"When pull request is created\"_.\r\n\r\nh3. Steps to Reproduce\r\n# Set up a plan with two repositories: *repo-1* (default), and *repo-2*.\r\n# Create branch *feature-x* in *repo-1*.\r\n# Create PR from *repo-1/feature-x* to *repo-1/master*.\r\n# Bamboo creates plan branch *feature-x* (EXPECTED).\r\n# After that create branch *feature-y* in *repo-2*.\r\n# Create PR from *repo-2/feature-y* to *repo-2/master*.\r\n\r\nh3. Expected Results\r\n- Bamboo would not create any plan branches for the last PR since it was done in *repo-2*, which is not the default source repository of the plan.\r\n\r\nh3. Actual Results\r\n- Bamboo creates plan branch *feature-y* (UNEXPECTED). This shouldn't happen since feature-y has nothing to do with the default repo of the plan.",
      "summary": "Plan branches are getting created for all pull requests across all repositories associated to a plan"
    }
  },
  {
    "key": "BAM-18650",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:39:36.000+0000",
      "created": "2017-08-29T12:17:22.000+0000",
      "description": "h1. Summary \r\nSetup Bamboo on Windows system with NTFS filesystem\r\nCreate Bamboo home folder and remove Bamboo user from permission list (for example leave only group which Bamboo user belongs to)\r\nWhen Bamboo first time tries to initialise SecretEncryptionService it stores cipher part to filesystem to BAMBOO_HOME/xml-data/configuration/cipher. When this folder created Bamboo removes all existing permissions and leave only owner. In case owner is not in the list of ACLs Bamboo removes all existing ACLs and can't have access to this folder anymore. \r\n\r\nAll activity which requires SecretEncryptionService don't work\r\n\r\nh1. Workaround\r\nAdd Bamboo user explicitly to BAMBOO_HOME folder ACLs",
      "summary": "Can't save file part of cipher on Windows NTFS"
    }
  },
  {
    "key": "BAM-18649",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-29T10:43:46.000+0000",
      "created": "2017-08-29T06:31:50.000+0000",
      "description": "h3. Problem Definition\r\nWhen examining remote events in the Bamboo logs, events relating to pull request creation only show the target branch. Since the target branches are common to many pull requests, (e.g. master) the logs make it difficult to reason about which pull request they relate to\r\n{code}\r\n2017-08-28 21:26:08,659 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [PullRequestAwareEventListener] Received pull request opened event [ testrepo, refs/heads/master]\r\n{code}\r\n\r\nh3. Suggested Solution\r\nDisplay source and target branches in the remote event log\r\n{code}\r\n2017-08-28 21:26:08,659 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [PullRequestAwareEventListener] Received pull request opened event [ testrepo, from: refs/heads/bugfix/abc-123, to: refs/heads/master]\r\n{code}",
      "summary": "Include from and to branch in \"Received pull request opened event\" logging"
    }
  },
  {
    "key": "BAM-18648",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:48:28.000+0000",
      "created": "2017-08-28T16:19:17.000+0000",
      "description": "Change the definition of agent/remote agents on CAC pages from version 5.13 and onward (or just most recent ones).\r\n\r\n*New definitions:* [https://extranet.atlassian.com/display/~aworku/Bamboo+Agents]\r\n\r\n*Agent page:* [https://confluence.atlassian.com/bamboo/agent-289277442.html]\r\n\r\n*Remote agent page:* [https://confluence.atlassian.com/bamboo/remote-agent-289277433.html]\r\n\r\nKeep redirect to agent page, but also include new remote agent definition, please.\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Agent definition on CAC pages"
    }
  },
  {
    "key": "BAM-18647",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-25T16:12:59.000+0000",
      "created": "2017-08-28T14:45:01.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIf you delete the remote agent from the Bamboo UI the access is not revoked for that agent. This creates confusion as User does not understand which agent is unused from the list of agents.\r\n\r\nh3.\u00a0Suggested Solution\r\n\r\nDeletion of an agent should revoke the access as well (cleaning agent_authentication table for that agent only). \u00a0\r\n\r\nh3.\u00a0Workaround\u00a0\r\n\r\nCurrently, we have to do it manually for each remote agent. Go to Bamboo remote agent home directory and check for the \"Agent unique ID\" in the file \"bamboo-agent.cfg.xml\". If the ID doesn't match the ID shown in the Bamboo UI(Agent authentication tab) then revoke the access from the Bamboo UI.",
      "summary": "Deleting a Remote Agent should revoke Agent Authentication"
    }
  },
  {
    "key": "BAM-18644",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-24T10:05:54.000+0000",
      "created": "2017-08-24T06:10:58.000+0000",
      "description": "Dear Support\r\n\r\nBelow is the usage of Choice Parameter, Active Choice Parameter and Active Choice Reactive Parametercontrols of Jenkins.\r\n\r\nCould you please check the availability of same or alternatives in bamboo to cater the below requirement, with bamboo . I went through available plugins, but unable to find a good solution. If you need further details please contact me\u00a0If you need any further details on it.Required screen attached below.\r\n\r\n!image001.png!",
      "summary": "Parametorized builds not supported"
    }
  },
  {
    "key": "BAM-18643",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-02-21T17:28:55.000+0000",
      "created": "2017-08-24T04:13:40.000+0000",
      "description": "Dear Support\r\n\r\nBelow is the usage of Choice Parameter, Active Choice Parameter and Active Choice Reactive Parametercontrols of Jenkins.\r\n\r\nCould you please check the availability of same or alternatives in bamboo to cater the below requirement, with bamboo . I went through available plugins, but unable to find a good solution. If you need further details please contact me\u00a0If you need any further details on it.Required screen attached below.\r\n\r\n!image001.png!\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Parametorized builds not supported"
    }
  },
  {
    "key": "BAM-18639",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-08-23T18:02:47.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, anyone with Admin privileges on a Plan can delete Audit logs. To increase productivity, some teams may want to allow Admin rights to users, but lock down certain functionality, similar to the Restricted Admin global functionality.\r\n \r\nh3. Suggested Solution\r\nAllow Bamboo Administrators to restrict who can delete audit logs at any level.\r\n\r\nh3. Workaround\r\nSince non-Admin users are unable to view or delete Audit Logs, a workaround, could be to remove Admin permissions from users who should not access those pages.",
      "summary": "Restrict deletion of Audit Logs"
    }
  },
  {
    "key": "BAM-18638",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-08-23T13:47:58.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, we don't have any validation in configuring Quiet Period time for repository change detection. This has a potential risk for the whole Bamboo application because setting a very high Quiet Period time even for a single repository of a plan (say 24 hrs) could result in threads getting in a sleep state and just doing nothing. Since all the threads are in a sleep state, this impacts the other processes.\r\n\r\n+See below example for more reference:+\r\n\r\nA customer has a Bitbucket repository trigger set on one plan. And the repository linked to this plan has a quiet period setup as 28800 seconds.\r\nThis results in all the threads in a sleeping state(as shown below) and thus impacting other processes in the Bamboo (in this case scheduled trigger build of the other plans were not triggered because the threads were already occupied).\r\n{panel:bgColor=#fff8c4}\r\nh3. All the four threads are sleeping:\r\n{noformat}\r\n\"10-BAM::PlanExec:pool-17-thread-1\" daemon prio=1 tid=0x00000000000000be nid=0 sleeping \r\njava.lang.Thread.State: TIMED_WAITING (sleeping)\r\nat java.lang.Thread.sleep(Native Method)\r\nat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesAfterQuietPeriod(DefaultChangeDetectionManager.java:450)\r\n{noformat}\r\n{noformat}\r\n\"10-BAM::PlanExec:pool-17-thread-2\" daemon prio=1 tid=0x00000000000000bf nid=0 sleeping \r\njava.lang.Thread.State: TIMED_WAITING (sleeping)\r\nat java.lang.Thread.sleep(Native Method)\r\nat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesAfterQuietPeriod(DefaultChangeDetectionManager.java:450)\r\nat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.lambda$createBuildRepositoryChanges$0(DefaultChangeDetectionManager.java:360)\r\n{noformat}\r\n{noformat}\r\n\"10-BAM::PlanExec:pool-17-thread-3\" daemon prio=1 tid=0x00000000000000c1 nid=0 sleeping \r\njava.lang.Thread.State: TIMED_WAITING (sleeping)\r\nat java.lang.Thread.sleep(Native Method)\r\nat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesAfterQuietPeriod(DefaultChangeDetectionManager.java:450)\r\n{noformat}\r\n{noformat}\r\n\"10-BAM::PlanExec:pool-17-thread-4\" daemon prio=1 tid=0x00000000000000c0 nid=0 sleeping \r\njava.lang.Thread.State: TIMED_WAITING (sleeping)\r\nat java.lang.Thread.sleep(Native Method)\r\nat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesAfterQuietPeriod(DefaultChangeDetectionManager.java:450)\r\n{noformat}\r\nh3. Time waiting is 1440 minutes ~ 24 hrs with 4 more tries remaining.\r\n{code:java}\r\n2017-08-23 05:15:32,808 INFO [10-BAM::PlanExec:pool-17-thread-2] [DefaultChangeDetectionManager] : Found 18 changes for plan 'DD-DDUI427', waiting 1440 minutes to see if there are any more... (4 retries remaining)\r\n2017-08-23 05:15:32,828 INFO [10-BAM::PlanExec:pool-17-thread-1] [DefaultChangeDetectionManager] : Found 18 changes for plan 'DD-DDUI425', waiting 1440 minutes to see if there are any more... (4 retries remaining)\r\n{code}\r\n{panel}\r\nh3. Suggested Solution\r\n\r\nWe should have a validation in UI itself which will restrict the value used for the Quiet Period. (say value more than 100 seconds not allowed)\r\nh3. Workaround\r\n\r\nIdentify the repository having such a high quiet period time and decrease the time.",
      "summary": "Quiet Period Validation"
    }
  },
  {
    "key": "BAM-18637",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-23T10:25:59.000+0000",
      "created": "2017-08-23T09:45:18.000+0000",
      "description": "h3. Problem\r\nA stack trace similar to the following is thrown in the logs every time the page *<Bamboo_URL>/myBamboo.action* is loaded\r\n\r\n{noformat}\r\n2017-08-23 13:36:06,400 INFO [http-nio-8086-exec-7] [AccessLogFilter] enguser GET <Bamboo_URL>/myBamboo.action 586054kb\r\n2017-08-23 13:36:06,432 ERROR [http-nio-8086-exec-7] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nJava method \"com.atlassian.bamboo.webwork.StarterAction.isFavourite(com.atlassian.bamboo.plan.cache.ImmutableChain)\" threw an exception when invoked on com.atlassian.bamboo.brokenbuildtracker.ui.ViewResponsibilitiesForUser object \"com.atlassian.bamboo.brokenbuildtracker.ui.ViewResponsibilitiesForUser@3507a4b2\"; see cause exception in the Java stack trace.\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n        - Failed at: #assign isFavourite = action.isFavour...  [in template \"lib/components.ftl\" in macro \"favouriteIcon\" at line 160, column 13]\r\n        - Reached through: @compress single_line=true  [in template \"lib/components.ftl\" in macro \"favouriteIcon\" at line 158, column 9]\r\n        - Reached through: @cp.favouriteIcon plan=build operatio...  [in template \"fragments/plan/displayBuildPlansList.ftl\" in macro \"displayPlanListOperations\" at line 102, column 1]\r\n        - Reached through: @displayPlanListOperations id, build,...  [in template \"fragments/plan/displayBuildPlansList.ftl\" in macro \"displayBuildPlansList\" at line 77, column 13]\r\n        - Reached through: @planList.displayBuildPlansList id=\"f...  [in template \"panels/myResponsibilities.ftl\" at line 4, column 5]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._TemplateModelException: [... Exception message was already printed; see it above ...]\r\n        at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:285)\r\n        at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:252)\r\n        at freemarker.ext.beans.SimpleMethodModel.exec(SimpleMethodModel.java:74)\r\n        at freemarker.core.MethodCall._eval(MethodCall.java:76)\r\n        at freemarker.core.Expression.eval(Expression.java:81)\r\n        at freemarker.core.Assignment.accept(Assignment.java:134)\r\n        at freemarker.core.Environment.visit(Environment.java:362)\r\n        at freemarker.core.Environment.visitAndTransform(Environment.java:460)\r\n        at freemarker.core.UnifiedCall.accept(UnifiedCall.java:129)\r\n        at freemarker.core.Environment.visit(Environment.java:326)\r\n        at freemarker.core.Environment.visit(Environment.java:368)\r\n        at freemarker.core.Environment.invoke(Environment.java:714)\r\n        at freemarker.core.UnifiedCall.accept(UnifiedCall.java:86)\r\n        at freemarker.core.Environment.visit(Environment.java:362)\r\n        at freemarker.core.Environment.invoke(Environment.java:714)\r\n        at freemarker.core.UnifiedCall.accept(UnifiedCall.java:86)\r\n        at freemarker.core.Environment.visit(Environment.java:362)\r\n        at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:239)\r\n        at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:200)\r\n        at freemarker.core.Environment.visitIteratorBlock(Environment.java:595)\r\n        at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:81)\r\n        at freemarker.core.IteratorBlock.accept(IteratorBlock.java:67)\r\n        at freemarker.core.Environment.visit(Environment.java:362)\r\n        at freemarker.core.Environment.invoke(Environment.java:714)\r\n        at freemarker.core.UnifiedCall.accept(UnifiedCall.java:86)\r\n        at freemarker.core.Environment.visit(Environment.java:326)\r\n        at freemarker.core.Environment.visit(Environment.java:332)\r\n        at freemarker.core.Environment.visit(Environment.java:332)\r\n        at freemarker.core.Environment.process(Environment.java:305)\r\n        at freemarker.template.Template.process(Template.java:384)\r\n        at org.apache.struts2.views.freemarker.FreemarkerResult.doExecute(FreemarkerResult.java:233)\r\n        at org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:208)\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n# Create a broken build result\r\n# Assign the resposibility to the logged user\r\n# Access the page <Bamboo_URL>/myBamboo.action",
      "summary": "Java method com.atlassian.bamboo.webwork.StarterAction.isFavourite throws an exception when opening myBamboo.action page"
    }
  },
  {
    "key": "BAM-18636",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-30T18:51:13.000+0000",
      "created": "2017-08-22T10:51:50.000+0000",
      "description": "According to our knowledge only customers using Bob Swift's integration are affected",
      "summary": "viewTaskTypes action can no longer be used by 3rd party integrations"
    }
  },
  {
    "key": "BAM-18635",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:35.000+0000",
      "created": "2017-08-22T04:00:08.000+0000",
      "description": "h3. Summary\r\nStopping a build from plan dashboard while quiet period is active interrupts the quiet period checks but then dispatches the build immediately after the stop.\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with a repository that has a 60 second quiet period.\r\n# Make a commit to the repository.\r\n# Trigger a manual build.\r\n# Within the next 60 seconds:\r\n#* *Plan Dashboard > Stop Build* (Don't stop it from the Plan Result. The behavior is different.)\r\n\r\nh3. Expected Results\r\nNo build is dispatched since a stop was requested.\r\n\r\nh3. Actual Results\r\n* The below info is logged:\r\n{noformat}\r\n2017-08-22 13:23:55,098 INFO [5-DelayedChangeDetectionThread:pool-11-thread-25] [DefaultChangeDetectionManager] Change collection interrupted. Not all changes may have been detected\r\njava.lang.InterruptedException: sleep interrupted\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesAfterQuietPeriod(DefaultChangeDetectionManager.java:450)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.lambda$createBuildRepositoryChanges$0(DefaultChangeDetectionManager.java:360)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesSinceLastBuildInternal(DefaultChangeDetectionManager.java:331)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesSinceRevisions(DefaultChangeDetectionManager.java:280)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesSinceRevisions(DefaultChangeDetectionManager.java:190)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectAllChangesSinceLastBuild(DefaultChangeDetectionManager.java:152)\r\n\tat com.atlassian.bamboo.v2.trigger.ManualBuildDetectionAction.performDelayedChangeDetection(ManualBuildDetectionAction.java:156)\r\n\tat com.atlassian.bamboo.chains.ChainExecutionManagerImpl$1.getChainState(ChainExecutionManagerImpl.java:239)\r\n\tat com.atlassian.bamboo.chains.ChainExecutionManagerImpl.tryStartChainState(ChainExecutionManagerImpl.java:314)\r\n\tat com.atlassian.bamboo.chains.ChainExecutionManagerImpl.delayedStart(ChainExecutionManagerImpl.java:231)\r\n{noformat}\r\n* Build is still dispatched:\r\n{code}\r\n2017-08-22 13:23:55,148 INFO [5-DelayedChangeDetectionThread:pool-11-thread-25] [ChainExecutionManagerImpl] Build ART-QUIET-JOB1-5 has been dispatched\r\n{code}\r\n\r\nh3.Workaround\r\nNone.",
      "summary": "Stopping a build from plan dashboard while quiet period is active results in the build being dispatched anyway"
    }
  },
  {
    "key": "BAM-18634",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:52.000+0000",
      "created": "2017-08-22T03:40:34.000+0000",
      "description": "h3. Summary\r\nStopping a build from the Plan Result UI doesn't interrupt the change detection thread handling the quiet period. The change detection thread will continue and check for additional changes after the quiet period is up, if it finds one, it will sleep again. If the Plan Result is deleted during this time, the next time the quiet period thread fires Bamboo will throw an error.\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with a repository that has a 60 second quiet period.\r\n# Make a commit to the repository.\r\n# Trigger a manual build.\r\n# Within the next 60 seconds:\r\n## *Plan Result > Actions > Stop Build* (Don't stop it from the dashboard. The behavior is different.)\r\n## Make another commit to the repository.\r\n# Within the next 60 seconds:\r\n#* *Plan Result > Actions > Remove this result* aka *deletePlanResults.action*\r\n\r\nh3. Expected Results\r\nChange detection thread for that build is interrupted and doesn't perform any more iterations of the quiet period checks.\r\n\r\nh3. Actual Results\r\nQuiet period checks for a second time after the build is stopped:\r\n{code}\r\n2017-08-22 13:30:52,307 INFO [5-DelayedChangeDetectionThread:pool-11-thread-27] [DefaultChangeDetectionManager] : Found one change for plan 'ART-QUIET', waiting 30 seconds to see if there are any more... (3 retries remaining)\r\n{code}\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file after quiet period checks for the nth time and plan result has been removed:\r\n{noformat}\r\n2017-08-22 13:34:59,972 ERROR [5-DelayedChangeDetectionThread:pool-11-thread-28] [ChainExecutionManagerImpl] Plan 'ART-QUIET' could not be started. Exception: Can't update a results summary (ART-QUIET-8) that doesn't exist.\r\ncom.atlassian.bamboo.resultsummary.ResultsSummaryCreationException: Can't update a results summary (ART-QUIET-8) that doesn't exist.\r\n\tat com.atlassian.bamboo.resultsummary.BuildResultsSummaryManagerImpl.updateResultSummaryWithBuildChanges(BuildResultsSummaryManagerImpl.java:443)\r\n\tat sun.reflect.GeneratedMethodAccessor1985.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.aopalliance.AuthorityOverrideMethodSecurityInterceptor.invoke(AuthorityOverrideMethodSecurityInterceptor.java:24)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n{noformat}\r\n \r\nh3. Notes\r\n* If the build is stopped from the dashboard the thread is interrupted:\r\n{noformat}\r\n2017-08-22 13:23:55,098 INFO [5-DelayedChangeDetectionThread:pool-11-thread-25] [DefaultChangeDetectionManager] Change collection interrupted. Not all changes may have been detected\r\njava.lang.InterruptedException: sleep interrupted\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.collectChangesAfterQuietPeriod(DefaultChangeDetectionManager.java:450)\r\n\tat com.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager.lambda$createBuildRepositoryChanges$0(DefaultChangeDetectionManager.java:360)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n{noformat}\r\nHowever a build will still be dispatched.\r\n\r\nh3.Workaround\r\nN/A",
      "summary": "Stopping a build from plan result UI doesn't interrupt quiet period"
    }
  },
  {
    "key": "BAM-18633",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-08-21T15:15:48.000+0000",
      "description": "h3. Summary\r\nBamboo doesn't start elastic instances automatically when deployments are in queue.\r\n\r\nh3. Environment\r\n- Bamboo 6.1\r\n- Elastic Configuration enabled.\r\n- To easy up testing, \"Aggressive\" management was selected\r\n !Screen Shot 2017-08-21 at 17.04.25.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n# Create testing (at least) 2 plans.\r\n# Create (at least) 2 deployment projects associated to each plan respectively.\r\n# Make sure all deployment project run for (at least) 5 minutes, to force the error according to this configuration.\r\n# Deploy all your projects.\r\n\r\nh3. Expected Results\r\nMultiple elastic instances should start, according to elastic settings.\r\n\r\nh3. Actual Results\r\n- Only one instance is started.\r\n- All other deployments will wait in queue until the first one finishes.\r\n- Once done, the next deployment in queue will be processed by the onyl elastic instance started.\r\n \r\nh3. Notes\r\n- No errors in logs.\r\n\r\nh3.Workaround\r\nOption 1\r\nStart instances manually.\r\n\r\nOption 2\r\nCreate separate image configurations to dedicate to your critical deployment environments. This ensures an agent is started every-time a deployment for that environment is queued but has the downside of not be as optimal at re-using existing resources that may be idle.",
      "summary": "Bamboo doesn't start elastic instances automatically when deployments are in queue."
    }
  },
  {
    "key": "BAM-18632",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:35.000+0000",
      "created": "2017-08-21T03:46:59.000+0000",
      "description": "h3. Problem Definition\r\nIt's possible to overload a Bamboo instance with change and branch detection requests to the point where requests are being queued faster than the server can action them. This can occur on large instances with many repositories with:\r\n# Repository polling triggers on a short interval\r\n# Global Branch detection on a short interval\r\n\r\nThis can result in builds or branches being triggered / created in a delayed fashion. This is challenging to diagnose so log indicators would be great.\r\n\r\nh3. Suggested Solution\r\n* Log WARN level messages / include healthchecks that alert when the change detection queue is growing faster than the server is actioning them. \r\n* Log WARN level messages if change detection processing is delayed past a certain threshhold. (e.g. if the age of a queued request is >5 minutes before it is actioned). \r\n* JMX MBean for monitoring change / branch detection queue size.\r\n* ATST healthcheck\r\n* Throttle requests if polling / branch detection isn't healthy \r\n ",
      "summary": "Add some logging when change (or branch) detection requests aren't being actioned in a timely fashion"
    }
  },
  {
    "key": "BAM-18631",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:32.000+0000",
      "created": "2017-08-18T19:14:47.000+0000",
      "description": "h3. Summary\r\n\r\nWhen starting an Elastic Agent from a custom AMI, the {{/dev/sdb}} drive is not mounted\r\n\r\nh3. Steps to Reproduce\r\n# Create an AMI which includes drive {{/dev/sdb}}\r\n# Add the image to Bamboo Elastic Agent configuration\r\n# Start the instance\r\n\r\nh3. Expected Results\r\n{{/dev/sdb}} will be included in the mounted drives.\r\n\r\nh3. Actual Results\r\n{{/dev/sdb}} is not mounted, but any other drives are.\r\n\r\nh3.Workaround\r\nDo not include {{/dev/sdb}} in the list of drive, start with {{/dev/sdc}}.\r\n\r\n{panel}The Block Devices from the affected AMIs\r\n{noformat:title=AMI-5-Disk (non-working)}\r\n/dev/sda1=snap-...:50:true:gp2\r\n/dev/sdb=snap-...:10:true:gp2\r\n/dev/sdc=snap-...:10:true:gp2\r\n/dev/sdd=snap-...:10:true:gp2\r\n/dev/sde=snap-...:10:true:gp2{noformat}\r\n\r\n{noformat:title=AMI-3-Disk (non-working)}\r\n/dev/sda1=snap-...:50:true:gp2\r\n/dev/sdb=snap-...:20:true:gp2\r\n/dev/sdc=snap-...:20:true:gp2{noformat}\r\n\r\nThe block device from a working AMI\r\n{noformat:title=AMI-4-Disk (working)}\r\n/dev/sda1=snap-...:50:true:gp2\r\n/dev/sdc=snap-...:15:true:gp2\r\n/dev/sdd=snap-...:15:true:gp2\r\n/dev/sde=snap-...:15:true:gp2{noformat}\r\n{panel}",
      "summary": "/dev/sdb Drive missing from Elastic Agent created from Bamboo"
    }
  },
  {
    "key": "BAM-18629",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-18T13:58:08.000+0000",
      "created": "2017-08-17T22:10:53.000+0000",
      "description": "h3. Problem\r\nApple SDK field description is wrong in Xcode task.\r\nField name can also be improved.\r\n\r\nThe field description is matching a description for the *capability label* not the *capability name*.\r\n\r\nPlease see attached picture for more details:\r\n!Server_capabilities_-_Atlassian_Bamboo_and_Support_-_IOS_-_Default_Job__Edit_job_configuration_-_Atlassian_Bamboo.png|thumbnail! \r\n\r\nh3.Workaround\r\nPlease use the *capability name* not the *capability label* in the *Apple SDK* field since this value will be used also to define the required capability for the job.",
      "summary": "Apple SDK field description is wrong in Xcode task"
    }
  },
  {
    "key": "BAM-18627",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:12.000+0000",
      "created": "2017-08-16T22:39:56.000+0000",
      "description": "In order to display wallboards in my company I select from two wallboard types, 'favorties' and 'filtered'\r\n\r\nBoth of these wallboards are based on personalized setups.\u00a0 What is really needed is to be able to create wallboards based on the more generic filtering concept within bamboo.\u00a0\u00a0\r\n\r\nI have created numerous filters in bamboo using regular expressions or tagging and of course was very disappointed that after creating these filters I had no way to use them as wallboards.\r\n\r\nI think this is a badly needed feature in bamboo\r\n\r\n\u00a0\r\n\r\nThank you\r\n\r\n\u00a0",
      "summary": "Generic Wallboards..."
    }
  },
  {
    "key": "BAM-18626",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:14.000+0000",
      "created": "2017-08-16T21:45:56.000+0000",
      "description": "h3. Problem Definition\r\nMoving Plans is currently limited to Administrators, inside the Administration menu. \r\n\r\nh3. Suggested Solution\r\nMove this feature to the Plan or Project level, available to users with Plan edit access and above.\r\n\r\nh3. Workaround\r\nThere is no workaround at this time. Plans will need to be moved by Bamboo Admins.",
      "summary": "Open Move Plan functionality to non-admin users "
    }
  },
  {
    "key": "BAM-18625",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-07T10:11:25.000+0000",
      "created": "2017-08-16T18:02:04.000+0000",
      "description": "h3. Summary\r\n\r\nBuild numbers are getting incremented even when the plans fail to get started/triggered. This causes confusion because on the next successful run of the plan we will have a completely unexpected build number. It will look like as if Bamboo jumped several builds for that plan with no explanation, but in the background Bamboo was incrementing the build number for each one of the unsuccessful attempts of triggering that plan.\r\n\r\nThe _actual_ reason for the failure might differ from case to case. This bug report was created to address the side-effect of the failure. In other words, prevent Bamboo from incrementing the build number for a plan that failed to get started.\r\n\r\nPlease note this is not about failed builds, but plans that failed to get started in the first place after the change detection process. There's no build result summary for this failure.\r\n\r\nThe following exception is observed each time Bamboo fails to start a plan:\r\n{noformat:title=<BAMBOO_INSTALL>/logs/catalina.out}\r\n2017-08-16 15:23:43,600 ERROR [10-BAM::PlanExec:pool-17-thread-1] [ChainExecutionManagerImpl] Plan 'PROJ-PLAN' could not be started.\r\n{noformat}\r\nh3. Steps to Reproduce\r\n\r\nTo illustrate the problem we will use the following example, but please note there might be multiple causes for the plan to fail to start.\r\n{panel:title=Important note|borderStyle=dashed|titleBGColor=#F7D6C1|bgColor=#FFFFCE}\r\nThe following scenario requires Bamboo and MySQL.\r\n{panel}\r\n # Create a new plan and set it up to checkout code from your repository.\r\n # Run a couple builds to make sure it's working fine and Bamboo is able to checkout code from your repository.\r\n # Set up your plan to use the *Repository Polling* strategy to automatically trigger a new build when there's code change. You can set the *Polling frequency* to 60 seconds in this example.\r\n # At this point you will have 2 build results for that Plan: build #1 and build #2.\r\n # Perform a couple of changes in the repository and add an emoji to the commit message before pushing the changes. We will use a sad face in this example (\ud83d\ude22). You must add an emoji to the commit message to reproduce the problem.\r\n\r\nh3. Expected Results\r\n\r\nIn this case Bamboo will fail to automatically start the plan after detecting the changes because the emoji is a 4-byte UTF-8 character and by default MySQL is configured to handle 3-byte characters only. This doesn't end up well and the following exception is thrown in the logs:\r\n{noformat:title=<BAMBOO_INSTALL>/logs/catalina.out}\r\n2017-08-16 15:23:43,435 INFO [10-BAM::PlanExec:pool-17-thread-1] [ChangeDetectionListenerAction] : Change detection found 2 changes for plan PROJ-PLAN\r\n2017-08-16 15:23:43,582 INFO [10-BAM::PlanExec:pool-17-thread-1] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n2017-08-16 15:23:43,582 WARN [10-BAM::PlanExec:pool-17-thread-1] [SqlExceptionHelper] SQL Error: 1366, SQLState: HY000\r\n2017-08-16 15:23:43,582 ERROR [10-BAM::PlanExec:pool-17-thread-1] [SqlExceptionHelper] Incorrect string value: '\\xF0\\x9F\\x98\\x80' for column 'COMMIT_COMMENT_CLOB' at row 1\r\n2017-08-16 15:23:43,582 ERROR [10-BAM::PlanExec:pool-17-thread-1] [BatchingBatch] HHH000315: Exception executing batch [could not execute batch]\r\n2017-08-16 15:23:43,583 ERROR [10-BAM::PlanExec:pool-17-thread-1] [SessionImpl] HHH000346: Error during managed flush [could not execute batch]\r\n2017-08-16 15:23:43,600 ERROR [10-BAM::PlanExec:pool-17-thread-1] [ChainExecutionManagerImpl] Plan 'PROJ-PLAN' could not be started. Exception: JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch\r\norg.springframework.orm.hibernate5.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch\r\n        at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:171)\r\n        at org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:739)\r\n        at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:588)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n        at sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        at com.sun.proxy.$Proxy64.commit(Unknown Source)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:484)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n        at com.atlassian.bamboo.author.AuthorCreatorServiceInterceptor.invoke(AuthorCreatorServiceInterceptor.java:40)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n        at com.sun.proxy.$Proxy219.create(Unknown Source)\r\n        at sun.reflect.GeneratedMethodAccessor1919.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        at com.sun.proxy.$Proxy216.create(Unknown Source)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.createNewChainState(ChainExecutionManagerImpl.java:524)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.lambda$start$0(ChainExecutionManagerImpl.java:223)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.tryStartChainState(ChainExecutionManagerImpl.java:314)\r\n        at com.atlassian.bamboo.chains.ChainExecutionManagerImpl.start(ChainExecutionManagerImpl.java:221)\r\n        at sun.reflect.GeneratedMethodAccessor1918.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t...\r\nCaused by: java.sql.BatchUpdateException: Incorrect string value: '\\xF0\\x9F\\x98\\x80' for column 'COMMIT_COMMENT_CLOB' at row 1\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\r\n        at com.mysql.jdbc.Util.getInstance(Util.java:387)\r\n        at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1154)\r\n        at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)\r\n        at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)\r\n        at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)\r\n        at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPreparedStatement.java:2544)\r\n        at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:110)\r\n        ... 94 more\r\nCaused by: java.sql.SQLException: Incorrect string value: '\\xF0\\x9F\\x98\\x80' for column 'COMMIT_COMMENT_CLOB' at row 1\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3878)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814)\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2478)\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2625)\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2551)\r\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)\r\n        at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)\r\n        at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)\r\n        ... 98 more\r\n2017-08-16 15:23:43,601 INFO [10-BAM::PlanExec:pool-17-thread-1] [DefaultErrorHandler] Recording an error: Plan 'PROJ-PLAN' could not be started. Exception: JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch : PROJ-PLAN : JDBC exception on Hibernate data access: SQLException for SQL [insert into USER_COMMIT (REPOSITORY_CHANGESET_ID, AUTHOR_ID, COMMIT_DATE, COMMIT_REVISION, COMMIT_COMMENT_CLOB, FOREIGN_COMMIT, COMMIT_ID) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [HY000]; error code [1366]; could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch\r\n{noformat}\r\nWe will not get into the details of the error message because that's not the point here. After waiting 5 minutes, looking at the {{BUILD_NUMBERS}} table, the {{NEXT_BUILD_NUMBER}} value for that plan should be *3* because we only triggered 2 builds after all. Even though Bamboo failed to start the plan after adding the emoji to the commit message, there's no indication in the GUI of a failed attempt to start that plan except for the error message. This means you will only see 2 results, from the 2 builds we triggered previously.\r\nh3. Actual Results\r\n\r\nDuring the 5 minutes we waited for the plan to start up, Bamboo ran change detection and failed to start that plan 5 times. The {{NEXT_BUILD_NUMBER}} value for that plan increased significantly and we now see {{NEXT_BUILD_NUMBER}} set to *8*. Bamboo increased that value after\u00a0each unsuccessful attempt. After fixing the problem (e.g. getting rid of the emoji) and triggering\u00a0a new build, Bamboo reports we just completed the eighth build for that plan even though we really only triggered 2 builds up to this point. So we are now at build #8 and there's no trace of builds #3 to #7 in the GUI or in the database.",
      "summary": "Build numbers get incremented even though plans fail to get started"
    }
  },
  {
    "key": "BAM-18624",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-22T13:43:49.000+0000",
      "created": "2017-08-16T13:34:41.000+0000",
      "description": "h3. Summary\r\n * Bamboo remote agent fails on staring up when without the Remote Agent Supervisor due to checksum mismatch\r\n\r\nh3. Environment\r\n * Bamboo v5.10.3\r\n * Bamboo v6.1.1\r\n\r\nh3. Steps to Reproduce\r\n # download JAR file ({color:#0000FF}bamboo-agent-5.10.3.jar{color}) from {color:#0000FF}Bamboo administration >> Overview >> Build resources >> Agents >> Install remote agent >> Running a remote agent >> Running the agents without the service wrapper{color}\r\n # run the following command:\r\n{noformat}\r\njava -Dbamboo.home=/opt/atlassian/bamboo/remote/ -jar ./bamboo-agent-5.10.3.jar http://localhost:8085/agentServer/\r\n{noformat}\r\n\r\nh3. Expected Results\r\n * Remote agent should start up\r\n\r\nh3. Actual Results\r\n\r\nThe log entries below are displayed when starting up the remote agent:\r\n{noformat}\r\n$ java -Dbamboo.home=/opt/atlassian/bamboo/remote/ -jar ./bamboo-agent-5.10.3.jar http://localhost:8085/agentServer/\r\n2017-08-16 10:28:02,735 INFO [main] [AgentBootstrap] Starting Agent Bootstrap using Java 1.8.0_73 from Oracle Corporation Default charset: UTF-8\r\n2017-08-16 10:28:02,736 INFO [main] [AgentBootstrap] Agent bootstrap using endpoint: http://localhost:8085/agentServer/\r\n2017-08-16 10:28:02,743 INFO [main] [RemoteAgentHomeLocatorForBootstrap] Using agent home located at [/opt/atlassian/bamboo/remote/]\r\n2017-08-16 10:28:02,743 INFO [main] [RemoteAgentHomeLocatorForBootstrap] Using agent home located at [/opt/atlassian/bamboo/remote/]\r\n2017-08-16 10:28:02,744 INFO [main] [AgentUuidInitializer] Found agent UUID '8928b03e-e648-48b1-a58e-2599fdcf756e' in temporary UUID file '/opt/atlassian/bamboo/remote/uuid-temp.properties'\r\n2017-08-16 10:28:02,756 INFO [main] [AgentContext] Requesting fingerprint, url: http://localhost:8085/agentServer/GetFingerprint.action?hostName=192.168.10.193&version=3&agentUuid=8928b03e-e648-48b1-a58e-2599fdcf756e\r\n2017-08-16 10:28:02,761 INFO [main] [RemoteAgentHttpClientFactory] Creating a new HTTP client...\r\n2017-08-16 10:28:03,182 WARN [main] [AgentContext] \r\n\r\n********************************************************************************\r\n*\r\n* This agent requires manual approval.\r\n* UUID: 8928b03e-e648-48b1-a58e-2599fdcf756e\r\n* Message from the server is:\r\n* Approve this agent at 'http://localhost:8085/admin/agent/viewAgents.action?focusUuid=8928b03e-e648-48b1-a58e-2599fdcf756e&selectedTab=Agent+authentication'. Check that the IP is correct. \r\n* Next authentication attempt in 60 seconds... \r\n*\r\n********************************************************************************\r\n\r\n2017-08-16 10:29:03,219 INFO [main] [AgentContext] Successfully authenticated with Bamboo server at http://localhost:8085/agentServer/\r\n2017-08-16 10:29:03,228 INFO [main] [BootstrapUpdater] Checking if bootstrap /opt/atlassian/bamboo/remote/bamboo-agent-5.10.3.jar is up to date, using url: http://localhost:8085/agentServer/GetJar?name=bootstrap-with-deps&checksum=2581523135&fingerprint=5358720935478727667\r\n2017-08-16 10:29:03,257 INFO [main] [BootstrapUpdater] New bootstrap is available, proceeding with update...\r\n2017-08-16 10:29:03,322 INFO [main] [BootstrapUpdater] Bootstrap has been downloaded, updating file...\r\n2017-08-16 10:29:03,329 INFO [main] [BootstrapUpdater] Bootstrap successfully updated.\r\n2017-08-16 10:29:03,329 INFO [main] [AgentContext] Important agent classes have been updated, the agent will now terminate to pick up the latest changes.\r\n{noformat}\r\nh3. Workaround\r\n\r\nIt is required to run the same command once again so Bamboo remote agent gets started:\r\n{noformat}\r\n$ java -Dbamboo.home=/opt/atlassian/bamboo/remote/ -jar ./bamboo-agent-5.10.3.jar http://localhost:8085/agentServer/\r\n2017-08-16 10:29:59,425 INFO [main] [AgentBootstrap] Starting Agent Bootstrap using Java 1.8.0_73 from Oracle Corporation Default charset: UTF-8\r\n2017-08-16 10:29:59,425 INFO [main] [AgentBootstrap] Agent bootstrap using endpoint: http://localhost:8085/agentServer/\r\n2017-08-16 10:29:59,432 INFO [main] [RemoteAgentHomeLocatorForBootstrap] Using agent home located at [/opt/atlassian/bamboo/remote/]\r\n2017-08-16 10:29:59,432 INFO [main] [RemoteAgentHomeLocatorForBootstrap] Using agent home located at [/opt/atlassian/bamboo/remote/]\r\n2017-08-16 10:29:59,433 INFO [main] [AgentUuidInitializer] Found agent UUID '8928b03e-e648-48b1-a58e-2599fdcf756e' in temporary UUID file '/opt/atlassian/bamboo/remote/uuid-temp.properties'\r\n2017-08-16 10:29:59,440 INFO [main] [AgentContext] Requesting fingerprint, url: http://localhost:8085/agentServer/GetFingerprint.action?hostName=192.168.10.193&version=3&agentUuid=8928b03e-e648-48b1-a58e-2599fdcf756e\r\n2017-08-16 10:29:59,444 INFO [main] [RemoteAgentHttpClientFactory] Creating a new HTTP client...\r\n2017-08-16 10:29:59,834 INFO [main] [AgentContext] Successfully authenticated with Bamboo server at http://localhost:8085/agentServer/\r\n2017-08-16 10:29:59,840 INFO [main] [BootstrapUpdater] Checking if bootstrap /opt/atlassian/bamboo/remote/bamboo-agent-5.10.3.jar is up to date, using url: http://localhost:8085/agentServer/GetJar?name=bootstrap-with-deps&checksum=4162786551&fingerprint=5358720935478727667\r\n2017-08-16 10:29:59,845 INFO [main] [BootstrapUpdater] Existing bootstrap is up to date.\r\n2017-08-16 10:29:59,845 INFO [main] [AgentContext] Bootstrap Type: [REMOTE], agent class: com.atlassian.bamboo.v2.build.agent.remote.RemoteAgent\r\n2017-08-16 10:29:59,845 INFO [main] [AgentContext] Preparing for a classloader switch\r\n2017-08-16 10:29:59,846 INFO [main] [RemoteAgentHomeLocatorForBootstrap] Using agent home located at [/opt/atlassian/bamboo/remote/]\r\n2017-08-16 10:29:59,848 INFO [main] [ClasspathBuilder] Syncing [/opt/atlassian/bamboo/remote/classpath] with http://localhost:8085/agentServer/classpath.zip?fingerprint=5358720935478727667\r\n2017-08-16 10:29:59,848 INFO [main] [ClasspathBuilder] 0 file(s) currently in [/opt/atlassian/bamboo/remote/classpath]\r\n2017-08-16 10:30:04,005 INFO [main] [BootstrapUtils] spool_classpath.zip: 2 MBs transferred\r\n...\r\n2017-08-16 10:30:07,755 INFO [AgentRunnerThread] [RemoteAgent] Starting Bamboo Remote Agent...\r\n2017-08-16 10:30:07,755 INFO [AgentRunnerThread] [RemoteAgent] Starting application context...\r\n...\r\n{noformat}",
      "summary": "Agent started without wrapper fails to start due to checksum mismatch"
    }
  },
  {
    "key": "BAM-18623",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:44.000+0000",
      "created": "2017-08-16T13:06:27.000+0000",
      "description": "\u00a0\r\n\r\nBamboo - Clearing down the\u00a0*System*\u00a0Error logs is not tracked as an event in the audit log displayed in the GUI\r\n\r\nFrom the Bamboo System Administration - System Errors page, the \"Clear all logs\" button can be pressed to clear the errors logs.\r\n\r\n!image-2017-08-16-14-01-31-374.png!\r\n\r\n\u00a0\r\n\r\nBut there are no human readable entries in the audit log left for this event, I believe this would be a useful event to capture in the audit log.\r\n\r\nInterestingly server side logs capture this event in the form of logging the raw REST API calls that take place behind the scenes, where a\u00a0\"POST /bamboo/removeAllErrorsFromLog.action?returnUrl=%2Fadmin%2FsystemErrors.action HTTP/1.1\" call can be seen in the logs corresponding to the event.\r\n\r\nHowever this is not as user friendly as a human readable entry would be in the System audit log.\r\n\r\nThis was observed with Bamboo server version 5.15.3 build 51515 -\u00a009 Mar 17\r\n\r\n\u00a0",
      "summary": "As a System Administrator I would like an audit log entry to be produced whenever the \"Clear all logs\" button is pressed on the System Errors administration page"
    }
  },
  {
    "key": "BAM-18622",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-16T13:23:59.000+0000",
      "created": "2017-08-16T06:01:46.000+0000",
      "description": "We received external report \r\n{quote}\r\nI found that the job artifact doesn't have any protection for the file to download.If the repo contain some kinds of file like HTML files.I can create a copy pattern */.html that will copy all html files to a certain location that can be rendered by browser directly and lead to XSS.\r\n\r\nHere is the PoC steps:\r\n\r\nLink any repo that have html files to a build plan;\r\nCreate a job in the plan and configure an Artifacts for this job.Input */.html in the copy pattern;\r\nRun the plan and check the Shared artifacts,it have a url that will lead to your html file.\r\n{quote}",
      "summary": "Potential XSS via HTML render at the artifacts tab of build result"
    }
  },
  {
    "key": "BAM-18621",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-08-15T12:33:30.000+0000",
      "description": "Raising from a [community post|https://community.atlassian.com/t5/Bamboo-questions/Sql-query-behind-quot-Global-expiry-quot-job/qaq-p/622432]:\r\n\r\nh3. Problem Definition\u00a0\r\n\r\nCurrently, when we click \"Run Now\" under Expiry settings in Global expiry configuration, Bamboo deletes all the expired data using the global and plan override expiry configuration. There is no way to preview what is going to be deleted. \r\n\r\nh3. Suggested Solution\u00a0\r\n\r\nIt would be\u00a0great if there is a Preview button like Dry run that, when clicked, lists the list of artifacts that are eligible to get deleted when we click *Run now*\r\n\r\nh3. Workaround\r\n\r\nFor now, the only way to find the current list of\u00a0build and deployment artifacts that are eligible to get deleted can be found by running a database query.\r\n\r\n\u00a0",
      "summary": "Preview option before we run Global expiry job manually"
    }
  },
  {
    "key": "BAM-18620",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-26T10:00:34.000+0000",
      "created": "2017-08-15T08:27:03.000+0000",
      "description": "In addition to our actual CI builds that run tests on a branch, we have several jobs that run various tasks unrelated to the CI (from the same git repository).\r\n\r\nWhen looking at the build status in BitBucket, we see\u00a0these jobs reported even though they aren't really related to the health of a branch. This make the build-status feature in Bitbucket unusable.\r\n\r\nWe'd like to have some check box that controls whether a job reports it's status to Bitbucket or not.",
      "summary": "Support disabling of notifications of build status to bitbucket for SPECIFIC plans/jobs"
    }
  },
  {
    "key": "BAM-18619",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-18T09:36:10.000+0000",
      "created": "2017-08-14T18:26:51.000+0000",
      "description": "h3. Problem Definition\r\nAs an admin I want to be able to easily remove a user or group from plan/project permissions in batch\r\n\r\nh3. Suggested Solution\r\nImplement a bulk remove permission to feature, similar to the bulk add already existing\r\n\r\nh3. Workaround\r\nRemove the permissions manually from the database:\r\n# Stop Bamboo\r\n# Remove the entries returned by:\r\n{code:sql}\r\nSELECT * FROM ACL_ENTRY WHERE SID LIKE 'user';{code}\r\n# Start Bamboo",
      "summary": "Add bulk remove user or groups permissions"
    }
  },
  {
    "key": "BAM-18618",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-15T11:49:32.000+0000",
      "created": "2017-08-14T18:16:50.000+0000",
      "description": "h3. Problem Definition\r\nBamboo adding \".jpg\" to end of URL for Gravatar URLs.\r\n\r\nh3. Suggested Solution\r\n* Remove functionality adding \".jpg\" to Gravatar URLs\r\n* Allow a custom URL syntax with variables for the users md5 hash\r\n \r\nh3. Workaround\r\nNo workaround\r\n",
      "summary": "Stop Bamboo from appending Gravatar URLs with \".jpg\""
    }
  },
  {
    "key": "BAM-18617",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-30T11:21:01.000+0000",
      "created": "2017-08-14T15:16:56.000+0000",
      "description": "Custom elastic image paths for elastic agent binaries hosted on maven.atlassian.com are no longer valid and need to be updated in the below documentation:\r\n* https://confluence.atlassian.com/bamboo/creating-a-custom-elastic-image-289277146.html\r\n* https://confluence.atlassian.com/bamboo/viewing-the-list-of-bamboo-stock-images-789086495.html\r\n\r\nOld paths:\r\n* https://maven.atlassian.com/content/repositories/atlassian-public/com/atlassian/bamboo/atlassian-bamboo/\r\n* https://maven.atlassian.com/content/repositories/atlassian-public/com/atlassian/bamboo/atlassian-bamboo-elastic-image/ \r\n\r\nNew paths:\r\n* https://packages.atlassian.com/maven/repository/public/com/atlassian/bamboo/atlassian-bamboo/\r\n* https://packages.atlassian.com/maven/repository/public/com/atlassian/bamboo/atlassian-bamboo-elastic-image/\r\n",
      "summary": "Custom elastic image paths for elastic agent binaries are no longer valid (404 error)"
    }
  },
  {
    "key": "BAM-18614",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-11T14:09:47.000+0000",
      "created": "2017-08-10T09:27:18.000+0000",
      "description": null,
      "summary": "Plan audit log page loads all records resulting in OOM"
    }
  },
  {
    "key": "BAM-18613",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-14T13:26:23.000+0000",
      "created": "2017-08-09T18:13:39.000+0000",
      "description": "Bamboo requires you to use an email for a docker push command. This causes problems with the latest version of docker (17.06.0-ce, build 02c1d87). Docker no longer requires an email address while issuing docker login.\r\n\r\n*Notice the \u2013e email@domain.com.*\u00a0\r\nExample Current: {{/usr/bin/docker login -u AWS -p ******* -e email@domain.com XXXXXXXXXXXXXXXX.amazonaws.com}}\r\n{noformat}\r\nunknown shorthand flag: 'e' in -e\r\nSee 'docker login --help'.{noformat}\r\n*Example working command:*\r\n {{/usr/bin/docker login -u AWS -p ******* XXXXXXXXXXXXXXXX.amazonaws.com}}\r\n\r\nBamboo requires the use of email in order to perform a push command.\r\n\r\n*Docker\u00a017.06.0-ce\u00a0release notes:*\r\n\r\n[https://docs.docker.com/release-notes/docker-ce/#17060-ce-2017-06-28]\r\n\r\n[https://github.com/docker/cli/pull/143]",
      "summary": "Docker Task:  -e required for docker push command"
    }
  },
  {
    "key": "BAM-18611",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-20T14:00:00.000+0000",
      "created": "2017-08-09T08:19:49.000+0000",
      "description": "h3. Summary\r\n\r\nIt would be of enormous help for he Support Team to have the Base URL included in the support zip. Ideally in the output file application.xml.\r\n\r\nh3. Reason\r\n\r\nMany tickets (the vast majority) need this information to proceed, so we need to ask for the file administration.xml separately.\r\n",
      "summary": "Include BaseURL in Support zip"
    }
  },
  {
    "key": "BAM-18610",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:49.000+0000",
      "created": "2017-08-08T20:13:58.000+0000",
      "description": "h3. Problem Definition\r\nIf Bamboo is configured to use Integrated Security with MSSQL and no default schema is set, the schema will be set to the user's ID. For example, if I had a domain account {{MYDOMAIN\\myuser}}, that value would be used when creating the Bamboo database. This is especially an issue during upgrades and was reported on upgrade from Bamboo version 6.0.3 to 6.1.0.\r\n\r\nh3. Suggested Solution\r\nCould we please update the documentation to request that customers add the following parameter to {{<bamboo-home>\\bamboo.cfg.xml}}:\r\n{code:xml}<property name=\"hibernate.default_schema\">dbo</property>{code}\r\n \r\nh3. Workaround\r\nIf this issue is encountered, please:\r\n# Stop Bamboo\r\n# Roll back the most recent upgrade attempt where these tables would have been created\r\n# Check your database to be sure that no unneeded schemas exist\r\n# Add the following parameter to {{<bamboo-home>\\bamboo.cfg.xml}}:\r\n{code:xml}<property name=\"hibernate.default_schema\">dbo</property>{code}\r\n# Start Bamboo and let the upgrade run",
      "summary": "Update MSSQL documentation"
    }
  }
]