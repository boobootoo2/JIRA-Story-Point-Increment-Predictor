[
  {
    "key": "BAM-21494",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-16T17:50:49.000+0000",
      "description": "h2. Description\r\n\r\nWhen clicking on the \"1. Download Bamboo\" link on the documentation [Running Bamboo as a Windows service as the local user|https://confluence.atlassian.com/bamboo/running-bamboo-as-a-windows-service-as-the-local-user-416580754.html] it opens with a 404-page error.\r\nh2. Solution\r\n\r\nUpdate the URL link/hyperlink for the Download Bamboo to [https://www.atlassian.com/software/bamboo/download]",
      "summary": "Update the URL on the Running Bamboo as a Windows service as the local user "
    }
  },
  {
    "key": "BAM-21493",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-15T13:31:27.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe [Project-level build resources|https://confluence.atlassian.com/bamboo/project-level-build-resources-1071825278.html] page has no warning about the availability of the project-level shared credentials feature leading to believe that the feature is generally available in Bamboo 8:\r\n{quote}Credentials shared at the project level allow more granular distribution of work and responsibilities over projects. Starting from version 8.0, Bamboo uses project-level shared credentials which are visible only for plans from the same project. These credentials are not available for any plans outside of the project. Any user with project admin permissions can manage shared credentials.\r\n{quote}\r\nThis feature is *only* available to customers that upgrade to Bamboo 8 on a *Data Center* license as seen on the [Bamboo Server and Data Center feature comparison|https://confluence.atlassian.com/bamboo/bamboo-server-and-data-center-feature-comparison-1063170546.html] page.\r\nh3. Suggested Solution\r\n\r\nAdd a warning to the page to inform users that this is not available to Bamboo *Server* only Bamboo {*}Data Center{*}.",
      "summary": "Project-level build resources lacks warning about feature availability"
    }
  },
  {
    "key": "BAM-21492",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-15T12:41:23.000+0000",
      "description": "Since Bamboo 8.0 Clover integration will fail build execution if enabled and xml file with coverage information is not found. This behaviour was introduced during fix of BAM-21327\r\n\r\nDocumentation should mention that since Bamboo 8.0 build will fail if xml file is not found. To avoid it Clover integration should be disabled for Jobs which don't generate it",
      "summary": "Update Clover integration documentation and KBs"
    }
  },
  {
    "key": "BAM-21491",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-12T14:34:02.000+0000",
      "description": "h3. Description\r\n\r\nOn the [Using Webhooks|https://confluence.atlassian.com/bamboo/using-webhooks-1018270680.html] documentation *version\u00a08.0* where it says *{{Configuring notifications for a plan and its jobs v7.1.}}* is pointing to the same page [Using Webhooks|https://confluence.atlassian.com/bamboo/using-webhooks-1018270680.html] and not the [Configuring notifications for a plan and its jobs|https://confluence.atlassian.com/bamboo0701/configuring-notifications-for-a-plan-and-its-jobs-1031177574.html] page.\r\nh3. Solution\r\n\r\nChange the URL of the *{{Configuring notifications for a plan and its jobs v7.1.to}}* the [Configuring notifications for a plan and its jobs|https://confluence.atlassian.com/bamboo0701/configuring-notifications-for-a-plan-and-its-jobs-1031177574.html] page.",
      "summary": "Update the URL on the Using webhooks documentation"
    }
  },
  {
    "key": "BAM-21490",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-12T11:21:51.000+0000",
      "description": "h3. Problem\r\n\r\nAccording to the [Using webhooks|https://confluence.atlassian.com/bamboo/using-webhooks-1018270680.html] page Webhook templates can be customized to use variables listed inside the [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] page.\r\n\r\nI'll use one variable that is not working properly as an example *but* the problem is not restricted to this single variable: *buildNumber*. It may be affecting other variables. Here's a table demonstrating where this variable works and where it errors out with _\"Variable not found\"_:\r\n\r\nh4. Plans\r\n||Event||Does it work?||\r\n|All Builds Completed|(/)|\r\n|Change of Build Status|(/)|\r\n|Failed Builds And First Successful|(/)|\r\n|After X Build Failures|(/)|\r\n|Comment Added|(x)|\r\n|Change of Responsibilities|(x)|\r\n\r\nh4. Jobs\r\n||Event||Does it work?||\r\n|All Jobs Completed|(x)|\r\n|Change of Job Status|(x)|\r\n|Failed Jobs And First Successful|(x)|\r\n|First Failed Job For Plan|(x)|\r\n|Job Error|(x)|\r\n|Job Hung|(x)|\r\n|Job Queue Timeout|(x)|\r\n|Job Queued Without Capable Agents|(/)|\r\n\r\nh3. Environment\r\n\r\n* Bamboo 8.0.4\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Add the *buildNumber* variable to the existing (default) *Build webhook* template:\r\n{noformat}\r\n{\r\n  \"uuid\": \"${bamboo.webhook.uuid}\",\r\n  \"timestamp\": \"${bamboo.webhook.timestamp}\",\r\n  \"notification\": \"${bamboo.webhook.notification.description}\",\r\n  \"webhook\": {\r\n    \"webhookTemplatedId\": \"${bamboo.webhook.template.id}\",\r\n    \"webhookTemplatedName\": \"${bamboo.webhook.template.name}\"\r\n  },\r\n  \"build\": {\r\n    \"buildResultKey\": \"${bamboo.buildResultKey}\",\r\n    \"status\": \"${bamboo.buildState}\",\r\n    \"buildPlanName\": \"${bamboo.buildPlanName}\",\r\n    \"buildNumber\": \"${bamboo.buildNumber}\",\r\n    \"startedAt\": \"${bamboo.date.started}\",\r\n    \"finishedAt\": \"${bamboo.date.finished}\",\r\n    \"triggerReason\": \"${bamboo.trigger.reason}\",\r\n    \"triggerSentence\": \"${bamboo.trigger.name.for.sentence}\"\r\n  }\r\n}\r\n{noformat}\r\n# Go to your plan and set up a Webhook notification for one of the events listed above that are not (x) working:\r\n!Screenshot 2021-11-11 at 14.29.34.png|thumbnail!\r\n# Reproduce the action described in the event.\r\n\r\nh3. Expected Results\r\n\r\nNotification are sent.\r\n\r\nh3. Actual Results\r\n\r\nNotification fails with the following error message inside the <bamboo-home>/logs/atlassian-bamboo.log file:\r\n\r\n{noformat:title=atlassian-bamboo.log}\r\n2021-11-12 11:10:29,689 ERROR [12-NotificationDispatcher-:pool-19-thread-16] [WebhookTransport] [Webhook id=458753, name=Build webhook, uuid=88607363-4c08-4059-ade9-5c3925daa967] Variable not found: buildNumber\r\ncom.atlassian.bamboo.notification.transports.webhook.VariableNotFoundException: Variable not found buildNumber\r\n\tat com.atlassian.bamboo.notification.transports.webhook.VariableSubstitutorDecorator.substituteString(VariableSubstitutorDecorator.java:24)\r\n\tat com.atlassian.bamboo.notification.transports.webhook.WebhookTransport.sendNotification(WebhookTransport.java:68)\r\n\tat com.atlassian.bamboo.notification.NotificationDispatcherImpl.lambda$null$0(NotificationDispatcherImpl.java:70)\r\n\tat org.hibernate.jdbc.WorkExecutor.executeWork(WorkExecutor.java:37)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.lambda$doWork$1(AbstractSharedSessionContract.java:1074)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:307)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.doWork(AbstractSharedSessionContract.java:1090)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.doWork(AbstractSharedSessionContract.java:1077)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate$2.doInHibernate(BambooTransactionHibernateTemplate.java:47)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:367)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:334)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate$1.doInTransaction(BambooTransactionHibernateTemplate.java:36)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:28)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:33)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.doWork(BambooTransactionHibernateTemplate.java:43)\r\n\tat com.atlassian.bamboo.notification.NotificationDispatcherImpl.lambda$dispatchNotifications$1(NotificationDispatcherImpl.java:70)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nN/A\r\n\r\nh3. Notes\r\n",
      "summary": "Bamboo variables are not consistently accessible across all notification types (Webhooks)"
    }
  },
  {
    "key": "BAM-21489",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-08T14:43:36.000+0000",
      "created": "2021-11-11T22:42:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nRemote directory synchronisation will not be performed when Bamboo Server is restarted if Bamboo was previously shutdown during directory synchronisation\r\nh3. Steps to Reproduce\r\n # Start remote directory synchronisation (preferably with a larger directory so that sync takes some time)\r\n # While Bamboo is still synchronising this directory shut down Bamboo instance\r\n # Start Bamboo server again\r\n\r\nh3. Expected Results\r\n\r\nThe synchronisation is started as usual and is applying changes to users and groups from the remote directory. After synchronisation is complete sync information is updated on the directory list\r\nh3. Actual Results\r\n\r\nSynchronisation job is scheduled but the actual synchronisation is not performed. Synchronisation status located in directory list UI is not updated and it displays information about pending sync which is wrong.\r\nh3. Workaround\r\n\r\nIn order to workaround this issue admin needs to update cluster lock in the database before Bamboo Server is started:\r\n{code:java}\r\nupdate cluster_lock set node_id = null where lock_name like 'com.atlassian.crowd.embedded.api.Directory:%' and node_id is not null {code}\r\n\u00a0\r\n\r\nAfter that Bamboo will be able to acquire lock for the directory and perform the synchronisation.\r\n\r\nNote that this issue affects mostly Server installations. However, in DC setup problem may be observed as well if the same node will keep on running synch job.",
      "summary": "Remote directory synchronisation will not be performed when Bamboo Server is restarted if Bamboo was previously shutdown during directory synchronisation"
    }
  },
  {
    "key": "BAM-21488",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-11T20:02:10.000+0000",
      "description": "h4. Problem definition\r\n\r\nWithin the Java Specs code, when specifying the project name in the repository, for Bitbucket it does not matter if it is upper or lower case since Bitbucket is not case-sensitive. But it will cause an error in Bamboo once it receives the event from Bitbucket, because Bamboo will look for the repository in lower case, while Bitbucket sent the event upper case.\r\nh4. Suggested resolution\r\n\r\nWhen Bamboo receives the event from Bitbucket Server, have the project name in the repository set to lower case.",
      "summary": "Convert project name in the repository from Bitbucket to lower case in Bamboo"
    }
  },
  {
    "key": "BAM-21487",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-11T15:57:22.000+0000",
      "description": "Greetings Atlassian Bamboo team,\r\n\r\nwe would like to request new feature in Bamboo regarding agent assignment in plans.\r\nWe would love to have an option that allows assigning an agent to job which would be the *SAME* agent as from other job that has been already executed. For example:\r\n\r\n\r\n\r\nSTAGE1\r\n\u00a0 \u00a0 JOB1 \u2014\u2014 *agent1* was chosen for this job from the pool automatically\u00a0\r\n\u00a0 \u00a0 JOB2 \u2014\u2014 *agent2* was chosen for this job from the pool automatically\r\n\r\nSTAGE2\r\n\u00a0 \u00a0 JOB1 \u2014\u2014 Manually specify that we want to use the same agent from STAGE1/JOB1 - that is *agent1*\r\n\r\n\u00a0\r\n\r\nWe are, of course, aware of the option - putting all the stuff we need to execute on same agent through one JOB via tasks BUT this can be confusing at the high-level view. In the running build for example we can see *only* stages and jobs but not tasks.\r\n\r\nWe want to logically separate the plan to several stages and jobs so it looks nice and clean and understandable but it is hard to achieve since we do not have the option we request.\r\n\r\nWe now simply can not guarantee that JOB1 from STAGE1 will run on the *same* agent as JOB2 from STAGE2 (since the agents are chosen automatically from available pool) which is what we want.\r\n\r\nOr maybe is there any other way to do this?\r\n\r\nThanks for considering this!",
      "summary": "Assign an agent to job which would be the SAME agent as from other job that has been already executed"
    }
  },
  {
    "key": "BAM-21486",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:39:03.000+0000",
      "created": "2021-11-11T10:59:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDeleted repositories are still shown on \"Bamboo Specs\" section\r\n\r\nh3. Steps to Reproduce\r\n# Create a repository. Let's call it RepoA\r\n# Create a second repository. Let's call it repoB.\r\n# RepoB is configured to use Bamboo Specs and also configured to be accessed by RepoA as Specs\r\n(In RepoB, tab \"Bamboo Specs\", section \"Linked repositories\", RepoA will be displayed)\r\n# Delete RepoA (if the repository is still being references in some way, like a build result, RepoA will still exist in the DB)\r\n\r\nh3. Expected Results\r\n\r\nIn the section \"Bamboo Specs\" for RepoB, RepoA will no longer be displayed. \r\n\r\nh3. Actual Results\r\n\r\nRepoA is present\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Deleted repositories are still shown on \"Bamboo Specs\" section"
    }
  },
  {
    "key": "BAM-21484",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-10T14:33:50.000+0000",
      "description": "*Description*\r\n\r\nWith a huge number of linked repositories, it is hard to find the linked repository created. It would be convenient to have pagination and have a search bar to easily navigate through these repositories.",
      "summary": "Pagination and Search option on Linked Repository page"
    }
  },
  {
    "key": "BAM-21483",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-09T14:42:14.000+0000",
      "description": "Currently the following pages states it only works or integrates with Bitbucket Server.  We need to change all mentions of Bitbucket the text to Bitbucket Data Center.\r\n* [Working with branch divergence|https://confluence.atlassian.com/bamboo/working-with-branch-divergence-994314811.html]\r\n* [Integrating Bamboo with Bitbucket Server|https://confluence.atlassian.com/bamboo/integrating-bamboo-with-bitbucket-server-779302772.html]\r\n* [Bitbucket Server|https://confluence.atlassian.com/bamboo/bitbucket-server-779302738.html]\r\n* [Linking to source code repositories|https://confluence.atlassian.com/bamboo/linking-to-source-code-repositories-671089223.html]",
      "summary": "several pages need to change to integrate with Bitbucket Data Center"
    }
  },
  {
    "key": "BAM-21482",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-04T16:30:00.000+0000",
      "description": "The [*Bamboo Permission*|https://confluence.atlassian.com/bamboo/bamboo-permissions-369296034.html]\u00a0pages mention the \"*Restricted Amin*\" permission, but this isn't enabled by default.\u00a0\r\n\r\nI recently created a KB article on how to enable the \"Restricted Admin\" if customers don't see it as an option under \"Global Permissions\"\r\n * [How to enable the Restricted Admin permission|https://confluence.atlassian.com/bamkb/how-to-enable-the-restricted-admin-permission-1086397615.html]\r\n\r\nMy suggestion is that we add a reference to the article on the Bamboo Permission pages, so that customers know how to enable it in case they don't see this option under \"Global Permissions\".\r\n\r\nThis is the Section that mentions the Restricted Admin permission:\r\n{quote} * *Restricted admin*\u00a0- perform some administration operations and view all plans in Bamboo; this role excludes\u00a0permissions that directly influence the host on which the Bamboo Server is located, however, all plan administration and agent administration is available to restricted admins.{quote}\r\nMaybe we can also convert the KB into an official documentation page?",
      "summary": "Documentation improvement"
    }
  },
  {
    "key": "BAM-21481",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-03T15:11:40.000+0000",
      "description": "h4. Problem definition\r\n\r\nA user with *Build* permissions can enable or disable a plan from the Plan Summary page and a Plan Branch even if the user with *Admin* permission has enabled or disabled the plan.\r\nh4. Suggested resolution\r\n\r\nAllow only users with *Admin*\u00a0permission on a Plan and Project level to have the ability to enable/disable a plan.",
      "summary": "Users with Build permissions should not be able to enable/disable Plans"
    }
  },
  {
    "key": "BAM-21480",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-03T10:49:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe document https://confluence.atlassian.com/bamboo/locating-important-directories-and-files-289277247.html still points to the old directory structure\r\n\r\nh3. Steps to Reproduce\r\nN/A\r\n\r\nh3. Expected Results\r\n\r\nThe correct directory and file structure for 8.0 is shown in the documentation\r\n\r\nh3. Actual Results\r\n\r\nThe docs still points to the old directory structure\r\n\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Update the \"Locating important directories and files\" document to reflect the Bamboo 8.0 changes"
    }
  },
  {
    "key": "BAM-21479",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-02T23:08:19.000+0000",
      "created": "2021-11-02T23:00:07.000+0000",
      "description": "Researchers at the University of Cambridge reported a vulnerability affecting Bamboo where special characters, known as Unicode bidirectional override characters, are not rendered or displayed in the affected applications. These special characters are typically not displayed by the browser or code editors but can affect the meaning of the source code when it is processed by a compiler or an interpreter. The issue is now fixed.\r\n\r\n*Affected versions:*\r\n * All versions before 8.0.4\r\n\r\n*Fixed versions:*\r\n * 8.0.4\r\n\r\n*More information:*\r\n * [Multiple Products Security Advisory - Unrendered unicode bidirectional override characters - CVE-2021-42574|https://confluence.atlassian.com/security/multiple-products-security-advisory-unrendered-unicode-bidirectional-override-characters-cve-2021-42574-1086419475.html]",
      "summary": "Unicode characters allow malicious code to be hidden from a human reviewer (Bamboo) - CVE-2021-42574"
    }
  },
  {
    "key": "BAM-21478",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-02T13:36:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAdding Spanish (Latin America) to chrome causes 500 exception\r\n\r\nh3. Steps to Reproduce\r\n # Add Spanish (Latin America) to chrome.\r\n # Access build page.\r\n # Note exception.\r\n\r\nh3. Expected Results\r\n\r\nNo opp.  This setting should not cause any logs.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2021-11-02 13:30:47,325 ERROR [http-nio-8085-exec-21] [ContainerResponse] Mapped exception to response: 500 (Internal Server Error)\r\njavax.ws.rs.WebApplicationException: java.text.ParseException: String, es-419, is not a valid language tag\r\n\tat com.sun.jersey.server.impl.model.HttpHelper.clientError(HttpHelper.java:273)\r\n\tat com.sun.jersey.server.impl.model.HttpHelper.getAcceptLanguage(HttpHelper.java:228)\r\n\tat com.sun.jersey.server.impl.VariantSelector.selectVariant(VariantSelector.java:290)\r\n\tat com.sun.jersey.spi.container.ContainerRequest.selectVariant(ContainerRequest.java:696)\r\n\tat com.sun.jersey.spi.container.AdaptingContainerRequest.selectVariant(AdaptingContainerRequest.java:286)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl$2.invoke(WebApplicationImpl.java:301)\r\n\tat com.sun.proxy.$Proxy1768.selectVariant(Unknown Source)\r\n\tat com.atlassian.bamboo.rest.common.utils.BambooRestUtils.getResponseMediaType(BambooRestUtils.java:51)\r\n\tat com.atlassian.bamboo.rest.common.exception.AbstractExceptionMapper.getMediaType(AbstractExceptionMapper.java:19)\r\n\tat com.atlassian.bamboo.plugins.rest.common.exception.NotFoundExceptionMapper.toResponse(NotFoundExceptionMapper.java:17)\r\n\tat com.atlassian.bamboo.plugins.rest.common.exception.NotFoundExceptionMapper.toResponse(NotFoundExceptionMapper.java:13)\r\n\tat com.sun.jersey.spi.container.ContainerResponse.mapException(ContainerResponse.java:480)\r\n\tat com.sun.jersey.spi.container.ContainerResponse.mapMappableContainerException(ContainerResponse.java:417)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1477)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:558)\r\n\tat com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:162)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:829)\r\n\tat com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:72)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:23)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:35)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:80)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.NewRelicTransactionNamingFilter.doFilter(NewRelicTransactionNamingFilter.java:30)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.handleRequest(StrutsPrepareFilter.java:49)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:38)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.BambooProfilingFilter.doFilter(BambooProfilingFilter.java:72)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.bamboo.filter.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:61)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:89)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\r\n\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter$1.run(SeraphLoginFilter.java:71)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runAs(ImpersonationHelper.java:54)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:76)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\r\n\tat org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\r\n\tat com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:21)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:59)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:242)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:36)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat com.atlassian.seraph.filter.AccessTokenLoginFilter.doFilter(AccessTokenLoginFilter.java:50)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:38)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\r\n\tat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:24)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:40)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.ClickjackingAndMimeTypeSniffingPreventionFilter.doFilter(ClickjackingAndMimeTypeSniffingPreventionFilter.java:36)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:49)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:37)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.text.ParseException: String, es-419, is not a valid language tag\r\n\tat com.sun.jersey.core.header.LanguageTag.parse(LanguageTag.java:122)\r\n\tat com.sun.jersey.core.header.AcceptableLanguageTag.<init>(AcceptableLanguageTag.java:69)\r\n\tat com.sun.jersey.core.header.reader.HttpHeaderReader$8.create(HttpHeaderReader.java:434)\r\n\tat com.sun.jersey.core.header.reader.HttpHeaderReader$8.create(HttpHeaderReader.java:432)\r\n\tat com.sun.jersey.core.header.reader.HttpHeaderReader.readList(HttpHeaderReader.java:481)\r\n\tat com.sun.jersey.core.header.reader.HttpHeaderReader.readList(HttpHeaderReader.java:473)\r\n\tat com.sun.jersey.core.header.reader.HttpHeaderReader.readAcceptableList(HttpHeaderReader.java:452)\r\n\tat com.sun.jersey.core.header.reader.HttpHeaderReader.readAcceptLanguage(HttpHeaderReader.java:439)\r\n\tat com.sun.jersey.server.impl.model.HttpHelper.getAcceptLanguage(HttpHelper.java:226)\r\n\t... 214 more\r\n{noformat} \r\n\r\nh3. Workaround\r\n\r\nRemove Spanish (Latin America) as language option in chrome.",
      "summary": "Adding Spanish (Latin America) to chrome causes 500 exception"
    }
  },
  {
    "key": "BAM-21477",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-11-02T13:21:13.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen adding a linked repository in Bamboo from Bitbucket, Bamboo should \"Enable LFS support\" if Bitbucket Data Center or Bitbucket Cloud repository has \"Allow LFS\" checked.\r\n\r\nWhen adding the repository now, admin have to go check this setting to make sure it matches Bitbucket.  It is more likely that the build will need git LFS objects than requiring an admin to turn this setting off.\r\n\r\nh3. Workaround\r\n\r\nCurrently, an admin must know if the repository has git LFS turned on before adding the repository.  Then turn on the feature for the [linked repository|https://confluence.atlassian.com/bamboo/linking-to-source-code-repositories-671089223.html#Linkingtosourcecoderepositories-linked] manually. ",
      "summary": "linked repository should enable lfs support when Bitbucket has git lfs enabled"
    }
  },
  {
    "key": "BAM-21476",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-08T14:43:37.000+0000",
      "created": "2021-11-02T12:15:31.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf you have test case names on your test report that exceeds 4000 characters, Bamboo will create a duplicate of the test case in the database everytime the plan runs\r\n\r\nh3. Steps to Reproduce\r\n # Generate tests that contain test case names that exceed 4000 characters\r\n # Run the plan\r\n\r\nh3. Expected Results\r\n\r\nThere are no duplicate entries for the same test case name created in the database\r\n\r\nh3. Actual Results\r\n\r\nBamboo adds a duplicate entry on the database for all tests that exceed 4000 characters when the build runs. This can also affect the performance of the Bamboo instance when processing build results. Note that these duplicate test cases entries are not visible in the UI.\r\n\r\nh3. Workaround\r\n\r\nModify your test case names so that they don't exceed 4000 characters",
      "summary": "Test cases are duplicated in the database if test case name exceeds 4000 characters"
    }
  },
  {
    "key": "BAM-21475",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-08T14:43:38.000+0000",
      "created": "2021-11-01T04:52:30.000+0000",
      "description": "h3. Issue Summary\r\nBamboo Cluster Node Heartbeat check throws java.lang.IllegalStateException when Bamboo shutdown process did not completely and are two Bamboo instances running.\r\nh3. Steps to Reproduce\r\n # Start Bamboo wait for logs to show \"[QuartzScheduler] Scheduler atlassian-scheduler-quartz2.local_$_NON_CLUSTERED started.\"\r\n#  Issue the Stop Bamboo command and start immediately.\r\n#  Check whether you have two Bamboo processing running\r\n# After a few seconds you will see the exception in the logs repeating every 30 seconds\r\n\r\nh3. Expected Results\r\nThere should be no errors.\r\nstop-bamboo.sh script should check the process is stopped before ending.\r\n\r\n\r\nh3. Actual Results\r\n\r\n{code:java}\r\n021-11-01 14:18:02,348 ERROR [nodeHeartbeat.quartz_Worker-1] [JobLauncher] Scheduled job with ID 'com.atlassian.beehive.db.ClusterNodeHeartbeatService' failedcom.atlassian.util.concurrent.LazyReference$InitializationException: java.lang.IllegalStateException: Container is not setup\tat com.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:149)\tat com.atlassian.util.concurrent.LazyReference.get(LazyReference.java:112)\tat com.atlassian.bamboo.beehive.AbstractBambooRawJdbcDao.withDatabaseConnection(AbstractBambooRawJdbcDao.java:42)\tat com.atlassian.bamboo.beehive.BambooClusterNodeHeartBeatRawJdbcDao.writeHeartBeat(BambooClusterNodeHeartBeatRawJdbcDao.java:46)\tat com.atlassian.bamboo.beehive.BambooClusterNodeHeartbeatServiceImpl$HeartbeatJobRunner.runJob(BambooClusterNodeHeartbeatServiceImpl.java:142)\tat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:134)\tat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:106)\tat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:90)\tat com.atlassian.scheduler.quartz2.Quartz2Job.execute(Quartz2Job.java:28)\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)Caused by: java.lang.IllegalStateException: Container is not setup\tat com.atlassian.spring.container.LazyComponentReference.create(LazyComponentReference.java:41)\tat com.atlassian.util.concurrent.LazyReference$Sync.run(LazyReference.java:325)\tat com.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:143)\t... 10 more\r\n{code}\r\n\r\nh3. Workaround\r\n\r\n\r\nCheck your server whether you have the older Bamboo instance still running by executing this command.\r\n{code:bash}\r\nps -ef | grep -i bamboo\r\n{code}\r\nAnd if you see two instances, please kill the old process by checking the start date of the process.\r\n\r\n ",
      "summary": "Bamboo Cluster Node Heartbeat check throws java.lang.IllegalStateException "
    }
  },
  {
    "key": "BAM-21474",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-28T14:52:43.000+0000",
      "description": "h3. Issue Summary\r\nFrom a user's profile, when the user click on \"Notifications\", the page will take a very long time to load. \r\n\r\n\r\nh3. Steps to Reproduce\r\n# In a normal Bamboo instance, create a large amount of plans (in the thousands).\r\n# Many users will need to mark these plans as favorite.\r\n# Create a large amount of notifications (in the thousands).\r\n# Make sure many of these notifications have \"watchers\" as recipient type. \r\n\r\nh3. Expected Results\r\nPage loads within seconds. \r\n\r\nh3. Actual Results\r\n\r\nPage may take minutes to load, even timing out. \r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Performance issue when loading user notifications from profile"
    }
  },
  {
    "key": "BAM-21473",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-02T12:35:19.000+0000",
      "created": "2021-10-27T19:38:47.000+0000",
      "description": "The [Tutorial: Bamboo Java Specs stored in Bitbucket Server|https://confluence.atlassian.com/bamboo/tutorial-bamboo-java-specs-stored-in-bitbucket-server-938641946.html] page, under the \"*Step 4: Create Bamboo Specs project using Maven*\" section, needs to mention that -*DarchetypeVersion=* needs to have its value changed according to the Bamboo version.\r\nThe command currently uses version 6.2.1, but it has no mention of changing it according to the customer's Bamboo version.\r\n\r\nFor example, [this other page|https://confluence.atlassian.com/bamboo/tutorial-create-a-simple-plan-with-bamboo-java-specs-894743911.html#:~:text=archetypeVersion%20-%20Bamboo%20Specs%20archetype%E2%80%99s%20version.%20It%20should%20match%20the%20version%20of%20Bamboo%20you%E2%80%99re%20using.] has a table that explains each property and how they should be updated.",
      "summary": "Documentation improvement"
    }
  },
  {
    "key": "BAM-21472",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-27T16:17:37.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe *Plan to clone from* drop-down inside the 'Clone job' page doesn't have a search mechanism. If you happen to have hundreds or even thousands of plans you must scroll through the results to find the plan.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd a search mechanism to this field similar to what Bamboo has in the 'Clone plan > Plans to clone > Plan name' field.",
      "summary": "Add search to the 'Plan to clone from' drop-down inside the 'Clone job' page"
    }
  },
  {
    "key": "BAM-21471",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-27T15:53:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *Plan to clone from* drop-down button inside the 'Create > Clone plan' page takes a very long time to open for large Bamboo deployments. Times ranging from 25s to 60s were observed when trying to open the drop-down.\r\n\r\nh3. Steps to Reproduce\r\n{panel:title=|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\n * Bamboo 7.1.2 (16gb xms/ xmx)\r\n * PostgreSQL 9.6\r\n * Plans\r\n ** # of plans (CHAIN and CHAIN_BRANCH): 20.958\r\n ** # of jobs - this is the number that shows up inside the application.xml for <number-of-plans>: 169.115{panel}\r\n# Access Bamboo from a web browser (e.g. Firefox).\r\n# Access the *Plan configuration* page from one of the plans.\r\n# Click the 'Add job > Clone an existing job' button under one of your stages.\r\n# Click the *Plan to clone from* drop-down button to search for a plan.\r\n\r\nh3. Expected Results\r\n\r\nThe *Plan to clone from* drop-down loads in a couple of seconds at max and we can start looking for a plan to clone.\r\n\r\nh3. Actual Results\r\n\r\nThe *Plan to clone from* drop-down takes a really long time to finish loading. This is related to the fact that we try to display a list of all plans a certain user has access to in the drop-down. The more plans you have access to the more time it takes to load the drop-down.\r\n\r\n{panel:title=Note 1|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nThis is worse for admin users because they have access to all plans inside Bamboo i.e. we always try to load and display a list of all the plans inside the Bamboo instance in that drop-down for admin users.\r\n{panel}\r\n\r\nh3. Workaround\r\n\r\n# Use [Bamboo Specs|https://confluence.atlassian.com/bamboo/bamboo-specs-894743906.html] to manage your plans (this way you can easily clone/copy tasks from other plans into your Specs code).\r\n# Try using different web browsers. It won't solve the problem but may present different loading times.",
      "summary": "The 'Plan to clone from' drop-down inside the 'Clone job' page is slow to open"
    }
  },
  {
    "key": "BAM-21470",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-21T01:35:55.000+0000",
      "description": "h3. Problem\r\n\r\nThis is an intermittent issue when running a Plan. The issue consists of a repository checkout in a \"detached HEAD\" state which then is used by a git\u00a0_commit_ task that fails because it \"*_Can't guess branch name for revision XXXXXXX when trying to perform push_*\"\r\nh3. Environment\r\n\r\nBamboo Server\r\nh3. Steps to Reproduce\r\n * Trigger a build. Its metadata gets created and includes the revision that should be pulled from the repository - The plan must include a \"git add/commit\" and a PUSH task\r\n * The build will be put on the queue\r\n * The agent(s) should be busy doing something else and will not pick up the build immediately\r\n * Whilst the agents are busy and the build is on the queue to be dispatched, push a change to the same branch the build was referring to, changing the HEAD/revision state\r\n * Once the build is picked up, the Agent pulls the (older) revision as per its metadata (Expected!)\r\n * The build works normally up to running the PUSH task back to the repository\r\n * The push task fails with \"*_com.atlassian.bamboo.repository.RepositoryException: Can't guess branch name for revision xxxxxxxx when trying to perform push_*_._\" because the revision from the metadata is not HEAD anymore\r\n\r\nh3. Expected Results\r\n\r\nBamboo Server should try to resolve the issue either by:\r\n * Providing a meaningful message explaining to the user the reason it could not push the changes back to the repository. E.g. \"The git revision this Plan checkout was referred to was not in sync with the latest revision in the target repository. Were any commits pushed to the repository whilst this Plan was running?\" \u2013 I bet the developers can come to a more clever message.\r\n * Provide an override flag (and a BIG WARNING MESSAGE) to the PUSH task so the customer can choose to force the git push if wanted.\r\n\r\nh3. Actual Results\r\n\r\nThe Run fails with the following message:\r\n{noformat}\r\ncom.atlassian.bamboo.repository.RepositoryException: Can't guess branch name for revision XXXXXXXXXXXXXXXXXXXXXX when trying to perform push. {noformat}\r\nh3. Workaround\r\n\r\nAlign with the developers to not push any changes to the referred repository whilst the build is running.",
      "summary": "\"Can't guess branch name for revision (...) when trying to perform push\" message during a build push task where the HEAD state was not in sync with the latest commit"
    }
  },
  {
    "key": "BAM-21469",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-20T15:35:41.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWe have a couple of important notes in the [Running Bamboo as a Windows service|https://confluence.atlassian.com/bamboo/running-bamboo-as-a-windows-service-289277308.html] page (inside the yellow boxes) that should be in the [Bamboo upgrade guide|https://confluence.atlassian.com/bamboo/bamboo-upgrade-guide-720411366.html] as well.\r\n\r\nWhen people are upgrading Bamboo and following our guide they expect to see those warnings there. They're not going to know about this unless they decide to google/search for something like _\"Running Bamboo as a Windows service\"_\u00a0and end up in that page. It's important to mention those things in the Bamboo upgrade guide because they are directly related to the upgrade. For example, people may not be aware of the default user change in the service and might have problems to start Bamboo and run the upgrade after installing a new version of Bamboo.\r\nh3. Suggested Solution\r\n\r\nAdd the notes from the yellow boxes inside the [Running Bamboo as a Windows service|https://confluence.atlassian.com/bamboo/running-bamboo-as-a-windows-service-289277308.html] page to the [Bamboo upgrade guide|https://confluence.atlassian.com/bamboo/bamboo-upgrade-guide-720411366.html] as well.",
      "summary": "Add notes related to Windows service changes in the Bamboo upgrade guide"
    }
  },
  {
    "key": "BAM-21468",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-19T18:09:44.000+0000",
      "description": "After installing new bamboo agents on the virtual machine, dependencies are constantly downloaded in the builds we receive. How can we overcome this problem? Agents in the old version do not have this problem.\r\n\r\n\r\nBamboo 8.0.0 build 80008",
      "summary": "bamboo-agent-8.0.0 constant dependency download problem in every build"
    }
  },
  {
    "key": "BAM-21467",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-27T11:25:05.000+0000",
      "created": "2021-10-19T11:07:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo running on Windows fails to communicate to Bitbucket Server and Data Center (e.g. creating new repositories, triggering plans, running change detection and etc) after installing [Git for Windows|https://git-scm.com/download/win] 2.33.0(2) or newer. This is happening because Git for Windows 2.33.0(2) bundles OpenSSH 8.8p1 which removed support for ssh-rsa (SHA-1) ([release notes|https://github.com/git-for-windows/build-extra/blob/main/ReleaseNotes.md]). This is the type of key created by Bamboo to communicate to Bitbucket Server and Data Center.\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo (e.g. 8.0.3) on Windows.\r\n# Install Git for Windows 2.32.\r\n# Create an application link between Bamboo and Bitbucket Server or Data Center.\r\n# Create a new *Bitbucket Server / Stash* repository.\r\n# Up to this point everything should be working fine.\r\n# Update the version of Git for Windows to 2.33.0(2) or newer.\r\n\r\nh3. Expected Results\r\n\r\nEverything continues to run as expected and you are able to create new *Bitbucket Server / Stash* repositories and run existing plans that are linked to *Bitbucket Server / Stash* repositories.\r\n\r\nh3. Actual Results\r\n\r\nCreating new *Bitbucket Server / Stash* repositories fail with the following error message:\r\n\r\n{noformat:title=atlassian-bamboo.log}\r\n2021-10-19 09:10:41,107 WARN [sshd-SshServer[b1834bf]-nio2-thread-2] [ServerSessionImpl] exceptionCaught(ServerSessionImpl[null@/127.0.0.1:62083])[state=Opened] IllegalStateException: Unable to negotiate key exchange for server host key algorithms (client: ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256 / server: ssh-rsa)\r\n{noformat}\r\n\r\nAttempting to run an existing plan using a *Bitbucket Server / Stash* repository results in the following error message:\r\n\r\n{noformat:title=atlassian-bamboo.log}\r\nCaused by: com.atlassian.bamboo.plugins.git.GitCommandException: command ['C:\\Program Files\\Git\\cmd\\git.exe' ls-remote ssh://9218c7ce-eefd-4ed6-8e60-06413b9c3378@127.0.0.1:51140/proj/myrepo.git] failed with code 128. Working directory was [C:\\Program Files\\Bamboo\\temp]., stderr:\r\nUnable to negotiate with 127.0.0.1 port 51140: no matching host key type found. Their offer: ssh-rsa\r\nfatal: Could not read from remote repository.\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nh4. Workaround 1\r\n* Downgrade the version of Git for Windows to 2.33 (which has OpenSSH v8.7p1) or 2.32.\r\n\r\nh4. Workaround 2\r\nRe-enable the disabled signing algorithm in OpenSSH 8.8 and newer by including the following details inside the C:\\Program Files\\Git\\etc\\ssh\\ssh_config file to allow the use of ssh-rsa (SHA-1) for host and user authentication against Bitbucket:\r\n\r\n{noformat}\r\nHost 127.0.0.1\r\n    HostkeyAlgorithms +ssh-rsa\r\n    PubkeyAcceptedAlgorithms +ssh-rsa\r\n{noformat}\r\n\r\n{panel:title=INFO|borderStyle=dashed|borderWidth=2px|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nBamboo uses an ssh proxy to communicate to Bitbucket Server whether you're using *Bitbucket Server / Stash* or *Git* repository types so the host we need to allow the use of ssh-rsa (SHA-1) should be *127.0.0.1* and not the Bitbucket hostname.\r\n{panel}",
      "summary": "Bamboo stops communicating to Bitbucket Server and Data Center after updating to Git for Windows 2.33.0(2) or newer"
    }
  },
  {
    "key": "BAM-21466",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-08T14:43:37.000+0000",
      "created": "2021-10-18T17:16:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen adding a group to admin project permissions using a server license the below error is thrown both on the UI or using REST API:\r\n{noformat}\r\nWhen granting \"ADMINISTRATION\" permission the following permissions must also be granted: \"CREATEREPOSITORY\"\r\n{noformat}\r\nh3. Steps to Reproduce\r\n # Run Bamboo 8.x using a Server license\r\n # Add admin project permissions to a group in any of your instance projects\r\n\r\nh3. Expected Results\r\n\r\nThe permissions are added accordingly\r\nh3. Actual Results\r\n\r\nThe below error is shown when done through the UI:\r\n !image-2021-10-18-19-05-00-394.png|thumbnail!\r\n\r\nThe below message is thrown when done via REST API:\r\n{code:java}\r\ncurl -X PUT -H'Content-Type: application/json' user:password 'https://bamboo.net/rest/api/latest/permissions/project/ABC/groups/bamboo-admin' -d '[\"ADMINISTRATION\",\"CREATE\",\"READ\"]' | jq\r\n{\r\n  \"message\": \"When granting \\\"ADMINISTRATION\\\" permission the following permissions must also be granted: \\\"CREATEREPOSITORY\\\"\",\r\n  \"status-code\": 400\r\n}\r\n{code}\r\nh3. Workaround\r\n\r\nWhen adding the permissions via REST, add the \"CREATEREPOSITORY\" permission to your payload as follows:\r\n{code:java}\r\ncurl -X PUT -H'Content-Type: application/json' -u user:password 'https//bamboo.net/rest/api/latest/permissions/project/ABC/groups/bamboo-admin' -d '[\"ADMINISTRATION\",\"CREATE\",\"READ\",\"CREATEREPOSITORY\"]' \r\n{code}",
      "summary": "When adding a group to admin project permissions using a server license an error is thrown"
    }
  },
  {
    "key": "BAM-21465",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-18T08:53:31.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe current version of JakartaMail (formerly JavaMail) bundled in Bamboo is *1.6.2* which does not support NTLMv2 authentication against mail servers.\r\n\r\nh3. Suggested Solution\r\n\r\nUpdate the version of JakartaMail (formerly JavaMail) to *1.6.4* or higher to add support for NTLMv2 authentication: [https://github.com/eclipse-ee4j/mail/commit/90c3ff8f6c4f2342c02e26d92562a3fd601835b3].",
      "summary": "Update version of JakartaMail (formerly JavaMail) to add support for NTLMv2 authentication"
    }
  },
  {
    "key": "BAM-21464",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T20:07:58.000+0000",
      "description": "h3. Problem Definition\r\nCurrently we do not have the detailed build logs available on the Bamboo Agent like we do have it on the Bamboo server under the <Bamboo-Home>/xml-data/builds/ sub-directories path. Previously in the bamboo log with local agent we could see the entire build logs with the local agent.\r\n\r\nh3. Suggested Solution\r\nHave the remote agent logs store the complete build logs like the local agent used to have.",
      "summary": "Complete detailed build logs on the Remote Agent logs"
    }
  },
  {
    "key": "BAM-21463",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-14T14:34:15.000+0000",
      "description": "h3. Issue Summary\r\nThis bug occurs in the following scenario:\r\n* A job start running on a remote agent A;\r\n* The remote agent A goes offline;\r\n* This causes the build to fail;\r\n* Re-run the build, which will make the failed job run in another agent;\r\n* During the build, the remote agent A comes back online and reports the job it was building failed;\r\n* The job will be marked as failed.\r\n\r\nh3. Steps to Reproduce\r\nThe steps below describe how to reproduce this issue in a single machine:\r\n # Create a job and configure a required artifact;\r\n# Create a script task with the following commands:\r\n#* {noformat}\r\necho \"Testing job failure\" > test.txt\r\nsleep 60\r\n{noformat}\r\n# Configure a remote agent to connect to Bamboo using a hosts entry;\r\n# Start the build, during the \"sleep\" remove the Bamboo entry from the file;\r\n# Shutdown the agent and put the hosts entry back;\r\n# Re-run the build;\r\n# While the sleep is running, start the remote agent.\r\n\r\n\r\nh3. Expected Results\r\nThe job keeps running on another agent and the server reports the result from this run.\r\n\r\nh3. Actual Results\r\nThe server will receive the failed message from the agent that came back online and it will mark the job as failed.\r\n\r\nAlso, we can see in the build logs the post-build processes messages at the begging of the log:\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\nsimple\t13-Oct-2021 17:50:21\tRunning on server: post build plugin 'NCover Results Collector'\r\nsimple\t13-Oct-2021 17:50:21\tRunning on server: post build plugin 'Build Hanging Detection Configuration'\r\nsimple\t13-Oct-2021 17:50:21\tRunning on server: post build plugin 'Clover Delta Calculator'\r\nsimple\t13-Oct-2021 17:50:21\tRunning on server: post build plugin 'Maven Dependencies Postprocessor'\r\nsimple\t13-Oct-2021 17:50:21\tAll post build plugins have finished\r\nsimple\t13-Oct-2021 17:50:21\tGenerating build results summary...\r\nsimple\t13-Oct-2021 17:50:21\tSaving build results to disk...\r\nsimple\t13-Oct-2021 17:50:21\tStore variable context...\r\nsimple\t13-Oct-2021 17:50:21\tIndexing build results...\r\nsimple\t13-Oct-2021 17:50:21\tFinished building TEST-AG-JOB1-17.\r\nsimple\t13-Oct-2021 17:50:21\tBuild TEST - AgentLoop - Default Job #17 (TEST-AG-JOB1-17) started building on agent 192.168.15.5 (2), bamboo version: 8.0.0\r\nsimple\t13-Oct-2021 17:50:21\tRemote agent on host 192.168.15.5\r\nsimple\t13-Oct-2021 17:50:21\tBuild working directory is /Users/gluz2/support/agent-home-8.0.0/xml-data/build-dir/TEST-AG-JOB1\r\nsimple\t13-Oct-2021 17:50:21\tExecuting build TEST - AgentLoop - Default Job #17 (TEST-AG-JOB1-17)\r\nsimple\t13-Oct-2021 17:50:21\tRunning pre-build action: VCS Version Collector\r\nsimple\t13-Oct-2021 17:50:21\tStarting task 'Script' of type 'com.atlassian.bamboo.plugins.scripttask:task.builder.script'\r\ncommand\t13-Oct-2021 17:50:21\tBeginning to execute external process for build 'TEST - AgentLoop - Default Job #17 (TEST-AG-JOB1-17)'\\n ... running command line: \\n\r\n(...) Truncated\r\nsimple\t13-Oct-2021 17:50:21\tFinished task 'Script' with result: Success\r\nsimple\t13-Oct-2021 17:50:21\tStarting task 'Sleep' of type 'com.atlassian.bamboo.plugins.scripttask:task.builder.script'\r\ncommand\t13-Oct-2021 17:50:21\tBeginning to execute external process for build 'TEST - AgentLoop - Default Job #17 (TEST-AG-JOB1-17)'\\n ... running command line: \r\n(...) Truncated\r\nsimple\t13-Oct-2021 17:51:21\tFinished task 'Sleep' with result: Success\r\nsimple\t13-Oct-2021 17:51:21\tRunning post build plugin 'Docker Container Cleanup'\r\nsimple\t13-Oct-2021 17:51:21\tRunning post build plugin 'NCover Results Collector'\r\nsimple\t13-Oct-2021 17:51:21\tRunning post build plugin 'Clover Results Collector'\r\nsimple\t13-Oct-2021 17:51:21\tRunning post build plugin 'npm Cache Cleanup'\r\nsimple\t13-Oct-2021 17:51:21\tRunning post build plugin 'Artifact Copier'\r\nsimple\t13-Oct-2021 17:51:21\tPublishing an artifact: Test\r\nsimple\t13-Oct-2021 17:51:21\tFinished publishing of artifact Required shared artifact: [Test], pattern: [**/*.txt] in 173.8 ms\r\nsimple\t13-Oct-2021 17:51:21\tFinalising the build...\r\nsimple\t13-Oct-2021 17:51:21\tStopping timer.\r\nsimple\t13-Oct-2021 17:51:21\tBuild TEST-AG-JOB1-17 completed.\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Re-running a build that failed because the agent went offline will fail again if the agent comes back online"
    }
  },
  {
    "key": "BAM-21462",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-13T07:52:09.000+0000",
      "description": "*Description*\r\n Windows default character limit is 260. An error will occur in cases where Bamboo spawn process requiring file in a path which has characters exceeding the windows default 260 character limit;\r\n\r\nAn error similar to this may appear in the build log;\r\n{noformat}\r\n Could not find a part of the path 'C:\\Windows\\system32\\config\\ ... {noformat}\r\n*Relates articles*\r\n * [https://docs.microsoft.com/en-gb/windows/win32/fileio/naming-a-file#maximum-path-length-limitation]\r\n * [https://docs.microsoft.com/en-gb/windows/win32/fileio/maximum-file-path-limitation]\r\n\r\n*Workaround*\r\n\r\nPerform a registry hack to modify this limit;\r\n{code:bash}\r\n$> reg add \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\FileSystem\" /v LongPathsEnabled /t REG_DWORD /d 1 /f\r\n{code}",
      "summary": "Add support for file paths in Windows >260 characters"
    }
  },
  {
    "key": "BAM-21461",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-13T05:58:28.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen using the moving plans functionality and disabling all agents prior to the move, this event is not shown in the audit logs.\r\n\r\nh3. Suggested Solution\r\n\r\nShow in the audit logs that all plans have been disabled.\r\n\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Add disabling all agents audit log event when moving plans"
    }
  },
  {
    "key": "BAM-21460",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-27T11:24:59.000+0000",
      "created": "2021-10-13T00:57:08.000+0000",
      "description": "h3. Problem\r\n\r\nBamboo remote agent fails after exhausting the tentatives of resending a build result to the Bamboo server due to an empty\u00a0RESULT_FILE_NAME ({{<bamboo-agent-home>/xml-data/build-dir/build-result.xml}}*{{)}}*\r\n{noformat}\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.sendPreviousBuildResultIfRequired(BuildAgentControllerImpl.java:236)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.lambda$start$0(DefaultBuildAgent.java:107)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at java.lang.Thread.run(Unknown Source)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | Caused by: java.io.EOFException: input contained no data\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at io.github.xstream.mxparser.MXParser.fillBuf(MXParser.java:3037)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at io.github.xstream.mxparser.MXParser.more(MXParser.java:3099)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at io.github.xstream.mxparser.MXParser.parseProlog(MXParser.java:1421)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at io.github.xstream.mxparser.MXParser.nextImpl(MXParser.java:1406)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at io.github.xstream.mxparser.MXParser.next(MXParser.java:1104)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | ... 17 more\r\nINFO | jvm 1 | 2021/10/11 13:57:17 | 2021-10-11 13:57:16,944 WARN [0-BAM::agent1.mydomain.net::Agent:pool-3-thread-1] [DefaultBuildAgent] 1 attempts at building without a successful run. The agent will stop after reaching 10 exceptions.\r\n{noformat}\r\nh3. Environment\r\n\r\nBamboo 8.0.1 (agent resiliency code)\r\nh3. Steps to Reproduce\r\n # Stop the Agent\r\n # Have build results to be sent to Bamboo server\r\n # Create an empty\u00a0RESULT_FILE_NAME ({{<bamboo-agent-home>/xml-data/build-dir/build-result.xml}}*{{)}}*\r\n # Start the agent\r\n # Observe Bamboo agent trying to load the contents of RESULT_FILE_NAME as a stream and failing\r\n # The Bamboo agent will retry 10 times by default and then exit.\r\n # The Agent will never be available for builds.\r\n\r\nh3. Expected Results\r\n\r\nThe Bamboo agent should bypass the empty RESULT_FILE_NAME and continue.\r\nh3. Actual Results\r\n\r\nThe Bamboo agent retries sending the build results 10 times and then exits.\r\nh3. Workaround\r\n\r\nDelete\u00a0{{<bamboo-agent-home>/xml-data/build-dir/build-result.xml}}\r\nh3. Notes\r\n{code:java|title=BuildAgentControllerImpl.java}\r\n    public boolean sendPreviousBuildResultIfRequired(ExecutableBuildAgent buildAgent) {\r\n        if (AgentTypeHolder.get() == AgentType.LOCAL) {\r\n            return true;\r\n        }\r\n        log.info(\"Found a result that requires re-sending....\");\r\n        final XStream xStream = secureXStreamFactory.createXStream();\r\n        final File workingDirectory = buildDirectoryManager.getBaseBuildWorkingDirectory();\r\n        Path buildResultXml = Paths.get(workingDirectory.getAbsolutePath(), RESULT_FILE_NAME);\r\n        if (Files.exists(buildResultXml)) {\r\n            try {\r\n                CommonContext context = (CommonContext) xStream.fromXML(buildResultXml.toFile());\r\n                if (context != null) {\r\n                    return retryProcessingResult(buildAgent, context);\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(null, e);\r\n                buildAgent.incrementError();\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n{code}",
      "summary": "Agents are failing with \"java.io.EOFException: input contained no data\" message"
    }
  },
  {
    "key": "BAM-21459",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-12T03:21:21.000+0000",
      "description": "Currently, the only Bamboo REST documentation available is in a free form docuemnt.\r\n\r\n* https://docs.atlassian.com/atlassian-bamboo/REST/latest\r\n\r\nThis feature request is to provide the Bamboo REST API documentation in OpenAPI format.\r\n\r\nBitbucket Cloud provides this see the following link for a reference.\r\n\r\n* https://developer.atlassian.com/bitbucket/api/2/reference/meta/serialization",
      "summary": "REST API Documentation in OpenApi (swagger) format"
    }
  },
  {
    "key": "BAM-21458",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-02T14:32:06.000+0000",
      "created": "2021-10-11T13:57:47.000+0000",
      "description": "h3. Current Situation 1\r\nThe document [Bamboo variables|https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] has an outdated description for \"Jira applications variables\".\r\n\r\nh3. Accepted solution 1\r\nRevisit the \"Jira applications variables\" section to match how Bamboo currently behaves. \r\n\r\nh3. Current Situation 2\r\nThe statement \r\n{quote}\r\nBamboo variables are exported as bash shell variables. All full stops (periods) are converted to underscores. For example, the variable bamboo.my.variable is $bamboo_my_variable in bash. This is related to File Script tasks (not Inline Script tasks).\r\n{quote}\r\nalso applies to inline scripts. \r\n\r\nh3. Accepted solution 2\r\nRewrite this section to match Bamboo's current behavior. \r\n",
      "summary": "Update \"Bamboo variables\" document"
    }
  },
  {
    "key": "BAM-21457",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-10T23:36:39.000+0000",
      "description": "h2. Problem Definition\r\nCurrently it's only possible to override the branch of a *linked* repository in YAML Specs for the default repo:\r\n* https://docs.atlassian.com/bamboo-specs-docs/8.0.0/specs.html?yaml#overriding-branch-of-a-linked-repository\r\n\r\nh2. Suggestion\r\nAdd a mechanism to override branch for each linked repository, not just default in a multiple repository scenario.",
      "summary": "Add the ability to override branch of multiple linked repositories in YAML Specs"
    }
  },
  {
    "key": "BAM-21456",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-08T18:28:53.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently Bamboo requires the use of a Personal Access Token (PAT) which is not recommended by GitHub. With a PAT customers are subject to lower rate limits and the need to use a shared service account. \r\nAlso, once token is generated they need to individually add it to every linked repo that needs that access. If at any point it's entered incorrectly it will possibly lock the account.\r\nh3. Suggested Solution\r\n * The goal would be to have a similar experience with GitHub like in Bitbucket DC;\r\n * Have an option to create plan branches when a pull request is created in the repo, where as when using Bamboo with GitHub repo;\r\n * GitHub connectivity can only be done through linked repository (problem of rate-limiting), it needs surface account;\r\n * Ideally, with single click tags build plans because VCS has access;\r\n * Be able to set up specs scans;\r\n * Establish an OAuth2 connection between GitHub and Bamboo, that would transfer secret and client ID (OAuth2 is a protocol that lets external applications request authorization to private details in a user's GitHub account without accessing their password.\r\n ** Currently, we do have that option for Jira Cloud -[https://support.atlassian.com/jira-cloud-administration/docs/integrate-with-github/]\r\n ** We also have an app in Jira for GitHub - [https://marketplace.atlassian.com/apps/1219592/github-for-jira?tab=overview&hosting=cloud]\r\n\r\nGet updates and links about what\u2019s happening with their repositories in Bamboo issues for:\r\n * Pull Requests\r\n * Commits\r\n * Branches\r\n * Builds\r\n * Deployments",
      "summary": "Integrate GitHub with Bamboo"
    }
  },
  {
    "key": "BAM-21455",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-03T10:29:27.000+0000",
      "created": "2021-10-07T12:06:42.000+0000",
      "description": "This vulnerability affects certain versions of Atlassian Bamboo. Attacker can craft URL to browse all files inside /atlassian-bamboo at Bamboo installation folder, which includes files at WEB-INF folder",
      "summary": "Local File Dislocusure to Browse All Files in /atlassian-bamboo"
    }
  },
  {
    "key": "BAM-21454",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T07:35:38.000+0000",
      "description": "h4. Summary\r\n\r\nBamboo variables does not have a variable like {{planTask.<position>.result\u00a0}} which holds the value of\u00a0 task result {{error, failed, success}}.\r\n\r\nh4. Use case\r\n* Conditional task\r\n Assuming a job with multiple maven tasks each has a result {{fail, success}}. It will help create condition for the next task by accessing the result of a preceding position.",
      "summary": "Bamboo variable for status of build task completion result"
    }
  },
  {
    "key": "BAM-21453",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-07T03:58:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\n'Deploy Tomcat Application' task password encryption and decryption does not use native Bamboo system-wide encryption which means that a Bamboo Spec Encrypted password does not work.\r\nh3. Steps to Reproduce\r\n # Create a encrypted password with Bamboo Spec encryption\r\n # Use the above encrypted password in the Bamboo Java Spec and create a 'Deploy Tomcat' Task\r\n ## \r\n{code:java}\r\nString deployPassword =  \"BAMSCRT@0@0@3wIL9NvVCkmPRb2nB8isfw==\";\r\nfinal Deployment rootObject = new Deployment(new PlanIdentifier(\"MFF\", \"MVFP6\")\r\n        .oid(new BambooOid(\"zbe6u3y2ha81\")),\r\n        \"MFJP\")\r\n        .oid(new BambooOid(\"zbl49thsn4sh\"))\r\n        .description(\"MY first JIRa project deployment\")\r\n        .releaseNaming(new ReleaseNaming(\"release-3\")\r\n                .autoIncrement(true))\r\n        .environments(new Environment(\"TEST\")\r\n                .tasks(new CleanWorkingDirectoryTask(),\r\n                        new ScriptTask()\r\n                                .description(\"s\")\r\n                                .enabled(true)\r\n                                .inlineBody(\"touch /opt/Bamboo_7_db/bamboo_7_home/local-working-dir/8650753-8814593/test.war\"),\r\n                        new ScriptTask()\r\n                                .description(\"task\")\r\n                                .inlineBody(\"echo \\\"the password is :  ${MYOWNVARIABLE_password} :::\\\" \"),\r\n                        new AnyTask(new AtlassianModule(\"com.atlassian.bamboo.plugins.tomcat.bamboo-tomcat-plugin:deployAppTask\"))\r\n                                .configuration(new MapBuilder()\r\n                                        .put(\"appVersion\", \"\")\r\n                                        .put(\"tomcatUrl\", \"http://lb:8080/manager/html\")\r\n                                        .put(\"warFilePath\", \"/test.war\")\r\n                                        .put(\"tomcatUsername\", \"tomcat\")\r\n                                        .put(\"deploymentTag\", \"\")\r\n                                        .put(\"encTomcatPassword\", deployPassword)\r\n                                        .put(\"appContext\", \"/test\")\r\n                                        .put(\"tomcat6\", \"\")\r\n                                        .build()))\r\n                .variables(new Variable(\"MYOWNVARIABLE_password\",\r\n                                \"BAMSCRT@0@0@x+R4XZRvrVUaekpU6cZyPg==\"),\r\n                        new Variable(\"my_password\",\r\n                                \"BAMSCRT@0@0@Jg4tGznMfOEDCEQf0pm9YA==\")));\r\n{code}\r\n\r\n # Run the deployment task and you would see the below error\r\n\r\nh3. \u00a0\r\nh3. Expected Results\r\n\r\nShould decrypt without error and work as normal\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the build log:\r\n{noformat}\r\nimple\t05-Oct-2021 14:43:04\tFinished task 'task' with result: Success\r\nsimple\t05-Oct-2021 14:43:04\tStarting task 'Deploy Tomcat Application' of type 'com.atlassian.bamboo.plugins.tomcat.bamboo-tomcat-plugin:deployAppTask'\r\nerror\t05-Oct-2021 14:43:04\tError occurred while running Task '(4)' of type com.atlassian.bamboo.plugins.tomcat.bamboo-tomcat-plugin:deployAppTask.\r\nerror\t05-Oct-2021 14:43:04\tcom.atlassian.bamboo.security.EncryptionException: Failed to decrypt.\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.security.EncryptionServiceImpl.decrypt(EncryptionServiceImpl.java:72)\r\nerror\t05-Oct-2021 14:43:04\t\tat jdk.internal.reflect.GeneratedMethodAccessor2569.invoke(Unknown Source)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.sun.proxy.$Proxy357.decrypt(Unknown Source)\r\nerror\t05-Oct-2021 14:43:04\t\tat jdk.internal.reflect.GeneratedMethodAccessor2569.invoke(Unknown Source)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:130)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.sun.proxy.$Proxy357.decrypt(Unknown Source)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.plugins.tomcat.manager.TaskTomcatConnection.<init>(TaskTomcatConnection.java:26)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.plugins.tomcat.tasks.DeployAppTask.execute(DeployAppTask.java:49)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:323)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:258)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:323)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:118)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:73)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.executeBuildPhase(DefaultBuildAgent.java:205)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:177)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:168)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:118)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:161)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.lambda$start$0(DefaultBuildAgent.java:122)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nerror\t05-Oct-2021 14:43:04\tCaused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 8 when decrypting with padded cipher\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/com.sun.crypto.provider.DESedeCipher.engineDoFinal(DESedeCipher.java:294)\r\nerror\t05-Oct-2021 14:43:04\t\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\nerror\t05-Oct-2021 14:43:04\t\tat com.atlassian.bamboo.security.EncryptionServiceImpl.decrypt(EncryptionServiceImpl.java:70)\r\nerror\t05-Oct-2021 14:43:04\t\t... 28 more\r\nsimple\t05-Oct-2021 14:43:04\tFinalising the build...\r\nsimple\t05-Oct-2021 14:43:04\tStopping timer.\r\n{noformat}\r\nh3. Workaround\r\n # Edit the deployment task in the Bamboo and give the correct password and save it.\r\n # Go to\u00a0*Edit Environment*\u00a0->\u00a0*View Project as Java Specs*\u00a0and copy the encrypted password from there.\r\n # Then use that encrypted password in your Bamboo Specs.",
      "summary": "Deploy Tomcat Application task password decryption is not working with Bamboo Spec Encrypted password"
    }
  },
  {
    "key": "BAM-21452",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-05T18:45:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAs an Admin, I would like to be able to set the /deploy/project/all API call to be paginated for our very large list of deployment projects.\r\n\r\nh3. Steps to Reproduce\r\n # Step 1 Setup API\r\n # Step 2 curl bamboo/rest/api/latest/deploy/project/all\r\n # Step three wait 10 minutes for timeout\r\n\r\nh3. Expected Results\r\n\r\nAllow pagination so results can be viewed in batches, freeing up the thread.\r\nh3. Actual Results\r\nTimeout occurs when grabbling a large amount of deployment projects.\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n<!DOCTYPE HTML PUBLIC >\r\n<html><head>\r\n<title>502 Server Error</title>\r\n</head><body>\r\n<p>The server has timed out<em><a\r\nhref=\"/rest/api/latest/deploy/project/all\">GET /rest/api/la\r\ntest/deploy/project/all</a></em>.<p>\r\nReason: <strong>Error reading from server</strong>\r\n</p></p>\r\n</body></html>\r\n{noformat}\r\n\r\nh3. Workaround\r\nUse a different method of grabbing all deployment projects\r\n\r\n",
      "summary": "/deploy/project/all Pagination option"
    }
  },
  {
    "key": "BAM-21451",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-05T12:42:45.000+0000",
      "description": "h3. Problem Definition\r\n\r\nBamboo doesn't allow manual stages to start/ continue running from builds that were triggered before a repository change happens in the plan.\r\n\r\nSuppose you run a build right now with stages A and B (manual) but never trigger the second manual stage B (so the build is incomplete). A few days later you decide to add or remove repositories linked to your plan. The manual stage from the build you triggered a few days ago will not get triggered because the plan state changed -- Bamboo doesn't know whether revisions from the repositories that were added or removed are relevant for the plan execution anymore and doesn't allow users to continue the build.\r\n\r\nh3. Suggested Solution\r\n\r\nLet users choose whether they want to start the manual stage on a specific revision or use the current HEAD to allow the manual stage to run and complete the build despite the changes made to the repositories associated to the plan.\r\n \r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Allow users to start manual stages on a specific revision or instruct Bamboo to use the current HEAD"
    }
  },
  {
    "key": "BAM-21450",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-05T12:33:33.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe _\"Could not continue build execution. The result has no continuable jobs.\"_ message addresses the fact that a manual stage cannot be triggered and continue running if the job that it was originally supposed to trigger no longer exists. Suppose you run a build right now with stages A and B (manual) but never trigger the second manual stage B (so the build is incomplete). A few days later you decide to remove the job inside the manual stage and replace it with another job. If you try to start the manual stage B now it will throw this message because the job it was originally supposed to run doesn't exist anymore so it can't continue.\r\n\r\nThe problem I want to address in this feature request happens when we trigger the same message for a different use case. If the change you make after you triggered the build and before running the manual stage is related to the repositories in your plan the manual stage won't get triggered *but* not because the job in that stage doesn't exist anymore -- because the repositories were updated. When repositories are updated Bamboo doesn't know whether revisions from the repositories that were added or removed are relevant for the plan execution anymore and doesn't allow users to continue the build.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd a more informative/ descriptive message to let users know why they can't continue building and run the manual stage when there's a repository update/ change in the plan rather than the _\"Could not continue build execution. The result has no continuable jobs.\"_ message which is a bit misleading since jobs are not playing a role here.",
      "summary": "Change \"Could not continue build execution. The result has no continuable jobs.\" message"
    }
  },
  {
    "key": "BAM-21449",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-10-05T12:16:49.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWith the introduction of Specs branches ([Enhanced plan branch configuration |https://confluence.atlassian.com/bamboo/enhanced-plan-branch-configuration-996709304.html]) Bamboo allows users to create custom plan brach configurations that differ from the main (usually master) branch *but* not everything can be different yet. One known limitation is the use of repositories. They are still inherited from the main branch and cannot be added or removed -- only updated.\r\n\r\nh3. Suggested Solution\r\n\r\nIt would be nice to be able to independently manage repositories for a Specs branch such as to remove a repository configuration that might be needed in the main branch but not in the Specs branch.\r\n \r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Allow Specs branches to change the list of repositories"
    }
  },
  {
    "key": "BAM-21448",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-08T12:04:28.000+0000",
      "created": "2021-09-30T06:55:21.000+0000",
      "description": "h3. Problem\r\n\r\nIn Bamboo 8.0.1, the build results Summary and History tabs are showing the string \"*post chain actions*\" instead of the stage name when on a manual run\r\nh3. Environment\r\n\r\nBamboo 8.0.1\r\nh3. Steps to Reproduce\r\n\r\nSet a stage as manual, run the Plan and the stage. Follow the results page\r\nh3. Expected Results\r\n\r\nThe build results page reports the stage name on the Plan's Summary and History tabs\r\n\r\n!Bamboo 7.2.4-stage-name.png|thumbnail!\r\nh3. Actual Results\r\n\r\nThe build results page reports the \"post chain actions\" string instead of the actual stage name on the Plan's Summary and History tabs\r\n\r\n!Bamboo 8.0.1-post-chain-actions.png|thumbnail!\r\nh3. Workaround\r\n\r\nNone\r\nh3. Notes\r\n\r\nA regression from 8.0.1+\r\n\r\nThe \"Stage name\" shows correctly during the build. But reverses to \"post chain actions\" once completed.\r\n\r\n!During build-stage-name-shows-up.png|thumbnail!\r\n\r\n\u00a0",
      "summary": "Build result reason showing post chain actions instead of stage name"
    }
  },
  {
    "key": "BAM-21447",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-30T06:29:47.000+0000",
      "description": "On https://confluence.atlassian.com/display/BAMBOO/Supported+platforms the recommendations are not well documented.\r\n\r\n{quote}\r\nStarting from version 7.0, we've stopped bundling the JDBC driver for Oracle with Bamboo. \r\nFor Oracle 12c R2 and 19c, use the 12.2.0.x driver (ojdbc8.jar).\r\nFor Oracle 19c, you can use either ojdbc8.jar or ojdbc10.jar.\r\n{quote}\r\n\r\nOJDBC10 is compiled with Java 10 and will not work unless you're running Bamboo 8 with Java 11.\r\n\r\nOJDBC8 is compiled with Java 8 and recommended by Oracle even if using Java 11:\r\n{quote}\r\n If you are using JDK11 then, ojdbc8.jar is still a better choice as it includes all the 4.3 features but as Oracle extensions. Customers can use ojdbc10.jar only if they need JDBC 4.3 features available through standard Java SE.\r\n{quote}\r\nhttps://www.oracle.com/au/database/technologies/faq-jdbc.html (What is the recommended 19.x JDBC driver to be used with JDK11?)",
      "summary": "Oracle JDBC Driver OJDBC8 vs OJDBC10 recommendations are not well documented"
    }
  },
  {
    "key": "BAM-21446",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-08T12:04:29.000+0000",
      "created": "2021-09-29T01:57:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Bamboo scan for Bamboo Specs it tries to load the images in the local cache to find a matching tag given in the Bamboo-> Security-configuration.\r\n While it is scanning if it finds a null RepoTag it throws a *_java.lang.NullPointerException_*\u00a0and gives an error in Repo Bamboo Spec Scanning.\r\nh3. Steps to Reproduce\r\n\r\nHave a docker image with a null RepoTag. Build a container and tag it with the same Tag of an image you already have. You will notice that the \"old\" image will be\u00a0_untagged_ (_<none>_) and the new image will receive the\u00a0_latest_ tag.\r\n{code:java}\r\n# docker pull pvnovarese/mprime\r\nUsing default tag: latest\r\nlatest: Pulling from pvnovarese/mprime\r\nImage docker.io/pvnovarese/mprime:latest uses outdated schema1 manifest format. Please upgrade to a schema2 image for better future compatibility. More information at https://docs.docker.com/registry/spec/deprecated-schema-v1/\r\na3ed95caeb02: Pull complete\u00a0\r\n546e579918ed: Pull complete\u00a0\r\nDigest: sha256:21561b776f6e3f30044d09e40f31d696425354e4a1885da10c153eb5bb707237\r\nStatus: Downloaded newer image for pvnovarese/mprime:latest\r\ndocker.io/pvnovarese/mprime:latest\r\n\r\n# docker build -t pvnovarese/mprime .\r\nSending build context to Docker daemon\u00a0 2.048kB\r\nStep 1/1 : FROM hello-world\r\n\u00a0---> feb5d9fea6a5\r\nSuccessfully built feb5d9fea6a5\r\nSuccessfully tagged pvnovarese/mprime:latest\r\n\r\n# docker images | grep pvnovarese\r\npvnovarese/mprime\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 latest\u00a0 \u00a0 \u00a0 \u00a0 feb5d9fea6a5 \u00a0 5 days ago\u00a0 \u00a0 \u00a0 13.3kB\r\npvnovarese/mprime\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 <none>\u00a0 \u00a0 \u00a0 \u00a0 ba0e5ba59f5c \u00a0 5 years ago \u00a0 \u00a0 4.46MB \r\n{code}\r\n{code}\r\n$ curl --unix-socket /var/run/docker.sock http://localhost/v1.41/images/json | jq\r\n...\r\n  {\r\n    \"Containers\": -1,\r\n    \"Created\": 1450483765,\r\n    \"Id\": \"sha256:ba0e5ba59f5cb2379ecc51ab9940fd6912d844699cefbcddd657df2b07e0fb69\",\r\n    \"Labels\": {},\r\n    \"ParentId\": \"\",\r\n    \"RepoDigests\": [\r\n      \"pvnovarese/mprime@sha256:21561b776f6e3f30044d09e40f31d696425354e4a1885da10c153eb5bb707237\"\r\n    ],\r\n    \"RepoTags\": null,\r\n    \"SharedSize\": -1,\r\n    \"Size\": 4460952,\r\n    \"VirtualSize\": 4460952\r\n  }\r\n{code}\r\n\r\nAfter that, run a Bamboo Spec Scan with docker on any Linked repository and observe the error.\r\n\r\n*NOTICE:* In an attempt to reproduce the error, the {{atlassian/bamboo-specs-runner:8.0.1}} image was pulled from Docker registry and apparently fixed the issue. But after a few tentatives with the image already on the server, the error showed up again, meaning that _anyMatch_ is capturing the broken RepoTag image randomly from the provided _map_ list from _docker.listImages()_ stream.\r\nh3. Expected Results\r\n\r\nBamboo should be able to initialise the {{bamboo-specs-runner}} container and scan the Specs without errors.\r\nh3. Actual Results\r\n\r\nThrowing NullPointException while scanning the list of images and stop scanning the rest.\r\n\r\nRepositoryStoredSpecsExecutionServiceImpl\r\n{code:java}\r\nprivate boolean isDockerImageInCache(@NotNull String dockerImage, DockerClient docker) throws DockerException, InterruptedException {\r\n        return docker.listImages().stream()\r\n                .map(Image::repoTags)\r\n                .flatMap(List::stream)\r\n                .anyMatch(tag -> tag.equals(dockerImage));\r\n    }\r\n{code}\r\nThe below exception is thrown in the file:\r\n{noformat}\r\njava.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.NullPointerException. Listener: com.atlassian.bamboo.plugins.stash.events.BranchChangedEventListener event: com.atlassian.stash.plugin.remote.event.StashBranchChangedRemoteEvent\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:53)\r\n\tat com.atlassian.event.internal.ComparableListenerInvoker.invoke(ComparableListenerInvoker.java:48)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher.lambda$null$0(AsynchronousAbleEventDispatcher.java:37)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.configuration.external.rss.RepositoryStoredSpecsExecutionServiceImpl.generateBambooYamlsFromSpecs(RepositoryStoredSpecsExecutionServiceImpl.java:145)\r\n\tat com.atlassian.bamboo.configuration.external.rss.JavaSpecsImportServiceImpl.lambda$processSpecs$0(JavaSpecsImportServiceImpl.java:67)\r\n\tat com.atlassian.bamboo.configuration.external.rss.SpecsOptimizeProcessor.processSpecs(SpecsOptimizeProcessor.java:37)\r\n\tat com.atlassian.bamboo.configuration.external.rss.JavaSpecsImportServiceImpl.processSpecs(JavaSpecsImportServiceImpl.java:93)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:204)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:374)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t... 7 more\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.NullPointerException\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat com.atlassian.bamboo.configuration.external.rss.RepositoryStoredSpecsExecutionServiceImpl.generateBambooYamlsFromSpecs(RepositoryStoredSpecsExecutionServiceImpl.java:137)\r\n\t... 15 more\r\nCaused by: java.lang.NullPointerException\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1632)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:528)\r\n\tat com.atlassian.bamboo.configuration.external.rss.RepositoryStoredSpecsExecutionServiceImpl.isDockerImageInCache(RepositoryStoredSpecsExecutionServiceImpl.java:305)\r\n\tat com.atlassian.bamboo.configuration.external.rss.RepositoryStoredSpecsExecutionServiceImpl.updateDockerImageCache(RepositoryStoredSpecsExecutionServiceImpl.java:287)\r\n\tat com.atlassian.bamboo.configuration.external.rss.RepositoryStoredSpecsExecutionServiceImpl.lambda$runSpecsWithDocker$1(RepositoryStoredSpecsExecutionServiceImpl.java:222){noformat}\r\nh3. Workaround\r\nh4. Workaround 1\r\n\r\nYou could create a tag for those images and re-try the Bamboo Spec scanning. Alternatively, purge those untagged images if you are not using them.\r\n\r\nh4. Workaround 2\r\nYou can disable processing Bamboo Specs within Docker at *Bamboo Administration >> Security Settings >> Process Bamboo Specs in Docker* however please note, you would be disabling a security feature that is intended to provide some isolation from the Bamboo Server and the Specs that are being processed.\r\n\r\nh4. Workaround 3\r\n\r\nSet the {{bamboo.repository.stored.specs.image.pull.force=true}} Bamboo system environment/property to always pull the image so Bamboo should pull Docker image to run Specs processing even if it exists at local Docker cache. This would slow down the Bamboo Spec scanning process:\r\n* [Configuring your System Properties|https://confluence.atlassian.com/bamboo/configuring-your-system-properties-289277345.html]",
      "summary": "Bamboo Java Specs scanning in Docker fails with java.lang.NullPointerException "
    }
  },
  {
    "key": "BAM-21445",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-18T13:03:10.000+0000",
      "created": "2021-09-28T08:17:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo Data Center release require an official documentation for the *Upgrade process* and *Backup strategies*.\r\n * DIY Strategy\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n\r\n*Backup Guide*\r\n [https://confluence.atlassian.com/bamkb/backup-bamboo-datacenter-1086407510.html]\r\n *Upgrade Guide*\r\n [https://confluence.atlassian.com/bamkb/upgrade-guide-for-bamboo-datacenter-1086407526.html]\r\n \u00a0\r\n\r\n\u00a0",
      "summary": "Backup Strategy for Bamboo Datacenter Documentation required"
    }
  },
  {
    "key": "BAM-21444",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-27T22:56:48.000+0000",
      "description": "h3. Problem Definition\r\nNeed the ability to create a new repository and replace existing to multiple plans\r\nh3. Suggested Solution\r\nCurrently Bamboo has the option to update URL on a few repository types, please add the option to create a repository and apply to multiple plans in builk.\r\nh4. Why this is important \r\nCurrently the change is only available manually\r\n",
      "summary": "Ability to change any repository and apply to multiple plans"
    }
  },
  {
    "key": "BAM-21443",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-27T11:24:54.000+0000",
      "created": "2021-09-27T16:27:57.000+0000",
      "description": "h3. Issue Summary\r\nIf a remote agent is unable to send the artifact to the server, it will retry 10 times, after that the agent automatically restarts. \r\n\r\nIn Bamboo 8.0 the build resilience feature was introduced. When the agent starts it will get the last state it was in, in other words, it will try to re-send the artifact again. And if the agent is still unable to send the artifact again, it will trigger a loop in the remote agent.\r\n\r\nh3. Steps to Reproduce\r\nThe behavior was not reproducible; however, the steps below will help to check what the agent does.\r\n# Create a test plan that generates an artifact;\r\n# Create a \"sleep\" task;\r\n# Once the agent is running the sleep task, reproduce a connection loss between the agent and the server;\r\n# The agent will try to send the artifact 10 times with a 5 minutes interval. After that, it will restart.\r\n# Re-establish the connection between agent and server;\r\n# Once the agent is up we can see in the logs:\r\n#* {noformat}\r\nINFO   | jvm 1    | 2021/09/24 14:55:53 | 2021-09-24 14:55:53,802 INFO [0-BAM::agent::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Found artifact that needs upload retry: Test\r\nINFO   | jvm 1    | 2021/09/24 14:55:53 | 2021-09-24 14:55:53,812 INFO [0-BAM::agent::Agent:pool-3-thread-1] [AbstractArtifactManager] Republishing [Test] for TEST-AG-JOB1-6\r\n{noformat}\r\n\r\nh3. Expected Results\r\nAfter some tries, the remote agent stops trying to publish and sends a build fail message to the server.\r\n\r\nh3. Actual Results\r\n\r\nIn the atlassian-bamboo-agent.log we can see the agent retries to send the artifact:\r\n{noformat}\r\nINFO   | jvm 1    | 2021/09/24 14:55:53 | 2021-09-24 14:55:53,802 INFO [0-BAM::192.168.15.5::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Found artifact that needs upload retry: Test\r\nINFO   | jvm 1    | 2021/09/24 14:55:53 | 2021-09-24 14:55:53,812 INFO [0-BAM::192.168.15.5::Agent:pool-3-thread-1] [AbstractArtifactManager] Republishing [Test] for TEST-AG-JOB1-6\r\nINFO   | jvm 1    | 2021/09/24 14:55:53 | 2021-09-24 14:55:53,852 INFO [0-BAM::192.168.15.5::Agent:pool-3-thread-1] [AbstractArtifactManager] Trying to republish the artifact with handler: com.atlassian.bamboo.build.artifact.BambooRemoteArtifactHandler{noformat}\r\nAnd will keep retrying until it's able to send the artifact.\r\n\r\nh3. Workaround\r\n\r\nStop the remote agent and delete all the content inside {{<Agent home>/xml-data/build-dir/temporaryArtifactStorage/remote}}\r\n\r\nThe remote agent will detect the artifact is missing and will send a build fail message to the server:\r\n{noformat}\r\nINFO   | jvm 1    | 2021/09/24 14:58:34 | 2021-09-24 14:58:34,195 ERROR [0-BAM::agent::Agent:pool-3-thread-1] [DisconnectedBuildLogger] Unable to send to server: Unable to publish artifact [Test]: \r\nINFO   | jvm 1    | 2021/09/24 14:58:34 | 2021-09-24 14:58:34,195 ERROR [0-BAM::agent::Agent:pool-3-thread-1] [AbstractArtifactManager] Unable to publish artifact [Test]: \r\nINFO   | jvm 1    | 2021/09/24 14:58:34 | 2021-09-24 14:58:34,195 ERROR [0-BAM::agent::Agent:pool-3-thread-1] [DisconnectedBuildLogger] Unable to send to server: The artifact is required, build will now fail.\r\nINFO   | jvm 1    | 2021/09/24 14:58:34 | 2021-09-24 14:58:34,195 ERROR [0-BAM::agent::Agent:pool-3-thread-1] [AbstractArtifactManager] The artifact is required, build will now fail.\r\n{noformat}",
      "summary": "Remote agent loop when unable to publish an artifact"
    }
  },
  {
    "key": "BAM-21442",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:38:24.000+0000",
      "created": "2021-09-27T14:48:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo creates specs results for all plans, regardless if they were actually modified by RSS commit\r\nh3. Steps to Reproduce\r\n # Create several RSS plans\r\n # Make a commit that only changes some of them\r\n\r\nh3. Expected Results\r\n\r\nOnly the plans that are changed have new specs result.\r\nh3. Actual Results \r\n\r\nAll the RSS plans have new specs result\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Bamboo should not create Specs results for plans that hasn't changed during specific RSS execution"
    }
  },
  {
    "key": "BAM-21440",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-27T09:01:17.000+0000",
      "description": "Currently the UI supports the following configuration:\r\n!image-2021-09-27-09-59-29-975.png|width=972,height=229!\r\n\r\nAs far as I can see in the documentation this is not supported in YAML. Tried to use \"view as YAML\" through the UI and it didn't work.\r\n\r\n\u00a0\r\n\r\nWould be great to have this setting as our main branch failures are being drowned by other branches",
      "summary": "Allow YAML specs to configure notifications on branches"
    }
  },
  {
    "key": "BAM-21439",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-27T06:56:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen configuring application link between bamboo and any atlassian cloud server product, Bamboo Base URL needs to be used even if bamboo is behind a firewall and not direct accessible from outside.\r\nh3. Steps to Reproduce\r\n # Configure application link between Bamboo and (for e.g.) Jira Cloud\r\n # Navigate as Bamboo Admin to _Cog >> Overview >> Manage Apps >> Application Links_.\r\n # Create Cloud application link for a product by entering the URL that you use to access the remote application.\r\n # When a creating a reciprocal link for Bamboo, you need to use the Base URL of Bamboo that you use to access the remote application. In case Bamboo is behind a firewall, you cannot use a different URL than the Base URL, as while proxy will rewrite http redirects, it probably won't rewrite base url in payload.\r\n\r\nh3. Expected Results\r\n\r\nWhen creating application links, Bamboo should be allowed to use other than Bamboo Base URL for example Microsoft application proxy.\r\nh3. Actual Results\r\n\r\nCurrently we can use only Bamboo Base URL while configuring application links.\r\nh3. Workaround\r\n\r\nNone.",
      "summary": "Application Link creation shouldn't have limitation of using Bamboo Base URL"
    }
  },
  {
    "key": "BAM-21438",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-25T02:19:15.000+0000",
      "description": "h3. Problem Definition\r\nCurrently there's no endpoint to provide a dump with all information about a build\r\nh3. Suggested Solution\r\nprovide an endpoint that will provide the entire build data including tests that have been successful, failed or in quarantine\r\nh4. Why this is important \r\nIts easier and faster to retrieve the data and help make future decision on what tests to remove from quarantine or put in quarantine.\r\n",
      "summary": "REST API to generate a dump with all information about a build including test data"
    }
  },
  {
    "key": "BAM-21437",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-24T10:12:04.000+0000",
      "created": "2021-09-24T10:11:24.000+0000",
      "description": "h3. Issue Summary\r\n\r\n/server REST endpoint throws exception when uses on instance with a server license\r\nh3. Steps to Reproduce\r\n # Hit the endpoint \r\n\r\nh3. Expected Results\r\n\r\nStatus of the server is returned.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2021-09-24 09:34:29,521 ERROR [http-nio-8085-exec-4] [SqlExceptionHelper] ERROR: relation \"cluster_node_heartbeat\" does not exist\r\n  Position: 54\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "/server REST endpoint throws exception when uses on instance with a server license"
    }
  },
  {
    "key": "BAM-21436",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-08T12:04:29.000+0000",
      "created": "2021-09-24T10:08:49.000+0000",
      "description": "h3. Issue Summary\r\n * Bamboo logs are full of missing\u00a0{{cluster_node_heartbeat}} table at logs when Server license is used.\r\n * Calls to specific API methods are also failing such as\u00a0*{{rest/api/latest/server}}*:\r\n * \r\n{noformat}\r\n{\"message\":\"error executing work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error executing work\",\"status-code\":500}%\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n # Bamboo with Server license applied\r\n # Login to Bamboo\u00a0\r\n # Check application logs\r\n\r\nh3. Expected Results\r\n\r\nRegular activity logs\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2021-09-24 09:34:29,521 WARN [http-nio-8085-exec-4] [SqlExceptionHelper] SQL Error: 0, SQLState: 42P01\r\n2021-09-24 09:34:29,521 ERROR [http-nio-8085-exec-4] [SqlExceptionHelper] ERROR: relation \"cluster_node_heartbeat\" does not exist\r\n  Position: 54\r\n2021-09-24 09:34:29,561 WARN [http-nio-8085-exec-4] [BambooRuntimeExceptionMapper] Unexpected error from REST call\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: error executing work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error executing work\r\n        at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:193)\r\n        at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:370)\r\n        at org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:334)\r\n        at com.atlassian.bamboo.persistence.BambooConnectionTemplate$1.doInTransactionWithoutResult(BambooConnectionTemplate.java:27)\r\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36)\r\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n        at com.atlassian.bamboo.persistence.BambooConnectionTemplate.execute(BambooConnectionTemplate.java:24)\r\n        at com.atlassian.bamboo.beehive.AbstractBambooRawJdbcDao.withDatabaseConnection(AbstractBambooRawJdbcDao.java:42)\r\n        at com.atlassian.bamboo.beehive.BambooClusterNodeHeartBeatRawJdbcDao.findAll(BambooClusterNodeHeartBeatRawJdbcDao.java:115)\r\n        at com.atlassian.bamboo.beehive.BambooClusterNodeHeartbeatServiceImpl.getNodeStatuses(BambooClusterNodeHeartbeatServiceImpl.java:107)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n        at com.sun.proxy.$Proxy660.getNodeStatuses(Unknown Source)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n        at com.sun.proxy.$Proxy1043.getNodeStatuses(Unknown Source)\r\n        at com.atlassian.bamboo.plugins.rest.resource.ServerResource.getServerStatusInfo(ServerResource.java:47)\r\n        at com.atlassian.bamboo.plugins.rest.resource.ServerResource.getStatus(ServerResource.java:56)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n{noformat}\r\nh3. Workaround\r\n\r\nCreate missing table manually. Make sure to create this table using the Bamboo database user.\r\n\r\nMSSQL:\r\n{code:java}\r\ncreate table CLUSTER_NODE_HEARTBEAT (NODE_ID nvarchar(36), NODE_NAME nvarchar(255), HEARTBEAT_TIMESTAMP bigint, primary key (NODE_ID));\r\n{code}\r\nOracle:\r\n{code:java}\r\ncreate table CLUSTER_NODE_HEARTBEAT (NODE_ID varchar2(36), NODE_NAME varchar2(255), HEARTBEAT_TIMESTAMP number(19,0), primary key (NODE_ID));\r\n{code}\r\nPostgreSQL, MySQL:\r\n{code:java}\r\ncreate table CLUSTER_NODE_HEARTBEAT (NODE_ID varchar(36), NODE_NAME varchar(255), HEARTBEAT_TIMESTAMP int8, primary key (NODE_ID));\r\n{code}",
      "summary": "Message about missing table at logs"
    }
  },
  {
    "key": "BAM-21435",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-23T13:43:49.000+0000",
      "description": "Related to BAM-21137\r\n\r\nIf Project B nominates a Dependency with scope Import on Project A, then Project B should be rebuilt if Project A is rebuilt.\u00a0 Currently that does not happen.\r\n\r\nIf Project B nominates Project A as its Parent, then Project B should be rebuilt if Project A is rebuilt.\u00a0 Currently that does not happen.\r\n\r\nThis means that we cannot have certainty that changes made in Parent projects and in Imported projects (typically Bill-of-Materials POMs) have been rippled through the projects which depend upon them.\r\n\r\nRaised as a Suggestion because I don't oin my personal capacity have a SEN.\u00a0\u00a0\r\n\r\nI am frankly dismayed that the issue I raised with your support team back in Oct 2020 has not yet been addressed (BAM-21137).",
      "summary": "Consider include as a dependency in automatic maven dependency management"
    }
  },
  {
    "key": "BAM-21434",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-22T20:30:03.000+0000",
      "description": "Problem: When trying to deploy Bamboo agents into AWS US Gov-Cloud the [AWS Gov-Cloud Import tool|https://aws.amazon.com/blogs/publicsector/gov-cloud-import-tool-how-to-transfer-information-between-identity-boundaries/] requires any S3 buckets that need to be imported such as s3://bamboo-agent-release-us-e1 to be attached to an EC2 instance in a commercial region that is accessible by US Gov-Cloud in order to be imported. In some cases the user's security requirements prevents them from having any resources in commercial AWS regions.\r\n\r\nGoal: To have the resources necessary for agent deployment accessible from within the US Gov-Cloud region so that  agents can be deployed without having to spin up resources in commercial AWS regions. ",
      "summary": "Make s3://bamboo-agent-release-us-e1 accessible from AWS US Gov-Cloud"
    }
  },
  {
    "key": "BAM-21433",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-21T09:46:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn the [Bamboo Best Practice - System Requirements|https://confluence.atlassian.com/bamboo/bamboo-best-practice-system-requirements-388401170.html] under section Hardware considerations > CPU and memory, there is a table - *User scenario*, in this table the last column talks about the required CPU and RAM. But in the same column it also talks about remote agents. \r\n\r\nIt is confusing to understand especially when we say remote agents in the last column with no context. Mentioning {{remote agent use}}, {{more remote agents}} and {{all remote agents}} in the last column with CPU and RAM confuses the customer thinking we have to have the number of CPUs and RAM equally on all the remote agents.\r\n\r\nh3. Steps to Reproduce\r\nNA\r\n\r\nh3. Expected Results\r\nNA\r\n\r\nh3. Actual Results\r\nNA\r\n\r\nh3. Workaround\r\nIs it possible to add a context there, remote agents here mean that there should be no local agents and make sure use all of the remote agents (based on the license)?   \r\n",
      "summary": "Bamboo Best Practice - System Requirements documentation mentions \"Bamboo Server\" column remote agents"
    }
  },
  {
    "key": "BAM-21431",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-21T07:33:45.000+0000",
      "description": "Hi Team,\r\n\r\nRequesting for a configuration item restricting a maximum instances of a particular type of elastic agent, that could be set below the global limit.\r\n\r\nThe number of elastic images should be configurable for each elastic image (and not only a maximum number of all elastic instances).\r\n\r\nIf one team is committing first on a day, then their jobs will trigger the start of many elastic instances . If later another team commits, then in worst case the maximum number of elastic instances is already reached, and so no elastic instance can start anymore.\r\n\r\nA solution would be to limit the number of elastic instances for each image individually.\r\n\r\nP.S.: This is a critical request from one of our esteemed customers in the organisation.",
      "summary": "Configure maximum number of elastic instances"
    }
  },
  {
    "key": "BAM-21430",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-20T11:19:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIt's possible to attach Maven settings folder to Docker image for Java Specs processing. It allows user to configure environment like proxy settings, additional artifact repositories, credentials etc\r\n\r\nUnfortunately .m2/settings.xml is overridden during Docker image startup and provided configuration is ignored during Specs processing\u00a0\r\nh3. Steps to Reproduce\r\n # Change Security settings and add path to Maven configuration\r\n # Configure Bamboo Specs repository\r\n # Trigger Specs scan\r\n\r\nh3. Expected Results\r\n\r\nDocker image is started and Maven settings are used from configured path\u00a0\r\nh3. Actual Results\r\n\r\nAttached .m2/settings.xml file is ignored\r\nh3. Workaround\r\n # \u00a0Don't use Docker Runner for Specs processing. It may cause security incident as Java Specs code may have access to Bamboo Server environment\r\n # Disable pom.xml sanitization by system property\r\n-Dbamboo.repository.stored.specs.pom.sanitization.enabled=false\r\n\u00a0and add required settings to Specs pom.xml at source repository",
      "summary": "Maven settings.xml is ignored when Specs processing is executed at Docker image"
    }
  },
  {
    "key": "BAM-21425",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-16T18:22:02.000+0000",
      "description": "*Problem*\r\nWe have an option for Jira and Confluence to add some HTTP security header and Bamboo still does not have that option.\r\n Content-Security-Policy\r\n X-XSS-Protection\r\n X-Frame-Options\r\n X-Content-Type-Option\r\n Referrer-Policy\r\n\r\n[Confluente servlet app|https://jira.atlassian.com/browse/CONFSERVER-57471]\r\n[Jira clickjacking plugin|https://jira.atlassian.com/browse/JRASERVER-25143]\r\n\r\n*Suggestion*\r\n # Create a plugin/app with a simple servlet (or install the referred app).\r\n # Have Bamboo instances with app pre-installed.",
      "summary": "Create a plugin/app for HTTP security headers"
    }
  },
  {
    "key": "BAM-21424",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-16T17:14:21.000+0000",
      "description": "It is currently not possible to add conditions for triggers on build plans.\r\n\r\nIf you want a \"Bitbucket Server repository trigger\" but also a Tag trigger, those will not be able to work in different scenarios.\u00a0\r\n\r\nThe tag trigger currently has the ability to have a filter for the tag, but it would be beneficial if a condition can also be added where it will only work on, say, a specific branch.\r\n\r\nThese conditions should accept a bamboo property, so should work much the same way like task conditions currently work.\r\n\r\nIt would also be great if more than one condition can be added. If more than one condition exist on a trigger, then it should be executed top to bottom.",
      "summary": "Plan Trigger Conditions"
    }
  },
  {
    "key": "BAM-21423",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-16T12:16:10.000+0000",
      "description": "Currently Bamboo Specs repositories require you to link then to a specific build plan or deployment project to be able to configure that specific project via Specs.\r\n\r\nSuggestion is to allow Bamboo Specs repositories to be used for more generic use cases e.g. templating.\r\n\r\nBreakdown:\r\n * New option under Bamboo Specs to \"Set-up Specs template repository\"\r\n * Only configuration is setting up a repository. Bamboo will scan this repository for Specs files and store them as Templates.\r\n * When creating a new project, you have the option to select a Template which the new projects build plan is based off. Same when creating a new Deployment project.\r\n\r\nThings to consider:\r\n * Naturally the point of Bamboo Specs is that they are versioned so when you change the spec, it also changes the build plan/deployment project. This might be trickier for projects created from templates as they might have additional changes outside the Specs files. For feature simplicity it might be an option to not have change propagation with template repositories. Of course if this can be diff'ed somehow in Bamboo and apply template changes to already created projects, it is a win-win.",
      "summary": "Allow Bamboo Specs repositories to be used as template repositories"
    }
  },
  {
    "key": "BAM-21422",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-15T17:29:39.000+0000",
      "description": "h3. Issue Summary\r\nBamboo doesn't seem to be aligned with Web Content Accessibility Guidelines (WCAG) 2.1 level AA making it incompatible with assistive technology.\r\n\r\nh3. Steps to Reproduce\r\nTry to use Bamboo with any assistive technology mentioned in the [Atlassian accessibility page|https://www.atlassian.com/accessibility].\r\n\r\nh3. Expected Results\r\nSince Atlassian is committed to develop accessible products. It's expected that Bamboo should work perfectly with any of the industry-standard accessibility technologies.\r\n\r\nh3. Actual Results\r\nMost of the elements, both in the top/left area and just about everything else that's not in a table, are not operable.\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Bamboo UI is not compliant with Web Content Accessibility Guidelines (WCAG) 2.1 level AA"
    }
  },
  {
    "key": "BAM-21421",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-13T02:12:54.000+0000",
      "description": "Bamboo provides a capability and requirements mechanism where jobs with specific requirements will only run on agents that provide the capabilities required.\r\n\r\nAlthough specific capabilities can be set on the agent there is currently no mechanism to restrict the agent to only accept jobs that have a requirements matching the capability. The agent will accept any job that it has capability to run.\r\n\r\nThis feature request is to add the functionality to restrict the agent to only run jobs with specified requirements so as to prevent the agent from being busy when needed. eg. Have an agent only run jobs with the MYSOFT requirement and not run jobs that have not requested MYSOFT.\r\n\r\nAlthough an agent can be dedicated to run specific jobs/plans using requirements and capabilities provides an easier mechanism for the user.\r\n\r\n",
      "summary": "need ability to restrict agents so that they can only run jobs with specific  requirements"
    }
  },
  {
    "key": "BAM-21420",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-10T05:10:03.000+0000",
      "description": "h2. Problem Definition\r\n\r\nIt can be confusing that the {{rest/api/latest/result/$PLAN_KEY/branch/$branchName}} API does not work for the *default branch* (often master). \r\n\r\nh2. Suggested Solution\r\nAllow the branch API to also lookup the default plan (and thus default branch)\r\n\r\nh2. Workaround\r\nIf you want to retrieve results for the default plan (and hence default branch) you should instead use {{rest/api/latest/result/$PLAN_KEY}}. By not specifying a branch, you are implying the default plan.",
      "summary": "The result/branch API should work for the default branch"
    }
  },
  {
    "key": "BAM-21418",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-08T11:10:04.000+0000",
      "description": "h3. Current Situation\r\nBamboo is able to run builds in a customized way, where a specific revision can be chosen. When this happens, the Checkout Task will check out that specific revision. \r\nDeployment environments have the Checkout Task present, but the ability to choose a revision doesn't exist. \r\n\r\nh3. Accepted solution\r\nHave the ability to choose a revision for a deployment. ",
      "summary": "Custom revision deployments"
    }
  },
  {
    "key": "BAM-21417",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-07T14:21:42.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIn certain situations such as Bamboo running low in disk space, the activeMQ broker can crash which causes the agents to disconnect and become unavailable. The only way to recover the broker is restarting Bamboo.\r\n\r\n\r\nh3. Suggested Solution\r\n\r\nImplement a mechanism in Bamboo that would allow the broker to restart if sufficient space exists without restarting.\r\n\r\n\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Allow recovering the activeMQ broker without restarting Bamboo"
    }
  },
  {
    "key": "BAM-21416",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-06T04:09:24.000+0000",
      "description": "h2. Problem Definition\r\nIn some plans, certain branches may not produce test results and it can be a lot of overhead to setup conditions for each branches. An option to not fail the build on lack of results but parse them if present would help.\r\n\r\nh2. Suggested Solution\r\nJenkins has an option \"Do not fail the build on empty test results\" present in its test parser tasks. \r\n\r\nh2. Workaround\r\n\r\nIn Bamboo 7.1.1 and above, tasks can be configured as conditional and you can execute the test parser based on a variable/branch name.\r\n\r\nAlternatively, using Bamboo Specs and Specs Branches -- each branch can have its own task configuration which either does or not include a test parser:\r\n* [Enhanced plan branch configuration \\- Bamboo Server 8.0 \\- Atlassian Documentation|https://confluence.atlassian.com/bamboo/enhanced-plan-branch-configuration-996709304.html]\r\n",
      "summary": "Allow test parsing tasks to be configured with an option that won't fail the build if no tests are found"
    }
  },
  {
    "key": "BAM-21415",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-03T20:12:06.000+0000",
      "description": "h2. Problem definition\r\n\r\nCurrently it is not possible to list any build plans that generates artifacts. In order to check if there is an artifact we need to open job by job.\r\nh2. Suggested resolution\r\n\r\nHave a feature that lists all the build plans with its artifacts inside the Artifacts Handlers page under the Administration area.\r\n\r\n!image-2021-09-03-17-10-48-211.png|width=1056,height=614!",
      "summary": "List of all Artifacts by Project"
    }
  },
  {
    "key": "BAM-21414",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-03T19:07:29.000+0000",
      "description": "h2. Problem definition\r\n\r\nCurrently, plan permissions are shared across all plan branches. It would be great to be able to configure permissions individually for each plan branch, so that it would be possible to control which users have access to each branch in a plan.\r\nh2. Suggested resolution\r\n\r\nAdd plan branch level permissions that can be configured individually.\r\nAn idea would be to have an additional box to select the branches, and combine that with the desired permissions. The \"Select branches\" drop down menu would have all plan branches listed, allowing you to select which ones the user would have access to. By default, all branches would be selected, as this is the most common use case scenario.\r\n\r\n!image-2021-09-03-16-22-08-790.png|width=852,height=328!",
      "summary": "Individual permissions for each plan branch"
    }
  },
  {
    "key": "BAM-21413",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-03T18:38:45.000+0000",
      "description": "h3. Problem definition\r\n\r\n[Bamboo permissions|https://confluence.atlassian.com/bamboo0702/bamboo-permissions-1031179763.html]\u00a0documentation issues:\r\n\r\n*Issue 1.* According to the permission keys:\r\n{quote}!https://confluence.atlassian.com/s/-ix9cze/8402/140dfda3d2762df191ac390098a5ed2068aa93ed/_/images/icons/emoticons/error.svg! \u00a0- Permission not available, even as an option\r\n{quote}\r\nUnder the *Global Permissions* section, the *Logged-in* line is wrong, based on the permission key above. It currently says that the *Create* option is not available, even as an option ((x)), for *Logged In users*.\r\n !image-2021-09-03-15-26-33-430.png|width=393,height=188!\r\n\r\nHowever, it actually is available as an option, so it should be a\u00a0(*)\u00a0instead of a\u00a0(x).\r\n Screenshot from Bamboo showing this option:\r\n !image-2021-09-07-13-15-49-434.png|width=579,height=120!\r\n\r\n*Issue 2.* Under the *Project permissions* section, the table is missing a column: *View project*. This option is available in Bamboo:\r\n!image-2021-09-03-15-34-14-266.png|width=573,height=100!\u00a0\r\nh3. Suggested resolution\r\n*Issue 1* Update the table and replace the\u00a0(x)\u00a0with an\u00a0(*), since this option is available in Bamboo.\r\n*Issue 2.* Add a new column called \"View project\" to the table, and fill it with a (*) for all 3 types of users.",
      "summary": "Bamboo permissions documentation"
    }
  },
  {
    "key": "BAM-21412",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-21T08:13:51.000+0000",
      "created": "2021-09-02T12:05:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPerformance issue: project resource checks plans' favourite flag but does not use it.\r\nh3. Steps to Reproduce\r\n # Hit project resource, for instance:\u00a0[http://localhost:8085/bamboo/rest/api/latest/project.json?expand=projects.project.plans&withBuildPermissionOnly&max-results=10000]\r\n\r\nh3. Expected Results\r\n\r\nResource responds in timely fashion.\r\nh3. Actual Results\r\n\r\nA linear number of queries to determine 'favourite' status of each build is being executed by backend. The result is not used in the produced output.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Performance issue: project resource checks plans' favourite flag but does not use it."
    }
  },
  {
    "key": "BAM-21411",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:39:02.000+0000",
      "created": "2021-09-02T09:31:25.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Bamboo validates Ant and Maven tasks at Bamboo Specs it should skip executable label matching check if job(or environment) use Docker for execution.\r\n\r\nIt's up to used Docker image to define available capabilities\r\nh3. Steps to Reproduce\r\n # Create Bamboo Specs plan config with Ant task and executable label Ant 1.10.1\r\n # Enable Docker image to be used by job\r\n # Push Specs file to repo\r\n # Execute Specs scan\r\n\r\nh3. Expected Results\r\n\r\nPlan is imported\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\nAnt task: Can't find executable by label: 'Ant 1.10.1'. Available values: [new, Ant 1.10.5, Ant 1.9.1, Ant 1.7.1, Ant 1.9.4, Ant, Ant 1.10, Ant 1.8.2, Ant 1.8.1, Nant, Ant 1.8, Ant 1.9]\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.helpers.TaskDefinitionExportHelper.validateTaskProperties(TaskDefinitionExportHelper.java:179)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.PlanConfigImportValidationService.validatePlanProperties(PlanConfigImportValidationService.java:117)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.validatePlanBranchProperties(PlanConfigImportServiceImpl.java:379)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.DivergentBranchSpecsConsumer.importPlanProperties(DivergentBranchSpecsConsumer.java:140)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.importers.PlanImporterProvider.lambda$getEntityProvider$1(PlanImporterProvider.java:38)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.AllTypesSpecsImporter.importBambooYamlsWithImporter(AllTypesSpecsImporter.java:130)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.AllTypesSpecsImporter.importBambooYamlsOfAllTypes(AllTypesSpecsImporter.java:69)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.JavaSpecsImportServiceImpl.lambda$processSpecs$2(JavaSpecsImportServiceImpl.java:80)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.SpecsOptimizeProcessor.processSpecs(SpecsOptimizeProcessor.java:43)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.rss.JavaSpecsImportServiceImpl.processSpecs(JavaSpecsImportServiceImpl.java:93)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:204)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:374)\r\n01-Sep-2021 10:19:55\t\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n01-Sep-2021 10:19:55\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n{noformat}\r\nh3. Workaround\r\n\r\n\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Ant&Maven task validation should be relaxed for Docker environment"
    }
  },
  {
    "key": "BAM-21410",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-02T08:26:04.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently Bamboo allows the overriding of the Docker image entrypoint by adding the below iIn the *Extra arguments for the docker run* box in the Bamboo job docker configuration page:\r\n{noformat}\r\n--entrypoint=\r\n{noformat}\r\n\r\nh3. Suggested Solution\r\n\r\nMake this the default behaviour so that the entrypoint is always overridden in Bamboo.\r\n\r\nh3. Workaround\r\n\r\nIndividually add the above argument to all your jobs that require override.",
      "summary": "Make overriding of the entrypoint the default behaviour of docker runner   "
    }
  },
  {
    "key": "BAM-21409",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-02T01:54:45.000+0000",
      "description": "h2. Problem Definition\r\n\r\nWith Bamboo Specs in RSS the diff and caching behaviour can cause a situation that is difficult to understand and recover from.\r\n\r\nExample scenario:\r\n# Repo 1 with Bamboo Spec pointed to PLAN-KEY\r\n# Accidentally push the same Bamboo Spec pointed to PLAN-KEY to Repo 2 and change the repository in it. Scan this repository. PLAN-KEY now becomes managed by Repo 2.\r\n# Try to switch PLAN-KEY back to Repo 1 simply by scanning Repo 1 with no changes\r\n# Bamboo Specs says execution was successful but didn't actually revert it to Repo 1 because as far as the comparison is concerned, there were no changes since the last scan for Repo 1 (but changes were applied by Repo 2)\r\n\r\nThis can be a confusing behaviour to an end user because they're hitting scan specs and it's saying the execution is successful but there is still a mismatch between spec and plan.\r\n\r\nThere's no way to recover here without making a change to the Spec in Repo 1 so Bamboo sees a difference and applies it (or going and deleting temporary files related to specs). While this may seem like an easy workaround, some organisations have strict change control and even making a small change to build and deploy configuration requires approvals which complicate recovery.\r\n\r\n\r\nh2. Suggested Solution\r\n* When a Specs update choose not to make any modifications due to no diff, make it clear in the UI\r\n* Include a force update button that will treat the spec as new / apply it anyway (skip the diff) or enhance the scan to detect that the plan it is updating may have been updated by a different repository.",
      "summary": "Include a force Bamboo Specs update mode"
    }
  },
  {
    "key": "BAM-21408",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-09-01T16:28:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSending a build template webhook using the variable below does fail to be sent.\r\n{code:java}\r\n${bamboo.agentWorkingDirectory}\r\n${bamboo.buildFailed}\r\n${bamboo.build.working.directory}\r\n${bamboo.working.directory}\r\n${bamboo.planName}\r\n${bamboo.hg.cache.directory}\r\n${bamboo.shortPlanKey}\r\n${bamboo.shortPlanName}\r\n${bamboo.shortJobName}\r\n${bamboo.shortJobKey}\r\n${bamboo.tmp.directory}\r\n${bamboo.planKey}\r\n${bamboo.git.cache.directory}{code}\r\nh3. Steps to Reproduce\r\n # Create a build Webhook template using the variable any of the variables above;\r\n # Configure a build to send notifications using the Webhook template that was just created;\r\n # Trigger the build notification\r\n\r\nh3. Expected Results\r\n\r\nThe Webhook is sent.\r\nh3. Actual Results\r\n\r\nThe Webhook fails to be sent and the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\nERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-1] [WebhookTransport] [name=Build Webhook] Variable not found: working.directory\r\n{noformat}\r\n\u00a0",
      "summary": "Some variables are not found in the Webhook template"
    }
  },
  {
    "key": "BAM-21407",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-31T16:43:53.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, there's no variable that stores the queue time of a build.\r\nh3. Suggested Solution\r\n\r\nAdd a variable that stores the build time of a build. Also add a variable in the Bamboo Webhooks that stores the build queue time, such as:\r\n{code:java}\r\n${bamboo.date.queued}{code}",
      "summary": "Add the queue time to Bamboo variables"
    }
  },
  {
    "key": "BAM-21405",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:47.000+0000",
      "created": "2021-08-31T12:45:30.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhile Bamboo blacklists subnet{color:#172b4d}s if \"InsufficientInstanceCapacity\" is reported, it doesn't do so if the error code is \"InsufficientFreeAddressesInSubnet\".{color}\r\nh3. Steps to Reproduce\r\n # Configure AWS using 2 subnets\r\n # Use all available addresses in one subnet\r\n # Request new AWS instance\r\n\r\nh3. Expected Results\r\n\r\nBamboo blacklists the overloaded subnet and cease to request new instances in it. While some requests might fail (depending on timing), those errors should stop shortly.\r\nh3. Actual Results\r\n\r\nThe below exceptions _continue_ to be thrown even after few minutes after the 1st failure.\r\n{noformat}\r\ncom.amazonaws.services.ec2.model.AmazonEC2Exception: There are not enough free addresses in subnet 'subnet-0ab9fae27bc3a3fc1' to satisfy the requested number of instances. (Service: AmazonEC2; Status Code: 400; Error Code: InsufficientFreeAddressesInSubnet; Request ID: 6a5f4917-76da-4893-a480-366f148a212b)\r\n{noformat}\r\nh3. Workaround\r\n # Simply wait: automatic instance launcher will retry launching new instances as long as there are builds waiting for them\r\n # Temporarily remove the affected subnet from the image configuration.",
      "summary": "In some cases Bamboo continues to request new AWS instances in overloaded subnet"
    }
  },
  {
    "key": "BAM-21404",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:41.000+0000",
      "created": "2021-08-31T12:09:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a schedule or remote trigger is added to the YAML specs, the project is imported but an error is thrown in the logs\r\nh3. Steps to Reproduce\r\n # Link a new repository to Bamboo with the following content for the {{/bamboo-specs/bamboo.yaml}} file\r\n{noformat}\r\nversion: 2\r\nplan:\r\n  project-key: SMT\r\n  key: TST\r\n  name: First Plan aka. Plan A\r\ntriggers:\r\n- cron: 0 30 6 ? * 5,2,6,3,4\r\nstages:\r\n- Default Stage:\r\n    manual: false\r\n    final: false\r\n    jobs:\r\n    - Default Job\r\nDefault Job:\r\n  key: JOB1\r\n  tasks:\r\n  - script:\r\n      interpreter: SHELL\r\n      scripts:\r\n      - echo test > text.txt\r\n  artifacts:\r\n  - name: Text\r\n    pattern: '**/*.txt'\r\n    shared: true\r\n    required: true\r\nbranches:\r\n  create: manually\r\n  delete: never\r\n  link-to-jira: true\r\nnotifications: []\r\nlabels: []\r\nother:\r\n  concurrent-build-plugin: system-default\r\n{noformat}\r\n\r\n # Make sure you have a project with the key {{SMT}}\r\n # Enable specs for the repository\r\n # Run a manual scan for specs\r\n\r\nh3. Expected Results\r\n\r\nThe plan will be imported with no errors in the logs.\r\nh3. Actual Results\r\n\r\nthe plan is imported but the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2021-08-31 12:01:23,956 ERROR [17-BAM::SpecsDetection:pool-25-thread-1] [BambooPluginUtils] Error parse YAML trigger\r\ncom.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: triggers / [0] / tag: Property is required.\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkThat(ImporterUtils.java:40)\r\n\tat com.atlassian.bamboo.specs.yaml.BambooYamlParserUtils.checkPresent(BambooYamlParserUtils.java:87)\r\n\tat com.atlassian.bamboo.specs.yaml.MapNode.getNode(MapNode.java:117)\r\n\tat com.atlassian.bamboo.trigger.exporters.TagTriggerDefinitionExporter.fromYaml(TagTriggerDefinitionExporter.java:119)\r\n\tat com.atlassian.bamboo.trigger.exporters.TagTriggerDefinitionExporter.fromYaml(TagTriggerDefinitionExporter.java:34)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlParserImpl$6.call(BambooYamlParserImpl.java:1174)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlParserImpl$6.call(BambooYamlParserImpl.java:1170)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils.callUnsafeCode(BambooPluginUtils.java:55)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlParserImpl.parseTrigger(BambooYamlParserImpl.java:1170)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlParserImpl.lambda$null$4(BambooYamlParserImpl.java:208)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlParserImpl.lambda$parsePlan$5(BambooYamlParserImpl.java:209)\r\n\tat java.base/java.util.Optional.map(Optional.java:265)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlParserImpl.parsePlan(BambooYamlParserImpl.java:207)\r\n\tat com.atlassian.bamboo.configuration.external.rss.YamlSpecsImportServiceImpl.parseYaml(YamlSpecsImportServiceImpl.java:161)\r\n\tat com.atlassian.bamboo.configuration.external.rss.YamlSpecsImportServiceImpl.processSimplifiedYaml(YamlSpecsImportServiceImpl.java:107)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.tryProcessYaml(RepositoryStoredSpecsServiceImpl.java:338)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:184)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:374)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n{noformat}\r\nh3. Workaround\r\n\r\nFrom our tests, this BUG seems to be harmless so no workaround needs to be provided.",
      "summary": "Adding triggers definitions in YAML specs causes an unexpected error in the logs"
    }
  },
  {
    "key": "BAM-21403",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:36.000+0000",
      "created": "2021-08-30T23:03:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nRSS import breaks if a property is defined to the Source code checkout task at the specs file and no repository is defined for the plan\r\nh3. Steps to Reproduce\r\n # Link a new repository to Bamboo with the following content for the {{/bamboo-specs/bamboo.yaml}} file\r\n{noformat}\r\nversion: 2\r\nplan:\r\n  project-key: SMT\r\n  key: TST\r\n  name: First Plan aka. Plan A\r\nstages:\r\n- Default Stage:\r\n    manual: false\r\n    final: false\r\n    jobs:\r\n    - Default Job\r\nDefault Job:\r\n  key: JOB1\r\n  tasks:\r\n  - checkout:\r\n      force-clean-build: 'true'\r\n  - script:\r\n      interpreter: SHELL\r\n      scripts:\r\n      - echo test > text.txt\r\n  artifacts:\r\n  - name: Text\r\n    pattern: '**/*.txt'\r\n    shared: true\r\n    required: true\r\nbranches:\r\n  create: manually\r\n  delete: never\r\n  link-to-jira: true\r\nnotifications: []\r\nlabels: []\r\nother:\r\n  concurrent-build-plugin: system-default\r\n{noformat}\r\n # Make sure you have a project with the key {{SMT}}\r\n # Enable specs for the repository\r\n # Run a manual scan for specs\r\n\r\nh3. Expected Results\r\n * The plan will be created with one stage and one job with two tasks, Source code checkout and a script task.\r\n * The source code checkout task will use the repository containing the specs code as the default.\r\n\r\nh3. Actual Results\r\n\r\nThe specs scan fails with the following error at the UI:\r\n{noformat}\r\n30-Aug-2021 22:39:30\tBamboo YAML import failed: com.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: Duplicated repository name within a plan: yamlrss\r\n30-Aug-2021 22:39:30\t\r\n30-Aug-2021 22:39:30\t\r\n30-Aug-2021 22:39:30\tDo you need help? Please visit http://docs.atlassian.com/bamboo/docs-0800/Bamboo+Specs+troubleshooting\r\n30-Aug-2021 22:39:30\t\r\n{noformat}\r\nAnd the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2021-08-30 22:39:30,725 INFO [17-BAM::SpecsDetection:pool-25-thread-3] [YamlSpecsImportServiceImpl] Bamboo YAML import failed on incorrect YAML\r\ncom.atlassian.bamboo.specs.yaml.YamlSpecsValidationException: com.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: Duplicated repository name within a plan: yamlrss\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlToSpecsConverterImpl.validateEntity(BambooYamlToSpecsConverterImpl.java:929)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlToSpecsConverterImpl.createPlan(BambooYamlToSpecsConverterImpl.java:163)\r\n\tat com.atlassian.bamboo.configuration.external.rss.YamlSpecsImportServiceImpl.parseYaml(YamlSpecsImportServiceImpl.java:163)\r\n\tat com.atlassian.bamboo.configuration.external.rss.YamlSpecsImportServiceImpl.processSimplifiedYaml(YamlSpecsImportServiceImpl.java:107)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.tryProcessYaml(RepositoryStoredSpecsServiceImpl.java:338)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:184)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:374)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: Duplicated repository name within a plan: yamlrss\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkNoErrors(ImporterUtils.java:55)\r\n\tat com.atlassian.bamboo.specs.api.model.plan.PlanProperties.validate(PlanProperties.java:235)\r\n\tat com.atlassian.bamboo.specs.api.model.plan.PlanProperties.<init>(PlanProperties.java:123)\r\n\tat com.atlassian.bamboo.specs.api.builders.plan.Plan.build(Plan.java:657)\r\n\tat com.atlassian.bamboo.specs.api.builders.plan.Plan.build(Plan.java:65)\r\n\tat com.atlassian.bamboo.specs.api.builders.CallEntityPropertiesBuilder.build(CallEntityPropertiesBuilder.java:10)\r\n\tat com.atlassian.bamboo.specs.api.util.EntityPropertiesBuilders.build(EntityPropertiesBuilders.java:14)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlToSpecsConverterImpl.validateEntity(BambooYamlToSpecsConverterImpl.java:927)\r\n\t... 16 more\r\n2021-08-30 22:39:30,787 INFO [17-BAM::SpecsDetection:pool-25-thread-3] [ImmutablePlanCacheServiceImpl] Invalidating SMT-TST\r\n2021-08-30 22:39:30,789 INFO [AtlassianEvent::0-BAM::EVENTS:pool-2-thread-33] [BitbucketServerRssStatusUpdater] Sending RSS notification to Stash (repository: yamlrss)\r\n2021-08-30 22:39:30,859 INFO [17-BAM::SpecsDetection:pool-25-thread-3] [RssDetectionRunnable] Exception while executing RSS detection for RssDetectionWork[repository=786435,branch=master]\r\ncom.atlassian.bamboo.specs.yaml.YamlSpecsValidationException: com.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: Duplicated repository name within a plan: yamlrss\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlToSpecsConverterImpl.validateEntity(BambooYamlToSpecsConverterImpl.java:929)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlToSpecsConverterImpl.createPlan(BambooYamlToSpecsConverterImpl.java:163)\r\n\tat com.atlassian.bamboo.configuration.external.rss.YamlSpecsImportServiceImpl.parseYaml(YamlSpecsImportServiceImpl.java:163)\r\n\tat com.atlassian.bamboo.configuration.external.rss.YamlSpecsImportServiceImpl.processSimplifiedYaml(YamlSpecsImportServiceImpl.java:107)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.tryProcessYaml(RepositoryStoredSpecsServiceImpl.java:338)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:184)\r\n\tat com.atlassian.bamboo.configuration.external.RssDetectionServiceImpl.runRssDetection(RssDetectionServiceImpl.java:374)\r\n\tat com.atlassian.bamboo.configuration.external.detection.RssDetectionRunnable.run(RssDetectionRunnable.java:42)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.atlassian.bamboo.specs.api.exceptions.PropertiesValidationException: Duplicated repository name within a plan: yamlrss\r\n\tat com.atlassian.bamboo.specs.api.validators.common.ImporterUtils.checkNoErrors(ImporterUtils.java:55)\r\n\tat com.atlassian.bamboo.specs.api.model.plan.PlanProperties.validate(PlanProperties.java:235)\r\n\tat com.atlassian.bamboo.specs.api.model.plan.PlanProperties.<init>(PlanProperties.java:123)\r\n\tat com.atlassian.bamboo.specs.api.builders.plan.Plan.build(Plan.java:657)\r\n\tat com.atlassian.bamboo.specs.api.builders.plan.Plan.build(Plan.java:65)\r\n\tat com.atlassian.bamboo.specs.api.builders.CallEntityPropertiesBuilder.build(CallEntityPropertiesBuilder.java:10)\r\n\tat com.atlassian.bamboo.specs.api.util.EntityPropertiesBuilders.build(EntityPropertiesBuilders.java:14)\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlToSpecsConverterImpl.validateEntity(BambooYamlToSpecsConverterImpl.java:927)\r\n\t... 16 more\r\n{noformat}\r\nh3. Workaround\r\n\r\nThere are two options identifies so far:\r\nh5. 1. Remove the definitions for the checkout task, i.e:\r\n{code:yaml}\r\n- checkout: \r\n      force-clean-build: 'true'\r\n{code}\r\nh5. 2. Add the definition for the default repository as per [Referring linked repositories|https://docs.atlassian.com/bamboo-specs-docs/8.0.0/specs.html?yaml#referring-project-repositories] documentation, i.e:\r\n{code:yaml}\r\nrepositories: \r\n- yamlrss: \r\n      scope: global\r\n{code}\r\n(?)\u00a0Where \"yamlrss\" is the name of the linked repository",
      "summary": "RSS import breaks if a property is defined to the Source code checkout task at the specs file"
    }
  },
  {
    "key": "BAM-21402",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-30T17:40:07.000+0000",
      "description": "It would be helpful to have an option to \"Include Agent Logs\" when creating a Support Zip in Bamboo. This would allow all logs to be gathered from a single place when working on Agent issues, simplifying the data gathering phase of the support process.\u00a0",
      "summary": "Option to include Agent logs when creating Support Zip"
    }
  },
  {
    "key": "BAM-21401",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-27T08:38:03.000+0000",
      "description": "Bamboo Spec implementation uses Apache HttpClient to connect Bamboo server. Apache HttpClient ignores the system proxy setting by default. The well known system properties don't work:\r\n\r\n\u00a0\r\n{code:java}\r\nSystem.setProperty(\"http.proxyHost\", \"proxy.server.com\");\r\nSystem.setProperty(\"http.proxyPort\", \"1234\");\r\n{code}\r\n\u00a0\r\n\r\nCould you please extend the implementation of the class\r\n{code:java}\r\ncom.atlassian.bamboo.specs.util.RestHelper\r\n{code}\r\nThe Apache HttpClient instance created by\u00a0RestHelper must be aware of the system properties. It looks similar to this:\r\n{code:java}\r\nHttpClientBuilder.create().useSystemProperties().build();\r\n{code}",
      "summary": "Bamboo Spec. Allow using HTTP proxy for plan publishing."
    }
  },
  {
    "key": "BAM-21400",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-27T05:08:20.000+0000",
      "description": "h3. Problem Description\r\n\r\nAs a systems administrator, I am granted a 5-minute lock timeout from an active Bamboo instance. It is not possible to manipulate the lock even if the active Bamboo instance is shut down. The static 5-minute lock imposes a forced delay to any cluster takeover or manual switching between cluster members (or passive/disaster recovery takeovers)\r\n\r\n\r\nh3. Suggested Solution\r\n\r\nDefine a way to:\r\n* Tune the lock timeout // Cluster takeover time (to allow fine-grained control over cluster timings)\r\n* Retrieve the lock ownership and status (for monitoring)\r\n* Release the lock immediately after shutdown (so other nodes can takeover immediately)\r\n* Hold the lock so other nodes will not take over the service (in case the active node just needs to restart but still remain active)\r\n* Forcibly takeover the lock by special initialisation flag (to be used in a hard takeover from the passive node)\r\n\r\nSettings can be set either via properties/java env or from the API.",
      "summary": "Allow the user to control cluster locking release and failover mechanism"
    }
  },
  {
    "key": "BAM-21399",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-03T13:10:16.000+0000",
      "created": "2021-08-26T21:51:35.000+0000",
      "description": "Hello,\r\nWhen we want to upgrade, we get the following error. We couldn't figure out why. can you help me.\r\n\r\nLOGS\r\n2021-08-27 00:09:40,620 INFO [localhost-startStop-1] [UpgradeTask70302ReorganiseHomeDirectory] Setting configuration property [buildWorkingDir] to [${bambooHome}/local-working-dir].\r\n2021-08-27 00:09:40,622 ERROR [localhost-startStop-1] [AbstractUpgradeManager] java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n at com.atlassian.bamboo.upgrade.tasks.v8_0.UpgradeTask70302ReorganiseHomeDirectory.lambda$doUpgrade$0(UpgradeTask70302ReorganiseHomeDirectory.java:72)\r\n at com.atlassian.bamboo.upgrade.BootstrapTaskConnectionProvider.withNoConnectionAllowed(BootstrapTaskConnectionProvider.java:63)\r\n at com.atlassian.bamboo.upgrade.tasks.v8_0.UpgradeTask70302ReorganiseHomeDirectory.doUpgrade(UpgradeTask70302ReorganiseHomeDirectory.java:71)\r\n at com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:230)\r\n at com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.doUpgrade(BootstrapUpgradeManagerImpl.java:75)\r\n at com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:394)\r\n at com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:81)\r\n at com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:155)\r\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4705)\r\n at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5171)\r\n at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n at java.lang.Thread.run(Thread.java:748)\r\n2021-08-27 00:09:40,624 INFO [localhost-startStop-1] [AbstractUpgradeManager] Task 70302 completed successfully.\r\n2021-08-27 00:09:40,624 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Pre-bootstrap upgrade tasks failed\r\ncom.atlassian.upgrade.UpgradeException: Pre-bootstrap upgrade tasks failed: [Task for build 70302 failed with exception: null]\r\n at com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:396)\r\n at com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:81)\r\n at com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:155)\r\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4705)\r\n at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5171)\r\n at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n at java.lang.Thread.run(Thread.java:748)\r\n\r\n2021-08-27 00:09:43,505 FATAL [http-nio-8085-exec-3] [SpringContainerContext] Spring Application context has not been set\r\n2021-08-27 00:09:43,505 INFO [http-nio-8085-exec-3] [CrowdAuthenticator] Error while attempting to check if user isAuthenticated with Crowd\r\nio.atlassian.util.concurrent.LazyReference$InitializationException: java.lang.IllegalStateException: Spring Application context has not been set\r\n        at io.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:156)\r\n        at io.atlassian.util.concurrent.LazyReference.get(LazyReference.java:116)\r\n        at com.atlassian.crowd.integration.seraph.v25.BambooAuthenticator.lambda$newAuthenticator$1(BambooAuthenticator.java:90)\r\n        at com.sun.proxy.$Proxy28.checkAuthenticated(Unknown Source)\r\n        at com.atlassian.crowd.integration.http.CacheAwareCrowdHttpAuthenticator.checkAuthenticated(CacheAwareCrowdHttpAuthenticator.java:78)\r\n        at com.atlassian.crowd.integration.seraph.CrowdAuthenticator.checkAuthenticated(CrowdAuthenticator.java:269)\r\n        at com.atlassian.crowd.integration.seraph.CrowdAuthenticator.getUser(CrowdAuthenticator.java:397)\r\n        at com.atlassian.seraph.auth.AbstractAuthenticator.getUser(AbstractAuthenticator.java:45)\r\n        at com.atlassian.seraph.filter.BaseLoginFilter$SecurityHttpRequestWrapper.getUserPrincipal(BaseLoginFilter.java:238)\r\n        at com.atlassian.seraph.filter.BaseLoginFilter$SecurityHttpRequestWrapper.getRemoteUser(BaseLoginFilter.java:225)\r\n        at com.atlassian.bamboo.filter.AccessLogFilter.getStartText(AccessLogFilter.java:112)\r\n        at com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:84)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)",
      "summary": "Bamboo 7.2.2 to 8.0.0 upgrade problem"
    }
  },
  {
    "key": "BAM-21398",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:14.000+0000",
      "created": "2021-08-26T19:34:36.000+0000",
      "description": "h3. Issue Summary\r\nWhen starting Bamboo 8 after upgrading the \"Atlassian Troubleshooting and Support Tools\" plugin to the current latest version (1.32.13), the _com.atlassian.stash.plugins.stash-remote-event-bamboo-spi_ plugin fails to start breaking all Bitbucket repositories integration like repositories configuration, checkouts, creating new repository configuration...\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Install a fresh instance of Bamboo 8\r\n# Go to Cog>Overview>Manage apps\r\n# Hit \"Update\" on \"Atlassian Troubleshooting and Support Tools\" v. 1.32.13\r\n# Restart Bamboo\r\n\r\nh3. Expected Results\r\nBamboo starts normally.\r\n\r\nh3. Actual Results\r\n\r\nThe below error is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n021-08-26 14:17:38,786 ERROR [ThreadPoolAsyncTaskExecutor::Thread 6] [OsgiPlugin] Unable to start the plugin container for plugin 'com.atlassian.stash.plugins.stash-remote-event-bamboo-spi'\r\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.atlassian.com/schema/atlassian-scanner]\r\nOffending resource: URL [bundle://103.0:0/META-INF/spring/spring-scanner.xml]\r\n\r\n\tat org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72)\r\n\tat org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:119)\r\n\tat org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:111)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.error(BeanDefinitionParserDelegate.java:281)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1388)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:171)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:141)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:676)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:239)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:217)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:154)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:213)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source){noformat}\r\n\r\nAnd the Bitbucket bundled plugin is not able to start.\r\n\r\nh3. Workaround\r\n\r\n # Stop Bamboo;\r\n # Go to\u00a0{{<bamboo-home>}}\u00a0and delete all the content inside these folders:\r\n{noformat}\r\n/caches\r\n/temp\r\n{noformat}\r\n # Navigate to\u00a0{{<bamboo-home>/shared}}\u00a0and delete all the content inside the folders below:\r\n{noformat}\r\n/jms-store\r\n/index\r\n{noformat}\r\n # Delete the {{<bamboo-home>/shared/plugins/plugin.13014361253526886021.plugin-bamboo-1.32.13.jar}} file\r\n # Start Bamboo",
      "summary": "Failure to start Bitbucket bundled plugin breaks repository integration"
    }
  },
  {
    "key": "BAM-21397",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-21T08:13:52.000+0000",
      "created": "2021-08-26T19:13:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo gets tags during Change Detection.  Repositories with lots of tags can extend this time.\r\nh3. Steps to Reproduce\r\n # Install Bamboo. Create one linked repository and one build plan to a repository that has at least 5,000 tags.\r\n # For the build, use the default Source Code Checkout.\r\n # Turn on Debug logging for {{com.atlassian.bamboo.plugins.git}}\r\n # Run the following command in a local clone of the git repository listed in step one in the default branch:\r\n ** \r\n{code:java}\r\n echo \"$i `date`\" >> text ;  git add . ;  git commit -m \"This is a commit $i `date`\" ;  git push   {code}\r\n # Look for a log like:\r\n ** \r\n{noformat}\r\n2021-08-26 18:50:25,718 DEBUG [10-BAM::PlanExec:pool-18-thread-3] [GitCommandProcessor] Running in /var/atlassian/application-data/bamboo/xml-data/build-dir/_git-repositories-cache/9de01b54098ea2a888c7e00fe44cc0e2b159ff36: [/usr/bin/git fetch ssh://0fafb437-9a3a-4d7b-aba9-e913368815c4@127.0.0.1:39519/tr/testrepo.git +refs/heads/test:refs/heads/test --update-head-ok]\r\n{noformat}\r\n\r\nh3. Expected Results\r\n\r\nI would expect the following command to be run:\r\n\r\n{noformat}\r\n/usr/bin/git fetch ssh://0fafb437-9a3a-4d7b-aba9-e913368815c4@127.0.0.1:39519/tr/testrepo.git +refs/heads/test:refs/heads/test --update-head-ok. --no-tag\r\n{noformat} \r\n\r\nh3. Actual Results\r\n\r\nActual command run:\r\n{noformat}\r\n/usr/bin/git fetch ssh://0fafb437-9a3a-4d7b-aba9-e913368815c4@127.0.0.1:39519/tr/testrepo.git +refs/heads/test:refs/heads/test --update-head-ok\r\n{noformat} \r\n\r\nThis fetch gets tags by default.  For repositories with lots of tags this could make a large difference in how long detection happens.\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Change Detection takes an extended time on repositories with lots of git tags"
    }
  },
  {
    "key": "BAM-21396",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-26T09:47:30.000+0000",
      "description": "h3. Current Situation\r\nOur document [Locating important directories and files|https://confluence.atlassian.com/bamboo/locating-important-directories-and-files-289277247.html] could benefit from the KB [Disk space hotspots and cleanup best practices in Bamboo|https://confluence.atlassian.com/bamkb/disk-space-hotspots-and-cleanup-best-practices-in-bamboo-1079351744.html]\r\n\r\nh3. Accepted solution\r\nMention (and refer whenever needed) the KB in the official documentation. ",
      "summary": "Improve the \"Locating important directories and files\" page"
    }
  },
  {
    "key": "BAM-21395",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:31.000+0000",
      "created": "2021-08-26T06:56:36.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen trying an import, the process will fail with a constraint violation exception.\r\nh3. Steps to Reproduce\r\n\r\nThis error has been observed when:\r\n # An Bamboo export is done with a MSSQL DB. Size of build results is more than 10000 elements\r\n # Build results use Warnings parser task and have referenced warnings.\r\n # The import is done with a Postgres DB.\r\n\r\nh3. Expected Results\r\n\r\nImport successful.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in atlassian-bamboo.log:\r\n{noformat}\r\n2021-08-09 17:10:31,163 ERROR [http-nio-8085-exec-7] [SqlExceptionHelper] Referential integrity constraint violation: \"FK_GP357KL07X691DI4I2XN0C8HI: PUBLIC.BUILDRESULTSUMMARY FOREIGN KEY(STAGERESULT_ID) REFERENCES PUBLIC.CHAIN_STAGE_RESULT(STAGERESULT_ID) (18942327)\"; SQL statement:\r\ninsert into BUILDRESULTSUMMARY (CREATED_DATE, BUILD_KEY, PLAN_NAME, BUILD_NUMBER, BUILD_STATE, LIFE_CYCLE_STATE, BUILD_DATE, BUILD_CANCELLED_DATE, BUILD_COMPLETED_DATE, DURATION, PROCESSING_DURATION, TIME_TO_FIX, TRIGGER_REASON, DELTA_STATE, BUILD_AGENT_ID, STAGERESULT_ID, RESTART_COUNT, QUEUE_TIME, MARKED_FOR_DELETION, ONCE_OFF, CUSTOM_BUILD, REBUILD, LOG_SIZE, VARIABLE_CONTEXT_BASELINE_ID, FORMAT_VERSION, FAILURE_TEST_COUNT, SUCCESS_TEST_COUNT, TOTAL_TEST_COUNT, BROKEN_TEST_COUNT, EXISTING_TEST_COUNT, FIXED_TEST_COUNT, TOTAL_TEST_DURATION, QUARANTINED_TEST_COUNT, SKIPPED_TEST_COUNT, VCS_UPDATE_TIME, CHAIN_RESULT, BUILD_TYPE, BUILDRESULTSUMMARY_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'BUILD', ?) [23506-196]\r\n2021-08-09 17:10:31,165 WARN [http-nio-8085-exec-7] [BambooStAXMappingHelperAbstractImpl] Exception during processing warnings.warning #1\r\njavax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1460)\r\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1440)\r\n    at com.atlassian.bamboo.migration.BambooStAXListImportStrategy$3$1.doInTransaction(BambooStAXListImportStrategy.java:105)\r\n    at com.atlassian.bamboo.migration.BambooStAXListImportStrategy$3$1.doInTransaction(BambooStAXListImportStrategy.java:89)\r\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n    at com.atlassian.bamboo.migration.BambooStAXListImportStrategy$3.importListItems(BambooStAXListImportStrategy.java:89)\r\n    at com.atlassian.bamboo.migration.BambooStAXListImportStrategy.importListXml(BambooStAXListImportStrategy.java:223)\r\n    at com.atlassian.bamboo.migration.BambooStAXMappingListHelperAbstractImpl.importListXml(BambooStAXMappingListHelperAbstractImpl.java:190)\r\n    (...)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:128)\r\n    at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:104)\r\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:147)\r\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.getBatch(JdbcCoordinatorImpl.java:201)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3145)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3686)\r\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90)\r\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:596)\r\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:470)\r\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\r\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)\r\n    ... 233 more\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Import failed with fk_gp357kl07x691di4i2xn0c8hi constraint violation"
    }
  },
  {
    "key": "BAM-21394",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-26T00:40:42.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, it's not possible to rename or update a project name via REST API.\r\n\r\nh3. Suggested Solution\r\nAdd an API that allows updating / renaming a project.\r\n\r\nh3. Workaround\r\nThe only way to rename a project is via the UI or if your plans and projects are managed by Bamboo Specs:\r\n* [https://confluence.atlassian.com/bamboo/bamboo-specs-894743906.html|https://confluence.atlassian.com/bamboo/bamboo-specs-894743906.html]",
      "summary": "REST API for renaming / updating project name"
    }
  },
  {
    "key": "BAM-21393",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:19.000+0000",
      "created": "2021-08-25T00:07:18.000+0000",
      "description": "h3. Problem\r\n\r\nAfter upgrading from Bamboo 6.3 to 7.2.4 it was noticed a severe slowdown in the export process.\r\n\r\nFor every job result, Bamboo fetches associated build result warnings even if there're no results warnings. Given that there're a lot of job results, Bamboo now executes a large number of additional select queries that return nothing and are taking a lot of time to execute.\r\nh3. Environment\r\n\r\nBamboo 6.7 or later\r\nh3. Steps to Reproduce\r\n # Bamboo 6.7 or later versions\r\n # Large build results in DB\r\n # Empty build results in summary warnings DB\r\n # Export Bamboo\r\n\r\nTrigger a scheduled backup or manual export. Observe that during the export, Bamboo spends a considerable amount of time during Plan exports:\r\n\r\n\u00a0\r\n{code:java}\r\n2021-08-22 19:37:51,154 INFO [http-nio-8088-exec-22] [AbstractProjectMapper] Exporting project [MYPLAN115]\r\n2021-08-22 19:37:51,166 INFO [http-nio-8088-exec-22] [ProjectMapper] Exporting rss repositories from project [MYPLAN115]\r\n2021-08-22 19:37:51,768 INFO [http-nio-8088-exec-22] [ProjectMapper] Exporting all jobs (master + branches) from project [MYPLAN115]\r\n2021-08-22 19:37:51,779 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XRXFUNFACT228API-JOB1\r\n2021-08-22 19:37:51,781 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XRXFUNFACT228API-J2DS\r\n2021-08-22 19:37:51,789 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XR-JOB1\r\n2021-08-22 19:37:51,790 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XR-J2DS\r\n2021-08-22 19:37:51,796 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XRXFUNFACT228WEB-JOB1\r\n2021-08-22 19:37:51,797 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XRXFUNFACT228WEB-J2DS\r\n**** SLOWNESS HERE ===>>>>> 2021-08-22 19:37:51,798 INFO [http-nio-8088-exec-22] [ProjectMapper] Exporting chains from project [MYPLAN115]\r\n2021-08-22 19:37:51,799 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XRXFUNFACT228API\r\n2021-08-22 19:39:39,946 DEBUG [http-nio-8088-exec-22] [AbstractPlanMapper] Exporting plan MYPLAN115-XR\r\n{code}\r\nThe database is hammered with queries such as the following. It looks like it is some kind of loop through BUILDRESULTSUMMARY_ID. The database is not the bottleneck. Queries are light but their numbers/repetitions are massive.\r\n\r\n\u00a0\r\n{code:java}\r\n2021-08-20T10:21:58.936844Z\u00a0 \u00a0 \u00a0 \u00a0 10 Query \u00a0 \u00a0 select buildresul0_.STAGERESULT_ID as stagere18_20_0_, buildresul0_.BUILDRESULTSUMMARY_ID as buildres1_20_0_, buildresul0_.BUILDRESULTSUMMARY_ID as buildres1_20_1_, buildresul0_.BUILD_TYPE as build_ty2_20_1_, buildresul0_.CREATED_DATE as created_3_20_1_, buildresul0_.BUILD_KEY as build_ke4_20_1_, buildresul0_.PLAN_NAME as plan_nam5_20_1_, buildresul0_.BUILD_NUMBER as build_nu6_20_1_, buildresul0_.BUILD_STATE as build_st7_20_1_, buildresul0_.LIFE_CYCLE_STATE as life_cyc8_20_1_, buildresul0_.BUILD_DATE as build_da9_20_1_, buildresul0_.BUILD_CANCELLED_DATE as build_c10_20_1_, buildresul0_.BUILD_COMPLETED_DATE as build_c11_20_1_, buildresul0_.DURATION as duratio12_20_1_, buildresul0_.PROCESSING_DURATION as process13_20_1_, buildresul0_.TIME_TO_FIX as time_to14_20_1_, buildresul0_.TRIGGER_REASON as trigger15_20_1_, buildresul0_.DELTA_STATE as delta_s16_20_1_, buildresul0_.BUILD_AGENT_ID as build_a17_20_1_, buildresul0_.STAGERESULT_ID as stagere18_20_1_, buildresul0_.RESTART_COUNT as restart19_20_1_, buildresul0_.QUEUE_TIME as queue_t20_20_1_, buildresul0_.MARKED_FOR_DELETION as marked_21_20_1_, buildresul0_.ONCE_OFF as once_of22_20_1_, buildresul0_.CUSTOM_BUILD as custom_23_20_1_, buildresul0_.REBUILD as rebuild24_20_1_, buildresul0_.LOG_SIZE as log_siz25_20_1_, buildresul0_.VARIABLE_CONTEXT_BASELINE_ID as variabl26_20_1_, buildresul0_.FORMAT_VERSION as format_27_20_1_, buildresul0_.FAILURE_TEST_COUNT as failure28_20_1_, buildresul0_.SUCCESS_TEST_COUNT as success29_20_1_, buildresul0_.TOTAL_TEST_COUNT as total_t30_20_1_, buildresul0_.BROKEN_TEST_COUNT as broken_31_20_1_, buildresul0_.EXISTING_TEST_COUNT as existin32_20_1_, buildresul0_.FIXED_TEST_COUNT as fixed_t33_20_1_, buildresul0_.TOTAL_TEST_DURATION as total_t34_20_1_, buildresul0_.QUARANTINED_TEST_COUNT as quarant35_20_1_, buildresul0_.SKIPPED_TEST_COUNT as skipped36_20_1_, buildresul0_.VCS_UPDATE_TIME as vcs_upd37_20_1_, buildresul0_.CHAIN_RESULT as chain_r38_20_1_ from BUILDRESULTSUMMARY buildresul0_ where buildresul0_.STAGERESULT_ID=427198266\r\n2021-08-20T10:21:58.937309Z\u00a0 \u00a0 \u00a0 \u00a0 10 Query \u00a0 \u00a0 select relevantch0_.BUILDRESULTSUMMARY_ID as buildres1_98_0_, relevantch0_.REPOSITORY_CHANGESET_ID as reposito2_98_0_, repository1_.REPOSITORY_CHANGESET_ID as reposito1_100_1_, repository1_.BUILDRESULTSUMMARY_ID as buildres2_100_1_, repository1_.VCS_LOCATION_ID as vcs_loca3_100_1_, repository1_.CHANGESET_ID as changese4_100_1_, repository1_.SKIPPED_COMMITS_COUNT as skipped_5_100_1_, repository1_.LIST_POSITION as list_pos6_100_1_, repository1_.BUILD_TRIGGER as build_tr7_100_1_ from RELEVANT_CHANGESETS relevantch0_ inner join REPOSITORY_CHANGESET repository1_ on relevantch0_.REPOSITORY_CHANGESET_ID=repository1_.REPOSITORY_CHANGESET_ID where relevantch0_.BUILDRESULTSUMMARY_ID=427068499{code}\r\n\u00a0\r\n\r\nJava Flames:\r\n\r\n!java_flames.png|width=1193,height=569!\r\nh3. Expected Results\r\n\r\nThe export process should not take that long doing empty SQL queries in a loop.\r\nh3. Actual Results\r\n\r\nThe export process takes up to 3 to 4 times more time when compared to Bamboo 6.6 or earlier releases.\r\nh3. Workaround\r\n\r\nUse an\u00a0[external Backup method|https://confluence.atlassian.com/bamkb/automating-bamboo-backup-operations-702715390.html]\u00a0\r\nh3. Notes\r\n\r\nWhen. implementing a fix please consider adding a choice in the export menu to skip build result warnings or maybe optimise the export process so queries won't have to check that for each build result.",
      "summary": "Bamboo backup/export takes long time after version upgrade"
    }
  },
  {
    "key": "BAM-21392",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-02T10:22:26.000+0000",
      "created": "2021-08-24T13:25:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUpgrading Bamboo to\u00a08.0.0 and connected to an Oracle database the upgrade with _\"ORA-22859: invalid modification of columns\"_ errors.\r\n\r\nh3. Diagnosis\r\n\r\nLook for the DDL of the following tables and check the data type of the following columns:\r\n||TABLE_NAME||COLUMN||\r\n|CWD_PROPERTY|PROPERTY_VALUE|\r\n|CWD_SYNCHRONISATION_TOKEN|SYNC_STATUS_TOKEN|\r\n|CWD_SYNCHRONISATION_STATUS|STATUS_PARAMETERS|\r\n|CWD_APPLICATION_ATTRIBUTE|ATTRIBUTE_VALUE|\r\n\r\nUpgrade task # 80004 will attempt to convert the following columns data types from LONG to CLOB. If they are set to CLOB by the time you attempt to upgrade the application, the process will fail.\r\n\r\nThe following select query will help you extract the DDL for the tables above:\r\n{code:sql}\r\nselect dbms_metadata.get_ddl('TABLE', 'TABLE_NAME', 'SCHEMA_NAME') from dual;\r\n{code}\r\n^You must replace TABLE, TABLE_NAME (with the names of the tables above) and SCHEMA_NAME before running the select query.^\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Start an upgrade from Bamboo version \u2264 7.2.5 to\u00a0\u2265 8.0.0 connected to Oracle.\r\n# Stop the upgrade to make it fail after completing *UpgradeTask80004ConvertOracleLongToClob* to simulate an issue with the upgrade process.\r\n# Restart the application to kick off the upgrade process again (or fix whatever problem caused the upgrade to stop after it ran *UpgradeTask80004ConvertOracleLongToClob*).\r\n\r\nOR\r\n\r\n# Upgrade your Bamboo instance twice to force both upgrade tasks to happen one after the other # 70003 (*UpgradeTask70003ChangeECDirectoryAttributeColumnType*) and # 80004 (*UpgradeTask80004ConvertOracleLongToClob*).\r\n# Start an upgrade from Bamboo version 6.10.6 to\u00a07.2.2 connected to Oracle.\r\n# Once the upgrade is complete upgrade again from Bamboo version 7.2.5 to\u00a08.0.0 connected to Oracle.\r\n\r\nh3. Expected Results\r\n\r\nUpgrade process does not fail on *UpgradeTask80004ConvertOracleLongToClob* and completes successfully.\r\n\r\nThe upgrade task should check those columns before attempting to convert them to see if have been changed already and make a decision on whether to proceed or skip the update.\r\n\r\nh3. Actual Results\r\n\r\nThe upgrade fails with the following errors inside the [<Bamboo server home directory>|https://confluence.atlassian.com/bamboo/locating-important-directories-and-files-289277247.html]/logs/atlassian-bamboo.log because those columns have already been set to CLOB in a previous upgrade run.\r\n\r\nThe fact that the tables are set to CLOB indicate that a) you have upgraded Bamboo in the past and the some of those columns have already been converted to CLOB by upgrade task # 70003 (*UpgradeTask70003ChangeECDirectoryAttributeColumnType*) or b) you have probably attempted to upgrade that Bamboo database already (which could've been interrupted for another reason) but was enough to convert the columns to CLOB. Attempting to run another upgrade against the same database will fail because the columns are now set to CLOB.\r\n\r\n{noformat}\r\n2021-08-19 14:03:17,256 INFO [localhost-startStop-1] [AbstractUpgradeManager] ------------------------------------------------------------------\r\n2021-08-19 14:03:17,258 INFO [localhost-startStop-1] [AbstractUpgradeManager] 80004 : Convert columns of type LONG to CLOB on Oracle (bootstrap)\r\n2021-08-19 14:03:17,259 INFO [localhost-startStop-1] [AbstractUpgradeManager] ------------------------------------------------------------------\r\n2021-08-19 14:03:17,275 WARN [localhost-startStop-1] [HikariConfig] {} - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.\r\n2021-08-19 14:03:17,277 INFO [localhost-startStop-1] [HikariDataSource] HikariPool-2 - Starting...\r\n2021-08-19 14:03:17,340 INFO [localhost-startStop-1] [HikariDataSource] HikariPool-2 - Start completed.\r\n2021-08-19 14:03:17,545 ERROR [localhost-startStop-1] [AbstractUpgradeManager] java.sql.SQLException: ORA-22859: invalid modification of columns\r\n\r\njava.sql.SQLException: ORA-22859: invalid modification of columns\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:550)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:268)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:229)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:41)\r\n\tat oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:928)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1205)\r\n\tat oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1823)\r\n\tat oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1778)\r\n\tat oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:303)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\tat com.atlassian.bamboo.utils.db.JdbcUtils.execute(JdbcUtils.java:59)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v8_0.UpgradeTask80004ConvertOracleLongToClob.lambda$doUpgrade$1(UpgradeTask80004ConvertOracleLongToClob.java:56)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:65)\r\n\tat com.atlassian.bamboo.upgrade.tasks.v8_0.UpgradeTask80004ConvertOracleLongToClob.doUpgrade(UpgradeTask80004ConvertOracleLongToClob.java:50)\r\n\tat com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:230)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.doUpgrade(BootstrapUpgradeManagerImpl.java:75)\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:394)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:81)\r\n\tat com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:155)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4705)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5171)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: Error : 22859, Position : 33, Sql = alter table CWD_PROPERTY modify (PROPERTY_VALUE clob), OriginalSql = alter table CWD_PROPERTY modify (PROPERTY_VALUE clob), Error Msg = ORA-22859: invalid modification of columns\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513)\r\n\t... 32 more\r\n2021-08-19 14:03:17,549 INFO [localhost-startStop-1] [AbstractUpgradeManager] Task 80004 completed successfully.\r\n2021-08-19 14:03:17,550 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Pre-bootstrap upgrade tasks failed\r\ncom.atlassian.upgrade.UpgradeException: Pre-bootstrap upgrade tasks failed: [Task for build 80004 failed with exception: ORA-22859: invalid modification of columns\r\n]\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:396)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:81)\r\n\tat com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:155)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4705)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5171)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nh4. Workaround 1 (not recommended without getting in touch with support first)\r\n# Stop Bamboo server.\r\n# Tell Bamboo to ignore the upgrade task\u00a0# 80004 (*UpgradeTask80004ConvertOracleLongToClob*) in the next upgrade attempt by commenting out the following line inside the [<Bamboo server installation directory>|https://confluence.atlassian.com/bamboo/locating-important-directories-and-files-289277247.html]/atlassian-bamboo/WEB-INF/classes/upgrades.xml file:\r\n{code:java}\r\n<!-- <upgrade build=\"80004\" class=\"com.atlassian.bamboo.upgrade.tasks.v8_0.UpgradeTask80004ConvertOracleLongToClob\"/> --{code}\r\n# Change the datatype of all 4 columns manually to CLOB with\r\n{code:sql}\r\nalter table TABLE_NAME modify (COLUMN_NAME clob)\r\n{code}\r\n(i) the 4 columns are listed in the table above. \r\n# Start Bamboo server.\r\n",
      "summary": "Bamboo upgrade fails with ORA-22859: invalid modification of columns"
    }
  },
  {
    "key": "BAM-21391",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-17T15:00:06.000+0000",
      "description": "On the Global Permissions page in Bamboo, we have the option to provide the following:\r\n * Access\r\n * Create\r\n * Create Repository\r\n * Restricted Admin\r\n * Admin\r\n\r\nWe want to provide on a global scale access to groups of people to also build projects. Because of the high number of Build Plans in Bamboo, it's not feasible to manage this per build plan.\r\n\r\nWe also need to allow developer the ability to trigger builds from Bitbucket, but permission levels in Bamboo don't allow us to use this feature as only Admins can have build permission on a global scale.",
      "summary": "Global Permissions: Add Build option"
    }
  },
  {
    "key": "BAM-21390",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-17T07:44:33.000+0000",
      "description": "h4. Problem\r\n\r\nWhen a DB failover happens, Bamboo can't handle that smoothly. It fails and crashes with errors below\r\n{code:java}\r\nCaused by: org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\r\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:527)\r\n     ... 82 more\r\n Caused by: java.io.EOFException\r\n     at org.postgresql.core.PGStream.receiveChar(PGStream.java:445)\r\n\r\norg.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2057)\r\n     at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:521)    at \r\n{code}\r\nSuggestion",
      "summary": "Bamboo should be able to survive DB failovers"
    }
  },
  {
    "key": "BAM-21389",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-18T07:11:34.000+0000",
      "created": "2021-08-16T14:32:08.000+0000",
      "description": "h3. Issue Summary\r\nMySQL documentation has the wrong information on how to disable NO_AUTO_VALUE_ON_ZERO:\r\n !Screen Shot 2021-08-16 at 11.29.10.png|thumbnail! \r\n\r\nThis information was fixed on the 7.1 version, but it looks like the newer versions still have the wrong data:\r\n* [MySQL 7.2|https://confluence.atlassian.com/bamboo0702/mysql-1031180022.html]\r\n* [MySQL 7.1|https://confluence.atlassian.com/bamboo0701/mysql-1031178010.html]\r\n",
      "summary": "Wrong information in MySQL documentation"
    }
  },
  {
    "key": "BAM-21388",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-10-12T12:34:20.000+0000",
      "created": "2021-08-16T12:56:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn the official documentation: [https://docs.atlassian.com/atlassian-bamboo/REST/8.0.0/]\r\n\r\n/rest/api/latest/config/job/\\{JobKey}/requirement is not documented.\r\n\r\nh3. Steps to Reproduce\r\nCheck the documentation in [https://docs.atlassian.com/atlassian-bamboo/REST/8.0.0/] or any other version \r\n\r\nh3. Expected Results\r\n\r\nAll rest API under /rest/api/latest/ should be documented\r\n\r\nh3. Actual Results\r\n/rest/api/latest/config/job/\\{JobKey}/requirement is not documented.\r\n\r\nh3. Workaround\r\n\r\nReverse engineer how to use the API",
      "summary": "Job requirement REST api is not documented"
    }
  },
  {
    "key": "BAM-21387",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-16T12:31:09.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, it's not possible to add multiple requirements to a Job or environment with a single REST call.\r\n\r\nh3. Suggested Solution\r\n\r\nIt would be helpful if we can insert multiple requirements with a single call on the following API: \r\n{noformat}\r\n/deploy/environment/{environmentId}/requirement/{requirementId}\r\n/rest/api/latest/config/job/{jobKey}/requirement\r\n{noformat}\r\nAdding the ability to use a list of requirements to be added would be more comfortable.\r\n\r\n\r\nh3. Workaround\r\n\r\nInvoke the REST api for adding each requirement.\r\n",
      "summary": "Allow multiple requirements with a single REST call."
    }
  },
  {
    "key": "BAM-21386",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-13T23:10:13.000+0000",
      "description": "When a build does not complete for reasons such as failure to launch the Docker container it does not trigger a failed build notification. Using notify on build failure does not trigger notification because failure to run is not considered a failure of the tests, and using notify on state change will only notify on the first time the build fails to run.\u00a0",
      "summary": "Add option for notification on \"Build did not complete\" failure"
    }
  }
]