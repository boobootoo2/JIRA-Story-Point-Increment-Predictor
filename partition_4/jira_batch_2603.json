[
  {
    "key": "BAM-20169",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-10T08:32:04.000+0000",
      "created": "2018-11-13T09:37:12.000+0000",
      "description": "h3. Summary\r\nBuild cancelled will initiate hung build killer at the end. However, the remote agent might have taken another Job so the delay in hung build killer execution might end up killing the new build process as well\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with a single Job\r\n# Create a single task with script \"sleep 60\"\r\n# Enable concurrent build in Bamboo\r\n# Setup only a single remote agent available for the plan (can use dedication)\r\n# Run the plan for 2 times\r\nThe first one will be run by the remote agent and the second one is in the queue\r\n# Stop the first running plan manually (do not stop the second one)\r\n# Repeat step 5-6 till the problem happen\r\n\r\nh3. Expected Results\r\nThe running plan is successfully stop and the second plan will proceed without problem.\r\n\r\nh3. Actual Results\r\nThe second plan fail to run with the below exception is thrown in the remote agent atlassian-bamboo.log file:\r\n{noformat}\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,211 INFO [agentMessageListenerConnector-1] [DefaultBuildAgent] Cancel build request for 'BAM-GIT-JOB1-14' received on agent 'localhost'.\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,211 INFO [agentMessageListenerConnector-1] [DefaultBuildAgent] Interrupting task com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask@7ecfc10d.\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,211 WARN [0-BAM::localhost::Agent:pool-3-thread-1] [LatchedRunnable] Interrupted waiting for ExternalProcess pump to complete\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,211 INFO [agentMessageListenerConnector-1] [RemoteExecutionPhaseServiceImpl] BAM-GIT-JOB1-14 execution cancelled\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,211 WARN [0-BAM::localhost::Agent:pool-3-thread-1] [LatchedRunnable] Interrupted waiting for ExternalProcess pump to complete\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,212 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [TaskResultBuilder] Failing task since return code of [/Volumes/Atlassian/bamboo/agent/atlassian-bamboo-6.6.2/temp/BAM-GIT-JOB1-14-ScriptBuildTask-5907606853760347319.sh] was 143 while expected 0\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,212 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [TaskResultBuilder] Process exception: \r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | com.atlassian.utils.process.ProcessException: Interrupted while waiting for process to finish\r\n...\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,215 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [RemoteExecutionPhaseServiceImpl] bamboo - git - Default Job #14 (BAM-GIT-JOB1-14) execution finished\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,237 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [RemoteResultProcessor] Build bamboo - git - Default Job #14 (BAM-GIT-JOB1-14) completed on Bamboo agent. Sending results to server.\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,248 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [DefaultBuildAgent] Changing context: BAM-GIT-JOB1-14 -> null on localhost/32e57248\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,248 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Agent 'localhost' ready to take build from queue...\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,248 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Agent 1146881 checking build queue for executables...\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,275 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [BuildAgentControllerImpl] bamboo - git - Default Job #15 (BAM-GIT-JOB1-15) taken from queue.\r\nINFO   | jvm 1    | 2018/11/13 16:37:13 | 2018-11-13 16:37:13,275 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [RemoteExecutionPhaseServiceImpl] bamboo - git - Default Job #15 (BAM-GIT-JOB1-15) assigned to agent 1146881\r\n...\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,239 INFO [agentMessageListenerConnector-1] [ProcessManagement] Force Stop build feature is enabled for current plan. Either Bamboo has detected the build has hung or it has been manually stopped.\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,239 INFO [agentMessageListenerConnector-1] [ProcessManagement] Attempting to generate stack trace and terminate spawned sub-processes of process id: 2201\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,291 INFO [agentMessageListenerConnector-1] [ProcessManagement] getRelatedProcesses PID: 2201\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,291 INFO [agentMessageListenerConnector-1] [ProcessManagement] getting children pids for pid: 2201\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,291 INFO [agentMessageListenerConnector-1] [ProcessManagement] returning: 1 children from pid: 2201\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,291 INFO [agentMessageListenerConnector-1] [ProcessManagement] getting children pids for pid: 2705\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] returning: 1 children from pid: 2705\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] getting children pids for pid: 2706\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] returning: 0 children from pid: 2706\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] related size: 2\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] returning: 317 children from pid: 1\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] Looking for orphans processes of PID: 2201 PGID: 2199\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] 2201 is a descendant of 2200! Not adding it in the descendants list\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,292 INFO [agentMessageListenerConnector-1] [ProcessManagement] Adding orphan with pid:2679 since the pgid: 2199 is the same.\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] related size: 3\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] Found related process: pid: 2705 ppid: 2201 pgid: 2199 %cpu: 0.0 %mem: 0.0 cmd: sh\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] Found related process: pid: 2706 ppid: 2705 pgid: 2199 %cpu: 0.0 %mem: 0.0 cmd: sleep\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] Found related process: pid: 2679 ppid: 1 pgid: 2199 %cpu: 0.0 %mem: 0.0 cmd: sleep\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] getStackTraceAndKillRelatedProcesses for 3 processes\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] getting stack trace\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,293 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill -3 2679\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,296 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill -3 2706\r\nINFO   | jvm 1    | 2018/11/13 16:37:18 | 2018-11-13 16:37:18,299 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill -3 2705\r\nINFO   | jvm 1    | 2018/11/13 16:37:19 | 2018-11-13 16:37:19,067 INFO [remoteEventRebroadcasterMessageListenerContainer-1] [RemoteEventRebroadcasterMessageListener] ExecutableQueueUpdate: addToQueue, agents known to be affected: []\r\nINFO   | jvm 1    | 2018/11/13 16:37:20 | 2018-11-13 16:37:20,599 INFO [remoteEventRebroadcasterMessageListenerContainer-1] [RemoteEventRebroadcasterMessageListener] ExecutableQueueUpdate: addToQueue, agents known to be affected: []\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,307 INFO [agentMessageListenerConnector-1] [ProcessManagement] gently killing pids\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,307 INFO [agentMessageListenerConnector-1] [ProcessManagement] Killing: 2679\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,307 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill 2679\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,312 INFO [agentMessageListenerConnector-1] [ProcessManagement] Killing: 2706\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,314 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill 2706\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,317 INFO [agentMessageListenerConnector-1] [ProcessManagement] Killing: 2705\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,318 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill 2705\r\nINFO   | jvm 1    | 2018/11/13 16:37:23 | 2018-11-13 16:37:23,320 INFO [0-BAM::localhost::Agent:pool-3-thread-1] [TaskResultBuilder] Failing task since return code of [/Volumes/Atlassian/bamboo/agent/atlassian-bamboo-6.6.2/temp/BAM-GIT-JOB1-15-ScriptBuildTask-174342569980657273.sh] was 143 while expected 0\r\n{noformat}\r\nThe above log showing \"BAM-GIT-JOB1-14\" is cancelled manually but the hung build killer execute after \"BAM-GIT-JOB1-15\" is taken and running in the agent causing \"BAM-GIT-JOB1-15\" to fail\r\n \r\nh3. Notes\r\n* In certain case, this failure might cause the remote agent to be timeout in connecting to Bamboo server:\r\n{noformat}\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [ProcessManagement] rudely killing pids (only if necessary)\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [ProcessManagement] Force Stop build feature is enabled for current plan. Either Bamboo has detected the build has hung or it has been manually stopped.\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [ProcessManagement] Has finished generating stack trace and terminating spawned sub-processes of process id: 12220\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [ManageHungBuildMessage] stopping the build (just in case it doesn't finish...)\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [DefaultBuildAgent] Cancel build request for 'PROJ-PLAN-JOB-14' received on agent 'agentName'.\r\n2018-11-12 17:06:00,126 WARN [agentMessageListenerConnector-1] [DefaultBuildAgent] Request to cancel build 'PROJ-PLAN-JOB-14' ignored. Agent 'agentName' is building PROJ-PLAN-JOB-15\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [BambooAgentMessageListener] Processing of message took 10672ms, which may be too long.\r\n2018-11-12 17:06:00,126 INFO [agentMessageListenerConnector-1] [BambooAgentMessageListener] The message is of type ManageHungBuildMessage, content com.atlassian.bamboo.v2.build.agent.messages.ManageHungBuildMessage@4cab5960\r\n2018-11-12 17:26:26,808 WARN [BatchedMessageSender] [JmsTemplateMessageSender] JmsException when trying to send message com.atlassian.bamboo.v2.build.agent.messages.LogMessageBatch@5bdd4c09 for Logger for PROJ-PLAN-JOB-15. Retrying... \r\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: org.apache.activemq.transport.RequestTimedOutIOException\r\n{noformat}\r\n* The above example is only showing a single concurrent plan. The problem will happen as well if there are a lot of Jobs from other plans in the Queue and limited agents\r\n\r\nh3.Workaround\r\nUpgrade Bamboo to 6.8.0+ (BAM-20069) and then disable the option \"Force stop hanging builds and clean up sub-processes\" at {{Administration >> Plans >> Build monitoring}}",
      "summary": "Hung build killer delay in process might kill the next build"
    }
  },
  {
    "key": "BAM-20166",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-08T08:19:54.000+0000",
      "created": "2018-11-09T03:52:55.000+0000",
      "description": "h2. Problem\r\n\r\nSince Jenkins 2.107 the config files used by Jenkins are written using XML version 1.1\r\n[Jenkins Upgrade Guide|https://jenkins.io/doc/upgrade-guide/2.107/]\r\n\r\nWhen trying to import from Jenkins 2.107 or later the import will fail.\r\n\r\nThe following appears in the atlassian-bamboo.log\r\n{noformat}\r\n2018-10-31 16:56:16,102 INFO [http-nio-8085-exec-2] [SelectJobsForImport] Reading Jenkins data from /JENKINS_LOCATION\r\n2018-10-31 16:56:16,171 ERROR [http-nio-8085-exec-2] [Jenkins] Exception loading Jenkins configuration\r\njava.io.IOException: Unable to read /JENKINS_LOCATION/config.xml\r\n        at hudson.XmlFile.unmarshal(XmlFile.java:162)\r\n        at jenkins.model.Jenkins.loadConfiguration(Jenkins.java:587)\r\n        at jenkins.model.Jenkins.setRootDir(Jenkins.java:497)\r\n        at com.atlassian.bamboo.jenkins.importer.core.JenkinsDataReader.initializeDataDirectories(JenkinsDataReader.java:197)\r\n...\r\n        at com.thoughtworks.xstream.io.xml.AbstractXppDriver.createReader(AbstractXppDriver.java:65)\r\n        at hudson.XmlFile.unmarshal(XmlFile.java:160)\r\n        ... 294 more\r\nCaused by: org.xmlpull.v1.XmlPullParserException: only 1.0 is supported as <?xml version not '1.1' (position: START_DOCUMENT seen <?xml version=\\'1.1\\'... @1:19)\r\n        at org.xmlpull.mxp1.MXParser.parseXmlDeclWithVersion(MXParser.java:2608)\r\n        at org.xmlpull.mxp1.MXParser.parseXmlDecl(MXParser.java:2592)\r\n        at org.xmlpull.mxp1.MXParser.parsePI(MXParser.java:2466)\r\n        at org.xmlpull.mxp1.MXParser.parseProlog(MXParser.java:1447)\r\n        at org.xmlpull.mxp1.MXParser.nextImpl(MXParser.java:1395)\r\n        at org.xmlpull.mxp1.MXParser.next(MXParser.java:1093)\r\n        at com.thoughtworks.xstream.io.xml.XppReader.pullNextEvent(XppReader.java:109)\r\n        ... 302 more\r\n{noformat}\r\n\r\nh2. Cause\r\n\r\nThe XML parser used by Bamboo, xmlpull, only supports XML version 1.0. Bamboo needs to use a different parser to be able to support XML 1.1 and import the latest Jenkins data.\r\n\r\nh2. Workaround\r\n\r\nEdit all the .xml files within the Jenkins directory hierarchy and change the files to use XML version 1.0.\r\n\r\n{quote}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n{quote}",
      "summary": "Jenkins import fails due to xml version 1.1"
    }
  },
  {
    "key": "BAM-20165",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-11-08T19:06:21.000+0000",
      "description": "Provide a repository-stored Bamboo (Java / YAML) Specs sample project (to e.g. check out for a Bamboo customer or Trail user from Bitbucket Cloud) that demonstrates usability and usefulness of combined project configuration and project's source management.\r\n\r\nOnce available, it could be pointed to e.g. from within KB [Tutorial: Bamboo Java Specs stored in Bitbucket Server|https://confluence.atlassian.com/bamboo/tutorial-bamboo-java-specs-stored-in-bitbucket-server-938641946.html] and there serve as hands-on.",
      "summary": "Provide repository-stored Bamboo Specs sample project"
    }
  },
  {
    "key": "BAM-20164",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-02T01:52:04.000+0000",
      "created": "2018-11-08T06:41:19.000+0000",
      "description": "h3. Problem Definition\r\nSelf signed certificate on Bamboo's JMS SSL listener expires after 90 days which can flag security scans.\r\n\r\nh3. Suggested Solution\r\n* Extend the validity date of the self signed certificate that the broker uses.\r\n \r\nh3. Workaround \r\nNone",
      "summary": "Extend validity on self-signed certificate for Bamboo's JMS Broker when automatic SSL management is enabled."
    }
  },
  {
    "key": "BAM-20162",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-12-04T13:17:49.000+0000",
      "created": "2018-11-07T10:58:56.000+0000",
      "description": "Currently, remote triggers make you enter every possible IP/CIDR address that a remote trigger is forwarded through. This has been done for security reasons, however it's an extra burden on users.\r\n\r\nIt would be good if there was an option to relax the security settings for remote triggers such that only the last IP was necessary, or none at all (if the server already requires auth for the trigger, as it does in our case, it seems unnecessary).\r\n\r\nEven better, changing the system entirely to use Bamboo-generated tokens would both increase simplicity and security.\r\n",
      "summary": "Use Bamboo-generated tokens as method of authentication when accessing webhooks (e.g. remote trigger, specs scanning)"
    }
  },
  {
    "key": "BAM-20161",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-11-06T19:56:41.000+0000",
      "description": "h3. Problem Definition\r\nCurrently Bamboo only has the ability to add a single pattern matching label in the Pattern Match Labeling section. This means that only a single pattern label can be defined at a time.\r\n\r\nh3. Suggested Solution\r\nThis request to add the functionality to input additional pattern matching labels.\r\n\r\nh3. Why this is important\r\nThis will allow for additional pattern matching labels, which will extend Bamboo\u2019s functionality.\r\n \r\nh3. Workaround \r\nN/A\r\n\r\n",
      "summary": "Add ability to have multiple independent pattern matching labels"
    }
  },
  {
    "key": "BAM-20159",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-11-06T18:11:33.000+0000",
      "description": "Summary\r\nWhen using repositories with Git Large File Storage (LFS) and a merging scheme such as Branch Updater, the merge fails with the following error in server logs:\r\n\r\n{noformat}\r\n2018-11-01 10:20:16,361 WARN [6-DelayedChangeDetectionThread:pool-12-thread-65] [ChainExecutionManagerImpl] Merge command error: com.atlassian.bamboo.plugins.git.GitCommandException: command [/bin/git merge --no-commit 370affcfbe4f62d50ecf04fb64ab7c559f093b62] failed with code 128. Working directory was [/bamboo-home/xml-data/build-dir/serverSide/PROJ-BRAN10-1/mergeWorkspace]., stderr:\r\nerror: Your local changes to the following files would be overwritten by merge:\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n# Setup repository with LFS and 2 branches: master and develop\r\n# Create plan at Bamboo and link to this repository\r\n{code}\r\n final Plan plan = new Plan(new Project()\r\n                .key(new BambooKey(\"TEST\"))\r\n                .name(\"Test\"),\r\n            \"LFS\",\r\n            new BambooKey(\"LFS\"))\r\n            .pluginConfigurations(new ConcurrentBuilds()\r\n                    .useSystemWideDefault(false))\r\n            .stages(new Stage(\"Default Stage\")\r\n                    .jobs(new Job(\"Default Job\",\r\n                            new BambooKey(\"JOB1\"))\r\n                            .tasks(new VcsCheckoutTask()\r\n                                    .description(\"Checkout Default Repository\")\r\n                                    .checkoutItems(new CheckoutItem().defaultRepository()))))\r\n            .linkedRepositories(\"Mvnrepos\")\r\n            .triggers(new RepositoryPollingTrigger())\r\n            .planBranchManagement(new PlanBranchManagement()\r\n                    .createForPullRequest()\r\n                    .delete(new BranchCleanup()\r\n                        .whenRemovedFromRepositoryAfterDays(7)\r\n                        .whenInactiveInRepositoryAfterDays(30))\r\n                    .branchIntegration(new BranchIntegration()\r\n                            .integrationBranch(new PlanBranchIdentifier(new BambooKey(\"LFS\"))))\r\n                    .issueLinkingEnabled(false));\r\n{code}\r\n# Do a commit to develop branch which affects file under LFS control, e.g. sample.zip which should exists in both branches\r\n# Do a commit to master branch which creates another file under LFS control, e.g. sample2.zip which exists only at master branch\r\n# Create pull request at repository develop -> master and wait for build. \r\n\r\nh3. Expected Results\r\nThe branch merging succeed and the build will be sent to the queue \r\n\r\nh3. Actual Results\r\n\r\nIt will fail to merge develop and master branches with error message\r\n{code}\r\nerror: Your local changes to the following files would be overwritten by checkout:\r\n\tsample.zip\r\nPlease commit your changes or stash them before you switch branches.\r\nAborting\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nThere is no verified workaround.",
      "summary": "Automatic branch merging fails when using Git LFS"
    }
  },
  {
    "key": "BAM-20158",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-06T11:16:45.000+0000",
      "created": "2018-11-03T05:13:58.000+0000",
      "description": "Hi Team,\r\n\r\nWe have a script task in deployment project in Bamboo where as it allows to execute a script from the root of the Bamboo server or inline script. Will it be possible to execute a script which is stored in the Bitbucket location ?\r\n\r\n\u00a0\r\n\r\nThanks!",
      "summary": "Ability to execute a Script from Bitbucket location in Bamboo"
    }
  },
  {
    "key": "BAM-20157",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-11-02T20:31:15.000+0000",
      "description": "h3. Problem\r\nBamboo sets umask to 000 at the beginning of a script task (when running script on docker runner) as a strategy to overcome user permission issues. This is not the best strategy since the script itself could have set specific permissions when creating files which could again cause permission issues.\r\n\r\nh3. Suggested Solution\r\nIt is still not clear what is the best approach here, but some possible options would be:\r\n* Share UID and GID as build variables to allow an easier fix of permissions\r\n* Implement the extended ACL on linux OS and similar method if available in other systems",
      "summary": "Find a better way to manage permissions through docker runner"
    }
  },
  {
    "key": "BAM-20156",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-23T14:20:57.000+0000",
      "created": "2018-11-02T20:12:27.000+0000",
      "description": "h3. Problem\r\nAs an Bamboo admin I need a better way to manage re-run builds.\r\nAt them moment Bamboo append a new run in the same build log file in case the previous was a failure ([[\\[BAM\\-13189\\] Append the logs of a previously successful build to the main build logs|https://jira.atlassian.com/browse/BAM-13189]). This strategy is not consistent for traceability since you may re-run a successful build with previous failures and the whole log will be cleaned. This is also not very easy to parse and identify differences between failed attempts when seeking for a solution.\r\n\r\nh3. Solution\r\nCreate a new log file for each re-ran build or an entirely new build number to handle the new logs.",
      "summary": "Build logs for re-ran builds are not well handled/saved"
    }
  },
  {
    "key": "BAM-20155",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-11-02T16:45:26.000+0000",
      "description": "Currently, Bamboo UI only allows defining tasks at a Job level (there's no 'Tasks' tab in 'Plan Configuration' view, the only place it's available - is within a Job view). What this results in - is that all tasks must be defined for each job, even if *same exact task* is defined for another job. This may not be an issue for plans with just one job, or with jobs containing entirely different sets of tasks. But... for plans that include similar jobs (jobs containing same tasks) - this results in unnecessary duplication of task definitions.\r\n\r\n\u00a0\r\n\r\nConsider a plan containing 3 jobs:\u00a0[arm32-rev1-build|https://bamboo.is.idexx.com/build/admin/edit/editBuildConfiguration.action?buildKey=CAT-PLATR1TEST-JOB1],\u00a0[arm32-rev2-build|https://bamboo.is.idexx.com/build/admin/edit/editBuildConfiguration.action?buildKey=CAT-PLATR1TEST-REV2],\u00a0[x64-generic-build|https://bamboo.is.idexx.com/build/admin/edit/editBuildConfiguration.action?buildKey=CAT-PLATR1TEST-X64GEN]. Each job contains an identical set of tasks (5 tasks in our case) - dedicated to platform/flavor specific builds. Each job includes a 'Source Code Checkout' task, a 'Setup' task, a build ('Run Docker Container') task, and some other tasks (3 sets of virtually identical tasks).\r\n\r\nHere's an example of Plan specs extracted for this plan:\r\n{code:java}\r\nimport com.atlassian.bamboo.specs.api.BambooSpec;\r\nimport com.atlassian.bamboo.specs.api.builders.AtlassianModule;\r\nimport com.atlassian.bamboo.specs.api.builders.BambooKey;\r\nimport com.atlassian.bamboo.specs.api.builders.BambooOid;\r\nimport com.atlassian.bamboo.specs.api.builders.Variable;\r\nimport com.atlassian.bamboo.specs.api.builders.notification.AnyNotificationRecipient;\r\nimport com.atlassian.bamboo.specs.api.builders.notification.Notification;\r\nimport com.atlassian.bamboo.specs.api.builders.permission.PermissionType;\r\nimport com.atlassian.bamboo.specs.api.builders.permission.Permissions;\r\nimport com.atlassian.bamboo.specs.api.builders.permission.PlanPermissions;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.Job;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.Plan;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.PlanIdentifier;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.Stage;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.artifact.Artifact;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.branches.BranchCleanup;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.branches.PlanBranchManagement;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.configuration.AllOtherPluginsConfiguration;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.configuration.ConcurrentBuilds;\r\nimport com.atlassian.bamboo.specs.api.builders.project.Project;\r\nimport com.atlassian.bamboo.specs.api.builders.repository.VcsRepositoryIdentifier;\r\nimport com.atlassian.bamboo.specs.api.builders.requirement.Requirement;\r\nimport com.atlassian.bamboo.specs.api.builders.task.AnyTask;\r\nimport com.atlassian.bamboo.specs.builders.notification.PlanCompletedNotification;\r\nimport com.atlassian.bamboo.specs.builders.notification.PlanFailedNotification;\r\nimport com.atlassian.bamboo.specs.builders.notification.ResponsibilityChangedNotification;\r\nimport com.atlassian.bamboo.specs.builders.notification.ResponsibleRecipient;\r\nimport com.atlassian.bamboo.specs.builders.task.CheckoutItem;\r\nimport com.atlassian.bamboo.specs.builders.task.ScriptTask;\r\nimport com.atlassian.bamboo.specs.builders.task.VcsCheckoutTask;\r\nimport com.atlassian.bamboo.specs.builders.trigger.BitbucketServerTrigger;\r\nimport com.atlassian.bamboo.specs.model.task.ScriptTaskProperties;\r\nimport com.atlassian.bamboo.specs.util.BambooServer;\r\nimport com.atlassian.bamboo.specs.util.MapBuilder;\r\n\r\n\r\n@BambooSpec\r\npublic class PlanSpec {\r\n\u00a0\u00a0 \u00a0\r\n\u00a0 \u00a0 public Plan plan() {\r\n\u00a0 \u00a0 \u00a0 \u00a0 final Plan plan = new Plan(new Project()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .oid(new BambooOid(\"lrq0xrb9llac\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .key(new BambooKey(\"CAT\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"CatOne\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"Platform Test\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"PLATR1TEST\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .oid(new BambooOid(\"lrgbq5y1sf1f\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Rev 1 and Rev 2 Builds\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new ConcurrentBuilds()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .useSystemWideDefault(false),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"artifactHandlers.useCustomArtifactHandlers\", \"false\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildExpiryConfig.enabled\", \"false\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .stages(new Stage(\"Build\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Build Platform Variants\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .jobs(new Job(\"x64-generic-build\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"X64GEN\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"auto\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"regex\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"label\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildHangingConfig\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesBetweenLogs\", \"60\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesQueueTimeout\", \"5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"multiplier\", \"2.5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"enabled\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"ncover.path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"clover\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"license\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"useLocalLicenseKey\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .artifacts(new Artifact()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"X64-Generic Versions\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .copyPattern(\"*_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(\"build/catone-platform\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .shared(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .tasks(new VcsCheckoutTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Checkout Default Repository\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .checkoutItems(new CheckoutItem().defaultRepository()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/platform\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new CheckoutItem()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .repository(new VcsRepositoryIdentifier()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"build_scripts\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/build_scripts\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanCheckout(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Setup Working Dir\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/setup.sh\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Add Remote Origin\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/add_origin.sh\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Run docker container\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(false)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/catone/platform/run_docker.sh\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .argument(\"x64 generic\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new AnyTask(new AtlassianModule(\"com.illucit.bamboo-variables-extractor-plugin:variable-updater\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Platform Version\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(false)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"variable\", \"platformVersionArm32Rev1\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"filename\", \"build/catone-platform/catone-platform_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"expression\", \"catonePlatformArm32Rev1=([a-zA-Z0-9.]+)\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"failIfMissing\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"defaultValue\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requirements(new Requirement(\"buildrootCapable\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchValue(\"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchType(Requirement.MatchType.EQUALS))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanWorkingDirectory(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Job(\"arm32-rev1-build\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"JOB1\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Arm32 Rev 1 Build\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"auto\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"regex\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"label\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildHangingConfig\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesBetweenLogs\", \"60\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesQueueTimeout\", \"5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"multiplier\", \"2.5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"enabled\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"ncover.path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"clover\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"license\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"useLocalLicenseKey\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .artifacts(new Artifact()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"Arm32-Rev1 Versions\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .copyPattern(\"*_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(\"build/catone-platform\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .shared(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .tasks(new VcsCheckoutTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Checkout Default Repository\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .checkoutItems(new CheckoutItem().defaultRepository()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/platform\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new CheckoutItem()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .repository(new VcsRepositoryIdentifier()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"build_scripts\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/build_scripts\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanCheckout(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Setup Working Dir\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/setup.sh\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Add Remote Origin\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/add_origin.sh\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Run docker container\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/catone/platform/run_docker.sh\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .argument(\"arm32 rev1\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new AnyTask(new AtlassianModule(\"com.illucit.bamboo-variables-extractor-plugin:variable-updater\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Platform Version\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"variable\", \"platformVersionArm32Rev1\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"filename\", \"build/catone-platform/catone-platform_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"expression\", \"catonePlatformArm32Rev1=([a-zA-Z0-9.]+)\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"failIfMissing\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"defaultValue\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requirements(new Requirement(\"buildrootCapable\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchValue(\"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchType(Requirement.MatchType.EQUALS))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanWorkingDirectory(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Job(\"arm32-rev2-build\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"REV2\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Arm32 Rev 2 Build\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"auto\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"regex\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"label\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildHangingConfig\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesBetweenLogs\", \"60\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesQueueTimeout\", \"5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"multiplier\", \"2.5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"enabled\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"ncover.path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"clover\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"license\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"useLocalLicenseKey\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .artifacts(new Artifact()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"Arm32-Rev2 Versions\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .copyPattern(\"*_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(\"build/catone-platform\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .shared(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .tasks(new VcsCheckoutTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Checkout Default Repository\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .checkoutItems(new CheckoutItem().defaultRepository()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/platform\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new CheckoutItem()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .repository(new VcsRepositoryIdentifier()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"build_scripts\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/build_scripts\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanCheckout(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Setup Working Dir\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/setup.sh\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Add Remote Origin\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/add_origin.sh\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Run docker container\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(false)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(ScriptTaskProperties.Location.FILE)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/catone/platform/run_docker.sh\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .argument(\"arm32 rev2\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new AnyTask(new AtlassianModule(\"com.illucit.bamboo-variables-extractor-plugin:variable-updater\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Platform Version\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(false)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"variable\", \"platformVersionArm32Rev1\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"filename\", \"build/catone-platform/catone-platform_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"expression\", \"catonePlatformArm32Rev1=([a-zA-Z0-9.]+)\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"failIfMissing\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"defaultValue\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requirements(new Requirement(\"buildrootCapable\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchValue(\"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchType(Requirement.MatchType.EQUALS))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanWorkingDirectory(true)))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .linkedRepositories(\"catone-platform\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"catone-br2_external\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"build_scripts\")\r\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .triggers(new BitbucketServerTrigger()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"repository commit trigger\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .variables(new Variable(\"project_artifactoryURL\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"${bamboo.artifactoryURL}/api/build/promote/catone-platform\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .planBranchManagement(new PlanBranchManagement()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .delete(new BranchCleanup()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .whenRemovedFromRepositoryAfterDays(7)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .whenInactiveInRepositoryAfterDays(30))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .notificationForCommitters())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .notifications(new Notification()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .type(new ResponsibilityChangedNotification())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipients(new ResponsibleRecipient()),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Notification()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .type(new PlanCompletedNotification())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipients(new AnyNotificationRecipient(new AtlassianModule(\"com.atlassian.bamboo.plugins.bamboo-slack:recipient.slack\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipientString(\"${bamboo.slackBambooBotURL}\")),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Notification()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .type(new PlanFailedNotification())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipients(new ResponsibleRecipient()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .forceStopHungBuilds();\r\n\u00a0 \u00a0 \u00a0 \u00a0 return plan;\r\n\u00a0 \u00a0 }\r\n\u00a0\u00a0 \u00a0\r\n\u00a0 \u00a0 public PlanPermissions planPermission() {\r\n\u00a0 \u00a0 \u00a0 \u00a0 final PlanPermissions planPermission = new PlanPermissions(new PlanIdentifier(\"CAT\", \"PLATR1TEST\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .permissions(new Permissions()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .loggedInUserPermissions(PermissionType.VIEW, PermissionType.BUILD));\r\n\u00a0 \u00a0 \u00a0 \u00a0 return planPermission;\r\n\u00a0 \u00a0 }\r\n\u00a0\u00a0 \u00a0\r\n\u00a0 \u00a0 public static void main(String... argv) {\r\n\u00a0 \u00a0 \u00a0 \u00a0 //By default credentials are read from the '.credentials' file.\r\n\u00a0 \u00a0 \u00a0 \u00a0 BambooServer bambooServer = new BambooServer(\"https://bamboo.is.idexx.com\");\r\n\u00a0 \u00a0 \u00a0 \u00a0 final PlanSpec planSpec = new PlanSpec();\r\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 final Plan plan = planSpec.plan();\r\n\u00a0 \u00a0 \u00a0 \u00a0 bambooServer.publish(plan);\r\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 final PlanPermissions planPermission = planSpec.planPermission();\r\n\u00a0 \u00a0 \u00a0 \u00a0 bambooServer.publish(planPermission);\r\n\u00a0 \u00a0 }\r\n}\r\n{code}\r\nNotice (virtually) identical set of tasks defined for each job (3 sets of those)...\r\n\r\nIn case like this (and I am sure in many others) - it makes much better sense to define tasks outside of a Job (at a Plan Configuration level), and simply allow listing them (including) in job's Tasks configuration tab (as well as allow defining some job-specific attributes - like enabled/disabled, script arguments, etc.).\r\n\r\nHaving ability to define Tasks at Plan Configuration level, and simply include them in individual job's 'Tasks' configuration tab - would eliminate the need to define same tasks multiple times (which also reduces inconsistency and potential for errors across multiple jobs); would allow jobs to \"pick-and-choose\" which tasks they need to use (as well as set job-specific attributes like enabling/disabling the task, passing job-specific script arguments, etc.), as well as allow additional tasks to be defined at job level (which are not available to other jobs).\r\n\r\n\u00a0\r\n\r\nHere's an example of same plan's Java specs refactored to demonstrate this case:\r\n{code:java}\r\n\u00a0 \u00a0 public Plan plan() {\r\n\u00a0 \u00a0 \t// Define tasks\r\n\u00a0 \u00a0 \tVcsCheckoutTask checkoutTask = new VcsCheckoutTask()\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 .description(\"Checkout Default Repository\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 .enabled(true)\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 .checkoutItems(new CheckoutItem().defaultRepository()\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/platform\"),\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new CheckoutItem()\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .repository(new VcsRepositoryIdentifier()\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"build_scripts\"))\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .path(\"src/build_scripts\"))\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 .cleanCheckout(true);\r\n\u00a0\u00a0 \u00a0\t\r\n\u00a0 \u00a0 \tScriptTask setupTask = new ScriptTask()\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 .description(\"Setup Working Dir\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/setup.sh\");\r\n\u00a0\u00a0 \u00a0\t\r\n\u00a0 \u00a0 \tScriptTask addOriginTask = new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Add Remote Origin\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/add_origin.sh\");\r\n\u00a0\u00a0 \u00a0\t\r\n\u00a0 \u00a0 \tScriptTask runDockerTask = new ScriptTask()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Run docker container\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .fileFromPath(\"${bamboo.working.directory}/src/build_scripts/catone/platform/run_docker.sh\");\r\n\u00a0\u00a0 \u00a0\t\r\n\u00a0 \u00a0 \tAnyTask varUpdaterTask = new AnyTask(new AtlassianModule(\"com.illucit.bamboo-variables-extractor-plugin:variable-updater\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Platform Version\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"variable\", \"platformVersionArm32Rev1\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"filename\", \"build/catone-platform/catone-platform_versions.properties\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"expression\", \"catonePlatformArm32Rev1=([a-zA-Z0-9.]+)\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"failIfMissing\", \"true\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"defaultValue\", \"\")\r\n\t\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build());\r\n\u00a0\u00a0 \u00a0\t\r\n\u00a0 \u00a0 \u00a0 \u00a0 final Plan plan = new Plan(new Project()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .key(new BambooKey(\"CAT\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"CatOne\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"Platform Test\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"PLATR1TEST\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Rev 1 and Rev 2 Builds\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(true)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new ConcurrentBuilds()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .useSystemWideDefault(false),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"artifactHandlers.useCustomArtifactHandlers\", \"false\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildExpiryConfig.enabled\", \"false\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .stages(new Stage(\"Build\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Build Platform Variants\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .jobs(new Job(\"arm32-rev1-build\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"JOB1\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Arm32 Rev 1 Build\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"auto\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"regex\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"label\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildHangingConfig\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesBetweenLogs\", \"60\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesQueueTimeout\", \"5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"multiplier\", \"2.5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"enabled\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"ncover.path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"clover\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"license\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"useLocalLicenseKey\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .artifacts(new Artifact()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"Arm32-Rev1 Versions\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .copyPattern(\"*_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(\"build/catone-platform\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .shared(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .tasks(checkoutTask.enabled(true),\u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\tsetupTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\taddOriginTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\trunDockerTask.enabled(true).argument(\"arm32 rev1\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\tvarUpdaterTask.enabled(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requirements(new Requirement(\"buildrootCapable\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchValue(\"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchType(Requirement.MatchType.EQUALS))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanWorkingDirectory(true)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .dockerConfiguration(new DockerConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(false)),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Job(\"arm32-rev2-build\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"REV2\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"Arm32 Rev 2 Build\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"auto\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"regex\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"label\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildHangingConfig\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesBetweenLogs\", \"60\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesQueueTimeout\", \"5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"multiplier\", \"2.5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"enabled\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"ncover.path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"clover\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"license\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"useLocalLicenseKey\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .artifacts(new Artifact()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"Arm32-Rev2 Versions\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .copyPattern(\"*_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(\"build/catone-platform\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .shared(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .tasks(checkoutTask.enabled(true),\u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\tsetupTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\taddOriginTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\trunDockerTask.enabled(false).argument(\"arm32 rev2\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\tvarUpdaterTask.enabled(false))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requirements(new Requirement(\"buildrootCapable\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchValue(\"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchType(Requirement.MatchType.EQUALS))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanWorkingDirectory(true)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .dockerConfiguration(new DockerConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .enabled(false)),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Job(\"x64-generic-build\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new BambooKey(\"X64GEN\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .pluginConfigurations(new AllOtherPluginsConfiguration()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"custom\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"auto\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"regex\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"label\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"buildHangingConfig\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesBetweenLogs\", \"60\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"minutesQueueTimeout\", \"5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"multiplier\", \"2.5\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"enabled\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"ncover.path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"clover\", new MapBuilder()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"path\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"license\", \"\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .put(\"useLocalLicenseKey\", \"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .artifacts(new Artifact()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .name(\"X64-Generic Versions\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .copyPattern(\"*_versions.properties\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .location(\"build/catone-platform\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .shared(true))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .tasks(checkoutTask.enabled(true),\u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\tsetupTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\taddOriginTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\trunDockerTask.enabled(false).argument(\"x64 generic\"),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \t\tvarUpdaterTask.enabled(false))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requirements(new Requirement(\"buildrootCapable\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchValue(\"true\")\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .matchType(Requirement.MatchType.EQUALS))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .cleanWorkingDirectory(true)))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .linkedRepositories(\"catone-platform\", \"catone-br2_external\", \"build_scripts\")\r\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .triggers(new BitbucketServerTrigger()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .description(\"repository commit trigger\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .variables(new Variable(\"project_artifactoryURL\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"${bamboo.artifactoryURL}/api/build/promote/catone-platform\"))\r\n\r\n\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .planBranchManagement(new PlanBranchManagement()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .delete(new BranchCleanup()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .whenRemovedFromRepositoryAfterDays(7)\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .whenInactiveInRepositoryAfterDays(30))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .notificationForCommitters())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .noDependencies()\r\n//\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .dependencies(new Dependencies()\r\n//\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .configuration(new DependenciesConfiguration()\r\n//\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .requireAllStagesPassing(true))\r\n//\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .childPlans(new PlanIdentifier(\"CAT\", \"AP\")))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .notifications(new Notification()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .type(new ResponsibilityChangedNotification())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipients(new ResponsibleRecipient()),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Notification()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .type(new PlanCompletedNotification())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipients(new AnyNotificationRecipient(new AtlassianModule(\"com.atlassian.bamboo.plugins.bamboo-slack:recipient.slack\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipientString(\"${bamboo.slackBambooBotURL}\")),\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new Notification()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .type(new PlanFailedNotification())\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .recipients(new ResponsibleRecipient()));\r\n\u00a0 \u00a0 \u00a0 \u00a0 return plan;\r\n\u00a0 \u00a0 }\r\n\u00a0\u00a0 \u00a0\r\n\u00a0 \u00a0 public PlanPermissions planPermission() {\r\n\u00a0 \u00a0 \u00a0 \u00a0 final PlanPermissions planPermission = new PlanPermissions(new PlanIdentifier(\"CAT\", \"PLATR1TEST\"))\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .permissions(new Permissions()\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .loggedInUserPermissions(PermissionType.BUILD, PermissionType.VIEW));\r\n\u00a0 \u00a0 \u00a0 \u00a0 return planPermission;\r\n\u00a0 \u00a0 }\r\n\u00a0\u00a0 \u00a0\r\n\u00a0 \u00a0 public static void main(String... argv) {\r\n\u00a0 \u00a0 \u00a0 \u00a0 //By default credentials are read from the '.credentials' file.\r\n\u00a0 \u00a0 \u00a0 \u00a0 BambooServer bambooServer = new BambooServer(\"https://bamboo.is.idexx.com\");\r\n\u00a0 \u00a0 \u00a0 \u00a0 final Build_PlanSpec planSpec = new Build_PlanSpec();\r\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 final Plan plan = planSpec.plan();\r\n\u00a0 \u00a0 \u00a0 \u00a0 bambooServer.publish(plan);\r\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 final PlanPermissions planPermission = planSpec.planPermission();\r\n\u00a0 \u00a0 \u00a0 \u00a0 bambooServer.publish(planPermission);\r\n\u00a0 \u00a0 }\r\n\r\n{code}\r\nNotice how tasks are defined outside of any job (at the top of the class, before Plan object is created) - and task objects simply used (listed) in the .tasks() calls within each job. Example:\r\n{code:java}\r\n.tasks(checkoutTask.enabled(true),\u00a0\r\n      setupTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 addOriginTask.enabled(true),\r\n\u00a0 \u00a0 \u00a0 runDockerTask.enabled(true).argument(\"arm32 rev1\"),\r\n\u00a0 \u00a0 \u00a0 varUpdaterTask.enabled(true))\r\n{code}\r\nSee how much it improves overall quality of the code, how much smaller the code becomes, and how much sense it makes (from development prospective)?\r\n\r\n\u00a0\r\n\r\nSo... this suggestion - is for Bamboo development team to implement UI functionality that allows all this:\r\n\r\n\u00a0\r\n # Implement 'Tasks' tab in the Plan Configuration view\r\n # Updates to Job's 'Tasks' tab to allow:\r\n ** adding task(s) defined for the Plan\r\n ** setting task-specific parameters (possibly overriding those defined at Plan level)\r\n ** enable/disable a task\r\n ** add new task(s) - using existing implementation (these job-level tasks will not be available/visible to other jobs)\r\n # Update Java Specs extraction code to generate code appropriately (similarly to my example above)\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Implement functionality to define Tasks at Plan level, as well as at Job level"
    }
  },
  {
    "key": "BAM-20154",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-02T09:43:53.000+0000",
      "created": "2018-11-01T00:49:55.000+0000",
      "description": "h3. Problem Definition\r\nGranting a user \"Build\"+\"View\" level Build plan permissions allows the disabling of plans.\r\n\r\nh3. Suggested Solution\r\nRemove ability to disable plans from \"Build\"+\"View\" level permission tier and move capability to another tier. Perhaps the Edit permission is more suitable.\r\n\r\nh3. Why this is important\r\nBecause the ability to alter the plans should be restricted to administrators. \r\n\r\nh3. Workaround\r\nA manual verification of the configuration.",
      "summary": "Remove ability to enable and disable plans  from \"Build\"+\"View\" level permission tier"
    }
  },
  {
    "key": "BAM-20153",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-31T20:43:14.000+0000",
      "description": "It is a customer request to customize the fonts, font sizes, and other elements of Bamboo Wallboard which currently is not possible.",
      "summary": "Bamboo Wallboard: Customize Fonts and Block size"
    }
  },
  {
    "key": "BAM-20151",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-31T16:21:38.000+0000",
      "description": "Currently, Bamboo offers use of global and Plan level variables - accessible in scripts either as ${bamboo.<variable_name>} or $bamboo_<variable_name>. In addition, script tasks can take input arguments accessible (within script) as $1, $2, etc.\r\n\r\n\u00a0\r\n\r\nAt first, I thought that it would be good to have ability to define NAMED SCRIPT ARGUMENTS (see BSP-40324: [https://getsupport.atlassian.com/servicedesk/customer/portal/10/BSP-40324),]\u00a0but then - a better idea has come up: JOB and TASK level variables.\r\n\r\n\u00a0\r\n\r\nAbility to define JOB level variables (similar to Plan variables) - would make these variables available to all tasks within that job (accessible as ${<variable_name>} or ${job.<variable_name>}. Same for TASK level variables (accessible as ${<variable_name>} or ${task.<variable_name>}) - except these would only be available to a single task.\r\n\r\n\u00a0\r\n\r\nIn a sense, both JOB and TASK level variables - would satisfy NAMED ARGUMENTS request submitted in BSP-40324.",
      "summary": "Implement JOB and TASK level variables (similar to Plan variables)"
    }
  },
  {
    "key": "BAM-20150",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-31T16:20:26.000+0000",
      "description": "h3. Summary\r\nRest endpoint uses the key word \"id\" to return name value\r\n\r\nh3. Steps to Reproduce\r\nWhile retrieving release information with the REST call https://docs.atlassian.com/atlassian-bamboo/REST/6.6.2/#d2e2217 we will find the following information:\r\n{noformat}\r\ncurl --silent -H \"Content-Type:application/json\" -u admin:password -X GET 'http://bamboo663:8085/rest/api/latest/search/versions?searchTerm=release&deploymentProjectId=2359297'\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<searchResults start-index=\"0\" max-result=\"1\" size=\"1\">\r\n   <searchResults id=\"release-1\" type=\"deploymentVersion\">\r\n      <searchEntity xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"deploymentVersionSearchResult\" id=\"release-1\">\r\n         <name>release-1</name>\r\n      </searchEntity>\r\n   </searchResults>\r\n</searchResults>\r\n{noformat}\r\n\r\nh3. Notes\r\nthe parameter \"id\" gives as result \"release-1\". Although the value is expected, is misleading since one might expect a release id instead.",
      "summary": "Rest endpoint uses the key word \"id\" to return name value"
    }
  },
  {
    "key": "BAM-20149",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-30T16:57:20.000+0000",
      "description": "Problem Description:\r\nSpecs update events are considered builds, but they do not generate artifacts. This can flood the build history and cause artifact-generating builds to be deleted earlier than intended, because of the configured the number of builds to keep.\r\n\r\nSuggested Solution:\r\nAdd a setting to toggle the Specs update events to be considered a build.",
      "summary": "Add option to have Specs update events to NOT be considered as a build"
    }
  },
  {
    "key": "BAM-20148",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-30T14:23:30.000+0000",
      "description": "Provide configurable job retries for the following scenarios:\r\n * agent failure\r\n * job hung",
      "summary": "Configurable job retries"
    }
  },
  {
    "key": "BAM-20147",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-20T14:19:37.000+0000",
      "created": "2018-10-30T14:09:49.000+0000",
      "description": "\r\nh3. Summary\r\nShared artifacts will potentially pick up files from previous builds if the pattern matches.\r\n\r\nh3. Steps to Reproduce\r\n# Define a build that generates a file with a name that varies. For example: a script task that runs:\r\n{noformat}\r\necho \"artifact content\" > date-$(date \"+%Y%m%d%H%M\").txt\r\n{noformat}\r\n# In the artifact definition, make the artifact *shared* and use the pattern:\r\n{noformat}\r\ndate*\r\n{noformat}\r\n# Run a build.\r\n# Run a build again.\r\n\r\nh3. Expected Results\r\nBuild #2 should have an artifact with one file.\r\n\r\nh3. Actual Results\r\nBuild #2 has an artifact with two files: one from Build #1 and one from Build #2.\r\n \r\nh3.Workaround \r\nIf possible, define a more precise pattern.",
      "summary": "Shared artifacts will potentially pick up files from previous builds if the pattern matches."
    }
  },
  {
    "key": "BAM-20145",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-29T22:09:19.000+0000",
      "description": "h3. Steps to Reproduce\r\n # Create a plan or deployment through repository specs making sure it has more than the default permissions\r\n # Change the plan or deployment permissions so it is different from what is in specs source code\r\n It can be done through:\r\n ** The UI (through [\\[BAM\\-20143\\] Deployment created through specs should prevent UI editing|https://jira.atlassian.com/browse/BAM-20143]\u00a0or [\\[BAM\\-20144\\] Specs updates from IDE will re\\-enable UI editing on plans created through specs|https://jira.atlassian.com/browse/BAM-20144])\r\n ** Using the an IDE. Just checkout the same source used for specs and change the permissions in the IDE before deploying it.\r\n ** Deleting the entire plan or deployment\r\n # Force a new repository scan\r\n It can be done through:\r\n ** Changing the source code by editing a different object of the plan or deployment. Do not change the permissions object.\r\n ** Trigger the repository specs scan manually through *Linked repository >> Specs status >> Scan*\r\n\r\nh3. Expected Results\r\nThe permissions will reflect what is defined in the specs source code\r\n\r\nh3. Actual Results\r\nThe permissions will reflect the last change performed through the UI or IDE or will be set to the default ones if the plan or deployment was deleted",
      "summary": "Repository specs scan should update every plan/deployment details not matching specs source code"
    }
  },
  {
    "key": "BAM-20144",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:58.000+0000",
      "created": "2018-10-29T22:07:26.000+0000",
      "description": "h3. Steps to Reproduce\r\n# Create a plan using repository specs feature\r\n# Checkout specs project from outside Bamboo and use an IDE to update the plan permissions with a different setting\r\n\r\nh3. Expected Results\r\n# Updates from IDE should not be possible if the plan is configured to use repository specs.\r\n# The Plan should still keep its readonly state.\r\n\r\nh3. Actual Results\r\nThe plan is updated and now will be editable by users with permissions. ",
      "summary": "Specs updates from IDE will re-enable UI editing on plans created through RSS"
    }
  },
  {
    "key": "BAM-20143",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-30T05:52:27.000+0000",
      "created": "2018-10-29T22:06:15.000+0000",
      "description": "h3. Steps to Reproduce\r\n# Create a deployment using repository specs feature\r\n\r\nh3. Expected Results\r\n\r\nThe deployment is created and its configurations are read only through the UI\r\nh3. Actual Results\r\n\r\nThe deployment configuration can be edited by users with permissions which leads to an inconsistent behavior (specs source not matching the deployment details)",
      "summary": "Deployment created through specs should prevent UI editing"
    }
  },
  {
    "key": "BAM-20142",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-26T19:41:33.000+0000",
      "description": "On current Bamboo versions, if the option \"When pull request is created\" for the Automatic branch management is selected, Bamboo will create a plan branch for all pull request made in the repository even if this PR unrelated with the default branch selected at plan's repository.\r\n\r\nThe current concept is understandable but, it would be great if bamboo users have the option to only create plan branches on pull request only if the pull request is related to the default branch.\r\n\r\n",
      "summary": "Option to create plan branches only if the pull request is related to plan repository default branch"
    }
  },
  {
    "key": "BAM-20141",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-10T16:39:53.000+0000",
      "created": "2018-10-26T13:58:18.000+0000",
      "description": "In some larger projects I have several Dockerfiles each in their own sub-directories in order to organise them rather than putting them in the root directory.\r\n\r\nUsing a tool such as Docker Compose, I can specify the Dockerfile location and the build context separately when building Docker images.\r\n\r\nThis seems to be impossible in Bamboo. If I change the working sub-directory in a *Build a Docker Image* task to say <project-directory>/docker/php then I can't now copy files across from <project-directory> to the image I'm building using the COPY command in the Dockerfile. I can of course move the Dockerfile in question to the root <project-directory> but then I'm now limiting myself to a \"one Dockerfile per project\" scenario.\r\n\r\nHere's an example of a docker-compose.yml file where I can be flexible with build context and dockerfile locations:\r\n{code:java}\r\nversion: '3'\r\n\r\nvolumes:\r\n    logs:\r\n        driver: local\r\n    dbdata:\r\n\r\nservices:\r\n    php:\r\n        build:\r\n            context: .\r\n            dockerfile: docker/php/Dockerfile\r\n        env_file: .env\r\n        volumes:\r\n            - .:/usr/src/mail-exchange\r\n            - logs:/var/www/logs\r\n        links:\r\n            - db\r\n    nginx:\r\n        build:\r\n            context: docker/nginx/.\r\n        ports:\r\n            - 80:80\r\n        volumes:\r\n            - .:/var/www\r\n        links:\r\n          - php\r\n{code}\r\nThe benefit here is that I can organise my Dockerfiles neatly and have multiple Dockerfiles in the same project. This is essential when these days it's quite command to have large applications running in Kubernetes with serveral images (PHP or Node.js, Redis, Nginx).\r\n\r\nMy suggested solution would be to either integrate Docker Compose with Docker related tasks as some IDEs do. Alternatively we could specify the Dockerfile location for a Docker Image Build task.",
      "summary": "Specify Dockerfile location in Docker Build Image Tasks"
    }
  },
  {
    "key": "BAM-20140",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-26T06:23:26.000+0000",
      "description": "I would like to set the bamboo build number to a version number instead of the sequential number that currently is. This settings being part of the variables section of the build plan.\r\n\r\n\u00a0\r\n\r\ne.g. In the variables section of the plan enter build_number 8.2.53.28 and that is what will appear and be available as the bamboo build number",
      "summary": "Set bamboo build number based on variable i.e. version"
    }
  },
  {
    "key": "BAM-20139",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-11T10:44:04.000+0000",
      "created": "2018-10-23T19:22:23.000+0000",
      "description": "When using RSS, if Bamboo detects a change at the specs code the plan will be updated/created as expected and a new build with the \"Specs Configuration Updated\" description will be shown in the Recent build history.\r\nh3. Current Behavior:\r\n\r\nAll these \"builds\" triggered by specs code changes will appear at the Create new release from build result dropdown:\r\n\r\n !Screen Shot 2018-10-23 at 16.13.43.png|thumbnail! \r\n\r\n !Screen Shot 2018-10-23 at 16.14.26.png|thumbnail! \r\n\r\nh3. Suggested behavior:\r\n\r\nAll builds triggered by specs code changes are suppressed and only \"real\" builds will be listed at the dropdown menu. \r\n\r\n\r\n",
      "summary": "Suppress builds result generated by Repository Stored Specs (RSS) changes at the deployment page"
    }
  },
  {
    "key": "BAM-20138",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-23T04:35:57.000+0000",
      "description": "h3. Problem Definition\r\nDisabling the \"master\" plan does not prevent branch detection or branch triggering, this is by design.\r\n\r\nh3. Suggested Solution\r\nProvide an additional mechanism to completely disable the master plan, plan branch detection and all plan branch execution.\r\nEnsure the UI clearly articulates the differences between both modes of disable. \r\n \r\nh3. Workaround \r\n# Disable the master plan\r\n# Disable automatic plan branch *creation* at *Plan Configuration >> Branches >> Create plan branch* (set to \"Manually)\r\n# Disable automatic plan branch *deletion* at *Plan Configuration >> Branches >> Delete plan branch* \r\n#* Uncheck \"After branch was deleted from repository\"\r\n#* Uncheck \"After branch inactivity in repository\"\r\n# Disable the trigger at *Plan Configurations >> Trigger* (assuming the plan branches are inheriting their trigger configuration from the main plan)",
      "summary": "Disabling the \"master\" plan does not prevent branch detection or branch triggering"
    }
  },
  {
    "key": "BAM-20137",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-22T22:18:26.000+0000",
      "description": "h3. Problem Definition\r\nBamboo has a repeatable upgrade task (60204) that creates foreign key indices for DBMS that don't do this by default.\r\n\r\nTwo issues with this upgrade task:\r\n# It does not trigger on the first startup, but instead needs a restart\r\n# It does not run on every startup, but only once per version \r\n\r\nh3. Suggested Solution\r\n# Allow this Task to run on every startup, similar to the schema check process\r\n\r\nh3. Why this is important\r\nThe lack of any indices in the Bamboo database can cause a significant degradation in performance. In extreme cases, queries that may take over 10 hours without indices run in a seconds once they are added and refreshed.\r\n \r\nh3. Workaround \r\nThere is no official workaround, but please contact support at https://support.atlassian.com/contact for assistance.",
      "summary": "Improvements to AddIndicesToForeignKeys"
    }
  },
  {
    "key": "BAM-20136",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-30T11:32:36.000+0000",
      "created": "2018-10-19T11:19:07.000+0000",
      "description": "If plan has repository trigger and do commits to plan's repository then build will be endlessly triggered by previous build commits.",
      "summary": "Constant build loop when use VcsCommit task"
    }
  },
  {
    "key": "BAM-20135",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-17T21:01:51.000+0000",
      "description": "In case of long version names, the Release drop-down on the Deployment Preview panel shows only the first part of the version name. \r\n",
      "summary": "UI: Release drop-down on the Deployment Preview"
    }
  },
  {
    "key": "BAM-20134",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-17T17:42:36.000+0000",
      "description": "h3. Problem Definition\r\nWhen a plan is deleted Bamboo also removes all related audit log entries from AUDIT_LOG table. This task might have a high cost in Bamboo instances with a big AUDIT_LOG table. To complicate things a little bit, the JOB_KEY column is used for the search and this column is not indexed.\r\n\r\nh3. Suggested Solution\r\n* Add an index to the JOB_KEY column to increase the search speed on finding elements to be removed\r\nor even better\r\n* Avoid removing history from audit logs. If they are there to track what happened in the server, what is the purpose of removing history form old plans? Maybe to avoid confusion if a new plan is created with the same plan key? But than in this case we would see an event of plan deletion and another for plan creation.\r\n(!) We might need to implement a way to expire really old audit logs or even move the complete information to syslog: [\\[BAM\\-20024\\] Bamboo syslog integration|https://jira.atlassian.com/browse/BAM-20024]\r\n \r\nh3. Workaround\r\nReduce the size of the AUDIT_LOG table by removing really old history or even dumping the table to a file that can be used in case old history is needed.",
      "summary": "Low performance on deleting plan branches (big AUDIT_LOG table)"
    }
  },
  {
    "key": "BAM-20133",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-17T09:23:06.000+0000",
      "description": "When job is removed audit log entries related to it are orphaned at plan audit log UI. It should show at least job key for removed job entries",
      "summary": "Job related audit log records are orphaned when job is removed"
    }
  },
  {
    "key": "BAM-20132",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-17T03:31:13.000+0000",
      "description": "Bamboo specs provides a class [Logger (Atlassian Bamboo Plan Specs 6.6.3 API)|https://docs.atlassian.com/bamboo-specs/6.6.3/com/atlassian/bamboo/specs/util/Logger.html].\r\nThis class enables Bamboo specs to log messages to  Standard out and does not provide any mechanism to log the messages elsewhere.\r\n\r\n[BambooServer (Atlassian Bamboo Plan Specs 6.6.3 API)|https://docs.atlassian.com/bamboo-specs/6.6.3/com/atlassian/bamboo/specs/util/BambooServer.html] keeps its Logger instance private.\r\n\r\nThis feature request is to allow the specs programmer to control where the log messages are written.  Add an optional PrintStream to the BambooServer constructor and have the Logger instance associated with it log to the PrintStream.\r\n\r\n{code}\r\nByteArrayOutputStream os = new ByteArrayOutputStream();\r\nPrintStream ps = new PrintStream(os);\r\nBambooServer bambooServer = new BambooServer(BAMBOO_URL, ps);\r\n...\r\nString output = os.toString(\"UTF8\");\r\n{code}",
      "summary": "Bamboo specs logging to arbitrary PrintSteam."
    }
  },
  {
    "key": "BAM-20131",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-23T07:33:04.000+0000",
      "created": "2018-10-16T21:47:28.000+0000",
      "description": "It would be nice to have a Rest endpoint to retrieve the hash for a given plaintext that can be used as an encrypted variable in Bamboo.\r\n\r\nA good use case for this would be to use the hash in Bamboo specs code avoiding exposing sensitive data inside the Java code.",
      "summary": "Rest API endpoint to encrypt variables content"
    }
  },
  {
    "key": "BAM-20130",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-12T14:53:40.000+0000",
      "created": "2018-10-12T09:50:07.000+0000",
      "description": null,
      "summary": "Subversion checks out wrong revision when using custom revision"
    }
  },
  {
    "key": "BAM-20129",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-08T15:00:07.000+0000",
      "created": "2018-10-11T16:22:31.000+0000",
      "description": "h3. Summary\r\n\r\nThe remote agent parsing of a fingerprint message fails if the message is malformed.\r\n\r\nh3. Expected results\r\nThe parsing handles malformed messages.\r\n\r\nh3. Actual Results\r\nAn ArrayIndexOutOfBoundsException is thrown when the remote agent parses the response:\r\n{noformat}\r\njava.lang.ArrayIndexOutOfBoundsException: 1\r\n        at com.atlassian.bamboo.agent.bootstrap.GetFingerprintResponse.<init>(GetFingerprintResponse.java:24)\r\n        at com.atlassian.bamboo.agent.bootstrap.AgentContext.initFingerprint(AgentContext.java:119)\r\n        at com.atlassian.bamboo.agent.bootstrap.AgentContext.initServerSession(AgentContext.java:101)\r\n        at com.atlassian.bamboo.agent.bootstrap.AgentContext.run(AgentContext.java:88)\r\n        at com.atlassian.bamboo.agent.bootstrap.AgentBootstrap.run(AgentBootstrap.java:111)\r\n        at com.atlassian.bamboo.agent.bootstrap.AgentBootstrap.main(AgentBootstrap.java:50)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n{noformat}\r\n\r\nh3. Workaround\r\nThere is no workaround.\r\n",
      "summary": "Remote agent parsing of malformed fingerprint response fails"
    }
  },
  {
    "key": "BAM-20128",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-16T14:42:28.000+0000",
      "created": "2018-10-10T20:38:39.000+0000",
      "description": "h3. Steps to Reproduce\r\n# Create a plan (with or without a repository)\r\n# Add any task to the default job\r\n# Disable the default job\r\n# Run it\r\n\r\nh3. Expected Results\r\nBamboo will show a warning explaining that there is no job to run and therefore no build will be run.\r\n\r\nh3. Actual Results\r\nBamboo will run the build, the build will pass and new build results will show up. No logs will be displayed. \r\n !Screen Shot 2018-10-10 at 17.29.49.png|thumbnail! ",
      "summary": "Disabling all jobs of a plan do not prevent the plan from running"
    }
  },
  {
    "key": "BAM-20124",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-10T12:15:08.000+0000",
      "created": "2018-10-08T19:22:16.000+0000",
      "description": "h3. Problem Definition\r\n{{<bamboo-agent-home>/temp/log_spool}}\r\n\r\nThe files in this directory are created during the build process, but are not removed when no longer in use.\r\n\r\nFor agents which run a large number of builds or which have been connected to Bamboo for some time, there can be a large number of files in this directory.\r\n\r\nh3. Suggested Solution\r\nAutomated purging of the {{./temp/log_spool}} directory periodically, or after a build.\r\n \r\nh3. Workaround\r\nmanually clean directory when agent is idle.",
      "summary": "Remote Agents should Clean up temporary files when no longer in use"
    }
  },
  {
    "key": "BAM-20123",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-05T12:40:28.000+0000",
      "description": "h6.Problem description:\r\nWhen the \"Enable contact details to be displayed\" security option *is disabled* the repository aliases are still visible, this could be a security concern for some of the customers because the aliases also contain complete email addresses.\r\n\r\nh6.Suggested Solution:\r\nInclude repository aliases to be hidden as well when the \"Enable contact details to be displayed\" security option is disabled.\r\n\r\nh6.Workaround:\r\nDisable Anonymous access from the Global Permissions to restrict the view.\r\n(!)Note: This option would restrict the access to the Bamboo application to the anonymous users.\r\n\r\n\r\n",
      "summary": "Include Repository aliases to also be hidden with \"Enable contact details to be displayed\" option is disabled"
    }
  },
  {
    "key": "BAM-20122",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:46.000+0000",
      "created": "2018-10-04T20:15:15.000+0000",
      "description": "h3. Issue\r\nElastic Agents and its capabilities are available in Bamboo, even though AWS is not configured.\r\n\r\nh3. How to replicate\r\n* Install Bamboo v6.x\r\n* Create a Plan\r\n* Go to {color:blue}Plan configuration >> \\[Stage\\] >> \\[Job\\] >> Requirements{color} tab\r\n* Search for {color:blue}JDK{color} and you will notice {color:blue}JDK 8, JDK 1.9, JDK 10{color} will become available even though you have not set them up as capabilities in {color:blue}Bamboo administration >> Overview >> Build resources >> Server capabilities{color}\r\n* Go to {color:blue}Bamboo administration >> Overview >> Build resources >> JDKs{color} and you *will not find them listed*\r\n* Enable AWS configuration in Bamboo\r\n* Go to {color:blue}Bamboo administration >> Overview >> Build resources >> JDKs{color} and you *will find them listed*\r\n\r\nh3. Notes\r\nThe same issue can be seen when setting up tasks that require capabilities, e.g _Maven 3.x_. The {color:blue}Build JDK{color} dropdown menu displays Elastic Agents capabilities when AWS is not configured.",
      "summary": "Prevent Elastic Agents capabilities from becoming available when AWS configuration is unset"
    }
  },
  {
    "key": "BAM-20120",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-09T14:29:02.000+0000",
      "created": "2018-10-04T09:42:43.000+0000",
      "description": "h3. Summary\r\nBamboo checkout fails with \"Detached from HEAD\" error generating a delay\r\n\r\nh3. Environment\r\n- Bamboo 6.6.2\r\n- Bitbucket Server or any git repository.\r\n\r\nh3. Steps to Reproduce\r\n# Have a plan with a Checkout task connecting to git or Bitbucket.\r\n# Run Plan.\r\n# Force the checkout to fail so git retries the operation.\r\n# Make a commit in the code in the meantime so the repo will be one step ahead.\r\n\r\nh3. Expected Results\r\nSuccessful checkout\r\n\r\nh3. Actual Results\r\nCheckout fails since the task tries to do a full checkout with the original commit hash. In the build logs we see:\r\n{noformat}\r\nsimple  04-Oct-2018 14:51:02    Starting task 'Checkout Default Repository' of type 'com.atlassian.bamboo.plugins.vcs:task.vcs.checkout'\r\nsimple  04-Oct-2018 14:51:02    Checking out into /home/mate/bamboo-home/xml-data/build-dir/PR1-PL1-JOB1\r\nsimple  04-Oct-2018 14:51:02    Updating source code to revision: 5c398ea3e77634bd6180aec00ce156b60e958a4a\r\nsimple  04-Oct-2018 14:51:26    Fetching 'refs/heads/feature/branch1' from 'ssh://git@bitbucket:7999/pr/repo.git'. Will try to do a shallow fetch.\r\nsimple  04-Oct-2018 14:51:51    Warning: Permanently added '[127.0.0.1]:49307' (RSA) to the list of known hosts.\r\nsimple  04-Oct-2018 14:51:52    From ssh://127.0.0.1:49307/pr/repo\r\nsimple  04-Oct-2018 14:51:52     + b767bd0...9d2da7a feature/branch1 -> feature/branch1  (forced update)\r\nsimple  04-Oct-2018 14:51:52    Checking out revision 5c398ea3e77634bd6180aec00ce156b60e958a4a.\r\nsimple  04-Oct-2018 14:51:52    fatal: reference is not a tree: 5c398ea3e77634bd6180aec00ce156b60e958a4a\r\nerror   04-Oct-2018 14:51:52    Checkout to revision 5c398ea3e77634bd6180aec00ce156b60e958a4a has failed.\r\nsimple  04-Oct-2018 14:51:52    Warning: failed to checkout source code to directory '/home/mate/bamboo-home/xml-data/build-dir/PR1-PL1-JOB1', trying to recover...\r\nsimple  04-Oct-2018 14:52:34    Cleaned source directory '/home/mate/bamboo-home/xml-data/build-dir/PR1-PL1-JOB1'...\r\nsimple  04-Oct-2018 14:52:34    Creating local git repository in '/home/mate/bamboo-home/xml-data/build-dir/PR1-PL1-JOB1/.git'.\r\nsimple  04-Oct-2018 14:52:35    Initialized empty Git repository in /home/mate/bamboo-home/xml-data/build-dir/PR1-PL1-JOB1/.git/\r\nsimple  04-Oct-2018 14:53:00    Fetching 'refs/heads/feature/branch1' from 'ssh://git@bitbucket:7999/pr/repo.git'.\r\nsimple  04-Oct-2018 14:53:24    Warning: Permanently added '[127.0.0.1]:49307' (RSA) to the list of known hosts.\r\nsimple  04-Oct-2018 14:53:40    From ssh://127.0.0.1:49307/pr/repo\r\nsimple  04-Oct-2018 14:53:40     * [new branch]      feature/branch1 -> feature/branch1\r\nsimple  04-Oct-2018 14:53:40    Fetching to source directory '/home/mate/bamboo-home/xml-data/build-dir/PR1-PL1-JOB1' completed, proceeding with checkout...\r\nsimple  04-Oct-2018 14:53:40    Checking out revision 5c398ea3e77634bd6180aec00ce156b60e958a4a.\r\nsimple  04-Oct-2018 14:53:43    Note: checking out '5c398ea3e77634bd6180aec00ce156b60e958a4a'.\r\nsimple  04-Oct-2018 14:53:43    \r\nsimple  04-Oct-2018 14:53:43    You are in 'detached HEAD' state. You can look around, make experimental\r\nsimple  04-Oct-2018 14:53:43    changes and commit them, and you can discard any commits you make in this\r\nsimple  04-Oct-2018 14:53:43    state without impacting any branches by performing another checkout.\r\nsimple  04-Oct-2018 14:53:43    \r\nsimple  04-Oct-2018 14:53:43    If you want to create a new branch to retain commits you create, you may\r\nsimple  04-Oct-2018 14:53:43    do so (now or later) by using -b with the checkout command again. Example:\r\nsimple  04-Oct-2018 14:53:43    \r\nsimple  04-Oct-2018 14:53:43      git checkout -b new_branch_name\r\nsimple  04-Oct-2018 14:53:43    \r\nsimple  04-Oct-2018 14:53:43    HEAD is now at c1ce76c... fix tests\r\nsimple  04-Oct-2018 14:53:43    Checkout completed, recover successful.\r\nsimple  04-Oct-2018 14:53:43    Updated source code to revision: 5c398ea3e77634bd6180aec00ce156b60e958a4a\r\nsimple  04-Oct-2018 14:53:43    Finished task 'Checkout Default Repository' with result: Success\r\n{noformat}\r\nThe build resumes successfully, but with a big delay.\r\n \r\nh3. Notes\r\nAlthough the build is successful, the delay is the problem. Not only problematic for statistical purposes, but having to deal with huge delays for small quick builds.\r\n\r\nh3.Workaround\r\nNo workaround available.\r\n\r\nh3. Suggested solution 1\r\nHave an option to tell the Checkout task to go for the latest commit, always. (Similar to [BAM-13576|https://jira.atlassian.com/browse/BAM-13576])\r\n\r\nh3. Suggested solution 2\r\nFail build after first failed checkout",
      "summary": "Bamboo checkout fails with \"Detached from HEAD\" error generating a delay"
    }
  },
  {
    "key": "BAM-20119",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-02T22:31:22.000+0000",
      "description": "The file:// protocol currently in use is not supported by Git LFS causing\u00a0files to show up empty with zero size repo caching is enabled. Additional or alternative protocols\u00a0to support Git LFS are requested.",
      "summary": "Additional protocols for caching to provide GIT LFS Support"
    }
  },
  {
    "key": "BAM-20118",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-02T15:46:57.000+0000",
      "description": "h3. Summary\r\n\r\nEC2-Installer hangs when mounting an EBS volume on a\u00a0C5 or M5 instance.\r\n\r\nh3. Steps to Reproduce\r\n# Run\u00a0[EC2-Wizard|https://confluence.atlassian.com/bamboo/running-bamboo-server-in-aws-858705568.html]\r\n# Choose *C5* or *M5* instance type\r\n\r\nh3. Expected Results\r\nInstance starts without issue.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n================================================================================\r\nFinal pre-launch confirmation\r\n================================================================================\r\nPlease review your selections:\r\nRegion           : US East (Northern Virginia)\r\nVPC subnet       : subnet-0a9ba04b27d4cb784\r\nPublic IP        : yes\r\nSecurity group   : sg-078a1ed6225fc4573\r\nInstance type    : c5.large\r\nPrivate key      : rwatson-useast1\r\nData volume size : 10GiB\r\nYou're all set. Do you want to launch your Bamboo Server instance now (y/n)?\r\ny\r\nProceeding with creation of a new Bamboo Server.\r\nStarted instance i-0a258ec9918976ed8, waiting until it's available...\r\nThe current instance state is: pending...\r\nThe current instance state is: running...\r\nTagging volume vol-0ab4e77532de8843d.\r\nInstance is up, waiting until SSH server becomes available..\r\nSSH command for your Bamboo Server:\r\n    ssh -i PRIVATE_KEY_FILE ubuntu@ec2-54-89-136-37.compute-1.amazonaws.com\r\n    ssh -i PRIVATE_KEY_FILE ubuntu@54.89.136.37\r\nTagging data volume and instance...\r\nTagging volume vol-0ab4e77532de8843d.\r\nSSH server is up.\r\nShowing remote log:\r\nHost ec2-54-89-136-37.compute-1.amazonaws.com cannot be resolved, adding to /etc/hosts...\r\nFound network interfaces: ens5, using the IP address of ens5 for ec2-54-89-136-37.compute-1.amazonaws.com ...\r\nMapping ec2-54-89-136-37.compute-1.amazonaws.com to 10.125.50.199...\r\nUpdating package list...\r\nUpgrading installed packages...\r\nNeed to get 50.4 MB of archives.\r\nPreconfiguring packages ...\r\nPackages upgraded.\r\nInstalling additional required packages, this will take a while...\r\nNeed to get 76.5 MB of archives.\r\nPreconfiguring packages ...\r\nSetting up apache2 (2.4.18-2ubuntu3.9) ...\r\nSetting up ssl-cert (1.0.37) ...\r\nSetting up postgresql (9.5+173ubuntu0.2) ...\r\nSetting up xmlstarlet (1.6.1-1ubuntu1) ...\r\nSetting up openjdk-8-jre:amd64 (8u181-b13-0ubuntu0.16.04.1) ...\r\nSetting up ec2-api-tools (1.6.14.1-0ubuntu1) ...\r\nPackage installation completed.\r\nSetting up EBS data volume...\r\nWaiting until EBS device becomes available...\r\n{noformat}\r\nconfiguration does not progress beyond this point.\r\n\r\nThe installer is unable to detect the NVMe volume mounted to these instance types.\r\n\r\nh3.Workaround\r\nChoose a different Instance Type\r\n",
      "summary": "EC2-Wizard not correctly mounting EBS volumes on C5 or M5 instances"
    }
  },
  {
    "key": "BAM-20117",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-02T12:04:23.000+0000",
      "description": "With Plan Templates we were able to create a Deployment project using a different branch.\r\n\r\nWith Bamboo Specs looks like I have to create the branch first, find out the number of the branch (eg:\u00a0JF-PROD) and create a Deployment Project using `JF-PROD3` as the key.\r\n\r\nThat sounds a bit brittle because I can't reuse the same spec on another server that might have a different branch count. It would be better if I can target the branch by name.",
      "summary": "Allow specify the source branch in a deployment project with Bamboo Specs"
    }
  },
  {
    "key": "BAM-20116",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-17T08:32:11.000+0000",
      "created": "2018-10-01T12:09:47.000+0000",
      "description": null,
      "summary": "REST endpoint to generate JavaSpecs."
    }
  },
  {
    "key": "BAM-20115",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-10-01T12:09:03.000+0000",
      "description": "h3. Summary\r\n\r\nWhen running RSS on Windows the path\r\n{noformat}\r\n/mnt/input{noformat}\r\nis passed to the container using the wrong representation for a Linux container:\r\n{noformat}\r\n\\\\mnt\\\\input{noformat}\r\nh3. Environment\r\n * Windows\r\n * Repository Stored Specs enabled and Process Bamboo Specs in Docker enabled\r\n\r\nh3. Steps to Reproduce\r\n # Run RSS\r\n\r\nh3. Expected Results\r\n\r\nRSS runs successfully.\r\nh3. Actual Results\r\n\r\nAn exception is thrown when Bamboo tries to create the container. Docker complains about the format of the path being sent as argument:\r\n{noformat}\r\nProcessing Specs within Docker containerUnable to scan repository <repository name> for Bamboo Specs\r\ncom.atlassian.bamboo.repository.RepositoryException: Unable to scan repository <repository name> for Bamboo Specs\r\n        at com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.lambda$runSpecsWithDocker$8(RepositoryStoredSpecsServiceImpl.java:739)\r\n...\r\nCaused by: com.spotify.docker.client.exceptions.DockerRequestException: Request error: POST http://localhost:2375/containers/create?name=bamboo-specs-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx: 400, body: {\"message\":\"the working directory '\\\\mnt\\\\input' is invalid, it needs to be an absolute path\"}\r\n\r\n        at com.spotify.docker.client.DefaultDockerClient.propagate(DefaultDockerClient.java:2694)\r\n        at com.spotify.docker.client.DefaultDockerClient.request(DefaultDockerClient.java:2644)\r\n        at com.spotify.docker.client.DefaultDockerClient.createContainer(DefaultDockerClient.java:651)\r\n        at com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.lambda$runSpecsWithDocker$8(RepositoryStoredSpecsServiceImpl.java:698)\r\n        ... 8 more\r\nCaused by: com.spotify.docker.client.shaded.javax.ws.rs.BadRequestException: HTTP 400 Bad Request\r\n...\r\n{noformat}\r\nh3. Workaround\r\n\r\nThere is no workaround.",
      "summary": "RSS processing inside Windows Docker Engine container uses incorrect path representation"
    }
  },
  {
    "key": "BAM-20114",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-28T17:42:54.000+0000",
      "description": "h3. Problem\r\n\r\nOn the server capabilities the All Remote Agents doesn't work well when you have remote agents on different types of systems that use different file systems, mainly Windows vs. Unix. So when you have something like Maven it could be installed in one location on Unix Remote Agents and in a different location on Windows Remote Agents. Although you can override this at the remote agent level either manually or through a bamboo-capabilities.properties file, being able to define remote agent types would allow them to be defined for All <Type> Remote Agents, for example All Windows remote agents, All Linux remote Agents.\r\n\r\nh3. Suggestion\r\n\r\nAdd the ability to specify a Remote Agent Type, so we can say All Unix Remote Agents have Maven 3.3.9 at this location and All Windows remote agents have Maven 3.3.9 at this location. That way we could still define a shared component for remote agents without having to override it at the agent level for all agents that don't match the default.\r\n\r\nThe solution could use an Agent Type field, which would allow users to define Agent Types, then allow for defining shared capabilities by type or allow the path to be set by type in the definition of a capability. Name: Maven 3.3.9 Path: Agent Type: windows, path: c:\\whatever. Agent Type: Linux, path /production/whatever.\r\n\r\nThen when creating a new remote agent if the type could be specified it would automatically inherit the correct shared capabilities without having to override them at the agent level.",
      "summary": "Shared remote capabilities should have agent type distinction (OSX, Linux, Windows, ...)"
    }
  },
  {
    "key": "BAM-20113",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-28T13:34:55.000+0000",
      "description": "h3. Issue\r\n* Unable to upgrade *Atlassian Universal Plugin Manager Plugin* from Bamboo's UI.\r\n* From a Bamboo v6.5.1 (_vanilla instance_), when visiting {color:blue}Bamboo administration >> Add-ons >> Manage add-ons{color}, the *Atlassian Universal Plugin Manager Plugin* is prompted with option to be updated\r\n\r\nh3. How to replicate\r\nWhile running some tests against Bamboo v6.5.1 (_vanilla install_) while attempting on upgrading *Atlassian Universal Plugin Manager Plugin* from version 2.22.9 to 2.22.15 a message pop-up in Bamboo's interface {color:#ff0000}An error was encountered while updating the UPM. See the logs for more details.{color} However, no error can be found in Bamboo logs.\r\n{noformat}\r\n2018-09-27 09:30:59,526 INFO [UpmAsynchronousTaskManager:thread-3] [SelfUpdateControllerImpl] Extracted self-update plugin to /opt/atlassian/product/bamboo/6.5.1/service/temp/upm-selfupdate5364550227315810715.jar\r\n2018-09-27 09:30:59,527 INFO [UpmAsynchronousTaskManager:thread-3] [SelfUpdateControllerImpl] Installing self-update plugin\r\n2018-09-27 09:30:59,606 INFO [http-nio-8085-exec-5] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148707 454155kb\r\n2018-09-27 09:30:59,701 INFO [Gemini Blueprint context shutdown thread1] [ExtenderConfiguration] Application context succesfully closed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin, config=osgibundle:/META-INF/spring/*.xml))\r\n2018-09-27 09:30:59,721 INFO [http-nio-8085-exec-7] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148708 412886kb\r\n2018-09-27 09:30:59,748 INFO [UpmAsynchronousTaskManager:thread-3] [DefaultOsgiApplicationContextCreator] Discovered configurations {osgibundle:/META-INF/spring/*.xml} in bundle [com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin (com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin)]\r\n2018-09-27 09:30:59,759 INFO [ThreadPoolAsyncTaskExecutor::Thread 20] [DependencyWaiterApplicationContextExecutor] No outstanding OSGi service dependencies, completing initialization for NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin, config=osgibundle:/META-INF/spring/*.xml)\r\n2018-09-27 09:30:59,778 INFO [ThreadPoolAsyncTaskExecutor::Thread 21] [ExtenderConfiguration] Application context successfully refreshed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin, config=osgibundle:/META-INF/spring/*.xml))\r\n2018-09-27 09:30:59,858 INFO [http-nio-8085-exec-6] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148709 403304kb\r\n2018-09-27 09:30:59,988 INFO [http-nio-8085-exec-9] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148710 403132kb\r\n2018-09-27 09:31:00,152 INFO [http-nio-8085-exec-10] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148711 402012kb\r\n2018-09-27 09:31:00,324 INFO [http-nio-8085-exec-8] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148712 401181kb\r\n2018-09-27 09:31:00,523 INFO [http-nio-8085-exec-12] [AccessLogFilter] admin GET http://bamboo.rsperafico/rest/plugins/1.0/pending/de2e4f56-da39-4c91-9f22-911009983b55?_=1538051148713 400722kb\r\n2018-09-27 09:31:00,776 INFO [UpmAsynchronousTaskManager:thread-3] [PluginSettingsAuditLogService] Thu Sep 27 09:31:00 BRT 2018 admin: Installed add-on Atlassian Universal Plugin Manager Self-Update Plugin (com.atlassian.upm.atlassian-universal-plugin-manager-selfupdate-plugin version 2.22.9)\r\n{noformat}\r\n*Atlassian Universal Plugin Manager Plugin cannot be installed by the UPM.*, instead, this plugin must be upgraded by placing it into {color:#0000ff}<bamboo-install>/atlassian-bamboo/WEB-INF/atlassian-bundled-plugins/{color} directory.\r\n\r\nh3. Workaround\r\n# Search for the plugin {color:#0000ff}atlassian-universal-plugin-manager-plugin{color} in {color:#0000ff}<bamboo-install>{color} and {color:blue}<bamboo-home>{color} directories\r\n{noformat}\r\nfind <bamboo-install> -type f -iname *plugin-manager*\r\n./temp/plugin.1601886942539564849.atlassian-universal-plugin-manager-plugin-2.22.15.jar\r\n./atlassian-bamboo/WEB-INF/atlassian-bundled-plugins/atlassian-universal-plugin-manager-plugin-2.22.9.jar\r\n{noformat}\r\n{noformat}\r\nfind <bamboo-home> -type f -iname *plugin-manager*\r\n/var/vcap/store/atlassian-bamboo/plugins/atlassian-universal-plugin-manager-plugin-2.22.15.jar\r\n/var/vcap/store/atlassian-bamboo/caches/plugins/transformed-plugins/atlassian-universal-plugin-manager-plugin-2.22.15_1535496222000.jar\r\n/var/vcap/store/atlassian-bamboo/caches/plugins/transformed-plugins/atlassian-universal-plugin-manager-plugin-2.22.9_1529577876000.jar\r\n{noformat}\r\n # stop Bamboo\r\n # remove {color:#0000ff}atlassian-universal-plugin-manager-plugin-*{color} from {color:#0000ff}<bamboo-home>/caches/transformed-plugins{color} directory\r\n # remove {color:#0000ff}atlassian-universal-plugin-manager-plugin-*{color} from {color:#0000ff}<bamboo-home>/plugins{color} directory\r\n # remove {color:#0000ff}atlassian-universal-plugin-manager-plugin-*{color} from {color:#0000ff}<bamboo-install>/temp{color} (_if existent_)\r\n # move (*do not delete*) {color:#0000ff}<bamboo-install>/atlassian-bamboo/WEB-INF/atlassian-bundled-plugins/atlassian-universal-plugin-manager-plugin-2.22.9.jar{color} outside Bamboo's directory (_so you can have the original file_)\r\n # download [atlassian-universal-plugin-manager-plugin-2.22.15.jar|https://marketplace.atlassian.com/download/apps/23915/version/3000030] from Atlassian's Marketplace (_this is the 2nd link in_ [https://marketplace.atlassian.com/apps/23915/atlassian-universal-plugin-manager/version-history])\r\n # place the downloaded file into {color:#0000ff}<bamboo-install>/atlassian-bamboo/WEB-INF/atlassian-bundled-plugins/{color}\r\n # start Bamboo\r\n # go to {color:#0000ff}Bamboo administration >> Add-ons >> Manage add-ons{color}\r\n # search for *Universal Plugin Manager* having {color:#0000ff}System{color} selected in the dropdown menu\r\n # click on the *Universal Plugin Manager* so you can review its modules. You should find *212 of 212 modules enabled*",
      "summary": "Unable to upgrade 'Atlassian Universal Plugin Manager Plugin' from Bamboo\u2019s UI"
    }
  },
  {
    "key": "BAM-20112",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-27T12:19:24.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, there is no such option in Bamboo to schedule the Deployment plans at a particular time to enable or disable them. This could be very useful in cases where the customer wants to achieve some sort of automation or don't want to trigger any Deployments.\r\n\r\nh6.Suggested Solution:\r\nProvide a method to schedule the enable/disable of the deployment plans trigger at a specific time using the Bamboo UI.\r\n\r\nh6.Workaround:\r\nNo workaround currently.\r\n\r\n",
      "summary": "Enable/Disable Deployment Scheduler"
    }
  },
  {
    "key": "BAM-20111",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-26T09:16:48.000+0000",
      "created": "2018-09-26T08:37:22.000+0000",
      "description": "h6.Problem Description:\r\nWhen using a long variable value under the plan configuration it breaks the Bamboo UI as the scrollbar is not shown to scroll and view the (Add/Edit/Delete) button. This works fine on the Global Variable screen but breaks on the Plan Configuration page.\r\n\r\nh6.How to Reproduce:\r\n* Go to plan configuration and add a variable with a very long content. It will break the screen and you can't see the Add/Delete button.\r\n\r\nh6.Expected Result:\r\n* Bamboo UI should handle the long variable value and provide a scrollbar on the page to scroll and see the buttons.\r\n\r\nh6.Actual Result:\r\n* Bamboo UI breaks and a user is unable to scroll and see the buttons.\r\n\r\n\r\n",
      "summary": "Long variable value breaks the Bamboo UI"
    }
  },
  {
    "key": "BAM-20109",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-09T13:25:10.000+0000",
      "created": "2018-09-24T23:09:41.000+0000",
      "description": "When using Docker Runner to isolate builds on Windows images, such as\u00a0openjdk:10-jdk-windowsservercore, running in Docker for Windows, the container will fail to start:\r\n\r\n13-Sep-2018 16:00:17 C:\\Program Files\\Docker\\Docker\\Resources\\bin\\docker.exe: Error response from daemon: network host not found.\r\n13-Sep-2018 16:00:17 Failed to start docker container df37fa8b-e94c-43a5-8d48-f7c4d90fd10c139396235\r\n\r\nRunning the command directly without --net=host results in the container starting successfully. There is currently no way to prevent Docker Runner from using the --net=host argument.",
      "summary": "Docker Runner argument '--net=host' causes docker images to fail"
    }
  },
  {
    "key": "BAM-20107",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-24T12:28:34.000+0000",
      "description": "h6.Summary:\r\nThere can be scenarios where a customer wants to achieve some automation by enabling/disabling triggers programmatically, the REST API seems to be a better solution here but currently, there is no such REST Endpoint to achieve this.\r\n\r\nh6.Expected Solution:\r\nEnable triggers to be enabled/disabled by submitting REST calls.\r\n\r\nh6.Workaround:\r\nDo it manually.\r\n\r\n\r\n",
      "summary": "REST API to enable/disable Triggers"
    }
  },
  {
    "key": "BAM-20106",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:54.000+0000",
      "created": "2018-09-24T09:39:29.000+0000",
      "description": "h3. Summary\r\nBamboo loses \"reason\" column/field data of a custom build when the data is imported into a bamboo instance using import/export feature.\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Create a Bamboo build plan with a repository\r\n# Run a customized build with a custom revision.\r\n# Use the export feature to export the bamboo data.\r\n# Use this export to import in a new (or same) Bamboo instance.\r\n\r\nh3. Expected Results\r\n* Reason field/column should have the data listed against it.\r\n\r\nh3. Actual Results\r\n* The reason field shows \"unknown\" as a reason.\r\n\r\nh3.Workaround\r\nNo workaround except not using export/import feature and going with a manual way using the native tools.",
      "summary": "\"Unknown\" reason column for customised builds when using import zip"
    }
  },
  {
    "key": "BAM-20105",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-21T20:56:48.000+0000",
      "description": "This is a feature request on behalf of a customer. The customer wants his local or remote agent gracefully shutdown after a build job is finished.\r\n\r\n(i) Currently we cannot provide a {color:#172b4d}direct way to do that, unless the agent is elastic and Bamboo is configured to terminate the agent after the build finishes.{color}\r\n\r\n{color:#172b4d}@ +Bamboo Dev team+: please think about implementing this as a new feature e.g. by adding an option to check (or uncheck) for all existing local and remote agents saying \"Terminate agent after current build or deployment finishes\".{color}\r\n\r\n{color:#172b4d}+As a workaround we suggested to implement a logic doing this, e.g. by+:{color}\r\n * {color:#172b4d}Parse the agent log and identify when the agent is not building but checking for builds{color}\r\n * {color:#172b4d}In such a moment, send SIGTERM to the process or run the remote agent\u2019s stop script{color}\r\n\r\n{color:#172b4d}Complicated part here is log intepretation, of course.{color}",
      "summary": "Gracefully shutdown of a bamboo agent"
    }
  },
  {
    "key": "BAM-20104",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-20T14:19:12.000+0000",
      "description": "h3. Issue\r\nSince a better way of integrating Bitbucket Server with Bamboo was implemented (reference: [Bamboo 5.6 Release Notes - Stash tells Bamboo when to build|https://confluence.atlassian.com/x/3ABbJ], it is difficult to find out which SHA1 commit the POST event received by Bamboo is referred to:\r\n{noformat}\r\n2018-09-20 09:55:21,823 INFO [http-nio-8085-exec-22] [AccessLogFilter] 0:0:0:0:0:0:0:1 POST http://localhost:8085/rest/remote-event-consumer/latest/events/stash-branch-changed-remote-event 598086kb\r\n2018-09-20 09:55:21,825 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-8] [BranchChangedEventListener] Received stash ref changed event [ repository, master]\r\n{noformat}\r\n\r\nh3. Suggestion\r\nWhen Bamboo receives a POST event {color:blue}rest/remote-event-consumer/latest/events/stash-branch-changed-remote-event{color} or any other repository event, it would be interesting having the SHA1 commit displayed in logs, making it easier correlate events and commits.",
      "summary": "As an administrator, I would like to view SHA1 commit in POST event from Bitbucket Server"
    }
  },
  {
    "key": "BAM-20103",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-19T15:51:08.000+0000",
      "description": "h3. Issue\r\n\r\nThere are some logging (_DEBUG in its majority - suggested by support_) that are enabled at the Agent level, requiring Bamboo administrators to follow steps described in Knowledge Base Article ([How to increase debug logging to investigate remote agent problems|https://confluence.atlassian.com/x/Mx8GO]) to have {color:#0000FF}log4j.properties{color} added to {color:#0000FF}<bamboo-remote-agent>{color} and referred on {color:#0000FF}<bamboo-remote-agent>/conf/wrapper.conf{color} as JVM property.\r\nh3. Suggestion\r\nHave a {color:#0000FF}log4j.properties{color} bundled with Bamboo Remote Agent / Bamboo Elastic Agent (_located under {color:blue}<bamboo-remote-agent>/conf/{color}_)\r\n * Once required, have a checkbox in Bamboo's UI under the Agent administration page to enable / disable {color:#0000FF}log4j.properties{color}\r\n * When enabling it, DEBUG logging (_for example_) added to {color:#0000FF}Bamboo administration >> Overview >> System >> Log settings{color} should be published to the Agent selected and the Agent restarted so changes could take effect.\r\n",
      "summary": "Bamboo Agent should have log4j.properties bundled"
    }
  },
  {
    "key": "BAM-20102",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-18T21:26:05.000+0000",
      "description": "Currently, plans can be exported, saved, and restored with the use of Bamboo Specs, however, it would be helpful to have a simpler, more intuitive way to export plans. For example, an export button that saves a plan file, and an import button that would read the file and recreate the plan.",
      "summary": "Simple Import and Export of plans, without Specs"
    }
  },
  {
    "key": "BAM-20101",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:47.000+0000",
      "created": "2018-09-18T08:52:33.000+0000",
      "description": "Steps to reproduce:\r\n- open variables tab of Plan configuration\r\n- change plan key in the url to a job key\r\n- create and save a variable\r\n\r\nWhat will happen is that Bamboo creates variable associated with the job. Such variables are not accessible during the build and are not supported. ",
      "summary": "It is possible to associate plan variable with a Job by hacking url"
    }
  },
  {
    "key": "BAM-20100",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-17T15:00:16.000+0000",
      "created": "2018-09-17T10:07:04.000+0000",
      "description": "{code}\r\n2018-08-10 14:15:52,309 ERROR [scheduler_Worker-10] [DeletionServiceImpl] Unable to complete delayed deletion:\r\norg.hibernate.LazyInitializationException: could not initialize proxy - no Session\r\nat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:165)\r\nat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:286)\r\nat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:185)\r\nat com.atlassian.bamboo.plan.AbstractChain_$$_jvst9e1_1.getName(AbstractChain_$$_jvst9e1_1.java)\r\nat com.atlassian.bamboo.build.DefaultJob.getName(DefaultJob.java:67)\r\nat com.atlassian.bamboo.variable.VariableComparators$VariableDefinitionComparator.compare(VariableComparators.java:67)\r\nat com.atlassian.bamboo.variable.VariableComparators$VariableDefinitionComparator.compare(VariableComparators.java:44)\r\nat com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:38)\r\nat java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n{code}\r\n\r\nNote: Job level variables are not supported, therefore minor severity.",
      "summary": "LazyInitialisationException in deletion service when using job variables"
    }
  },
  {
    "key": "BAM-20099",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-02-06T14:12:07.000+0000",
      "created": "2018-09-14T20:26:02.000+0000",
      "description": "h3. Issue Summary\r\nInject Bamboo Variables task use ISO 8859-1 character encoding to read the file causing character encoding issue for Cyrillic character\r\n\r\nh3. Steps to Reproduce\r\n# Create a UTF-8 file with Cyrillic character content, for example \u0431\u0432\u0433\u0434\u0436\u0437\u043a\u043b\u043c\u043d\u043f\u0440\u0441\u0442\u0444\u0445\u0446\u0447\u0448\u0449\u0430\u044d\u044b\u0443\u043e\u044f\u0435\u0451\u044e\u0438\r\n# Use Inject Bamboo Variables task to read the file\r\n\r\nh3. Expected Results\r\nIt is able to read it successfully to create the variable\r\n\r\nh3. Actual Results\r\nThe variable is created with value \"\u00d0\u00b1\u00d0\u00b2\u00d0\u00b3\u00d0\u00b4\u00d0\u00b6\u00d0\u00b7\u00d0\u00ba\u00d0\u00bb\u00d0\u00bc\u00d0\u00bd\u00d0\u00bf\u00d1\u0080\u00d1\u0081\u00d1\u0082\u00d1\u0084\u00d1\u0085\u00d1\u0086\u00d1\u0087\u00d1\u0088\u00d1\u0089\u00d0\u00b0\u00d1\u008d\u00d1\u008b\u00d1\u0083\u00d0\u00be\u00d1\u008f\u00d0\u00b5\u00d1\u0091\u00d1\u008e\u00d0\u00b8\"\r\n\r\nh3. Notes\r\n* The source file https://bitbucket.org/atlassianarchive/bamboo-variable-inject-task/src/bea482372d717833d54609bc40e3ef25957a0533/src/main/java/com/atlassian/bamboo/plugins/inject/InjectVariablesTask.java?at=default&fileviewer=file-view-default line number 121 load method will use character encoding ISO 8859-1\r\n* Default character encoding ISO 8859-1 is stated in https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\r\n* The problem also affect file with BOM encoding\r\n\r\nh3. Workaround\r\nUse the add-on [Variable Tasks for Bamboo|https://marketplace.atlassian.com/apps/1212549/variable-tasks-for-bamboo?hosting=server&tab=overview] that have *Variable File reader* task",
      "summary": "\"Inject Bamboo Variables\" plugin uses the wrong encoding"
    }
  },
  {
    "key": "BAM-20098",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-14T14:36:28.000+0000",
      "description": "h3. Issue\r\n\r\nReviewing Bamboo's source code {color:#0000FF}com.atlassian.bamboo.plugins.rest.resource.CloneResource#getClone{color} and endpoint provided in [https://docs.atlassian.com/atlassian-bamboo/REST/6.6.1/#d2e3058], there are no parameters exposed to set up:\r\n * plan name\r\n * plan description\r\n\r\nThis behavior differs from what Bamboo provides in UI while cloning a plan ([http://localhost:8085/build/admin/create/clonePlan.action?planKeyToClone=])\r\nh3. Suggestion\r\n\r\nAs an admin, I would like to be able to clone a plan consuming REST API having the same flexibility as the one exposed in Bamboo's UI, being able to provide the same input in both actions.",
      "summary": "(REST) As an admin, I would like to provide plan name and description on clone endpoint"
    }
  },
  {
    "key": "BAM-20096",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-13T15:49:28.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, it is not possible to trigger a build manually when the concurrency limit is reached.  When multiple jobs are running triggered by to automatic trigger reaching the concurrency threshold and if we want to trigger a manual build, they have to wait in the queue until the ongoing build gets over.\r\n\r\nh3. Suggested Solution\r\nThere should be an option in *Overview -> Concurrent builds* page to allow/deny manual builds to override the allowed concurrent builds.\r\n\r\nh3. Why this is important\r\nIntroducing this will enable users to trigger a manual build instantly instead of waiting for the ongoing build to get over. \r\n",
      "summary": "Possibility to override concurrent build value when a build is triggered manually"
    }
  },
  {
    "key": "BAM-20095",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:36.000+0000",
      "created": "2018-09-13T14:33:56.000+0000",
      "description": "h3. Issue\r\n\r\nSet triggers to specify how and when the deployment will be triggered automatically. When a deployment is automatically triggered, *a new release is created from the* {color:#FF0000}*-latest successful build result-*{color} of the linked plan.\r\n\r\nBamboo's implementation suggests otherwise, {color:#172b4d}run deployment based on time and not build number.{color}\r\n\r\nh3. Scenario\r\n||Build||Revision||Started at||Completed at||\r\n|http://localhost:8085/browse/PROJ-PLAN-111|SVN revision 111|12:13:30|12:15:15|\r\n|http://localhost:8085/browse/PROJ-PLAN-112|SVN revision 112|12:10:41|12:11:56|\r\n\r\nh3. Workaround\r\nIf *Concurrency* is enabled, please consider disabling it until this gets revisited.",
      "summary": "Deployment based on build time and not build number"
    }
  },
  {
    "key": "BAM-20093",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-12T15:33:14.000+0000",
      "description": "h3. Problem Definition\r\nWhen we delete a linked repository from the UI, it throws a warning message listing the number of plans that are referenced just before it is deleted. Once deleted, the repository will not appear in the Linked Repositories section. However, all the plans where this linked repository is associated will continue to work and one may have to manually delete them from the respective plan configuration. \r\n\r\nh3. Suggested Solution\r\nThe linked repository shouldn't be deleted from the UI until all the plans that uses this repository is deleted/replaced with some other linked repository.\r\n\r\nh3. Why this is important\r\n imagine a list of 10 plans. by the time the user has cleaned up the first one s/he no longer remembes which were the other 9  and there is no way to find out which they are anymore except by doing database queries.\r\n\r\nThis creates inconsistency and introduces confusion when we create a new linked repository in the same name.\r\n",
      "summary": "Prevent Linked repository from deleting in the UI until all the plans that use this no longer uses"
    }
  },
  {
    "key": "BAM-20092",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:10.000+0000",
      "created": "2018-09-12T15:00:09.000+0000",
      "description": "h3. Issue\r\nWhen searching for a Bamboo's username making use of http://localhost:8085/admin/user/viewUser.action?username=myuser and http://localhost:8085/admin/user/viewUser.action?username=MYUSER, Bamboo displays *Username* case in the way it was searched instead of referring to its internal record.",
      "summary": "User details does not display correct Username case"
    }
  },
  {
    "key": "BAM-20091",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-12T13:33:22.000+0000",
      "description": "h3. Issue\r\nWhen deleting a linked repository, the same is still visible at {color:blue}Plan configuration >> Repositories{color} tab, displaying the default message when repository is selected:\r\n|*Linked repository*\r\nThis is a linked repository and is accessible for all build plans in Bamboo. Go to *linked repositories* to edit its details.|\r\n\r\nh3. How to replicate\r\n# Create a new plan\r\n# Select *Link new repository* and set up Git (_file:///abc_)\r\n# Hit *Configure plan* and *Save and continue*\r\n# Go to {color:blue}Plan configuration >> Repositories{color} tab and select the Git repository configured\r\n# Follow the link to *linked repositories* and delete the repository\r\n# Go back to the Plan consuming that repository and you will notice the repository is still displayed at {color:blue}Plan configuration >> Repositories{color} tab\r\n\r\nh3. Note\r\nBy following the \"Go to *linked repositories* to edit its details.\", Bamboo:\r\n* redirect request to {color:blue}Bamboo administration >> Linked repositories{color} and no repository configuration is shown\r\n* no error in Bamboo logs gets thrown\r\n\r\n(i) Repository deleted from Bamboo's UI is marked as TRUE under VCS_LOCATION.MARKED_FOR_DELETION column and still the repository is displayed at Plan configuration, suggesting that not validation to that column is applied\r\n\r\nWhile running a build, this will fail with:\r\n{noformat}\r\ncom.atlassian.bamboo.plugins.git.GitCommandException: command [/usr/local/bin/git -c credential.helper= -c 'credential.helper=store --file=/opt/atlassian/product/bamboo/6.6.1/service/temp/gitCredentials3392325238560763254.tmp' ls-remote file:///abc] failed with code 128. Working directory was [/opt/atlassian/product/bamboo/6.6.1/service/temp]., stderr:\r\nfatal: '/abc' does not appear to be a git repository\r\nfatal: Could not read from remote repository.\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\n{noformat}",
      "summary": "Linked repository continue on being displayed in Plan configuration after its deletion"
    }
  },
  {
    "key": "BAM-20090",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-31T16:32:32.000+0000",
      "description": "Would be nice to have a feed (json or other) that would identify;\r\n\r\nall deployments done by bamboo listing the server:port:application\r\n\r\n.e.g [http://bamboo:8085/allDeployments.action]\u00a0(returns json or other providing deployment info that can be used to create a report)\r\n\r\nnice to have: allow criteria to be specified that would be filtered by deployment date range, app name, server, etc.\u00a0",
      "summary": "Bamboo feature request to 'report' or provide deployment data"
    }
  },
  {
    "key": "BAM-20089",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:00.000+0000",
      "created": "2018-09-12T04:17:33.000+0000",
      "description": "h3. Summary\r\n\r\nWhen rendering an <aui-progress-indicator> as per https://docs.atlassian.com/aui/7.9.7/docs/progress-indicator.html, it displays as red when at 100%\r\n\r\nh3. Steps to Reproduce\r\n\r\nThere's likely other ways to reproduce, this is how we can do it repeatedly though:\r\n\r\n# Upgrade to Atlassian Troubleshooting & Support Tools Plugin 1.13.0 or higher (available in MPAC)\r\n# Create a support zip\r\n# Wait for it to complete successfully\r\n\r\nh3. Expected Results\r\n\r\nThe completed bar appears in blue.\r\n\r\nh3. Actual Results\r\n\r\nIt appears in red, as per the screenshot.\r\n\r\nh3. Notes\r\n\r\nIt appears to be coming from here in the batched resources:\r\n\r\n{code}\r\n/* module-key = 'bamboo.web.resources.common:progress-bar', location = '/widget/progress-bar/progress-bar.less' */\r\n.drag-handle {\r\n  background: url(/bamboo/s/en_AU/60405/1/6.4.1/_/download/resources/bamboo.web.resources.common:progress-bar/../../../images/handle-repeatable.gif) repeat;\r\n  cursor: move;\r\n  width: 8px;\r\n}\r\n.aui-progress-indicator[data-value=\"1\"] .aui-progress-indicator-value {\r\n  background: #d04437;\r\n}\r\n{code}\r\n\r\nThis works as expected on other products, hence raising an issue inside Bamboo.",
      "summary": "Bamboo appears to be overriding the display of AUI progress indicator, making it red"
    }
  },
  {
    "key": "BAM-20088",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-12T09:53:44.000+0000",
      "created": "2018-09-11T20:36:13.000+0000",
      "description": "h3. Summary\r\n\r\nUser Groups which contain a '#' cannot be assigned permissions.\r\n\r\nh3. Steps to Reproduce\r\n# Create Group \"#thisisatest\"\r\n# Under Global Permissions choose the group {{#thisisatest}} and attempt to add permissions.\r\n\r\nh3. Expected Results\r\n\r\nPermissions added to the Group.\r\n\r\nh3. Actual Results\r\n !screenshot-1.png|thumbnail! \r\n \r\n\r\nh3.Workaround\r\nAssign permissions individually to the users within the group.",
      "summary": "Cannot assign permissions to groups containing '#' sign"
    }
  },
  {
    "key": "BAM-20086",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:43.000+0000",
      "created": "2018-09-11T14:15:12.000+0000",
      "description": "h3. Issue\r\nWhen running multiple Bamboo Remote Agent(s) on the same box, Remote Agent temporary directory must be set up individually, pointing to a distinct location path, otherwise when running a Git Source Code Checkout builds may conflict with:\r\n{noformat}\r\nCaused by: java.io.IOException: Unable to delete already existing file: /tmp/bamboo-ssh.9900a68e.sh\r\n{noformat}\r\n\r\nh3. How to replicate\r\nWhen installing a Bamboo Remote Agent the property {color:blue}java.io.tmpdir{color} does not get applied to the Remote Agent:\r\n{noformat}\r\njava -Dbamboo.home=/opt/atlassian/product/bamboo/6.x.x/remote/ \\\r\n     -Djava.io.tmpdir=/opt/atlassian/product/bamboo/6.x.x/remote/tmp/ \\\r\n     -jar atlassian-bamboo-agent-installer-6.x.x.jar http://192.168.15.4:8085/agentServer/ start\r\n{noformat}\r\n\r\nh3. Workaround\r\nBeing required to append {color:blue}-Djava.io.tmpdir=/opt/atlassian/product/bamboo/6.x.x/remote/tmp/{color} to {color:blue}wrapper.conf{color} and restart Bamboo Remote Agent:\r\n{noformat}\r\n# The Bamboo Agent home configuration file\r\nwrapper.java.additional.1=-Dbamboo.home=/opt/atlassian/product/bamboo/6.x.x/remote/\r\nwrapper.java.additional.2=-Dbamboo.agent.ignoreServerCertName=false\r\n#wrapper.java.additional.3=-Dlog4j.configuration=\r\n#wrapper.java.additional.3=-agentlib:yjpagent\r\nwrapper.java.additional.3=-Djava.io.tmpdir=/opt/atlassian/product/bamboo/6.x.x/remote/tmp/\r\n{noformat}",
      "summary": "Bamboo Remote Agent cannot delete bamboo-ssh.9900a68e.sh from temporary directory"
    }
  },
  {
    "key": "BAM-20085",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-07T19:14:49.000+0000",
      "description": "h3. Issue\r\nRequirements and Capability can grow in such a way that can cause performance issues (_slowness_) while configuring Job(s).\r\n\r\nh3. Suggestion\r\n* Have a way to expiry agent(s) after X days of inactivity\r\n* Extend REST API (http://myhost.com:8085/bamboo/rest/api/latest/agent/remote [GET]) to have a DELETE HTTP request for remote agent",
      "summary": "As an admin, I would like to expiry remote agent(s) based on inactivity"
    }
  },
  {
    "key": "BAM-20084",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-30T12:07:05.000+0000",
      "description": "Hi,\r\n\r\nWhen a user\u00a0stops deployment in progress, deployment gets status: Failed. We are gathering deployments stats and these aborted deployments create\u00a0confusion and make stats not valid. Can a new status be implemented, e.g.: Canceled (or Aborted) ?\r\n\r\nWe are using Bamboo\u00a06.3.0 build 60304 -\u00a020 Dec 17. Maybe it is already implemented in current versions (don't see it in release notes) ?\r\n\r\nThanks!",
      "summary": "Bamboo - stop deployment status"
    }
  },
  {
    "key": "BAM-20083",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-07T02:40:27.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIf a Job is executed within a docker context the task have no visibility of which docker image is being used. This feature request is to details of the docker image being passed as environment variables to Tasks within the Job.\r\n\r\nbamboo_docker_image_name=ubuntu:latest\r\nbamboo_docker_image_digest=sha256:b5309340de7a9a540cf6c0cba3eabdfb9c9bc5153026d37991fd0028180fc725\r\n\r\nh3. Suggested Solution\r\n\r\nBamboo docker runner will instantiate the docker image as a docker containerexecuting \"tail -f /dev/null\" and then any subsequent ScriptTasks will be executed in the docker container using \"docker exec\". Once the agent has started the docker container the agent should use \"docker container inspect..\" to obtain the image details and set them as environment to any \"docker exec\" within the container.\r\n",
      "summary": "Docker image details should be passed in environment to Docker runner script tasks."
    }
  },
  {
    "key": "BAM-20082",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-23T14:21:38.000+0000",
      "created": "2018-09-07T01:26:05.000+0000",
      "description": "h3. Summary\r\nBamboo has the facility to run a Job within a Docker context.\r\nIf the Job creates a directory that is not world writable that contains a file then the agent is unable to clean the directory if requested.\r\n\r\nBamboo currently tries to workaround this issue by prepending a \"umask 000\" command to any script task. Unfortunately, this does not prevent the user from creating directories that are not world writable.\r\n\r\nThe owner of any file created within a Docker runner job will default to being owned by the owner of the docker daemon. This is usually NOT the same user that is running the Bamboo agent. \r\nWhen the \"Clean working directory after each job\" is ticked the bamboo agent will attempt to remove all the files in the Build directory. It first attempts to change the permissions on the files and directories so that they are writable. This will fail outside the docker environment because the Bamboo agent does not own the file.\r\n\r\nh3. Environment\r\nJob runs in a Docker environment.\r\n\"Clean working directory after each job\" enabled.\r\n\r\nh3. Steps to Reproduce\r\n# create Job and specify to run job in Docker container. use \"ubuntu\" image.\r\n# create script task to create a file in a directory.\r\n{code}\r\nmkdir dir\r\nchmod 755 dir\r\ntouch dir/file\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nThe Job is successful and the directory cleaned up.\r\n\r\nh3. Actual Results\r\n\r\nThe Job is successful and the directory is NOT cleaned up.\r\n\r\n{noformat}\r\nCould not remove working directory for plan 'PROJ-PLAN-JOB': /home/bamboo/bamboo-agent-home/xml-data/build-dir/PROJ-PLAN-JOB/dir: Operation not permitted\r\njava.nio.file.FileSystemException: /home/bamboo/bamboo-agent-home/xml-data/build-dir//home/bamboo/bamboo-agent-home/xml-data/build-dir/PROJ-PLAN-JOB/dir: Operation not permitted\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:91)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n\tat sun.nio.fs.UnixFileAttributeViews$Posix.setMode(UnixFileAttributeViews.java:238)\r\n\tat sun.nio.fs.UnixFileAttributeViews$Posix.setPermissions(UnixFileAttributeViews.java:260)\r\n\tat com.atlassian.bamboo.utils.BambooPathUtils$1.preVisitDirectory(BambooPathUtils.java:111)\r\n\tat com.atlassian.bamboo.utils.BambooPathUtils$1.preVisitDirectory(BambooPathUtils.java:91)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2677)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2742)\r\n\tat com.atlassian.bamboo.utils.BambooPathUtils.cleanDirectory(BambooPathUtils.java:80)\r\n\tat com.atlassian.bamboo.util.BambooFileUtils.cleanDirectory(BambooFileUtils.java:639)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.cleanWorkingDirectory(ExecuteBuildTask.java:113)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:90)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.executeBuildPhase(DefaultBuildAgent.java:203)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:175)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:122)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:117)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n{noformat}\r\n\r\nh3. Notes\r\nBamboo remote agent should try to remove the files from within the Docker context as it may not be have permissions to remove them outside the Docker context.\r\n \r\nh3.Workaround\r\n\r\nIf no artifacts are generated you can use a final Script task that removes all the files.\r\n{code}find . ! \\( -name \".\" -o -name \"..\" \\) -delete{code}",
      "summary": "\"Operation not permitted\" failure to clean up Docker runner build directory"
    }
  },
  {
    "key": "BAM-20081",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-13T14:08:37.000+0000",
      "created": "2018-09-06T22:01:04.000+0000",
      "description": "h3. Problem Definition\r\nDeployment Page lists all projects\r\n\r\nh3. Suggested Solution\r\nAllow page navigation for the deployment list\r\n\r\nh4. Why this is important \r\nThe page is very slow to load when there are multiple projects\r\n",
      "summary": "Improve Deployment Project list"
    }
  },
  {
    "key": "BAM-20080",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-06T14:44:45.000+0000",
      "description": "h3. Problem Definition\r\nNeed to have a lot of environment in a single deployment project. \r\n\r\nh3. Suggested Solution\r\nWould be great if Bamboo can group environments to UAT, PROD, etc inside deployment project.",
      "summary": "Group deployment environment"
    }
  },
  {
    "key": "BAM-20079",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-27T09:38:42.000+0000",
      "created": "2018-09-05T07:47:37.000+0000",
      "description": "h3. Summary\r\nUpgrade task *60602 : Move users to Embedded Crowd (post-bootstrap)* has potential to fail due to an *AuthenticationException* if the 60601 passes initial validation of the format but the credentials passed to the LDAP / Active Directory server aren't correct.\r\n\r\nh3. Steps to Reproduce\r\n# Enter a full DN into {{atlassian-user.xml}} before upgrade for the securityPrincipal (make sure it's not valid)\r\n# Perform the upgrade.\r\n\r\nh3. Expected Results\r\nBamboo should validate that authentication can be achieved through embedded crowd with the credentials from {{atlassian-user.xml}} before moving on to upgrade task 60602.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-08-29 21:56:57,267 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AbstractUpgradeManager] -----------------------------------------------------\r\n2018-08-29 21:56:57,267 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AbstractUpgradeManager] 60602 : Move users to Embedded Crowd (post-bootstrap)\r\n2018-08-29 21:56:57,267 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AbstractUpgradeManager] -----------------------------------------------------\r\n2018-08-29 21:56:57,787 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AtlassianUserDataMigrator] Copying 4 groups...\r\n2018-08-29 21:56:58,096 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [UpgradeTask60602MoveUsersToEmbeddedCrowd] Migration of groups took 492.6 ms\r\n2018-08-29 21:56:58,098 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AtlassianUserDataMigrator] Copying 9 users...\r\n2018-08-29 21:56:58,286 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [UpgradeTask60602MoveUsersToEmbeddedCrowd] Migration of users took 190.1 ms\r\n2018-08-29 21:56:58,294 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AtlassianUserDataMigrator] Upgrading external membership information using data from the database\r\n2018-08-29 21:56:58,295 INFO [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AtlassianUserDataMigrator] Copying 6 local memberships of LDAP users...\r\n2018-08-29 21:56:58,778 WARN [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AtlassianUserDataMigrator] User not found in local repository. It might be available at external repository, creating user placeholder to be filled by Crowd on LDAP synchronization. User name: [acook], group name: [bamboo-admin]\r\n2018-08-29 21:56:59,077 ERROR [17-UpgradeTaskBackgroundThread:pool-33-thread-1] [AbstractUpgradeManager] com.atlassian.crowd.exception.runtime.OperationFailedException: org.springframework.transaction.CannotCreateTransactionException: Could not create DirContext instance for transaction; nested exception is org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]\r\ncom.atlassian.crowd.exception.runtime.OperationFailedException: org.springframework.transaction.CannotCreateTransactionException: Could not create DirContext instance for transaction; nested exception is org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]\r\nat com.atlassian.crowd.embedded.core.CrowdServiceImpl.addUserToGroup(CrowdServiceImpl.java:557)\r\nat com.atlassian.bamboo.upgrade.tasks.v6_6.ec.AtlassianUserDataMigrator.migrateMembershipInLocalGroup(AtlassianUserDataMigrator.java:389)\r\nat com.atlassian.bamboo.upgrade.tasks.v6_6.ec.AtlassianUserDataMigrator.access$400(AtlassianUserDataMigrator.java:71)\r\nat com.atlassian.bamboo.upgrade.tasks.v6_6.ec.AtlassianUserDataMigrator$4.processRowInternal(AtlassianUserDataMigrator.java:359)\r\nat com.atlassian.bamboo.upgrade.tasks.v6_6.ec.SessionClearingRowCallbackHandler.processRow(SessionClearingRowCallbackHandler.java:36)\r\n{noformat}\r\n\r\nh3. Notes\r\nAt this point, you cannot update the {{atlassian-user.xml}} to fix any credentials issues.\r\n\r\nh3.Workaround\r\nYou can use the below SQL queries to update the bind DN and password to the correct credentials, directly in the Bamboo database and continue with the upgrade:\r\n{code}\r\nUPDATE CWD_DIRECTORY_ATTRIBUTE SET attribute_value = 'CN=admin,CN=users,CN=accounts,DC=example,DC=COM' \r\nWHERE attribute_name = 'ldap.userdn' and directory_id in (SELECT ID FROM CWD_DIRECTORY WHERE DIRECTORY_NAME = 'Upgraded atlassian-user LDAP (ldapRepository)');\r\n\r\nUPDATE CWD_DIRECTORY_ATTRIBUTE SET attribute_value = 'password' \r\nWHERE attribute_name = 'ldap.password' and directory_id in (SELECT ID FROM CWD_DIRECTORY WHERE DIRECTORY_NAME = 'Upgraded atlassian-user LDAP (ldapRepository)');\r\n{code}",
      "summary": "Bamboo should validate external directory authentication can be achieved during 6.6 upgrades before migrating it as an embedded crowd repository"
    }
  },
  {
    "key": "BAM-20078",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-04T13:43:51.000+0000",
      "created": "2018-09-04T11:40:01.000+0000",
      "description": "As discussed at BAM-12871 sample post commit hooks should use REST endpoint https://BAMBOO_URL/rest/triggers/latest/remote/changeDetection?planKey=TEST-TEST to trigger builds",
      "summary": "Update postCommitTrigger.sh to use REST endpoint instead of action"
    }
  },
  {
    "key": "BAM-20077",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-03T15:51:12.000+0000",
      "description": "h3. Issue\r\nDue to the way Quiet Periods are implemented, one of Bamboo's plan execution threads is consumed for the duration of the period.\r\n\r\nPlan execution threads are limited to 4 by default, so if quiet periods are set for long periods of time (_e.g. 10 seconds is the default, but users have been known to set values upwards of 5 or 10 minutes_) then these \"_sleeping_\" jobs can potentially fill up the plan execution queue. This can result in an builds backing up in the queue, manual builds failing to start in a reasonable amount of time, etc\r\n\r\nh3. Suggestion\r\n* As a Bamboo administrator, I would like to review thrown REST API how {color:blue}Repository Configuration >> Change detection options{color} are set up so I can prevent Bamboo from running out of resources. For that, it would be interesting having:\r\n** GET /rest/plugin/1.0/repository/changeDetection\r\nExposing a list of repositories and {color:blue}Change detection options{color}\r\n** GET /rest/plugin/1.0/repository/<repositoryId>/changeDetection\r\nExposing given repository and {color:blue}Change detection options{color}\r\n* As a Bamboo administrator, I would like to review this configuration settings through the Support Tools",
      "summary": "(REST) As an admin, I would like to review changeDetection settings"
    }
  },
  {
    "key": "BAM-20076",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-03T15:33:00.000+0000",
      "description": "h3. Issue\r\nBamboo should not allow duplicate *Repository Name* under {color:blue}Plan configuration >> Repositories{color} tab, even if coming from difference sources (e.g _Linked repository and Plan Repository_)\r\n\r\nh3. How to replicate\r\n* create a Linked repository (e.g *Repository Name* as *My Repo*)\r\n* create a Plan (e.g PROJ-PLAN)\r\n* create a plan repository under {color:blue}Plan configuration >> Repositories{color} tab (e.g *Repository Name* as *My Repo*)\r\n* add Linked Repository *My Repo* to the same {color:blue}Plan configuration >> Repositories{color} tab\r\n\r\nh3. Notes\r\nIf you attempt on modifying any repository configuration on Plan Repository added, an error message gets thrown:\r\n* {color:red}Display name should be unique within the plan{color}",
      "summary": "Plan configuration should not allow duplicate Repository Name"
    }
  },
  {
    "key": "BAM-20075",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-03T15:32:16.000+0000",
      "description": "h3. Problem Definition\r\nWhen a remote agent loses the connectivity with the Bamboo server it tries to reconnect 5 times and then shuts down the wrapper.\r\nThe error messages are not easy to read in the logs and includes stack traces with 502 errors caused by the agent failed attempts to get the fingerprint.\r\nServer outages are expected and should be shown in the logs with graceful messages, not recurrent stack traces with errors that might lead to time wasted investigations.\r\n\r\nh3. Suggested Solution\r\nWhen restarting the JVM, the agent should check if the Bamboo server is online and if no response is received it should clearly states in the logs that the Bamboo server didn't answer and could be offline. The message should not include unnecessary stack traces.\r\n\r\n(!) Both linux and windows behaviors can be seen below in the comments\r\n\r\nRelated content:\r\n* Bamboo agents takes about 10min to be completely down. This KB article explains how to change this value to 2h: [Remote agent does not restart after server outage \\- Atlassian Documentation|https://confluence.atlassian.com/bamkb/remote-agent-does-not-restart-after-server-outage-213059795.html]\r\n* This BAM is requesting this change to be permanent: [\\[BAM\\-18608\\] Increase the default time taken for the agents to reconnect in case the server is temporarily down|https://jira.atlassian.com/browse/BAM-18608]\r\n",
      "summary": "Shutdown due to server outage should not have unhandled exceptions"
    }
  },
  {
    "key": "BAM-20074",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-09-03T14:29:36.000+0000",
      "description": "h3. Problem Definition\r\nIf a commit has been built in a branch plan and then fast-forward merge into master branch, it should not trigger build in master plan.\r\n\r\nh3. Suggested Solution\r\nOption to detect and skip fast-forward merge commit in repository settings\r\n\r\nh3. Why this is important\r\nAvoid having the same commit build in master plan (since it has already been built in branch plan)",
      "summary": "Option to skip fast-forward merge commit"
    }
  },
  {
    "key": "BAM-20073",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-05T12:04:31.000+0000",
      "created": "2018-09-03T12:05:40.000+0000",
      "description": "h3. Summary\r\nBamboo Specs fails to deploy deployment projects associated to plan branches, with a trigger. \r\n\r\nh3. Steps to Reproduce\r\n# Create a build plan.\r\n# Create a plan branch.\r\n# Create a deployment project that associates to the plan branch.\r\n# In the environment, create a trigger of type \"After Successful stage\".\r\n# Export the deployment project using Specs.\r\n# Import the Specs Java file. \r\n\r\nh3. Expected Results\r\nAn environment as the one manually created.\r\n\r\nh3. Actual Results\r\nSpecs deployment fails with the following error:\r\n{noformat}\r\nException in thread \"main\" com.atlassian.bamboo.specs.api.exceptions.BambooSpecsPublishingException: An error occurred while publishing deployment proj2: Plan cannot be found by id 'x4k5p13lj1mp' with type 'interface com.atlassian.bamboo.plan.TopLevelPlan'\r\n2018-09-03 14:04:49,259 INFO [BambooServer] An error occurred while publishing deployment proj2: Plan cannot be found by id 'x4k5p13lj1mp' with type 'interface com.atlassian.bamboo.plan.TopLevelPlan'\r\n\tat com.atlassian.bamboo.specs.util.BambooServer.translateRestException(BambooServer.java:170)\r\n2018-09-03 14:04:49,260 INFO [BambooServer] (for more information, enable more detailed logging with system property -Dbamboo.specs.log.level=DEBUG)\r\n\tat com.atlassian.bamboo.specs.util.BambooServer.translateException(BambooServer.java:140)\r\n\tat com.atlassian.bamboo.specs.util.BambooServer.publish(BambooServer.java:97)\r\n\tat Specs.PlanSpecBSP39580.main(PlanSpecBSP39580.java:70)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\nCaused by: com.atlassian.bamboo.specs.exceptions.BambooSpecsRestRequestException: Plan cannot be found by id 'x4k5p13lj1mp' with type 'interface com.atlassian.bamboo.plan.TopLevelPlan'\r\n\tat com.atlassian.bamboo.specs.util.RestHelper.lambda$sendRequest$2(RestHelper.java:89)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:222)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:164)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:139)\r\n\tat com.atlassian.bamboo.specs.util.RestHelper.sendRequest(RestHelper.java:92)\r\n\tat com.atlassian.bamboo.specs.util.RestHelper.post(RestHelper.java:201)\r\n\tat com.atlassian.bamboo.specs.util.SendQueue$1.run(SendQueue.java:23)\r\n\r\n{noformat}\r\n\r\nh3.Workaround\r\nIn scenarios like this one, avoid using Specs. Creating and editing the project/environment from the UI will work properly. ",
      "summary": "Bamboo Specs fails to deploy deployment projects associated to plan branches, with a trigger"
    }
  },
  {
    "key": "BAM-20072",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:35.000+0000",
      "created": "2018-09-03T07:57:45.000+0000",
      "description": "h3. Summary\r\nBamboo Specs fails to deploy deployment projects associated to plan branches, with an SCP task receiving an artifact from the plan branch. \r\n\r\nh3. Steps to Reproduce\r\n# Create a build plan with a job that generates an artifact.\r\n# Create a plan branch (that also generates an artifact).\r\n# Create a deployemnt project associates to the plan branch.\r\n# In the environment, create an \"Artifact Download\" Task that downloads the artifact from the plan branch.\r\n# In that same environment, create an \"SCP Task\" that manipulates the previous artifact. \r\n# Export the deployment project using Specs.\r\n# Import the Specs Java file. \r\n\r\nh3. Expected Results\r\nAn environment as the one manually created.\r\n\r\nh3. Actual Results\r\nSpecs deployment fails with the following error:\r\n{noformat}\r\n2018-09-03 09:33:41,389 INFO [BambooServer] Publishing deployment proj2\r\nException in thread \"main\" com.atlassian.bamboo.specs.api.exceptions.BambooSpecsPublishingException: An error occurred while publishing deployment proj2: Environment 'env2' / SCP task / Artifact: SCP Task expects an artifact 'PR1-PL1: artifact' but no Artifact Downloader task provides it.\r\n\tat com.atlassian.bamboo.specs.util.BambooServer.translateRestException(BambooServer.java:170)\r\n\tat com.atlassian.bamboo.specs.util.BambooServer.translateException(BambooServer.java:140)\r\n\tat com.atlassian.bamboo.specs.util.BambooServer.publish(BambooServer.java:97)\r\n\tat Specs.PlanSpecBSP39580.main(PlanSpecBSP39580.java:73)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\nCaused by: com.atlassian.bamboo.specs.exceptions.BambooSpecsRestRequestException: Environment 'env2' / SCP task / Artifact: SCP Task expects an artifact 'PR1-PL1: artifact' but no Artifact Downloader task provides it.\r\n\tat com.atlassian.bamboo.specs.util.RestHelper.lambda$sendRequest$2(RestHelper.java:89)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:222)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:164)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:139)\r\n\tat com.atlassian.bamboo.specs.util.RestHelper.sendRequest(RestHelper.java:92)\r\n\tat com.atlassian.bamboo.specs.util.RestHelper.post(RestHelper.java:201)\r\n\tat com.atlassian.bamboo.specs.util.SendQueue$1.run(SendQueue.java:23)\r\n2018-09-03 09:33:42,252 INFO [BambooServer] An error occurred while publishing deployment proj2: Environment 'env2' / SCP task / Artifact: SCP Task expects an artifact 'PR1-PL1: artifact' but no Artifact Downloader task provides it.\r\n{noformat}\r\n\r\nh3.Workaround\r\nIn scenarios like this one, avoid using Specs. Creating and editing the project/environment from the UI will work properly. ",
      "summary": "Bamboo Specs fails to deploy deployment projects associated to plan branches, with an SCP task receiving an artifact from the plan branch. "
    }
  },
  {
    "key": "BAM-20071",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-07T13:51:01.000+0000",
      "created": "2018-08-31T14:42:03.000+0000",
      "description": "Context:\u00a0[https://bitbucket.org/site/master/issues/14430/merge-check-does-not-work-when-using]\r\n\r\nFrom an e-mail thread with [~pskierczynski]:\r\n{quote}I\u00a0_think_\u00a0I understand the problem, and I was hoping for some insight from your end. I believe that when using Bitbucket and Bamboo together in a certain way, teams are getting stuck:\r\n\u00a0\r\n # They have\u00a0[merge checks|https://confluence.atlassian.com/bitbucket/suggest-or-require-checks-before-a-merge-856691474.html]\u00a0enabled in Bitbucket, preventing pull requests from being merged without passing builds.\r\n # The have\u00a0[automatic branch merging|https://confluence.atlassian.com/bamboo/using-plan-branches-289276872.html#Usingplanbranches-Automaticbranchmerging]\u00a0configured in Bamboo using the \"Branch Updater\" model.\r\n\r\n\u00a0\r\nWhen the branch updater merges changes from the destination branch into the source branch for a pull request, that PR becomes blocked because the merge checks in Bitbucket prevent it from being merged without a passing build on the HEAD of the branch (which is the new merge commit), but meanwhile Bamboo does not trigger a build on that commit.{quote}\r\n\u00a0\r\nSuggestion: provide an option to run builds on merge commits created by the Branch Updater, after pushing to Bitbucket.",
      "summary": "Provide the option to run builds on merge commits created by Branch Updater"
    }
  },
  {
    "key": "BAM-20070",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-18T13:32:31.000+0000",
      "created": "2018-08-31T13:18:10.000+0000",
      "description": "h3. Issue\r\n\r\nWhen selecting {color:#0000FF}Use custom artifact handler settings{color} under {color:#0000FF}Plan configuration >> Miscellaneous >> Artifact handlers{color} OR running Java Bamboo Specs, malformed XML tag(s) get added to _build_definition.xml_definition_data_. This prevent SQL XPATH from running due to _XML malformation_.\r\n\r\nh3. Bamboo Specs sample\r\n{code:java}\r\n.put(\"artifactHandlers\", new MapBuilder()\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledForShared\", \"false\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerLocal:ServerLocalArtifactHandler:enabledForNonShared\", \"true\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledForNonShared\", \"false\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:BambooRemoteArtifactHandler:enabledForShared\", \"false\")\r\n    .put(\"useCustomArtifactHandlers\", \"false\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerLocal:ServerLocalArtifactHandler:enabledForShared\", \"true\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForShared\", \"true\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:BambooRemoteArtifactHandler:enabledForNonShared\", \"false\")\r\n    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForNonShared\", \"false\")\r\n    .build())\r\n{code}\r\n\r\nh3. Result in database\r\n{noformat}\r\n<artifactHandlers>\r\n  <comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledForShared>false</comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledForShared>\r\n  <comAtlassianBambooPluginArtifactHandlerRemote:BambooRemoteArtifactHandler:enabledForShared>false</comAtlassianBambooPluginArtifactHandlerRemote:BambooRemoteArtifactHandler:enabledForShared>\r\n  <comAtlassianBambooPluginArtifactHandlerLocal:ServerLocalArtifactHandler:enabledForNonShared>true</comAtlassianBambooPluginArtifactHandlerLocal:ServerLocalArtifactHandler:enabledForNonShared>\r\n  <comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForNonShared>false</comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForNonShared>\r\n  <comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForShared>true</comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForShared>\r\n  <comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledForNonShared>false</comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledForNonShared>\r\n  <comAtlassianBambooPluginArtifactHandlerLocal:ServerLocalArtifactHandler:enabledForShared>true</comAtlassianBambooPluginArtifactHandlerLocal:ServerLocalArtifactHandler:enabledForShared>\r\n  <useCustomArtifactHandlers>false</useCustomArtifactHandlers>\r\n  <comAtlassianBambooPluginArtifactHandlerRemote:BambooRemoteArtifactHandler:enabledForNonShared>false</comAtlassianBambooPluginArtifactHandlerRemote:BambooRemoteArtifactHandler:enabledForNonShared>\r\n</artifactHandlers>\r\n{noformat}\r\n\r\nh3. Error thrown\r\nWhen running XPATH against column, the following gets thrown:\r\n{noformat}\r\n# from Oracle Database\r\n\r\n[Code: 31011, SQL State: 99999]  ORA-31011: XML parsing failed\r\nORA-19213: error occurred in XML processing at lines 45\r\nLPX-00240: element-start tag is not well formed\r\nORA-06512: at \"SYS.XMLTYPE\", line 272\r\nORA-06512: at line 1\r\n{noformat}\r\n{noformat}\r\n# from PostgreSQL Database\r\n\r\n[Code: , SQL State: 2200M]  ERROR: could not parse XML document\r\n  Detail: line 45: Failed to parse QName 'comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:'\r\n      <comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:enabledFo\r\n                                                                      ^\r\n{noformat}",
      "summary": "XML stored in database should have valid XML format"
    }
  },
  {
    "key": "BAM-20069",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-24T13:32:32.000+0000",
      "created": "2018-08-30T13:17:20.000+0000",
      "description": "h3. Summary\r\nWhenever we stop an ongoing build running in an agent, *Force kill build* feature is enforced despite it being disabled in both plan level and globally. This is causing unexpected child processes (spawned by the agent) to get killed as a result of stopping the build.\r\n\r\nFor instance, when we execute a plan that starts a JBoss process and once it is finished, when we run a new  plan and stop after this is started, the force kill build feature kills the actively running jboss pid on the agent (which was started by another plan and is expected to be running still). This is reproducible most of the times, but not always.\r\n\r\nh3. Steps to Reproduce\r\n# Disable Force kill build feature both globally and in plan level.\r\n# Run a build that has only one script task with the below line in a remote agent.\r\n{noformat:title=}\r\nsleep 60\r\n{noformat}\r\n# Stop the ongoing build.\r\n\r\nh3. Expected Results\r\nThe build is stopped without killing the processes and child processes by Force kill build feature.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the agent log file and the child processes are force killed too:\r\n{noformat}\r\n2018-08-30 14:44:06,129 INFO [agentMessageListenerConnector-1] [DefaultBuildAgent] Cancel build request for 'ABC-GOOG-JOB1-4' received on agent 'jey-dell'.\r\n2018-08-30 14:44:06,129 INFO [agentMessageListenerConnector-1] [DefaultBuildAgent] Interrupting task com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask@3044368c.\r\n2018-08-30 14:44:06,129 INFO [agentMessageListenerConnector-1] [RemoteExecutionPhaseServiceImpl] ABC-GOOG-JOB1-4 execution cancelled\r\n2018-08-30 14:44:06,129 WARN [0-BAM::jey-dell::Agent:pool-3-thread-1] [LatchedRunnable] Interrupted waiting for ExternalProcess pump to complete\r\n...\r\n2018-08-30 14:44:06,205 INFO [0-BAM::jey-dell::Agent:pool-3-thread-1] [RemoteResultProcessor] Build abc - google - Default Job #4 (ABC-GOOG-JOB1-4) completed on Bamboo agent. Sending results to server.\r\n2018-08-30 14:44:06,205 INFO [agentMessageListenerConnector-1] [ManageHungBuildMessage] Captured runtimeMxBean: 24895@jey-dell\r\n2018-08-30 14:44:06,205 INFO [agentMessageListenerConnector-1] [ManageHungBuildMessage] Captured pid is: 24895\r\n2018-08-30 14:44:06,205 INFO [agentMessageListenerConnector-1] [ProcessManagement] Force Stop build feature is enabled for current plan. Either Bamboo has detected the build has hung or it has been manually stopped.\r\n2018-08-30 14:44:06,206 INFO [agentMessageListenerConnector-1] [ProcessManagement] Attempting to generate stack trace and terminate spawned sub-processes of process id: 24895\r\n2018-08-30 14:44:06,221 INFO [0-BAM::jey-dell::Agent:pool-3-thread-1] [DefaultBuildAgent] Changing context: ABC-GOOG-JOB1-4 -> null on jey-dell/6c89eea7\r\n2018-08-30 14:44:06,221 INFO [0-BAM::jey-dell::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Agent 'jey-dell' ready to take build from queue...\r\n2018-08-30 14:44:06,221 INFO [0-BAM::jey-dell::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Agent 4259841 checking build queue for executables...\r\n2018-08-30 14:44:06,224 INFO [agentMessageListenerConnector-1] [ProcessManagement] getRelatedProcesses PID: 24895\r\n2018-08-30 14:44:06,225 INFO [agentMessageListenerConnector-1] [ProcessManagement] getting children pids for pid: 24895\r\n2018-08-30 14:44:06,225 INFO [agentMessageListenerConnector-1] [ProcessManagement] returning: 0 children from pid: 24895\r\n2018-08-30 14:44:06,225 INFO [agentMessageListenerConnector-1] [ProcessManagement] related size: 0\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] returning: 47 children from pid: 1\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] Looking for orphans processes of PID: 24895 PGID: 24892\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] Adding orphan with pid:25273 since the pgid: 24892 is the same.\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] 24895 is a descendant of 24893! Not adding it in the descendants list\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] related size: 1\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] Found related process: pid: 25273 ppid: 1 pgid: 24892 %cpu: 0.0 %mem: 0.0 cmd: sleep\r\n2018-08-30 14:44:06,226 INFO [agentMessageListenerConnector-1] [ProcessManagement] getStackTraceAndKillRelatedProcesses for 1 processes\r\n2018-08-30 14:44:06,227 INFO [agentMessageListenerConnector-1] [ProcessManagement] getting stack trace\r\n2018-08-30 14:44:06,227 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill -3 25273\r\n2018-08-30 14:44:11,230 INFO [agentMessageListenerConnector-1] [ProcessManagement] gently killing pids\r\n2018-08-30 14:44:11,230 INFO [agentMessageListenerConnector-1] [ProcessManagement] Killing: 25273\r\n2018-08-30 14:44:11,230 INFO [agentMessageListenerConnector-1] [ProcessManagement] Executing kill 25273\r\n2018-08-30 14:44:16,248 INFO [agentMessageListenerConnector-1] [ProcessManagement] rudely killing pids (only if necessary)\r\n2018-08-30 14:44:16,248 INFO [agentMessageListenerConnector-1] [ProcessManagement] Force Stop build feature is enabled for current plan. Either Bamboo has detected the build has hung or it has been manually stopped.\r\n2018-08-30 14:44:16,248 INFO [agentMessageListenerConnector-1] [ProcessManagement] Has finished generating stack trace and terminating spawned sub-processes of process id: 24895\r\n2018-08-30 14:44:16,248 INFO [agentMessageListenerConnector-1] [ManageHungBuildMessage] stopping the build (just in case it doesn't finish...)\r\n2018-08-30 14:44:16,248 INFO [agentMessageListenerConnector-1] [DefaultBuildAgent] Cancel build request for 'ABC-GOOG-JOB1-4' received on agent 'jey-dell'.\r\n{noformat}\r\n\r\nh3.Workaround\r\nThere is no workaround other than using an old version of Bamboo (before 6.4) that doesn't have this feature yet.",
      "summary": "Force kill build feature is enforced even when it is disabled"
    }
  },
  {
    "key": "BAM-20068",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-06T00:15:31.000+0000",
      "created": "2018-08-30T13:08:10.000+0000",
      "description": "h6.Problem Description:\r\nWhen using \"Get Help\" option in the bamboo to submit Atlassian support ticket the system shows success (\"Support Request Submitted!\") even though the mail system fails and throws an error in the logs. Below error is thrown:\r\n\r\n{noformat}\r\nCaused by: com.sun.mail.smtp.SMTPSendFailedException: 550 5.7.60 SMTP; Client does not have permissions to send as this sender [A1234.outlook.com]\r\n{noformat}\r\n\r\nh6.Steps to reproduce:\r\n_If your mail server is not configured to allow emails send outs on someone's else behalf by using his email address then you could follow the below steps to reproduce the bug:_\r\n* Configure your mail server in Bamboo with an email id (say email1@mailserver.com) as a \"From Address\" in your mail server configurations and then use another mail address (say email2@mailserver.com) when using \"Get Help\" for submitting a request.\r\n\r\nh6.Expected Result:\r\nThe System should show failure in the GUI when it fails in the backend.\r\n\r\nh6.Actual Result:\r\n* GUI will show success however in the logs you will the something similar to this:\r\n{noformat}\r\nCaused by: com.sun.mail.smtp.SMTPSendFailedException: 550 5.7.60 SMTP; Client does not have permissions to send as this sender [A1234.outlook.com]\r\n{noformat}\r\n\r\nh6.Workaround:\r\nNo workaround for this.",
      "summary": "Using Get Help option shows success even though it fails in the logs"
    }
  },
  {
    "key": "BAM-20067",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-29T15:44:10.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIt is currently possible to add meta-data (labels) to individual builds, but not to a Release.\r\n\r\nh3. Suggested Solution\r\n \r\nAdd the ability to add some custom meta-data to a Release in the form of a 'description' field, and labels.\r\n\r\nThis information should also be accessible via API calls.\r\n\r\nh3. Workaround\r\n\r\nnone",
      "summary": "Add the Ability to add custom meta-data to a Release"
    }
  },
  {
    "key": "BAM-20066",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-29T15:39:52.000+0000",
      "description": "h3. Problem Definition\r\nIf deleting a lot of rows from {{COMMIT_FILES}} during Build Deletion or Expiry, this can take a long time, potentially blocking other tasks from running.\r\n\r\nh3. Suggested Solution\r\nPerform incremental deletes, or limited delete, so that Bamboo runs multiple smaller queries instead of one large query.\r\n\r\nh3. Why this is important\r\nThis query could, in some cases, affect enough Builds that it would be attempting to delete over two billion rows. This would result in significant load on the database, and thus the server.\r\n\r\nh3. Workaround \r\nThere is a possible workaround:\r\n# Stop Bamboo\r\n# Run delete queries to delete some number of rows at a time\r\n# Start Bamboo",
      "summary": "Make deletions of COMMIT_FILES incremental"
    }
  },
  {
    "key": "BAM-20065",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-29T10:06:33.000+0000",
      "description": "we would like to have an integration for Bamboo Notifications on Slack, the same way as the Bamboo notifications for HipChat works. Since HipChat is coming to an EOL, and has partnered with Slack, it would be beneficial to our team, if we could have our Bamboo (Server) Notifications on Slack.",
      "summary": "Integrate Bamboo (Server) Notification on Slack"
    }
  },
  {
    "key": "BAM-20064",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-29T15:14:12.000+0000",
      "created": "2018-08-29T09:02:55.000+0000",
      "description": "{code}\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '-'.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:903)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:796)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535)\r\n{code}",
      "summary": "Bamboo upgrade fails for MSSQL when database name contains dash \"-\""
    }
  },
  {
    "key": "BAM-20063",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-28T10:15:52.000+0000",
      "created": "2018-08-28T09:56:31.000+0000",
      "description": "h3. Summary\r\n\r\nThe validation task 51111 fails to detect Postgres 8.x.x database server as unsupported for Bamboo versions 5.11 up to 5.14.\r\nh3. Environment\r\n\r\nBamboo 5.11 to 5.14 (included) using Postgres database 8.x.x\r\nh3. Steps to Reproduce\r\n\r\nStart a Bamboo version from 5.11 up to 5.14 included with Postgres 8.x.x database.\r\nh3. Expected Results\r\n\r\nThe validation fails and the database is reported as unsupported in the logs.\r\nh3. Actual Results\r\n\r\nThe validation passes and the logs report that the database version is supported:\r\n{noformat}\r\nINFO [localhost-startStop-1] [AbstractUpgradeManager] 51111 : Verify DB compatibility\r\nINFO [localhost-startStop-1] [AbstractUpgradeManager] -------------------------------\r\nINFO [localhost-startStop-1] [DatabaseIsSupported] Testing compatibility of [PostgreSQL 8.4.20] with this version of Bamboo. \r\nINFO [localhost-startStop-1] [DatabaseIsSupported] Detected POSTGRESQL version 8.4.0, your DBMS version is supported.\r\n{noformat}\r\nh3. Workaround\r\n\r\nThere is no workaround.",
      "summary": "Bamboo validation task 51111 fails to detect Postgres 8.x.x as unsupported"
    }
  },
  {
    "key": "BAM-20061",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-27T18:09:53.000+0000",
      "description": "h3. Steps to Reproduce\r\n # Create a Plan in Bamboo with a Bitbucket linked repository\r\n # Create multiple plan branches pointing to branches in the same repository\r\n # Remove the Bitbucket linked repository from the tested plan\r\n # Add the linked repository back to the plan\r\n\r\n(!) The same behavior is observed if the repository order is changed inside the plan.\r\nh3. Expected Results\r\n\r\nThe source branch of the plan branch is pointing to the branch is was designated when created\r\nh3. Actual Results\r\n\r\nOnce the repository is removed/added all the plan branches are set to the default source branch configured in the linked repository.\r\n\r\n(i) As s symptom, every change in the default branch will trigger the build for all the plan branches\r\nh3. Workaround\r\n\r\nManually set back the right branch on each of the plan branches of the affected plan.\r\n(i)\u00a0Try to avoid removing or changing the order of the repositories.",
      "summary": "All plan branches are set to master (default branch) if the repository configuration is re-added"
    }
  },
  {
    "key": "BAM-20060",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-27T08:08:22.000+0000",
      "description": "It is a follow up for:\u00a0\r\n * [https://bitbucket.org/atlassian/bamboo-docker-plugin/issues/29/docker-push-doesnt-allow-environment]\r\n * [https://bitbucket.org/atlassian/bamboo-docker-plugin/issues/30/new-release-of-this-plugin-planned]\r\n\r\n\u00a0\r\n\r\nWhen trying to push a docker image to a private registry, it asks for the location. The location is actually part of the image name which could be constructed during the docker build task using environment variables (e.g.\u00a0{{${bamboo.my_image_name}:$\\{bamboo.planRepository.revision}}}). In order for me to do this and be able to push the image, the Push task needs to all me to specify the same variables as the Repository value. Currently it will give me an error stating that \"You must specify a registry address when pushing to a custom registry\"",
      "summary": "Docker Push doesn't allow environment variables"
    }
  },
  {
    "key": "BAM-20058",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-24T20:42:17.000+0000",
      "description": "\r\n\r\nh3. Problem Definition\r\n\r\nAmazon allows using the <powershell> tags to run startup scripts for EC2 agents.\r\n\r\nAll Windows startup script definitions for Bamboo elastic agents are converted to {{.bat}} scripts\r\n\r\nh3. Suggested Solution\r\n\r\nAdd a flag in the elastic agent image configuration page to allow Powershell scripts or {{.bat}} scripts for Windows Elastic Agents.\r\n \r\nh3. Workaround\r\n\r\nwrite all startup scripts in {{.bat}} format.",
      "summary": "Add support for Powershell scripts to Elastic Agent User Startup Scripts."
    }
  },
  {
    "key": "BAM-20057",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-24T12:11:43.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, if the user has permissions to create new plans, he can select the \"View\" permission for all logged and anonymous users, hampering Bamboo global access control.\r\nh3. Suggested Solution\r\n\r\nAdd an option de remove or restrict this option only for admin users.",
      "summary": "Prevent users from selecting the \"View\" permissions for logged and anonymous users when creating new plans"
    }
  },
  {
    "key": "BAM-20056",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-24T00:44:28.000+0000",
      "description": "h3. Problem Definition\r\n\"Disabled\" tests are not parsed in Bamboo\r\n\r\nh3. Suggested Solution\r\nAdd support for Disabled tests, which are:\r\n* counted as an attribute in the {{testclass}} \r\n* summed in {{testsuite}} and {{testsuites}}\r\n* shown by {{status=\"norun\"}} in {{testcase}}\r\n\r\nFor example:\r\n{code:xml}\r\n<testsuites disabled=\"1\" errors=\"0\" failures=\"0\" name=\"tests\" skipped=\"0\" tests=\"7\" time=\"1111111111\" timestamp=\"2018-08-24T00:39:43\">\r\n\t<testsuite disabled=\"0\" errors=\"0\" failures=\"0\" name=\"suite 1\" tests=\"1\" time=\"123\">\r\n\t\t<testcase classname=\"test 1\" name=\"test 1\" status=\"run\" time=\"123\"/>\r\n\t</testsuite>\r\n\t<testsuite disabled=\"1\" errors=\"0\" failures=\"0\" name=\"suite 2\" tests=\"1\" time=\"0.0000\">\r\n\t\t<testcase classname=\"test 2\" name=\"test 2\" status=\"norun\" time=\"0.0000\"/>\r\n\t</testsuite>\r\n...\r\n</testsuites>\r\n{code}\r\n\r\nh3. Workaround \r\nThere is no workaround at this time.",
      "summary": "Parse Disabled Jobs in JUnit Test report"
    }
  },
  {
    "key": "BAM-20055",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-07T09:39:18.000+0000",
      "created": "2018-08-23T23:08:20.000+0000",
      "description": "h3. Problem Definition\r\nCurrently, there is no support for T3 under *Manage elastic image configurations* \r\n_<bamboo-url>/admin/elastic/image/configuration/viewElasticImageConfigurations.action_\r\nh3. Suggested Solution\r\nAdd Support for T3\r\nh4. Why this is important \r\nTo help reduce costs",
      "summary": "Add Elastic Bamboo support for instances T3"
    }
  },
  {
    "key": "BAM-20054",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-23T17:42:03.000+0000",
      "description": "h3. Problem Definition\r\nWhen determining whether a new Remote or Elastic agent can be added, we consider the number of Online agents, regardless of whether they are Enabled or not. Disabled agents are counted towards the license agent quota.\r\n\r\nh3. Suggested Solution\r\nUpdate the verification to check for Enabled agents only.\r\nMake it clear in the UI how many license seats are being consumed by agents (online and enabled)\r\n\r\nh3. Workaround \r\nThere is currently no workaround at this time. If this occurs, an old agent must be shut down and removed from Bamboo to add a new agent.",
      "summary": "Exclude Disabled Agents from Online Agent count"
    }
  },
  {
    "key": "BAM-20053",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-25T12:23:35.000+0000",
      "created": "2018-08-23T04:32:20.000+0000",
      "description": "h3. Summary\r\nRepository does not get created and linked while creating a plan in Bamboo if validation fails initially.\r\n\r\nh3. Steps to Reproduce\r\n# Create Plan\r\n# Fill Plan Name and Plan Key\r\n# *Link repository to new build plan >> Link new repository >> Bitbucket Server / Stash*\r\n# Fill all details except *Display name*\r\n# Click *Configure Plan* (Save)\r\n# The save will fail due to missing display name and refresh the UI\r\n# Repository host will now be *None*\r\n# Toggle the *Repository host* back to *Link new repository*\r\n# Fill out all details, including *Display Name*\r\n# Click *Configure Plan* (Save)\r\n# Validation passes this time and you are taken to the configure job screen >> *Save and continue*\r\n# Check *Repository* tab -> It's empty.\r\n\r\nh3. Expected Results\r\n* Repository is successfully saved and linked after a validation errors are corrected and plan creation continues.\r\n* The UI at Step 8 should remain on *Link new repository*, not revert back to None.\r\n\r\nh3. Actual Results\r\n* Repository does not get created or linked to the build plan even after fixing the validation errors.\r\n* UI reverts back to *None* at Step 8 rather than remaining on *Link new repository* and displaying the validation error.\r\n\r\nh3.Workaround\r\nRe-create the repository at *Plan Configuration >> Repositories* after the plan has been created.",
      "summary": "Repository does not get created and linked while creating a plan in Bamboo if validation fails initially "
    }
  }
]