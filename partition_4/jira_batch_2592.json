[
  {
    "key": "BAM-21385",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-12T14:15:20.000+0000",
      "description": "For different reasons, the Bamboo queue can get quite busy with thousands of jobs to run. This can decrease the performance significantly in a way that the only option is to restart the appplication.\r\n\r\nFor those jobs that were queued this will cause some inconsistencies in the database. We call them \"stale build results\" and Bamboo checks that during the startup and runs some queries to fix it. But the application will only start after this process finishes. In the logs, we can see a message like the one below:\r\n{noformat}\r\nINFO [localhost-startStop-1] [PendingBuildResultsStateRestorationImpl] Cleaning up xxx stale build results\r\n{noformat}\r\nThis process can take a long time, depending on your system and the number of stale build results. We have seen cases where it can take more than 7 hours. Investigating this process further, we can see Bamboo runs multiple queries, but some of them are redundant as we can see below in the SQL logs:\r\n{noformat}\r\n2021-08-10 18:24:05.902 -03 [42] [bamboo_specs] LOG:  execute <unnamed>: update BUILDRESULTSUMMARY set LIFE_CYCLE_STATE=$1 where BUILDRESULTSUMMARY_ID=$2\r\n2021-08-10 18:24:05.902 -03 [42] [bamboo_specs] DETAIL:  parameters: $1 = 'NotBuilt', $2 = '11239427'\r\n2021-08-10 18:24:05.931 -03 [42] [bamboo_specs] LOG:  execute <unnamed>: update BUILDRESULTSUMMARY set BUILD_COMPLETED_DATE=$1, DELTA_STATE=$2 where BUILDRESULTSUMMARY_ID=$3\r\n2021-08-10 18:24:05.931 -03 [42] [bamboo_specs] DETAIL:  parameters: $1 = '2021-08-10 18:24:05.917', $2 = 'NONE', $3 = '11239427'\r\n2021-08-10 18:24:06.294 -03 [40] [bamboo_specs] LOG:  execute <unnamed>: update BUILDRESULTSUMMARY set BUILD_COMPLETED_DATE=$1 where BUILDRESULTSUMMARY_ID=$2\r\n2021-08-10 18:24:06.294 -03 [40] [bamboo_specs] DETAIL:  parameters: $1 = '2021-08-10 18:24:06.29', $2 = '11239427'\r\n2021-08-10 18:24:06.431 -03 [46] [bamboo_specs] LOG:  execute <unnamed>: update BUILDRESULTSUMMARY set BUILD_COMPLETED_DATE=$1 where BUILDRESULTSUMMARY_ID=$2\r\n2021-08-10 18:24:06.431 -03 [46] [bamboo_specs] DETAIL:  parameters: $1 = '2021-08-10 18:24:06.402', $2 = '11239427'\r\n2021-08-10 18:24:06.524 -03 [43] [bamboo_specs] LOG:  execute <unnamed>: update BUILDRESULTSUMMARY set BUILD_COMPLETED_DATE=$1 where BUILDRESULTSUMMARY_ID=$2\r\n2021-08-10 18:24:06.524 -03 [43] [bamboo_specs] DETAIL:  parameters: $1 = '2021-08-10 18:24:06.517', $2 = '11239427'\r\n{noformat}\r\nWe have 5 update queries changing the same database row, and 4 of them are just changing the BUILD_COMPLETED_DATE repeatedly.\r\n\r\nAlso, this process does not restart from where it was left off. For example: if Bamboo starts the recovery process with 10000 results, run half of them, and then the application is restarted. It will run the process from the beginning with 10000 results instead of 5000.\r\n\r\n*Suggestion:* Improve the recovery process in a way it doesn't run unnecessary queries and if possible a mechanism to start where it was left off.",
      "summary": "Stale build results recovery process is slow"
    }
  },
  {
    "key": "BAM-21384",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-11T15:46:17.000+0000",
      "description": "h3. Problem definition\r\n\r\nCurrently, the\u00a0*Repository Commit* task performs both a commit *and a push*.\r\n{quote}This task will\u00a0*commit*\u00a0all local changes to a repository. +For\u00a0[DVCS repositories|https://confluence.atlassian.com/pages/viewpage.action?pageId=221449768]\u00a0(which distinguish between local and remote commits) this task will\u00a0*push*\u00a0the commits to the remote repository+.\r\n{quote}\r\nh3. Suggested solution\r\n\r\nConsidering that there is already a\u00a0*Repository Push* task that performs *push only*, it would be great to modify the existing\u00a0*Repository Commit* task and make the\u00a0*push* optional, meaning that it would be possible to use it as a\u00a0*commit only* task, without automatically pushing the changes to the remote repository (for DVCS repos).\r\n\r\nAnother great task to have would be a\u00a0*Repository Pull* one, that performs a pull from the remote repository.\r\nh3. Workaround\r\n\r\nUse a script task to perform the operations separately.\r\n * [How to push to repository under SSH protocol using Script task|https://confluence.atlassian.com/bamkb/how-to-push-to-repository-under-ssh-protocol-using-script-task-747831642.html]\r\n * [Script Tasks in Bamboo|https://confluence.atlassian.com/bamboo/script-289277046.html]",
      "summary": "Source Control tasks"
    }
  },
  {
    "key": "BAM-21383",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-10T08:59:27.000+0000",
      "description": "I need to remove the \"Anonymous users\" access option in the build project, plan, and deployment projects.\r\n\r\nWe have disabled the anonymous access in global permissions. Now, I want to remove this option altogether from the projects and plans so that users don't get confused that they can still enable the anonymous access at project/plan level.\r\n\r\n\u00a0\r\n\r\nI modified a few ftl files (Ex: planPermissionTable.ftl, permissions.ftl) and restarted Bamboo for this but it didn't fix the issue. Any ideas on how this hack/custom config can be achieved?",
      "summary": "I need to remove the \"Anonymous users\" access option in the build project, plan, and deployment projects. "
    }
  },
  {
    "key": "BAM-21382",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-06T23:00:02.000+0000",
      "description": "There is currently no way to specify another branch from which to download an artifact via SPECS.\r\n\r\n\u00a0\r\n\r\nSteps to reproduce:\r\n # Have branch which creates an artifact and downloads it via SPECS.\u00a0\r\n # Create an additional branch from the original which uses SPECS.\r\n # Remove the creation of the artifact from the new branch SPECS.\u00a0\r\n # Run the new branch.\u00a0\r\n\r\nDesired result:\r\n * The artifact created by the original branch is able to be downloaded by specifying the original branch in the SPECS.\u00a0\r\n\r\nActual Result:\r\n * Error is produced notifying of failure to download artifact because it does not exist in the current branch.\u00a0\r\n\r\n\u00a0Workaround:\r\n\r\n* Leave the artifact creation process in the SPECS for the new branch so that it has a copy local to that branch for download.\u00a0",
      "summary": "SPECS Download artifact created by another branch. "
    }
  },
  {
    "key": "BAM-21381",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-08-06T16:19:19.000+0000",
      "description": "I'd like to have Deployment Project variables that work like Build Plan Project variables (BAM-7132) added in v7.1.0.\r\n\r\nIn other words, I'd like to define variables at the Deployment Project scope that apply to all Environments.\r\n\r\nDesired behavior:\r\n# Define variables at the Deployment Project scope that apply to all Environments\r\n# Support this feature in Bamboo Specs\r\n# For Specs-based Deployment Projects, allow UI access to add additional variables \u2013 this is important to allow sensitive values to be kept out of version control, *even in an encrypted form* (See BAM-18932). This is also consistent with behavior for Build Plan Projects and Specs-based Build Plans.\r\n",
      "summary": "Deployment Project variables"
    }
  },
  {
    "key": "BAM-21380",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-24T11:32:03.000+0000",
      "created": "2021-08-05T14:45:22.000+0000",
      "description": "h3. Problem definition\r\n\r\nStarting on\u00a0*Bamboo 7.1*, the *[Conditional Tasks|https://marketplace.atlassian.com/apps/1219706/conditional-tasks-for-bamboo?hosting=server&tab=overview]* plugin has been bundled into Bamboo, meaning that users no longer need to install it from Marketplace, as it's now an application feature.\r\n\r\nHowever, the [*Configuring Tasks documentation*|https://confluence.atlassian.com/bamboo0701/configuring-tasks-1031177229.html] for Bamboo *7.1*, *7.2* and *8.0* still references the plugin Marketplace page, which can cause confusion. The reference is made in the following section:\r\n{quote}*Conditional*\u00a0*task*\r\n Make task run only when a certain condition is met.\u00a0\r\n {color:#ff0000}You can find other conditions on\u00a0[Atlassian Marketplace|https://marketplace.atlassian.com/apps/1219706/conditional-tasks-for-bamboo?hosting=server&tab=overview]\u00a0or implement your own.\u00a0{color}\r\n{quote}\r\nh3. Suggested resolution\r\n\r\nUpdate the documentation for Bamboo 7.1, 7.2 and 8.0 to remove the reference to the Marketplace plugin.",
      "summary": "Configuring Tasks documentation: Conditional tasks"
    }
  },
  {
    "key": "BAM-21379",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-06T21:13:30.000+0000",
      "created": "2021-08-02T22:46:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe\u00a0/rest/api/latest/project/PROJ/repository endpoint requires JSON but defaults to XML. When the endpoint is accessed without specifying JSON or if XML is deliberately requested a 500 Internal Server Error occurs.\r\nh3. Steps to Reproduce\r\n # Execute an authenticated GET query on the /rest/api/latest/project/PROJ/repository endpoint where PROJ is the project key of a Bamboo project.\r\n\r\nh3. Expected Results\r\n\r\nFetch list of repositories which granted to create plan in given project by Repository stored Bamboo Specs. Returns json array: [\\{\"id\":\"123\", \"name\":\"repo1\", \"url\":\"http://localhost:8085/admin/configureLinkedRepositories.action?repositoryId=123\"}]\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2021-08-02 13:02:37,869 ERROR [https-jsse-nio-8443-exec-80] [ContainerResponse] The registered message body writers compatible with the MIME media type are:\r\n2021-08-02 13:02:37,869 ERROR [https-jsse-nio-8443-exec-80] [ContainerResponse] The registered message body writers compatible with the MIME media type are:application/xml ->\u00a0 com.sun.jersey.core.impl.provider.entity.XMLJAXBElementProvider$App\u00a0 com.sun.jersey.core.impl.provider.entity.DocumentProvider\u00a0 com.sun.jersey.core.impl.provider.entity.SourceProvider$SourceWriter\u00a0 com.sun.jersey.core.impl.provider.entity.XMLRootElementProvider$App\u00a0 com.sun.jersey.core.impl.provider.entity.XMLListElementProvider$App*/* ->\u00a0 com.sun.jersey.core.impl.provider.entity.FormProvider\u00a0 com.sun.jersey.core.impl.provider.entity.StringProvider\u00a0 com.sun.jersey.core.impl.provider.entity.ByteArrayProvider\u00a0 com.sun.jersey.core.impl.provider.entity.FileProvider\u00a0 com.sun.jersey.core.impl.provider.entity.InputStreamProvider\u00a0 com.sun.jersey.core.impl.provider.entity.DataSourceProvider\u00a0 com.sun.jersey.core.impl.provider.entity.XMLJAXBElementProvider$General\u00a0 com.sun.jersey.core.impl.provider.entity.ReaderProvider\u00a0 com.sun.jersey.core.impl.provider.entity.DocumentProvider\u00a0 com.sun.jersey.core.impl.provider.entity.StreamingOutputProvider\u00a0 com.sun.jersey.core.impl.provider.entity.SourceProvider$SourceWriter\u00a0 com.sun.jersey.server.impl.template.ViewableMessageBodyWriter\u00a0 com.sun.jersey.json.impl.provider.entity.JSONJAXBElementProvider$General\u00a0 com.sun.jersey.json.impl.provider.entity.JSONArrayProvider$General\u00a0 com.sun.jersey.json.impl.provider.entity.JSONObjectProvider$General\u00a0 com.sun.jersey.json.impl.provider.entity.JSONWithPaddingProvider\u00a0 com.sun.jersey.core.impl.provider.entity.XMLRootElementProvider$General\u00a0 com.sun.jersey.core.impl.provider.entity.XMLListElementProvider$General\u00a0 com.sun.jersey.json.impl.provider.entity.JSONRootElementProvider$General\u00a0 com.sun.jersey.json.impl.provider.entity.JSONListElementProvider$General\u00a0 com.sun.jersey.json.impl.provider.entity.JacksonProviderProxy\u00a0 com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider 2021-08-02 13:02:37,872 ERROR [https-jsse-nio-8443-exec-80] [DefaultDispatcherErrorHandler] Exception occurred during processing request: nulljava.lang.NullPointerException at org.apache.commons.lang3.exception.ExceptionUtils.getStackTrace(ExceptionUtils.java:578) at com.atlassian.bamboo.ww2.actions.error.FiveOhOh.execute(FiveOhOh.java:42) at sun.reflect.GeneratedMethodAccessor2053.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:899) at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1544) at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68) at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:98) at com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:90) at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1620) at ognl.ASTMethod.getValueBody(ASTMethod.java:91) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.Ognl.getValue(Ognl.java:470) at ognl.Ognl.getValue(Ognl.java:434) at com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:401) at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:453) at com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:399) at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:438) at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:293) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:254) at com.atlassian.bamboo.ww2.interceptors.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:64) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:137) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:201) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:101) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:160) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:175) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:121) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:137) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:167) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:203) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249) at org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:48) at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:576) at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:79) at org.apache.struts2.dispatcher.servlet.StrutsServlet.service(StrutsServlet.java:80) at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsCommonFilter.preventDoubleInvocation(PrettyUrlsCommonFilter.java:38) at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:22) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsCommonFilter.preventDoubleInvocation(PrettyUrlsCommonFilter.java:38) at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:65) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:32) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:386) at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:245) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) at org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206) at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798) at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)at\r\njava.lang.Thread.run(Thread.java:745){noformat}\r\nh3. Workaround\r\n\r\nappend .json to the path or specify a header of \"accepts: application/json\".",
      "summary": "GET query on /rest/api/latest/project/PROJ/repository returns a 500 Internal Server Error"
    }
  },
  {
    "key": "BAM-21378",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-30T15:54:38.000+0000",
      "description": "h3. Problem Definition\r\n\r\nStages, jobs and tasks must be added individually to plans.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd the ability within the UI to bulk add stages, jobs and tasks within certain projects or plans.\r\n\r\nFor example, Bamboo admins want to have the ability to introduce a stage to all plans that contain a set of pre-defined jobs and tasks that are going to be mandatory for all teams to run before they build or test their code.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Add the ability to bulk add stages, jobs and tasks to plans"
    }
  },
  {
    "key": "BAM-21376",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-23T08:59:03.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently Bamboo does not offer natively any sort of integration with Azure DevOps such as creating a plan based on a pull request or new branch, storing variables information based on information pulled from Azure DevOps, triggering builds based on Azure DevOps events or populate repository information easily.\r\n\r\nh3. Suggested Solution\r\n\r\nImprove the integration between Azure DevOps and Bamboo so that the repository, pull request, branches, triggers and variables information is available.\r\n\r\nh3. Workaround\r\n\r\nAs a workaround you could integrate your Azure DevOps repositories as plain Git repositories, use our [REST API|https://docs.atlassian.com/atlassian-bamboo/REST/7.2.4/] to trigger events or store variable data on an automated way using Bamboo specs.",
      "summary": "Improve the Azure DevOps integration with Bamboo"
    }
  },
  {
    "key": "BAM-21375",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-26T11:36:31.000+0000",
      "description": "h4. Summary(Customer's use case)\r\nWhen a Bitbucket repository inside Bamboo plan, Bamboo's SSH access key gets added to the Bitbucket repository. If the Bitbucket repository is deleted inside Bamboo plan, this Bamboo's SSH access key will not get deleted in Bitbucket thereby giving unnecessary access. This creates a cumbersome process of manually deleting the SSH key when a repository is deleted in a Bamboo plan\r\n\r\nh4. Expected result\r\nPlease we would like to see that the SSH key is automatically deleted when a repository is deleted from a Bamboo plan.  Kindly let us know if the description of the request and expected result are what you are looking for. Any additions are most welcomed.\r\n\r\nThank You.",
      "summary": "Removing repository from Bamboo should remove created SSH access key in Bitbucket"
    }
  },
  {
    "key": "BAM-21374",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-22T19:52:15.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, there's no logic in a Script Task that compares the\u00a0*Interpreter* with the extension of a script file indicated in the\u00a0*Script File*\u00a0field.\r\nh3. Suggested Solution\r\n\r\nIt would be nice if, upon indicating a *PowerShell script file* (_.ps1_) in the *Script File*\u00a0text box within a Script Task, the UI would suggest the user to change the\u00a0*Interpreter* to\u00a0*Windows PowerShell* if they have\u00a0*Shell*\u00a0or\u00a0*cmd.exe* selected.",
      "summary": "Script task should suggest changing the interpreter according to the script file's extension"
    }
  },
  {
    "key": "BAM-21373",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-11-04T08:37:37.000+0000",
      "created": "2021-07-21T14:21:28.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo is not notifying users who have favourited the branch and when they choose the notification type as\u00a0_\"*Notify committers and people who have favourited this branch\".*_\u00a0No notification are sent\r\nh3. Steps to Reproduce\r\n # Make the plan branch as favourite.\r\n # Navigate to \"Plan configuration >> Branches >> <branch 1> >> Notifications\" tab\r\n # Select \"*Notify committers and people who have favourited this branch*\" and hit \"Save\"\r\n # Run a new build on branch 1.\r\n # Mail notifications are not sent to users who have favourited the branch.\r\n\r\nh3. Expected Results\r\n\r\nBamboo should send mail notification to the users who have favourited the plan branch.\r\nh3. Actual Results\r\n\r\nNo notifications are sent to the user.\r\nh3. Workaround\r\n\r\nAs a workaround they should be able to use the\u00a0_\"*Use the plan's notification settings*\"_\u00a0at the plan branch level and then set up a notification of type\u00a0_\"*Watchers - Users who have marked this plan as their favourite\"*_\u00a0at the plan level for the types of events they want to be notified (e.g. All Builds Completed, Change of Build Status and etc).\r\n # Make the plan branch and plan as favourite.\r\n # Navigate to \"Plan configuration >> Notifications\" tab\r\n # Add a new notification\u00a0_\"*Watchers - Users who have marked this plan as their favourite\"*_\r\n # Navigate to \"Plan configuration >> Branches >> <branch 1> >> Notifications\" tab**\r\n # Select \"_*Use the plan's notification settings*_\" and hit \"Save\"\r\n # Run a new build on branch 1.\r\n # Bamboo will trigger notifications.",
      "summary": "Bamboo is not notifying users who have favourited the branch"
    }
  },
  {
    "key": "BAM-21372",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-21T13:41:58.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe official Bamboo docker image is run by user Bamboo which is created during building the docker image and has UID:GID 1000:1000. This information would be useful to know as when mounting a volume from the host to the container, the files on the host need to be accessible to that user.\r\n\r\nh3. Suggested Solution\r\n\r\nImprove our Docker Hub documentation to include the UID:GID of the user running Bamboo so that the volume permissions on the host are set accordingly.\r\n\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Improve our Bamboo docker hub readme"
    }
  },
  {
    "key": "BAM-21371",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-20T21:57:49.000+0000",
      "description": "When a new Repository is created in Bamboo the default behavior is for it to be usable by all logged in users as shown in the screen shot. !image-2021-07-20-16-55-49-280.png|width=391,height=264!\r\n\r\n\u00a0\r\n\r\nThere should be a way to specify which groups may use the repository and have it be inaccessible to users not in those groups.",
      "summary": "Allow setting for new Repositories to only be accessible by specific group. "
    }
  },
  {
    "key": "BAM-21370",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-16T14:56:25.000+0000",
      "description": "h3. Problem definition\r\nThe [Database Setup for Oracle|https://confluence.atlassian.com/bamboo/oracle-289276820.html] and [Supported Platforms|https://confluence.atlassian.com/bamboo/supported-platforms-289276764.html] documentation does not explicitly mention if the Oracle 19 multitenant mode (or Container Database aka CDB) is supported or not and how to configure it.",
      "summary": "Bamboo with Oracle 19c multitenant mode support"
    }
  },
  {
    "key": "BAM-21369",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-16T08:21:56.000+0000",
      "description": "h3. Issue Summary\r\nThis issue has been created to track the security vulnerability CVE-2021-23358 and its impact in Bamboo \r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Bamboo and CVE-2021-23358"
    }
  },
  {
    "key": "BAM-21368",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-16T06:58:57.000+0000",
      "description": "h3. Problem Definition\r\n\r\nRestricted admins have access to install and manage remote agents. However, they do not have access to dedicate agents and thus restricted admins are not able to clone the environment.\r\nh3. Steps to reproduce\r\n # Login as Restricted Admin\r\n # Navigate to _Overview->Agents->Dedicate Agent_\r\n # Try to dedicate agent with restricted admin user\r\n\r\nh3. Suggested Solution\r\n\r\nStarting from Bamboo 7.1 (BAM-19760),\u00a0only Admins have access to dedicate agents by default. The toggle (that can be altered in Security settings) that allows only admins to dedicate an agent should also allow restricted admins to dedicate the agents and allow restricted admins to clone the environment.\r\nh4. \u00a0Workaround\r\n\r\nEnable\u00a0*Allow users to dedicate agents to builds and deployments*\u00a0option in Security settings that also allows restricted admins to dedicate an agent.",
      "summary": "Allow restricted admins to dedicate agents"
    }
  },
  {
    "key": "BAM-21367",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-15T21:39:21.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, build working directories are structured based on the\u00a0*buildKey* (e.g., PROJ-PLAN-JOB1).\r\nh3. Suggested Solution\r\n\r\nUse the *buildResultKey* (*buildKey* + *buildNumber*) as the working directory.\r\nSome pros: guarantees that all build jobs run in an unique location, allows previous build artifacts to remain (specially from failed builds), and doesn't incur the performance penalty of cleaning up the directory in every new build.",
      "summary": "Use buildResultKey as the working directory name instead of the buildKey"
    }
  },
  {
    "key": "BAM-21366",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-15T09:18:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *Plan name* drop-down button inside the 'Create > Clone plan' page takes time to open (approx. 60s).\r\n\r\nh3. Steps to Reproduce\r\n{panel:title=|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\n * Bamboo 7.2.3 (4gb xms/ xmx)\r\n * PostgreSQL 9.6\r\n * Repositories\r\n ** # of linked repositories: 13.588\r\n ** # of plan repositories: 16.885\r\n * Plans\r\n ** # of plans (CHAIN and CHAIN_BRANCH): 16.885\r\n ** # of jobs - this is the number that shows up inside the application.xml for <number-of-plans>: 33.770{panel}\r\n# Access Bamboo from a web browser (e.g. Google Chrome).\r\n# Click the 'Create > Clone plan' button at the top of the page.\r\n# Click the *Plan name* drop-down button to search for a plan.\r\n\r\nh3. Expected Results\r\n\r\nThe *Plan name* drop-down loads in a couple of seconds at max and we can start searching for a plan to clone.\r\n\r\nh3. Actual Results\r\n\r\nThe *Plan name* drop-down takes at least 60 seconds to finish loading. This is related to the fact that we try to display a list of all plans a certain user has access to in the drop-down. The more plans you have access to the more time it takes to load the drop-down. Attempting to search for a plan after the drop-down is open also results in a long waiting times.\r\n\r\n{panel:title=Note 1|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nThis is worse for admin users because they have access to all plans inside Bamboo i.e. we always try to load and display a list of all the plans inside the Bamboo instance in that drop-down for admin users.\r\n{panel}\r\n\r\n{panel:title=Note 2|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nThe following warning message might show up (more than once) when trying to load the drop-down using Google Chrome:\r\n!planNameClonePage.png|thumbnail!\r\nClick the *Wait* button and continue to wait until the drop-down finishes loading.\r\n{panel}\r\nh3. Workaround\r\n\r\n# Use [Bamboo Specs|https://confluence.atlassian.com/bamboo/bamboo-specs-894743906.html] or the [Bamboo REST API (7.2.3)|https://docs.atlassian.com/atlassian-bamboo/REST/7.2.3/#d2e4007] to clone a plan.\r\n# Try using different web browsers. It won't solve the problem but may present different loading times. For example, it took 8s to load the drop-down using Firefox (90.0 64-bit) vs 60s to load the drop-down using Google Chrome (91.0.4472.114) testing on a local Bamboo instance with the data mentioned under *Steps to Reproduce*.",
      "summary": "The 'Plan name' drop-down inside the 'Clone plan' page is slow to open"
    }
  },
  {
    "key": "BAM-21365",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-15T08:26:18.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe 'Create > Clone plan' page takes time to open in Bamboo. Times ranging from 16s to 40s were observed when trying to open the page.\r\nh3. Steps to Reproduce\r\n{panel:title=|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\n * Bamboo 7.2.3 (4gb xms/ xmx)\r\n * PostgreSQL 9.6\r\n * Repositories\r\n ** # of linked repositories: 13.588\r\n ** # of plan repositories: 16.885\r\n * Plans\r\n ** # of plans (CHAIN and CHAIN_BRANCH): 16.885\r\n ** # of jobs - this is the number that shows up inside the application.xml for <number-of-plans>: 33.770{panel}\r\n # Access Bamboo from a web browser (e.g. Google Chrome).\r\n # Click the 'Create > Clone plan' button at the top of the page.\r\n\r\nh3. Expected Results\r\n\r\nThe 'Clone plan' page loads in a couple of seconds at max.\r\n\r\nh3. Actual Results\r\n\r\nThe 'Clone plan' page takes at least 16 seconds to finish loading. Users reported times of up to 40 seconds in production environment.\r\n\r\n{panel:title=Note|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nThis seems to affect non-admin users only. We have not observed slowness when trying to open the 'Clone plan' page for admin users in both testing environment and real life/ production environments.\r\n{panel}\r\nh3. Workaround\r\n\r\nUse [Bamboo Specs|https://confluence.atlassian.com/bamboo/bamboo-specs-894743906.html] or the [Bamboo REST API (7.2.3)|https://docs.atlassian.com/atlassian-bamboo/REST/7.2.3/#d2e4007] to clone a plan.",
      "summary": "The 'Clone plan' page is slow to open in Bamboo"
    }
  },
  {
    "key": "BAM-21364",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-15T08:18:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe 'Create > Create plan' page takes time to open in Bamboo. Times ranging from 8s to 25s were observed when trying to open the page.\r\nh3. Steps to Reproduce\r\n{panel:title=|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\n * Bamboo 7.2.3 (4gb xms/ xmx)\r\n * PostgreSQL 9.6\r\n * Repositories\r\n ** # of linked repositories: 13.588\r\n ** # of plan repositories: 16.885\r\n * Plans\r\n ** # of plans (CHAIN and CHAIN_BRANCH): 16.885\r\n ** # of jobs \u2013 this is the number that shows up inside the application.xml for <number-of-plans>: 33.770{panel}\r\n # Access Bamboo from a web browser (e.g. Google Chrome).\r\n # Click the 'Create > Create plan' button at the top of the page.\r\n\r\nh3. Expected Results\r\n\r\nThe 'Create plan' page loads in a couple of seconds at max.\r\nh3. Actual Results\r\n\r\nThe 'Create plan' page takes at least 8 seconds to finish loading. Users reported times of up to 25 seconds in production environment.\r\n{panel:title=Note 1|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nTrying to open the page immediately after starting up Bamboo takes roughly 3 minutes to load during testing on a local Bamboo instance with the data mentioned under *Steps to Reproduce*. After the first time loading the page subsequent attempts to open the page are faster i.e. it takes about 8 seconds. This is still a considerable amount of time taking into account the fact testing was done on a local Bamboo instance/ PostgreSQL database server with nothing else playing a role (e.g. networking, load and etc). Users have observed even higher times in a real life/ production environment.\r\n{panel}\r\n{panel:title=Note 2|borderStyle=dashed|borderColor=#6a8eb3|titleBGColor=#f8f8f8|bgColor=#f8f8f8}\r\nThis seems to affect both admin and non-admin users.\r\n{panel}\r\nh3. Workaround\r\n\r\nUse [Bamboo Specs|https://confluence.atlassian.com/bamboo/bamboo-specs-894743906.html] to create (and manage) plans in Bamboo.",
      "summary": "The 'Create plan' page is slow to open in Bamboo"
    }
  },
  {
    "key": "BAM-21363",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-13T19:06:55.000+0000",
      "description": "Apple Mac OS is a supported operating system in the [Bamboo Supported Platforms|https://confluence.atlassian.com/bamboo/supported-platforms-289276764.html]. Apple has released an ARM based processor called Apple Silicone for multiple products. Atlassian should provide support for Bamboo Remote Agents on Apple Silicone devices.\u00a0",
      "summary": "Support Apple Silicone Processors for Bamboo Remote Agents"
    }
  },
  {
    "key": "BAM-21362",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-13T01:36:32.000+0000",
      "description": "h3. Problem\r\n\r\nThe current lockout recovery documentation only applies to Bamboo 6.6. While the documentation does state this at the top:\r\n{quote}\r\nThis page describes how to recover administrator access for Bamboo 6.6 and later. \r\n{quote}\r\n\r\nIt is frequently missed and does not point to any relevant resources for older versions.\r\n\r\nh3. Suggested Solution\r\n\r\nEmphasise that it only applies to Bamboo 6.6. E.g. (!) Note panel at the top of the page and include links to the correct resources to help for older versions:\r\n{panel:title=(!) Note}\r\nThis page describes how to recover administrator access for Bamboo 6.6 and later.\u00a0*It will not work for versions of Bamboo < 6.6*\r\n\r\nFor versions of Bamboo older than 6.6, please see the below resources:\r\n* [Restoring passwords to recover admin users|https://confluence.atlassian.com/bamboo0605/bamboo-faq/usage-faq/restoring-passwords-to-recover-admin-users]\r\n* [Lost connection to external user directory|https://confluence.atlassian.com/bamkb/bamboo-lost-connection-to-the-external-user-directory-preventing-users-from-logging-in-678691207.html]\r\n{panel}\r\n\r\nIt would also be worth flagging that the 6.6 recovery admin method, has additional steps if SSO is enabled in {{seraph-config.xml}}:\r\n* [BAM\\-21330: Bamboo recovery admin account does not work when SSO is enabled|https://jira.atlassian.com/browse/BAM-21330]\r\n",
      "summary": "Improve lockout recovery documentation"
    }
  },
  {
    "key": "BAM-21361",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-07T21:05:14.000+0000",
      "description": "Problem\r\nBitbucket tags only trigger Bamboo builds on default repository.\r\n\r\nEnvironment\r\nBamboo 7.2.3\r\n\r\nSteps to Reproduce\r\nCreate multiple repositories with tags in Bitbucket.\r\nCreate Plan in Bamboo.\r\nLink Bamboo plan to multiple tagged repositories.\r\nDesired Results\r\nBamboo plan detects tags in all linked repositories.\r\n\r\nCurrent Results\r\nTags are only detected on the default repository.",
      "summary": "Allow for tag detection on non-default Bitbucket repositories."
    }
  },
  {
    "key": "BAM-21360",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-07T21:05:05.000+0000",
      "description": "h3. Feature Summary\r\n\r\nExpiry currently has save or delete.  There are many reasons to keep artifacts around, for instance legal or regulatory reasons. Or just to maintain a product history.  But these objects do not need to be kept in expensive fast storage.  Bamboo should support two locations to store Artifacts.  One is fast storage where new artifacts go, Hot Storage.  The other can be off site and slow storage, or Cold storage.  As artifacts are marked \"Cold\" they should move from Hot Storage to Cold storage over time.\r\n\r\nh3. Expected Configuration\r\nGlobal setting should define Hot Storage and Cold Storage.\r\n\r\nEach plan would need configuration of when Artifacts move from Hot to Cold.   Identical or similar to the current e Expiry age (days, weeks or months) that build and deployment results must reach.    This includes the following options:\r\n* Cold storage after *like* Expire after\r\n* Maximum builds in Hot storage *like* Maximum builds to keep\r\n* Minimum builds to keep in Hot storage *like* Minimum builds to keep\r\n* Keep builds in hot storage with the following labels *like* Keep builds with the following labels\r\n* Minimum deployments to keep in hot storage *like* Minimum deployments to keep",
      "summary": "Expiry should have an intermediate step of moving artifacts to off site Cold storage."
    }
  },
  {
    "key": "BAM-21359",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T21:03:27.000+0000",
      "created": "2021-07-07T20:59:48.000+0000",
      "description": "h3. Problem\r\nBitbucket tags only trigger Bamboo builds on default repository. \r\n\r\nh3. Environment\r\nBamboo 7.2.3\r\n\r\nh3. Steps to Reproduce\r\n# Create multiple repositories with tags in Bitbucket.\r\n# Create Plan in Bamboo.\r\n# Link Bamboo plan to multiple tagged repositories. \r\n\r\nh3. Desired Results\r\nBamboo plan detects tags in all linked repositories. \r\n\r\nh3. Current Results\r\nTags are only detected on the default repository.\r\n\r\n",
      "summary": "Allow for tag detection on non-default Bitbucket repositories."
    }
  },
  {
    "key": "BAM-21358",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-07T12:02:02.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe [After successful build plan|https://confluence.atlassian.com/bamboo/triggers-for-deployment-environments-342098622.html#Triggersfordeploymentenvironments-Aftersuccessfulbuildplan] trigger does not automatically trigger a deployment environment when a build plan has [manual stages|https://confluence.atlassian.com/bamboo/using-stages-in-a-plan-289276862.html#Usingstagesinaplan-Manualstage] and they haven't been completed. Builds are only partially complete if the manual stage hasn't run.\r\n\r\nIt is therefore necessary to run the manual stage and complete the build for the [After successful build plan|https://confluence.atlassian.com/bamboo/triggers-for-deployment-environments-342098622.html#Triggersfordeploymentenvironments-Aftersuccessfulbuildplan] trigger to start a new release.\r\nh3. Suggested Solution\r\n\r\nIt would be nice to change the wording/ description of the [After successful build plan|https://confluence.atlassian.com/bamboo/triggers-for-deployment-environments-342098622.html#Triggersfordeploymentenvironments-Aftersuccessfulbuildplan] trigger inside this document page (https://confluence.atlassian.com/bamboo/triggers-for-deployment-environments-342098622.html#Triggersfordeploymentenvironments-Aftersuccessfulbuildplan) to make it clear that the trigger will not kick off when there's a manual stage inside the build plan that hasn't run. Manual stages must be run for the build to complete and the trigger to work.\r\nh3. Workaround\r\n\r\nN/A",
      "summary": "Add a caveat to the description of the After successful build plan trigger"
    }
  },
  {
    "key": "BAM-21356",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-06T08:16:33.000+0000",
      "description": "Would it be possible to listen to tags in stead of a branch to trigger the bamboo specs for a project?\r\n\r\nNow it's only possible to listen to branches.",
      "summary": "Have the ablitiy to listen to tags for Bamboo specs."
    }
  },
  {
    "key": "BAM-21353",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-26T10:46:56.000+0000",
      "created": "2021-06-30T08:25:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe [Bamboo Specs Reference|https://docs.atlassian.com/bamboo-specs-docs/7.2.4/specs.html?java#plan-local-vs-linked-repositories] documentation says the following:\r\n{quote}\r\nh4. Creating linked repositories\r\n\r\nCurrently it is not possible to create new linked repositories from Bamboo Specs.\r\n{quote}\r\nThis is not accurate. It may not be possible using RSS ([Repository-stored specs|https://confluence.atlassian.com/bamboo/enabling-repository-stored-bamboo-specs-938641941.html]) but it is possible to do this manually as explained in the following kb article:\r\n * [Create Linked Repository with Bamboo Java Specs|https://confluence.atlassian.com/bamkb/create-linked-repository-with-bamboo-java-specs-1014269419.html]\r\n\r\nh3. Steps to Reproduce\r\n\r\nN/A\r\nh3. Expected Results\r\n\r\nHave the official documentation explain how to do this and warn users it doesn't work with RSS ([Repository-stored specs|https://confluence.atlassian.com/bamboo/enabling-repository-stored-bamboo-specs-938641941.html]) yet. There's a feature request for that here:\r\n * [(BAM-20935) Create global linked directory with repository-stored Bamboo Specs|https://jira.atlassian.com/browse/BAM-20935]\r\n\r\nh3. Actual Results\r\n\r\nOfficial documentation says it's currently not possible.\r\nh3. Workaround\r\n * [Create Linked Repository with Bamboo Java Specs|https://confluence.atlassian.com/bamkb/create-linked-repository-with-bamboo-java-specs-1014269419.html]",
      "summary": "Bamboo Specs Reference documentation says it is not possible to create new linked repositories from Bamboo Specs"
    }
  },
  {
    "key": "BAM-21352",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-28T16:40:31.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe certificate generated by the automatic keystore management feature has the following CN (common name):\r\n{noformat:title=broker.ks}\r\n...\r\nOwner: CN=Bamboo ActiveMQ Broker\r\nIssuer: CN=Bamboo ActiveMQ Broker\r\n...\r\n{noformat}\r\nThis creates a problem with the version of ActiveMQ bundled in Bamboo version 6.9.0 and higher. This version of ActiveMQ [supports both server and client hostname verification|https://issues.apache.org/jira/browse/AMQ-7047]. By default client side hostname verification is enabled. This means we're going to try and compare the CN (common name) of the certificate with the server hostname to verify they match. This won't work because they will not match, as you can see above. We're not issuing certificates that match the hostname of the server.\r\n\r\nThis results in the problem described inside the following kb article:\r\n * [Remote agents stop connecting after upgrading to Bamboo 6.9+ versions|https://confluence.atlassian.com/bamkb/remote-agents-stop-connecting-after-upgrading-to-bamboo-6-9+-versions-972341792.html]\r\n\r\nSome companies would like to benefit from using the automatic keystore management while having hostname verification enabled (socket.verifyHostName=true).\r\nh3. Suggested Solution\r\n\r\nA few suggestions:\r\n * Provide a way or mechanism to let Bamboo admins choose the certificate CN (common name).\r\n * Copy the hostname from the {{bamboo.jms.broker.client.uri}} property inside the <[Bamboo server home directory|https://confluence.atlassian.com/bamboo/locating-important-directories-and-files-289277247.html]>/bamboo.cfg.xml file.\r\n\r\nh3. Workaround\r\n\r\nNo workarounds available at the moment.",
      "summary": "Allow custom CN on the certificate generated by the automatic keystore management"
    }
  },
  {
    "key": "BAM-21351",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-28T09:40:02.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently, when generating report for multiple plans some reports do not allow visualizing separate charts for each plan.\r\n\r\nh4. Example:\r\n\r\n!Screenshot 2021-06-25 at 11.25.32.png!\r\n\r\nh3. Suggested solution\r\n\r\nSplit the result in multiple charts as most other reports does.",
      "summary": "Improve reports visualization "
    }
  },
  {
    "key": "BAM-21350",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:34:11.000+0000",
      "created": "2021-06-28T03:15:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCan't upgrade to Bamboo 8.0-rc1 if {{bamboo.home}} is a symlink.\r\nh3. Steps to Reproduce\r\n # Create a symbolic link to your <bamboo-home>\r\n # Modify {{bamboo.home}} in {{bamboo-init.properties}} to point to the symlink\r\n # Try to upgrade to Bamboo 8.0-rc1\r\n\r\nh3. Expected Results\r\n\r\nUpgrade should work\r\nh3. Actual Results\r\n\r\n*_UpgradeTask70302ReorganiseHomeDirectory_* task returns a _java.nio.file.NoSuchFileException_ with the following errors:\r\n{code:java}\r\n2021-06-22 15:45:35,831 INFO [localhost-startStop-1] [AbstractUpgradeManager] -----------------------------------------------------------------------\r\n2021-06-22 15:45:35,831 INFO [localhost-startStop-1] [AbstractUpgradeManager] 70302 : Reorganise Bamboo home directory into local and shared part (bootstrap)\r\n2021-06-22 15:45:35,831 INFO [localhost-startStop-1] [AbstractUpgradeManager] -----------------------------------------------------------------------\r\n2021-06-22 15:45:35,832 INFO [localhost-startStop-1] [UpgradeTask70302ReorganiseHomeDirectory] Moving /var/atlassian/application/bamboo/jms-store to /var/atlassian/application/bamboo/shared/jms-store...\r\n2021-06-22 15:45:35,838 INFO [localhost-startStop-1] [UpgradeTask70302ReorganiseHomeDirectory] Moving /var/atlassian/application/bamboo/jms-store to /var/atlassian/application/bamboo/shared/jms-store completed.            \r\n\r\n(...)\r\n\r\n2021-06-22 15:45:35,846 ERROR [localhost-startStop-1] [AbstractUpgradeManager] java.nio.file.NoSuchFileException: /var/atlassian/application/bamboo/bamboo-mail.cfg.xml -> /opt/atlassian/bamboo-home/xml-data/configuration/bamboo-mail.cfg\u2502\r\n\u2502java.nio.file.NoSuchFileException: /var/atlassian/application/bamboo/bamboo-mail.cfg.xml -> /opt/atlassian/bamboo-home/xml-data/configuration/bamboo-mail.cfg.xml\r\n\r\n(...)\r\n\r\ncom.atlassian.upgrade.UpgradeException: Pre-bootstrap upgrade tasks failed: [Task for build 70302 failed with exception: /var/atlassian/application/bamboo/bamboo-mail.cfg.xml -> /opt/atlassian/bamboo-home/xml-data/configuration/bamboo-mail.cfg.xml]\r\n{code}\r\nh3. Workaround\r\n\r\nIf after the failure, {{bamboo.home}} in {{bamboo-init.properties}} is modified to point to the real path, the failed task passes but the upgrade can't recover due to subsequently missing files. The applicable solution is to restore the previous Bamboo instance and restart the upgrade process, this time using the real path for <bamboo-home>:\r\n * Restore the working Bamboo environment either from a Backup or a Snapshot (both <bamboo-home> and <bamboo-install> directories)\r\n * Make sure your previous Bamboo instance is working before the upgrade\r\n * Stop Bamboo\r\n * Change your\u00a0{{bamboo.home}}\u00a0value in\u00a0{{bamboo-init.properties}}\u00a0to\u00a0{{<bamboo-home>}}\u00a0(a real path, not a symlink).\r\n * Follow the [upgrade process|https://confluence.atlassian.com/bamboo/bamboo-upgrade-guide-720411366.html] as usual",
      "summary": "Can't upgrade to Bamboo 8.0-rc1 if bamboo.home is a symlink"
    }
  },
  {
    "key": "BAM-21349",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-25T15:42:20.000+0000",
      "description": "The e-mail notifications sent by bamboo when a deployment finishes should also include all the Jira issues related to the deployment build.",
      "summary": "Jira issues should be included in the deployment email notification"
    }
  },
  {
    "key": "BAM-21348",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-25T14:55:01.000+0000",
      "description": "h3. Problem Definition\r\nCurrently Bamboo does not enforce the number of REST API calls per minute\r\nh3. Suggested Solution\r\nAllow admins to control the number of REST API calls per minute\r\nh4. Why this is important \r\nUnlimited REST API calls can potentially bring the Bamboo instance down",
      "summary": "Implement Rate Limiting"
    }
  },
  {
    "key": "BAM-21347",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-25T12:26:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded error on agent when test results are parsed in a task.\r\n\r\nAfter upgrading the MsTest.TestAdapter and MsTest.TestFramework NuGet packages, the MsTestParser task fails. The xml file with test results does not differ much from the one that used to be generated before updating build tools. Just a few extra lines. It's not a big file too - just around 20-30 lines.\r\nh3. Steps to Reproduce\r\n\r\nReproduced in customer specific environment.\r\n\r\nh3. Expected Results\r\n\r\nBamboo parses the file and the task succeeds.\r\nh3. Actual Results\r\n\r\nBamboo agent fails with\u00a0java.lang.OutOfMemoryError: GC overhead limit exceeded\r\nh3. Workaround\r\n\r\nIncrease heap size for the agent jvm. However, it is not normal that a few lines in the file result in heap error. So, maybe there's something to be improved in the way Bamboo performs those tasks?",
      "summary": "java.lang.OutOfMemoryError: GC overhead limit exceeded when parsing test results"
    }
  },
  {
    "key": "BAM-21346",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-25T09:16:53.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently, it is not possible to extract the report's data with REST APIs.\r\n\r\nh3. Suggested solution\r\n\r\nAdd a GET, REST API endpoints allowing the extraction of reports for external monitoring/statistics.",
      "summary": "Add Bamboo REST endpoints for report generation"
    }
  },
  {
    "key": "BAM-21345",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-24T18:03:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe documentation for Bamboo Specs YAML !include tag states that it can be used as a line item level tag but Bamboo gives a generic parsing error.\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0\r\nh3. Steps to Reproduce\r\n # Create YAML file:\r\n\r\n{code:java}\r\nversion: 2\r\n---\r\n!include 'spec1.yml'\r\n---{code}\r\n\r\n # Commit and push the YAML file into Bitbucket and wait for Bamboo to detect the change\r\n\r\nh3. Expected Results\r\n\r\nBoth YAML files are parsed and are imported successfully.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\nBamboo YAML import failed: Unable to parse the YAML file, it may be malformed\r\n{noformat}\r\nh3. Workaround\r\n\r\n!include works if it is appended onto another tag for example:\r\n\r\n\u00a0\r\n{code:java}\r\nBuild: !include 'buildSteps.yml'{code}\r\nOr\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n{code:java}\r\nTest: !include 'testSteps.yml'{code}\r\n\u00a0",
      "summary": "Using a YAML Specs !include tag as described in the documentation results in a parse error"
    }
  },
  {
    "key": "BAM-21344",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:54.000+0000",
      "created": "2021-06-22T10:58:24.000+0000",
      "description": "h3. Issue Summary\r\nRSS-managed plan should be in View mode for every tab and page.\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Create plan managed by RSS with artifact subscription settings\r\n# Open Plan config page and visit artifacts tab of job\r\n# Click Edit or Delete button of artifact subscription item\r\n\r\nh3. Expected Results\r\nControls are disabled. Struts action throws error when try to edit these settings.\r\n\r\nh3. Actual Results\r\n\r\nControls are enabled and it\u2019s possible to save changes to artifact subscription element or list\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Plan managed by specs allows to modify artifact dependencies with UI"
    }
  },
  {
    "key": "BAM-21343",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-21T05:57:11.000+0000",
      "description": "for example, i have created a bamboo plan for scheduling server stop and start times. now the issue is to create a report that says the which instance having schedule and the schedule timings as a report from the created bamboo plan\\so please suggest me that how to get the report automatically and dynamically. is i need to create any api's to get the report , pls suggest me that\u00a0",
      "summary": " get report from created bamboo plans"
    }
  },
  {
    "key": "BAM-21342",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-19T20:29:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf an agent encounters an OOM error while loading a plugin, the error is logged a the INFO level rather than ERROR or WARN\r\n\r\nh3. Steps to Reproduce\r\nset heap lower than required to load a plugin\r\nrestart agent\r\n\r\nh3. Expected Results\r\n\r\nLogged at ERROR or WARN\r\n\r\nh3. Actual Results\r\n{noformat}\r\nINFO   | jvm 1    | 2021/06/19 15:24:34 | 2021-06-19 15:24:34,441 ERROR [AgentRunnerThread] [ScanningPluginLoader] Unable to deploy plugin 'org.jfrog.bamboo.bamboo-artifactory-plugin' from 'Unit: /apps/home/sa_bamboo/agent03/plugins/user-installed/plugin_1995594055338558207_bamboo-artifactory-plugin-3.2.1.jar (1624105421000)'.\r\nINFO   | jvm 1    | 2021/06/19 15:24:34 | 2021-06-19 15:24:34,532 ERROR [AgentRunnerThread] [ScanningPluginLoader] Because of the following exception:\r\nINFO   | jvm 1    | 2021/06/19 15:24:34 | java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nno current workaround.  Need to search for specific errors rather than the ERROR or WARN keywords",
      "summary": "Out of Memory error when loading an plugin on agent logged as INFO rather than ERROR or WARN"
    }
  },
  {
    "key": "BAM-21341",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-24T11:37:47.000+0000",
      "created": "2021-06-16T22:57:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBamboo Windows elastic agent stock AMI is running on Microsoft Windows Server 2016 Datacenter 64-bit.\r\n\r\nCurrent documentation still states it as \"Windows Server 2012 R2 Standard 64-bit\".\r\n\r\nThere might have more internal links with that version, I'm listing the public one I found.\r\n * [https://confluence.atlassian.com/bamboo/stock-images-289277463.html#Stockimages-Windowsstockimage]\r\n\r\nWindows 2012 is currently at\u00a0[mainstream End of Life|https://docs.microsoft.com/en-us/lifecycle/products/windows-server-2012-r2]\u00a0support by Microsoft, and close to a full EoL by 2023. Customers may raise concerns about this.\r\nh3. Steps to Reproduce\r\n\r\nRun a simple job in a Bamboo Windows elastic agent to find the current Windows version.\r\n{code:bash}\r\n16-Jun-2021 22:41:36\tC:\\build\\BAM-FOO-JOB1>systeminfo | findstr /C:\"OS\" \r\n16-Jun-2021 22:41:39\tOS Name:                   Microsoft Windows Server 2016 Datacenter\r\n16-Jun-2021 22:41:39\tOS Version:                10.0.14393 N/A Build 14393\r\n16-Jun-2021 22:41:39\tOS Manufacturer:           Microsoft Corporation\r\n16-Jun-2021 22:41:39\tOS Configuration:          Standalone Server\r\n16-Jun-2021 22:41:39\tOS Build Type:             Multiprocessor Free\r\n16-Jun-2021 22:41:39\tBIOS Version:              Xen 4.2.amazon, 8/24/2006\r\n16-Jun-2021 22:41:39\tFinished task 'Script' with result: Success\r\n{code}\r\nh3. Expected Results\r\n\r\nDocumentation should state \"Windows Server 2016 Datacenter 64-bit\" instead of \"Windows Server 2012 R2 Standard 64-bit\"\r\nh3. Actual Results\r\n\r\nThe documentation states the wrong version of the Windows operating system running on Bamboo elastic agent stock AMI.\r\nh3. Workaround\r\n\r\nNo workaround. Documentation must be updated.\r\n\r\n\u00a0",
      "summary": "Update Bamboo Windows elastic agent version on Stock AMI documentation"
    }
  },
  {
    "key": "BAM-21340",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-11T21:56:44.000+0000",
      "description": "h3. Problem Definition\r\nAs an admin I have to manually provide the remote agent jar file for download for my users\r\nh3. Suggested Solution\r\nPlease allow the remote agent jar file to be available for all users\r\nh4. Why this is important \r\nIt requires an internal process for users to ask for the jar file before we provide an updated link. \r\nh3. Workaround \r\nProvide a direct link for the jar download or add the jar file to a common location where users can download from. \r\nPlease note that you'd need to replace the <SERVER-URL> with the server address, and also replace the Bamboo version in the file name below. \r\n{noformat}\r\n http://<SERVER-URL>/agentServer/agentInstaller/atlassian-bamboo-agent-installer-7.2.1.jar\r\n{noformat}\r\n",
      "summary": "Add link for remote agents download accessible to all users"
    }
  },
  {
    "key": "BAM-21339",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T11:40:50.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen having a build plan containing only manual stages, Bamboo will provide a green build even if no manual stages have been run. Bamboo provides a green build as if it was marked as failed, no manual stages could be run at a later point.\r\n\r\nThis can be problematic, as you can create a release based on a build plan that had no stages run and effectively nothing was really built.\r\n\r\nh3. Suggested Solution\r\n\r\nBefore creating the release, it'd be great to have some information message if no stages have been run on the build linked to the deployment that you want to release.\r\n\r\n\r\nh3. Workaround\r\n\r\nA possible workaround would be to keep the deployment steps at a manual stage of the same plan. This way it will be not possible to run those deployment steps until previous stages are executed",
      "summary": "When creating a release I want to know if the build plan linked to it had no stages ran"
    }
  },
  {
    "key": "BAM-21338",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:56.000+0000",
      "created": "2021-06-07T22:38:02.000+0000",
      "description": "h3. Issue Summary\r\nMissing Plan in VcsRepositoryContext error is thrown while exporting plan as Specs that contains Bitbucket Cloud repository with shared credential.\r\n\r\nh3. Steps to Reproduce\r\n # Create a shared credential for Bitbucket Cloud repository\r\n # Add a Bitbucket Cloud repository to a plan and link the shared credential created previously\r\n # Export the plan as Java or YAML Specs by clicking on *Actions >> View plan as Java Specs* or *Actions >> View plan as YAML*.\r\n\r\nh3. Expected Results\r\nThe plan should be exported without throwing an exception.\r\n\r\nh3. Actual Results\r\n\r\nThe following exception is thrown when the user clicks on View plan as Java Specs or View plan as YAML:\r\n{noformat}\r\nERROR [http-nio-8085-exec-8] [ExceptionMappingInterceptor] Missing Plan in VcsRepositoryContext\r\njava.lang.IllegalArgumentException: Missing Plan in VcsRepositoryContext\r\n\tat com.atlassian.bamboo.plugins.bitbucket.v2.export.BitbucketCloudImporterExporter.getSharedCredentials(BitbucketCloudImporterExporter.java:460)\r\n\tat com.atlassian.bamboo.plugins.bitbucket.v2.export.BitbucketCloudImporterExporter.appendPrivateAuthenticationData(BitbucketCloudImporterExporter.java:160)\r\n\tat com.atlassian.bamboo.plugins.bitbucket.v2.export.BitbucketCloudImporterExporter.appendLocationData(BitbucketCloudImporterExporter.java:124)\r\n\tat com.atlassian.bamboo.plugins.bitbucket.v2.export.BitbucketCloudImporterExporter.appendLocationData(BitbucketCloudImporterExporter.java:87)\r\n\tat com.atlassian.bamboo.configuration.external.exporters.RepositoryExporterImpl.lambda$toSpecsEntity$2(RepositoryExporterImpl.java:148)\r\n\tat com.atlassian.bamboo.utils.BambooCallables.callUnchecked(BambooCallables.java:33)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils.callChangedApi(BambooPluginUtils.java:240)\r\n\tat com.atlassian.bamboo.configuration.external.exporters.RepositoryExporterImpl.toSpecsEntity(RepositoryExporterImpl.java:148)\r\n\tat com.atlassian.bamboo.configuration.external.exporters.RepositoryExporterImpl.toSpecsEntity(RepositoryExporterImpl.java:83)\r\n\tat com.atlassian.bamboo.configuration.external.exporters.RepositoryExporterImpl.toSpecsEntityAndBranchOverride(RepositoryExporterImpl.java:133)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigExportServiceImpl.lambda$generateTopLevelPlanProperties$3(PlanConfigExportServiceImpl.java:214)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigExportServiceImpl.generateTopLevelPlanProperties(PlanConfigExportServiceImpl.java:215)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigExportServiceImpl.exportPlanToSpecs(PlanConfigExportServiceImpl.java:144)\r\n\tat com.atlassian.bamboo.ww2.actions.build.admin.config.ViewPlanSpecs.javaCode(ViewPlanSpecs.java:79)\r\n\tat com.atlassian.bamboo.ww2.actions.build.admin.config.ViewPlanSpecs.java(ViewPlanSpecs.java:38)\r\n\tat sun.reflect.GeneratedMethodAccessor2930.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat ognl.OgnlRuntime.invokeMethodInsideSandbox(OgnlRuntime.java:1266)\r\n\tat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:1251)\r\n\tat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1969)\r\n\tat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:98)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:90)\r\n\tat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:2045)\r\n\tat ognl.ASTMethod.getValueBody(ASTMethod.java:97)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\tat ognl.Ognl.getValue(Ognl.java:537)\r\n\tat ognl.Ognl.getValue(Ognl.java:501)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil$3.execute(OgnlUtil.java:492)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecuteMethod(OgnlUtil.java:544)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.callMethod(OgnlUtil.java:490)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:438)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:293)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:254)\r\n\tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:181)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.validateWorkflow(BambooWorkflowInterceptor.java:36)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor.doIntercept(BambooWorkflowInterceptor.java:20)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.validate(BambooValidationInterceptor.java:32)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooValidationInterceptor.doIntercept(BambooValidationInterceptor.java:16)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.FieldErrorUsageVerifier.intercept(FieldErrorUsageVerifier.java:43)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.JSONValidationInterceptor.doIntercept(JSONValidationInterceptor.java:60)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:64)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooXsrfTokenInterceptor.doIntercept(BambooXsrfTokenInterceptor.java:47)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:140)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:101)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:160)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:175)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat org.apache.struts2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:121)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptor.intercept(WebworkSecurityInterceptor.java:47)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptorProxy.intercept(WebworkSecurityInterceptorProxy.java:26)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:140)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.PaginationAwareInterceptor.doIntercept(PaginationAwareInterceptor.java:82)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.StatisticsAwareInterceptor.doIntercept(StatisticsAwareInterceptor.java:35)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ResultsListAwareInterceptor.doIntercept(ResultsListAwareInterceptor.java:38)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.NavigationAwareInterceptor.doIntercept(NavigationAwareInterceptor.java:105)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BuildResultsSummaryAwareInteceptor.doIntercept(BuildResultsSummaryAwareInteceptor.java:57)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ResultsSummaryAwareInteceptor.doIntercept(ResultsSummaryAwareInteceptor.java:64)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ChainAwareInterceptor.doIntercept(ChainAwareInterceptor.java:93)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:24)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.xwork.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ConditionalActionInterceptor.intercept(ConditionalActionInterceptor.java:87)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:201)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.atlassian.xwork.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:167)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:207)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:196)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n\tat org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:48)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:576)\r\n\tat org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:79)\r\n\tat org.apache.struts2.dispatcher.filter.StrutsExecuteFilter.doFilter(StrutsExecuteFilter.java:86)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:80)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.SessionCreationForAnonymousUserFilter.doFilter(SessionCreationForAnonymousUserFilter.java:40)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.NewRelicTransactionNamingFilter.doFilter(NewRelicTransactionNamingFilter.java:30)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter$1.doFilter(StrutsPrepareFilter.java:72)\r\n\tat org.apache.struts2.dispatcher.filter.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:92)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.handleRequest(StrutsPrepareFilter.java:46)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:38)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.BambooProfilingFilter.doFilter(BambooProfilingFilter.java:72)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.bamboo.filter.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:61)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:89)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\r\n\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter$1.run(SeraphLoginFilter.java:71)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runAs(ImpersonationHelper.java:54)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:76)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\r\n\tat org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\r\n\tat com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:21)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:74)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:59)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:242)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:36)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\r\n\tat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:24)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.BambooCompressingFilter.doFilter(BambooCompressingFilter.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:40)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.ClickjackingAndMimeTypeSniffingPreventionFilter.doFilter(ClickjackingAndMimeTypeSniffingPreventionFilter.java:36)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:49)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:37)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.lambda$doFilter$0(DelegatingPluginFilter.java:57)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:62)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:43)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1629)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n\r\nh3. Workaround\r\nDelete the Bitbucket Cloud repository and convert it to Git.",
      "summary": "Missing Plan in VcsRepositoryContext error is thrown while exporting plan as Specs"
    }
  },
  {
    "key": "BAM-21337",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T22:33:00.000+0000",
      "description": "The 3.3 release of t-digest is now out.\r\n\r\nRelative to the 3.2 version that Bamboo Core currently uses, there is substantially better accuracy in some cases and generally faster speed. The API is unchanged and there should be no regressions.\r\n\r\nI suggest an upgrade (and would have been happy to provide a pull request).",
      "summary": "New version of t-digest available - improved accuracy"
    }
  },
  {
    "key": "BAM-21336",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T07:31:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhenever we change repository details (such as repository URL or even the linked repository entity) on a Bamboo Spec or even via UI for a plan, it it starts creating all the new branches detected from the second/new repo.\r\nh3. Steps to Reproduce\r\n # Create two linked Bitbucket repositories\r\n{code:java}\r\nRepo1: TEST1\r\nBranches:\r\n* branch1\r\n* branch2\r\n* branch3\r\n\r\nRepo2: TEST2\r\nBranches:\r\n* testbranch1\r\n* testbranch2\r\n* testbranch3\r\n{code}\r\n # Create a plan, link it to Repo1 and enable automatic branching.\r\n # Export it to specs.\r\n # Publish the plan.\r\n # Now, change the spec to point to Repo2 and publish the spec.\r\n # Go adjust the automatic branch detection interval at *Bamboo Administration >> Server Configuration*, this forces a poll.\r\n # Repo2 branches all automatically get created at once.\r\n\r\nh4. UI version\r\n  1 - 2. The same steps from above;\r\n  3. Delete repo1 and add repo2, or change linked repo1 to point to repo2;\r\n  4. Reproduce a loss of connection between Bamboo and Bitbucket;\r\n  5. When the connection re-establishes all the branches will be detected and a plan branch will be created for each.\r\n\r\nh3. Expected Results\r\n\r\nNo new branches of the changed repository should be detected and created.\r\nh3. Actual Results\r\n\r\nBamboo detects the new branches and dispatches to the initial build for all of them. This may overload a number of worker threads that are available in Bamboo to process the status of builds and move things along healthily through the queue to agents.\r\nh3. Workaround\r\nh4. For the UI version of the bug\r\nWe can avoid this bug by adding the second repository before deleting the first one. Or disable automatic branch creation before making any modifications in the plan repository configuration.",
      "summary": "Changing or adjusting the repository details on a Bamboo Spec or via UI for a plan, it creates all the branches from the second repo"
    }
  },
  {
    "key": "BAM-21335",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:55.000+0000",
      "created": "2021-06-03T15:51:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe [YAML specs reference documentation|https://docs.atlassian.com/bamboo-specs-docs/7.2.2/specs.html?yaml#handling-deleted-branches]\u00a0mentions:\r\n{quote}\r\n|*After period of time(default 7 days for YAML Specs)*|If a branch in the primary source repository was deleted, Bamboo deletes the corresponding plan branch after N days - use\u00a0{{removedBranchCleanup}}\u00a0with\u00a0{{new BranchCleanup().periodInDays(N)}}.|\r\n{quote}\r\nand the sample code:\r\n{quote}\r\n{code:yaml}\r\n---\r\nversion: 2\r\nbranches:   \r\ndelete:     \r\n    after-deleted-days: 30 # default value is 7\r\n{code}\r\n{quote}\r\nBut actually, the default value for\u00a0the \"Delete plan branch\" parameters are:\r\n{code:yaml}\r\nbranches:   \r\ndelete:     \r\n    after-deleted-days: 1\r\n    after-inactive-days: 30\r\n{code}\r\nh3. Steps to Reproduce\r\n\r\nN/A\r\n\r\nh3. Expected Results\r\n\r\nThe documentation should reflect the correct default values to avoid confusion\r\nh3. Actual Results\r\n\r\nThe documentation states that the default value for a plan branch to be deleted after a branch in the primary source repository was deleted is *7*\r\nh3. Workaround\r\n\r\nPlease consider de current behavior as correct, the documentation will be be updated",
      "summary": "Inaccurate information is displayed in the reference documentation for the Bamboo YAML Specs"
    }
  },
  {
    "key": "BAM-21334",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-25T15:28:44.000+0000",
      "description": "By default, Bamboo uses TLS 1.0 to send email notifications. Since TLS 1.0 is well known for security vulnerabilities, the documentation should show this information and the instructions on how to change to TLS 1.2\r\n\r\n* [Configuring Bamboo to send SMTP Email|https://confluence.atlassian.com/bamboo/configuring-bamboo-to-send-smtp-email-289276984.html]\r\n\r\nI suggest adding a box on the top of the page with the default TLS version that Bamboo uses and the steps on how to change to TLS 1.2. This is done by adding:\r\n{noformat}\r\n-Dmail.smtp.ssl.protocols=TLSv1.2\r\n{noformat}\r\nTo the Java arguments following [Configuring your system properties|https://confluence.atlassian.com/bamboo/configuring-your-system-properties-289277345.html]",
      "summary": "Update Configuring Bamboo to send SMTP Email documentation to show TLS version"
    }
  },
  {
    "key": "BAM-21333",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:53.000+0000",
      "created": "2021-05-25T09:52:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUser can't download build log for job that has been removed from a Specs Branch\r\nh3. Steps to Reproduce\r\n # create a plan in specs with one job\r\n # create a specs branch for that plan (don't change any configuration yet)\r\n # run the specs branch\r\n # change the key of the job in specs, and wait for the plan config to be updated\r\n # try to download the build log from that first result\r\n\r\nh3. Expected Results\r\n\r\nBuild log is downloaded successfully\r\nh3. Actual Results\r\n\r\nDownloading build log fails, and user sees\u00a0\"access denied\" page\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Can't download build log for job that has been removed from Specs Branch"
    }
  },
  {
    "key": "BAM-21332",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-24T01:18:20.000+0000",
      "description": "h3. Issue Summary\r\nBamboo doesn't allow for managing Active Directory users activity status locally.\r\n\r\nh3. Steps to Reproduce\r\n# Setup an AD directory in Bamboo\r\n# Configure this option under *Advanced Settings* for the directory:\r\n{quote}\r\n'Manage User Status Locally' - If true, you can activate and deactivate users in Crowd independent of their status in the directory server.\r\n{quote}\r\n# Attempt to disable a user\r\n\r\nh3. Expected Results\r\nBamboo either honors the config or hides this configuration option.\r\n\r\nh3. Actual Results\r\nBamboo shows activity status in read only mode.\r\n\r\nh3. Workaround\r\nNo workaround exists to disable them from Bamboo. You will need to deactivate them in the Active Directory directly.",
      "summary": "Bamboo doesn't allow for managing AD users activity status locally"
    }
  },
  {
    "key": "BAM-21331",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-21T18:07:48.000+0000",
      "description": "The Issue:\r\n\r\nWe have a large development team with many internal packages (artifacts) We have many tools to pull in a mirror external dependancies as well as internal packages/artifacts, we currently use a few open source and free solutions, such as\u00a0\r\n * [https://github.com/verdaccio/verdaccio]\u00a0\r\n * [https://www.sonatype.com/products/repository-oss]\u00a0\r\n * [https://github.com/composer/satis]\u00a0\r\n\r\n\u00a0\r\n\r\nBut they are a pain to manage and some of the language package managers are not well supported, such as PHP and Composer.\r\n\r\n\u00a0\r\n\r\nWe have explored a few paid options, such as\u00a0\r\n * [https://www.sonatype.com/products/repository-pro?topnav=true]\r\n * [https://jfrog.com/artifactory/]\u00a0\r\n * [https://aws.amazon.com/codeartifact/]\u00a0\r\n\r\n\u00a0\r\n\r\nHere are a few other offerings\r\n * [https://www.g2.com/products/jfrog-artifactory/competitors/alternatives]\r\n\r\n\u00a0\r\n\r\nI would encourage Atlassian to enter this space as there is a need for mature tooling that integrates with the existing internal and external dependancies. Possibly could also explore\u00a0\r\n * vulnerability scanning\r\n * license scanning\r\n * metrics on usage\r\n\r\nI'm thinking this might be a good fit for the Datacenter option\r\n\r\n\u00a0",
      "summary": "Bitbucket or Bamboo Proxy :: internal/private artifact/repository with external/public mirroring/caching\u00a0"
    }
  },
  {
    "key": "BAM-21330",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-21T10:18:24.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe process described inside the [Lockout recovery process|https://confluence.atlassian.com/bamboo/lockout-recovery-process-952624910.html] page does not work when SSO is enabled.\r\nh3. Steps to Reproduce\r\n # Enable [SSO|https://confluence.atlassian.com/bamkb/setting-up-bamboo-with-crowd-using-sso-946633280.html#SettingupBamboowithCrowdusingSSO-EnablingSSOinBamboo] in Bamboo.\r\n # Follow the steps inside the [Lockout recovery process|https://confluence.atlassian.com/bamboo/lockout-recovery-process-952624910.html] page to access Bamboo with the _\"recovery_admin\"_ account.\r\n\r\nh3. Expected Results\r\n\r\nI am able to log in with the _\"recovery_admin\"_ account.\r\nh3. Actual Results\r\n\r\nI'm *not* able to log in with the _\"recovery_admin\"_ account. Bamboo says that the credentials might be wrong or the user does not exist.\r\nh3. Workaround\r\n # Stop Bamboo.\r\n # Revert back to using the default Bamboo authenticator.\r\n #* Comment out the following line inside the <[Bamboo server home directory|https://confluence.atlassian.com/bamboo/locating-important-directories-and-files-289277247.html]>/atlassian-bamboo/WEB-INF/classes/seraph-config.xml file:\r\n{noformat:title=seraph-config.xml}\r\n<!-- <authenticator class=\"com.atlassian.crowd.integration.seraph.v25.BambooAuthenticator\"/> -->\r\n{noformat}\r\n#* Add the following line after the one mentioned above:\r\n{noformat:title=seraph-config.xml}\r\n<authenticator class=\"com.atlassian.bamboo.user.authentication.BambooAuthenticator\"/>\r\n{noformat}\r\n# Follow the steps inside the [Lockout recovery process|https://confluence.atlassian.com/bamboo/lockout-recovery-process-952624910.html] page.\r\n # Start Bamboo.\r\n\r\nAt this point you should be able to access Bamboo again using the _\"recovery_admin\"_ account. Once you've sorted out the problem connecting to Crowd you will need to revert changes made in step *3* in case you wish to enable SSO again.",
      "summary": "Bamboo recovery admin account does not work when SSO is enabled"
    }
  },
  {
    "key": "BAM-21329",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T21:47:09.000+0000",
      "description": "h3. Problem definition\r\n\r\nThe\u00a0[Cloning a Bamboo instance|https://confluence.atlassian.com/bamboo/cloning-a-bamboo-instance-289277407.html] documentation, under the\u00a0*Cloning a Bamboo instance to a new server*\u00a0section, on step 4, doesn't specify that once the new instance is launched, the *Bamboo Setup Wizard* will be displayed. It only mentions directly importing the existing data, which in fact is only the *5th* of *6 steps* you have to go through in the Setup Wizard.\r\nh3. Suggested resolution\r\n\r\nUpdate the document to mention the Setup Wizard. E.g., from:\r\n{quote}4. Start the new Bamboo instance and\u00a0[import the existing export/backup data|https://confluence.atlassian.com/bamboo/importing-data-from-backup-289277260.html]\u00a0prepared in Step 1.\r\n{quote}\r\nto\r\n{quote}4. Start the new Bamboo instance and go through the [Setup Wizard|https://confluence.atlassian.com/bamboo/running-the-setup-wizard-289276851.html], during which you can [import the existing export/backup data|https://confluence.atlassian.com/bamboo/importing-data-from-backup-289277260.html] prepared in Step 1.\u00a0\r\n{quote}\r\n\u00a0",
      "summary": "Improving the \"Cloning a Bamboo instance\" page"
    }
  },
  {
    "key": "BAM-21328",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T15:39:02.000+0000",
      "created": "2021-05-20T20:14:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAdding SSH key to a SCP/SSH task fails on a specific type of SSH key.\r\nh3. Steps to Reproduce\r\n # Create an SSH Key Pair\r\n\r\n{code:java}\r\nssh-keygen{code}\r\n # Inspect the private key and confirm that the header contains the following\r\n\r\n{code:java}\r\n-----BEGIN OPENSSH PRIVATE KEY-----{code}\r\n # Create an SCP/SSH Task in a Bamboo build plan\r\n # Upload the SSH Key and save the task\r\n\r\nh3. Expected Results\r\n\r\nThe private key file is uploaded and the SCP/SSH task saves successfully.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file (Must increase com.atlassian.bamboo.ww2.interceptors.BambooWorkflowInterceptor to DEBUG logging):\r\n{noformat}\r\n2021-05-20 18:46:55,733 DEBUG [http-nio-8085-exec-9] [NavigationAwareInterceptor] Finding Navigation Objects for com.atlassian.bamboo.ww2.actions.build.admin.config.task.EditTask\r\n2021-05-20 18:46:55,870 DEBUG [http-nio-8085-exec-9] [BambooWorkflowInterceptor] 1 field errors found...\r\n2021-05-20 18:46:55,870 DEBUG [http-nio-8085-exec-9] [BambooWorkflowInterceptor] * private_key: [There is something wrong with your private key: java.io.IOException: unrecognised object: OPENSSH PRIVATE KEY]\r\n2021-05-20 18:46:55,870 DEBUG [http-nio-8085-exec-9] [BambooWorkflowInterceptor] 0 action errors found...\r\n{noformat}\r\nh3. Workaround\r\n * To upload the key in the SCP/SSH Task create an RSA key using the PEM format:\r\n\r\n{code:java}\r\nssh-keygen -m PEM -t rsa\r\n{code}",
      "summary": "Adding an SSH Key on a SCP Task fails with an IOException"
    }
  },
  {
    "key": "BAM-21327",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:55.000+0000",
      "created": "2021-05-20T17:52:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen an Artifact copier task in a build fails, the build continues to show as successful even though the Artifact copy task failed (for instance, due to OOME).\r\nh3. Steps to Reproduce\r\n # We weren't able to reproduce, but when we find an error like below in the build log (in this case it is OOME) just before the build outcome.\r\n{noformat}\r\nsimple\t08-May-2021 16:21:27\tFinished publishing of artifact Non required shared artifact: [sample], pattern: [**/*] anchored at: [sample] in 2.8 min\r\nsimple\t08-May-2021 16:21:27\tPublishing an artifact: artfname\r\nerror\t08-May-2021 16:43:27\tFailed to execute plugin 'Artifact Copier' with error: Java heap space\r\n{noformat}\r\n\r\n * Build status is still a success.\r\n\r\nh3. Expected Results\r\n\r\nThe build fails as the artifact transfer activity has failed.\r\nh3. Actual Results\r\n\r\nwhen post build plugins were running, the build status is not changed in response to errors like below appearing in the meantime.\r\n{noformat}\r\nerror\t08-May-2021 16:43:27\tFailed to execute plugin 'Artifact Copier' with error: Java heap space\r\n{noformat}\r\nThe below exception is thrown in the\u00a0atlassian-bamboo.log\u00a0file:\r\n{noformat}\r\n2021-05-08 16:42:13,974 ERROR [12-BranchDetectionBackgroundThread:pool-19-thread-3] [SystemAuthorityThreadFactory] Uncaught exception in thread 12-BranchDetectionBackgroundThread:pool-19-thread-3\r\n java.lang.OutOfMemoryError: Java heap space\r\n 2021-05-08 16:42:19,869 ERROR [httpclient-io:thread-1] [InternalHttpAsyncClient] I/O reactor terminated abnormally\r\n org.apache.http.nio.reactor.IOReactorException: I/O dispatch worker terminated abnormally\r\n at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:356)\r\n at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\r\n at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n at java.lang.Thread.run(Thread.java:748)\r\n Caused by: java.lang.OutOfMemoryError: Java heap space\r\n\u00a0{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Artifact copier task fails due to Java heap limit exhaustion but the build is still a success"
    }
  },
  {
    "key": "BAM-21326",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-17T05:26:30.000+0000",
      "description": "Tag trigger has been introduced in more recent versions of Bamboo, however it's not documented in [specs docs|https://docs.atlassian.com/bamboo-specs-docs/7.2.4/specs.html?yaml#polling-the-repository-for-changes], and there's no info on which env vars can provide tag name, revision and things related to a git tag. [Tag trigger|https://confluence.atlassian.com/bamboo/tag-triggering-1031180298.html] does not not mention such env vars as:\r\n{code:java}\r\n${bamboo.TagBuildTriggerReason.buildKey}\r\n${bamboo.TagBuildTriggerReason.customRevision}\r\n${bamboo.TagBuildTriggerReason.tagName}{code}\r\n\u00a0",
      "summary": "Better document tag trigger"
    }
  },
  {
    "key": "BAM-21325",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-11T07:43:00.000+0000",
      "description": "We are using Git Flow and need to build develop/master branch against multiple (10) versions of an SDK. The differences in public API between the versions of SDK are minimal so we can use a single set of sources with minimal conditional compilation.\r\n\r\nWhen code changes are pushed to develop/master we require multiple builds to be triggered against the same VCS branch.\r\n\r\nThe only difference between the Plans is a single plan variable which specifies the SDK to build against. This variable needs to be passed to a few Tasks within our job.\r\n\r\nWe have this working when configuring via the Bamboo UI, but it appears that Bamboo Specs does not support this way of working.\r\n\r\nWe are aware of \"branch-override:\" but this allows overrides to be applied on a per VCS Branch basis, not per Plan Branch basis, so sadly it does not help this use case.\r\n\r\nDuplicating the Job in Specs has been suggested, but this would mean maintaining (in our case) 10 times the yaml jobs in order to only change 2 characters in each, so this would be a support nightmare.\r\n\r\nI would like to be corrected here but, We do not believe yaml anchors can be used to create multiple instances of the job in the Bamboo Specs, because the \"variables:\" is at plan level in the yaml than the Jobs.\r\n\r\nWe also do not want to have to change the bamboo.yml file in each VCS branch as it would break Git Flow.",
      "summary": "Allow multiple Plan Branches to reference a single VCS branch with plan variable overrides via bamboo specs"
    }
  },
  {
    "key": "BAM-21324",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:53.000+0000",
      "created": "2021-05-10T16:51:45.000+0000",
      "description": "h3. Issue Summary\r\nThe field variable name changes to \"Choose from inherited variables\" when the user is editing the variable value field.\r\n\r\nh3. Steps to Reproduce\r\n # Go to the branch variables in <bamboo-server-url>/branch/admin/config/editChainBranchVariables.action?buildKey=<project>-<plan-branch>\r\n # Add a new variable from the variables list\r\n # Try to edit the variable value by clicking on the pencil icon\r\n\r\nh3. Expected Results\r\nThe variable key should not change to \"Choose from inherited variables\" when editing the variable value field.\r\n\r\nh3. Actual Results\r\nThe variable key changes to \"Choose from inherited variables\".\r\n\r\nh3. Workaround\r\nSelect the correct variable from the list.",
      "summary": "The variable name changes to Choose from inherited variables when editing the value of the variable"
    }
  },
  {
    "key": "BAM-21323",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T11:00:47.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe message is a bit misleading because it makes us believe we are actually spending all that time checking source code. This *may* be true if there's only one or a few builds in the queue under this status while the rest of builds are running/ progressing as usual.\r\n\r\nThe problem starts when we see *several* builds in the queue under this status for an extended period of time. This might be a symptom of a performance issue and could be completely unrelated to checking out source code. It's a bit misleading because it may put us in the wrong path when starting to investigate said problem. What this truly means is that Bamboo doesn't have any information about the progress or elapsed time of that build. When you're building using remote agents this may indicate that the messages sent from the agents back to Bamboo were not processed yet (agents are responsible for keeping Bamboo updated about the progress of the builds they're running) and\u00a0it doesn't necessarily mean it's spending time updating or checking out source code.\r\nh3. Suggested Solution\r\n\r\nUpdate this message to be more accurate. A few suggestions:\r\n{quote}Waiting for status update from the agent\r\n{quote}\r\n{quote}Progress unknown. Bamboo has not yet processed the status of this job sent by the agent\r\n{quote}\r\n{quote}Build status update from the agent has not yet been processed by Bamboo\r\n{quote}",
      "summary": "Change the \"Updating source code to latest\" message"
    }
  },
  {
    "key": "BAM-21321",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T12:52:08.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen creating a plan, by default Bamboo will have *Agent environment* selected as the preferred environment to run the job.\r\n\r\nThere are customers that would prefer to have *Docker container* selected by default as that is their most used option.\r\n\r\nh3. Suggested Solution\r\n\r\nHave the option to choose the default selection at global, project or selection of plans level.\r\n\r\nh3. Workaround\r\n\r\nNo workaround.",
      "summary": "Change default running environment to Docker container instead of Agent environment"
    }
  },
  {
    "key": "BAM-21320",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:37:56.000+0000",
      "created": "2021-05-05T11:21:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using Yaml Sepcs, Bamboo will duplicate artifacts if the destination path is different than root.\r\nh3. Steps to Reproduce\r\n\r\nFor this example, my artifact will contain one file, \"file.txt\".\r\n # Create a plan with two jobs, Job1 and Job2, in two different stages (Stage1 contains Job1, Stage2 contains Job2).\r\n # Job1 will generate an artifact.\r\n # Job2 will have an \"Artifact Download task\". In the destination path, input something. For example: \"client/dist\".\r\n # Export this plan as Yaml Specs and import it, for it to become a Specs plan.\r\n (i) Alternatively, create this Specs plan from scratch using YAML, as long as it follows the conditions stated above.\r\n\r\nFinally, run the plan.\r\nh3. Expected Results\r\n\r\nIn Job2, the artifact will be present under \"client/dist\"\r\nh3. Actual Results\r\n\r\nIn the build directory, the artifact will be present in the root folder and under \"client/dist\".\r\nh3. Workaround\r\n\r\nWorkaround 1:\r\n As a workaround, a script task can be created just after the artifact download to delete the duplicates.\r\n\r\nWorkaround 2:\r\n Download the artifact in the root location, and have a script task that moves those files into the desired location.",
      "summary": "When using Yaml Specs, Bamboo will duplicate artifacts if the destination path is different than root"
    }
  },
  {
    "key": "BAM-21319",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:38:03.000+0000",
      "created": "2021-05-04T12:43:29.000+0000",
      "description": "The default selection during installation should default to External DB.  Currently the default is Embedded.   Here are some reasons why External should be default:\r\n# The installer has already chosen custom.\r\n# If clicking wrong button, Embedded has not resource.  Clicking back and choosing another option does not work.\r\n# If clicking wrong button on External, there are more options and moving back works.\r\n# Discourages use of Embedded.",
      "summary": "Install Default choice to External DB "
    }
  },
  {
    "key": "BAM-21318",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T12:49:28.000+0000",
      "description": "Actually agents can only be administrated by Bamboo administrators. We need permission levels to\r\n * enabled or disable an agent\r\n * dedicate an agent to a project/plan/job (where the user has permission to edit).\r\n\r\nand optionally\r\n * change an agents name.",
      "summary": "Give more granular permissions on agents"
    }
  },
  {
    "key": "BAM-21317",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T09:54:36.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPlan branches break after a YAML Specs publish.\r\nh3. Steps to Reproduce\r\n # Create a Linked repository with your personal code. We'll call this linked repository \"InnerRepo\".\r\n # Create a build plan and configure InnerRepo in the build plan.\r\n # Export the plan to Yaml Specs.\r\n # Create a new repository in Bitbucket and host this Yaml export. We'll call this repository YamlRepo.\r\n # Create a branch in InnerRepo.\r\n # Create (in some way) a plan branch that points to the new branch.\r\n # Make a change in the Yaml file and publish the changes through Specs/RSS.\r\n\r\nh3. Expected Results\r\n\r\nThe plan branch will continue pointing to the repository branch.\r\nh3. Actual Results\r\n\r\nThe branch plan will point to master (or to the default branch that InnerRepo was configured to use).\r\n\r\nh3. Notes\r\nBamboo suffers from two limitations in the process:\r\n\r\nh6. Yaml Export\r\nWhen a YAML export is made, Bamboo doesn't explicitly mention InnerRepo in the checkout task. This means that, when imported, Bamboo will use YamlRepo instead, thus breaking the pipeline. \r\n\r\nh6. Order in repositories. \r\nIf InnerRepo is explicitly mentioned, upon Specs publishing Bamboo will create both YamlRepo and InnerRepo, but YamlRepo will be first in the list (main repository). Thus the plan branching schema will use YamlRepo. This will break the pipeline too.\r\n\r\n\r\nh3. Workaround\r\n\r\nMerge YamlRepo and InnerRepo into one repository would make this feature work properly.\r\n\r\n(i) Yaml configuration will diverge too, so if the Yaml file is updated on master, then those changes will need to be propagated accordingly.",
      "summary": "Plan branches break after a YAML Specs publish"
    }
  },
  {
    "key": "BAM-21316",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T15:23:56.000+0000",
      "description": "h3. Problem Definition\r\n\r\nOur current Bamboo cookies documentation does not state which cookies are considered secure and which are not. It'd be useful to have this information available as our current [existing documentation|https://confluence.atlassian.com/bamboo/bamboo-cookies-289277198.html] does not specify that.\r\n\r\nh3. Suggested Solution\r\n\r\nUpdate our docs to reflect that information.",
      "summary": "Improve our Bamboo cookies documentation"
    }
  },
  {
    "key": "BAM-21315",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-29T14:00:57.000+0000",
      "description": "h3. Issue description\r\nCurrently, conditional tasks only have one condition that can be evaluated. Allowing the user to combine conditions would be very useful.\r\n\r\nh3. Suggestion\r\nAllow for multiple conditions, with AND/OR clauses\r\n\r\n",
      "summary": "Allow conditional task to use multiple variables "
    }
  },
  {
    "key": "BAM-21314",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-05T21:51:16.000+0000",
      "created": "2021-04-28T14:07:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIt may happen that Bamboo saves the same tag with the same revision over and over again to vcs_table. This results in execution of the same build for the same tag.\r\nh3. Steps to Reproduce\r\n\r\nI was unable to reproduce, though there were a couple of confirmed cases.\r\nh3. Expected Results\r\n\r\nOnce tag is saved into database it should not be saved again with the same revision\r\nh3. Actual Results\r\n\r\nBamboo saves tag with the same name and revision all over again and keeps building the same tag.\r\nh3. Workaround\r\n\r\nFlushing vcs_tag table generally helps.",
      "summary": "Tag trigger: same tag and revision can be written to vcs_tag table"
    }
  },
  {
    "key": "BAM-21313",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-28T09:47:46.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAt the moment it's not possible to enable or disable a task, job or plan using YAML Specs.\r\nh3. Suggested Solution\r\n\r\nAdd an option to enable and disable a task, job or plan via YAML specs.\r\nh3. Workaround\r\n\r\nThere is no workaround other than remove the task, job or plan in order to \"disable\" it and re-add it to enable it.",
      "summary": "Add option to enabe and disable task, jobs and plans using YAML Specs"
    }
  },
  {
    "key": "BAM-21312",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-06T21:13:30.000+0000",
      "created": "2021-04-28T08:27:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIt's possible to break Bamboo UX by adding invalid shared credentials to the database.\r\nh3. Steps to Reproduce\r\n # Create a specs with shared credentials in them.\r\n # Encrypt the value in specs using cipher from another Bamboo server\r\n # Run the specs import using REST import\r\n\r\nh3. Expected Results\r\n\r\nInvalid credentials are rejected\r\nh3. Actual Results\r\n\r\nCredentials are accepted and added to the DB. Later many pages (including plan create & edit) are broken with an exception like this:\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\njava.lang.RuntimeException: org.bouncycastle.crypto.InvalidCipherTextException: pad block corrupted\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:241)\r\n\tat com.atlassian.bamboo.crypto.instance.SecretEncryptionServiceInternalImpl.decrypt(SecretEncryptionServiceInternalImpl.java:133)\r\n\tat com.atlassian.bamboo.crypto.instance.SecretEncryptionServiceInternalImpl.decrypt(SecretEncryptionServiceInternalImpl.java:103)\r\n\tat sun.reflect.GeneratedMethodAccessor335.invoke(Unknown Source)\r\n{noformat}\r\nh3. Workaround\r\n\r\nRun Bamboo with\r\n -Dbamboo.security.decryption.ignore.errors=true\r\n and fix/remove offending data.",
      "summary": "Bamboo doesn't validate encryption of shared credentials on specs import"
    }
  },
  {
    "key": "BAM-21311",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T13:02:55.000+0000",
      "description": "Hello,\r\n\r\nOur number of CI plans and Jobs is heavily increasing, so I am thinking about a solution how to save build time.\r\n\r\nWe have multiple CI Jobs, which run for any pull request. E.g. we have in a repository 7 subprojects which are closely related to each other [any change may affect any of the 7 subprojects] (each subproject is represented as one Bamboo plan). Each plan is build release/debug for 7 platforms = 14 jobs. This means, that all in all 98 jobs must run.\u00a0\r\n\r\nWe could manage all jobs of a plan in stages, which would help to decrease the number of started jobs in case of early failures. But by this the build time will increasy very much (since no jobs are running in parallel anymore).\r\n\r\nI would welcome a feature of Bamboo, that we can enable some jobs of a plan only if the\u00a0 same job is failing for the target branch of the pull-request (e.g. develop).\r\n\r\nBy this we would be able to have a clean develop branch (almost) all the time: After a breaking change the next PR must fix it - since the job is activated for all subsequent pull requests. Otherwise the build fails (and the merge is blocked until the job is passing).\r\n\r\n\u00a0\r\n\r\nBest Regards,\r\n\r\nThorsten",
      "summary": "Conditionally run jobs for plans"
    }
  },
  {
    "key": "BAM-21310",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T01:50:33.000+0000",
      "description": "h3. Summary\r\nBamboo on PostgreSQL currently does not support multiple schemas, causing errors such as:\r\n{noformat}\r\nERROR: relation \"index_ao_7a45fb_aot1861572280\" already exist\r\n{noformat}\r\n\r\nh3. Reproduce\r\n# Create a Bamboo database and populate it with data & build result \r\n# Assign responsibility for a build failure\r\n# Stop Bamboo and create a database backup of it E.g.\r\n{code}pg_dump -d schematest -h localhost -U bamboo --password > dbbackup.dmp\r\n{code}\r\n# Create two new schemas in {{schematest}}:\r\n{code}\r\nCREATE SCHEMA schema1;\r\nCREATE SCHEMA schema2;\r\n{code}\r\n# Open the dump file and replace all references of {{public.}} with {{schema1.}}\r\n# Restore it\r\n{code}\r\npsql -h localhost --user bamboo --password -d schematest < dbbackup.dmp\r\n{code}\r\n# Open the dump file and replace all references of {{public.}} (or {{schema1.}} if you overwrote the first dump) with {{schema2.}} \r\n# Restore it\r\n{code}\r\npsql -h localhost --user bamboo --password -d schematest < dbbackup.dmp\r\n{code}\r\n# Change connection string in {{$BAMBOO_HOME/bamboo.cfg.xml}} to use {{schema1}}:\r\n{code}\r\n    <property name=\"hibernate.connection.url\">jdbc:postgresql://localhost:5432/schematest?currentSchema=schema1</property>\r\n{code}\r\n# Start Bamboo and open the build result\r\n# Errors:\r\n{noformat}\r\n2021-03-22 18:02:50,000 WARN [active-objects-init-compatibility-tenant-0] [TenantAwareActiveObjects] bundle [com.atlassian.bamboo.plugins.brokenbuildtracker.atlassian-bamboo-plugin-brokenbuildtracker] failed to create ActiveObjects\r\ncom.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:\r\nDatabase:\r\n\t- name:PostgreSQL\r\n\t- version:11.11 (Ubuntu 11.11-1.pgdg20.04+1)\r\n\t- minor version:11\r\n\t- major version:11\r\nDriver:\r\n\t- name:PostgreSQL JDBC Driver\r\n\t- version:42.2.14\r\n\r\norg.postgresql.util.PSQLException: ERROR: relation \"index_ao_7a45fb_aot1861572280\" already exists\r\n\tat com.atlassian.activeobjects.internal.EntityManagedActiveObjects.migrate(EntityManagedActiveObjects.java:53)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory$1.doInTransaction(AbstractActiveObjectsFactory.java:77)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory$1.doInTransaction(AbstractActiveObjectsFactory.java:72)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.lambda$doInTransaction$0(SpringHostContextAccessor.java:70)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy426.doInTransaction(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy774.doInTransaction(Unknown Source)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy954.execute(Unknown Source)\r\n\tat com.atlassian.activeobjects.internal.AbstractActiveObjectsFactory.create(AbstractActiveObjectsFactory.java:72)\r\n\tat com.atlassian.activeobjects.internal.DelegatingActiveObjectsFactory.create(DelegatingActiveObjectsFactory.java:32)\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:102)\r\n\tat com.atlassian.activeobjects.osgi.TenantAwareActiveObjects$1$1$1.call(TenantAwareActiveObjects.java:97)\r\n\tat com.atlassian.sal.core.executor.ThreadLocalDelegateCallable.call(ThreadLocalDelegateCallable.java:38)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \"index_ao_7a45fb_aot1861572280\" already exists\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)\r\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:247)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeUpdate(ProxyStatement.java:120)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.executeUpdate(HikariProxyStatement.java)\r\n\tat net.java.ao.DatabaseProvider.executeUpdate(DatabaseProvider.java:2245)\r\n\tat net.java.ao.DatabaseProvider.executeUpdateForAction(DatabaseProvider.java:2301)\r\n\tat net.java.ao.DatabaseProvider.executeUpdatesForActions(DatabaseProvider.java:2273)\r\n\tat net.java.ao.schema.SchemaGenerator.migrate(SchemaGenerator.java:91)\r\n\tat net.java.ao.EntityManager.migrate(EntityManager.java:128)\r\n\tat com.atlassian.activeobjects.internal.EntityManagedActiveObjects.migrate(EntityManagedActiveObjects.java:51)\r\n\t... 64 more\r\n{noformat}\r\n#* It does this on both startup and opening build result\r\n\r\nh3. Suggestion\r\nCreate support for multiple schemas in PostgreSQL",
      "summary": "Support for multiple schemas in PSQL"
    }
  },
  {
    "key": "BAM-21309",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-23T14:43:14.000+0000",
      "description": "h3. Issue description\r\nConditional tasks do not allow for matching to result of a variable expansion. The match is done as plain text.\r\n\r\nh4. Example\r\n# Create a build variable called TEST_BRANCH\r\n# Add condition to plan:\r\nVariable {{planRepository.branch}} equals {{$\\{bamboo.TEST_BRANCH}}}\r\n# Save\r\n\r\nh3. Suggestion\r\nAllow variable expansion for task conditions\r\n\r\nh3. Workaround\r\nYou can effectively add these conditions by using a Script task instead of the conditional task:\r\n{code:sh|title=Shell}\r\n# only run git commands on specific \"test branch\"\r\nif [[ ${bamboo.planRepository.branch} -eq ${bamboo.TEST_BRANCH} ]]; then\r\n  # git commands\r\nelse\r\n echo \"Skipping, condition not met\";\r\nfi\r\n{code}\r\n{code:sh|title=Powershell}\r\n# only run git commands on specific \"test branch\"\r\nif ($bamboo_planRepository_branch -eq $bamboo_TEST_BRANCH) {\r\n  # git commands\r\n} else {\r\n  write-host \"Skipping, condition not met\"\r\n}\r\n{code}",
      "summary": "Allow expanded variables for task conditions"
    }
  },
  {
    "key": "BAM-21308",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T23:45:55.000+0000",
      "description": "h3. Problem Definition\r\nCurrently there's support for Elastic Agents images for Windows and Linux\r\nh3. Suggested Solution\r\nAdd support for MacOs\r\nh4. Why this is important \r\nAWS now supports Mac instances\r\nhttps://aws.amazon.com/ec2/instance-types/mac/",
      "summary": "Add support for Elastic agent stock image for MacOS"
    }
  },
  {
    "key": "BAM-21307",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T18:20:48.000+0000",
      "description": "h3. Issue Summary\r\nWhen running the Docker agent image, the agent home can't be a bind-mount volume to the host server.\r\n \r\nh3. Steps to Reproduce\r\n # Start an agent with {{docker run}}:\r\n{code:sh}\r\ndocker run -d \\\r\n    --name bambooagent \\\r\n    --init -v /home/ezeidan/dockerdata/bambooagent/:/home/bamboo/bamboo-agent-home \\\r\n     atlassian/bamboo-agent-base http://bambooserver:8085\r\n{code}\r\n # Check {{docker ps}}, {{docker ps -a}} and {{docker logs bambooagent}}\r\n\r\nh3. Expected Results\r\n* {{docker ps}} and {{docker ps -a}} both show the agent running\r\n* {{docker logs bambooagent}} show the standard remote agent setup/install logs\r\n\r\nh3. Actual Results\r\n* {{docker ps}} is empty\r\n{code:sh}\r\n$ docker ps\r\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\r\n{code}\r\n* {{docker ps -a}} shows the agent exited with exit code 1\r\n{code:sh}\r\n$ docker ps -a\r\nCONTAINER ID   IMAGE                         COMMAND                  CREATED         STATUS                     PORTS     NAMES\r\n257be05a4d59   atlassian/bamboo-agent-base   \"./runAgent.sh http:\u2026\"   2 seconds ago   Exited (1) 2 seconds ago             bambooagent\r\n{code}\r\nThe below exception is shown in the {{docker logs bambooagent}} output:\r\n{noformat}\r\ncp: cannot create regular file '/home/bamboo/bamboo-agent-home/bin/bamboo-capabilities.properties': No such file or directory\r\n{noformat}\r\n\r\nh3. Workaround\r\nUse a named volume for the mount.",
      "summary": "Cannot bind host directory to agent home on bamboo-agent-base"
    }
  },
  {
    "key": "BAM-21306",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T17:24:21.000+0000",
      "description": "Provide checksum for available packages on the Bamboo download page so that users can validate the packages after downloading them. \r\n\r\nMany customers require checksum validation as part of security policy.",
      "summary": "Provide Checksum on Download Page for Package Validation. "
    }
  },
  {
    "key": "BAM-21305",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:34:29.000+0000",
      "created": "2021-04-22T17:19:36.000+0000",
      "description": "h3. Issue Summary\r\nThere appears to be a race condition between the deletion process and adding a new job with the same name using Bamboo Specs.\r\nThis results in issues reading from the plan cache causing NullPointerExceptions throughout the application. E.g. on Bamboo dashboards such as {{myBamboo.action}} and {{allPlans.action}}\r\n\r\nh3. Steps to Reproduce\r\nThis can be performed with manual specs updates (doesn't have to be repository stored specs):\r\n# Push a Specs plan with two jobs and add a few plan branches. E.g.\r\n{noformat}\r\n                        new Job(\"JOB2\",\r\n                            new BambooKey(\"JOB2\"))\r\n                            .tasks(new VcsCheckoutTask()\r\n                                    .description(\"Checkout Default Repository\")\r\n                                    .checkoutItems(new CheckoutItem().defaultRepository())),\r\n                        new Job(\"JOB1\",\r\n                            new BambooKey(\"JOB1\"))\r\n                            .tasks(new VcsCheckoutTask()\r\n                                    .description(\"Checkout Default Repository\")\r\n                                    .checkoutItems(new CheckoutItem().defaultRepository())),\r\n{noformat}\r\n# These next steps should be performed in quick succession so they occur before the deletion service runs, given it is a race condition, the timing may not always work.\r\n# Push an update that \"renames\" one of the jobs\"\r\n{noformat}\r\n                        new Job(\"JOB22\",\r\n                            new BambooKey(\"JOB22\"))\r\n                            .tasks(new VcsCheckoutTask()\r\n                                    .description(\"Checkout Default Repository\")\r\n                                    .checkoutItems(new CheckoutItem().defaultRepository())),\r\n{noformat}\r\n# Now push another update that tries to revert the above:\r\n{noformat}\r\n                        new Job(\"JOB2\",\r\n                            new BambooKey(\"JOB2\"))\r\n                            .tasks(new VcsCheckoutTask()\r\n                                    .description(\"Checkout Default Repository\")\r\n                                    .checkoutItems(new CheckoutItem().defaultRepository())),\r\n{noformat}\r\n# It will fail with *NoSuchElementException*\r\n# Push another update that tries to go back to create the new job again and it should fail with a NullPointerException if all steps occurred before the deletion service ran\r\n{noformat}\r\n                        new Job(\"JOB22\",\r\n                            new BambooKey(\"JOB22\"))\r\n                            .tasks(new VcsCheckoutTask()\r\n                                    .description(\"Checkout Default Repository\")\r\n                                    .checkoutItems(new CheckoutItem().defaultRepository())),\r\n{noformat}\r\n\r\n\r\n\r\n\r\nh3. Expected Results\r\nNo errors and job updates/changes occur as per the pushed specs.\r\n\r\nh3. Actual Results\r\nCertain UI pages such as {{myBamboo.action}} and {{allPlans.action}} will have an Internal Server Error (500 / FiveOhOh) with the following NullPointerException:\r\n{noformat}\r\n2021-07-12 09:01:08,088 ERROR [http-nio-8085-exec-129] [ExceptionMappingInterceptor] java.lang.NullPointerException\r\njava.lang.RuntimeException: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:129)\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.runTask(RetryingTaskExecutor.java:99)\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.retry(RetryingTaskExecutor.java:207)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl$1.load(ImmutablePlanCacheServiceImpl.java:131)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl$1.load(ImmutablePlanCacheServiceImpl.java:105)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3528)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2277)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2154)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2044)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3952)\r\n\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974)\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4958)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.get(AlwaysInvalidatingCacheDecorator.java:65)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.getUnchecked(AlwaysInvalidatingCacheDecorator.java:126)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl.internalGetPlanByKey(ImmutablePlanCacheServiceImpl.java:498)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl.lambda$internalGetAllChainsStream$13(ImmutablePlanCacheServiceImpl.java:603)\r\n...\r\n\tat com.sun.proxy.$Proxy162.getAllProjectsWithPlan(Unknown Source)\r\n\tat com.atlassian.bamboo.webwork.StarterAction.getPlansWithCheckProjectPermissionFirst(StarterAction.java:608)\r\n\tat com.atlassian.bamboo.webwork.StarterAction.getPlans(StarterAction.java:244)\r\n\tat com.atlassian.bamboo.webwork.StarterAction.start(StarterAction.java:155)\r\n...\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.plan.cache.ImmutableJobImpl.<init>(ImmutableJobImpl.java:94)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanManagerImpl.createImmutableJob(ImmutablePlanManagerImpl.java:206)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanManagerImpl.createImmutableJob(ImmutablePlanManagerImpl.java:162)\r\n...\r\n\tat com.sun.proxy.$Proxy263.createImmutableJob(Unknown Source)\r\n\tat com.atlassian.bamboo.chains.cache.ImmutableChainStageImpl.<init>(ImmutableChainStageImpl.java:57)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanManagerImpl.createImmutableStage(ImmutablePlanManagerImpl.java:216)\r\n{noformat}\r\n\r\nSpecs imports that re-create the deleted jobs may fail with the below until the deletion service runs:\r\n{noformat}\r\n2021-07-12 08:45:45,239 ERROR [http-nio-8085-exec-69] [BambooPlanConfigImportResource] Unexpected exception while importing plan:\r\njava.util.NoSuchElementException: No value present\r\n\tat java.util.Optional.get(Optional.java:135)\r\n\tat com.atlassian.bamboo.configuration.external.helpers.JobImportHelper.findJobByKeyExpectingSuccess(JobImportHelper.java:21)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.createAndUpdateArtifactDefinitions(PlanConfigImportServiceImpl.java:1385)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.createAndUpdateArtifactDefinitions(PlanConfigImportServiceImpl.java:1378)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.lambda$modifyTopLevelPlanFunction$2(PlanConfigImportServiceImpl.java:562)\r\n\tat com.atlassian.bamboo.core.ScopedExclusionServiceImpl.tryWithLock(ScopedExclusionServiceImpl.java:74)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.modifyExistingTopLevelPlan(PlanConfigImportServiceImpl.java:454)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.lambda$importPlan$0(PlanConfigImportServiceImpl.java:419)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:28)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.importPlan(PlanConfigImportServiceImpl.java:398)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.importPlan(PlanConfigImportServiceImpl.java:382)\r\n...\r\n\tat com.sun.proxy.$Proxy1046.importPlan(Unknown Source)\r\n\tat com.atlassian.bamboo.plugins.rest.configuration.external.BambooPlanConfigImportResource.importPlan(BambooPlanConfigImportResource.java:117)\r\n{noformat}\r\n\r\nOnce the deletion service runs, subsequent Specs import will fail with a similar NullPointerException as the UI is displaying:\r\n{noformat}\r\n2021-07-13 06:27:56,019 ERROR [http-nio-8085-exec-13] [BambooPlanConfigImportResource] Unexpected exception while importing plan:\r\nio.atlassian.util.concurrent.LazyReference$InitializationException: java.lang.RuntimeException: java.lang.NullPointerException\r\n\tat io.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:156)\r\n\tat io.atlassian.util.concurrent.LazyReference.get(LazyReference.java:116)\r\n\tat com.atlassian.bamboo.plan.branch.ImmutableChainPropagatingFacade.removeSchedulingJobs(ImmutableChainPropagatingFacade.java:37)\r\n\tat com.atlassian.bamboo.schedule.DefaultPlanScheduler.lambda$removeTasksScheduledForPlanAndBranches$2(DefaultPlanScheduler.java:74)\r\n\tat io.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:302)\r\n\tat com.atlassian.bamboo.schedule.DefaultPlanScheduler.removeTasksScheduledForPlanAndBranches(DefaultPlanScheduler.java:73)\r\n\tat com.atlassian.bamboo.schedule.DefaultPlanScheduler.removeAllScheduledJobs(DefaultPlanScheduler.java:140)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.lambda$modifyTopLevelPlanFunction$2(PlanConfigImportServiceImpl.java:512)\r\n\tat com.atlassian.bamboo.core.ScopedExclusionServiceImpl.tryWithLock(ScopedExclusionServiceImpl.java:74)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.modifyExistingTopLevelPlan(PlanConfigImportServiceImpl.java:454)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.lambda$importPlan$0(PlanConfigImportServiceImpl.java:419)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:28)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.importPlan(PlanConfigImportServiceImpl.java:398)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.importPlan(PlanConfigImportServiceImpl.java:382)\r\n\tat sun.reflect.GeneratedMethodAccessor1467.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n...\r\n\tat com.sun.proxy.$Proxy1134.importPlan(Unknown Source)\r\n\tat com.atlassian.bamboo.plugins.rest.configuration.external.BambooPlanConfigImportResource.importPlan(BambooPlanConfigImportResource.java:117)\r\n...\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:129)\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.runTask(RetryingTaskExecutor.java:99)\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.retry(RetryingTaskExecutor.java:207)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl$1.load(ImmutablePlanCacheServiceImpl.java:131)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl$1.load(ImmutablePlanCacheServiceImpl.java:105)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3528)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2277)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2154)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2044)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3952)\r\n\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974)\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4958)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.get(AlwaysInvalidatingCacheDecorator.java:65)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.getUnchecked(AlwaysInvalidatingCacheDecorator.java:126)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl.internalGetPlanByKey(ImmutablePlanCacheServiceImpl.java:498)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl.getImmutablePlanByKey(ImmutablePlanCacheServiceImpl.java:233)\r\n\tat sun.reflect.GeneratedMethodAccessor338.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\n\tat com.sun.proxy.$Proxy160.getImmutablePlanByKey(Unknown Source)\r\n\tat com.atlassian.bamboo.plan.cache.CachedPlanManagerImpl.lambda$toChains$11(CachedPlanManagerImpl.java:330)\r\n...\r\n\tat com.atlassian.bamboo.plan.branch.ImmutableChainPropagatingFacade$1.get(ImmutableChainPropagatingFacade.java:21)\r\n\tat com.atlassian.bamboo.plan.branch.ImmutableChainPropagatingFacade$1.get(ImmutableChainPropagatingFacade.java:18)\r\n\tat io.atlassian.util.concurrent.Lazy$Strong.create(Lazy.java:98)\r\n\tat io.atlassian.util.concurrent.LazyReference$Sync.run(LazyReference.java:332)\r\n\tat io.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:150)\r\n\t... 251 more\r\nCaused by: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.plan.cache.ImmutableJobImpl.<init>(ImmutableJobImpl.java:94)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanManagerImpl.createImmutableJob(ImmutablePlanManagerImpl.java:206)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanManagerImpl.createImmutableJob(ImmutablePlanManagerImpl.java:162)\r\n...\r\n\tat com.sun.proxy.$Proxy263.getPlanByKey(Unknown Source)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl$1.lambda$load$0(ImmutablePlanCacheServiceImpl.java:121)\r\n\tat com.atlassian.bamboo.utils.BambooCallables.callUnchecked(BambooCallables.java:33)\r\n\tat com.atlassian.bamboo.plan.cache.CacheLoadContextSupport.lambda$load$1(CacheLoadContextSupport.java:76)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.plan.cache.CacheLoadContextSupport.load(CacheLoadContextSupport.java:74)\r\n\tat com.atlassian.bamboo.plan.cache.ImmutablePlanCacheServiceImpl$1.lambda$load$1(ImmutablePlanCacheServiceImpl.java:127)\r\n\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:112)\r\n\t... 304 more\r\n{noformat}\r\n\r\n(!) Other operations that use the plan cache will also fail with *NullPointerExceptions* in the same lines of code.\r\n\r\nBamboo tries to add the job, resulting in a database error in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n2021-04-21 10:51:34,163 WARN [16-BAM::SpecsDetection:pool-24-thread-4] [AllTypesSpecsImporter] \r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into BUILD (CREATED_DATE, UPDATED_DATE, FULL_KEY, BUILDKEY, TITLE, DESCRIPTION, SUSPENDED_FROM_BUILDING, MARKED_FOR_DELETION, OID, PROJECT_ID, MASTER_ID, REQUIREMENT_SET, STAGE_ID, BUILD_TYPE, BUILD_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'JOB', ?)]; constraint [uk_n3cbpttuc3dd9kx0cao3xobgj]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:247)\r\n\t... (truncated)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n\t... (truncated)\r\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into BUILD (CREATED_DATE, UPDATED_DATE, FULL_KEY, BUILDKEY, TITLE, DESCRIPTION, SUSPENDED_FROM_BUILDING, MARKED_FOR_DELETION, OID, PROJECT_ID, MASTER_ID, REQUIREMENT_SET, STAGE_ID, BUILD_TYPE, BUILD_ID) values (NULL, NULL, 'PROJ-PLAN-JOB', 'JOB', 'Job', '', 'FALSE', 'FALSE', 835009592156789765, 111111, NULL, 1004688778, 1004512345, 'JOB', 10040932341) was aborted: ERROR: duplicate key value violates unique constraint \"uk_n3cbpttuc3dd9kx0cao3xobgj\"\r\n  Detail: Key (full_key)=(PROJ-PLAN-JOB) already exists.  Call getNextException to see other errors in the batch.\r\n\tat org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:159)\r\n\t... (truncated)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"uk_n3cbpttuc3dd9kx0cao3xobgj\"\r\n  Detail: Key (full_key)=(PROJ-PLAN-JOB) already exists.\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\r\n\t... (truncated)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nOnce Bamboo is encountering the NullPointerExceptions, Bamboo must be restarted to recover the cache state and stop the errors.\r\n\r\nAs a workaround to avoid the problem from occurring, all that can be done is to allow a few minutes between performing Specs pushes/committing to the repository to cause a Specs update when deleting/renaming/recreating jobs.",
      "summary": "Race condition when deleting/adding jobs in a single Bamboo Specs run causes NullPointerException in plan cache operations and UI/dashboard"
    }
  },
  {
    "key": "BAM-21304",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-22T15:34:06.000+0000",
      "description": "h3. Problem Definition\r\n\r\nBamboo startup might take several minutes to complete due to the plan cache initialization process. This process runs with an X number of threads where X equals the number of available processors. You can identify the number of threads it's using by searching for the following information in the logs:\r\n{noformat:title=atlassian-bamboo.log}\r\n2021-04-19 16:48:12,802 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Plan cache initialising...\r\n2021-04-19 16:48:12,802 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Plan cache is being enabled\r\n2021-04-19 16:48:12,806 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Initialising plan cache with 16 threads.\r\n{noformat}\r\nThe fact this process is using several threads helps but may not be enough to have it complete in a timely fashion. This may still take several minutes to complete despite using multiple threads.\r\nh3. Suggested Solution\r\n\r\nThe plan cache initialization process is a database-heavy process. It fetches all of the plans inside the database and load them into cache. This is necessary to ensure Bamboo starts functioning properly and is capable of triggering builds, and etc. This is why the process must finish before the application is up & running. This isn't entirely necessary for plans that have been disabled, or that don't have any triggers, for example.\r\n\r\nIs it possible to enhance this process so that we only try to load plans that are really necessary into cache in an attempt to reduce the amount of time spent on startup and resources that are needed to initialize the cache?",
      "summary": "Improve plan cache initialization process during Bamboo startup"
    }
  },
  {
    "key": "BAM-21303",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-26T11:18:50.000+0000",
      "created": "2021-04-20T09:41:04.000+0000",
      "description": "Hello,\r\n\r\nIn our build system we have parallel builds in one stage and then parallel testing in another stage. We are migrating to yaml specs and now it is not possible to separate artifacts which should be downloaded to appropriate test, so I need to delete all downloaded artifacts and then download again only required artifact.\r\n\r\nPlease make it possible to select which artifact and to which location selected artifact(s) should be downloaded.\r\n\r\n\u00a0\r\n\r\nRelated issues: BAM-21269 and BAM-20830",
      "summary": "Allow artifact dependency customization with YAML specs"
    }
  },
  {
    "key": "BAM-21302",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-20T07:47:54.000+0000",
      "description": "Currently, the JUnit parser ignores the system-error and system-out elements of a JUnit test case; these data can be essential in finding the source of a test failure, but since they are disregarded by the Bamboo JUnit test parser, one must run the tests again in a local (or rival CI) environment to get the full test output. \r\nThis change to add the system-error and system-out elements to test output would be easy and quick and provide a big improvement in the test results viewer.",
      "summary": "Display system-error/system-out elements when viewing a JUnit test case"
    }
  },
  {
    "key": "BAM-21301",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-20T06:45:32.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, Bamboo does not track in any audit log the creation or deletion of releases, or the creation or deletion of historical deployment records.\r\n\r\nHaving this information can be important when running audits.\r\n\r\nh3. Suggested Solution\r\n\r\nExtend the deployment audit log to include these.\r\n\r\nh3. Workaround\r\n\r\nIf database logs are kept, a possible workaround would be to look at your database logs and look for delete statements on tables _deployment\\_result_ (historical records) or _deployment\\_version_ (releases).",
      "summary": "Extend deployment audit log to track created/deleted releases and historical deployment records"
    }
  },
  {
    "key": "BAM-21300",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-19T16:39:03.000+0000",
      "description": "h3. Issue Description\r\nCurrently, there is no way to retrieve schedules (cron expressions) using a REST API. We can use the Admin REST API {{/rest/admin/latest/scheduler/jobs}} endpoint to get the next scheduled run, but not the configuration.\r\n\r\nh3. Suggestions\r\n* Expand the Admin API endpoint to add {{/rest/admin/latest/scheduler/jobs}} with the cron (or prettified cron) expression\r\n* Add an {{expand}} parameter to include the cron\r\n* Add cron expression to {{/rest/admin/latest/scheduler/jobs}} endpoint\r\n\r\nh3. Workaround\r\nThe details can be retrieved from the database and filesystem. For example:\r\nh4. Database\r\n(i) SQL queries below use PostgreSQL syntax. XML expressions may use different functions depending on the database type.\r\nh5. Builds\r\n{code:sql}\r\nselect b.full_key, \r\nunnest(xpath('//triggers/triggerDefinition', bd.xml_definition_data::xml)) \r\nfrom build b \r\njoin  build_definition bd \r\n  on (b.build_id = bd.build_id) \r\nwhere b.build_type in ('CHAIN', 'CHAIN_BRANCH');\r\n{code}\r\nThere are more queries to get specific trigger types linked to the following article. The article shows 5.x versions, but I can confirm that the queries work up to and including the current version (7.2.3).\r\n* [How do I work with Triggering builds \\- Bamboo \\- Atlassian Documentation|https://confluence.atlassian.com/bamkb/how-do-i-work-with-triggering-builds-829064724.html]\r\n\r\nh5. Deployments\r\n{code:sql}\r\nselect dp.name, \r\nde.name, \r\nunnest(xpath('//triggerDefinition/pluginKey[text()=\"com.atlassian.bamboo.triggers.atlassian-bamboo-triggers:schedule\"]/../config/item/key[text()=\"repository.change.schedule.cronExpression\"]/../value/text()', triggers_xml_data::xml)) as schedule \r\nfrom deployment_project dp \r\njoin deployment_environment de \r\n  on (dp.deployment_project_id = de.package_definition_id);\r\n{code}\r\n\r\nh4. {{administration.xml}}\r\nh5. Expiry\r\nThe Expiry schedule is defined in the following file:\r\n{noformat}<bamboo-home>/xml-data/configuration/administration.xml{noformat}\r\nYou can retrieve the cron schedule with the following:\r\n{code:sh}\r\n# may need to install `xmllint` to your server\r\n# apt-get install libxml2-utils\r\nxmllint --xpath '//myBuildExpiryConfiguration/cronExpression/text()' <bamboo-home>/xml-data/configuration/administration.xml\r\n{code}\r\n\r\nh5. Branch detection\r\nThe Branch Detection interval is also defined in {{administration.xml}}.\r\nYou can retrieve the interval, in seconds, with the following:\r\n{code:sh}\r\nxmllint --xpath '//branchDetectionCheckInterval/text()' <bamboo-home>/xml-data/configuration/administration.xml\r\n{code}",
      "summary": "Add API to find job schedules"
    }
  },
  {
    "key": "BAM-21299",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T23:34:31.000+0000",
      "description": "Issue\u00a0BAM-19620 created the ability to allow build plans to have different steps for repository stored specs.\u00a0 This is great - as our system changes and new components are introduced, old ones are removed, the build can update as it goes.\r\n\r\nHowever, as noted in [the documentation|https://confluence.atlassian.com/bamboo/working-with-branch-divergence-994314811.html], \"Branch divergence is not available for deployment projects. Bamboo ignores any Bamboo Specs on deployment projects in divergent branches.\"\r\n\r\nSo, as we go along, we update BuildSpecs.java in the relevant branches and things are fine.\u00a0 Need to change a deployment?\u00a0 Now you instead have to jump over to the master branch and make changes there.\u00a0 Your new branch/version has different requirements / steps than the old one?\u00a0 Sorry, you'll have to make your deployment convoluted in order to handle all possible combinations at once.\r\n\r\nThe exact same reasons that made it a good idea for build plans should make it a good idea for deployment plans as well.",
      "summary": "Bamboo should support divergent deployment branches"
    }
  },
  {
    "key": "BAM-21298",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-26T12:15:00.000+0000",
      "created": "2021-04-15T23:22:39.000+0000",
      "description": "h3. Issue Summary\r\nOccasionally, the deployment plan appears to be misconfigured, the UI shows that shared artifacts in the build plan are missing, and artifacts can't be downloaded in Deployment task.\r\n\r\nh3. Steps to Reproduce\r\nUnable, it appears random\r\n\r\nh3. Expected Results\r\nDeployment runs and succeeds as expected.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the deployment log:\r\n{noformat}\r\nUnable to download artifact Shared artifact: [artifact-name], pattern: [copy-pattern] anchored at: [location]\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\n* If the Deployment is managed in the UI:\r\nRe-save the Deployment tasks using the affected artifact(s)\r\n\r\n* If the Deployment is managed with Bamboo Specs:\r\nEdit the Deployment's Spec to update the tasks for that Deployment environment",
      "summary": "Shared artifact sometimes becomes unable to download to a Deployment"
    }
  },
  {
    "key": "BAM-21297",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-28T12:14:53.000+0000",
      "created": "2021-04-15T09:58:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUser with admin permissions for the project does not have permissions to view build results of jobs that are no more in specs.\r\nh3. Steps to Reproduce\r\n # Set up a specs repo with a stage having 2 jobs: one and two\r\n # Grant admin permissions for a user called, say, user1\r\n # Wait for the first build to run\r\n # Login with user user1, make sure you can access build logs for both jobs, one and two\r\n # Remove job two from specs. Commit and push changes.\r\n # Wait for the build to finish\r\n # When logged in as user1 try to access build logs of job two of a *previous* build\r\n\r\nh3. Expected Results\r\n\r\nLogs, tests and other build results are accessible\r\nh3. Actual Results\r\n\r\nAccess denied is displayed in UI:\r\n\r\n!image-2021-04-15-12-57-21-407.png!\r\n\r\nThe below error is seen in logs:\r\n{noformat}\r\n2021-04-15 12:47:12,231 WARN [http-nio-8085-exec-8] [PlanAwareInterceptor] Action 'com.atlassian.bamboo.build.ViewBuildResults@23aa093' is plan aware but no plan can be found. PlanKey was 'PLAN-PLANSPECS-OLKJHG'\r\n2021-04-15 12:47:12,274 INFO [http-nio-8085-exec-8] [WebworkAclVoter] Voter(WW_READ, [READ]) voting to deny access to user 'user' - domainObject on com.atlassian.bamboo.build.ViewBuildResults@23aa093 is null\r\n2021-04-15 12:47:12,274 WARN [http-nio-8085-exec-8] [AuthorizationLoggerListener] Authorization failed: org.acegisecurity.AccessDeniedException: Access is denied; authenticated principal: org.acegisecurity.adapters.PrincipalAcegiUserToken@4448ed9b: Username: EmbeddedCrowdUser{name='user', displayName='User Userovich', directoryId=65537}; Password: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER; secure object: com.atlassian.bamboo.build.ViewBuildResults@23aa093; configuration attributes: [WW_READ, GLOBAL_READ]\r\n\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "User with admin permissions for the project does not have permissions to view build results of jobs that are no more in specs"
    }
  },
  {
    "key": "BAM-21296",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T19:57:07.000+0000",
      "description": "h3. Problem Definition\r\nCurrently it is only possible to bulk edit CVS and SVN repositories through the UI.\r\n\r\nh3. Suggested Solution\r\nAdd other repository types to the Bulk edit plans functionality\r\n\r\nh3. Workaround\r\nFor most cases, if you have a linked repository, you can edit the Linked repository and the configuration will propagate. However, for other scenarios, (such as {{Unknown RepositoryDefinition}} errors) you will need to manually edit the plan's repository configuration.",
      "summary": "Bulk edit repositories for Plan"
    }
  },
  {
    "key": "BAM-21295",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-14T19:34:18.000+0000",
      "description": "h3. Issue Summary\r\nEditing \"Broker client URL\" shows error:\r\n* Configuration updated. Broker client URL has been updated - please restart all your agents to apply the change.\r\n\r\nBut new Remote Agents still get the old configuration until Bamboo is restarted.\r\n\r\nh3. Steps to Reproduce\r\n # Install Bamboo\r\n # Change and save a new Broker client URL\r\n # Install a new Remote Agent.\r\n\r\nh3. Expected Results\r\nExpect the Remote Agent to get the new Broker client URL.\r\nOR\r\nWhen you change the Broker client URL the same message is displayed as when changing the Broker URL.\r\nh3. Actual Results\r\nRemote Agent gets the old Broker client URL.\r\n\r\n\r\nh3. Workaround\r\nRestart Bamboo.",
      "summary": "Editing \"Broker client URL\" shows wrong configuration updated warning"
    }
  },
  {
    "key": "BAM-21294",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T19:14:25.000+0000",
      "created": "2021-04-14T06:30:52.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSpecs / divergent plan branches always have Force stop hanging builds (Hung Build Killer) enabled. It cannot be disabled.\r\n\r\nh3. Steps to Reproduce\r\n# Have a bamboo-spec in a repository with {{ignoreHungBuilds()}} enabled for the master plan\r\n# Branch off it while maintaining the {{bamboo-specs}} folder so that it becomes a Specs Branch\r\n\r\nh3. Expected Results\r\nThe specs branch respects / inherits the master plan configuration for things on the Other tab such as Force Stop hanging branches, since these cannot be overridden or even checked in the UI>\r\n\r\nh3. Actual Results\r\nForce stop hanging builds is always enabled for the Specs branch, even if disabled in the spec for the branch or on the master plan.\r\n\r\nThe below can be found in the build log for the build:\r\n{code}\r\nForce Stop build feature is enabled for current plan. Either Bamboo has detected the build has hung or it has been manually stopped.\r\n{code}\r\n\r\n\r\nh3. Workaround\r\n\r\nThe only workaround is to revert the branch to a plan branch rather than a Specs branch. This means that it will execute everything in alignment with the master plan. \r\n\r\n(!) If you require the Specs Branch functionality so that the branch executes differently, this workaround is not suitable. It will also involve deleting the Specs Branch from Bamboo, so history will be lost.\r\n\r\n# Delete the plan branch from Bamboo at *Branch Configuration > Actions > Delete plan branch*\r\n# Allow a few minutes for the branch deletion to complete in the background.\r\n# Convert the Specs Branch back to a plan branch by either deleting the {{bamboo-specs}} folder from the repository for that specific branch or renaming it\r\n# Re-add the branch to the plan.\r\n",
      "summary": "Specs branches always have Force stop hanging builds (Hung Build Killer) enabled"
    }
  },
  {
    "key": "BAM-21293",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-13T18:14:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFor a Bitbucket Server pull request event, Bamboo should build on each pull request merge. This should be limited to the Bitbucket Server development and production branches.\r\n\r\nThis might Extend the Bitbucket Server repository trigger to build regardless of the timers in a special case that meets the following criteria:\r\n # Bitbucket is hosting a repository and has a Application Link to Bamboo.\r\n # The event is a Bitbucket pull request event type.\r\n # The branch is defined on Bitbucket for the repository as [Production or Development branching model|https://docs.atlassian.com/bitbucket-server/rest/4.10.0/bitbucket-branch-rest.html#idp26080].\r\n\r\nThis special event should bypass all of the triggers and wait periods to be put in the build queue.\r\nh3. Steps to Reproduce\r\n # Install Bamboo. Create one linked repository and one build plan.\r\n # Add two more Local Agents for a total of three or more.\r\n # For the build, use the default Source Code Checkout.\r\n # Add one script task with the following script:\r\n ** \r\n{noformat}\r\n#!/bin/bash\r\nsleep 60\r\n{noformat}\r\n\r\n # Run build as a test to make sure it runs. Confirm in Bitbucket that the commit shows a build.\r\n # Run the following command in a clone of the git repository listed in step one in the default branch:\r\n ** \r\n{code:java}\r\nfor (( i=1 ; i <=3 ; i++)) do \\\r\n\techo \"$i\" >> text ; \\\r\n\tgit add . ; \\\r\n\tgit commit -m \"This is commit $i\" ; \\\r\n\tgit push ;\r\n\tsleep 5 ; \\\r\ndone\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nAll three pull requests should have builds.\r\nh3. Actual Results\r\n\r\nFirst and last pull request have builds.",
      "summary": "Option to add a Bitbucket Server Pull request to build regardless of the timers for Production or Development branches"
    }
  },
  {
    "key": "BAM-21292",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-13T16:03:17.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, there are only a few types of AMIs available in EU_WEST_2 region compared to other regions.\r\n{noformat}\r\n./ami.sh 7.2.3 | grep EU_WEST_2\r\nimage.EU_WEST_2.EBS.x86_64.linux.HVM.Ubuntu=ami-0744c9e902165165f\r\nimage.EU_WEST_2.EBS.x86_64.windows.HVM.Windows=ami-05645846edbdc8332\r\n{noformat}\r\nh3. Suggested Solution\r\n\r\nAdd amazon Linux AMIs with HVM type to the list of supported AMIs same as we see in US_EAST_1.\r\n{noformat}\r\n./ami.sh 7.2.3 | grep US_EAST_1\r\nimage.US_EAST_1.EBS.x86_64.linux.PV.Ubuntu=ami-0c700f269a2fc3504\r\nimage.US_EAST_1.S3.x86_64.linux.PV.Amazon\\ Linux=ami-0163d8cef65cb85c3\r\nimage.US_EAST_1.EBS.x86_64.linux.HVM.Ubuntu=ami-0e48b38921cb21f71\r\nimage.US_EAST_1.EBS.x86_64.windows.HVM.Windows=ami-09c195b44c95e3c75\r\nimage.US_EAST_1.EBS.x86_64.linux.PV.Amazon\\ Linux=ami-0343f63f59ad8eb8f\r\n{noformat}\r\nh3. Workaround\r\n\r\nThe only workaround is to create a custom AMI copied from the US_EAST_1 region that is of PV type.",
      "summary": "Add all type of supported elastic agent AMIs in EU_WEST_2 region"
    }
  },
  {
    "key": "BAM-21291",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T19:14:27.000+0000",
      "created": "2021-04-13T08:43:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBuild expiry fails with foreign key (FK_p3gerdfga5l9fu5qijd0j36sj) constraint violation errors.\r\nh3. Environment\r\n * Bamboo connected to MySQL.\r\n\r\nh3. Steps to Reproduce\r\n # Create a new plan in Bamboo (e.g. PROJ-PLAN) \u2013 no need to link any repositories.\r\n # Create two stages inside this plan (e.g. Default Stage and Stage 2).\r\n # Create one job with a *Script* task using the following content inside the first stage i.e. Default Stage:\r\n{noformat}\r\nexit 0\r\n{noformat}\r\n\r\n # Create one job with a *Script* task using the following content inside the second stage i.e. Stage 2):\r\n{noformat}\r\necho hello > world.txt\r\nexit 1\r\n{noformat}\r\n\r\n # Create an artifact inside the second job with the following details:\r\n ** Name: Test\r\n ** Copy pattern: **/*.txt\r\n ** Shared\r\n # Enable your plan (e.g. PROJ-PLAN).\r\n # Run a build \u2013 your build will fail.\r\n # Disable your second job.\r\n # Rerun failed/incomplete jobs only \u2013 your build will succeed.\r\n # Run a new build \u2013 at this point you should have two successful builds.\r\n # Go to the *Bamboo admin > Plans > Expiry* page.\r\n # Edit your expiry configuration and:\r\n ** Select _\"Complete build & deployment results, build & release artifacts and all logs\"_.\r\n ** Set _\"Minimum builds to keep\"_ to 1.\r\n # Save.\r\n # Click _\"Run now\"_.\r\n\r\nh3. Expected Results\r\n\r\nThe first build of your plan should be removed.\r\nh3. Actual Results\r\n\r\nNo builds from your plan are removed and the following error message is thrown in the logs:\r\n{noformat:title=atlassian-bamboo.log}\r\n2021-04-08 08:48:49,030 INFO [2-BuildExpiryBean:pool-5-thread-1] [BuildExpiryBeanImpl] Found 1 build(s) to expire for PROJ-PLAN\r\n2021-04-08 08:48:49,169 INFO [2-BuildExpiryBean:pool-5-thread-1] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n2021-04-08 08:48:49,170 ERROR [2-BuildExpiryBean:pool-5-thread-1] [BatchingBatch] HHH000315: Exception executing batch [java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))], SQL: delete from BUILDRESULTSUMMARY where BUILDRESULTSUMMARY_ID=?\r\n2021-04-08 08:48:49,171 WARN [2-BuildExpiryBean:pool-5-thread-1] [SqlExceptionHelper] SQL Error: 1451, SQLState: 23000\r\n2021-04-08 08:48:49,171 ERROR [2-BuildExpiryBean:pool-5-thread-1] [SqlExceptionHelper] Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))\r\n2021-04-08 08:48:49,175 ERROR [2-BuildExpiryBean:pool-5-thread-1] [BuildExpiryBeanImpl] A problem has occurred during expiry of PROJ-PLAN\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [delete from BUILDRESULTSUMMARY where BUILDRESULTSUMMARY_ID=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:245)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:392)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:351)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate$1.doInTransaction(BambooTransactionHibernateTemplate.java:36)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:28)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:33)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl.expireBuildPlan(BuildExpiryBeanImpl.java:270)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl$1.call(BuildExpiryBeanImpl.java:137)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl$1.call(BuildExpiryBeanImpl.java:101)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:131)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:106)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:148)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:198)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:633)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1349)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl.lambda$expireBuildPlan$0(BuildExpiryBeanImpl.java:279)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:385)\r\n\t... 18 more\r\nCaused by: java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:403)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1154)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1835)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1319)\r\n\tat com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:954)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:121)\r\n\t... 32 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:403)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3933)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3869)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2524)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2675)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1915)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2136)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1813)\r\n\t... 37 more\r\n{noformat}\r\nThis is happening because {{STAGERESULT_ID}} becomes NULL after rerunning failed/incomplete jobs on step 9. The original {{STAGERESULT_ID}} inside the CHAIN_STAGE_RESULT table does not get removed but the {{STAGERESULT_ID}} for your job inside the BUILDRESULTSUMMARY table becomes NULL.\r\n\r\nYou can identify rows that are potentially causing this issue by using the following select query inside your database:\r\n{code:sql}\r\nselect buildresultsummary_id,\r\n       build_type,\r\n       build_key,\r\n       build_number,\r\n       stageresult_id,\r\n       chain_result\r\n  from buildresultsummary\r\n where build_type = 'BUILD'\r\n   and stageresult_id is null\r\n order by build_key, build_number;\r\n{code}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available\r\nh3. Notes\r\n * This does not seem to affect PostgreSQL. The same steps were carried out in Bamboo 7.2.3 connected to PostgreSQL but {{STAGERESULT_ID}} does not become NULL and Bamboo is capable of expiring the results.\r\n * This has only been tested against MySQL and PostgreSQL and may affect other databases as well.",
      "summary": "Build expiry fails with foreign key (FK_p3gerdfga5l9fu5qijd0j36sj) constraint violation (fixing the deletion procedure)"
    }
  },
  {
    "key": "BAM-21290",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T19:14:26.000+0000",
      "created": "2021-04-08T08:52:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBuild expiry fails with foreign key (FK_p3gerdfga5l9fu5qijd0j36sj) constraint violation errors.\r\nh3. Environment\r\n * Bamboo connected to MySQL.\r\n\r\nh3. Steps to Reproduce\r\n # Create a new plan in Bamboo (e.g. PROJ-PLAN) \u2013 no need to link any repositories.\r\n # Create two stages inside this plan (e.g. Default Stage and Stage 2).\r\n # Create one job with a *Script* task using the following content inside the first stage i.e. Default Stage:\r\n{noformat}\r\nexit 0\r\n{noformat}\r\n# Create one job with a *Script* task using the following content inside the second stage i.e. Stage 2):\r\n{noformat}\r\necho hello > world.txt\r\nexit 1\r\n{noformat}\r\n# Create an artifact inside the second job with the following details:\r\n ** Name: Test\r\n ** Copy pattern: \\*\\*/*.txt\r\n ** Shared\r\n # Enable your plan (e.g. PROJ-PLAN).\r\n # Run a build \u2013 your build will fail.\r\n # Disable your second job.\r\n # Rerun failed/incomplete jobs only \u2013 your build will succeed.\r\n # Run a new build \u2013 at this point you should have two successful builds.\r\n # Go to the *Bamboo admin > Plans > Expiry* page.\r\n # Edit your expiry configuration and:\r\n ** Select _\"Complete build & deployment results, build & release artifacts and all logs\"_.\r\n ** Set _\"Minimum builds to keep\"_ to 1.\r\n # Save.\r\n # Click _\"Run now\"_.\r\n\r\nh3. Expected Results\r\n\r\nThe first build of your plan should be removed.\r\nh3. Actual Results\r\n\r\nNo builds from your plan are removed and the following error message is thrown in the logs:\r\n{noformat:title=atlassian-bamboo.log}\r\n2021-04-08 08:48:49,030 INFO [2-BuildExpiryBean:pool-5-thread-1] [BuildExpiryBeanImpl] Found 1 build(s) to expire for PROJ-PLAN\r\n2021-04-08 08:48:49,169 INFO [2-BuildExpiryBean:pool-5-thread-1] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n2021-04-08 08:48:49,170 ERROR [2-BuildExpiryBean:pool-5-thread-1] [BatchingBatch] HHH000315: Exception executing batch [java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))], SQL: delete from BUILDRESULTSUMMARY where BUILDRESULTSUMMARY_ID=?\r\n2021-04-08 08:48:49,171 WARN [2-BuildExpiryBean:pool-5-thread-1] [SqlExceptionHelper] SQL Error: 1451, SQLState: 23000\r\n2021-04-08 08:48:49,171 ERROR [2-BuildExpiryBean:pool-5-thread-1] [SqlExceptionHelper] Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))\r\n2021-04-08 08:48:49,175 ERROR [2-BuildExpiryBean:pool-5-thread-1] [BuildExpiryBeanImpl] A problem has occurred during expiry of PROJ-PLAN\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [delete from BUILDRESULTSUMMARY where BUILDRESULTSUMMARY_ID=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:245)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:392)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:351)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate$1.doInTransaction(BambooTransactionHibernateTemplate.java:36)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:28)\r\n\tat com.atlassian.bamboo.persistence.BambooTransactionHibernateTemplate.execute(BambooTransactionHibernateTemplate.java:33)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl.expireBuildPlan(BuildExpiryBeanImpl.java:270)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl$1.call(BuildExpiryBeanImpl.java:137)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl$1.call(BuildExpiryBeanImpl.java:101)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:131)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:106)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:148)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:198)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:633)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1349)\r\n\tat com.atlassian.bamboo.build.expiry.BuildExpiryBeanImpl.lambda$expireBuildPlan$0(BuildExpiryBeanImpl.java:279)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:385)\r\n\t... 18 more\r\nCaused by: java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:403)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1154)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1835)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1319)\r\n\tat com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:954)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:121)\r\n\t... 32 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`bamboo723`.`buildresultsummary`, CONSTRAINT `FK_p3gerdfga5l9fu5qijd0j36sj` FOREIGN KEY (`CHAIN_RESULT`) REFERENCES `BUILDRESULTSUMMARY` (`BUILDRESULTSUMMARY_ID`))\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:403)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3933)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3869)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2524)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2675)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1915)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2136)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1813)\r\n\t... 37 more\r\n{noformat}\r\nThis is happening because {{STAGERESULT_ID}} becomes NULL after rerunning failed/incomplete jobs on step 9. The original {{STAGERESULT_ID}} inside the CHAIN_STAGE_RESULT table does not get removed but the {{STAGERESULT_ID}} for your job inside the BUILDRESULTSUMMARY table becomes NULL.\r\n\r\nYou can identify rows that are potentially causing this issue by using the following select query inside your database:\r\n{code:sql}\r\nselect buildresultsummary_id,\r\n       build_type,\r\n       build_key,\r\n       build_number,\r\n       stageresult_id,\r\n       chain_result\r\n  from buildresultsummary\r\n where build_type = 'BUILD'\r\n   and stageresult_id is null\r\n order by build_key, build_number;\r\n{code}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available\r\nh3. Notes\r\n * This does not seem to affect PostgreSQL. The same steps were carried out in Bamboo 7.2.3 connected to PostgreSQL but {{STAGERESULT_ID}} does not become NULL and Bamboo is capable of expiring the results.\r\n * This has only been tested against MySQL and PostgreSQL and may affect other databases as well.",
      "summary": "Rerunning builds may set stage_result_id to null (on MySQL)"
    }
  },
  {
    "key": "BAM-21289",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-07T14:25:05.000+0000",
      "description": "h3. Problem Definition\r\nCurrently it is possible to have two capabilities using the same name, even if they are different types. For example, you can have the same name for a Command type capability called 'Fastlane' and a Fastlane capability called 'Fastlane' as well.\r\n\r\nThis can cause confusion when displaying or configuring the capabilities.\r\n\r\nh3. Suggested Solution\r\n\r\nRestrict creating capabilities using the same name, regardless of their type.",
      "summary": "Restrict having capabilities using the same name, even if they are different types"
    }
  },
  {
    "key": "BAM-21288",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-05T07:18:58.000+0000",
      "description": "h3. Issue Summary\r\n\r\n\u00a0\r\n\r\nConfiguring the JVM parameter\u00a0_bamboo.agent.heartbeatTimeoutSecond_\u00a0has no effect on the actual heartbeat timeout and it always defaults to 600 seconds regardless of the value entered.\u00a0\r\nh3. Steps to Reproduce\r\n # Set the\u00a0_bamboo.agent.heartbeatTimeoutSecond_ option to for example 700 seconds as a JVM parameter by adding it to the\u00a0{{JVM_SUPPORT_RECOMMENDED_ARGS}}\u00a0section defined in the file {{<Bamboo install directory>/bin/setenv.sh}}.\r\n # Restart both the Bamboo server and the remote agent\r\n # Simulate the agent not being able to send the heartbeat to the server\r\n\r\nh3. Expected Results\r\n\r\n\u00a0\r\n\r\nAfter 700 seconds\u00a0without receiving a heartbeat signal from the remote agent, the agent is marked as offline.\r\nh3. Actual Results\r\n\r\n\u00a0\r\n\r\nThe agent is marked as offline only after the default of 600 seconds.\r\nh3. Workaround\r\n\r\n\u00a0\r\nAs a workaround you can add the same property in your agents individually by adding to your {{<bamboo-agent-home>/conf/wrapper.conf}}\r\n{noformat}\r\nwrapper.java.additional.5=-Dbamboo.agent.heartbeatTimeoutSeconds=700{noformat}",
      "summary": "Changing the parameter bamboo.agent.heartbeatTimeoutSecond has not effect"
    }
  },
  {
    "key": "BAM-21287",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-01T23:20:49.000+0000",
      "description": "h3. Problem Definition\r\nBamboo does not have an API to retrieve the license details, outside of the {{updateLicense.action}} page in the Administration section of the application.\r\n\r\nh3. Suggested Solution\r\nImplement a REST API for license details, including at least the following:\r\n* SEN\r\n* Maintenance expiration date\r\n* Clustering status (for Bamboo DC)\r\n* Agent count",
      "summary": "REST API to retrieve license information"
    }
  },
  {
    "key": "BAM-21286",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-01T10:52:22.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe Troubleshooting and Support Tools plugin in Bamboo currently does not capture the application and access logs when custom paths for these logs are configured. This plugin currently uses a hardcoded path for logs and hence if custom log locations are used, these logs are not captured in Support Zip.\r\nh3. Suggested Solution 1\r\n\r\nImprove the plugin to capture the application and access logs from custom log location in Support Zip upon generating.\r\nh3. Suggested Solution 2\r\n\r\nBamboo should have TWO appenders for application logs along with TWO appenders for access logs.\r\nh3. Workaround\r\n\r\nNone.",
      "summary": "Troubleshooting and Support Tools plugin should support custom log path locations"
    }
  },
  {
    "key": "BAM-21285",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T08:41:51.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAs a Bamboo administrator, when managing the shared remote capabilities, there is no option to exclude a particular agent or group of agents from a specific remote shared capability. \u00a0\r\n\r\nh3. Suggested Solution\u00a0\r\n\r\nIt would be beneficial to exclude one or several agents from a specific shared capability or alternatively, to have groups or sets of agents where you can configure different shared remote\u00a0 capabilities.\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround other than removing the shared capability and adding it individually to the agents that still require to have the capability.",
      "summary": "Have the option to exclude agents from the shared remote capabilities"
    }
  },
  {
    "key": "BAM-21284",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-07T16:58:45.000+0000",
      "created": "2021-03-26T17:02:11.000+0000",
      "description": "A remote code exeecution vulnerability was recently discovered in Git LFS:\r\n\r\nhttps://legalhackers.com/advisories/Git-LFS-RCE-Exploit-CVE-2020-27955.html\r\n\r\nVulnerable git clients that clone a malicious repository are vulnerable to remote code execution. \r\n\r\nPlease determine if Bamboo is vulnerable. If it is definitively determined not to be affected, please close this as a false positive. If it is vulnerable, please work on remediating the issue.",
      "summary": "Git LFS on Windows vulnerable to remote code execution (CVE-2020-27955)"
    }
  },
  {
    "key": "BAM-21282",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T20:53:08.000+0000",
      "description": "h3. Issue Summary\r\nIf all tasks in a job are skipped, the job fails, and the build fails.\r\n\r\nh3. Steps to Reproduce\r\n # Create a build\r\n # Add Conditions for the build\r\n # Make the conditions not met\r\n\r\nh3. Expected Results\r\nBuild does not fail\r\nh3. Actual Results\r\nBuild fails\r\n\r\nh3. Workaround\r\n\r\nAdd a Final Task that finishes with a successful result.",
      "summary": "If all tasks in the last job in a stage are skipped for any reason, the job fails"
    }
  },
  {
    "key": "BAM-21281",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-24T16:11:58.000+0000",
      "description": "As a user of deployment pipelines\r\n\r\nI would like to have my paused pipelines automatically resumed in sequential order by start time\r\n\r\nSo that I always have the latest merged code deployed to our environments.\r\n\r\nToday when the concurrent pipeline is paused because another one is in progress it is left in a paused state until a user manual restarts/unpauses it.\u00a0 This manual intervention should be *automated* so that we don't have to babysit the pipelines view in Bitbucket.",
      "summary": "Resume paused pipelines - concurrency control for Bitbucket Deployments"
    }
  },
  {
    "key": "BAM-21280",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T19:14:25.000+0000",
      "created": "2021-03-24T15:12:02.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen configuring a plan branch repository which is a Bitbucket Cloud repository, there is no option to select a different branch and the _Repository_ field remains blank with a spinning wheel next to it.\r\nh3. Steps to Reproduce\r\n # Access a plan branch repository configuration\r\n # Select a Bitbucket Cloud repository, and enable the *Change repository settings for this branch plan*\r\n\r\nh3. Expected Results\r\n\r\nYou are able to make changes on branch plan repository and save them.\r\nh3. Actual Results\r\n\r\nThe drowdown menu to select a branch does not appear and the following exception is thrown on the browser console.\r\n\r\n!screenshot-1.png|thumbnail!\r\n\r\n!image-2021-03-24-16-10-49-098.png|thumbnail!\r\nh3. Workaround\r\n\r\nThere are two possible workarounds based on your authentication options linked to the Bitbucket Cloud repository.\r\n\r\nIf you use SSH to connect to your repository,\r\n # Access your plan branch repository configuration\r\n # Select the affected Bitbucket Cloud repository, and enable the *Change repository settings for this branch plan*\r\n # Scroll down to the page and click on *Save repository*\r\n # After doing so, the option to select a branch will be enabled at the top, and you'll be able to make changes to that repo, even after refreshing/navigating to another page.\r\n\r\nFor username/password authentication the workaround the steps are slightly different.\r\n # Access your plan branch repository configuration\r\n # Select the affected Bitbucket Cloud repository, and enable the *Change repository settings for this branch plan*\r\n # Scroll down to the page and click on *Save repository*\r\n # After doing so, the option to select a branch will be enabled at the top, and you'll be able to make changes to that repo, even after refreshing/navigating to another page.",
      "summary": "Configuring Bitbucket Cloud repositories in a plan branch fails"
    }
  }
]