[
  {
    "key": "BAM-17900",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-10T09:42:49.000+0000",
      "created": "2016-09-21T16:31:48.000+0000",
      "description": "h3. Problem Definition\r\n\r\nh4. Update\r\nThis default C3P0 default setting needs to be updated:\r\n* {{hibernate.c3p0.idle_test_period}} should be lower than {{hibernate.c3p0.timeout}}.\r\n\r\nh4. Add\r\nIdle connections are not tested since {{hibernate.c3p0.validate}} does not exist. This property is recommended by Confluence\r\nhttps://confluence.atlassian.com/display/DOC/Surviving+Database+Connection+Closures\r\n\r\n\r\nh3. Suggested Solution\r\n \r\nConfigure C3P0 by default as such:\r\n\r\n{code:xml}\r\n<property name=\"hibernate.c3p0.acquire_increment\">1</property>\r\n<property name=\"hibernate.c3p0.idle_test_period\">29</property>\r\n<property name=\"hibernate.c3p0.max_size\">100</property>\r\n<property name=\"hibernate.c3p0.max_statements\">0</property>\r\n<property name=\"hibernate.c3p0.min_size\">0</property>\r\n<property name=\"hibernate.c3p0.timeout\">30</property>\r\n<!-- Different database types have slightly different SQL syntax requirements for their validation query. The validation query should be as simple as possible, as this is run every time a connection is retrieved from the pool. The following validation queries are recommended for the following types of databases:\r\n\r\nMySQL: select 1\r\nMicrosoft SQL Server: select 1\r\nOracle: select 1 from dual\r\nPostgreSQL:select 1\r\n--?\r\n<!-- \r\n<property name=\"hibernate.c3p0.validate\">true</property>\r\n<property name=\"hibernate.c3p0.preferredTestQuery\">enter_DB_specific_validation_query_here</property>\r\n-->{code}\r\n\r\n\r\nh3. Notes\r\n* When setting {{idle_test_period}} greater than the {{timeout}} idle connections will never be tested because they will be removed from the pool after 30 seconds.\r\n* The default setting for {{validate}} is non-existent so idle connections will never be checked with default configuration in place.\r\n\r\nThese are the current default settings:\r\n{code:xml|title=<bamboo-home>/bamboo.cfg.xml}\r\n<property name=\"hibernate.c3p0.acquire_increment\">1</property>\r\n<property name=\"hibernate.c3p0.idle_test_period\">100</property>\r\n<property name=\"hibernate.c3p0.max_size\">100</property>\r\n<property name=\"hibernate.c3p0.max_statements\">0</property>\r\n<property name=\"hibernate.c3p0.min_size\">0</property>\r\n<property name=\"hibernate.c3p0.timeout\">30</property>\r\n{code}\r\n\r\n",
      "summary": "C3P0 settings should be corrected"
    }
  },
  {
    "key": "BAM-17899",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-21T12:09:28.000+0000",
      "created": "2016-09-21T15:32:43.000+0000",
      "description": "h3. Summary\r\nPlan branches that are automatically created, but never run a build are not being deleted from Bamboo when the branch is deleted from the repo.\r\n\r\nh3. Environment\r\n* Bamboo version 5.12.3.1\r\n* Bitbucket Server v4.6.3\r\n\r\nh3. Steps to Reproduce\r\n# Got to *Plan Configuration > Branches*\r\n# Set-up New Branches to be automatically created.\r\n# Set-up Delete branches with 'Delete plan branches with daily cleanup'\r\n# Set Branch triggers with 'None'\r\n# Create a branch in Bitbucket and check that the plan branch was created in Bamboo.\r\n# Delete the branch from Bitbucket\r\n\r\nh3. Expected Results\r\nExpect to see the plan branch get deleted with the daily scheduled cleanup\r\n\r\nh3. Actual Results\r\nThe plan branch remains configured in Bamboo\r\n\r\nh3.Workaround\r\nManually delete the plan branch.\r\nYou can also run the plan branch, which will fail and the plan branch will be deleted at the next daily cleanup.",
      "summary": "When branch has been deleted from source repo, Bamboo doesn't delete plan branches that have never run build"
    }
  },
  {
    "key": "BAM-17898",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-11-16T19:48:42.000+0000",
      "created": "2016-09-21T14:57:12.000+0000",
      "description": "h3. Problem\r\nWhen executing the Node/NPM build task, Bamboo calls node/npm with the fully qualified path, e.g. /usr/local/bamboo/tools/node/node-v4.2.1/bin/node:\r\n{noformat:title=Log output}\r\ncommand\t19-Sep-2016 18:01:06\tBeginning to execute external process for build 'Bamboo Tests - Java Script - Default Job #1 (BT-BTJS-JOB1-1)'\r\n... running command line:\r\n/usr/local/bamboo/tools/node/node-v4.2.1/bin/node test.js\r\n... in: /usr/local/bamboo/agent-home/xml-data/build-dir/BT-BTJS-JOB1\r\n... using extra environment variables: ...\r\nbamboo_capability_system_builder_node_Node_js_6_6_0=/usr/local/bamboo/tools/node/node-v6.6.0/bin/node\r\n...\r\nbamboo_capability_system_builder_node_Node_js_4_2_1=/usr/local/bamboo/tools/node/node-v4.2.1/bin/node\r\n...\r\n{noformat}\r\n\r\nThis is not always enough. With npm for example, you can define scripts in package.json, e.g.\r\n{code}\r\n\"scripts\":\r\n{ \"doSomething\": \"node test.js\", }\r\n{code}\r\n\r\nNPM delegates scripts to the runtime environment and therefore rely's on node executable being on the PATH. To workaround this customers have to manually set the node path with a script task.\r\n\r\nh3. Improvement \r\nBamboo Node and npm task should add /path/to/node/bin dynamically to the PATH\r\n",
      "summary": "Improve how Bamboo handles NodeJS and NPM task"
    }
  },
  {
    "key": "BAM-17896",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-19T09:11:21.000+0000",
      "created": "2016-09-19T09:03:26.000+0000",
      "description": "h3. Summary\r\nAdd linked issues button in Bamboo Build Results >> Issues tabs does not work\r\n\r\nh3. Steps to Reproduce\r\n# Go to job view or plan view, select \"Issues\" tab\r\n# Click \"Add linked issues\" button\r\n# See the progress indicator but nothing happens next\r\n\r\nh3. Expected Results\r\nThe link JIRA window should appear\r\nh3. Actual Results\r\nThe window takes forever to load\r\nThe below exception is thrown in the atlassian-bamboo.log file after cancelling the load:\r\n{noformat}\r\n2016-09-19 16:21:29,559 WARN [http-nio-8085-exec-16] [Dispatcher] Could not find action or result: /bamboo/build/addJiraIssue!doDefault.action?buildKey=P1-PLAN1&buildNumber=1&bamboo.successReturnMode=json&decorator=nothing&confirm=true&_=1474273271603\r\nMethod doDefault for action addJiraIssue is not allowed! - [unknown location]\r\n{noformat}\r\n\r\nh3.Workaround\r\n# Edit {{<bamboo install dir>/atlassian-bamboo/plugins/jira-plugin/viewJiraIssuesForBuildResult.ftl}}.\r\n# In line 17, change {{doDefault.action}} to {{default.action}}",
      "summary": "Can't manually link issues to build results"
    }
  },
  {
    "key": "BAM-17895",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-27T07:39:50.000+0000",
      "created": "2016-09-17T00:19:53.000+0000",
      "description": "When attempting to check out some repositories, the process will fail with the following exception:\r\n\r\n{{com.atlassian.bamboo.repository.RepositoryDefinitionException: Task failed since repository with id 917507 does not exist. It may have been deleted, please update the task and pick a new repository\r\n\tat com.atlassian.bamboo.repository.RepositoryFunctions$IdSelectorToRepositoryDefinition.apply(RepositoryFunctions.java:95)\r\n\tat com.atlassian.bamboo.repository.RepositoryFunctions$IdSelectorToRepositoryDefinition.apply(RepositoryFunctions.java:54)\r\n\tat com.atlassian.bamboo.task.repository.RepositoryTaskHelper.getRepositoryDefinitionByIdSelector(RepositoryTaskHelper.java:120)\r\n\tat com.atlassian.bamboo.v2.build.task.CheckoutDirectoriesSnapshotHelper.<init>(CheckoutDirectoriesSnapshotHelper.java:126)\r\n\tat com.atlassian.bamboo.v2.build.task.InitializeBuild.prepareWorkingDirectory(InitializeBuild.java:101)\r\n\tat com.atlassian.bamboo.v2.build.task.InitializeBuild.doCall(InitializeBuild.java:82)\r\n\tat com.atlassian.bamboo.v2.build.task.InitializeBuild.call(InitializeBuild.java:53)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:215)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:139)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:130)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:221)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:129)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:137)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)}}\r\n\r\nThis is the same as the issue logged in 2013 as BAM-13053\r\n\r\nI have tried removing and re-creating numerous repos, but still experience this exception.\r\nI've been experiencing this problem since updating Bamboo credentials to the new Atlassian user details on Bitbucket, and while it typically appears this can be resolved by removing the offending repository and re-creating it, if you have a lot of repositories in your project this makes it really difficult to determine which repository is the cause.\r\n\r\nI can't get Bamboo to compile out of the box but having looked at the source code without the context, it would appear that on RepositoryFunctions:95 you have this exception message which is thrown where earlier on you have a string representation in 'input' of the repository name that is failing.\r\nAs I'm not going to spend hours debugging a build that doesn't work out of the box, if someone could verify what this value contains then simply adding this value to the thrown exception could help users fix the issue with trivial work involved from the Bamboo dev team.\r\n\r\nCould this exception message please be changed so that it more easily identifies the String representation of the repository and users can diagnose the issue without an unhelpful repository ID number?",
      "summary": "Repository check-out fails with unhelpful exception message - add repo name to exception"
    }
  },
  {
    "key": "BAM-17894",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-16T17:58:56.000+0000",
      "description": "It would be nice if we could display a message stating which upgrade/validation task went wrong in the UI instead of the current bootstrap failed error message. This way users could easily look up for them in [confluence.atlassian.com|https://confluence.atlassian.com/] as most of the upgrade/validation tasks have KB articles written about them.",
      "summary": "Display appropriate error message in the UI when Bamboo fails to start up"
    }
  },
  {
    "key": "BAM-17893",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-16T17:01:41.000+0000",
      "description": "h3. Problem Definition\r\nThe [Shared credentials|https://confluence.atlassian.com/display/BAMBOO/Shared+credentials] are currently available to all plans. As an admin, I want to only have the AWS credentials available for specific plans/projects.\r\n\r\nh3. Suggested Solution\r\nProvide AWS credentials to be put in at a project/plan level.",
      "summary": "As an admin I want to set AWS credentials at a project/plan level"
    }
  },
  {
    "key": "BAM-17892",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-24T13:12:36.000+0000",
      "created": "2016-09-16T11:33:41.000+0000",
      "description": "NUnit test results parser doesn't properly identify and parse individual tests in the test results xml.\r\nExample below:\r\n !Screen Shot 2016-09-16 at 11.44.03.png|thumbnail! \r\n\r\nThe amount of tests in our project is ~300, but NUnit test results parser identifies only ~230. \r\nWe are using NUnit 2.6.4 in our project.\r\nSample test result file attached.",
      "summary": "NUnit test parser fails to parse all tests"
    }
  },
  {
    "key": "BAM-17891",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:29.000+0000",
      "created": "2016-09-16T09:58:41.000+0000",
      "description": "Outcome of testing SVN checkouts\r\n{noformat}\r\nhttps://subversion.assembla.com/svn/bamboo-svn-big-size/\r\n native svn                           1m26s\r\n jsvn (svnkit-1.8.7)                  1m11s\r\n this sample (svnkit-1.8.7)           1m13s\r\n Bamboo 5.13.0.1 (svnkit-1.8.7)       1m57s\r\n\r\nhttps://svn.code.sf.net/p/datanucleus/code/\r\n native svn                                   6m30s\r\n jsvn (svnkit-1.8.7)                          7m25s\r\n jsvn from Bamboo 5.13.0.1 (svnkit-1.8.7)     7m36s\r\n this sample (svnkit-1.8.7)                   7m05s\r\n Bamboo 5.13.0.1 (svnkit-1.8.7)              12m05s\r\n{noformat}",
      "summary": "Bamboo limits performance of svnkit "
    }
  },
  {
    "key": "BAM-17890",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-13T09:23:41.000+0000",
      "created": "2016-09-16T07:57:11.000+0000",
      "description": "h3. Summary\r\nIf a build plan is triggered a multiple times at once, one of the build might fail to start\r\n\r\nh3. Steps to Reproduce\r\nUse the REST API /rest/api/latest/queue/<project>-<plan> to trigger a single builds for 7 times\r\n\r\nh3. Expected Results\r\nThe plan will start 7 builds\r\n\r\nh3. Actual Results\r\nOne of the build might fail to start. The below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2016-09-12 09:20:50,659 INFO [http-nio-8086-exec-19] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1954287kb\r\n2016-09-12 09:20:50,820 INFO [http-nio-8086-exec-125] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1941536kb\r\n2016-09-12 09:20:50,843 INFO [http-nio-8086-exec-24] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1939513kb\r\n2016-09-12 09:20:50,846 INFO [http-nio-8086-exec-33] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1939026kb\r\n2016-09-12 09:20:50,847 INFO [http-nio-8086-exec-50] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1938894kb\r\n2016-09-12 09:20:50,847 INFO [http-nio-8086-exec-124] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1938561kb\r\n2016-09-12 09:20:50,847 INFO [http-nio-8086-exec-1] [AccessLogFilter] klfoong POST http://localhost:8085/rest/api/latest/queue/PROJ-PLAN 1938561kb\r\n\u2026\r\n2016-09-12 09:20:53,310 INFO [6-DelayedChangeDetectionThread:pool-12-thread-703] [ChainExecutionManagerImpl] Build PROJ-PLAN-JOB1-4151 has been dispatched\r\n2016-09-12 09:20:53,311 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-6] [BuildQueueManagerImpl] Attempting to queue Project - Plan - Default Job #4151 (PROJ-PLAN-JOB1-4151).\r\n2016-09-12 09:20:53,313 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-6] [ExecutionPhaseServiceImpl] Project - Plan - Default Job #4151 (PROJ-PLAN-JOB1-4151) queued\r\n2016-09-12 09:20:53,331 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-6] [BuildContextXStreamConverter] Error context: /com.atlassian.bamboo.v2.build.BuildContextImpl/buildDefinition\r\n2016-09-12 09:20:53,332 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-6] [BuildQueueManagerImpl] \r\njava.util.ConcurrentModificationException\r\n\tat java.util.HashMap$HashIterator.nextNode(HashMap.java:1437)\r\n\tat java.util.HashMap$EntryIterator.next(HashMap.java:1471)\r\n\tat java.util.HashMap$EntryIterator.next(HashMap.java:1469)\r\n\tat com.atlassian.bamboo.utils.ConfigUtils.addMapToConfiguration(ConfigUtils.java:135)\r\n\tat com.atlassian.bamboo.fieldvalue.TaskConfigurationUtils.addTaskDefinitionsToConfig(TaskConfigurationUtils.java:90)\r\n\tat com.atlassian.bamboo.fieldvalue.BuildDefinitionConverter.fromObject(BuildDefinitionConverter.java:91)\r\n\tat com.atlassian.bamboo.serialization.xstream.BuildDefinitionXStreamConverter.marshal(BuildDefinitionXStreamConverter.java:48)\r\n\tat com.thoughtworks.xstream.core.AbstractReferenceMarshaller.convert(AbstractReferenceMarshaller.java:69)\r\n\tat com.thoughtworks.xstream.core.TreeMarshaller.convertAnother(TreeMarshaller.java:58)\r\n\tat com.thoughtworks.xstream.core.AbstractReferenceMarshaller$1.convertAnother(AbstractReferenceMarshaller.java:84)\r\n\tat com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.marshallField(AbstractReflectionConverter.java:274)\r\n\tat com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter$2.writeField(AbstractReflectionConverter.java:250)\r\n\tat com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter$2.<init>(AbstractReflectionConverter.java:213)\r\n\tat com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doMarshal(AbstractReflectionConverter.java:144)\r\n\tat com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.marshal(AbstractReflectionConverter.java:90)\r\n\tat com.atlassian.bamboo.serialization.xstream.BuildContextXStreamConverter.marshal(BuildContextXStreamConverter.java:46)\r\n\tat com.thoughtworks.xstream.core.AbstractReferenceMarshaller.convert(AbstractReferenceMarshaller.java:69)\r\n\tat com.thoughtworks.xstream.core.TreeMarshaller.convertAnother(TreeMarshaller.java:58)\r\n\tat com.thoughtworks.xstream.core.TreeMarshaller.convertAnother(TreeMarshaller.java:43)\r\n\tat com.thoughtworks.xstream.core.TreeMarshaller.start(TreeMarshaller.java:82)\r\n\tat com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.marshal(AbstractTreeMarshallingStrategy.java:37)\r\n\tat com.thoughtworks.xstream.XStream.marshal(XStream.java:1067)\r\n\tat com.thoughtworks.xstream.XStream.marshal(XStream.java:1056)\r\n\tat com.thoughtworks.xstream.XStream.toXML(XStream.java:1029)\r\n\tat com.atlassian.bamboo.v2.build.queue.queues.XStreamQueuePersisterImpl.save(XStreamQueuePersisterImpl.java:54)\r\n\tat com.atlassian.bamboo.v2.build.queue.queues.CommonContextMaps$ForwardingOffloadingCommonContextMap.put(CommonContextMaps.java:144)\r\n\tat com.atlassian.bamboo.v2.build.queue.queues.AbstractQueueOfExecutables.enqueue(AbstractQueueOfExecutables.java:105)\r\n\tat com.atlassian.bamboo.v2.build.queue.BuildQueueManagerImpl$2.doInTransactionWithoutResult(BuildQueueManagerImpl.java:183)\r\n\tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n\tat com.atlassian.bamboo.v2.build.queue.BuildQueueManagerImpl.addToQueue(BuildQueueManagerImpl.java:175)\r\n\tat com.atlassian.bamboo.v2.build.queue.BuildTriggeredListener.handleEvent(BuildTriggeredListener.java:33)\r\n\tat sun.reflect.GeneratedMethodAccessor2355.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:36)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2016-09-12 09:20:53,333 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-6] [AsynchronousAbleEventDispatcher] There was an exception thrown trying to dispatch event [com.atlassian.bamboo.v2.build.events.BuildTriggeredEvent[source=com.atlassian.bamboo.build.DefaultBuildExecutionManager@476c830]] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.bamboo.v2.build.queue.BuildTriggeredListener.handleEvent(com.atlassian.bamboo.v2.build.events.BuildTriggeredEvent), listener=com.atlassian.bamboo.v2.build.queue.BuildTriggeredListener@ba2bf2b}]\r\njava.lang.RuntimeException: java.util.ConcurrentModificationException\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:50)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.util.ConcurrentModificationException\r\n\tat java.util.HashMap$HashIterator.nextNode(HashMap.java:1437)\r\n\tat java.util.HashMap$EntryIterator.next(HashMap.java:1471)\r\n\tat java.util.HashMap$EntryIterator.next(HashMap.java:1469)\r\n\tat com.atlassian.bamboo.utils.ConfigUtils.addMapToConfiguration(ConfigUtils.java:135)\r\n\tat com.atlassian.bamboo.fieldvalue.TaskConfigurationUtils.addTaskDefinitionsToConfig(TaskConfigurationUtils.java:90)\r\n...\r\n2016-09-12 09:34:48,085 INFO [scheduler_Worker-3] [OrphanedBuildMonitorJob] PROJ-PLAN-JOB1-4151 marked as Queued but not present in queue since Mon Sep 12 09:21:48 CEST 2016\r\n2016-09-12 09:34:48,086 ERROR [scheduler_Worker-3] [OrphanedBuildMonitorJob] Build PROJ-PLAN-JOB1-4151 had to be cancelled: it was marked as queued but was not present in the queue for (at least) the past 720 seconds.\r\n2016-09-12 09:34:48,086 INFO [scheduler_Worker-3] [DefaultErrorHandler] Recording an error: Build PROJ-PLAN-JOB1-4151 had to be cancelled: it was marked as queued but was not present in the queue for (at least) the past 720 seconds. : PROJ-PLAN-JOB1\r\n2016-09-12 09:34:48,089 INFO [scheduler_Worker-3] [CurrentlyBuildingContainer] removeCurrentlyBuilding called for [PROJ-PLAN-JOB1-4151]\r\n2016-09-12 09:34:48,108 INFO [scheduler_Worker-3] [PlanStatePersisterImpl] Out of order build execution detected for build PROJ-PLAN-JOB1-4151\r\n{noformat} \r\n\r\nh3.Workaround\r\nDelay the POST REST call by a few seconds",
      "summary": "ConcurrentModificationException if a build plan is triggered multiple times at once"
    }
  },
  {
    "key": "BAM-17889",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-16T14:00:44.000+0000",
      "created": "2016-09-15T19:03:09.000+0000",
      "description": "h3. Summary\r\n* JDBC Datasource works during Bamboo installation but it does not work once the application is restarted.\r\n* Installing Bamboo with JDBC attempting on changing to Datasource does not work either.\r\n\r\nh3. Environment\r\n* Bamboo v5.13.0.1\r\n\r\nh3. Steps to Reproduce\r\n*Installation using _Connect via a datasource_*\r\n# add the following configuration to {{<bamboo-install>/conf/server.xm}}\r\n{code:xml|title=<bamboo-install>/conf/server.xml}\r\n<Manager pathname=\"\"/>\r\n\r\n<!-- DataSource with MSSQL -->\r\n<Resource name=\"jdbc/BambooDB\"\r\n\tauth=\"Container\"\r\n\ttype=\"javax.sql.DataSource\"\r\n\tusername=\"bamuser\"\r\n\tpassword=\"bampass\"\r\n\tdriverClassName=\"net.sourceforge.jtds.jdbc.Driver\"\r\n\turl=\"jdbc:jtds:sqlserver://192.168.10.72:1433/bamboo\"\r\n\tmaxTotal=\"100\"\r\n\tmaxIdle=\"10\"\r\n\tmaxWaitMillis=\"30000\"\r\n\tmaxWait=\"-1\"\r\n\tvalidationQuery=\"Select 1\"\r\n/>\r\n{code}\r\n# install Bamboo v5.13.0.1\r\n# select {{Connect via a datasource}} and add the following:\r\n{code}\r\njava:comp/env/jdbc/BambooDB\r\n{code}\r\n(i) Finish the installation process\r\n# *stop Bamboo*\r\n# *start Bamboo*\r\n\r\n*Installation using _Direct JDBC connection_*\r\n* install Bamboo\r\n* in *Database configuration* select {{Direct JDBC connection}}\r\n(i) fill in the requested and finish the installation\r\n# *stop Bamboo*\r\n# add the following configuration to {{<bamboo-install>/conf/server.xm}}\r\n{code:xml|title=<bamboo-install>/conf/server.xml}\r\n<Manager pathname=\"\"/>\r\n\r\n<!-- DataSource with MSSQL -->\r\n<Resource name=\"jdbc/BambooDB\"\r\n\tauth=\"Container\"\r\n\ttype=\"javax.sql.DataSource\"\r\n\tusername=\"bamuser\"\r\n\tpassword=\"bampass\"\r\n\tdriverClassName=\"net.sourceforge.jtds.jdbc.Driver\"\r\n\turl=\"jdbc:jtds:sqlserver://192.168.10.72:1433/bamboo\"\r\n\tmaxTotal=\"100\"\r\n\tmaxIdle=\"10\"\r\n\tmaxWaitMillis=\"30000\"\r\n\tmaxWait=\"-1\"\r\n\tvalidationQuery=\"Select 1\"\r\n/>\r\n{code}\r\n# remove all *hibernate* entries from \"{{<bamboo-home>/bamboo.cfg.xml}}\" and add the following instead:\r\n{code:xml|title=<bamboo-home>/bamboo.cfg.xml}\r\n<property name=\"hibernate.connection.datasource\">java:comp/env/jdbc/BambooDB</property>\r\n<property name=\"hibernate.dialect\">com.atlassian.bamboo.hibernate.SQLServerIntlDialect</property>\r\n<property name=\"hibernate.setup\">true</property>\r\n{code}\r\n\r\nh3. Expected Results\r\n* in both scenarios *Installation using _Connect via a datasource_* and *Installation using _Direct JDBC connection_* Bamboo should be able to connect to the database on all {{<bamboo-install>/bin/start-bamboo.sh}}\r\n\r\nh3. Actual Results\r\n*Installation using _Connect via a datasource_*\r\n* The following can be seen in {{<bamboo-install>/logs/catalina.out}}:\r\n{code:title=<bamboo-install>/logs/catalina.out}\r\n2016-09-15 15:58:05,055 ERROR [localhost-startStop-1] [AbstractBootstrapUpgradeTask] Error getting database connection\r\njava.sql.SQLException: Connections could not be acquired from the underlying database!\r\n\tat com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:118)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:692)\r\n\tat com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:140)\r\n\tat org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider.getConnection(C3P0ConnectionProvider.java:84)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapTaskConnectionProvider.getConnection(BootstrapTaskConnectionProvider.java:59)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.getDatabaseConnection(AbstractBootstrapUpgradeTask.java:49)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:74)\r\n\tat com.atlassian.bamboo.upgrade.tasks.validation.ThereIsSingleRowInHibernateUniqueKeyTable.doUpgrade(ThereIsSingleRowInHibernateUniqueKeyTable.java:34)\r\n\tat com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:206)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.runValidationTests(BootstrapUpgradeManagerImpl.java:84)\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:345)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n\tat com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:118)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5303)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1469)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:644)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:554)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutAndMarkConnectionInUse(C3P0PooledConnectionPool.java:758)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:685)\r\n\t... 20 more\r\nCaused by: java.lang.NullPointerException\r\n\tat oracle.jdbc.driver.OracleDriver.acceptsURL(OracleDriver.java:638)\r\n\tat java.sql.DriverManager.getDriver(DriverManager.java:299)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.driver(DriverManagerDataSource.java:285)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:161)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:161)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:147)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:202)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\r\n{code}\r\n\r\n*Installation using _Direct JDBC connection_*\r\n* The following can be seen in {{<bamboo-install>/logs/catalina.out}}:\r\n{code:title=<bamboo-install>/logs/catalina.out}\r\n2016-09-15 15:57:34,760 WARN [localhost-startStop-1] [C3P0ConnectionProvider] HHH000148: No JDBC Driver class was specified by property hibernate.connection.driver_class\r\n...\r\n2016-09-15 15:58:05,055 ERROR [localhost-startStop-1] [AbstractBootstrapUpgradeTask] Error getting database connection\r\njava.sql.SQLException: Connections could not be acquired from the underlying database!\r\n\tat com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:118)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:692)\r\n\tat com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:140)\r\n\tat org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider.getConnection(C3P0ConnectionProvider.java:84)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapTaskConnectionProvider.getConnection(BootstrapTaskConnectionProvider.java:59)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.getDatabaseConnection(AbstractBootstrapUpgradeTask.java:49)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:74)\r\n\tat com.atlassian.bamboo.upgrade.tasks.validation.ThereIsSingleRowInHibernateUniqueKeyTable.doUpgrade(ThereIsSingleRowInHibernateUniqueKeyTable.java:34)\r\n\tat com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:206)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.runValidationTests(BootstrapUpgradeManagerImpl.java:84)\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:345)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n\tat com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:118)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5303)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1469)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:644)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:554)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutAndMarkConnectionInUse(C3P0PooledConnectionPool.java:758)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:685)\r\n\t... 20 more\r\nCaused by: java.lang.NullPointerException\r\n\tat oracle.jdbc.driver.OracleDriver.acceptsURL(OracleDriver.java:638)\r\n\tat java.sql.DriverManager.getDriver(DriverManager.java:299)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.driver(DriverManagerDataSource.java:285)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:161)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:161)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:147)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:202)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\r\n{code}\r\n\r\nh3. Workaround\r\n* No workaround available",
      "summary": "JDBC Datasource only works during Bamboo installation"
    }
  },
  {
    "key": "BAM-17888",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-15T07:52:04.000+0000",
      "description": "h3. Problem Definition\r\nWe would like to re-use the credentials of the user who initiated the deployment to connect to target servers in our script task for to deployments however there is no way to access this through variables.\r\n\r\nh3. Suggested Solution\r\n* Implement a variable that provides the user name of the user who initiated the deployment.\r\n* If feasible to implement securely, a way to supply the password of the user who initiated the deploy to deployment tasks.\r\n \r\n",
      "summary": "Variable for currently logged in user"
    }
  },
  {
    "key": "BAM-17887",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-15T05:51:17.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe SCP task takes over ownership of the file, therefore locking everyone else out except for the service account\u00a0that SCPs\u00a0the file.\r\n\r\nIf a file is created without the group write bit set, it will result in permission issues. So ideally, we'd like the ability\u00a0to configure the SCP task to do something similar to:\r\n{code:java}\r\nchmod g+w <file>\r\nscp <file>\r\n{code}\r\nEven if a Script task is created before the SCP that performs the chmod on the file, the SCP task does not preserve the group write bit which doesn't match the behavior of (this does preserve it):\r\n{code:java}\r\nchmod g+w target/test.jar \r\nsshpass -p \"password\" scp target/test.jar user@host:/home/user\r\n{code}\r\nh3. Suggested Solution\r\n \r\nIf possible, preserve permissions at destination of SCP task\r\nh3. Workaround(s)\r\n\r\n# Create a Command Task\r\n# Add \\{\\{rsync}} as an executable\r\n# Example argument: \\{\\{-avz --rsh=ssh --chmod g+w ./ <user>@<destinationhost>:/<target>/<dir>}}\r\n# This will copy the entire contents of the working directory to the remote server and set the group write bit in the same operation.\r\n# You will also need to setup your SSH keypair between the hosts.\r\nor\r\n\r\n# Add a script task to chmod the file first\r\n# Add a Command Task with SCP executable. You will still need the script task to chmod it.\r\nor\r\n\r\n# Use an SSH task after the SCP to SSH in and chmod the files at destination\r\n\r\n\u00a0",
      "summary": "SCP task takes ownership of file and doesn't preserve group write bit"
    }
  },
  {
    "key": "BAM-17886",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-14T23:49:40.000+0000",
      "description": "I'd like to deploy a specific release artifact using a Scheduled Trigger deployment plan.  Right now, a scheduled trigger can only deploy a branch.  If I manually run a deployment plan, it asks me which Release to use (Promote existing release to this environment), or to create a new Release.\r\n\r\nCurrently, our workflow is to create a branch in Bitbucket Server, and then manually run a build plan based on that branch on Monday afternoon.  The artifacts from that specific release (via shared artifact) is then deployed to a server on Tuesday night.  Alas, occasionally, by human error, that branch is changed after that release is created by the build plan (on Mon), but before the deployment plan is run (on Tue).  If the deployment plan is run manually, I can still select that release that was created on Mon.  But if I schedule the deployment plan, then it uses the then-current state of that branch, which is no longer what it was on Mon afternoon when the release was built.  This causes the wrong set of code to get deployed.\r\n\r\nI realize the inherent problem is human error that alters the branch between Mon afternoon build and Tue night deploy.  But alas, human error does happen, and we're trying to find a technical way around that :)\r\n\r\nIn the end, given that we can select which release to deploy when running a deployment plan manually, I don't see why the same can't be done when the deployment plan is scheduled.\r\n\r\nWork-arounds to this, as well as votes for this feature request are appreciated :)\r\nThank you,\r\nPH",
      "summary": "Schedule Deployment Plan based on Release (not branch)"
    }
  },
  {
    "key": "BAM-17885",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:48:29.000+0000",
      "created": "2016-09-14T20:00:31.000+0000",
      "description": "We would like a way to show the description of each deployment environment, so we can display the purpose of the deployment target (as our deployment targets change functions periodically). Currently, there is no easy way to display the information, which means we have to resort to secondary systems to show one extra bit of information.",
      "summary": "In the deployment list, display the description field as a column"
    }
  },
  {
    "key": "BAM-17884",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-14T17:00:49.000+0000",
      "description": "Bamboo should be able to parse the following test results:\r\n{code:xml|borderStyle=solid|borderColor=#6A8EB3|bgColor=#F8F8F8}\r\n'<test-case name=\"Red.ApplicationFakeTests.SessionSettingsmodelTests.InvalidExpirationDate(aProjectModel: FakeProjectModel { AttendeeAccessLabel = &quot;&quot;, AttendeeName = &quot;&quot;, CreatedDate = 2014-06-20T18:23:48.2887930A, ExpirationDate = null, Expires = False, ... })\" executed=\"False\" success=\"False\" time=\"0.0424511\">\r\n{code}\r\nThe additional parameter information in the test name would be formatted properly in a tool similar to Team City.\r\n",
      "summary": " Bamboo should parse test parameters like Team City"
    }
  },
  {
    "key": "BAM-17883",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-05T07:36:04.000+0000",
      "created": "2016-09-14T16:11:53.000+0000",
      "description": "\r\nh3. Summary\r\n\r\nTest methods that contain a '.' in their arguments get parsed incorrectly by Bamboo when displaying results and in the REST APIs.\r\n\r\nh3. Expected Results\r\nThe class/method split  last '.' before the arguments.\r\n\r\nh3. Actual Results\r\nThe class/method split is on the last '.'\r\n\r\n\r\nh3.Workaround\r\n\r\nThere is none at this time. ",
      "summary": "NUnit test class/method names are parsed incorrectly when there's a period in args"
    }
  },
  {
    "key": "BAM-17882",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-14T15:21:46.000+0000",
      "description": "h3. Summary\r\nWhen the build plan is changed in Deployment Project setting, Deployment Artifact Download task does not update with the latest shared artifact\r\n\r\nh3. Steps to Reproduce\r\n# Create build plan PLAN-ONE\r\n# Create two artifacts \"ArtifactOne\" and \"ArtifactTwo\"\r\n# Perform a build on PLAN-ONE\r\n# Create a Deployment project for PLAN-ONE\r\n# Set Artifact Download to download \"ArtifactOne\" to Destination Path \"One\" and \"ArtifactTwo\" to \"Two\"\r\n# Clone the plan to create PLAN-TWO and trigger a build\r\n# Edit Deployment project in Step 4 to use build plan PLAN-TWO\r\n# Create a release and deploy it\r\n\r\nh3. Expected Results\r\nArtifact Download task will download \"ArtifactOne\" to Destination Path \"One\" and \"ArtifactTwo\" to \"Two\"\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log:\r\n{noformat}\r\n2016-09-14 23:37:41,891 ERROR [http-nio-8085-exec-25] [ChainPluginSupportHelper] Task context data provider failed:java.lang.IllegalArgumentException: Unable to find an artifact definition for name: ArtifactTwo\r\n2016-09-14 23:37:41,892 INFO [http-nio-8085-exec-25] [DefaultErrorHandler] Recording an error: com.atlassian.bamboo.plugins.bamboo-artifact-downloader-plugin:artifactdownloadertask : 1245185-1409025 : Unable to find an artifact definition for name: ArtifactTwo\r\n2016-09-14 23:37:41,893 WARN [http-nio-8085-exec-25] [DeploymentExecutionServiceImpl] \r\njava.lang.RuntimeException: java.lang.IllegalArgumentException: Unable to find an artifact definition for name: ArtifactTwo\r\n\tat com.atlassian.bamboo.chains.ChainPluginSupportHelper.prepareRuntimeTaskData(ChainPluginSupportHelper.java:64)\r\n\tat com.atlassian.bamboo.deployments.execution.service.DeploymentExecutionServiceImpl.lambda$null$16(DeploymentExecutionServiceImpl.java:219)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:206)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextRunnerImpl.execute(CustomVariableContextRunnerImpl.java:33)\r\n\tat com.atlassian.bamboo.deployments.execution.service.DeploymentExecutionServiceImpl.lambda$execute$17(DeploymentExecutionServiceImpl.java:218)\r\n...\r\nCaused by: java.lang.IllegalArgumentException: Unable to find an artifact definition for name: ArtifactTwo\r\n\tat com.atlassian.bamboo.plugins.artifact.ArtifactDownloaderRuntimeDataProvider.populateRuntimeTaskData(ArtifactDownloaderRuntimeDataProvider.java:128)\r\n\tat com.atlassian.bamboo.chains.ChainPluginSupportHelper.prepareRuntimeTaskData(ChainPluginSupportHelper.java:40)\r\n{noformat}\r\n \r\nh3. Notes\r\n# The deployment will be hang and need to be stop manually\r\n# The Artifact Download does not show the original setting in Step 5. All artifacts option is selected. If the Deployment Project is edited to use back PLAN-ONE, the Artifact Download task will show the correct setting again\r\n# If \"ArtifactTwo\" is deleted in PLAN-TWO before Step 7 is performed, Bamboo will have a warning:\r\n{noformat}\r\nShared artifact 'ArtifactTwo' not found in the new source plan. Artifact is used in environment 'staging'\r\n{noformat}\r\n\r\nh3.Workaround\r\nNeed to reconfigure Deployment Artifact Download task in Step 5 again",
      "summary": "Deployment Artifact Download isn't updated with the latest shared artifact when the build plan is switched"
    }
  },
  {
    "key": "BAM-17881",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-19T09:04:08.000+0000",
      "created": "2016-09-14T14:40:11.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIn Bamboo download page there's a blog post which is not updated.There's a blog post which the person in it is not working for Atlassian.\r\n\r\nThis can be a problem because she no longer works for Atlassian so if a customer tries to communicate with that person it could be a dead end.\r\n\r\nPage: [https://www.atlassian.com/software/bamboo/download] \r\n See Attachment \r\n !Screen Shot 2016-09-14 at 11.25.29 AM.png!\r\nh3. Suggested Solution\r\n\r\nUpdate the blog post to the most recently one because it should be the latest news from Bamboo and currently it's showing the post from April 2015.",
      "summary": "Update on Bamboo page"
    }
  },
  {
    "key": "BAM-17880",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-03T08:28:59.000+0000",
      "created": "2016-09-14T13:12:31.000+0000",
      "description": "h3. Summary\r\nIssue-to-branch links in JIRA issues are not removed when the correspondent branches are removed from Bamboo\r\n\r\nh3. Environment\r\nReproduced in Bamboo Cloud:\r\nVersion: 5.12.4-D20160704T134120\r\nBuild number: 51215\r\nBuild date: 7/4/16\r\n\r\n\r\nh3. Steps to Reproduce\r\n# In Bamboo add a plan to an existing project or to a new one.\r\n# Edit the configuration for the plan\r\n# In *Plan Configuration > Branches* click on *Create plan branch* and add a branch having an existing issue key in the name\r\n# In JIRA open the issue having the key configured in previous step and see that an issue link to the *Bamboo Branch* has been created\r\n# Now go back to the *Plan Configuration* in Bamboo and delete the branch (created in step #3)\r\n\r\n\r\nh3. Expected Results\r\nThe issue link is removed from the JIRA issue\r\n\r\n\r\nh3. Actual Results\r\nThe issue link is still present in the JIRA issue with the message: \"{{Failed to load}}\" displayed next to it.\r\n \r\n\r\nh3.Workaround\r\nManually delete the links from the JIRA issue",
      "summary": "JIRA issue-to-branch links are not removed when the branch is deleted in Bamboo"
    }
  },
  {
    "key": "BAM-17879",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-13T21:42:46.000+0000",
      "description": "We have a need where we would like to keep logs for an indefinite period of time. The expiry configuration screen currently has the ability to configure exceptions for a minimum number of successful deployments to keep per environment. However, we would like to take this a bit further and have it set for a only a subset environments. For example many of our important environments have *production* somewhere in the name. So anything that has that string we would like to keep for a longer period of time. \r\n\r\nAt this time we\u2019re a bit limited because we would like to keep those results available. So we currently have set it to an extraordinarily high number. But if we had this feature it would enable us to be more aggressive with the expiry configuration. ",
      "summary": "Bamboo Global Expiry Granular Configuration"
    }
  },
  {
    "key": "BAM-17878",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-13T12:10:12.000+0000",
      "description": "Hi Atlassian,\r\n\r\nI have a large repository (\"Boost\" from www.boost.org) with >100 submodules. I am caching the main git repository on the agents, but right now the git clone is taking a lot of time due to the fact that the caching works only for the main repository and not for the submodules.\r\n\r\nIt would be great if Bamboo is also able to cache submodules on agents:\r\n- overall speedup of large projects\r\n- making builds more robust because they would be more agnostic to network outages (which happens quite often)\r\n\r\nThanks!\r\n... and I love Bamboo! :)",
      "summary": "Support caching of submodules on server and remote agents"
    }
  },
  {
    "key": "BAM-17877",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:27.000+0000",
      "created": "2016-09-13T11:59:42.000+0000",
      "description": "Hi Atlassian,\r\n\r\nI believe that a good feature for Bamboo would be that job requirements understand \"versions\", as it improves the overall expressivity of the builds.\r\n\r\nAs an example, I would like to run a build for\r\n- a custom capability \"cmake_version\" \"strictly greater than\" \"3.5\"\r\n- and and \"cuda_version\" \"lower than\" \"8\"\r\n- and a \"python_version\" \"greater or equal to\" \"2.7.12\"\r\n- and a \"boost_version\" \"greater or equal to\" \"1.62\"\r\n\r\nThat would help:\r\n- expressing requirements\r\n- managing software/os versions on agents\r\n\r\nThanks for considering this,\r\nRaffi Enficiaud",
      "summary": "Job requirement able to understand and compare versions"
    }
  },
  {
    "key": "BAM-17876",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-13T10:22:05.000+0000",
      "description": "At the moment, Bamboo does not extract the IM account from the LDAP server.\r\n\r\nIt would be better if Bamboo can be configured to get the IM account for the LDAP users.",
      "summary": "Extract IM account from LDAP server"
    }
  },
  {
    "key": "BAM-17875",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-09T17:28:35.000+0000",
      "created": "2016-09-12T17:27:14.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, adding nodes to deploy environments is a manual task involving adding multiple tasks, which can be time consuming if there are many nodes or target servers to be added.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd a REST API endpoint or \"bulk\" feature for adding tasks to deployments\r\nh3. Workaround\r\n\r\n(!) Please note: This has only been tested on my local machine, individual use cases may vary.\r\n\r\nUse a script task with a for loop, such as:\r\n{code:java|title=test.sh}\r\n#! /bin/sh\r\n\r\nservers=\"server_1 server_2 server_3 server_4 server_5 server_6 server_7 server_8 server_9 server_10 server_11 server_12 server_13 server_14 server_15 server_16 server_17 server_18 server_19 server_20 server_21 server_22 server_23 server_24 server_25 server_26 server_27 server_28 server_29 server_30\"\r\n\r\ndeployment_task() {\r\n    echo \"scp /path/to/artifact user@${server}\"\r\n    do_something_else\r\n}\r\n\r\ndo_something_else(){\r\n    # TODO: Another method here\r\n    echo \"testing\"\r\n}\r\n\r\nfor server in ${servers}; do \r\n    # if needed, add some multi-process logic here\r\n    # maybe with a maximum number of processes\r\n    # to avoid stalling the server\r\n\r\n    echo \"deploy to ${server}\";\r\n    deployment_task;\r\ndone \r\n\r\n{code}\r\nh3. Related Improvement Requests\r\n * https://jira.atlassian.com/browse/BAM-17813\r\n * https://jira.atlassian.com/browse/BAM-17849",
      "summary": "Programmatically add nodes to deploy environment"
    }
  },
  {
    "key": "BAM-17874",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-19T10:02:49.000+0000",
      "created": "2016-09-09T17:59:28.000+0000",
      "description": "h3. Summary\r\n* Pre-existent plan branches do not get updated when replaced repository configuration. \r\n\r\nh3. Environment\r\n* Bamboo v5.13.0.1\r\n\r\nh3. Steps to Reproduce\r\n(i) *Git* repository has two branches (_e.g. master, feature/branch_)\r\n# create a Project / Plan (_e.g PROJ-PLAN_)\r\n# create a *Git* repository (_e.g. Repository *A*_) under {{Plan configuration >> Repositories}} tab or {{Bamboo administration >> Build resources >> Linked repository}} adding the linked repository to the plan\r\n# add a {{Source Code Checkout}} task\r\n# run the build plan\r\n# go to {{Plan configuration >> Branches}} tab and add a new branch (_e.g. PROJ-PLAN0_)\r\n# run a build from this branch\r\n# *delete* the repository in Bamboo\r\n# add the same *Git* repository with a different name (_e.g Repository *B*_) under {{Plan configuration >> Repositories}} tab or {{Bamboo administration >> Build resources >> Linked repository}} adding the linked repository to the plan\r\n\r\n(i) *Subversion* does not have branches\r\n# instead of adding *Git* repository in step 8 from above, repeat steps 7-8 but adding a *Subversion* repository instead.\r\n\r\nh3. Expected Results\r\n* Branches should be disabled\r\n\r\nh3. Actual Results\r\n* *When using {color:red}same{color} repository type*\r\nAfter deletion you can notice the Plan will be using _Repository *B*_ whereas the Branch will be using _Repository *A*_ configurartion\r\n||FULL_KEY||BUILD_TYPE||VCS_LOCATION_ID||NAME||PLUGIN_KEY||\r\n|PROJ-PLAN0|CHAIN_BRANCH|3047425|Repository A|com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-git:git|\r\n|PROJ-PLAN|CHAIN|3047426|Repository B|com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-git:git|\r\n* *When using {color:red}different{color} repository type*\r\n||FULL_KEY||BUILD_TYPE||VCS_LOCATION_ID||NAME||PLUGIN_KEY||\r\n|PROJ-PLAN0|CHAIN_BRANCH|3047425|Repository A|com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-git:git|\r\n|PROJ-PLAN|CHAIN|3047426|Repository B|com.atlassian.bamboo.plugin.system.repository:svn|\r\n\r\nh3. Workaround\r\n* Make sure the branches are are pointing to the correct repository under {{Branches >> Source repository}}\r\n** Under {{Branches >> Source repository}}, uncheck *Override the plan's default repository* and *Save repository*\r\n** Under {{Branches >> Source repository}}, check *Override the plan's default repository* and reconfigure branch.",
      "summary": "Recreating repository requires reconfiguring branches in Source repository tab"
    }
  },
  {
    "key": "BAM-17873",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-08T15:14:32.000+0000",
      "created": "2016-09-09T11:34:31.000+0000",
      "description": "Especially when run for the first time. In case a full batch of build results is removed (500), it make take up to 20s to remove single build results (consisting of ~10 job results).\r\nMost probably this is related to Hibernate session not flushed and Hibernate going through all objects in session.\r\nWe should:\r\n- find out if this is Hibernate slowing us down or something else\r\n- should we decrease batch size (from 500 to 100?)\r\n\r\nExample from Cloud instance with 1.5GB heap allocated. It took 6 minutes to delete single Chain result (that was probably at the end of 500 records batch)\r\n{noformat}\r\n2016-09-09 14:42:10,748 WARN [7-BuildExpiryBean:pool-13-thread-1] [BuildResultsSummaryManagerImpl] Couldn't delete log file for plan [GBEE-DSRT-RFS1], build [1633], file [/data/jirastudio/bamboo/home/xml-data/builds/GBEE-DSRT-RFS1/download-data/build_logs/GBEE-DSRT-RFS1-1633.log]\r\n2016-09-09 14:42:10,754 WARN [7-BuildExpiryBean:pool-13-thread-1] [BuildResultsSummaryManagerImpl] Couldn't delete log file for plan [GBEE-DSRT], build [1633], file [/data/jirastudio/bamboo/home/xml-data/builds/GBEE-DSRT/download-data/build_logs/GBEE-DSRT-1633.log]\r\n2016-09-09 14:48:38,303 WARN [7-BuildExpiryBean:pool-13-thread-1] [BuildResultsSummaryManagerImpl] Couldn't delete log file for plan [GBEE-DSRT-RFS1], build [1794], file [/data/jirastudio/bamboo/home/xml-data/builds/GBEE-DSRT-RFS1/download-data/build_logs/GBEE-DSRT-RFS1-1794.log]\r\n2016-09-09 14:48:38,304 WARN [7-BuildExpiryBean:pool-13-thread-1] [BuildResultsSummaryManagerImpl] Couldn't delete log file for plan [GBEE-DSRT-RFS2], build [1794], file [/data/jirastudio/bamboo/home/xml-data/builds/GBEE-DSRT-RFS2/download-data/build_logs/GBEE-DSRT-RFS2-1794.log]\r\n2016-09-09 14:48:38,305 WARN [7-BuildExpiryBean:pool-13-thread-1] [BuildResultsSummaryManagerImpl] Couldn't delete log file for plan [GBEE-DSRT-ISF], build [1794], file [/data/jirastudio/bamboo/home/xml-data/builds/GBEE-DSRT-ISF/download-data/build_logs/GBEE-DSRT-ISF-1794.log]\r\n2016-09-09 14:48:38,305 WARN [7-BuildExpiryBean:pool-13-thread-1] [BuildResultsSummaryManagerImpl] Couldn't delete log file for plan [GBEE-DSRT], build [1794], file [/data/jirastudio/bamboo/home/xml-data/builds/GBEE-DSRT/download-data/build_logs/GBEE-DSRT-1794.log]\r\n{noformat}\r\n",
      "summary": "Build expiry is slow for results with lots of tests (?)"
    }
  },
  {
    "key": "BAM-17872",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-08T14:59:12.000+0000",
      "description": "When a Job Detail is edited, the Job Description is using a Text Field.\r\n\r\nIt would be better if it is in Text Area Field so that it would be easier to fill in longer text.",
      "summary": "Larger Job Description Field"
    }
  },
  {
    "key": "BAM-17871",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-03T15:44:23.000+0000",
      "created": "2016-09-08T12:09:36.000+0000",
      "description": "h3. Summary\r\nGroup Administration page does not read the data from the LDAP cache\r\n\r\nh3. Steps to Reproduce\r\n# Configure Bamboo {{ehcache.xml}} to enable LDAP cache\r\n# Configure Bamboo to use LDAP\r\n# Access Administration Groups page\r\n\r\nh3. Expected Results\r\nThe page will load with data from the LDAP cache\r\n\r\nh3. Actual Results\r\nIf there are too many users/groups, the page will take a lot of time to load\r\nEnabling debug logging for \"com.atlassian.user\" will show the following in the atlassian-bamboo.log file:\r\n{noformat}\r\n2016-09-08 20:08:06,823 INFO [http-nio-8085-exec-8] [AccessLogFilter] kahloun.foong GET http://localhost:8085/admin/group/viewGroups.action 556609kb\r\n2016-09-08 20:08:06,888 DEBUG [http-nio-8085-exec-8] [LDAPStaticGroupAdaptor] Searching for groups using base name space:ou=groups,DC=example,DC=com and encoded filter (&(objectClass=groupOfUniqueNames)(objectClass=groupOfUniqueNames))\r\n2016-09-08 20:08:06,890 DEBUG [http-nio-8085-exec-8] [LDAPStaticGroupAdaptor] found at least one group\r\n2016-09-08 20:08:06,892 INFO [http-nio-8085-exec-8] [DefaultActionInvocation] Using doBrowse() instead of browse on browseGroups\r\n2016-09-08 20:08:06,899 DEBUG [http-nio-8085-exec-8] [LDAPStaticGroupAdaptor] Searching for groups using base name space:ou=groups,DC=example,DC=com and encoded filter (&(objectClass=groupOfUniqueNames)(&(cn=bamboo-admin)(objectClass=groupOfUniqueNames)))\r\n2016-09-08 20:08:06,901 DEBUG [http-nio-8085-exec-8] [LDAPStaticGroupAdaptor] found at least one group\r\n2016-09-08 20:08:06,903 DEBUG [http-nio-8085-exec-8] [LDAPMembershipToUsernamePager] LDAPMembershipToUse.findByDN [ uid=test,ou=users,dc=example,dc=com ] username [ test ]\r\n2016-09-08 20:08:06,906 DEBUG [http-nio-8085-exec-8] [LDAPStaticGroupAdaptor] Searching for groups using base name space:ou=groups,DC=example,DC=com and encoded filter (&(objectClass=groupOfUniqueNames)(&(cn=Administrators)(objectClass=groupOfUniqueNames)))\r\n2016-09-08 20:08:06,908 DEBUG [http-nio-8085-exec-8] [LDAPStaticGroupAdaptor] found at least one group\r\n2016-09-08 20:08:06,910 DEBUG [http-nio-8085-exec-8] [LDAPMembershipToUsernamePager] LDAPMembershipToUse.findByDN [ uid=admin,ou=users,dc=example,dc=com ] username [ admin ]\r\n2016-09-08 20:08:06,911 DEBUG [http-nio-8085-exec-8] [LDAPMembershipToUsernamePager] LDAPMembershipToUse.findByDN [ uid=test2,ou=users,dc=example,dc=com ] username [ test2 ]\r\n2016-09-08 20:08:06,912 DEBUG [http-nio-8085-exec-8] [LDAPMembershipToUsernamePager] LDAPMembershipToUse.findByDN [ uid=test3,ou=users,dc=example,dc=com ] username [ test3 ]\r\n{noformat}",
      "summary": "Administration Group page does not load data from the LDAP cache"
    }
  },
  {
    "key": "BAM-17869",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-14T12:33:52.000+0000",
      "created": "2016-09-07T14:12:22.000+0000",
      "description": "It is not a great idea to allow anyone who can edit a build plan or deployment environment to have the ability to Dedicate Bamboo Agents! We really need the ability to block this functionality. We have had many occurrences where someone has dedicated agents to their jobs and blocked other users and teams from being able to run builds.",
      "summary": "Add security setting to Block users from being able to Dedicate Agents to Build Plans and Deployment Enviroments"
    }
  },
  {
    "key": "BAM-17868",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-06T13:37:34.000+0000",
      "created": "2016-09-06T11:19:12.000+0000",
      "description": "h3. Summary\r\nAWS CodeDeploy task displays limited list of AWS regions\r\n\r\nh3. Steps to Reproduce\r\n# Go to plan configuration\r\n# Add AWS CodeDeploy task\r\n\r\nh3. Expected Results\r\nConfiguration will allow to use all regions\r\n\r\nh3. Actual Results\r\nLimited list of regions is displayed:\r\n !Screenshot from 2016-09-06 13-17-09.png|thumbnail! \r\n\r\nh3.Workaround\r\nNo workaround",
      "summary": "AWS CodeDeploy is not displaying all regions"
    }
  },
  {
    "key": "BAM-17867",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-14T14:37:13.000+0000",
      "created": "2016-09-06T06:26:44.000+0000",
      "description": "h3. Summary\r\nIn Bamboo 5.13 defining an artifact definition with a location of '/' will cause the artifact copy to traverse root -- consuming a lot of system resources and causing Bamboo to hang or build to fail with OOM.\r\n\r\nIt was possible to define a location of '/' in Bamboo 5.12.3 however the behavior was different, it would still work relatively.\r\n\r\nIf this was intended from [BAM-16970|https://jira.atlassian.com/browse/BAM-16970], possibly the upgrade needs to convert the src_directory for the artifact definition to relative as not to cause issues upon upgrade from 5.12.x. \r\n\r\nThe UI still reports that the Location path is relative.\r\n\r\nh3. Steps to Reproduce\r\n# Create a build plan on 5.12\r\n# Define shared artifact with:\r\n{code}Location: /\r\nCopy pattern: **/*{code}\r\n# Run build > Works successfully and shares only the build-dir as artifacts\r\n# Upgrade same DB to 5.13\r\n# Run same build > We get messages about skipping symbolic links from root (depending on FS) > System resource usage escalates > Can eventually OOM depending on setup\r\n\r\nh3. Expected Results\r\nDepending on intended behavior either:\r\n* Upgrade task should convert Location with starting '/' to a relative path or\r\n* Search should be relative and absolute paths disallowed\r\n\r\nh3. Actual Results\r\nSame artifact definition from 5.12 causes issues in 5.13.\r\n\r\nBuild messages stop here:\r\n{code}\r\n2016-09-05 22:01:55,607 INFO [17-BAM::Agent::Agent:pool-33-thread-1] [BuildArtifactPostProcessor] Copying the build artifacts for build: TEST-PLAN-JOB-1\r\n{code}\r\n\r\nWe then see lots of messages of skipping symbolic links at the root of the filesystem. E.g.:\r\n{code}\r\nskipping symbolic link /lib/recovery-mode/recovery-mode/recovery-mode/recovery-mode/recovery-mode/recovery-mode -- too many levels of symbolic links.\r\nskipping symbolic link /proc/self/task/2749/root/lib/recovery-mode/recovery-mode/recovery-mode/recovery-mode/recovery-mode/recovery-mode -- too many levels of symbolic links.\r\n{code}\r\n\r\nh3. Notes\r\nCheck extent of affected definitions with:\r\n{code:borderStyle=solid}\r\nSELECT b.FULL_KEY, a.SRC_DIRECTORY, a.COPY_PATTERN\r\nFROM ARTIFACT_DEFINITION a\r\nINNER JOIN BUILD b\r\nON a.PRODUCER_JOB_ID=b.BUILD_ID\r\nWHERE a.SRC_DIRECTORY LIKE '/%';\r\n{code}\r\nThis will return any that start at root, however the problematic ones are likely just to be only the ones with '/' as if they were previously defined as relative paths, the rest of the path very likely won't exist at root.\r\n \r\nh3. Workaround\r\n* Remove starting \"/\" from Location for artifact definition at *Plan Configuration >> Job >> Artifacts*\r\n* or DB query that will modify {{ARTIFACT_DEFINITION.SRC_DIRECTORY}}\r\n",
      "summary": "Artifact definition location '/' is traversing root in Bamboo 5.13"
    }
  },
  {
    "key": "BAM-17866",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-06T12:56:12.000+0000",
      "created": "2016-09-05T05:21:05.000+0000",
      "description": "h3. Summary\r\n\r\nDefaultListableBeanFactory Ignoring bean creation exception. The nested exception is logged only when the log4j properties is tweaked to log DEBUG for {{org.springframework.beans.factory.support}}\r\n\r\nThe nested exception at the root of the problem often causes Bamboo to 'hang' on the following\u00a0with nothing meaningful logged. E.g:\r\n{code}\r\n2016-08-01 23:21:00,440 INFO [localhost-startStop-1] [StdSchedulerFactory] Quartz scheduler 'scheduler' initialized from an externally provided properties instance.\r\n2016-08-01 23:21:00,440 INFO [localhost-startStop-1] [StdSchedulerFactory] Quartz scheduler version: 1.8.6\r\n2016-08-01 23:21:00,441 INFO [localhost-startStop-1] [QuartzScheduler] JobFactory set to: com.atlassian.bamboo.quartz.AutowiringJobFactory@293ad6c3\r\n{code}\r\nActiveMQ will then repeatedly restart on roughly a 15 minute interval while the application is left up.\r\nh3. Steps to Reproduce\r\n # Add the following to {{<bamboo-install>/atlassian-bamboo/WEB-INF/classes/log4j.properties}}:\r\n{code:java}\r\nlog4j.logger.org.springframework.beans.factory.support=DEBUG\r\n{code}\r\n # Change ownership / revoke permissions on {{<bamboo-home>/caches/plugins/felix}} for the Bamboo user\r\n # Start Bamboo\r\n\r\nh3. Expected Results\r\n\r\nSomething like the following is logged at a higher level that is captured by default. _Ideally_ we would send this up to the UI.\r\n{code:java}\r\norg.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.plugin.osgi.container.impl.DefaultOsgiPersistentCache]: Constructor threw exception; nested exception is com.atlassian.plugin.osgi.container.OsgiContainerException: Unable to clean the cache directory: /var/bamboo-home/caches/plugins/felix\r\n{code}\r\nh3. Actual Results\r\n\r\nThe below exception is logged in the _catalina.out_ file only when _DEBUG_ for is enabled\r\n{noformat}\r\n2016-08-30 14:24:43,825 DEBUG [localhost-startStop-1] [DefaultListableBeanFactory] Ignoring bean creation exception on FactoryBean type check: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'planStatePersister' defined in class path resource [applicationContextManagers.xml]: Cannot create inner bean 'com.atlassian.bamboo.plan.PlanStatePersisterImpl#8888e86' of type [com.atlassian.bamboo.plan.PlanStatePersisterImpl] while setting bean property 'target'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.atlassian.bamboo.plan.PlanStatePersisterImpl#8888e86' defined in class path resource [applicationContextManagers.xml]: Cannot resolve reference to bean 'planManager' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'planManager' defined in class path resource [applicationContextManagers.xml]: Cannot create inner bean 'com.atlassian.bamboo.plan.PlanManagerImpl#17374ac2' of type [com.atlassian.bamboo.plan.PlanManagerImpl] while setting bean property 'target'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.atlassian.bamboo.plan.PlanManagerImpl#17374ac2' defined in class path resource [applicationContextManagers.xml]: Cannot resolve reference to bean 'planScheduler' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'planScheduler' defined in class path resource [applicationContextManagers.xml]: Cannot resolve reference to bean 'triggerTypeManager' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'buildStrategyManager' defined in class path resource [applicationContextManagers.xml]: Cannot resolve reference to bean 'pluginAccessor' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManager' defined in class path resource [applicationContextPlugin.xml]: Cannot create inner bean 'util:list#5ebc7cda' of type [org.springframework.beans.factory.config.ListFactoryBean] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'util:list#5ebc7cda': Cannot resolve reference to bean 'bundledPluginLoader' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bundledPluginLoader' defined in class path resource [applicationContextPlugin.xml]: Cannot create inner bean 'util:list#477d8f5b' of type [org.springframework.beans.factory.config.ListFactoryBean] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'util:list#477d8f5b': Cannot resolve reference to bean 'osgiPluginFactory' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'osgiPluginFactory' defined in class path resource [applicationContextPluginCommon.xml]: Cannot resolve reference to bean 'osgiPersistentCache' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'osgiPersistentCache' defined in class path resource [applicationContextPluginCommon.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.plugin.osgi.container.impl.DefaultOsgiPersistentCache]: Constructor threw exception; nested exception is com.atlassian.plugin.osgi.container.OsgiContainerException: Unable to clean the cache directory: /var/bamboo-home/caches/plugins/felix\r\n{noformat}\r\nh3. Notes\r\n\r\nThere are additional causes and exceptions that can be uncovered in the same area. See the following knowledge-base article for a few other known causes:\r\n* [Bamboo startup pauses with no meaningful log entries and ActiveMQ continuously restarts|https://confluence.atlassian.com/bamkb/bamboo-startup-pauses-with-no-meaningful-log-entries-and-activemq-continuously-restarts-836079308.html]\r\n\r\nThe remote agent logs the same exception as WARN:\r\n{code:java}\r\nINFO   | jvm 1    | 2016/08/30 16:46:23 | 2016-08-30 16:46:23,081 WARN [AgentRunnerThread] [ClassPathXmlApplicationContext] Exception encountered during context initialization - cancelling refresh attempt\r\nINFO   | jvm 1    | 2016/08/30 16:46:23 | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storageTagService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.atlassian.bamboo.v2.build.agent.capability.AgentContext com.atlassian.bamboo.v2.build.agent.remote.RemoteAgentStorageTagService.agentContext; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'directoryScanningPluginLoader' defined in class path resource [applicationContextPluginCommon.xml]: Cannot create inner bean 'util:list#1ff8f273' of type [org.springframework.beans.factory.config.ListFactoryBean] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'util:list#1ff8f273': Cannot resolve reference to bean 'osgiPluginFactory' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'osgiPluginFactory' defined in class path resource [applicationContextPluginCommon.xml]: Cannot resolve reference to bean 'osgiPersistentCache' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'osgiPersistentCache' defined in class path resource [applicationContextPluginCommon.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.plugin.osgi.container.impl.DefaultOsgiPersistentCache]: Constructor threw exception; nested exception is com.atlassian.plugin.osgi.container.OsgiContainerException: Unable to clean the cache directory: /var/bamboo-home/caches/plugins/felix\r\nINFO   | jvm 1    | 2016/08/30 16:46:23 | \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:301)\r\nINFO   | jvm 1    | 2016/08/30 16:46:23 | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1186)\r\nINFO   | jvm 1    | 2016/08/30 16:46:23 | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:53\r\n{code}",
      "summary": "Ignoring bean creation exception - nested exception is logged only at DEBUG"
    }
  },
  {
    "key": "BAM-17865",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-05T06:56:14.000+0000",
      "created": "2016-09-02T22:35:09.000+0000",
      "description": "h3. Summary\r\nUnder {{Bamboo administration >> Add-ons >> Manage add-ons}} the following message is seen:\r\n{panel}(!) This version of Bamboo is unrecognized by the Atlassian Marketplace. It might be a non-standard build or be too new to appear.{panel}\r\n\r\nh3. Environment\r\n* Bamboo v5.12.4\r\n\r\nh3. Steps to Reproduce\r\n* Go to {{Bamboo administration >> Add-ons >> Manage add-ons}}\r\n\r\nh3. Expected Results\r\n* Not having the message being displayed.\r\n\r\nh3. Actual Results\r\n* The following message gets displayed:\r\n{panel}(!) This version of Bamboo is unrecognized by the Atlassian Marketplace. It might be a non-standard build or be too new to appear.{panel}\r\n\r\n\r\nh3. Notes\r\nThe API call does not retrieve data:\r\n* http://bamboo_base_url/rest/1.0/applications/bamboo/51217\r\n* (i) 51217 is the Build Number located under \"{{<bamboo-home>/bamboo.cfg.xml}}\"",
      "summary": "This version of Bamboo is unrecognized by the Atlassian Marketplace. It might be a non-standard build or be too new to appear."
    }
  },
  {
    "key": "BAM-17864",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-12-29T13:45:51.000+0000",
      "created": "2016-09-02T16:30:06.000+0000",
      "description": "h3. Problem\r\n\r\nWindows is not able to parse shebang line at the top of an inline script\r\n\r\n\r\n*(EDIT AFTER FIX)* \r\n The following line is an example of how this is working for windows:\r\n{code:java}\r\n#!C:\\progra~1\\Git\\bin\\sh.exe{code}\r\n(!) It is a normal shebang that should not contain spaces in the path nor be quoted.",
      "summary": "In script task, parse the shebang line and execute that interpreter directly"
    }
  },
  {
    "key": "BAM-17863",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-02T16:23:48.000+0000",
      "description": "h3. Problem Definition\r\nThe atlassian-bamboo.log are being filled with WARN messages by the 'ConfigUtils' class when editing a linked repostiory or during start-up. The following are some samples of the messages.\r\n\r\nh6. Warning messages when editing linked repository\r\n{code}\r\n2016-08-15 16:25:23,579 INFO [http-nio-8085-exec-5] [AccessLogFilter] admin GET https://bamboo/admin/editGlobalRepository.action?repositoryId=11111111&decorator=nothing&confirm=true&_=1471302457638 1853615kb\r\n2016-08-15 16:25:23,648 WARN [http-nio-8085-exec-5] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n2016-08-15 16:25:26,468 WARN [http-nio-8085-exec-5] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n2016-08-15 16:25:26,564 WARN [http-nio-8085-exec-5] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n{code}\r\n\r\nh6. Warning messages when starting up Bamboo\r\n{code}\r\n2016-08-17 14:12:43,416 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Plan cache initialising...\r\n2016-08-17 14:12:43,416 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Plan cache is being enabled\r\n2016-08-17 14:12:43,417 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Initialising plan cache with 2 threads.\r\n2016-08-17 14:12:43,909 WARN [14-ImmutablePlanCacheServiceImpl.initialiseCache:pool-30-thread-1] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n2016-08-17 14:12:43,923 WARN [14-ImmutablePlanCacheServiceImpl.initialiseCache:pool-30-thread-1] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n2016-08-17 14:12:43,936 WARN [14-ImmutablePlanCacheServiceImpl.initialiseCache:pool-30-thread-1] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n...\r\n2016-08-17 14:13:01,868 WARN [14-ImmutablePlanCacheServiceImpl.initialiseCache:pool-30-thread-2] [ConfigUtils] Non string object found in Build Configuration using .toString() representation. Key: bambooDelimiterParsingDisabled, Object Class: class java.util.ArrayList\r\n2016-08-17 14:13:01,868 INFO [14-ImmutablePlanCacheServiceImpl.initialiseCache:pool-30-thread-2] [ImmutablePlanCacheServiceImpl] 251 of 251 plans initialised\r\n2016-08-17 14:13:01,869 INFO [localhost-startStop-1] [ImmutablePlanCacheServiceImpl] Plan cache initialised in 18.45 s\r\n{code}\r\n\r\n\r\nh3. Suggested Solution\r\nFix the log warning for the ConfigUtils class method asMap.\r\n\r\nh3. Workaround \r\nVia [Logging in Bamboo|https://confluence.atlassian.com/display/BAMBOO/Logging+in+Bamboo], manually change the level of logging for the package 'com.atlassian.bamboo.utils.ConfigUtils' and set it to 'ERROR' level to reduce the amount of logging.",
      "summary": "Reduce the 'WARN' messages thrown by the ConfigUtils class"
    }
  },
  {
    "key": "BAM-17862",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-11-15T13:11:20.000+0000",
      "created": "2016-09-02T14:37:28.000+0000",
      "description": "h3. Summary\r\n\r\nWhen trying to delete a repository of a type that is driven by a plugin, an {{IllegalStateException}} occurs with the following message if the plugin is disabled:\r\n\r\n{noformat}\r\njava.lang.IllegalStateException: Cannot load repository with key <pluginKey>. Plugins may have been disabled.{noformat}\r\n\r\nwhere {{<pluginKey>}} is the plugin key of the repository type in question, e.g. {{com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-git:git}} for git repositories.\r\n\r\nh3. Steps to Reproduce\r\n# Stop Bamboo\r\n# Disable a plugin that drives a repository type that you're using in a plan\r\n# Start Bamboo\r\n# Navigate to a plan that uses a repository of a type whose plugin you disabled in step 2\r\n# Try to delete the repository\r\n\r\nh3. Expected Results\r\n\r\nThe repository is deleted.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception occurs:\r\n\r\n{noformat}java.lang.IllegalStateException: Cannot load repository with key <pluginKey>. Plugins may have been disabled.{noformat}\r\n\r\nwhere {{<pluginKey}} is the plugin key of the repository type in question, e.g. {{com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-git:git}} for git repositories.\r\n\r\nh3.Workaround\r\n\r\nRe-enable the previously disabled plugin, then delete the repository, then disable the plugin again.",
      "summary": "IllegalStateException occurs when deleting repository if plugin is disabled"
    }
  },
  {
    "key": "BAM-17861",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:44.000+0000",
      "created": "2016-09-02T14:15:13.000+0000",
      "description": "When a job that is triggered by new commits is in a queue for a long time, by the time there is a free agent there may have been yet more commits. It would be good to refresh the source code checkouts right before building, to avoid spending valuable agent time on old commits and having build results perpetually unnecessarily delayed.",
      "summary": "Queued jobs should refresh source checkout before building"
    }
  },
  {
    "key": "BAM-17860",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-08T21:51:41.000+0000",
      "created": "2016-09-02T08:02:03.000+0000",
      "description": "Plugin Rest API Browser should be supported by Bamboo.\r\nRight now it shows empty list of available API\r\nThere's a line in Bamboo logs \r\n{code}\r\n401 .../api/1.0/application.wadl\r\n{code}\r\n\r\nPeople wants it https://marketplace.atlassian.com/plugins/com.atlassian.labs.rest-api-browser/server/reviews",
      "summary": "Fix Rest API Browser plugin "
    }
  },
  {
    "key": "BAM-17859",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-02T02:47:15.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen selecting a child pan as a dependancy, only a maximum number of 10 plans is suggested, even when there may be a larger number of appropriate matches. \u00a0This menu may not present the desired plan to include.\u00a0\r\n\r\n\u00a0\r\n\r\nSuggested Solution\r\n\r\nAdd the ability\u00a0to scroll on the list, rather than to continually \"prompt\" in the search field, when there are greater than 10 results. Some plan names may be quite long, so variable width for this field would be desirable as well.",
      "summary": "Improve the Child Plans Dependancy menu"
    }
  },
  {
    "key": "BAM-17857",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-20T13:30:36.000+0000",
      "created": "2016-09-01T19:09:20.000+0000",
      "description": "h3. Summary\r\nLDAP users intermittently cannot login which to the admin may result in the inability to edit or add user to permissions. \r\n\r\nThe following error is received via user interface:\r\n{noformat}\r\nUnable to find the user. The username <em>user_name_here</em> may be incorrect.\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n# Integrate Bamboo with LDAP\r\n# Enable caching in the atlassian-user.xml setting {{cache=\"true\"}} \r\n# Create a group and associate an LDAP user\r\n# Remove the user from the group and wait for the cache to run\r\n\r\nh3. Expected Results\r\nBamboo should remove the user from group\r\n\r\nh3. Actual Results\r\nUser is not removed from group and upon restart of Bamboo that user can log in but other users now face the same issue\r\n\r\nh3.Workaround\r\nPlease see [LDAP - Users are intermittently unable to login|https://confluence.atlassian.com/bamkb/ldap-users-are-intermittently-unable-to-login-294489289.html]",
      "summary": "LDAP users intermittently unable to login"
    }
  },
  {
    "key": "BAM-17856",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-01T15:16:05.000+0000",
      "description": "h3. Problem Definition\r\nAs an admin of Bamboo I have a need to accurately adjust and monitor the database connections Bamboo creates and use. Right now Bamboo has no feature to provide such data and the monitoring need to be performed by an external tool.\r\n\r\nh3. Suggested Solution\r\nJIRA has a feature for this which can be found at *Admin >> System >> Database Monitoring*. It provides a graphic view of connection pool available and active, which is really useful to help us understand our load and plan database connections adjusts. This could be a good solution for Bamboo also.\r\n\r\nThis is a standard graph from a JIRA connection pool monitoring:\r\n !database_monitoring.png|thumbnail!\r\n\r\nIt also has a different graphic for database IO.",
      "summary": "Add database monitoring to Bamboo (similar to JIRA)"
    }
  },
  {
    "key": "BAM-17855",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:59.000+0000",
      "created": "2016-09-01T15:02:02.000+0000",
      "description": "h3. Summary\r\nRestoring empty backup to MS SQL server will load non stop\r\nThere are a lot of error message when Bamboo connect to MS SQL\r\n\r\nh3. Environment\r\n* Windows Server 2012\r\n* SQL Server 2012\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 5.9.7\r\n# Configure connection to MS SQL\r\n# Create a backup\r\n# Shutdown Bamboo 5.9.7\r\n# Install Bamboo 5.13.0.1\r\n# Configure connection to MS SQL (another database)\r\n# Select import from backup in step 3\r\n\r\nh3. Expected Results\r\nThe restore will finish successfully\r\n\r\nh3. Actual Results\r\n# The page is loading non stop\r\n# Trying to select data in MS SQL server will also loading non stop\r\n# In Step 6 and 7, there are a lot of errors trying to drop foreign keys and column that does not exist yet but this error does not happen in Bamboo 5.9.7\r\n\r\nh3.Notes\r\n# Trying to access http://localhost:8085 in a new tab when the import is loading non stop will have the following message:\r\n{noformat}\r\nBamboo is currently importing. Depending on the number of builds and test results, the time until Bamboo is available will vary. Bamboo will automatically become available as soon as this task is complete.\r\n{noformat}\r\n# If Bamboo 5.13.0.1 is shut down when the import is loading non stop, some tables do not have any data restored yet",
      "summary": "Restoring empty backup to MS SQL server will load non stop"
    }
  },
  {
    "key": "BAM-17853",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-09T18:01:29.000+0000",
      "created": "2016-09-01T12:43:56.000+0000",
      "description": "Another thought after reading [https://answers.atlassian.com/questions/40351191/evaluation-of-bamboo-embedded-db-error.]\r\n\r\nPlease decide if it makes sense to run embedded DB check if Bamboo is using evaluation license.",
      "summary": "Embedded DB health check should not be run for evaluation license"
    }
  },
  {
    "key": "BAM-17852",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-01T08:20:43.000+0000",
      "description": "h3. Summary\r\n\r\nIn case that Bamboo is integrated with external directories, remember-me token should be ignored when users managed in the directories log in Bamboo at least.\r\nThe root need is that users can still log in after an administrator forces a password change (due to the remember-me token).\r\n\r\nh3. Environment\r\n * Bamboo 5.13.0.1\r\n * Crowd 2.9.1\r\n\r\nh3. Steps to Reproduce\r\n # Integrate Bamboo with Crowd\r\n # Log in Bamboo with a user (User A) and then, check \"Remember my login on this computer\"\r\n # Restart the browser\r\n # Access Bamboo with the same browser\r\n\r\nh3. Expected Results\r\n\r\nBamboo should show login page and need User A to input the credentials\r\nh3. Actual Results\r\n\r\nUser A could log in without any authentication.\r\nh3. Notes\r\n * The above actual results might cause some troubles in the following scenario{panel}_In case that there are some password leakages, an admin of the external directories wants the users to update their passwords immediately._\r\n # In the past, User A logged in Bamboo with checking \"Remember my login on this computer\"\r\n # An admin of Crowd notices that a password of User A was leaked\r\n # The admin access Crowd, open user setting page of User A and set an attribute called \"requiresPasswordChange\" as \"true\" (It would require User A to update the password when the next login.)\r\n # In spite of the above setting, User A can log in Bamboo without updating the password{panel}\r\n* JIRA, Confluence and Bitbucket Server behave as well at this moment\r\n\r\nh3. Workaround\r\n\r\nDisabling remember-me token is only the workaround.",
      "summary": "When a password in an external directory is reset, Administrators should have an option to invalidate 'remember me' tokens"
    }
  },
  {
    "key": "BAM-17851",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-01T07:26:18.000+0000",
      "description": "h3. Problem Definition\r\nSlightly misleading log messages logged for all deployment projects to {{atlassian-bamboo.log}} when the server is paused and the deployment dashboard is visited or on REST call to {{rest/api/latest/deploy/dashboard/?_=}}\r\n\r\n{code}\r\n2016-08-31 16:06:38,536 INFO [http-bio-8085-exec-9] [DeploymentPermitterImpl] Could not start deployment to PRD1 as the server is paused\r\n2016-08-31 16:06:38,537 INFO [http-bio-8085-exec-9] [DeploymentPermitterImpl] Could not start deployment to PRD2 as the server is paused\r\n2016-08-31 16:06:38,538 INFO [http-bio-8085-exec-9] [DeploymentPermitterImpl] Could not start deployment to PRD3 as the server is paused\r\n{code}\r\n\r\nThis can be concerning as a Bamboo Administrator as it appears that Bamboo is trying to execute deployment projects but has failed only because the server is paused. E.g. When I've imported my Production export zip into a test instance.\r\n\r\nh3. Suggested Solution\r\nRephrase the log message or only log it when deployment is actually attempted.",
      "summary": "\"Could not start deployment as the server is paused\" logged on API call to dashboard"
    }
  },
  {
    "key": "BAM-17850",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-09-01T03:41:59.000+0000",
      "description": "h3. Problem Definition\r\nAt a plan level the 'Admin' permission is required for managing branch settings, permissions, creating stages and jobs.\r\n\r\nAs a Bamboo Administrator I would like to restrict the ability for a group of people to build the plan, as well as change notifications while still having the ability to add jobs, stages and manage branches. \r\n\r\nCurrently if I revoke build permission, the group still needs Admin to Add jobs and can hence re-grant build permissions at will to themselves. They can also at will change Notifications with Edit which I cannot control.\r\n\r\nThe Build permission also allows users to both stop and start a plan, however for some users it'd be ideal to separate this into both start and stop permissions to prevent some users from stopping builds.\r\n\r\nh3. Suggested Solution\r\nIntroduce new permissions that:\r\n* Control access to the Notifications tab, full modification of the plan (including jobs and stages) and keep Admin to permissions (a.k.a full access to everything).\r\n* Allow more granular permission control over both starting and stopping a plan (separate the permission)",
      "summary": "More granular plan level permissions"
    }
  },
  {
    "key": "BAM-17849",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-31T23:48:10.000+0000",
      "description": "It would be great to be able to clone deploy environments via the API. All of our deployment tasks for a given application are identical and use the environment name to dynamically look up deployment hosts. As such, in order to deploy to a new batch of servers, all we need to do is clone an existing environment and rename it. Doing this via API would greatly improve our workflow.",
      "summary": "Bamboo clone deploy environment API"
    }
  },
  {
    "key": "BAM-17847",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-15T12:38:39.000+0000",
      "created": "2016-08-30T01:34:55.000+0000",
      "description": "h3. Summary\r\n\r\nFailed logs can be extremely important as the logs for a successful deployment. Bamboo seems to expire these currently even when a deployment\u00a0falls under \"Minimum Deployments To Keep\".\r\nh3. Environment\r\n\r\nBamboo 5.12.X\r\n Bamboo 5.9.X\r\nh3. Steps to Reproduce\r\n\r\n1. Set the global expiration settings to:\r\n Expire After: 0 days\r\n Min builds to keep: 3\r\n Min deployments to keep: 3\r\n 2. Run a few deployments, then for the last 3 have one fail and 1 sucessful.\r\n 3. Manually run Expiraiton.\r\nh3. Expected Results\r\n\r\nMost customers would expect that all logs should be preserved as the deployments have been preserved.\r\nh3. Actual Results\r\n\r\nDeployments beyond the minimal 3 are correctly deleted. However, the logs for the failed builds are cleared - but the successful build is kept.\r\nh3. Workaround\r\n\r\nNot ideal, but extend the value for Expire After\u00a0the logs for longer.",
      "summary": "Dont remove logs from failed deployments if is included by Minimum to keep"
    }
  },
  {
    "key": "BAM-17846",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-09T17:24:25.000+0000",
      "created": "2016-08-29T16:06:59.000+0000",
      "description": "hinio",
      "summary": "hi"
    }
  },
  {
    "key": "BAM-17845",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-29T14:45:28.000+0000",
      "description": "h3. Problem Definition\r\nSearching for Bitbucket Server Repositories in a Checkout Source code only searches from the start of the repository name but does not include the Project name or substrings.\r\n\r\nFor example, if the repository name is \"testrepository,\" searching \"repo\" would show this result.\r\n\r\nh3. Suggested Solution\r\n# Add ability to search project names\r\n# Add ability to search substrings of names",
      "summary": "Search Project and substrings on Linked Bitbucket Server Repository list"
    }
  },
  {
    "key": "BAM-17844",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:14.000+0000",
      "created": "2016-08-29T12:28:14.000+0000",
      "description": "When editing tasks for an environment the environment name is displayed at the top of the page, but the project name is not.\r\n\r\nThis can be a problem, when naming environments the same across multiple projects (e.g. Production, Staging) - you get half way through editing an environment, get distracted, and when you come back can't identify which project you were editing.\r\n\r\nIt would be great to display the project name as well as the environment name at the top of this edit tasks screen.",
      "summary": "Add Deployment plan name to edit tasks screen"
    }
  },
  {
    "key": "BAM-17843",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-13T08:12:53.000+0000",
      "created": "2016-08-29T09:22:36.000+0000",
      "description": "h3. Summary\r\n{{stop-bamboo.sh}} does not work if JMX monitoring is enabled.\r\n\r\nh3. Steps to Reproduce\r\n# Enable JMX monitoring by adding {{-Dcom.sun.management.jmxremote.port=<portNum>}} to the startup parameters https://confluence.atlassian.com/bamboo0512/monitoring-and-profiling-bamboo-838556863.html\r\n# Start Bamboo\r\n# After Bamboo has started, stop Bamboo using {{stop-bamboo.sh}}\r\n\r\nh3. Expected Results\r\nBamboo is stopped\r\nh3. Actual Results\r\nThe below exception is thrown:\r\n{noformat:borderStyle=dashed}\r\nError: Exception thrown by the agent : java.rmi.server.ExportException: Port already in use: <portNum>; nested exception is: \r\n\tjava.net.BindException: Address already in use\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nStop Bamboo by using {{kill <pid>}}",
      "summary": "stop-bamboo.sh does not work if jmx monitoring is enabled"
    }
  },
  {
    "key": "BAM-17841",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-26T22:24:42.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAfter linking Bitbucket Server to Bamboo, when linking a repository to a Plan, the repository dropdown only shows around 25 repositories. \r\nIf you scroll to the bottom of the list it pauses, and then loads another 10, then pauses and loads another 10, and so on. \r\nIt\u2019s pretty slow/unusable to use this to be able to scroll through and find a specific repo.\r\n\r\n\r\n{code}\r\nhttp://bamboo.url:8085/rest/stash/latest/projects/repositories?serverKey=bamboo-server-id&projectKey=&repositorySlug=&repositoryUrl=\r\n\r\n{size: 12, limit: 25, lastPage: true, start: 0,\u2026}\r\nlastPage:true\r\nlimit:25\r\nsize:12\r\nstart:0\r\n{code}\r\n\r\nh3. Suggested Solution\r\nAdd a limit variable, or option to request more on each",
      "summary": "Request more repositories in initial and subsequent repository page calls"
    }
  },
  {
    "key": "BAM-17840",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-09T18:04:14.000+0000",
      "created": "2016-08-26T16:18:57.000+0000",
      "description": "aaaaa",
      "summary": "a4"
    }
  },
  {
    "key": "BAM-17839",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-20T08:46:59.000+0000",
      "created": "2016-08-26T09:31:46.000+0000",
      "description": "Menu item to modify build result label follows to edit plan labels, should be replaced with one that will allow to edit labels for builds result.",
      "summary": "Edit label menu item for build result follows to edit plan labels page"
    }
  },
  {
    "key": "BAM-17838",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-13T08:11:38.000+0000",
      "created": "2016-08-26T09:24:37.000+0000",
      "description": "h4. =Summary=\r\n\r\nWindows users are facing an validation error while defining absolute path for artefact definition using \"\\\". See screenshot.\r\nh4. =Environment=\r\n\r\nMostly windows users, but applies to Unix users too.\r\n\r\nHowever it works with \"/\" instead.\r\nh4. =Steps to Reproduce=\r\n # Add a build plan.\r\n # Add an Artefact definition using \"\\\" in Location of Copy pattern field.\r\n\r\nh4. =Expected Results=\r\n\r\nPaths with \"\\\" should be accepted.\r\nh4. =Actual Results=\r\n\r\nAn validation error happened.\r\nh4. =Workaround=\r\n\r\nUse \"/\" instead of \"\\\"",
      "summary": "Artefact definition should accept \"\\\" symbol "
    }
  },
  {
    "key": "BAM-17837",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-26T02:01:44.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAs a Bamboo administrator, I'd like the ability to see all permissions granted / removed at a user level across all plans on a single view.\r\nh3. Suggested Solution\r\n\r\nA per user view that shows all the\u00a0user's permissions for\u00a0every plan.\r\n\r\nE.g. a tab on {{/browse/user/charlie}}\r\nh3. Workaround\r\n\r\nRetrieve all granted plan permissions per user from the database:\r\n{code:sql}\r\nSELECT PROJECT.TITLE AS PROJECT_NAME,\r\n       BUILD.TITLE AS PLAN_NAME,\r\n       BUILD.FULL_KEY AS PLAN_KEY,\r\n       AE.SID AS USERNAME,\r\n       (CASE\r\n          WHEN MASK = 1\r\n               THEN 'VIEW'\r\n          WHEN MASK = 2\r\n               THEN 'EDIT'\r\n          WHEN MASK = 16\r\n               THEN 'ADMIN'\r\n          WHEN MASK = 64\r\n               THEN 'BUILD'\r\n          WHEN MASK = 128\r\n               THEN 'CLONE'\r\n        END) as PERMISSION_TYPE\r\n  FROM ACL_ENTRY AS AE\r\n  JOIN ACL_OBJECT_IDENTITY AS AOI\r\n        ON AE.ACL_OBJECT_IDENTITY = AOI.ID\r\n  JOIN BUILD AS BUILD\r\n        ON AOI.OBJECT_ID_IDENTITY = BUILD.BUILD_ID\r\n  JOIN PROJECT\r\n        ON BUILD.PROJECT_ID = PROJECT.PROJECT_ID\r\nWHERE AE.TYPE IN ('PRINCIPAL')\r\n   AND AE.GRANTING = true\r\n   AND BUILD.BUILD_TYPE = 'CHAIN'\r\n   AND AE.SID = 'charlie' -- optional: filter username \r\n   --AND BUILD.FULL_KEY = 'LP-MB' -- optional: filter plan\r\n ORDER BY PLAN_KEY, USERNAME, PERMISSION_TYPE\r\n\r\n{code}",
      "summary": "View all plan permissions for a single user"
    }
  },
  {
    "key": "BAM-17836",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-25T20:20:20.000+0000",
      "description": "h3. Problem Definition\r\nAs a user I want Bamboo to send notifications to Bitbucket Server if I'm using a linked Git repository, and not require a linked Bitbucket Server/Stash repository\r\n\r\nh3. Suggested Solution\r\nSend notifications to Bitbucket Server when using Git repository link, instead of only Bitbucket Server/Stash link\r\nThis was available in previous versions of Bamboo, before the rebranding of Stash.",
      "summary": "Send notifications to Bitbucket Server when using linked Git Repository"
    }
  },
  {
    "key": "BAM-17834",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-13T08:12:56.000+0000",
      "created": "2016-08-24T21:57:12.000+0000",
      "description": "h3. Summary\r\nExclude changeset regex should be OS independent and correctly interpret line ending\r\n\r\nh3. Steps to Reproduce\r\n# Configure your Bamboo to use a Bitbucket repository\r\n# Edit the advanced configuration to set the following patter to *Exclude changesets* field:\r\n{noformat}\r\n^.*\\[atlassian\\].*$\r\n{noformat}\r\n# Create a commit with the following message to this repo:\r\n{noformat}\r\nsupport[atlassian]support\r\n{noformat}\r\n\r\nh3. Expected Results\r\n# The build is not triggered, since the pattern matches the commit message.\r\n# The commit is not considered in next builds\r\n\r\nh3. Actual Results\r\n*On a linux machine:*\r\nIt works as expected\r\n\r\n*On windows machine:*\r\nIt does not work with this patter, but with a different one ending with \"\\n\"\r\n\r\nh3. Notes\r\nThe following tests were done:\r\n*On linux machine (Bamboo and Bitbucket in the same machine):*\r\n{panel}\r\nGit 2.1.4\r\n{noformat}\r\n^.*[atlassian].*$ -> works\r\n^.*[atlassian].*\\n -> doesn't work\r\n^.*[atlassian].*\\r\\n -> doesn't work\r\n{noformat}\r\n{panel}\r\n\r\n*On a windows machine (Bamboo and Bitbucket in the same machine):*\r\n{panel}\r\nGit 2.9.2 - Checkout Windows-stype, commit Unix-stype endings\r\n{noformat}\r\n^.*[atlassian].*$ -> doesn't work\r\n^.*[atlassian].*\\n -> works\r\n^.*[atlassian].*\\r\\n -> doesn't work\r\n{noformat}\r\nGit 2.9.2 - Checkout as-is, commit Unix-stype endings\r\n{noformat}\r\n^.*[atlassian].*$ -> doesn't work\r\n^.*[atlassian].*\\n -> works\r\n^.*[atlassian].*\\r\\n -> doesn't work\r\n{noformat}\r\nGit 2.9.2 - Checkout as-is, commit as-is\r\n{noformat}\r\n^.*[atlassian].*$ -> doesn't work\r\n^.*[atlassian].*\\n -> works\r\n^.*[atlassian].*\\r\\n -> doesn't work\r\n{noformat}\r\n{panel}",
      "summary": "Exclude changeset regex should be OS independent and correctly interpret line ending"
    }
  },
  {
    "key": "BAM-17833",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-12T12:08:12.000+0000",
      "created": "2016-08-24T19:43:50.000+0000",
      "description": "Requesting the functionality to clone a task in an existing plan or from another build project. I find my self sometimes necessary to duplicate tasks in a build project just with a few small tweeks. Can the ability to clone a task please be added to a future release.",
      "summary": "Ability to clone a task."
    }
  },
  {
    "key": "BAM-17832",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-18T10:03:07.000+0000",
      "created": "2016-08-24T15:28:33.000+0000",
      "description": "h3. Summary\r\n\r\nThe *Source plan* dropdown field, inside the Artifact download configuration task, is too small horizontally to see the Plan names.\r\n\r\nh3. Steps to Reproduce\r\nThis is observed when the Project and Plan names add up to more than 27 characters. When this happens three dots (...) are added to the end of the line, as seen here:\r\n\r\n!artifact_configuration_dropdown.png|thumbnail!\r\n\r\nThis makes it difficult to find the desired Plan, especially when you have several Plans inside a Project that start with the same name. In the following example we can see it's difficult to find out which Plan is which:\r\n\r\n!artifact_configuration_dropdown_2.png|thumbnail!\r\n\r\nIn this case you have to either filter even more the search by typing in almost the entire Plan name OR hove the mouser over the Plan name to see the entire result:\r\n\r\n!artifact_configuration_dropdown_3.png|thumbnail!\r\n\r\nh3. Expected Results\r\n\r\nIt would be nice if the dropdown box could adjust automatically to display the entire results of the search, as in this example:\r\n\r\n!artifact_configuration_dropdown_4.png|thumbnail!",
      "summary": "Improve \"Source plan\" dropdown field in Artifact download configuration task"
    }
  },
  {
    "key": "BAM-17831",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-24T09:51:31.000+0000",
      "description": "If a read only repository is being used, Bamboo should provide an option to hide the _Forgot Password_ link rather than just throwing the message _This user is read only and can't have password reset._.\r\n\r\nIf a crowd repository is being used, the forgot password link should redirect to the crowd password reset instead.\r\n\r\n",
      "summary": "Hiding and better handling of Forgot Password link"
    }
  },
  {
    "key": "BAM-17830",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-24T14:44:06.000+0000",
      "created": "2016-08-24T09:41:09.000+0000",
      "description": "h3. Description\r\n\r\nIt's not possible to set up mail configuration for fresh Bamboo instance.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Setup Bamboo.\r\n# Go to {{Bamboo administration >> Mail server}}.\r\n\r\nh3. Expected Results\r\n\r\nExpected: mail configuration form opened\r\nActual: blank page opened, in logs there is an exception\r\n{code}\r\n2016-08-24 11:44:29,682 ERROR [http-nio-9087-exec-8] [ActionComponent] Could not execute action: /admin/saveMailServer!add\r\nMethod add for action saveMailServer is not allowed! - [unknown location]\r\n\tat com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:200)\r\n\tat org.apache.struts2.factory.StrutsActionProxy.prepare(StrutsActionProxy.java:63)\r\n\tat org.apache.struts2.factory.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:37)\r\n\tat com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)\r\n\tat org.apache.struts2.components.ActionComponent.executeAction(ActionComponent.java:282)\r\n\tat org.apache.struts2.components.ActionComponent.end(ActionComponent.java:170)\r\n\tat org.apache.struts2.views.freemarker.tags.CallbackWriter.afterBody(CallbackWriter.java:84)\r\n\tat freemarker.core.Environment.visitAndTransform(Environment.java:461)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:129)\r\n\tat freemarker.core.Environment.visit(Environment.java:326)\r\n\tat freemarker.core.Environment.visit(Environment.java:332)\r\n\tat freemarker.core.Environment.visit(Environment.java:332)\r\n\tat freemarker.core.Environment.process(Environment.java:305)\r\n\tat freemarker.template.Template.process(Template.java:384)\r\n\tat org.apache.struts2.views.freemarker.FreemarkerResult.doExecute(FreemarkerResult.java:233)\r\n\tat org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:208)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:366)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:270)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.FieldErrorUsageVerifier.intercept(FieldErrorUsageVerifier.java:49)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.JSONValidationInterceptor.doIntercept(JSONValidationInterceptor.java:69)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:82)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooXsrfTokenInterceptor.doIntercept(BambooXsrfTokenInterceptor.java:77)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.xwork.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:244)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:155)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:174)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:97)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:130)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.GlobalAdminInterceptor.doIntercept(GlobalAdminInterceptor.java:23)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptor.intercept(WebworkSecurityInterceptor.java:57)\r\n\tat com.atlassian.bamboo.security.acegi.intercept.web.WebworkSecurityInterceptorProxy.intercept(WebworkSecurityInterceptorProxy.java:31)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.xwork.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.OnDemandNotSupportedInterceptor.intercept(OnDemandNotSupportedInterceptor.java:31)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.PaginationAwareInterceptor.doIntercept(PaginationAwareInterceptor.java:100)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.StatisticsAwareInterceptor.doIntercept(StatisticsAwareInterceptor.java:39)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ResultsListAwareInterceptor.doIntercept(ResultsListAwareInterceptor.java:42)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.NavigationAwareInterceptor.doIntercept(NavigationAwareInterceptor.java:112)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BuildResultsSummaryAwareInteceptor.doIntercept(BuildResultsSummaryAwareInteceptor.java:71)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ResultsSummaryAwareInteceptor.doIntercept(ResultsSummaryAwareInteceptor.java:74)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ChainAwareInterceptor.doIntercept(ChainAwareInterceptor.java:111)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:34)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.ConditionalActionInterceptor.intercept(ConditionalActionInterceptor.java:95)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:188)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AroundInterceptor.intercept(AroundInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:240)\r\n\tat org.apache.struts2.factory.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:558)\r\n\tat org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)\r\n\tat org.apache.struts2.dispatcher.filter.StrutsExecuteFilter.doFilter(StrutsExecuteFilter.java:88)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:36)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:60)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:92)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.SessionCreationForAnonymousUserFilter.doFilter(SessionCreationForAnonymousUserFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.NewRelicTransactionNamingFilter.doFilter(NewRelicTransactionNamingFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter$1.doFilter(StrutsPrepareFilter.java:81)\r\n\tat org.apache.struts2.dispatcher.filter.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:94)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.handleRequest(StrutsPrepareFilter.java:52)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:40)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.BambooProfilingFilter.doFilter(BambooProfilingFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:92)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\r\n\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter$1.run(SeraphLoginFilter.java:69)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runAs(ImpersonationHelper.java:67)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:75)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\r\n\tat org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\r\n\tat com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:26)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:81)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:34)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:103)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:150)\r\n\tat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:28)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:304)\r\n\tat com.atlassian.bamboo.filter.BambooCompressingFilter.doFilter(BambooCompressingFilter.java:41)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:55)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{code}\r\n\r\nh3. Workaround\r\n\r\n# Stop Bamboo Server.\r\n# Open up the *$BAMBOO_HOME/bamboo-mail.cfg.xml* file.\r\n# Replace the existing content of the file with:\r\n#* {noformat}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\r\n<mail-servers>\r\n  <smtp-server>\r\n  </smtp-server>\r\n</mail-servers>\r\n{noformat}\r\n# Start Bamboo Server.\r\n# Access the {{Bamboo administration >> Mail server}} page.\r\n# Follow [our documentation|https://confluence.atlassian.com/display/BAMBOO/Configuring+Bamboo+to+send+SMTP+Email] to configure Bamboo to send SMTP Email.",
      "summary": "Can't setup mail configuration for fresh Bamboo instance"
    }
  },
  {
    "key": "BAM-17828",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-26T10:01:53.000+0000",
      "created": "2016-08-23T18:17:18.000+0000",
      "description": "h3. Summary\r\nPlan notification \"All Builds Completed\" is failing to get some test details and throwing the following error:\r\n{noformat}Error executing macro: displayTestList{noformat}\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan\r\n# Configure some tests and execute some builds\r\n# Configure the plan to send a notification to the *All Builds Completed* event\r\n\r\nh3. Expected Results\r\nThe notification is sent with the statistics of failed and passed tests, along with the list of tests run.\r\n\r\nh3. Actual Results\r\nThe notification is sent with the statistics of failed and passed tests, but the test list is empty.\r\n\r\nAlso the following error is thrown in the logs:\r\n{noformat}\r\n2016-08-23 14:57:14,199 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-1] [runtime] Error executing macro: displayTestList\r\nrequired parameter: testList is not specified.\r\nError executing macro: displayTestList\r\nrequired parameter: testList is not specified.\r\nThe problematic instruction:\r\n----------\r\n==> macro displayTestList [on line 471, column 1 in notification-templates/notificationCommonsHtml.ftl]\r\n in user-directive displayTestList [on line 463, column 13 in notification-templates/notificationCommonsHtml.ftl]\r\n in user-directive showTests [on line 439, column 9 in notification-templates/notificationCommonsHtml.ftl]\r\n in user-directive showChainTests [on line 41, column 5 in notification-templates/ChainCompletedHtmlEmail.ftl]\r\n in user-directive templateOuter [on line 12, column 1 in notification-templates/ChainCompletedHtmlEmail.ftl]\r\n----------\r\nJava backtrace for programmers:\r\n----------\r\nfreemarker.template.TemplateException: Error executing macro: displayTestList\r\nrequired parameter: testList is not specified.\r\n\tat freemarker.core.Macro$Context.sanityCheck(Macro.java:222)\r\n\tat freemarker.core.Macro$Context.runMacro(Macro.java:180)\r\n\tat freemarker.core.Environment.visit(Environment.java:603)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:118)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:79)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:79)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.Macro$Context.runMacro(Macro.java:183)\r\n\tat freemarker.core.Environment.visit(Environment.java:603)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:118)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:79)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.Macro$Context.runMacro(Macro.java:183)\r\n\tat freemarker.core.Environment.visit(Environment.java:603)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:118)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.Environment.visit(Environment.java:395)\r\n\tat freemarker.core.BodyInstruction.accept(BodyInstruction.java:93)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.Macro$Context.runMacro(Macro.java:183)\r\n\tat freemarker.core.Environment.visit(Environment.java:603)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:118)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n\tat freemarker.core.Environment.visit(Environment.java:210)\r\n\tat freemarker.core.Environment.process(Environment.java:190)\r\n\tat freemarker.template.Template.process(Template.java:289)\r\n\tat freemarker.template.Template.process(Template.java:243)\r\n\tat com.atlassian.bamboo.ww2.BambooFreemarkerManager.renderPageWithNoContext(BambooFreemarkerManager.java:470)\r\n\tat com.atlassian.bamboo.ww2.BambooFreemarkerManager.renderPage(BambooFreemarkerManager.java:421)\r\n\tat com.atlassian.bamboo.ww2.BambooFreemarkerManager.renderPage(BambooFreemarkerManager.java:375)\r\n\tat com.atlassian.bamboo.ww2.BambooFreemarkerManager.renderTemplateToString(BambooFreemarkerManager.java:604)\r\n\tat com.atlassian.bamboo.ww2.BambooFreemarkerManager.renderPage(BambooFreemarkerManager.java:340)\r\n\tat com.atlassian.bamboo.ww2.BambooFreemarkerManager.render(BambooFreemarkerManager.java:327)\r\n\tat com.atlassian.bamboo.notification.buildcompleted.AbstractCompletedNotification.getHtmlEmailContent(AbstractCompletedNotification.java:144)\r\n\tat com.atlassian.bamboo.notification.transports.MultipartEmailTransport.sendNotification(MultipartEmailTransport.java:63)\r\n\tat com.atlassian.bamboo.notification.NotificationDispatcherImpl.dispatchNotifications(NotificationDispatcherImpl.java:60)\r\n\tat com.atlassian.bamboo.notification.chain.ChainCompletedNotificationListener.handleEvent(ChainCompletedNotificationListener.java:105)\r\n\tat sun.reflect.GeneratedMethodAccessor1038.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.orm.hibernate3.HibernateInterceptor.invoke(HibernateInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy1156.handleEvent(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor1038.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.orm.hibernate3.HibernateInterceptor.invoke(HibernateInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy1157.handleEvent(Unknown Source)\r\n\tat com.atlassian.event.legacy.LegacyListenerHandler$LegacyListenerInvoker.invoke(LegacyListenerHandler.java:55)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n",
      "summary": "All Builds Completed notification is missing the test list - Error executing macro: displayTestList"
    }
  },
  {
    "key": "BAM-17826",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-17T15:49:27.000+0000",
      "created": "2016-08-22T14:45:53.000+0000",
      "description": "h3. Summary\r\n\r\nDuring installation DB validation task is not executed, and after successful install user can use Bamboo, but after first restart it stopped working, as in 5.13 we've got more strict requirements to DB.\r\nh3. Environment\r\n * Windows \u2013 Server 2008 R2 / DB: MS SQL 2012\r\n * Ubuntu \u2013 DB: MySQL 5.7.13\r\n\r\nh3. Steps to Reproduce\r\n # Invalidate the DB validation e.g. set your {{/etc/mysql/mysql.conf.d/mysqld.cnf}} lower_case_table_names = 0\r\n ## or run in docker: {{docker run -P -e MYSQL_ROOT_PASSWORD=root -e character-set-server=utf8mb4 -e collation-server=utf8_bin -e lower_case_table_names=0 -d mysql:5.7}}\r\n # Install a fresh Bamboo 5.13 successfully against the MySQL database\r\n # Restart Bamboo\r\n # Bamboo no longer starts\r\n\r\nh3. Expected Results\r\n DB Validation stops the installation initially and informs the user of the problem\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the catalina.out file:\r\n{code:java}\r\n2016-08-03 00:33:49,817 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Pre-bootstrap upgrade tasks failed\r\n com.atlassian.upgrade.UpgradeException: Pre-bootstrap validation tests failed: [Task for build 51301 failed:, Bamboo DB must use READ COMMITTED SNAPSHOT isolation level. Refer to: https://confluence.atlassian.com/display/BAMBOO/Microsoft+SQL+Server, Bamboo DB must use case and accent sensitive (*_CS_AS) or binary (*_BIN) collation. Current value: SQL_Latin1_General_CP1_CI_ASRefer to: https://confluence.atlassian.com/display/CONFKB/How+to+fix+the+collation+of+a+Microsoft+SQL+Server+Confluence+database for further instructions.]\r\n at com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:354)\r\n at com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n at com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:118)\r\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n\r\n\r\n\r\n\r\n{code}\r\n{code:java}\r\n2016-09-14 08:21:50,692 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Pre-bootstrap upgrade tasks failed\r\ncom.atlassian.upgrade.UpgradeException: Pre-bootstrap validation tests failed: [Task for build 51302 failed:, This database seems to use case-sensitive tables names. This is not supported by Bamboo. Please set lower_case_table_names variable to 1]\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:354)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n\tat com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:118)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n\r\n\r\n\r\n\r\n{code}\r\nh3. Workaround\r\n\r\nNo workaround \u2013 this bug is for Bamboo not performing the validation initially. Correct your database configuration as suggested in the error message provided in alignment with the requirements specified for your database engine here:\r\n * [Connecting Bamboo to an external database|https://confluence.atlassian.com/display/BAMBOO/Connecting+Bamboo+to+an+external+database]\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Run DB validation task during Bamboo setup and not only on boot."
    }
  },
  {
    "key": "BAM-17825",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-22T05:14:25.000+0000",
      "created": "2016-08-22T05:08:03.000+0000",
      "description": "This is created for example and test purposes only\r\nRef: ADM-102945",
      "summary": "Test Only"
    }
  },
  {
    "key": "BAM-17824",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-22T05:00:40.000+0000",
      "created": "2016-08-22T04:27:56.000+0000",
      "description": "This is created for example and test purposes only\r\nRef: ADM-102945 ",
      "summary": "Test Only"
    }
  },
  {
    "key": "BAM-17823",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:00.000+0000",
      "created": "2016-08-19T22:39:13.000+0000",
      "description": "This is the feature in Team City that it automatically re-run the same task when it got fails based on the set up. \r\n\r\nLet's say one of the jobs in Bamboo failed not because of the Script error by itself but due to the build agent ran out of the space. As running the same task on a different build agent can run successfully rather than nothing runs because it failed on the build agent where there is no enough space. \r\n\r\nis this the option we need to go with?\r\nhttps://marketplace.atlassian.com/plugins/net.collabsoft.plugins.bamboo.autoRetry/server/overview\r\n\r\nThanks,\r\n\r\nJohn.",
      "summary": "Required to configure to run the failed jobs repeatedly"
    }
  },
  {
    "key": "BAM-17822",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-13T08:11:46.000+0000",
      "created": "2016-08-19T19:52:06.000+0000",
      "description": "h3. \r\nBamboo doesn't properly render a JIRA project name written in Chinese. \r\n\r\nh3. Environment\r\nJIRA 7\r\n\r\nh3. Steps to Reproduce\r\n- Create an application link between Bamboo and JIRA.\r\n- Create a project in JIRA with a Chinese name (e.g. \"character test\" translated by Google): \u6027\u683c\u6e2c\u8a66\r\n- Run a build in Bamboo.\r\n- From the Build Summary page, select the \"Actions\" drop-down, and select \"Create Issue\".\r\n- Select the \"Projects\" drop-down.\r\n\r\nh3. Expected Results\r\nThe project name should display the correct Chinese characters that are visible in JIRA.\r\n\r\nh3. Actual Results\r\nThe project name displays incorrect characters.\r\n!2016-08-19_1335.png|thumbnail!\r\n\r\nh3. Workaround\r\nNone.\r\n\r\nh3. Notes\r\nThe issue does get created in the correct JIRA project.\r\n\r\n\r\n",
      "summary": "Create JIRA issue modal fails to properly display Chinese JIRA project name"
    }
  },
  {
    "key": "BAM-17821",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-20T08:47:12.000+0000",
      "created": "2016-08-19T08:01:00.000+0000",
      "description": "Start plan with several jobs. One of the job should be finished with success earlier than another\r\nClick on successfully completed job\r\nSee screenshot, icon should be white, not green\r\n  !wrong_icon_styling.png|thumbnail! ",
      "summary": "Wrong icon style for completed job when plan is running"
    }
  },
  {
    "key": "BAM-17820",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-17T09:45:18.000+0000",
      "created": "2016-08-19T01:26:03.000+0000",
      "description": "h3. Summary\r\n\r\nParsing a JUnit file that has an testsuite entry with an empty name will not display a failed test results for that suite. \u00a0This can arise when using automated test creation tools such as\u00a0codeception.\u00a0\r\nh3. Environment\r\n * Bamboo 5.9,\r\n * Bamboo 5.12\r\n\r\nh3. Steps to Reproduce\r\n # Generate a JUnit test result where the name is empty. For example:\r\n\r\n<testsuite name=\"BigTests\" tests=\"4\" assertions=\"4\" failures=\"1\" errors=\"0\" time=\"0.069964\">\r\n <testcase ...\r\n </testuite>\r\n <testsuite name=\"\" tests=\"4\" assertions=\"4\" failures=\"1\" errors=\"0\" time=\"0.069964\">\r\n <testcase ...\r\n </testuite>\r\nh3. Desired Results\r\n\r\nAll test suites returned, potentially labeled as \"Unames Test N\" for example.\r\nh3. Actual Results\r\n\r\nOnly the first one will be displayed in the UI as a failed test.\r\nh3. Workaround\r\n\r\nUse a script task, prior to the final JUnit task, to insert a suitable unique name for any instance of testsuite name=\"\"",
      "summary": "JUnit testuite with no name will not be displayed in the UI"
    }
  },
  {
    "key": "BAM-17819",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-18T12:41:48.000+0000",
      "description": "h3. Summary\r\nAfter the build plan second stage completed, its artifact is not updated into the Deployment Release version\r\n\r\nh3. Steps to Reproduce\r\n# Create a build plan with two stages - StageA and StageB\r\n# Create artifact for each stage's Job - JobA (ArtifactA) and JobB (ArtifactB)\r\n# Create a deployment project for the build plan\r\n# Create two environment - EnvironmentA and EnvironmentB\r\nEnvironmentA will download artifact from ArtifactA and EnvironmentB will download artifact from ArtifactB\r\n# Add a \"After successful stage\" trigger to EnvironmentA so that it will be triggered by StageA\r\n# Add a \"After successful stage\" trigger to EnvironmentB so that it will be triggered by StageB\r\n# Run the build plan\r\n\r\nh3. Expected Results\r\nSuccessful deployment in both environments\r\n\r\nh3. Actual Results\r\n* The second deployment in EnvironmentB fail with the following error in the deployment log:\r\n{noformat}\r\n30-Sep-2016 18:29:03\tBuild Deployment of 'release-1' on 'EnvironmentB' started building on agent Default Agent\r\n30-Sep-2016 18:29:03\t\r\n30-Sep-2016 18:29:03\tBuild working directory is /Users/klfoong/Desktop/ServiceRocket/bamboo/atlassian-bamboo-5.13.2/home/xml-data/build-dir/851969-950274\r\n30-Sep-2016 18:29:03\tExecuting build Deployment of 'release-1' on 'EnvironmentB'\r\n30-Sep-2016 18:29:03\tStarting task 'Clean working directory task' of type 'com.atlassian.bamboo.plugins.bamboo-artifact-downloader-plugin:cleanWorkingDirectoryTask'\r\n30-Sep-2016 18:29:03\tCleaning working directory '/Users/klfoong/Desktop/ServiceRocket/bamboo/atlassian-bamboo-5.13.2/home/xml-data/build-dir/851969-950274'\r\n30-Sep-2016 18:29:03\tFinished task 'Clean working directory task' with result: Success\r\n30-Sep-2016 18:29:03\tStarting task 'Download release contents' of type 'com.atlassian.bamboo.plugins.bamboo-artifact-downloader-plugin:artifactdownloadertask'\r\n30-Sep-2016 18:29:03\tPreparing to download plan result BAM-GIT-3 artifact: Shared artifact: [ArtifactB], pattern: [ArtifactB.xml]\r\n30-Sep-2016 18:29:03\tUnable to download artifact Shared artifact: [ArtifactB], pattern: [ArtifactB.xml]\r\n30-Sep-2016 18:29:03\tTask configuration:\r\n30-Sep-2016 18:29:03\tartifactName_0 -> [ArtifactB]\r\n30-Sep-2016 18:29:03\tartifactId_0 -> [753666]\r\n30-Sep-2016 18:29:03\tsourcePlanKey -> [BAM-GIT]\r\n30-Sep-2016 18:29:03\tlocalPath_0 -> []\r\n30-Sep-2016 18:29:03\tTask runtime configuration:\r\n30-Sep-2016 18:29:03\tsecurityToken -> [e8123e5df23cbbd079ebecf58c80994677a334ef]\r\n30-Sep-2016 18:29:03\truntimeArtifactIds_0 -> [0]\r\n30-Sep-2016 18:29:03\tartifactName_0 -> [ArtifactB]\r\n30-Sep-2016 18:29:03\tartifactId_0 -> [753666]\r\n30-Sep-2016 18:29:03\tresultKey -> [BAM-GIT-3]\r\n30-Sep-2016 18:29:03\tartifactLocation_0 -> []\r\n30-Sep-2016 18:29:03\tlocalPath_0 -> []\r\n30-Sep-2016 18:29:03\tartifactPattern_0 -> [ArtifactB.xml]\r\n30-Sep-2016 18:29:03\tFinished task 'Download release contents' with result: Error\r\n30-Sep-2016 18:29:03\tFinalising the build...\r\n30-Sep-2016 18:29:03\tStopping timer.\r\n30-Sep-2016 18:29:03\tBuild 851969-950274-1146882 completed.\r\n30-Sep-2016 18:29:03\tFinished processing deployment result Deployment of 'release-1' on 'EnvironmentB'\r\n{noformat}\r\n* \"Release contents\" for the release version \"release-1\" is only showing the first artifact ArtifactA",
      "summary": "Deployment Release artifact list not updated when the build plan second stage finish"
    }
  },
  {
    "key": "BAM-17818",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-14T17:03:52.000+0000",
      "created": "2016-08-18T09:46:30.000+0000",
      "description": null,
      "summary": "Move plan in failure scenario creates branches detached from master plan"
    }
  },
  {
    "key": "BAM-17817",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-26T14:34:02.000+0000",
      "created": "2016-08-18T09:43:55.000+0000",
      "description": null,
      "summary": "Orphaned tests are not removed and eventually cause crashes and performance degradation"
    }
  },
  {
    "key": "BAM-17816",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-30T11:40:48.000+0000",
      "created": "2016-08-17T16:51:29.000+0000",
      "description": "h3. Problem\r\nWhen utilizing the /agent/assignment REST API found in our guide the returned result is:\r\n{noformat}\r\n{\r\n  \"message\": \"Name is null\",\r\n  \"status-code\": 500\r\n}\r\n{noformat}\r\n\r\nWhen adding the parameters {{executorType&executorId}} the following is returned:\r\n{noformat}\r\n{\r\n  \"message\": \"No enum constant com.atlassian.bamboo.buildqueue.AgentAssignment.ExecutorType.\",\r\n  \"status-code\": 500\r\n}\r\n{noformat}\r\n\r\nCurrent assignments in the database:\r\n{noformat}\r\n# select * from agent_assignment ;\r\n assignment_id | executor_id | executor_type | executable_id | executable_type \r\n---------------+-------------+---------------+---------------+-----------------\r\n        720898 |      131073 | AGENT         |        393218 | JOB\r\n       1179649 |      131073 | AGENT         |       1081345 | ENVIRONMENT\r\n(2 rows)\r\n{noformat}\r\n\r\nREST API Document: https://docs.atlassian.com/bamboo/REST/5.12.3.1/#d2e610\r\n",
      "summary": "/agent/assignment API returns null "
    }
  },
  {
    "key": "BAM-17814",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-12-15T10:11:40.000+0000",
      "created": "2016-08-17T01:34:23.000+0000",
      "description": "From a Customer,\r\n{quote}\r\nWe recently upgraded to Bamboo v3.2. People with administrative access were confused by the \"User Management\" option in the administrative menu. Since it's in the same spot as the \"Users\" option in previous Bamboo versions, they instinctively went there thinking that's where they could do things like add users to groups and other user management operations. There has just been some general confusion which I think could be resolved by:\r\n\r\n* Renaming it to something like \"User Authentication\" or \"User Sources\"\r\n* Moving that option somewhere else in the \"Security\" section.\r\n{quote}\r\nI agree with this point, Confluence equivalent of User Management appears at the bottom of the Security items and we should rename User Management to User Repositories",
      "summary": "Rename User Management feature in Bamboo"
    }
  },
  {
    "key": "BAM-17813",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-09T17:58:08.000+0000",
      "created": "2016-08-15T23:00:11.000+0000",
      "description": "h3. Problem Definition\r\nThere are currently no documented REST resources that allow for querying or updating deployment tasks in Bamboo. \r\n\r\nh3. Suggested Solution\r\nMake deployment task endpoints available via REST API.",
      "summary": "Query and Update Deployment Tasks via REST API"
    }
  },
  {
    "key": "BAM-17812",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-20T13:30:35.000+0000",
      "created": "2016-08-15T18:33:48.000+0000",
      "description": "h3. Summary\r\n\r\nWhen LDAP is enabled and the local repo is disabled (by commenting the repository entry in atlassian-user-custom.xml) the local users still show up mixed with the LDAP users.\r\nh3. Steps to Reproduce\r\n # Create a local user with the same name of one present in LDAP, lets say *testuser*\r\n # Configure the Bamboo to use only LDAP, avoiding the local repository configuration by commenting the following line from the standard config: (refer to: [How to set up LDAP in Bamboo|https://confluence.atlassian.com/bamkb/how-to-set-up-ldap-in-bamboo-729978786.html])\r\n{noformat}\r\n<hibernate name=\"Hibernate Repository\" key=\"hibernateRepository\" description=\"Hibernate Repository\" cache=\"true\"/>\r\n{noformat}\r\n # Navigate to *Bamboo Administration > Overview >> Users* and verify the user *testuser* is duplicated (one entry from local repo and another from LDAP). This behavior is not reproducible when using Crowd.\r\n\r\nh3. Expected Results\r\n\r\nOnly users from LDAP will show up at: *Bamboo Administration > Overview >> Users*\r\nh3. Actual Results\r\n\r\nBoth users from LDAP and Local repository are visible at *Bamboo Administration > Overview >> Users*, but only users from LDAP are able to login.\r\nh3. Note\r\n\r\nThis problem is not reproducible in Bamboo 5.10.3, 5.11.3.",
      "summary": "Local users still show up when local repo is disabled (LDAP enabled)"
    }
  },
  {
    "key": "BAM-17811",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-19T17:39:22.000+0000",
      "created": "2016-08-15T16:43:05.000+0000",
      "description": "h3. Summary\r\n\r\nThe Labs link \"Try out our new Application Links page for improved status and diagnostics!\" is not available if an Application link exists on the page.\r\n\r\nh3. Steps to Reproduce\r\n# Go to {{Admin >> Overview >> Add-ons >> Application Links}}\r\n# Add an Application Link\r\n# Look for the Labs opt-in link in the top right-hand corner\r\n\r\nh3. Expected Results\r\n\r\nApplication Links opt-in link should be there in the top right-hand corner of the Application Links page\r\n!AppLinks Opt-in link.png|thumbnail!\r\n\r\nh3. Actual Results\r\n\r\nApplication Links opt-in link does not appear in the top right-hand corner of the Application Links page\r\n\r\nh3.Workaround\r\n\r\n# Delete existing AppLinks\r\n# Reload/refresh the page\r\n# Opt-in\r\n# Re-add AppLinks\r\n\r\n",
      "summary": "New Application Links page opt-in link not available if an AppLink is added"
    }
  },
  {
    "key": "BAM-17810",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-14T13:19:29.000+0000",
      "created": "2016-08-15T13:09:00.000+0000",
      "description": "h3.Summary\r\n\r\nAccording to [https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html] bamboo.shortPlanName should contain the name of the plan, however for plan branches it contains the branch name (instead of the plan name).\r\n\r\nh3.Environment\r\n* Bamboo 5.12.3.1\r\n\r\n\r\nh3.Steps to Reproduce\r\n# Create a script task that only contains echo ${bamboo.shortPlanName}\r\n# Run the plan and look at the log - you will see the plan name being output\r\n# Create a plan branch\r\n\r\nh3.Expected Results\r\n\r\nThe name of the plan is output.\r\n\r\nh3.Actual Results\r\n\r\nThe name of the branch is output \r\n\r\nh3.Workaround\r\nThere is no known workaround",
      "summary": "shortPlanName contains branch name for plan branches"
    }
  },
  {
    "key": "BAM-17808",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-26T11:30:11.000+0000",
      "created": "2016-08-12T17:21:30.000+0000",
      "description": "The HungBuildKiller add-on does not support local agents, only remote agents, as also stated by the former Bamboo Build Engineer Adrian Deccico through the following comments:\r\n\r\nhttps://jira.atlassian.com/browse/BAM-931?focusedCommentId=540111&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-540111\r\n\r\n and\r\n\r\nhttps://jira.atlassian.com/browse/BAM-931?focusedCommentId=540115&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-540115\r\n\r\nIt would be nice if we could update the add-on's description in Marketplace to warn users that it does not work with local agents.",
      "summary": "Update HungBuildKiller description in Marketplace"
    }
  },
  {
    "key": "BAM-17807",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-11T06:54:41.000+0000",
      "description": "h3. Summary\r\nIf a restricted admin does not have permission to a particular deployment project, he/she is unable to view the deployment project\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Create a user with restricted admin permission\r\n# Create a deployment project\r\n# Remove access permission for logged in users and anonymous\r\n# Access the deployment project using restricted admin account\r\n\r\nh3. Expected Results\r\nRestricted admins should be able to access the project similar to admins\r\nh3. Actual Results\r\nRestricted admins gets hit with a _Access denied_ page.\r\nThe following is thrown in the logs:\r\n{noformat:borderStyle=dashed|title=atlassian-bamboo.log}\r\n2016-08-11 14:57:16,793 WARN [http-nio-8085-exec-14] [AuthorizationLoggerListener] Authorization failed: org.acegisecurity.AccessDeniedException: Authentication user1 has NO permissions to the domain object com.atlassian.bamboo.deployments.projects.DeploymentProjectImpl@69819071; authenticated principal: org.acegisecurity.adapters.PrincipalAcegiUserToken@e906547f: Username: id:2 name:user1 fullName:Bamboo User 1 email:user1@bamboo.com created:2016-07-13 23:12:38.0; Password: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER, ROLE_RESTRICTEDADMIN; secure object: ReflectiveMethodInvocation: public abstract com.atlassian.bamboo.deployments.projects.DeploymentProject com.atlassian.bamboo.deployments.projects.service.DeploymentProjectService.getDeploymentProject(long); target is of class [com.atlassian.bamboo.deployments.projects.service.DeploymentProjectServiceImpl]; configuration attributes: [ROLE_USER, ROLE_ANONYMOUS, AFTER_ACL_READ]\r\n2016-08-11 14:57:16,794 INFO [http-nio-8085-exec-14] [ViewDeploymentProjects] Access denied to project:2228225\r\n{noformat}\r\n\r\nh3.Notes\r\nViewing a build result that have related release will have the following error:\r\n{noformat}\r\n2018-09-12 18:18:57,646 WARN [http-nio-8085-exec-18] [AuthorizationLoggerListener] Authorization failed: org.acegisecurity.AccessDeniedException: Authentication admin has NO permissions to the domain object com.atlassian.bamboo.deployments.projects.DeploymentProjectImpl@6d796f43; authenticated principal: org.acegisecurity.adapters.PrincipalAcegiUserToken@b2fabcf4: Username: EmbeddedCrowdUser{name='admin', displayName='admin', directoryId=65537}; Password: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER, ROLE_RESTRICTEDADMIN; secure object: ReflectiveMethodInvocation: public abstract com.atlassian.bamboo.deployments.projects.DeploymentProject com.atlassian.bamboo.deployments.projects.service.DeploymentProjectService.getDeploymentProject(long) throws org.acegisecurity.AccessDeniedException; target is of class [com.atlassian.bamboo.deployments.projects.service.DeploymentProjectServiceImpl]; configuration attributes: [ROLE_USER, ROLE_ANONYMOUS, AFTER_ACL_READ]\r\n2018-09-12 18:18:57,655 WARN [http-nio-8085-exec-18] [AuthorizationLoggerListener] Authorization failed: org.acegisecurity.AccessDeniedException: Authentication admin has NO permissions to the domain object com.atlassian.bamboo.deployments.projects.DeploymentProjectImpl@749bc378; authenticated principal: org.acegisecurity.adapters.PrincipalAcegiUserToken@b2fabcf4: Username: EmbeddedCrowdUser{name='admin', displayName='admin', directoryId=65537}; Password: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER, ROLE_RESTRICTEDADMIN; secure object: ReflectiveMethodInvocation: public abstract com.atlassian.bamboo.deployments.projects.DeploymentProject com.atlassian.bamboo.deployments.projects.service.DeploymentProjectService.getDeploymentProject(long) throws org.acegisecurity.AccessDeniedException; target is of class [com.atlassian.bamboo.deployments.projects.service.DeploymentProjectServiceImpl]; configuration attributes: [ROLE_USER, ROLE_ANONYMOUS, AFTER_ACL_READ]\r\n2018-09-12 18:18:57,662 ERROR [http-nio-8085-exec-18] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nAn error has occurred when reading existing sub-variable \"manualVariables\"; see cause exception! The type of the containing value was: extended_hash+string (com.atlassian.bamboo.ww2.actions.chains.ViewChainResult wrapped into f.e.b.StringModel)\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n\t- Failed at: #macro displayManualVariables result ...  [in template \"lib/components.ftl\" in macro \"displayManualVariables\" at line 892, column 1]\r\n\t- Reached through: @cp.displayManualVariables action.res...  [in template \"URLTemplate\" at line 1, column 1]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._TemplateModelException: [... Exception message was already printed; see it above ...]\r\n...\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.GeneratedMethodAccessor1397.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat freemarker.ext.beans.BeansWrapper.invokeMethod(BeansWrapper.java:1459)\r\n\tat freemarker.ext.beans.BeanModel.invokeThroughDescriptor(BeanModel.java:236)\r\n\tat freemarker.ext.beans.BeanModel.get(BeanModel.java:154)\r\n\t... 322 more\r\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.atlassian.bamboo.resultsummary.AbstractResultsSummary.variableContextLogs, could not initialize proxy - no Session\r\n...\r\n2018-09-12 18:18:57,681 ERROR [http-nio-8085-exec-18] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nJava method \"com.atlassian.bamboo.jira.jiraissues.JiraIssueUtils.getRenderedString(String, com.atlassian.bamboo.resultsummary.ImmutableResultsSummary)\" threw an exception when invoked on com.atlassian.bamboo.jira.jiraissues.JiraIssueUtils object \"com.atlassian.bamboo.jira.jiraissues.JiraIssueUtils@21f9c30\"; see cause exception in the Java stack trace.\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n\t- Failed at: ${jiraIssueUtils.getRenderedString(ht...  [in template \"freemarker-lib/ui.ftl\" in macro \"renderValidJiraIssues\" at line 424, column 5]\r\n\t- Reached through: @ui.renderValidJiraIssues commit.comm...  [in template \"templates/plugins/webRepository/commonCommitSummaryView.ftl\" in macro \"displayCommitSummary\" at line 53, column 25]\r\n\t- Reached through: @commitSummaryView.displayCommitSumma...  [in template \"lib/resultSummary.ftl\" in macro \"showChanges\" at line 449, column 21]\r\n\t- Reached through: @ps.showChanges buildResultsSummary=a...  [in template \"URLTemplate\" at line 4, column 1]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._TemplateModelException: [... Exception message was already printed; see it above ...]\r\n...\r\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.atlassian.bamboo.resultsummary.AbstractResultsSummary.jiraIssues, could not initialize proxy - no Session\r\n...\r\n2018-09-12 18:18:57,699 ERROR [http-nio-8085-exec-18] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nJava method \"com.atlassian.bamboo.ww2.actions.chains.ViewChainResult.hasSharedArtifacts(com.atlassian.bamboo.chains.ChainResultsSummary)\" threw an exception when invoked on com.atlassian.bamboo.ww2.actions.chains.ViewChainResult object \"com.atlassian.bamboo.ww2.actions.chains.ViewChainResult@19c418a2\"; see cause exception in the Java stack trace.\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n\t- Failed at: #assign sharedArtifactsFound = action...  [in template \"URLTemplate\" at line 4, column 1]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._TemplateModelException: [... Exception message was already printed; see it above ...]\r\n...\r\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.atlassian.bamboo.resultsummary.AbstractResultsSummary.artifactLinks, could not initialize proxy - no Session\r\n{noformat}\r\n\r\nh3.Workaround\r\nGrant permission explicitly in project permission to restricted admins",
      "summary": "Restricted admin have no access to deployment projects that have no project permission granted"
    }
  },
  {
    "key": "BAM-17806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-10T04:04:08.000+0000",
      "description": "h3. Problem Description\r\n\r\nA shared artifact built on a remote agent on a unix based OS with a Windows Bamboo Server does not preserve the permissions as originally built when used in an Artifact download task on a deployment plan. This doesn't occur when for example your Bamboo Server and remote agent are both on unix systems.\r\n\r\nh3. Environment\r\n * Windows Bamboo Server\r\n * Remote Agent (Tested on OSX and Ubuntu)\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a new Project (i.e.: Support), Plan (i.e.: MyPlan), disable your local agents and connect your unix remote agent (or dedicate it to the plan)\r\n# Add n \"{{Script}}\" task\r\n{code:java}\r\n# creates a new file\r\ntouch executable.jar\r\n\r\n# list files\r\nls -l\r\n\r\n# change its permission\r\nchmod 744 executable.jar\r\n\r\n# list files\r\nls -l\r\n{code}\r\nAs a result you would have something like this in the build-dir:\r\n{noformat}\r\n12-Dec-2014 14:08:52\ttotal 0\r\n12-Dec-2014 14:08:52\t-rw-r--r--  1 root  root  0 Dec 12 14:08 executable.jar\r\n\r\n12-Dec-2014 14:08:52\ttotal 0\r\n12-Dec-2014 14:08:52\t-rwxr--r--  1 root  root  0 Dec 12 14:08 executable.jar\r\n{noformat}\r\n# Create an Artifact definition as per following:\r\n{noformat}\r\nName: myArtifact\r\nLocation:\r\nCopy pattern: executable.jar\r\n[x] Shared\r\n{noformat}\r\n# Go to \"{{<bamboo-home>/artifacts}}\" and run the following:\r\n{code:java}\r\nls -l SUP-MYPLAN/shared/build-00001/myArtifact/executable.jar\r\n{code}\r\nAs a result you would have something like (doesn't look like the permissions are preserved here either):\r\n{noformat}\r\n-rw-r--r--  1 root  root  0 Dec 12 14:08 SUP-MYPLAN/shared/build-00001/myArtifact/executable.jar\r\n{noformat}\r\n# Create a deployment plan that runs on the same remote agent and consumes the artifact with an artifact download task\r\nAs a result you would have this in the deployment working dir of the agent (note the executable bit is set across all groups):\r\n{code:java}\r\nbuild\t29-Jul-2016 14:19:13\t/home/bamboo-agent/bamboo-agent-home/xml-data/build-dir/170196993-170295297\r\nbuild\t29-Jul-2016 14:19:13\tdrwxr-xr-x 3 bamboo-agent bamboo-agent  4096 Jul 29 14:19 .\r\nbuild\t29-Jul-2016 14:19:13\tdrwxr-xr-x 5 bamboo-agent bamboo-agent  4096 Jul 27 14:29 ..\r\nbuild\t29-Jul-2016 14:19:13\t-rwxr-xr-x 1 bamboo-agent bamboo-agent 26701 Jul 29 14:19 executable.jar\r\n{code}\r\n\r\nh3. Workaround\r\n - Write a script job that will re-set the correct permissions / rsync the files to destination using {{--chmod}} option to set the permissions\r\n - Tar everything up before creating the artifacts and then pass around a tarball rather than just pure artifacts.",
      "summary": "Shared artifact built on remote agent does not preserve permissions with a Windows Bamboo Server"
    }
  },
  {
    "key": "BAM-17805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-09T20:00:39.000+0000",
      "created": "2016-08-09T19:58:58.000+0000",
      "description": "For user convenience, the username and password fields on the login screen support auto-complete. However, in some organizations, this may not be acceptable security policy. At a minimum, there should be a setting which disables auto-complete for these fields.",
      "summary": "Disable auto-complete for authentication fields"
    }
  },
  {
    "key": "BAM-17804",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:25.000+0000",
      "created": "2016-08-09T19:43:45.000+0000",
      "description": "h3. Summary\r\nDifficult to track down how Bamboo agents are dedicated\r\n\r\nh3. Environment\r\n* Bamboo v5.12.3.1\r\n\r\nh3. Steps to Reproduce\r\n* *user.plan* in Bamboo has CREATE PLAN permission but not admin. \r\n** Username: user.plan\r\n** Group name: bamboo-plan\r\n||Bamboo administration >> Global Permissions||\r\n||Groups||Access||Create plan||Create repository||Admin||\r\n|bamboo-plan|(/)|(/)|(x)|(x)|\r\n* *user.plan* creates a Project / Plan to run MSBuild tasks on Windows agents\r\n* Bamboo administrator goes to {{Bamboo administration >> Agent}} section and dedicate Linux Agent to Project created by *user.plan*\r\n\r\nh3. Expected Results\r\n* Project should have a label {{DEDICATED}}, which would warn *user.plan* about Bamboo administrator action\r\n\r\nh3. Actual Results\r\n* UserA not being able to run Plan, resulting on https://jira.atlassian.com/browse/BAM-17803\r\n\r\nh3. Notes\r\n* When dedicating agent to a PROJECT, the same should have a label {{DEDICATED}}\r\n* When dedicating agent to a PLAN, the same should have a label {{DEDICATED}}\r\n* When dedicating agent to a JOB, the same should have a label {{DEDICATED}}\r\n* When dedicating agent to a DEPLOYMENT, the same should have a label {{DEDICATED}}\r\n* When dedicating agent to a ENVIRONMENT, the same should have a label {{DEDICATED}}\r\n\r\nh3.Workaround\r\n* KB - [No agents meet this job's requirements|https://confluence.atlassian.com/display/BAMKB/No+agents+meet+this+job%27s+requirements]",
      "summary": "Provide Dedicate Agent information under PROJECT, PLAN, JOB, DEPLOYMENT, ENVIRONMENT"
    }
  },
  {
    "key": "BAM-17803",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-07-18T12:40:04.000+0000",
      "created": "2016-08-09T19:28:52.000+0000",
      "description": "h3. Summary\r\n* Users/Groups with *Create Plan* permission are not have acess to *See Agents Summary* page under {{Requirements}} tab.\r\n{color:red}Access denied{color}\r\n\r\nh3. Environment\r\n* Bamboo v5.12.3.1\r\n\r\nh3. Steps to Reproduce\r\n * Username: user.plan\r\n * Group name: bamboo-plan\r\n||Bamboo administration >> Global Permissions||\r\n||Groups||Access||Create plan||Create repository||Admin||\r\n|bamboo-plan|(/)|(/)|(x)|(x)|\r\n* log in with *user.plan*\r\n* create a Plan and add a MSBuild task (_to be run on Windows Bamboo agent_)\r\n* log out and log back in with Bamboo administrator\r\n* dedicate Project from plan created above to a Linux agent\r\n* log out and log back in with *user.plan*\r\n* go to {{Job >> Requirements}} tab \r\n\r\nh3. Expected Results\r\n* have access *See Agents Summary*\r\n\r\nh3. Actual Results\r\n{panel}\r\n*Access denied*\r\nSorry, you have insufficient permissions to view the page. Please *contact an administrator* if you believe this is an error.\r\n\r\n*Go to...*\r\n* Site homepage\r\n{panel}\r\n\r\nh3. Notes\r\n\r\nh3.Workaround\r\nNo workaround available",
      "summary": "Users Groups with Create Plan permission do not have permission to See Agents Summary"
    }
  },
  {
    "key": "BAM-17802",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-09T14:59:10.000+0000",
      "created": "2016-08-09T14:23:34.000+0000",
      "description": "h3. Summary\r\n*Non-admin* users/groups can no longer see the Audit Logs in Plan Configuration in Bamboo v5.11.x or above.\r\n\r\nh3. Environment\r\n * Bamboo v5.12.3.1\r\n\r\nh3. Steps to Reproduce\r\n * Username: user.plan\r\n * Group name: bamboo-plan\r\n||Bamboo administration >> Global Permissions||\r\n||Groups||Access||Create plan||Create repository||Admin||\r\n|bamboo-plan|(/)|(x)|(x)|(x)|\r\n||Plan configuration >> Permissions||\r\n||Groups||View||Edit||Build||Clone||Admin||\r\n|bamboo-plan|(/)|(/)|(/)|(/)|(x)|\r\n\r\nh3. Expected Results\r\n * be able to see Audit Logs in Plan configuration\r\n\r\nh3. Actual Results\r\n * users cannot see Plan configuration >> Audit logs tab\r\n\r\nh3. Workaround\r\nNo workaround available",
      "summary": "Plan Audit logs requiring Admin permission"
    }
  },
  {
    "key": "BAM-17801",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-26T09:06:25.000+0000",
      "created": "2016-08-09T13:32:01.000+0000",
      "description": null,
      "summary": "Commits are incorrectly detected when Subversion externals are used"
    }
  },
  {
    "key": "BAM-17800",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-24T10:57:44.000+0000",
      "created": "2016-08-09T13:29:54.000+0000",
      "description": "Currently, Bamboo only triggers a build based on new commits.\u00a0\r\n\r\nIn some workflow, users require a build and deployment to be triggered when a new tag is pushed.",
      "summary": "Trigger builds based on new tags pushed"
    }
  },
  {
    "key": "BAM-17799",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-09T12:48:41.000+0000",
      "description": "h3. Summary\r\n\r\nBuild remain as a \"building\" although build was completed but with errors.\r\n\r\nExample, when a remote agent encounter OOME when submitting the results back to the server, the following appears in the logs:\r\n{noformat:title=atlassian-bamboo.log}\r\n2016-08-05 10:05:11,285 INFO [bambooAgentMessageListenerConnector-1] [DefaultErrorHandler] Recording an error: Unknown exception occurred on 'agent name'. Agent will attempt to recover its normal operation... : All Builds : null\r\n\r\n\r\n{noformat}\r\n{noformat:title=atlassian-remote-agent.log}\r\n2016-08-05 10:05:11,280 ERROR [0-BAM::nbsrvbba-01.diasemi.com (2)::Agent:pool-3-thread-1] [BuildAgentControllerImpl] Unknown exception occurred on 'agent name'. \r\nAgent will attempt to recover its normal operation...\r\njava.lang.reflect.UndeclaredThrowableException\r\n\tat com.sun.proxy.$Proxy12.toMessage(Unknown Source)\r\n\tat com.atlassian.bamboo.v2.build.agent.remote.sender.JmsTemplateMessageSender$3.doInJms(JmsTemplateMessageSender.java:95)\r\n\tat com.atlassian.bamboo.v2.build.agent.remote.sender.JmsTemplateMessageSender$3.doInJms(JmsTemplateMessageSender.java:87)\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:491)\r\n...\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.bamboo.spring.LazyComponentProxyFactoryBean$LazyInvocationHandler.invoke(LazyComponentProxyFactoryBean.java:59)\r\n\t... 19 more\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOfRange(Arrays.java:3664)\r\n\tat java.lang.StringBuffer.toString(StringBuffer.java:671)\r\n\tat java.io.StringWriter.toString(StringWriter.java:210)\r\n\tat com.thoughtworks.xstream.XStream.toXML(XStream.java:1017)\r\n\tat com.atlassian.bamboo.v2.build.queue.BambooMessageConverter.toMessage(BambooMessageConverter.java:69)\r\n\t... 23 more\r\n\r\n\r\n{noformat}\r\nh3. Workaround\r\n* Restart Bamboo\r\n* Change the {{BUILD_STATE}} and {{LIFE_CYCLE_STATE}} of the affected build in the database. Such information is stored in the {{BUILDRESULTSUMMARY}} table.",
      "summary": "Build status in not updated when there is an error in retrieving build results"
    }
  },
  {
    "key": "BAM-17798",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-06T12:23:19.000+0000",
      "created": "2016-08-09T08:39:30.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, when agent authentication is enabled, remote agents need to be manually approved when they register with the server for the first time. This may scale for small environments, however when using cloud services (not using Elastic agents) to bring online remote agents on demand, it's not feasible to manually approve each agent when it comes online for the first time.\r\n\r\nh3. Suggested Solution\r\n \r\nAn API method should be provided to allow administrators to programmatically approve remote agents.\r\n\r\nh3. Workaround\r\n\r\nDisable agent authentication, however this bears security risks and defeats the purpose of the feature.",
      "summary": "As an administrator I want to be able to programmatically approve remote agents"
    }
  },
  {
    "key": "BAM-17797",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:48:38.000+0000",
      "created": "2016-08-09T06:58:32.000+0000",
      "description": "When there is more than one page's worth of repositories on the Linked Repositories page, it means that the button that allows you to create a new one is off the page. If you have many linked repositories, you have to scroll all the way down to the bottom of the page before it becomes available. \r\n\r\nOne of the main reasons to go to this page is to create a new linked repository, so I think we should make it easier to do so.",
      "summary": "Make it easier to find the 'Add Repository' button on the Linked Repositories page"
    }
  },
  {
    "key": "BAM-17796",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:48:40.000+0000",
      "created": "2016-08-08T15:58:11.000+0000",
      "description": "Summary:\r\n - At present when deploying to a tomcat server that is secured using a self-signed certificate, the bamboo deploy process will fail with a PKIX error. \r\n - To work around this issue the self-signed certificate can be added to the JKS keystore, which requires an application restart in order to go into effect.\r\n - While the work-around allows us to support this common use-case, it is not ideal that it requires server-administrator attention and Bamboo downtime. \r\n\r\nIt would be a far more preferable solution to include the ability to manage certificate trusts on a per-plan basis from within Bamboo.\r\n\r\nPlease let me know if there's anything I can assist with in clarifying or advocating for this issue.\r\nCheers!",
      "summary": "Support Per-Plan Certificate Trust Management for Plan Connections"
    }
  },
  {
    "key": "BAM-17795",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-08T21:12:37.000+0000",
      "created": "2016-08-08T14:43:11.000+0000",
      "description": "h3. Summary\r\n\r\nCertain build with jobs that always hang consistently despite being finished on the agent. That is, the agent finishes the job and moves on to another one. The logs are fully streamed to the server but the job remains 'blue' instead of turning green, red or grey.\r\nh3. Environment\r\n * Bamboo v5.10.1.1\r\nh3. Actual Results\r\n\r\nThese hangs coincide with the following stack trace on the Bamboo server {{<bamboo-install>/logs/catalina.out}}:\r\n{noformat}\r\n2016-08-04 11:07:06,332 ERROR [9-BuildTailMessageProcessingThread-expensive:pool-16-thread-1] [SystemAuthorityThreadFactory] Uncaught exception in thread 9-BuildTailMessageProcessingThread-expensive:pool-16-thread-1\r\njava.lang.reflect.UndeclaredThrowableException\r\n        at com.sun.proxy.$Proxy108.fromMessage(Unknown Source)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageListener.decode(BambooAgentMessageListener.java:94)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageListener.access$200(BambooAgentMessageListener.java:18)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageListener$1.run(BambooAgentMessageListener.java:52)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageListener.onMessage(BambooAgentMessageListener.java:43)\r\n        at com.atlassian.bamboo.v2.build.agent.ParallelizingMessageListener$1.run(ParallelizingMessageListener.java:85)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:49)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.GeneratedMethodAccessor1655.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at com.atlassian.bamboo.spring.LazyComponentProxyFactoryBean$LazyInvocationHandler.invoke(LazyComponentProxyFactoryBean.java:59)\r\n        ... 15 more\r\nCaused by: com.thoughtworks.xstream.converters.ConversionException: com.thoughtworks.xstream.mapper.Mapper$Null : com.thoughtworks.xstream.mapper.Mapper$Null\r\n---- Debugging information ----\r\nmessage             : com.thoughtworks.xstream.mapper.Mapper$Null\r\ncause-exception     : com.thoughtworks.xstream.security.ForbiddenClassException\r\ncause-message       : com.thoughtworks.xstream.mapper.Mapper$Null\r\nclass               : com.atlassian.bamboo.collections.message.FinalHashMap\r\nrequired-type       : com.atlassian.bamboo.collections.message.FinalHashMap\r\nconverter-type      : com.atlassian.bamboo.serialization.xstream.FinalHashMapConverter\r\npath                : /com.atlassian.bamboo.v2.build.agent.messages.BatchRemoteBambooMessage/messages/com.atlassian.bamboo.v2.build.agent.messages.ProcessResult/context/runtimeTaskDefinitions/com.atlassian.bamboo.task.runtime.RuntimeTaskDe\r\nfinitionImpl/runtimeContext/entry[5]/null\r\nline number         : 53\r\nclass[1]            : com.atlassian.bamboo.task.runtime.RuntimeTaskDefinitionImpl\r\nconverter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\nclass[2]            : com.atlassian.bamboo.collections.message.FinalArrayList\r\nconverter-type[2]   : com.atlassian.bamboo.serialization.xstream.FinalCollectionConverter\r\nclass[3]            : com.atlassian.bamboo.v2.build.BuildContextImpl\r\nconverter-type[3]   : com.atlassian.bamboo.serialization.xstream.BuildContextXStreamConverter\r\nclass[4]            : com.atlassian.bamboo.v2.build.agent.messages.ProcessResult\r\nclass[5]            : com.atlassian.bamboo.collections.message.FinalLinkedList\r\nclass[6]            : com.atlassian.bamboo.v2.build.agent.messages.BatchRemoteBambooMessage\r\nversion             : not available\r\n-------------------------------\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:79)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:480)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:412)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:263)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:50)\r\n        at com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.readItem(AbstractCollectionConverter.java:71)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.addCurrentElementToCollection(CollectionConverter.java:98)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.populateCollection(CollectionConverter.java:91)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.populateCollection(CollectionConverter.java:85)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.unmarshal(CollectionConverter.java:80)\r\n        at com.atlassian.bamboo.serialization.xstream.AbstractXStreamConverterAdapter.unmarshal(AbstractXStreamConverterAdapter.java:40)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:480)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:412)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:263)\r\n        at com.atlassian.bamboo.serialization.xstream.BuildContextXStreamConverter.unmarshal(BuildContextXStreamConverter.java:111)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:480)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:412)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:263)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:50)\r\n        at com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.readItem(AbstractCollectionConverter.java:71)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.addCurrentElementToCollection(CollectionConverter.java:98)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.populateCollection(CollectionConverter.java:91)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.populateCollection(CollectionConverter.java:85)\r\n        at com.thoughtworks.xstream.converters.collections.CollectionConverter.unmarshal(CollectionConverter.java:80)\r\n        at com.atlassian.bamboo.serialization.xstream.AbstractXStreamConverterAdapter.unmarshal(AbstractXStreamConverterAdapter.java:40)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshallField(AbstractReflectionConverter.java:480)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:412)\r\n        at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:263)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:50)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:134)\r\n        at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\r\n        at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1206)\r\n        at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1190)\r\n        at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1190)\r\n        at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1061)\r\n        at com.thoughtworks.xstream.XStream.fromXML(XStream.java:1052)\r\n        at com.atlassian.bamboo.v2.build.queue.BambooMessageConverter.fromMessage(BambooMessageConverter.java:93)\r\n        ... 19 more\r\nCaused by: com.thoughtworks.xstream.security.ForbiddenClassException: com.thoughtworks.xstream.mapper.Mapper$Null\r\n        at com.thoughtworks.xstream.security.NoTypePermission.allows(NoTypePermission.java:26)\r\n        at com.thoughtworks.xstream.mapper.SecurityMapper.realClass(SecurityMapper.java:74)\r\n        at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n        at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n        at com.atlassian.bamboo.serialization.xstream.PluginsAwareMapper.realClass(PluginsAwareMapper.java:105)\r\n        at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n        at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n        at com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:47)\r\n        at com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\r\n        at com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.readItem(AbstractCollectionConverter.java:70)\r\n        at com.thoughtworks.xstream.converters.collections.MapConverter.putCurrentEntryIntoMap(MapConverter.java:110)\r\n        at com.thoughtworks.xstream.converters.collections.MapConverter.populateMap(MapConverter.java:98)\r\n        at com.thoughtworks.xstream.converters.collections.MapConverter.populateMap(MapConverter.java:92)\r\n        at com.thoughtworks.xstream.converters.collections.MapConverter.unmarshal(MapConverter.java:87)\r\n        at com.atlassian.bamboo.serialization.xstream.AbstractXStreamConverterAdapter.unmarshal(AbstractXStreamConverterAdapter.java:40)\r\n        at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n        ... 74 more\r\n\r\n{noformat}\r\n(i) There are no errors on the agent side.\r\nh3. Workaround\r\n - edit file {{<bamboo-home>/xml-data/configuration/serialization-whitelist.list}}\r\n - append line\r\n{code:java}\r\ncom.thoughtworks.xstream.mapper.Mapper$Null\r\n{code}\r\n(allow serialization & deserialization of NULLs)\r\n\r\n - restart Bamboo",
      "summary": "XStream ConversionException"
    }
  },
  {
    "key": "BAM-17794",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-06T14:14:41.000+0000",
      "created": "2016-08-08T09:32:05.000+0000",
      "description": "h3. Summary\r\nWhen importing plans from Jenkins, Bamboo fails with the following error:\r\n{noformat:borderStyle=dashed}\r\n2016-08-08 16:55:05,977 ERROR [0-JenkinsImporterThread:pool-24-thread-1] [JenkinsImporter] Exception while creating chain\r\ncom.atlassian.bamboo.build.PlanCreationException: BuildNumberGeneratorService must not be called within an existing transaction.\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.createPlan(PlanCreationTemplate.java:293)\r\n\tat com.atlassian.bamboo.build.creation.ChainCreationServiceImpl.access$201(ChainCreationServiceImpl.java:82)\r\n\tat com.atlassian.bamboo.build.creation.ChainCreationServiceImpl$2.apply(ChainCreationServiceImpl.java:613)\r\n\tat com.atlassian.bamboo.build.creation.ChainCreationServiceImpl$2.apply(ChainCreationServiceImpl.java:608)\r\n\tat com.atlassian.bamboo.core.ScopedExclusionServiceImpl.withNewLockedObject(ScopedExclusionServiceImpl.java:60)\r\n\tat com.atlassian.bamboo.build.creation.ChainCreationServiceImpl.createPlanAndKey(ChainCreationServiceImpl.java:573)\r\n\tat com.atlassian.bamboo.build.creation.ChainCreationServiceImpl.createPlan(ChainCreationServiceImpl.java:550)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy265.createPlan(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy496.createPlan(Unknown Source)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter.createChain(JenkinsImporter.java:446)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter.access$500(JenkinsImporter.java:77)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter$ChainCreationCallback.doInTransaction(JenkinsImporter.java:217)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter$ChainCreationCallback.doInTransaction(JenkinsImporter.java:190)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor$1.doInTransaction(SpringHostContextAccessor.java:71)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n\tat com.atlassian.sal.spring.component.SpringHostContextAccessor.doInTransaction(SpringHostContextAccessor.java:68)\r\n\tat sun.reflect.GeneratedMethodAccessor158.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy263.doInTransaction(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor158.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy464.doInTransaction(Unknown Source)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat sun.reflect.GeneratedMethodAccessor219.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy529.execute(Unknown Source)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter.importData(JenkinsImporter.java:279)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter$ImporterJob$1.call(JenkinsImporter.java:137)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$BambooRunnableFromCallable.run(BambooRunnables.java:71)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.applinks.ImpersonationServiceImpl$1.call(ImpersonationServiceImpl.java:85)\r\n\tat com.atlassian.bamboo.jenkins.importer.core.JenkinsImporter$ImporterJob.run(JenkinsImporter.java:140)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:51)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.RuntimeException: BuildNumberGeneratorService must not be called within an existing transaction.\r\n\tat com.atlassian.bamboo.utils.BambooValidate.notInsideTransaction(BambooValidate.java:43)\r\n\tat com.atlassian.bamboo.build.BuildNumberGeneratorServiceImpl.initBuildNumbers(BuildNumberGeneratorServiceImpl.java:42)\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.savePlan(PlanCreationTemplate.java:372)\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.lambda$createPlan$3(PlanCreationTemplate.java:286)\r\n\tat io.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:293)\r\n\tat com.atlassian.bamboo.build.creation.PlanCreationTemplate.createPlan(PlanCreationTemplate.java:285)\r\n\t... 98 more\r\n\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n# Go to Import from Jenkins from Bamboo Admin\r\n# Select Import from Jenkins Home\r\n# Specify location of Jenkins Home\r\n \r\nh3.Workaround\r\nError seems to occur only with Bamboo 5.10 and above. Importer works in Bamboo 5.9. \r\nIf this is a new installation:\r\n# Install [Bamboo 5.9.10|https://www.atlassian.com/software/bamboo/download-archives]\r\n# Import the Jenkins project at the setup screen\r\n# Upgrade to Bamboo 5.12.3.1",
      "summary": "PlanCreationException when importing Jenkins plans"
    }
  },
  {
    "key": "BAM-17793",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-08T03:50:11.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThere currently isn't a way to create and utilize your own security groups while Bamboo is in control of your Amazon instances. The _elasticbamboo_ security group that's created by Bamboo is hardcoded into the process. You can manipulate the settings of that security group but cannot replace it, rename it or point Bamboo to alternate or additional group(s).\r\n\r\nh3. Suggested Solution\r\nIn the event of AWS IAM policies that define expected names for the Security Group, there should be some level of control over the Security Group name. The ability to define and customize security groups in addition to the default would be advantageous. \r\n\r\nh3. Workaround\r\nYou could utilize the AWS CLI in the *Bamboo Administration >> Overview >> Image Configurations >> Edit >> Instance Start-up Script* to *add* additional security groups. Here's an *example* script below:\r\n{noformat}\r\nexport AWS_ACCESS_KEY_ID=\r\nexport AWS_SECRET_ACCESS_KEY=\r\nexport AWS_DEFAULT_REGION=ap-southeast-2\r\n\r\nINSTANCE_ID=$(curl http://169.254.169.254/latest/meta-data/instance-id)\r\naws ec2 modify-instance-attribute --instance-id $INSTANCE_ID --groups '[\"sg-00a283b582b15d7dd\",\"sg-0ce1b591976879c99\",\"sg-0a80a3cfd5215b388\"]'\r\n{noformat}\r\n\r\nSome notes about this example:\r\n* It uses the AWS CLI to modify security groups for the current instance\r\n* Authentication details must be provided for the AWS CLI\r\n* {{modify-instance-attribute --groups}} requires *Security group IDs* (it won't work with names)\r\n* The {{modify-instance-attribute --groups}} command replaces all security groups with what's specified, so we also need to specify the *Security Group ID* of both {{elasticbamboo}}, {{ControlledByBamboo}} and any additional security groups you require. These Security Group IDs will vary in your infrastructure and the above are just examples.",
      "summary": "Customization for Security Group(s) used by Elastic Instances / Agents"
    }
  },
  {
    "key": "BAM-17792",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-01T10:04:42.000+0000",
      "created": "2016-08-05T18:01:36.000+0000",
      "description": "h3. Environment\r\n * Java(TM) SE Runtime Environment (build 1.8.0_77-b03)\r\n * Linux dsantos 2.6.32-042stab113.11\r\nh3. Steps to reproduce\r\n # Install Bamboo with default options\r\n # Open the system information page and check for the Bamboo logs path\r\nh3. Expected Results\r\n\r\nThe page show the logs path being used as it shows in Bamboo 5.10.3\r\nh3. Actual Results\r\n\r\nNo path is displayed:\r\n !SystemInformation-5.11.3.png|thumbnail!\r\nh3. Workaround\r\n\r\nUse this document as a reference to find your logs path: [Locating important directories and files|https://confluence.atlassian.com/display/BAMBOO/Locating+important+directories+and+files]",
      "summary": "Bamboo logs path is missing on system information page"
    }
  },
  {
    "key": "BAM-17791",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-02T14:29:07.000+0000",
      "description": "h3. Summary\r\nIf we start a build but then choose to stop the build while it's in the middle of the _Source Code Checkout_, Bamboo leaves the SVN working copy in a locked state and therefore the next time we start the build, it will fail with the {{\"svn: E155004\"}} error stating the directory is locked.\r\n\r\nIt would be nice if Bamboo could clean up the working copy after stopping a build or if the build was interrupted to avoid this problem.\r\n\r\nh3. Steps to Reproduce\r\n# Run a build configured to checkout code from a [Subversion|https://confluence.atlassian.com/display/BAMBOO/Subversion] repository.\r\n# Stop build while Bamboo is executing the _Source Code Checkout_ task.\r\n# Start a new build.\r\n\r\nh3. Expected Results\r\nThe new build should run without any problems.\r\n\r\nh3. Actual Results\r\nThe new build fails with the following exception:\r\n{noformat}\r\nerror\t01-Aug-2016 17:46:39\tError occurred while running Task 'Checkout Default Repository(1)' of type com.atlassian.bamboo.plugins.vcs:task.vcs.checkout.\r\nerror\t01-Aug-2016 17:46:39\tjava.lang.RuntimeException: com.atlassian.bamboo.repository.RepositoryException: Unable to retrieve source code for revision '2', plan 'SVN-SUB-JOB1': svn: E155004: Working copy '/Users/bamboo/Documents/Atlassian/bamboo/bamboo-5.10.3/home/xml-data/build-dir/163841/SVN-SUB-JOB1' locked\r\nerror\t01-Aug-2016 17:46:39\tsvn: E155004: '/Users/bamboo/Documents/Atlassian/bamboo/bamboo-5.10.3/home/xml-data/build-dir/163841/SVN-SUB-JOB1' is already locked.\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:144)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.runTask(RetryingTaskExecutor.java:88)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.retry(RetryingTaskExecutor.java:203)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.retry(RetryingTaskExecutor.java:188)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask.execute(VcsCheckoutTask.java:145)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$125(TaskExecutorImpl.java:273)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:202)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:273)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executePreparationTasks(TaskExecutorImpl.java:83)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.build.pipeline.tasks.PrepareBuildTask.call(PrepareBuildTask.java:74)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:215)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:139)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:130)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:215)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:129)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:137)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:49)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:31)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:20)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:52)\r\nerror\t01-Aug-2016 17:46:39\t\tat java.lang.Thread.run(Thread.java:745)\r\nerror\t01-Aug-2016 17:46:39\tCaused by: com.atlassian.bamboo.repository.RepositoryException: Unable to retrieve source code for revision '2', plan 'SVN-SUB-JOB1': svn: E155004: Working copy '/Users/bamboo/Documents/Atlassian/bamboo/bamboo-5.10.3/home/xml-data/build-dir/163841/SVN-SUB-JOB1' locked\r\nerror\t01-Aug-2016 17:46:39\tsvn: E155004: '/Users/bamboo/Documents/Atlassian/bamboo/bamboo-5.10.3/home/xml-data/build-dir/163841/SVN-SUB-JOB1' is already locked.\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.repository.svn.SvnRepository.retrieveSourceCode(SvnRepository.java:627)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask.fillWorkingDirFromVcs(VcsCheckoutTask.java:280)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask.access$000(VcsCheckoutTask.java:57)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask$1.call(VcsCheckoutTask.java:150)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.plugins.vcs.task.VcsCheckoutTask$1.call(VcsCheckoutTask.java:146)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.executor.RetryingTaskExecutor.rerun(RetryingTaskExecutor.java:108)\r\nerror\t01-Aug-2016 17:46:39\t\t... 20 more\r\nerror\t01-Aug-2016 17:46:39\tCaused by: org.tmatesoft.svn.core.SVNException: svn: E155004: Working copy '/Users/bamboo/Documents/Atlassian/bamboo/bamboo-5.10.3/home/xml-data/build-dir/163841/SVN-SUB-JOB1' locked\r\nerror\t01-Aug-2016 17:46:39\tsvn: E155004: '/Users/bamboo/Documents/Atlassian/bamboo/bamboo-5.10.3/home/xml-data/build-dir/163841/SVN-SUB-JOB1' is already locked.\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:51)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc17.db.SVNWCDb$WCLockObtain.transaction(SVNWCDb.java:5722)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.db.SVNSqlJetDb.runTransaction(SVNSqlJetDb.java:256)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.db.SVNSqlJetDb.runTransaction(SVNSqlJetDb.java:250)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc17.db.SVNWCDb.obtainWCLock(SVNWCDb.java:5655)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc17.SVNWCContext.acquireWriteLock(SVNWCContext.java:1632)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc2.ng.SvnNgAbstractUpdate.update(SvnNgAbstractUpdate.java:106)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc2.ng.SvnNgUpdate.run(SvnNgUpdate.java:38)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc2.ng.SvnNgUpdate.run(SvnNgUpdate.java:18)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc2.ng.SvnNgOperationRunner.run(SvnNgOperationRunner.java:20)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.internal.wc2.SvnOperationRunner.run(SvnOperationRunner.java:21)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.wc2.SvnOperationFactory.run(SvnOperationFactory.java:1235)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.wc2.SvnOperation.run(SvnOperation.java:294)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.wc.SVNUpdateClient.doUpdate(SVNUpdateClient.java:311)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.wc.SVNUpdateClient.doUpdate(SVNUpdateClient.java:291)\r\nerror\t01-Aug-2016 17:46:39\t\tat org.tmatesoft.svn.core.wc.SVNUpdateClient.doUpdate(SVNUpdateClient.java:387)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.repository.svn.SvnRepository.update(SvnRepository.java:1315)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.repository.svn.SvnRepository.retrieveSourceCodeWithException(SvnRepository.java:735)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.repository.svn.SvnRepository.retrieveSourceCodeWithCleanup(SvnRepository.java:661)\r\nerror\t01-Aug-2016 17:46:39\t\tat com.atlassian.bamboo.repository.svn.SvnRepository.retrieveSourceCode(SvnRepository.java:604)\r\nerror\t01-Aug-2016 17:46:39\t\t... 25 more\r\n{noformat}\r\n\r\nh3.Workaround\r\nIt is necessary to manually clear the SVN working copy for the failing plan at *$BAMBOO_HOME/xml-data/build-dir/PROJ-PLAN-JOB1* to be able to start new builds. Update and [clean|http://www.tigris.org/nonav/scdocs/ddUsingSVN_command-line.html.en#svnclean] your working copy:\r\n\r\n{noformat}\r\nsvn update\r\nsvn cleanup\r\n{noformat}",
      "summary": "Prevent Subversion working copy from getting locked"
    }
  },
  {
    "key": "BAM-17790",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-24T09:30:37.000+0000",
      "created": "2016-08-02T03:39:21.000+0000",
      "description": "h3. Problem Definition\r\n\r\nSome customers will have extremely large numbers of linked repositories defined for their development pipeline. In this\u00a0situation, the list that is presented to the user under\u00a0Cog -> Linked Repositories can be unwieldy.\r\n\r\n\u00a0\r\n\r\nSuggested Solution\r\n\r\nProvide a way to the user to select arbitrary sets of linked repository definitions\u00a0and consolidate them in to groups. Each group could be given an arbitrary name or based on an existing project.\u00a0\r\n\r\n\u00a0",
      "summary": "Allow many linked repositories definitions to be grouped"
    }
  }
]