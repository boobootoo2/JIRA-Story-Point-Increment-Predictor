[
  {
    "key": "BAM-20052",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-22T21:37:18.000+0000",
      "description": "h3. Steps to Reproduce\r\n# pick a name that is not a revision number, neither a tag name nor a branch name\r\n# run a customised build and use this name in the revision field\r\n# run the build\r\n\r\nh3. Expected Results\r\nThe UI will check if that revision can be checked out and will tell the user that revision is not available\r\n\r\nh3. Actual Results\r\nThe build is not run and the UI shows the below misleading error:\r\n!Screen Shot 2018-08-22 at 18.34.33.png|thumbnail! \r\n\r\nThe ERROR will show up in the *<Bamboo_Home>/logs/atlassian-bamboo.log file:\r\n{code}\r\n2018-08-22 17:50:04,009 INFO [http-nio-8085-exec-5] [com.atlassian.bamboo.filter.AccessLogFilter] admin GET http://localhost:8085/bamboo/rest/troubleshooting/1.0/check/admin?_=1534971003837 411884kb\r\n2018-08-22 17:50:04,027 ERROR [6-DelayedChangeDetectionThread:pool-12-thread-10] [com.atlassian.bamboo.chains.ChainExecutionManagerImpl] Plan 'OT-BOL' could not be started. Exception: com.atlassian.bamboo.plugins.git.GitCommandException: command [/usr/bin/git branch -a --contains name] failed with code 129. Working directory was [/Users/dsantos/atlassian/bamboo/6.6.1/home/xml-data/build-dir/_git-repositories-cache/655a2358c76d6e2fd84ee7291374e2b14affb852]., stderr:\r\nerror: malformed object name name\r\nusage: git branch [<options>] [-r | -a] [--merged | --no-merged]\r\n{code}\r\n\r\nh3. Workaround\r\nOn git repositories you can use any of these values in the revision field:\r\n* Revision number\r\n* Branch name\r\n* Tag name\r\n\r\nMake sure the value exists in one of the three categories above before running the build.",
      "summary": "Misleading error when running customised build and the revision is not found "
    }
  },
  {
    "key": "BAM-20051",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-30T13:27:10.000+0000",
      "created": "2018-08-22T20:54:41.000+0000",
      "description": "A new RCE was reported in Struts2\r\n\r\n[https://semmle.com/news/apache-struts-CVE-2018-11776]\r\n\r\nBased on our investigation , Bamboo seems to be using a forked version of struts2.5.2 which is vulnerable to CVE-2018-11776.\u00a0Users of Struts 2.3 are strongly advised to upgrade to 2.3.35; users of Struts 2.5 need to upgrade to 2.5.17.\r\n\r\nh1. Summary\r\nBamboo is not affected by CVE-2018-11776, but version 6.7.0 will have updated Struts version.",
      "summary": "Upgrade Struts to 2.5.17"
    }
  },
  {
    "key": "BAM-20049",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-16T13:47:01.000+0000",
      "created": "2018-08-22T19:39:27.000+0000",
      "description": "h3. Summary\r\n\r\nAgent dependency not consolidating cache on multiple proxy nodes environment\r\nh3. Environment\r\n * Bamboo\r\n * Multiple Proxy nodes\r\n\r\nh3. Steps to Reproduce\r\n * From the remote server, test agent dependency caching with the following script\r\n{code:java}\r\n#!/bin/bash -e\r\n\r\nBAMBOO_URL=\"http://bamboo.base.url\"\r\nCACHE_CHECKS=30\r\n\r\nfor i in $(seq $CACHE_CHECKS); do\r\n    echo \"Cache check $i/$CACHE_CHECKS: $(curl \"${BAMBOO_URL}/agentServer/bootstrap/content-cache-test\" 2>/dev/null)\"\r\ndone\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nThe Cache check response should be incremental coming from 1 node regardless of the amount of proxy nodes\r\nh3. Actual Results\r\n\r\nWhen running this script against a Bamboo server with multiple proxy nodes, the count is not incremental.\r\nh3. Notes\r\n\r\nrelated documentation: [https://confluence.atlassian.com/bamkb/how-to-enable-agent-dependency-caching-947855841.html]",
      "summary": "Agent dependency not consolidating cache on multiple proxy nodes environment"
    }
  },
  {
    "key": "BAM-20048",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-17T13:28:01.000+0000",
      "created": "2018-08-21T19:49:17.000+0000",
      "description": "h3. Summary\r\n\r\nAttempting to rebuild after a job has been deleted but before the deletion takes places causes the plan to hang indefinitely.\r\nh3. Steps to Reproduce\r\n # Run build plan.\r\n # Clone job in a plan.\r\n # Delete job from plan.\r\n # Attempt rebuild before background deletion of the plan is completed.\r\n\r\nh3. Expected Results\r\n\r\nAttempting to trigger rebuild will notify of changes and not be allowed - preventing the plan from getting \"stuck\".\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bamboo.log file:\u00a0\r\n{noformat}\r\n[LocalBuildResultProcessor] Error while saving build results\r\njava.lang.NullPointerException: Job not found:\r\n{noformat}\r\nOnce this occurs, the only way to resolve the stuck plan is to restart Bamboo.\r\nh3. Workaround\r\n\r\nDo not attempt rebuild on plans that have had jobs deleted.",
      "summary": "Rebuild on plan with deleted job causes hung plan"
    }
  },
  {
    "key": "BAM-20047",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-21T13:07:14.000+0000",
      "description": "h6.Problem Description:\r\n\r\nCurrently, when a parent plan is triggered as a customized build the child plan, in this case, is never triggered automatically (considering the build dependency is configured).\r\n\r\nh6.Expected Solution:\r\nChild plan should also execute when a parent plan is executed as a customized build.\r\n\r\n",
      "summary": "Allow Bamboo to trigger child plans when parent plan is run as a customized build"
    }
  },
  {
    "key": "BAM-20046",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-21T11:40:11.000+0000",
      "created": "2018-08-21T11:05:17.000+0000",
      "description": "When we run Bamboo Specs project, it fails because Maven repos are not updated with the necessary files for Bamboo 6.6.2.\r\n\r\n*How to reproduce:*\r\n Run the below command:\r\n{noformat}\r\ncurl -v https://repo.maven.apache.org/maven2/com/atlassian/bamboo/bamboo-specs-parent/6.6.2/bamboo-specs-parent-6.6.2.pom\r\n{noformat}\r\n\u00a0*Expected result*\r\n The result returns some files.\r\n\r\n*Actual result*\r\n It returns a {{404 Not found}} error.",
      "summary": "Maven repos do not have Bamboo Specs 6.6.2 files"
    }
  },
  {
    "key": "BAM-20045",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-20T20:03:15.000+0000",
      "description": "Request opened on behalf of one of our customers; the request is as follows:\r\n\r\nOur business is very happily using Bamboo with a mixture of physical and virtual machines (VMs) for build nodes. We currently use 2 physical machines and about 20 virtual machines that perform builds. Setting up and managing physical build nodes is tedious compared to virtual machines. Physical machines require extra space, cables etc... that we'd rather avoid if possible. VMs can be cloned from templates, and easily configured with the different software stacks required to build our various products.\r\n\r\nOddly, Bamboo doesn't seem to have any native support for VMs. We rely on a 3rd party plugin called \"Virtual Agents for Bamboo\" which up until recently was developed by a company called StiltSoft. See: https://stiltsoft.com/blog/2014/04/unleash_power_of_virtual_agents_for_bamboo/\r\n\r\nThe plugin adds a \"Virtual Remote Agent\" tab to Bamboo's admin configuration that allows the admin to configure VMWare ESXi hosting server, and mappings for each individual VM agent. Agents are automatically started at a clean snapshot when they are required for a build job, and shut down when they aren't required. This ensures builds execute in a clean environment, and makes excellent use of Bamboo agent licenses since only the machines actually performing builds are active at any given time. The same thing can be done with physical machines and Ethernet network booting, but booting VMs is extremely fast compared to physical machines.\r\n\r\nRecently, StiltSoft open sourced their code under a BSD license, and announced they would no longer be developing the plugin. Their plugin code is available here:\r\nhttps://bitbucket.org/stiltsoft/bamboo-vmware-app/wiki/Home\r\n\r\nThis is a risk for our organization now. If Bamboo or VMWare ESXi changes and breaks this plugin, we may have to rethink whether Bamboo is the appropriate tool for our builds. If another build system (eg. Jenkins) supports VMs easily, then switching to a tool that provides VM functionality out of the box might be easier than trying to support this Bamboo plugin ourselves.\r\n\r\nCan Bamboo add this as a core feature? From what I know about software licenses, BSD licenses are very permissive. Atlassian may even have the opportunity to roll in the existing plugin with very little upfront dev effort. I think there is a lot of added value in this feature. Virtualization of build environments has been a standard way of doing things at various companies where I've worked ever since I was a young co-op student back in 2006. I was quite surprised that we had to install a 3rd party plugin for this because Bamboo does not have native VM support. I was further surprised that I didn't find any open issues requesting this feature on the Bamboo development boards.",
      "summary": "Native Support for Virtual Machine Remote Agents"
    }
  },
  {
    "key": "BAM-20044",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-17T13:05:19.000+0000",
      "created": "2018-08-17T11:51:45.000+0000",
      "description": "*Problem:*\r\n This problem affects both branch detection and pull request detection mechanisms for plans in Bamboo.\r\n\r\nThe detection queues are supposed to work as a standard FIFO queues. The plan, for which branch/PR detection was scheduled first, should be handled earlier than a plan for which the detection was scheduled second. However, the queue prioritizes plans which were added later.\r\n\r\n*Symptoms:*\r\n If branch detection interval is set to a too small value, and the actual branch detection does not manage to detect branches for all plans during that time, starvation may occur and for some plans the detection may never kick in.\r\n\r\n*Expected behaviour:*\r\n - Scheduler kicks in, adds all plans to the queue.\r\n ** Queue: PLAN1, PLAN2, PLAN3, PLAN4.\r\n - Detection handles a few plans.\r\n ** Handled plans: PLAN1, PLAN2.\r\n ** Remaining queue: PLAN3, PLAN4.\r\n - Scheduler kicks in too early, adds all plans to the queue.\r\n ** Queue: PLAN3, PLAN4, PLAN1, PLAN2.\r\n - Detection handles a few plans.\r\n ** Handled plans: PLAN3, PLAN4.\r\n ** Remaining queue: PLAN1, PLAN2.\r\n - All plans have their branches detected in this scenario, despite the fact that the queue is never empty due to too small detection interval.\r\n\r\n*Actual behaviour:*\r\n - Scheduler kicks in, adds all plans to the queue.\r\n ** Queue: PLAN4, PLAN3, PLAN2, PLAN1.\r\n - Detection handles a few plans.\r\n ** Handled plans: PLAN4, PLAN3.\r\n ** Remaining queue: PLAN2, PLAN1.\r\n - Scheduler kicks in too early, adds all plans to the queue.\r\n ** Queue: PLAN4, PLAN3, PLAN2, PLAN1.\r\n - Detection handles a few plans.\r\n ** Handled plans: PLAN4, PLAN3.\r\n ** Remaining queue: PLAN2, PLAN1.\r\n - PLAN2 and PLAN1 may never have their branches detected in this scenario.\r\n\r\n*Workaround:*\r\nSet branch detection interval to a high enough value, so that the branch detection job has enough time to detect branches for all plans.\r\n\r\n\u00a0",
      "summary": "Bamboo branch detection and PR detection queues work as LIFO and not FIFO"
    }
  },
  {
    "key": "BAM-20043",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-15T22:38:21.000+0000",
      "description": "h3. Problem Definition\r\n\r\nPlan Branch creation via Pull Request can result in Plan Branches with duplicate names which can create confusion.\r\n\r\n+The problem can be reproduced as such+: Navigate to the Plan Configuration page >> Create Plan Branch strategy set to Pull Request (PR) by checking feature \"When pull request is created\". This creates a new Plan Branch each time a new PR is issued by an autorized Bamboo user.\r\n\r\n+For example+ (gitflow): A first PR creates Plan Branch \"develop\" in a Git repository. If this PR is not yet closed and another Bamboo user issues a new PR, a new Plan Branch is created, now with name \"develop1\". If none of the previous PRs gets closed and a new PR is issue, a third Plan Branch gets created with name \"develop2\". And so on. All of these refere to the same Git repos branch \"develop\".\r\n\r\nNone of these PRs will ever be cleaned / expired, as develop is a long lived branch with frequent activity and is never closed once the PR is merged. Gradually they build up and use disk space on an agent too.\r\n\r\nh3. Suggested Solution\r\n # PR creates a new Plan Branch if none with that name is existing in the repository (so it's first on this branch). Thefrefore checking for an existing Plan Branch name is basic.\r\n # If a PR on a repository branch is issued and a Plan Branch with the same name already exists, Bamboo should not create a new Plan Branch, but queue the new PR, wait till the original PR is closed and once closed, proceed by re-use of the existing Plan Branch (name)\r\n# For the expiry/cleanup aspect, it might be helpful to have a separate criteria for PR removal (e.g. if the PR itself was merged/closed 5 days ago).\r\n\r\nh3. Workaround\r\n\r\nNone.",
      "summary": "Pull requests duplicate and are hard to expire on long lived/active branches"
    }
  },
  {
    "key": "BAM-20042",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-24T17:20:21.000+0000",
      "created": "2018-08-15T21:28:58.000+0000",
      "description": "h4. Steps to reproduce:\r\n# Create a user in Crowd \u2013 do not sync the User Directory\r\n# After user creation, try accessing the build dashboard\r\n\r\nh4. Observation\r\nThe following error is observed in BambooLogs:\r\n\r\nThe following error occurs in the logs:\r\n{code:title=atlassian-bamboo.log}\r\n2018-08-13 16:51:53,850 ERROR [http-bio-8443-exec-9334] [FiveOhOh] 500 Exception was thrown.\r\njava.lang.IllegalStateException: XSRF: A mutative operation was attempted on InternalMembership within a non-mutative HTTP request: https://bamboo.allstontrading.com:8443/rest/api/latest/deploy/dashboard/1966082 : [null]->\r\n->[[42861051, 42893423, GROUP_USER, GROUP, traders, traders, options, options, Mon Aug 13 16:51:53 CDT 2018, com.atlassian.crowd.model.directory.DirectoryImpl_$$_jvsta48_12@57440f34[lowerName=crowd repository,description=External Crowd service upgraded from an existing atlassian-user configuration,type=CROWD,implementationClass=com.atlassian.crowd.directory.RemoteCrowdDirectory,allowedOperations=\\[UPDATE_USER_ATTRIBUTE, UPDATE_GROUP_ATTRIBUTE],attributes={crowd.sync.incremental.enabled=true, application.password=********, crowd.server.url=https://jira.allstontrading.com:8443, com.atlassian.crowd.directory.sync.laststartsynctime=1534195001891, crowd.sync.group.membership.after.successful.user.auth.enabled=true, directory.cache.synchronise.interval=3600, com.atlassian.crowd.directory.sync.lastdurationms=187, com.atlassian.crowd.directory.sync.issynchronising=false, useNestedGroups=true, com.atlassian.crowd.directory.sync.cache.enabled=true, application.name=bamboo}]]]\r\n\r\nat com.atlassian.bamboo.utils.XsrfUtils.fail(XsrfUtils.java:27)\r\nat com.atlassian.bamboo.hibernate.ReadOnlyGetMethodEnforcer.fail(ReadOnlyGetMethodEnforcer.java:123)\r\nat com.atlassian.bamboo.hibernate.ReadOnlyGetMethodEnforcer.failIfStateMutationNotAllowed(ReadOnlyGetMethodEnforcer.java:100)\r\nat com.atlassian.bamboo.hibernate.ReadOnlyGetMethodEnforcer.onSave(ReadOnlyGetMethodEnforcer.java:84)\r\nat org.springframework.orm.hibernate.support.ChainedInterceptorSupport.onSave(ChainedInterceptorSupport.java:118)\r\nat com.atlassian.bamboo.persister.OidGenerationInterceptor.onSave(OidGenerationInterceptor.java:46)\r\nat org.springframework.orm.hibernate.support.ChainedInterceptorSupport.onSave(ChainedInterceptorSupport.java:118)\r\nat org.hibernate.event.internal.AbstractSaveEventListener.substituteValuesIfNecessary(AbstractSaveEventListener.java:377)\r\nat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:257)\r\nat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:182)\r\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:125)\r\nat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\r\nat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\nat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\r\nat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\nat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\r\nat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:689)\r\nat org.hibernate.internal.SessionImpl.save(SessionImpl.java:681)\r\nat org.hibernate.internal.SessionImpl.save(SessionImpl.java:676)\r\nat com.atlassian.crowd.util.persistence.hibernate.HibernateDao.save(HibernateDao.java:123)\r\nat com.atlassian.crowd.dao.membership.MembershipDAOHibernate.addUserToGroup(MembershipDAOHibernate.java:140)\r\nat com.atlassian.crowd.directory.AbstractInternalDirectory.addUserToGroup(AbstractInternalDirectory.java:799)\r\nat com.atlassian.crowd.directory.DbCachingRemoteDirectory.addUserToGroupInternal(DbCachingRemoteDirectory.java:722)\r\nat com.atlassian.crowd.directory.DbCachingRemoteDirectory.updateGroupsMembershipOnLogin(DbCachingRemoteDirectory.java:347)\r\nat com.atlassian.crowd.directory.DbCachingRemoteDirectory.updateUserFromRemoteDirectory(DbCachingRemoteDirectory.java:258)\r\nat com.atlassian.crowd.directory.DbCachingRemoteDirectory.authenticateAndUpdateInternalUser(DbCachingRemoteDirectory.java:232)\r\nat com.atlassian.crowd.directory.DbCachingRemoteDirectory.authenticate(DbCachingRemoteDirectory.java:149)\r\nat com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.authenticateUser(DirectoryManagerGeneric.java:285)\r\nat sun.reflect.GeneratedMethodAccessor1787.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\nat com.sun.proxy.$Proxy156.authenticateUser(Unknown Source)\r\nat com.atlassian.crowd.manager.application.ApplicationServiceGeneric.authenticateUser(ApplicationServiceGeneric.java:185)\r\nat sun.reflect.GeneratedMethodAccessor1786.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\nat com.sun.proxy.$Proxy159.authenticateUser(Unknown Source)\r\nat com.atlassian.crowd.embedded.core.CrowdServiceImpl.authenticate(CrowdServiceImpl.java:70)\r\nat com.atlassian.crowd.embedded.atlassianuser.EmbeddedCrowdAuthenticator.authenticate(EmbeddedCrowdAuthenticator.java:24)\r\nat com.atlassian.crowd.embedded.atlassianuser.EmbeddedCrowdAuthenticator$$FastClassBySpringCGLIB$$af97c51b.invoke(<generated>)\r\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)\r\nat com.atlassian.crowd.embedded.atlassianuser.EmbeddedCrowdAuthenticator$$EnhancerBySpringCGLIB$$cb218de2.authenticate(<generated>)\r\nat bucket.user.DefaultUserAccessor.authenticate(DefaultUserAccessor.java:711)\r\nat sun.reflect.GeneratedMethodAccessor1785.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\nat com.sun.proxy.$Proxy175.authenticate(Unknown Source)\r\nat com.atlassian.bamboo.user.authentication.BambooAuthenticator.authenticate(BambooAuthenticator.java:47)\r\nat com.atlassian.seraph.auth.DefaultAuthenticator.login(DefaultAuthenticator.java:88)\r\nat com.atlassian.bamboo.user.authentication.BambooAuthenticator.login(BambooAuthenticator.java:32)\r\nat com.atlassian.seraph.auth.DefaultAuthenticator.getUserFromBasicAuthentication(DefaultAuthenticator.java:528)\r\nat com.atlassian.seraph.auth.DefaultAuthenticator.getUser(DefaultAuthenticator.java:339)\r\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:139)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\nat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:37)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\nat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\nat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:103)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\nat com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:37)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\nat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:152)\r\nat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:24)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:40)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.bamboo.filter.ClickjackingAndMimeTypeSniffingPreventionFilter.doFilter(ClickjackingAndMimeTypeSniffingPreventionFilter.java:36)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:49)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\nat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\nat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\nat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\nat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\nat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\nat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\nat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:283)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.lang.Thread.run(Thread.java:745)\r\n2018-08-13 16:51:53,868 ERROR [http-bio-8443-exec-9305] [ReadOnlyGetMethodEnforcer] State mutation is not allowed\r\n2018-08-13 16:51:53,868 WARN [http-bio-8443-exec-9305] [XsrfUtils] XSRF: A mutative operation was attempted on InternalMembership within a non-mutative HTTP request: https://bamboo.allstontrading.com:8443/rest/api/latest/deploy/dashboard/1966082 : [null]->\r\n->[[42861051, 42893423, GROUP_USER, GROUP, traders, traders, options, options, Mon Aug 13 16:51:53 CDT 2018, com.atlassian.crowd.model.directory.DirectoryImpl_$$_jvsta48_12@1f202a6e[lowerName=crowd repository,description=External Crowd service upgraded from an existing atlassian-user configuration,type=CROWD,implementationClass=com.atlassian.crowd.directory.RemoteCrowdDirectory,allowedOperations=\\[UPDATE_USER_ATTRIBUTE, UPDATE_GROUP_ATTRIBUTE],attributes={crowd.sync.incremental.enabled=true, application.password=********, crowd.server.url=https://jira.allstontrading.com:8443, com.atlassian.crowd.directory.sync.laststartsynctime=1534195001891, crowd.sync.group.membership.after.successful.user.auth.enabled=true, directory.cache.synchronise.interval=3600, com.atlassian.crowd.directory.sync.lastdurationms=187, com.atlassian.crowd.directory.sync.issynchronising=false, useNestedGroups=true, com.atlassian.crowd.directory.sync.cache.enabled=true, application.name=bamboo}]]]\r\n{code}\r\n\r\n\r\nh4. Workaround 1\r\nDisable XSRF protection by performing the following:\r\n# Click the cog icon in the Bamboo header and choose *Overview*.\r\n# Choose *Security settings* in the left-hand panel.\r\n# Choose *Edit*.\r\n# Uncheck _Enable XSRF protection_ to *disable* XSRF protection\r\n# Choose *Save*.\r\n\r\nh4. Workaround 2\r\nForce sync user directories as follows:\r\n# Click the cog icon in the Bamboo header and choose *Overview*\r\n# Choose *User directories* in the left-hand panel\r\n# Find the external user directory\r\n# Click the *Synchronize* link\r\n",
      "summary": "XSRF: A mutative operation was attempted on InternalMembership within a non-mutative HTTP request"
    }
  },
  {
    "key": "BAM-20041",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-22T08:59:14.000+0000",
      "created": "2018-08-15T12:14:20.000+0000",
      "description": "h3. Summary\r\n\r\nCapabilities with duplicate labels may cause inconsistencies in Bamboo's behavior.\r\nh3. Environment\r\n\r\nBehavior found in Bamboo 6.6.1.\r\nh3. Steps to Reproduce\r\n # Create a *MSBuild* capability (executable) with label \"MSBuild v4.0\" (and any path).\r\n # Create a *Visual Studio* capability (executable) with label \"MSBuild v4.0\" (and any path).\r\n # In a Job, create a new Visual Studio Task.\r\n\r\nh3. Expected Results\r\n\r\nIn the executable box, see the *Visual Studio* option listed.\r\n Example:\r\n\r\n!Screen Shot 2018-08-15 at 14.12.52.png|thumbnail!\r\n\r\n\r\nh3. Actual Results\r\n\r\nThe *Visual Studio* option is not listed:\r\n!Screen Shot 2018-08-15 at 14.05.24.png|thumbnail!\r\nh3. Notes\r\n\r\nNo errors in logs.\r\nh3. Workaround\r\n\r\nUse different labels to name capabilities.",
      "summary": "Capabilities with duplicate labels may cause inconsistencies in Bamboo's behavior."
    }
  },
  {
    "key": "BAM-20037",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-21T13:26:51.000+0000",
      "created": "2018-08-14T23:21:04.000+0000",
      "description": "{panel}\r\nh3. User management\r\n * *userA* belongs to *groupA*\r\n * *userB* belongs to *groupB*{panel}\r\n{panel}\r\nh3. Global permissions\r\nh5. User access\r\n||Name||Access||Create||Create repository||Admin||\r\n\r\nNo users have been given explicit permissions\r\nh5. Group access\r\n||Name||Access||Create||Create repository||Admin||\r\n|bamboo-admin|[x]|[x]|[x]|[x]|\r\nh5. Other\r\n||Name||Access||Create||Create repository||Admin||\r\n|Logged in users|[x]|[ ]|[ ]|[ ]|\r\n|Anonymous users|[ ]|\u00a0|\u00a0|\u00a0|\r\n{panel}\r\n{panel}\r\nh3. {color:#ff0000}Project A{color}\u00a0- Project permissions\r\nh5. User access\r\n||Name||Create plan||Admin||\r\n|Admin Istrator|[x]|[x]|\r\nh5. Group access\r\n||Name||Create plan||Admin||\r\n|groupA|[x]|[x]|\r\nh5. Other\r\n||Name||Create plan||Admin||\r\n|Logged in users|[ ]|[ ]|\r\nh3. {color:#ff0000}Project A{color} - Plan permissions inheritance\u00a0\r\nh5. User access\r\n||Name||View||Edit||Build||Clone||Admin||\r\n\r\nNo users have been given explicit permissions\r\nh5. Group access\r\n||Name||View||Edit||Build||Clone||Admin||\r\n|groupA|[x]|[x]|[x]|[x]|[x]|\r\nh5. Other\r\n||Name||View||Edit||Build||Clone||Admin||\r\n|Logged in users|[ ]|[ ]|[ ]|[ ]|[ ]|\r\n|Anonymous users|[ ]|\u00a0|\u00a0|\u00a0|\u00a0|\r\n{panel}\r\n{panel}\r\nh3. {color:#0000FF}Project B{color} -\u00a0Project permissions\r\nh5. User access\r\n||Name||Create plan||Admin||\r\n|Admin Istrator|[x]|[x]|\r\nh5. Group access\r\n||Name||Create plan||Admin||\r\n|groupB|[x]|[x]|\r\nh5. Other\r\n||Name||Create plan||Admin||\r\n|Logged in users|[ ]|[ ]|\r\nh3. {color:#0000FF}Project B{color} -\u00a0Plan permissions inheritance\r\nh5. User access\r\n||Name||View||Edit||Build||Clone||Admin||\r\n\r\nNo users have been given explicit permissions\r\nh5. Group access\r\n||Name||View||Edit||Build||Clone||Admin||\r\n|groupB|[x]|[x]|[x]|[x]|[x]|\r\nh5. Other\r\n||Name||View||Edit||Build||Clone||Admin||\r\n|Logged in users|[ ]|[ ]|[ ]|[ ]|[ ]|\r\n|Anonymous users|[ ]|\u00a0|\u00a0|\u00a0|\u00a0|\r\n{panel}\r\n\r\nBased on the scenario above, when visiting [http://localhost:8085/allProjects.action] :\r\n * When logging in with *userA*, *only* Project A should be displayed\r\n * When logging in with *userB*, *only* Project B should be displayed\r\n\r\nHowever, *all* projects are being listed instead. Meaning that when logging in with *userA*, Project A and Project B are listed\r\n",
      "summary": "All projects visible regardless of user permission"
    }
  },
  {
    "key": "BAM-20036",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-01-08T12:12:33.000+0000",
      "created": "2018-08-14T16:57:31.000+0000",
      "description": "h3. Summary\r\n\r\nWhen adding permissions to a build enviorment permissions with our API, the name is not case (UPPERCASE, lowercase, camelCase) validated resulting in the permission records in acl_entry being multiplied.\r\nh3. Environment\r\n * Bamboo v6.2.9\r\n * Crowd 3.1.1\r\n\r\nh3. Steps to Reproduce\r\n # Integrate Bamboo with Crowd\r\n # Set permissions to a group on an enviorment with:\r\n{noformat}\r\n curl -u admin:adminpwd \\\r\n     -H 'Content-type: application/json' \\\r\n     -H 'Accept: application/json' \\\r\n     -d '[\"READ\",\"WRITE\",\"BUILD\"]' \\\r\n     -X PUT http://localhost:8085/rest/api/latest/permissions/environment/851969/groups/bamboo-admin\r\n {noformat}\r\n\r\n # Set permissions again:\r\n{noformat}\r\n curl -u admin:adminpwd \\\r\n     -H 'Content-type: application/json' \\\r\n     -H 'Accept: application/json' \\\r\n     -d '[\"READ\",\"WRITE\",\"BUILD\"]' \\\r\n     -X PUT http://localhost:8085/rest/api/latest/permissions/environment/851969/groups/BambOO-AdMin\r\n {noformat}\r\n\r\n{noformat}\r\nid      acl_object_identity type              sid            ace_order mask granting audit_success audit_failure \r\n------- ------------------- ----------------- -------------- --------- ---- -------- ------------- ------------- \r\n1212417 98315               GROUP_PRINCIPAL   bamboo-admin   0         64   true     false         false         \r\n1212418 98315               GROUP_PRINCIPAL   bamboo-admin   0         1    true     false         false         \r\n1212419 98315               GROUP_PRINCIPAL   bamboo-admin   0         2    true     false         false         \r\n1212420 98315               GROUP_PRINCIPAL   BambOO-AdMin   0         1    true     false         false         \r\n1212421 98315               GROUP_PRINCIPAL   BambOO-AdMin   0         64   true     false         false         \r\n1212422 98315               GROUP_PRINCIPAL   BambOO-AdMin   0         2    true     false         false         \r\n1212423 98315               GROUP_PRINCIPAL   bAMBOO-ADMIN   0         2    true     false         false         \r\n1212424 98315               GROUP_PRINCIPAL   bAMBOO-ADMIN   0         1    true     false         false         \r\n1212425 98315               GROUP_PRINCIPAL   bAMBOO-ADMIN   0         64   true     false         false         \r\n1212426 98315               GROUP_PRINCIPAL   bAMBOO-ADMIn   0         1    true     false         false         \r\n1212427 98315               GROUP_PRINCIPAL   bAMBOO-ADMIn   0         2    true     false         false         \r\n1212428 98315               GROUP_PRINCIPAL   bAMBOO-ADMIn   0         64   true     false         false         \r\n1212429 98315               GROUP_PRINCIPAL   bAMBOO-ADMin   0         64   true     false         false         \r\n1212430 98315               GROUP_PRINCIPAL   bAMBOO-ADMin   0         1    true     false         false         \r\n1212431 98315               GROUP_PRINCIPAL   bAMBOO-ADMin   0         2    true     false         false         \r\n{noformat}\r\nh3. Expected Results\r\n\r\nAn error message such as:\r\n\r\n{\"message\":\"Group: BambOO-AdMin does not exist\",\"status-code\":400}\r\n\r\nshould be returned.\r\nh3. Notes\r\n\r\nWhen Bamboo's user repository is selected as {{Local users and groups}}, the group/user name are properly validated.\r\nh3. Workaround\r\n\r\nWhen granting permissions, the username/groupname must be typed in using the same case as it is in Crowd / the same case displayed in {{Bamboo administration >> Security >> Users}}.\r\nh3. Upgrade notes\r\n\r\nIf you experienced this issue before 6.8.0 make sure you don't use REST API to remove duplicate records from ACL table after upgrade to 6.8.0. It should be removed directly from DB.",
      "summary": "Group/user is not case validated when granting permissions"
    }
  },
  {
    "key": "BAM-20034",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-14T12:14:59.000+0000",
      "description": "When adding or editing a Maven task. The Command Line Options field is too small to see what was entered or even edit the option and verify\u00a0that they are correct.\u00a0\r\n\r\n\u00a0\r\n\r\nPlease make this field dynamic or adjustable with wrapped lines so its possible to see the whole string for Command Line Options",
      "summary": "Unable to see command line options for Maven task"
    }
  },
  {
    "key": "BAM-20033",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-07T13:37:01.000+0000",
      "created": "2018-08-13T19:09:00.000+0000",
      "description": "h3. Issue\r\nAdding label to build result from [REST API|https://docs.atlassian.com/atlassian-bamboo/REST/5.15.7/#d2e514] (/plan/\\{projectKey}-\\{buildKey}/label) does not have the same result as when adding it from Bamboo's UI.\r\n\r\nh3. Documentation\r\nExtracted from [Linking Jira application issues to a build|https://confluence.atlassian.com/display/BAMBOO0515/Linking+Jira+application+issues+to+a+build]:\r\n{quote}\r\nBamboo will automatically link an issue to a build if you specify a Jira issue key in a Bamboo build *comment* or {color:blue}*label*{color}, or in a code *commit message*.\r\n\r\nThe issue key must be of the default Jira issue key format (that is, two or more uppercase letters ([A-Z][A-Z]+), followed by a hyphen and the issue number, for example BAM-123).\r\n{quote}\r\n\r\nh3. How to Replicate\r\nBy having Atlassian Bamboo and Atlassian Jira connected through Application Link:\r\n* create an issue in Jira, e.g LABEL-1\r\n* run a build in Bamboo, resulting on PROJ-PLAN-JOB1-1\r\n* run the following cURL command to add a label:\r\n{noformat}\r\ncurl -k -u admin:admin \\\r\n     -H \"Content-type: application/json\" \\\r\n     -H \"Accept: application/json\" \\\r\n     -d '{\"name\":\"LABEL-1\"}' \\\r\n     -X POST http://localhost:8085/rest/api/latest/result/PROJ-PLAN-1/label\r\n{noformat}\r\n\r\nh3. Expected Result\r\nLabel should be added and linked to existent Jira issue key.\r\n\r\nh3. Actual Result\r\nBamboo seems not to communicate with Jira as the {{remote-link-aggregation}} is not called.\r\n\r\nh3. Workaround\r\nUse the comment API to add a comment to the build result instead of a label. Comments are correctly processed and will link the Jira issue:\r\n{code}\r\ncurl --user admin -H 'Content-Type: application/xml' -X POST 'http://bamboo-url/rest/api/latest/result/{PROJ}-{PLAN}-{RESULT}/comment' --data '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<comment>\r\n    <content>JRA-100</content>\r\n</comment>'\r\n{code}",
      "summary": "(REST) Add label does not link Jira issue key"
    }
  },
  {
    "key": "BAM-20032",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-13T14:10:48.000+0000",
      "description": "h3. Summary\r\nTrying to delete the same plan for a multiple times could cause deadlock in database\r\n\r\nh3. Environment\r\nPostgreSQL\r\n\r\nh3. Steps to Reproduce\r\nClicking on delete plan on the same huge plan (with a lot of branch plans and results) for a multiple times\r\n\r\nh3. Expected Results\r\nIt will still work fine with the delete\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-08-06 18:02:22,485 ERROR [http-nio-8085-exec-67] [SqlExceptionHelper] ERROR: deadlock detected\r\n  Detail: Process 1872 waits for ShareLock on transaction 17983935; blocked by process 1896.\r\nProcess 1896 waits for ShareLock on transaction 17983940; blocked by process 1872.\r\n  Hint: See server log for query details.\r\n  Where: while updating tuple (3584,38) in relation \"buildresultsummary\"\r\n{noformat}\r\n",
      "summary": "Clicking on delete plan for the same plan multiple times can cause database deadlock"
    }
  },
  {
    "key": "BAM-20031",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-30T13:35:05.000+0000",
      "created": "2018-08-13T11:21:09.000+0000",
      "description": "Oracle announced date of end of public updates for Java 8:\u00a0[http://www.oracle.com/technetwork/java/javase/eol-135779.html]. Bamboo should provide official support for Java 11.",
      "summary": "Official support for Java 11"
    }
  },
  {
    "key": "BAM-20030",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-13T13:34:09.000+0000",
      "created": "2018-08-11T09:43:57.000+0000",
      "description": null,
      "summary": "Task condition can't prepare data before HTML rendering"
    }
  },
  {
    "key": "BAM-20029",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-09T23:25:12.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAPI Documentation for the user management REST APIs are not well documented. \r\n\r\nPOST to {{/admin/groups}}, {{/admin/users}}, {{admin/groups/$groupname/add-users}} does not include an acceptable request representation or parameters so it's difficult to know which parameters need to be included. Example:\r\n* https://docs.atlassian.com/atlassian-bamboo/REST/6.6.1/#d2e4831\r\n\r\n\r\n\r\nh3. Suggested Solution\r\nacceptable request representations:\r\n\r\n{{application/json (groups)}} \r\n\r\n{code}\r\n{\r\n     \"name\": \"new_group\"\r\n}\r\n{code}\r\n\r\n{{application/json (users)}} \r\n\r\n{code}\r\n{\r\n     \"name\": \"new_user\",\r\n     \"fullName\": \"full name\",\r\n     \"email\": \"user@atlassian.com\",\r\n     \"password\": \"password\",\r\n     \"passwordConfirm\": \"password\"\r\n}\r\n{code}\r\n\r\n{{application/json (add-users)}} \r\n{code}\r\n[\"user1\",\"user2\"]\r\n{code}\r\n\r\n \r\nh3. Workaround \r\nFor a better idea on how to use these APIs, see the {{curl}} examples included below:\r\n{code}\r\ncurl --user bamboo-admin:password -H \"Content-Type: application/json\" -X POST http://bamboo:8085/rest/api/latest/admin/groups --data '{\r\n     \"name\": \"new_group\"\r\n }'\r\n{code}\r\n{code}\r\ncurl --user bamboo-admin:password -H \"Content-Type: application/json\" -X POST http://bamboo:8085/rest/api/latest/admin/users --data '{\r\n     \"name\": \"new_user\",\r\n     \"fullName\": \"full name\",\r\n     \"email\": \"user@atlassian.com\",\r\n     \"password\": \"password\",\r\n     \"passwordConfirm\": \"password\"\r\n }'\r\n{code}\r\n{code}\r\ncurl --user bamboo-admin:password -H \"Content-Type: application/json\" -X POST http://bamboo:8085/rest/api/latest/admin/groups/$GROUPNAME/add-user --data '[\"user1\",\"user2\"]'\r\n{code}\r\n{code}\r\n-- set group permission to given  project\r\ncurl -k -u bamboo-admin:password \\\r\n     -H 'Content-type: application/json' \\\r\n     -H 'Accept: application/json' \\\r\n     -d '[\"READ\",\"CREATE\",\"ADMINISTRATION\"]' \\\r\n     -X PUT http://bamboo:8085/rest/api/latest/permissions/project/$PROJECTKEY/groups/$GROUPNAME\r\n{code}",
      "summary": "REST API documentation for user management needs improvements"
    }
  },
  {
    "key": "BAM-20028",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-03-15T07:51:45.000+0000",
      "created": "2018-08-09T04:03:02.000+0000",
      "description": "In Bambo v5.15.7 \"_You can apply a consistent set of permissions to multiple plans with this wizard. Simply select the plans you want to edit and then Specify the permissions you wish to apply._\" from *Bulk edit plan permissions* located in {color:blue}Bamboo admininstration >> Overview >> Plans{color} section.\r\n\r\nIn Bamboo v6.2, *Changes to permissions* described by [Bamboo 6.2 Release Notes|https://confluence.atlassian.com/bamboo/bamboo-6-2-release-notes-938641951.html] introduces multiple changes to permissions to make permissions management more transparent. At the same time, a new set of REST API endpoint have being introduced (https://docs.atlassian.com/atlassian-bamboo/REST/6.2.1/) providing more flexibility to set permissions at Project, Plan, Deployment, Environment and Linked Repositories.\r\n\r\nHowever, some effort is required from users to build a script to gather the correct IDs (Project, Plan, Deployment, Environment and Linked Repositories) and to set the permission needed.\r\n\r\nBased on that, the feature *Bulk edit plan permissions* (still available in Bamboo above v6.2) could be extended to *Bulk edit Deployment permissions* reducing time and effort users have to expend in such customisation.\r\n\r\nh3. Suggestion\r\n*Bulk edit Deployment permissions*, having the option to select if permission(s) will be granted to:\r\n* Deployment project\r\n* Deployment environment\r\n\r\nDepending on the Deployment selected, present user with valid permissions to be picked from:\r\n* Deployment project (permission VIEW, EDIT)\r\n* Deployment environment (permission VIEW, EDIT, DEPLOY)",
      "summary": "As an admin, I would like to grant Deployment project / environment permissions using bulk action"
    }
  },
  {
    "key": "BAM-20027",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-07T12:57:09.000+0000",
      "created": "2018-08-07T09:42:25.000+0000",
      "description": "It silently fails and don't authenticate user",
      "summary": "Crowd SSO doesn't work"
    }
  },
  {
    "key": "BAM-20026",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-10T09:44:12.000+0000",
      "created": "2018-08-07T04:18:38.000+0000",
      "description": "The version of the bundled Atlassian Universal Plugin Manager plugin had a XML External Entity vulnerability that allowed remote attackers with system administrator privileges to read files, make network requests and perform a denial of service attack via an XML External Entity vulnerability in the parsing of atlassian plugin xml files in an uploaded JAR. See https://ecosystem.atlassian.net/browse/UPM-5964 for more details.",
      "summary": "The bundled Atlassian Universal Plugin Manager plugin had a XXE issue - CVE-2018-20233"
    }
  },
  {
    "key": "BAM-20024",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-06T11:35:17.000+0000",
      "description": "Bamboo uses an audit message format that is non standard and flat. The audit logs themselves are accessible for inspection through the Bamboo UI or directly from the database.\r\n\r\nA syslog integration would consist of: \r\n# Using syslog message format for the audit log entries as described in RFC5424.\r\n# The ability to store the audit log messages to: the database, a file in the filesystem, or an external entity such as a syslog server.\r\n\r\nThe syslog integration for the audit logs would provide the following benefits: \r\n# A standardized format for the audit log entries which can be processed by external log analysis tools.\r\n# The possibility to send the audit log message when the event happens to an external syslog daemon which can in turn trigger a reaction to the event.\r\n",
      "summary": "Bamboo syslog integration"
    }
  },
  {
    "key": "BAM-20022",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-19T13:24:46.000+0000",
      "created": "2018-08-03T14:47:26.000+0000",
      "description": "h3. Summary\r\n\r\nWhen we integrate Bamboo with Bitbucket Cloud through a repository configuration, hooks and triggers must be configured manually.\r\n\r\nBitbucket Server offers fully automated integration once the Application Link is done and the repository configuration is created in Bamboo.\r\n\r\nWe would like to have a similar behavior than Bitbucket Server when using Bitbucket Cloud.\r\n\r\nh3. Accepted solution\r\n- Be able to automatically create (and delete if necessary) hook during the configuration in Bamboo.\r\n- Have remote triggers automatically created when we save the repository.",
      "summary": "Have a more automated integration with Bitbucket Cloud"
    }
  },
  {
    "key": "BAM-20021",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-03T09:35:53.000+0000",
      "description": "h6.Problem Description:\r\nWhen we move a repository from one project to another in Bitbucket the change detection in Bamboo breaks. Both branch detection and code change detection breaks and Bamboo do not detect any new changes made to the repo.\r\n\r\nh6.Steps to reproduce:\r\n# Create a project \"proj-first\" in Bitbucket and add a repo \"test-repo\" in it.\r\n# Link this repo in Bamboo and configure it with a build plan.\r\n# Create a new branch or add a new commit to the repo and Bamboo will detect it.\r\n# Now, move the repo \"test-repo\" from \"proj-first\" to \"proj-sec\"\r\n# Add a change to the repo or create a new branch.\r\n_Bamboo won't consider any of the changes made to this repo anymore._\r\n\r\nh6.Expected Result:\r\n* Bamboo should detect the changes made to the repo and work as expected.\r\n\r\nh6.Actual Result:\r\n* Change detection breaks in Bamboo and Bamboo won't consider any new changes made to the repo.\r\n\r\nh6.Workaround:\r\nEdit the repository and simply click save (no need to make any changes). Bamboo will then update the repository definition with the correct details from Bitbucket.\r\n\r\n",
      "summary": "Moving (or renaming) repo from one project to another in Bitbucket breaks event based change detection in Bamboo"
    }
  },
  {
    "key": "BAM-20020",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:21:59.000+0000",
      "created": "2018-08-02T19:36:02.000+0000",
      "description": "h3. Issue\r\n\r\nCurrently, Bamboo does not provide an endpoint listing repositories (https://jira.atlassian.com/browse/BAM-20007 - *(REST) No endpoint available for retrieving Linked Repository ID(s)*). Even after gathering the repository ID information, extracted from Bamboo UI or web scraping, testing repository connection still need to much effort from users through REST API.\r\nh3. How to repository test connection\r\n\r\nBased on Bamboo REST API documentation, there is an endpoint ([http://myhost.com:8085/bamboo/rest/api/latest/repository/testConnection] [PUT]) in which should provide this information easily, however, it is required to provide not only the *repository ID* information but also the *pluginKey* and *repositoryURL* (_when testing connection against Git repository as Repository Host_)\r\n{noformat}\r\n# replace \"5341185\" with \"repository id\"\r\n# replace \"file:///nothing\" with repository URL\r\n\r\ncurl -k -u admin:admin \\\r\n     -H 'Content-type: application/json' \\\r\n     -H 'Accept: application/json' \\\r\n     -d '{\"repositoryId\":\"5341185\",\"selectedRepository\":\"com.atlassian.bamboo.plugins.atlassian-bamboo-plugin-git:gitv2\",\"repository.git.repositoryUrl\":\"file:///nothing\"}' \\\r\n     -X PUT http://localhost:8085/rest/api/latest/repository/testConnection\r\n{noformat}\r\n* *selectedRepository* attribute from payload is not available in Bamboo's UI, making it difficult for user to make use of the endpoint\r\n* *repository.git.repositoryUrl* since providing repositoryID information, repository URL seems to be a redundant attribute since repository IDs are unique across Bamboo\r\n\r\nh3. Suggestion\r\n\r\nThe endpoint should only consume the repository ID, e.g:\r\n{noformat}\r\ncurl -k -u admin:admin \\\r\n     -H 'Accept: application/json' \\\r\n     -X PUT http://localhost:8085/rest/api/latest/repository/{repositoryId}/testConnection\r\n{noformat}\r\nAs response, Bamboo should provide information about the repository, e.g:\r\n{noformat}\r\n{\r\n\t\"repositoryID\": \"1234567890\",\r\n\t\"repositoryName\": \"Name given in Bamboo\"\r\n\t\"repositoryHost\": \"Git\",\r\n\t\"repositoryURL\": \"ssh://git@hostname/proj/repository.git\",\r\n\t\"branch\": \"master\",\r\n\t\"testConnection\": \"Successful\"\r\n}\r\n{noformat}",
      "summary": "(REST) As an admin, I would like to test repository connection from REST API"
    }
  },
  {
    "key": "BAM-20019",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-02T16:40:07.000+0000",
      "description": "Add ability to clone/copy deployment environment(s) from a single deployment project to multiple projects. ",
      "summary": "Add ability to clone environments across deployment projects "
    }
  },
  {
    "key": "BAM-20017",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-08-02T05:41:01.000+0000",
      "description": "h3. Problem Definition\r\nAt the moment, Bamboo will only mark build as hanging if both the expected build time and log quiet time values are exceeded.\r\n\r\nHowever, some build process may produce log message even though it is hang causing Bamboo unable to mark it as hang (will not be auto stop).\r\n\r\nh3. Suggested Solution\r\nNeed a Max build time in Build Monitoring\r\n\r\nh3. Why this is important\r\nThe hang build may continuously generate log messages without anyone away of it",
      "summary": "Maximum build time in Build Monitoring"
    }
  },
  {
    "key": "BAM-20016",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-01T23:35:14.000+0000",
      "created": "2018-08-01T23:33:40.000+0000",
      "description": "h3. Summary\r\nCustom settings to terminate the elastic instance after being idle for more than a minute does not terminate the instance.\r\n\r\nh3. Environment\r\n* Bamboo 6.2.2\r\n* AWS EC2 instance \r\n* Elastic Agent\r\n\r\nh3. Steps to Reproduce\r\n# Under [https://<bamboo-url>/admin/elastic/editElasticConfig.action] or {color:#0000ff}Bamboo administration >> Overview >> Elastic Bamboo >> Configuration{color}, hit *Edit configuration*\r\n# In {color:#0000ff}Automatic elastic instance management{color}, select {color:#0000ff}Custom{color} under {color:#0000ff}Elastic instance management{color}\r\n# Set up '*1*' for {color:#0000ff}Idle agent shutdown delay{color}\r\n# In {color:#0000ff}Miscellaneous{color}, select {color:#0000ff}Automatic termination{color}\r\n# Set up '*1*' for {color:#0000ff}Shutdown delay{color}\r\n# Save the configuration\r\n\r\nh3. Expected Results\r\nAfter 1 minute of being idle, the instance should terminate in AWS\r\n\r\nh3. Actual Results\r\nThe instance is not terminated\r\n ",
      "summary": "Elastic Instance is not terminated with custom idle setting"
    }
  },
  {
    "key": "BAM-20015",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:14.000+0000",
      "created": "2018-08-01T17:26:45.000+0000",
      "description": "We want the ability to configure alerts for when a configuration change is made to a build plan. Some teams want to know when their\u00a0build\u00a0plans\u00a0have been modified. For teams not using Bamboo specs, this would be a great feature to have. Notification destinations should be configurable for email or webhooks.",
      "summary": "Notifications on change to build plan configuration"
    }
  },
  {
    "key": "BAM-20014",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:08.000+0000",
      "created": "2018-08-01T10:59:11.000+0000",
      "description": "h2. Summary\r\n\r\nIf Bitbucket Server mirror is removed Bamboo will continue to expect notifications from it and ignore events from primary server\r\n\r\n\u00a0",
      "summary": "If mirror is removed all events from Bitbucket Server will be ignored"
    }
  },
  {
    "key": "BAM-20013",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-01T09:31:26.000+0000",
      "created": "2018-07-31T08:39:38.000+0000",
      "description": "h3. Summary\r\nTwo \"Run Location\" button options overlap at Job Miscellaneous tab for Pre-Post Build Command Runner setting\r\n\r\nh3. Environment\r\n* Pre-Post Build Command Runner version 5.10.0 and 6.4.0\r\n* Bamboo 5.3.2 and 6.5.1\r\n\r\nh3. Steps to Reproduce\r\n# Install Pre-Post Build Command Runner add-on\r\n# Access Plan Job Miscellaneous tab\r\n\r\nh3. Expected Results\r\nNo overlap in \"Run Location\" button options\r\n\r\nh3. Actual Results\r\nThe \"Run Location\" button options overlap with below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-07-31 16:31:56,664 ERROR [http-nio-8085-exec-13] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nThe following has evaluated to null or missing:\r\n==> itemKey  [in template \"template/aui/radiomap.ftl\" at line 33, column 95]\r\n\r\n----\r\nTip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use [#if myOptionalVar??]when-present[#else]when-missing[/#if]. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n----\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n\t- Failed at: ${itemKey?html}  [in template \"template/aui/radiomap.ftl\" at line 33, column 93]\r\n\t- Reached through: @ww.iterator value=\"parameters.list\"  [in template \"template/aui/radiomap.ftl\" at line 20, column 9]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core.InvalidReferenceException: [... Exception message was already printed; see it above ...]\r\n\tat freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\r\n\tat freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:451)\r\n\tat freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:374)\r\n\tat freemarker.core.BuiltInForLegacyEscaping._eval(BuiltInForLegacyEscaping.java:34)\r\n{noformat}\r\n* The option *labels* \"Run on Agent\" and \"Run on Bamboo Server\" are missing\r\n* The selected options can't be saved\r\n ",
      "summary": "Pre-Post Build Command Runner Run Location buttons overlap"
    }
  },
  {
    "key": "BAM-20012",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-06T13:20:49.000+0000",
      "created": "2018-07-30T13:06:07.000+0000",
      "description": "h3. Issue\r\nBamboo Java Specs documentation describes (https://docs.atlassian.com/bamboo-specs-docs/6.3.1/specs-java.html#bitbucket-server-git-repository) users are able to set up Bitbucket Server repositories providing their own SSH keys\r\n{code:java|title=Authentication with custom SSH keys}\r\nPlan plan = new Plan(project, planName, planKey)\r\n    .planRepositories(new BitbucketServerRepository()\r\n        .name(\"my-bitbucket-repository\")\r\n        .server(bitbucketServerApplink)\r\n        .projectKey(\"BBSPROJECT\")\r\n        .repositorySlug(\"my-repository-slug\")\r\n        .branch(\"master\")\r\n        .sshPrivateKey(sshPrivateKey)\r\n        .sshPublicKey(sshPublicKey));\r\n{code}\r\nHowever, Bamboo is not taking SSH keys provided into consideration whilst creation plan repository.\r\n\r\nh3. How to replicate\r\n# create SSH key pair following https://confluence.atlassian.com/bitbucketserver/creating-ssh-keys-776639788.html\r\n# set up Bamboo Java Specs making use of SSH Key pair created on previous step\r\n{noformat}\r\n.planRepositories(new BitbucketServerRepository()\r\n    .name(\"my-bitbucket-repository\")\r\n    .server(new ApplicationLink()\r\n            .name(\"[Bitbucket 5.3.2]\"))\r\n    .projectKey(\"PROJ\")\r\n    .repositorySlug(\"dummy\")\r\n    .branch(\"master\")\r\n    .sshPrivateKey(\"-----BEGIN RSA PRIVATE KEY-----\\n\" +\r\n            \"MIIEpAIBAAKCAQEA0/p+3TMKt0poTYzHVQvt89RRty/58js16BRetzobA68NBNNL\\n\" +\r\n            \"uMpav7gAf7+I+Sf/DFrl3nY8x2tHO1+wJ9inn8aPFd14QyYcZFJJDFtpN01cFzbm\\n\" +\r\n            \"LdVDZwLkOrOfEKxzBzUa2acTETFJepiVmiiqwC3VfBgsPeUlORhi2mqVLGJn5Gjq\\n\" +\r\n            \"Q6Tqs0E8C74zBufc3CVXuretetOB2WvJMFh8VOw1fXV2/HGHljLnU8V/+MjIdvJN\\n\" +\r\n            \"8dSEaTLLY70EtDcxpVnkQ9EYZsetF8wEwv4KHTMZ9LrqUaq+A2YQJlmO5RhZR+vP\\n\" +\r\n            \"t9NHM4MhzpYSu3JYoAdYhLmQcj0LId9ZqT2BiQIDAQABAoIBAC6di4CBVP3xsvY6\\n\" +\r\n            \"2yrssKtKKZ4rQr/uHXCn6hxI/t/UgvxoquI8PbCjehidujVwgjnpU1uUjNEd2lBI\\n\" +\r\n            \"PqjEkDgmphic13GM0/mLztyUzZKHxJSmUgAKQgRJMn9mOLil87XGC92JTDwfppT7\\n\" +\r\n            \"MQrxnnscmTHs7u29km332uVFQwC7TKycCMelpG/RFE605qc93G/aeAKOK+b2PMxO\\n\" +\r\n            \"qAuRVjsO2M3T+MXeP8T3Zmevzd15z79mc55XIFoxn8eAx3Vb86E9j0Th6hwJLM84\\n\" +\r\n            \"EvQTxZQslgXqNdFdjsAMj96BJoXZeWxUYwqV0hU985zrSwCZszGb17U4P9gTqpth\\n\" +\r\n            \"opsxWgECgYEA8jn/LZLvtFqGaD9nVRtNGXD/Qh3A/jzAQMTwIcXzA8lepk4eYM3D\\n\" +\r\n            \"mZTjfULwWbWyfsox4Uje0xRbRmSpLalu8QQcPiNcI3ao1ixHj1Ud4XWAl37vPuq3\\n\" +\r\n            \"vPclnujpPTZpufI6iFQiCn90aQKpgqbyRAoi5udjvhxO+GKGAFgNSfkCgYEA4Agw\\n\" +\r\n            \"X54w+7Pu+iuHBBKaV76VSHfV9P7NDygIMDjZQOeLyRSKMqQ3dQSFtYoCBtWaETzy\\n\" +\r\n            \"rPKpsL1S+QEOmcHkuglPi4KO+sz2ZV8+ygyg0nhWmbiCWUYQNFGcUFwLQ9hRjq0y\\n\" +\r\n            \"P84c3m8i9NsBqqfHRy/O0hWOSfs0lIFRACHeWBECgYEA011eWQNFnYf8jsz8uxv2\\n\" +\r\n            \"nAOpCaVy+aZDUIFI1P+pPZ2itNWn1mrWipaMJ4qYtn9BQTfobKAsp920g+lkYs7d\\n\" +\r\n            \"WvxuNJ6gUOXDEBhVXTI1v73LtuZxl+Iy8HZs4ox0shBgE3zWLI3VonlzOAq1padN\\n\" +\r\n            \"8acyq3Av7f0/v6ghK/2poukCgYB4C0tIYS6kIOVj/eDqCMHVVJUPcM8f6Uyd23iP\\n\" +\r\n            \"xlZ7ldbsV2o5+o6Q0GyJOzscyGY26G6sx5av0rLcJHnbX+8c1JJgEgRlVWCOLzwo\\n\" +\r\n            \"7h1aygq1cg2+onFaZ4SX9so+f3IsPpgXYm1Lr0eO5q9870wz0+VB4zUMZWPmU2jA\\n\" +\r\n            \"5mUK0QKBgQDrLf3bhGd+p6tdFAxZxFHLhXjKWms4r9M2GOpM/fOCyViZtxU8HIks\\n\" +\r\n            \"P5x1x9mEsOA3NJc9bD22suVewSwgfeARgOyUfipGDZ+nkRDp9RFC4DlYxa5lGfgM\\n\" +\r\n            \"+H5r4PKnsJSnqBLvDhhuz64y71+39hgwF9s/L5VP1bKZX2+7Le27Lg==\\n\" +\r\n            \"-----END RSA PRIVATE KEY-----\\n\")\r\n    .sshPublicKey(\"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDT+n7dMwq3SmhNjMdVC+3z1FG3L/nyOzXoFF63OhsDrw0E00u4ylq/uAB/v4j5J/8MWuXedjzHa0c7X7An2Kefxo8V3XhDJhxkUkkMW2k3TVwXNuYt1UNnAuQ6s58QrHMHNRrZpxMRMUl6mJWaKKrALdV8GCw95SU5GGLaapUsYmfkaOpDpOqzQTwLvjMG59zcJVe6t61604HZa8kwWHxU7DV9dXb8cYeWMudTxX/4yMh28k3x1IRpMstjvQS0NzGlWeRD0Rhmx60XzATC/godMxn0uupRqr4DZhAmWY7lGFlH68+300czgyHOlhK7cligB1iEuZByPQsh31mpPYGJ your_email@example.com\"));\r\n{noformat}\r\n\r\nh3. Expected Result\r\nIn Bamboo logs, we should find key being published to Bitbucket Server.\r\n\r\nh3. Actual Result\r\nInstead, we find Bamboo generating and publishing its own SSH Key\r\n{code}\r\n2018-07-30 09:58:45,988 INFO [http-nio-8085-exec-18] [BitbucketServerExporter] Public key was added to Bitbucket Server (Bamboo user: admin, application: [Bitbucket 5.3.2] [http://localhost:7990], location: repository PROJ/dummy): ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8Iy2RCgvObIDrWgre6OFq20T1xi4mceID9VED5mfjm2ICuzQx92Q3bLsRzKBHjqHsVhzjXOoKNiYxPwPK7fdFaw951oG6dzWujKpN1cXyFy8emQ4qW0e8uAzWjBPWgbYxHJo7chYQymZ4U8sIvIgSrCGvRIXKSY7Zv8OFqc+wYk5L8tI08DlhCfNJIGCVAthD7C6H1GswjYWyewGJ8VWVwPyIOyTtnDn8ZILxpdSux6gxz+BSjIZjav1LmYuqhJzr4t9tn1zY2MOdVGg/jIE98gc/sspdfNIIOsj6sQzfNN2MMNLA6hELVnTv8O/A8t6ob+nyvLIPKXAUFNnvv8Fj http://localhost:8085\r\n{code}",
      "summary": "Cannot set up custom SSH keys in Bamboo Java Specs"
    }
  },
  {
    "key": "BAM-20011",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:30:25.000+0000",
      "created": "2018-07-27T16:54:34.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen viewing results of an API call for build results, there is not a way to distinguish results which were 'run customized'\r\n\r\nh3. Suggested Solution\r\n\r\nWe already flag custom runs in the UI with the \"Custom Build\" flag.  Can we expose this flag on the API?\r\n \r\nh3. Workaround\r\n\r\nadd a script task within the Bamboo plan, that will add a 'Label' to the build results if a certain global variable = TRUE.  Then when running the customized build, override the global variable to be equal to true.  This will add the label to the build results, which is visable in the API.\r\n\r\n{noformat}\r\nhttp://myhost.com:8085/rest/api/latest/result/{projectKey}-{buildKey}-{buildNumber}/label\r\n{noformat}\r\n\r\n",
      "summary": "Expose \"Custom Build Flag\" on /result API GET requests"
    }
  },
  {
    "key": "BAM-20009",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-27T12:28:33.000+0000",
      "description": "h6.Problem Descriptio:\r\nWhen deleting a plan in Bamboo it does not give a warning when configured to have the artifacts or plan dependency.\r\n\r\nh6.Suggested Solution:\r\n* When deleting a plan show a warning with the plan names (producer + consumer).\r\n* When deleting a plan show a warning with the plan names for the parent-child relationship in the plan dependency configuration.",
      "summary": "Bamboo Plan deletion warning when having artifact or plan dependency"
    }
  },
  {
    "key": "BAM-20008",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-22T07:04:19.000+0000",
      "created": "2018-07-26T23:23:53.000+0000",
      "description": "h3. Summary\r\nElastic Image crons, created in the \"Image Schedule\" UI fail to trigger Elastic Image startup\r\n\r\nh3. Steps to Reproduce\r\n# Configure Elastic Bamboo\r\n# Configure an Elastic Image Schedule\r\n# Let it run\r\n\r\nh3. Expected Results\r\nInstance Starts at scheduled time\r\nh3. Actual Results\r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n2018-07-26 17:50:00,113 INFO [scheduler_Worker-1] [ElasticFunctionalityFacadeImpl] Adjusting elastic agents with schedule: com.atlassian.bamboo.agent.elastic.schedule.ElasticInstanceScheduleImpl@5429cf[48758785,0 50 17 ? * *,com.atlassian.bamboo.agent.elastic.server.ElasticImageConfigurationImpl@810e8617,EQUALS,1,true]\r\n2018-07-26 17:50:00,113 INFO [scheduler_Worker-1] [ElasticFunctionalityFacadeImpl] Starting up 1 of 'Ubuntu stock image' elastic instances\r\n2018-07-26 17:50:00,123 ERROR [scheduler_Worker-1] [JobRunShell] Job ElasticInstanceSchedule.ElasticInstanceScheduleJob threw an unhandled Exception:\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.atlassian.bamboo.agent.elastic.server.ElasticImageConfigurationImpl.startupScripts, could not initialize proxy - no Session\r\n...\r\n2018-07-26 17:50:00,178 ERROR [scheduler_Worker-1] [ErrorLogger] Job (ElasticInstanceSchedule.ElasticInstanceScheduleJob threw an exception.\r\norg.quartz.SchedulerException: Job threw an unhandled exception. [See nested exception: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.atlassian.bamboo.agent.elastic.server.ElasticImageConfigurationImpl.startupScripts, could not initialize proxy - no Session]\r\n....\r\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.atlassian.bamboo.agent.elastic.server.ElasticImageConfigurationImpl.startupScripts, could not initialize proxy - no Session\r\n...\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nThere is no known workaround for this. Instances will need to be manually started.",
      "summary": "Scheduled Elastic Instance startup fails with Hibernate error"
    }
  },
  {
    "key": "BAM-20007",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-24T13:25:27.000+0000",
      "created": "2018-07-25T23:16:37.000+0000",
      "description": "h3. Summary\r\nCurrently there's no API endpoint for retrieving the linked repositories IDs.\r\n\r\nh3. Environment\r\nAll Bamboo versions\r\n\r\nh3. Steps to Reproduce\r\nWe offer the following endpoints related to linked repositories. \r\n{noformat}\r\n/rest/api/latest/repository\r\n/rest/api/latest/repository/{repositoryId}/rssrepository/search [GET]\r\n/rest/api/latest/repository/testConnection [PUT]\r\n/rest/api/latest/repository/{repositoryId}/enableCi [PUT]\r\n/rest/api/latest/repository/{repositoryId}/enableAllProjectsAccess [PUT]\r\n/rest/api/latest/repository/{repositoryId}/enableAllRepositoriesAccess [PUT]\r\n/rest/api/latest/repository/{repositoryId}/rssrepository [POST, GET]\r\n/rest/api/latest/repository/{targetRepositoryId}/rssrepository/{repositoryId} [DELETE]\r\n/rest/api/latest/repository/{repositoryId}/scan/status [GET]\r\n/rest/api/latest/repository/scan [POST]\r\n/rest/api/latest/repository/{repositoryId}/scanNow [POST]\r\n{noformat}\r\n\r\nh3. Expected Results\r\nNeed to add an endpoint to retrieve all repository ids\r\n\r\nh3. Actual Results\r\nNo endpoint to help retrieve the linked repository ids \r\n \r\nh3.Workaround\r\nCurrently you can get the repository ID by moving the mouse pointer over the name of the linked repository in the Bamboo UI. The information will be listed at the status bar of the browser.",
      "summary": "No endpoint available for retrieving Linked Repository ID(s)"
    }
  },
  {
    "key": "BAM-20006",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:23.000+0000",
      "created": "2018-07-25T12:38:51.000+0000",
      "description": "h3. Issue\r\n\r\nAs an administrator I would like to enforce user activity as this will help prevent people from sharing login names / credentials, restricting their access to the application by X active sessions. This is a security concern that would limit unauthorized access to a user account, and limit users to specific simultaneous sessions.\r\nh5. Example:\r\n * User would like the ability to lock out accounts from multiple remote machines\r\n * Logging in as a user on a browser should expire all existing sessions for that user\r\n\r\nh3. Resources\r\n * [https://docs.spring.io/spring-security/site/docs/3.0.x/reference/session-mgmt.html]\r\n * [http://www.baeldung.com/spring-security-session]",
      "summary": "As an admin, I would like to limit the number of user sessions to X session per account"
    }
  },
  {
    "key": "BAM-20005",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-25T00:01:40.000+0000",
      "description": "h3. Summary\r\nIf an agent is pending approval and you authenticate it via a REST call to {{/agent/authentication/\\{uuid\\}}} but it is already authenticated with a different IP, the IP address is not updated to the new approval. The UI approval works differently to the REST endpoint and will update the IP address.\r\n\r\nh3. Steps to Reproduce\r\n# Authenticate a remote agent\r\n# Change it's IP address\r\n# Restart the agent\r\n# Attempt to authenticate the pending approval for the agent:\r\n{code}\r\ncurl --user bamboo-admin:password -X PUT https://bamboo/rest/api/latest/agent/authentication/{uuid}\r\n{code}\r\n\r\nh3. Expected Results\r\nAuthorization entry for that UUID gets updated to the new IP of the agent.\r\n\r\nh3. Actual Results\r\nThe old IP address is retained, the agent is not authenticated and cannot connect.\r\n\r\nh3.Workaround\r\n(!) Note that since this call isn't to a REST endpoint, and is an internal endpoint \u2013 it's subject to undocumented change between versions. Since this is a workaround, when upgrading in future, it should be tested.\r\n{code}\r\ncurl -u <bamboo-admin-user> -H 'X-Atlassian-Token: no-check' -X POST '<bamboo-base-url>/admin/agent/configureAgentAuthentications!approve.action?authenticationUuid=<agent-uuid>'\r\n{code}",
      "summary": "Remote agent authentication approval REST API does not update IP address on approval if that UUID is already approved against a different IP"
    }
  },
  {
    "key": "BAM-20004",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-24T15:37:55.000+0000",
      "created": "2018-07-24T15:30:00.000+0000",
      "description": "h3.  Summary\r\nWhen running Repository Stored Specs from GitHub, the Bamboo Plan cannot be created because of a null that is passed from Configuration.java\r\n\r\nh3.  Steps to reproduce\r\n\r\n# Upgrade to Bamboo 6.5 or above\r\n# Ensure the latest version of the `bamboo-github-status` App is installed\r\n# Link a GitHub repository to Bamboo\r\n# Create a simple Repository Stored Specs using YAML\r\n# Commit a change to your Specs\r\n# Look at the Specs Status\r\n\r\nh3. Expected Behavior\r\nBamboo Specs runs successfully and the Plan is created\r\n\r\nh3. Actual Behavior\r\nThe following appears in the Specs Status error log:\r\n{noformat}There was an error when processing yaml file \"bamboo.yaml\". File structure is correct, contact Atlassian Support for assistance on resolving this issue.\r\n\r\nCould not parse key 'null'\r\njava.lang.IllegalArgumentException: Could not parse key 'null'\r\n\tat com.atlassian.bamboo.plan.PlanKeys.getPlanKey(PlanKeys.java:244)\r\n\tat com.mhackner.bamboo.Configuration.addDefaultValues(Configuration.java:53)\r\n\tat com.atlassian.bamboo.configuration.external.helpers.BuildConfigurationPluginsExportHelper.lambda$addDefaultValues$2(BuildConfigurationPluginsExportHelper.java:36)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n... \r\n{noformat}\r\n\r\nh3. Workaround\r\nThe only workaround for now is to Disable the Bamboo Github Status App.\r\n\r\nThis issue is also filed to the App vendor: [&quot;null&quot; from c.m.b.Configuration when using Repository Stored Specs \u00b7 Issue #34 \u00b7 HackAttack/bamboo\\-github\\-status \u00b7 GitHub|https://github.com/HackAttack/bamboo-github-status/issues/34]",
      "summary": "RSS Fails when using Bamboo Github Status plugin"
    }
  },
  {
    "key": "BAM-20003",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:29.000+0000",
      "created": "2018-07-24T12:25:11.000+0000",
      "description": "h3. Summary\r\nPreviously to BAM-19856 there was a checkbox where users could choose if cloned plan would be enabled or disabled on creation whereas in most recent Bamboo versions (e.g _6.5.1, 6.6.0_) buttons {color:#0000FF}Clone{color} or {color:#0000FF}Save and continue{color} are less clear to what plan state will be in comparison to older Bamboo version.\r\n\r\nh3. Current behavior\r\n* {color:#0000FF}Clone{color} will create the plan in an *enabled* state\r\n* {color:#0000FF}Save and continue{color} will create the plan in a *disabled* state",
      "summary": "Unclear plan state whilst cloning it"
    }
  },
  {
    "key": "BAM-20000",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:04.000+0000",
      "created": "2018-07-23T18:48:40.000+0000",
      "description": "For this page:\r\nhttps://confluence.atlassian.com/display/BAMBOOSERVERM/Securing+Bamboo+with+Tomcat+using+SSL\r\n\r\nUpdate:\r\n{quote}\r\nh5. Wrong certificate type\r\n\r\nIf the certificate from the CA is in PKSC12 format, add the keystoreType attribute to the SSL Connector in conf/server.xml.\r\n{code:xml}\r\nkeystoreFile=\"/opt/local/wildcard_atlassian_com.p12\"\r\nkeystorePass=\"removed\"\r\nkeystoreType=\"PKCS12\"/>\r\n{code}\r\n{quote}\r\nLet's update this:\r\n{quote}If the certificate from the CA is in PKSC12 format, add the keystoreType attribute to the SSL Connector in conf/server.xml.\r\n{quote}\r\n\r\nWe need to add some additional information.\r\n{quote}\r\nIf the certificate from the CA is in PKSC12 format:\r\n # Add the {{keystoreType}} attribute to the SSL Connector in {{conf/server.xml}}\r\n{code:xml}\r\nkeystoreFile=\"/opt/local/wildcard_atlassian_com.p12\"\r\nkeystorePass=\"removed\"\r\nkeystoreType=\"PKCS12\"/>\r\n{code}\r\n # Add the {{-Djavax.net.ssl.keyStoreType=pkcs12}} JVM argument to {{JVM_SUPPORT_RECOMMENDED_ARGS}} by [configuring your system properties|https://confluence.atlassian.com/bamboo/configuring-your-system-properties-289277345.html] for your installation.\r\n\r\n",
      "summary": "Update for SSL instructions"
    }
  },
  {
    "key": "BAM-19999",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-07T13:26:16.000+0000",
      "created": "2018-07-23T15:17:21.000+0000",
      "description": "h6.Problem Definition:\r\nWhen installing Bamboo (using zip file) on the Windows it fails if the path of the installation directory contains spaces in it.\r\n\r\nh6.Expected Solution:\r\nInstallation should work correctly.\r\n\r\nh6.Suggested Solution:\r\nBamboo should handle the spaces in the path.\r\n",
      "summary": "Path with spaces in Windows makes Bamboo fail during the installation"
    }
  },
  {
    "key": "BAM-19998",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-20T11:35:10.000+0000",
      "description": "h3. Summary\r\nSychronisation between Jira Server and Bamboo can fail due to connection problems.\r\n\r\nh3. Steps to reproduce\r\n# Setup application link between Jira 7.6.4 and Bamboo\r\n# Run some build and wait ~10 min after it completes\r\n# View issue with no build linked - this will make Jira remember that there are no links for this issue\r\n# Stop Jira or block connection between Jira and Bamboo\r\n# Link Jira issue that you viewed before to completed 10 min ago Bamboo build - this will cause \"Failed to send events\" entry log in Bamboo log similar to:\r\n{code}\r\n[INFO] [talledLocalContainer] 2018-07-20 15:51:42,610 INFO [events.remote.ratelimit.threads:thread-1] [RemoteEventDispatcher] Failed to send events {\"sourceId\":\"efbda923-3a6b-3424-adb3-0bd85aeab388\",\"sourceUrl\":\"http://localhost:6990/bamboo\",\"capabilities\":[\"update-devtool-summary-request\",\"atlassian-remote-event\"],\"issueKeys\":[\"FIR-9\"]} to http://localhost:8090/jira/rest/dev-status/1.0/webhooks/update-summary with error org.apache.http.conn.HttpHostConnectException: Connect to localhost:8090 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused\r\n{code}\r\n# Make Jira respond again (start it or bring connection back)\r\n\r\nh4. Expected result\r\n\r\nJira picks up build links for issue immedietly.\r\n\r\nh4. Actual result\r\n\r\nJira will not show build for this issue unless new build link for it is created.\r\n\r\nh3. Workaround\r\n\r\nWhen seeing \"Failed to send events (...) to http://localhost:8090/jira/rest/dev-status/1.0/webhooks/update-summary\" appear in Bamboo log create link to issue(s) mentioned in error (under {{\"issueKeys\":}}...) in any build of Bamboo instance (you can remove the links after).",
      "summary": "Jira issue link update is lost when linked during broken connection"
    }
  },
  {
    "key": "BAM-19997",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:04.000+0000",
      "created": "2018-07-19T21:10:52.000+0000",
      "description": "It would be useful if Bamboo suggested in the UI which exact endpoint should be used to trigger change detection for the plan using \"Remote trigger\"\r\n",
      "summary": "Bamboo should suggest which API endpoint should be used to trigger change detection using Remote trigger"
    }
  },
  {
    "key": "BAM-19996",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-24T12:13:50.000+0000",
      "created": "2018-07-19T20:09:54.000+0000",
      "description": "h3. Steps to Reproduce\r\n# Create a specs project that adds two times the same linked repository to the same plan\r\n(i) Use the {{.linkedRepositories(\"linked_repository_name\")}} two times\r\n# Deploy two times the specs project using maven\r\n\r\nh3. Expected Results\r\nBamboo the first deploy should fail and share that it is not possible to add two entries for the same linked repository. This is the behavior we have from the UI interaction.\r\n\r\nh3. Actual Results\r\nThe first deploy will succeed and the second one will fail with the following error:\r\n{noformat}\r\nquery did not return a unique result: 2; nested exception is org.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\norg.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is org.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\n  at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:262)\r\n  at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:386)\r\n  at org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:335)\r\n  at com.atlassian.bamboo.repository.PlanRepositoryLinkHibernateDao.getPlanRepositoryLinkByName(PlanRepositoryLinkHibernateDao.java:85)\r\n  at com.atlassian.bamboo.repository.RepositoryDefinitionManagerImpl.getPlanRepositoryLinkByName(RepositoryDefinitionManagerImpl.java:64)\r\n...\r\nCaused by: org.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\n  at org.hibernate.query.internal.AbstractProducedQuery.uniqueElement(AbstractProducedQuery.java:1487)\r\n  at org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:388)\r\n  at com.atlassian.bamboo.repository.PlanRepositoryLinkHibernateDao.lambda$getPlanRepositoryLinkByName$5(PlanRepositoryLinkHibernateDao.java:90)\r\n  at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:383)\r\n  ... 45 more\r\n{noformat}\r\n\r\nh3.Workaround\r\n# Remove the duplicated declaration of the linked repository from your specs project\r\n# Remove the duplicated entry from your plan (through UI)\r\n# Deploy as expected",
      "summary": "java specs is able to add two times the same linked repository in a plan"
    }
  },
  {
    "key": "BAM-19995",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-12-17T15:01:09.000+0000",
      "created": "2018-07-19T15:48:37.000+0000",
      "description": "h3. Summary\r\nWhen upgrading Bamboo to version 6.6, instances that are connected to Active Directory (AD) and not using a Distinguished Name for the securityPrincipal in {{atlassian-user.xml}} fail to migrate to Embedded Crowd, causing the Upgrade Tasks 60601 (and thus the upgrade itself) to fail.\r\n\r\nh3. Environment\r\n* Bamboo before 6.6.x\r\n* Upgrading to 6.6.x\r\n* Using Active Directory\r\n\r\nh3. Steps to Reproduce\r\n# Set up Bamboo linked to Active Directory\r\n# Use a securityPrincipal that is not a DN in atlassian-user.xml\r\n# Upgrade to 6.6.x\r\n\r\nh3. Expected Results\r\nUsers are migrated from {{atlassian-user}} to Embedded Crowd and the upgrade completes.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file if the AD <securityPrincipal>foo@bar</securityPrincipal> is an email address:\r\n{noformat}\r\n2018-07-16 14:49:37,247 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] ---------------------------------------------------------------------------------------------\r\n2018-07-16 14:49:37,247 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] 60601 : Validate existing Atlassian User directories for Embedded Crowd migration (bootstrap)\r\n2018-07-16 14:49:37,247 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] ---------------------------------------------------------------------------------------------\r\n2018-07-16 14:49:37,278 INFO [localhost-startStop-1] [AbstractDbmsBean] Detected schema: dbo\r\n2018-07-16 14:49:37,309 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validating repository [adRepository]\r\n2018-07-16 14:49:37,325 ERROR [localhost-startStop-1] [LdapRepositoryConfigurationMigrator] Property securityPrincipal is not a valid distinguished name: Failed to parse DN; nested exception is org.springframework.ldap.core.TokenMgrError: Lexical error at line 1, column 8. Encountered: \"@\" (64), after : \"\"\r\n2018-07-16 14:49:37,325 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validated repository [adRepository] with [com.atlassian.bamboo.upgrade.tasks.v6_6.ec.LdapRepositoryConfigurationMigrator@51cbd719]\r\n2018-07-16 14:49:37,325 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validating repository [hibernateRepository]\r\n2018-07-16 14:49:37,325 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validated repository [hibernateRepository] with [com.atlassian.bamboo.upgrade.tasks.v6_6.ec.HibernateRepositoryConfigurationMigrator@7aa9a5f2]\r\n2018-07-16 14:49:37,325 ERROR [localhost-startStop-1] [BootstrapUpgradeManagerImpl] Task 60601 failed\r\njava.lang.RuntimeException: com.atlassian.bamboo.upgrade.exception.ValidationException: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n...\r\nCaused by: com.atlassian.bamboo.upgrade.exception.ValidationException: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n...\r\n2018-07-16 14:49:37,325 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Validation tests failed: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n{noformat}\r\n \r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file if the AD <securityPrincipal>foo</securityPrincipal> is not an email address:\r\n{noformat}\r\n2018-07-16 23:00:40,205 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] ---------------------------------------------------------------------------------------------\r\n2018-07-16 23:00:40,205 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] 60601 : Validate existing Atlassian User directories for Embedded Crowd migration (bootstrap)\r\n2018-07-16 23:00:40,205 INFO [localhost-startStop-1] [BootstrapUpgradeManagerImpl] ---------------------------------------------------------------------------------------------\r\n2018-07-16 23:00:40,252 INFO [localhost-startStop-1] [AbstractDbmsBean] Detected schema: dbo\r\n2018-07-16 23:00:40,283 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validating repository [adRepository]\r\n2018-07-16 23:00:40,314 ERROR [localhost-startStop-1] [LdapRepositoryConfigurationMigrator] Property securityPrincipal is not a valid distinguished name: Failed to parse DN; nested exception is org.springframework.ldap.core.TokenMgrError: Lexical error at line 1, column 5.  Encountered: \"\\\\\" (92), after : \"\"\r\n2018-07-16 23:00:40,314 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validated repository [adRepository] with [com.atlassian.bamboo.upgrade.tasks.v6_6.ec.LdapRepositoryConfigurationMigrator@3d7f4da0]\r\n2018-07-16 23:00:40,314 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validating repository [hibernateRepository]\r\n2018-07-16 23:00:40,314 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validated repository [hibernateRepository] with [com.atlassian.bamboo.upgrade.tasks.v6_6.ec.HibernateRepositoryConfigurationMigrator@7ac71837]\r\n2018-07-16 23:00:40,314 ERROR [localhost-startStop-1] [BootstrapUpgradeManagerImpl] Task 60601 failed\r\njava.lang.RuntimeException: com.atlassian.bamboo.upgrade.exception.ValidationException: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n...\r\nCaused by: com.atlassian.bamboo.upgrade.exception.ValidationException: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n... \r\n2018-07-16 23:00:40,314 FATAL [localhost-startStop-1] [DefaultBootstrapManager] Validation tests failed: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n{noformat}\r\n\r\n\r\nh3. Workaround 1\r\n# Stop Bamboo\r\n# Update the securityPrincipal to use Distinguished Name format\r\n# Start Bamboo\r\n\r\nh3. Workaround 2\r\nh4. Summary\r\nRemove AD configuration from {{atlassian-user.xml}}, and upgrade using Hibernate user directory. \r\n(!) All existing membership between AD user and Bamboo local group will be lost.\r\nh4. Detail\r\n# Stop your pre-6.6.x Bamboo\r\n# Remove the AD configuration ({{<ldap>...</ldap>}}) tags from {{atlassian-user.xml}}\r\n# Back up the Bamboo database\r\n# Delete AD users from Bamboo database\r\n(i) This will _not_ affect your Active Directory, it is modifying Bamboo's user directory information\r\n{code:sql}\r\nDELETE FROM OS_PROPERTYENTRY WHERE ENTITY_ID IN (SELECT ID FROM EXTERNAL_ENTITIES);\r\nDELETE FROM EXTERNAL_ENTITIES;\r\nDELETE FROM EXTERNAL_MEMBERS;\r\n{code}\r\n# Find the admin user in Bamboo's Hibernate user database:\r\n{code:sql}\r\n-- replace <username> with your admin username\r\nSELECT * FROM USERS WHERE NAME='<username>';\r\n{code}\r\n# Start your pre-6.6.x Bamboo instance to verify you can log in with the internal admin user found in Step 5\r\n#* If you are unable to log in, but the user exists, please follow _[Restoring passwords to recover admin users|https://confluence.atlassian.com/bamboo0605/bamboo-faq/usage-faq/restoring-passwords-to-recover-admin-users]_ to set a temporary password \r\n# Shut down your pre-6.6.x Bamboo instance\r\n# Upgrade to 6.6.x\r\n# After upgrade, configure LDAP at {{Administration >> Security >> User directories}}",
      "summary": "Active Directory User Repositories cannot be migrated to Embedded Crowd without Distinguished Name in securityPrincipal"
    }
  },
  {
    "key": "BAM-19994",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-19T13:08:32.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen we use the Bamboo EC2 wizard to install Bamboo and when we run upgradeBamboo.sh to upgrade Bamboo, it fails to copy over the proxy settings we have already set in\u00a0{{/media/atlassian-data/installs/bamboo/atlassian-bamboo-x.xx.x/conf/server.xml}}\r\nh3. Suggested Solution\r\n\r\nThe Proxy details that we have already set in server.xml should be copied over in the successive version to which Bamboo is upgrading to.",
      "summary": "Make Bamboo EC2 Wizard to preserve proxy settings during upgrade"
    }
  },
  {
    "key": "BAM-19993",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-06T08:16:22.000+0000",
      "created": "2018-07-19T10:03:16.000+0000",
      "description": "h3. Summary\r\nIf the username have a trailing space during administrator setup installation step, Bamboo will crash\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo \r\n# During Administrator setup step, add a trailing space for the username\r\n\r\nh3. Expected Results\r\nIt will just have the warning message \"Invalid username. Username mustn't be blank, have trailing or leading space and must have no more length than 255 characters.\"\r\n\r\nh3. Actual Results\r\nIt crash with the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-07-19 17:31:34,069 ERROR [http-nio-8085-exec-14] [ExceptionMappingInterceptor] com.atlassian.user.impl.EntityValidationException: com.atlassian.crowd.exception.InvalidUserException: User name may not contain leading or trailing whitespace\r\ncom.atlassian.core.exception.InfrastructureException: com.atlassian.user.impl.EntityValidationException: com.atlassian.crowd.exception.InvalidUserException: User name may not contain leading or trailing whitespace\r\n\tat bucket.user.DefaultUserAccessor.addUser(DefaultUserAccessor.java:106)\r\n\tat bucket.user.DefaultUserAccessor.addUser(DefaultUserAccessor.java:74)\r\n\tat com.atlassian.bamboo.user.BambooUserManagerImpl.setupInitialAdminUser(BambooUserManagerImpl.java:671)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n...\r\nCaused by: com.atlassian.user.impl.EntityValidationException: com.atlassian.crowd.exception.InvalidUserException: User name may not contain leading or trailing whitespace\r\n\tat com.atlassian.crowd.embedded.atlassianuser.EmbeddedCrowdUserManagerImpl.createUser(EmbeddedCrowdUserManagerImpl.java:124)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy165.createUser(Unknown Source)\r\n\tat bucket.user.DefaultUserAccessor.addUser(DefaultUserAccessor.java:101)\r\n\t... 187 more\r\nCaused by: com.atlassian.crowd.exception.InvalidUserException: User name may not contain leading or trailing whitespace\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric.addUser(ApplicationServiceGeneric.java:516)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy163.addUser(Unknown Source)\r\n\tat com.atlassian.crowd.embedded.core.CrowdServiceImpl.addUser(CrowdServiceImpl.java:259)\r\n\tat com.atlassian.crowd.embedded.core.CrowdServiceImpl.addUser(CrowdServiceImpl.java:250)\r\n\tat com.atlassian.crowd.embedded.atlassianuser.EmbeddedCrowdUserManagerImpl.createUser(EmbeddedCrowdUserManagerImpl.java:122)\r\n{noformat}\r\n \r\nh3. Notes\r\n* Trying to setup administrator without trailing space on the second time will have the following error:\r\n{noformat}\r\n2018-07-19 17:33:14,516 ERROR [http-nio-8085-exec-5] [ExceptionMappingInterceptor] could not execute batch; SQL [insert into CWD_DIRECTORY (DIRECTORY_NAME, LOWER_DIRECTORY_NAME, CREATED_DATE, UPDATED_DATE, ACTIVE, DESCRIPTION, IMPL_CLASS, LOWER_IMPL_CLASS, DIRECTORY_TYPE, ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]; constraint [uk_dir_l_name]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into CWD_DIRECTORY (DIRECTORY_NAME, LOWER_DIRECTORY_NAME, CREATED_DATE, UPDATED_DATE, ACTIVE, DESCRIPTION, IMPL_CLASS, LOWER_IMPL_CLASS, DIRECTORY_TYPE, ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]; constraint [uk_dir_l_name]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:247)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:785)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:621)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:206)\r\n\tat com.sun.proxy.$Proxy106.commit(Unknown Source)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy296.initialiseEmbeddedCrowd(Unknown Source)\r\n\tat com.atlassian.bamboo.ww2.actions.setup.SetupUtilityBean.setupUser(SetupUtilityBean.java:210)\r\n\tat com.atlassian.bamboo.ww2.actions.setup.SetupAdminUserAction.execute(SetupAdminUserAction.java:42)\r\n...\r\nCaused by: java.sql.BatchUpdateException: Duplicate entry 'bamboo internal directory' for key 'uk_dir_l_name'\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:387)\r\n\tat com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1154)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)\r\n\tat com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPreparedStatement.java:2544)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:111)\r\n\t... 208 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'bamboo internal directory' for key 'uk_dir_l_name'\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:387)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:932)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3878)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2478)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2625)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2551)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)\r\n{noformat}\r\n* Bamboo Home and database have to be deleted to install Bamboo again\r\n* Creating user with trailing or leading space works fine at {{Administration >> Security >> Users}} - it will just be trimmed",
      "summary": "Trailing space username will crash Bamboo during administrator setup"
    }
  },
  {
    "key": "BAM-19992",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-06T08:16:34.000+0000",
      "created": "2018-07-19T09:45:35.000+0000",
      "description": "h3. Summary\r\nUsing capital username during installation setup will have the error message \"Invalid username. Username mustn't be blank, have trailing or leading space and must have no more length than 255 characters.\"\r\n\r\nh3. Steps to Reproduce\r\n# Install Bamboo 6.6+\r\n# When setting up Administrator user, fill in capital case username like \"Admin\"\r\n\r\nh3. Expected Results\r\nThe admin user is created successfully\r\n\r\nh3. Actual Results\r\nIt will have error message \"Invalid username. Username mustn't be blank, have trailing or leading space and must have no more length than 255 characters.\" under the Username field\r\n \r\nh3. Notes\r\nAfter finishing the installation with lower case username, it is possible to create capital case username at {{Administration >> Security >> Users}} - it will just auto convert to lower case\r\n",
      "summary": "Capital case username can't be used during installation"
    }
  },
  {
    "key": "BAM-19991",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-18T16:49:11.000+0000",
      "description": "When using the agent-local artifact Handler there is only one global configuration for where to store artifact.\r\n\r\nIt would be nice if we could define this on a per-agent basis to allow more granular control of which agents have access to which artifacts.\r\n\r\n",
      "summary": "Allow per-agent configuration of artifact storage"
    }
  },
  {
    "key": "BAM-19990",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-12T14:07:25.000+0000",
      "created": "2018-07-18T02:54:21.000+0000",
      "description": "Similar to JRASERVER-43422, the version of jQuery used (currently version 1.10.2) is vulnerable to jQuery issue [2432|https://github.com/jquery/jquery/issues/2432] (3rd party $.get() auto executes if content type is text/javascript) and [11974|https://bugs.jquery.com/ticket/11974] (parseHTML executes inline scripts like event handlers). Additionally, the version of jQuery UI in use (1.8.24) is vulnerable to CVE-2010-5312 and an attacker can exploit this issue if they are [able to provide|https://github.com/jquery/jquery-ui/commit/7e9060c109b928769a664dbcc2c17bd21231b6f3] values to \"title\" of a jQuery ui dialogue. Actual exploitation / impact to Bamboo  depends upon if & how the vulnerable code paths are used.\r\n\r\nOn a related note, http://research.insecurelabs.org/jquery/test/ can be used to check jQuery versions for issues.\r\n",
      "summary": "The versions of jQuery and jQuery UI in use are vulnerable to several issues"
    }
  },
  {
    "key": "BAM-19989",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:02.000+0000",
      "created": "2018-07-17T12:20:57.000+0000",
      "description": "Under {color:#0000FF}Bamboo administration >> Security >> Security settings >> Repository Stored Specs security settings{color} you can enable / disable Specs by clicking on *Edit* button and defining {color:#0000FF}Enable Repository Stored Specs{color} checkbox.\r\n\r\nHowever, when Repository Stored Specs feature is disabled, Bamboo global administrators are still able to view and edit {color:blue}Linked repository >> \\[your repository\\] >> Bamboo Specs{color} tab. Instead, the same should be disabled or hidden indicating the feature is disabled in Security settings. ",
      "summary": "Disabling Repository Stored Specs should prevent its configuration editing or viewing"
    }
  },
  {
    "key": "BAM-19988",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-24T13:34:11.000+0000",
      "created": "2018-07-16T15:18:54.000+0000",
      "description": "h3. Summary\r\n/etc/apt/sources.list.d/atlassian-sdk-stable.list\r\n\r\nrefers to the old sdkrepo.atlassian.com location\r\n\r\n{noformat}\r\ndeb https://sdkrepo.atlassian.com/debian/ stable contrib\r\n{noformat}\r\n\r\n\r\nh3. Environment\r\n\r\nAMI: ami-47dae73d (6.5.0 stock AMI for US-EAST-1)\r\n\r\n\r\nh3. Steps to Reproduce\r\nAdd following as startup script on affected AMIs\r\n{code}\r\nsudo apt-get install -y --fix-missing libjpeg8 libfontconfig1 libwebp5 libssl1.0.0 libfontconfig1-dev build-essential libssl-dev\r\n{code}\r\n\r\nh3. Expected Results\r\neverything installs fine.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\nW: The repository 'https://sdkrepo.atlassian.com/debian stable Release' does not have a Release file.\r\nE: Failed to fetch https://sdkrepo.atlassian.com/debian/dists/stable/contrib/binary-amd64/Packages  404  Not Found\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\n\r\nBefore any {{apt-get}} commands in the Startup Script add the following line to update sources to new package location\r\n\r\n{noformat}\r\nsudo echo \"deb https://packages.atlassian.com/atlassian-sdk-deb stable contrib\" > /etc/apt/sources.list.d/atlassian-sdk-stable.list\r\n{noformat}\r\n\r\n\r\nh3. Notes\r\n\r\n{{/etc/apt/sources.list.d/atlassian-sdk-stable.list}} does not exist on the default AMI for Bamboo 6.6.0 and later.\r\n",
      "summary": "Ubuntu AMIs refer to old location sdkrepo.atlassian.com"
    }
  },
  {
    "key": "BAM-19987",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-16T09:32:53.000+0000",
      "created": "2018-07-13T14:19:50.000+0000",
      "description": "Source: https://community.atlassian.com/t5/Bamboo-questions/How-does-one-file-a-bug-request-against-Bamboo/qaq-p/843967\r\n\r\n\u00a0",
      "summary": "Upgrade Spotify Docker client lib in order to fix proxy related issues"
    }
  },
  {
    "key": "BAM-19986",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-12T13:54:31.000+0000",
      "created": "2018-07-12T08:57:16.000+0000",
      "description": "Bamboo fails to display the 'rsaquo' character at 'Create deployment project' page:\r\n !Screen Shot 2018-07-12 at 10.44.31.png|thumbnail! ",
      "summary": "Wrong display of 'rsaquo' character at 'Create deployment project' page"
    }
  },
  {
    "key": "BAM-19985",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-12T08:18:29.000+0000",
      "description": "h6.Problem Description:\r\nArtifact download task takes the artifacts from the latest complete build, not from the latest build. \r\n\r\nAssume the following configuration:\r\nPlan A produces artifacts, and plan B downloads these artifacts using the Artifact download task. Sometimes, an earlier build of Plan B finishes later than a later build. E.g. build 1 finishes at 01:05, while the build 2 finishes at 01:00.\r\n\r\nh6.Expected behavior:\r\nRunning plan B results in the download of artifacts of build 2 (since it has been build with the most recent revision)\r\n\r\nh6.Actual result:\r\nRunning plan B results in the download of artifacts of build 1\r\n\r\nh6.Steps to reproduce:\r\n# Configure the \"Clean working directory\" task to be the first task in the plan's job configuration.\r\n# Configure the plan with a script task:\r\n{code}\r\necho \"first\">>test.txt\r\nsleep 90\r\n{code} \r\n_Since we are using \"sleep 90\" ensure you complete the below steps within this time. If you are unable to then please increase this time._\r\n# Configure the artifact definition to publish this artifact.\r\n# Ensure you have the concurrent build configured and have more than 1 agent to run the builds concurrently.\r\n# Execute the build1 of this plan\r\n# Modify the script task configuration to the following:\r\n{code}\r\necho \"sec\">>test.txt\r\n{code}\r\n# Execute the build 2 of this plan. _This will be completed suddenly as we have removed the sleep command._\r\n\r\n* Configure another plan to download the artifact published by the above plan.\r\n* Execute this plan and observe that this will download the artifact from the latest completed build and not the latest executed build.\r\n\r\nh6.Suggested Solution:\r\nEnable the \"artifact download task\" to download the artifact from the latest executed build as it contains the latest updated code.",
      "summary": "Artifact download task takes Artifact from the latest complete build, not from the latest build"
    }
  },
  {
    "key": "BAM-19984",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-13T11:18:14.000+0000",
      "created": "2018-07-11T19:51:36.000+0000",
      "description": "h3. Summary\r\n\r\nWhen displaying Deployment Environments on the {{viewAllDeploymentProjects.action}} screen.  The environments are not sorted by their respective entries in the {{LIST_POSITION}} column of the {{DEPLOYMENT_ENVIRONMENT}} table.\r\n\r\nh3. Steps to Reproduce\r\n# Create multiple environments for the same Deployment Project\r\n# Set their {{LIST_POSITION}} to desired sort order\r\n# {{/deploy/viewAllDeploymentProjects.action}}\r\n\r\nh3. Expected Results\r\n\r\nEnvironments should be sorted per project based on their List Position\r\n\r\nh3. Actual Results\r\n\r\nUnclear what is used to determine sort order\r\n\r\nh3.Workaround\r\n\r\nNone Currently",
      "summary": "Deployments Dashboard not respecting LIST_POSITION of environments when sorting for display"
    }
  },
  {
    "key": "BAM-19983",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-10T09:37:00.000+0000",
      "created": "2018-07-11T15:51:04.000+0000",
      "description": "h3. Summary\r\nIf Bamboo 6.6+ is connected with a huge LDAP directories, the synchronisation for group membership might fail with ServiceUnavailableException\r\n\r\nh3. Steps to Reproduce\r\n# Setup LDAP directory with more than 600 group membership in Bamboo 6.6+\r\n# Synchronise the directory\r\n\r\nh3. Expected Results\r\nSynchronisation works fine\r\n\r\nh3. Actual Results\r\nUser and groups manage to be synchronised but group membership isn't synchronised with the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-07-10 15:34:10,284 INFO [atlassian-scheduler-quartz2.local_Worker-1] [RFC4519DirectoryMembershipsIterable] Fetching details for 661 entities for membership resolution\r\n...\r\n2018-07-10 15:44:13,510 ERROR [atlassian-scheduler-quartz2.local_Worker-1] [DbCachingDirectoryPoller] Error occurred while refreshing the cache for directory [ 1234567890 ].\r\ncom.atlassian.crowd.model.group.Membership$MembershipIterationException: com.atlassian.crowd.exception.OperationFailedException: org.springframework.ldap.ServiceUnavailableException: ldap.server.com:389; socket closed; nested exception is javax.naming.ServiceUnavailableException: ldap.server.com:389; socket closed; remaining name 'o=server.com'\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable.lambda$iterator$2(RFC4519DirectoryMembershipsIterable.java:100)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Spliterators$IteratorSpliterator.tryAdvance(Spliterators.java:1812)\r\n\tat java.util.stream.StreamSpliterators$WrappingSpliterator.lambda$initPartialTraversalState$0(StreamSpliterators.java:294)\r\n\tat java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:206)\r\n\tat java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)\r\n\tat java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:300)\r\n\tat java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)\r\n\tat com.atlassian.crowd.directory.synchronisation.cache.AbstractCacheRefresher.synchroniseMemberships(AbstractCacheRefresher.java:195)\r\n\tat com.atlassian.crowd.directory.synchronisation.cache.AbstractCacheRefresher.synchroniseAll(AbstractCacheRefresher.java:57)\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.synchroniseCache(DbCachingRemoteDirectory.java:968)\r\n\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.synchronise(DirectorySynchroniserImpl.java:71)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy155.synchronise(Unknown Source)\r\n\tat com.atlassian.crowd.directory.DbCachingDirectoryPoller.pollChanges(DbCachingDirectoryPoller.java:45)\r\n\tat com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerJobRunner.runJob(DirectoryPollerJobRunner.java:85)\r\n\tat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:153)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:118)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:97)\r\n\tat com.atlassian.scheduler.quartz2.Quartz2Job.execute(Quartz2Job.java:32)\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nCaused by: com.atlassian.crowd.exception.OperationFailedException: org.springframework.ldap.ServiceUnavailableException: ldap.server.com:389; socket closed; nested exception is javax.naming.ServiceUnavailableException: ldap.server.com:389; socket closed; remaining name 'o=server.com'\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchEntitiesWithRequestControls(SpringLDAPConnector.java:466)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchEntities(SpringLDAPConnector.java:428)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchUserObjects(SpringLDAPConnector.java:631)\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable.searchUsers(RFC4519DirectoryMembershipsIterable.java:189)\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable.updateCache(RFC4519DirectoryMembershipsIterable.java:152)\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable.getMemberships(RFC4519DirectoryMembershipsIterable.java:115)\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable.lambda$iterator$2(RFC4519DirectoryMembershipsIterable.java:98)\r\n\t... 31 more\r\nCaused by: org.springframework.ldap.ServiceUnavailableException: ldap.server.com:389; socket closed; nested exception is javax.naming.ServiceUnavailableException: ldap.server.com:389; socket closed; remaining name 'o=server.com'\r\n\tat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:223)\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:397)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$3.timedCall(SpringLdapTemplateWrapper.java:195)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$3.timedCall(SpringLdapTemplateWrapper.java:192)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$TimedCallable.call(SpringLdapTemplateWrapper.java:130)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.invokeWithContextClassLoader(SpringLdapTemplateWrapper.java:100)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.search(SpringLdapTemplateWrapper.java:192)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.search(SpringLdapTemplateWrapper.java:163)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchEntitiesWithRequestControls(SpringLDAPConnector.java:463)\r\n\t... 37 more\r\nCaused by: javax.naming.ServiceUnavailableException: ldap.server.com:389; socket closed; remaining name 'o=server.com'\r\n\tat com.sun.jndi.ldap.Connection.readReply(Connection.java:454)\r\n\tat com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:638)\r\n\tat com.sun.jndi.ldap.LdapClient.search(LdapClient.java:561)\r\n\tat com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:1985)\r\n\tat com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1844)\r\n\tat com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1769)\r\n\tat com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(ComponentDirContext.java:392)\r\n\tat com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:358)\r\n\tat javax.naming.directory.InitialDirContext.search(InitialDirContext.java:276)\r\n\tat sun.reflect.GeneratedMethodAccessor1703.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.ldap.transaction.compensating.manager.TransactionAwareDirContextInvocationHandler.invoke(TransactionAwareDirContextInvocationHandler.java:90)\r\n\tat com.sun.proxy.$Proxy1540.search(Unknown Source)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$3.lambda$timedCall$0(SpringLdapTemplateWrapper.java:194)\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:363)\r\n\t... 44 more\r\n{noformat}\r\n \r\nh3. Notes\r\n* With the debug logging \"com.atlassian.crowd.directory\", it show that Bamboo search for all the users in a single LDAP search and it stop after 10 minutes:\r\n{noformat}\r\n2018-07-11 23:46:17,172 DEBUG [atlassian-scheduler-quartz2.local_Worker-4] [SpringLdapTemplateWrapper] Timed call for search with handler on baseDN: ou=Users,dc=example,dc=com, filter: (&(objectclass=inetorgperson)(|(distinguishedName=uid=admin1,ou=users,dc=example,dc=com)\r\n... 660 other users\r\n(distinguishedName=uid=admin137,ou=users,dc=example,dc=com))) took 603213ms\r\n{noformat}\r\n* Running the same LDAP search command will have error after 10 minutes too. Could be caused by firewall or timeout in LDAP server side https://jira.atlassian.com/browse/CWD-568\r\n* Tested that Crowd 3.2.3 has fixed this by searching each user with separate LDAP search command. Bamboo embedded Crowd lib need to be updated\r\n\r\nh3.Workaround\r\nIf LDAP user have membership attribute such as \"memberOf\", can try using the option \"Use the User Membership Attribute\" ",
      "summary": "ServiceUnavailableException for huge LDAP directory"
    }
  },
  {
    "key": "BAM-19982",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-11T07:31:59.000+0000",
      "created": "2018-07-11T07:29:51.000+0000",
      "description": null,
      "summary": "Allow configuration of root volume size for EBS backed Elastic Agents launched from Bamboo"
    }
  },
  {
    "key": "BAM-19980",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T23:50:19.000+0000",
      "description": "h3. Summary\r\nHaving an incorrect {{application.password}} in {{crowd.properties}} results in background task exceptions in Bamboo 6.6.  \r\n\r\nh3. Environment\r\n* Bamboo 6.6 connected to Crowd as a user directory\r\n* Seraph v25 authenticator is disabled.\r\n\r\nh3. Steps to Reproduce\r\n# Update Bamboo application password in Crowd\r\n# Update the password used for the Crowd directory in Bamboo to the new, correct password\r\n\r\nh3. Expected Results\r\nBackground cache refreshes use the Crowd credentials from the database.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file periodically\r\n{noformat}\r\n2018-07-10 13:41:26,950 INFO [scheduler_Worker-1] [UserGroupCache] Populating user/group membership cache due to refreshCache\r\n2018-07-10 13:41:26,987 WARN [scheduler_Worker-1] [CrowdClientControl] Failed to refresh the user and group cache\r\ncom.atlassian.user.EntityException: com.atlassian.crowd.exception.InvalidAuthenticationException: Application failed to authenticate\r\n    at com.atlassian.crowd.integration.atlassianuser.UserGroupCache.fetchAndSetSnapshot(UserGroupCache.java:99)\r\n    at com.atlassian.crowd.integration.atlassianuser.UserGroupCache.refreshCache(UserGroupCache.java:357)\r\n    at com.atlassian.crowd.integration.atlassianuser.UserGroupCache.refreshCacheIfNecessary(UserGroupCache.java:375)\r\n    at com.atlassian.crowd.integration.atlassianuser.CrowdClientControl.refreshCacheIfNecessary(CrowdClientControl.java:89)\r\n    at com.atlassian.bamboo.user.BambooUserRefreshJobScheduler$BambooUserRefreshJob.execute(BambooUserRefreshJobScheduler.java:71)\r\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n    at com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n    at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n    at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n    at com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nCaused by: com.atlassian.crowd.exception.InvalidAuthenticationException: Application failed to authenticate\r\n    at com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.throwError(RestExecutor.java:533)\r\n    at com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.andReceive(RestExecutor.java:367)\r\n    at com.atlassian.crowd.integration.rest.service.RestCrowdClient.searchGroupNames(RestCrowdClient.java:571)\r\n    at com.atlassian.crowd.integration.atlassianuser.UserGroupFetcher.fetch(UserGroupFetcher.java:33)\r\n    at com.atlassian.crowd.integration.atlassianuser.UserGroupCache.fetchAndSetSnapshot(UserGroupCache.java:82)\r\n    ... 10 mor\r\n{noformat}\r\n\r\nh3. Notes\r\nOn the surface functionality seems unimpaired but some background cache refreshes look to be failing.\r\n\r\nh3.Workaround\r\nUpdate the {{bamboo-home/xml-data/configuration/crowd.properties}} > {{application.password}} to use valid credentials.",
      "summary": "Having an incorrect application.password in crowd.properties results in background task exceptions in Bamboo 6.6"
    }
  },
  {
    "key": "BAM-19979",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T17:18:48.000+0000",
      "description": "h3. Problem\r\nTags in SVN are like folders and can be saved in any folder structure of the VCS. They can be created and organized in different folders. \r\nBamboo VCS tag task does not provide an option to create the underlying folders when needed forcing users to create an extra task to add them.\r\n\r\nh3. Suggestion\r\nField \"tag name\" could be called just \"tag\" where the whole path to a tag could be shared. Bamboo could create the folders on demand saving the user to create them with a separated task. \r\nAdditionally, an example could be added as a small label to this field advising the user on how to use it.",
      "summary": "SVN VCS tagging task should create subdirectories if they don't exist"
    }
  },
  {
    "key": "BAM-19978",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-10T10:17:51.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, there is no option for the user to reorder/sort the jobs in the tasks manually. The jobs are ordered alphabetically. Allowing this option will enable the user to have a better visibility as per their requirement.\r\n\r\nh6.Suggested Solution:\r\nAllow to drag/drop the jobs to reorder them.\r\n\r\n\r\n(!) Even though this feature is enabled the reorder will only affect the visibility because the jobs can run in parallel. \r\n\r\n",
      "summary": "Allow users to reorder jobs in a stage"
    }
  },
  {
    "key": "BAM-19977",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-17T07:59:50.000+0000",
      "created": "2018-07-09T20:44:27.000+0000",
      "description": "h2. HTR\r\n\r\nUsing Bamboo version including the fix for BAM-19794:\r\n# Setup *C5* or *M5* EC2 Image configuration with EBS volume \r\n\r\nh2. Expected behavior\r\n\r\nBamboo is able to spin up agent on EC2 instance and mount EBS\r\n\r\nh2. Actual behavior\r\n\r\nAlthough Bamboo can find that the instance is using NVMe, the check we do for the NVMe volume to mount is unable to find the volume.\r\n\r\nMore info: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nvme-ebs-volumes.html",
      "summary": "Bamboo unable to mount NVMe volumes for Elastic Agents"
    }
  },
  {
    "key": "BAM-19976",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:44.000+0000",
      "created": "2018-07-09T18:39:44.000+0000",
      "description": "As a Bamboo administrator, I would like to build a report based on build / deployment triggering method.\r\n\r\nFor instance, I would like to have a list of plans that have been triggered:\r\n* by repository changes though a push against repository\r\n* by scheduled trigger\r\n* by remote event\r\n* by remote trigger",
      "summary": "(REST) As an admin, I would like to review build results by triggering method"
    }
  },
  {
    "key": "BAM-19975",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-24T13:26:00.000+0000",
      "created": "2018-07-09T15:48:46.000+0000",
      "description": "h3. Summary\r\n\r\nWhen using an Ubuntu AMI, the instructions for connecting to the instance use \r\n {{ec2-user@hostname}} rather than {{ubuntu@hostname}}\r\nh3. Environment\r\n\r\nElastic Agents\r\nh3. Expected Results\r\n\r\nCopy / Paste command from Instance Details screen,\r\nConnect to instance\r\nh3. Actual Results\r\n{noformat}\r\nPermission denied (publickey).\r\n{noformat}\r\nThis is the default error returned if there's anything wrong with the command to connect to the instance.\r\nh3. Workaround\r\n\r\ncopy/paste then edit the command to use the appropriate user.\r\nh3. Examples\r\n{noformat:title=does not work for ubuntu image}\r\nssh -i /var/atlassian/application-data/bamboo/xml-data/configuration/elasticbamboo.pk ec2-user@hostname.compute-1.amazonaws.com\r\n{noformat}\r\n{noformat:title=works for ubuntu image}\r\nssh -i /var/atlassian/application-data/bamboo/xml-data/configuration/elasticbamboo.pk ubuntu@hostname.compute-1.amazonaws.com\r\n{noformat}",
      "summary": "SSH command for Elastic Ubuntu image incorrect"
    }
  },
  {
    "key": "BAM-19974",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-06T09:30:08.000+0000",
      "created": "2018-07-06T08:20:22.000+0000",
      "description": "h3. Summary\r\nThe Concurrent Builds override setting on a plan can be lost when publishing a Spec that contains it.\r\n\r\nh3. Steps to Reproduce\r\n# Set global concurrent builds to 1 (Optional: There\u2019s still a problem without this step but this causes {{maximumNumberOfConcurrentBuilds}} to be absent from any subsequent export, without doing this {{maximumNumberOfConcurrentBuilds}} will match the default global value)\r\n# Create a plan: \r\n## Override Concurrent Builds to 10 on the Miscellaneous tab\r\n## Override Artifact Handlers >> Enable to Agent Local for shared and non-shared\r\n# Export to Spec\r\n# Publish that exact exported Spec back to the server\r\n# Refresh the Miscellaneous tab > It\u2019s now unchecked\r\n# Export to Spec >> it\u2019s now missing {{maximumNumberOfConcurrentBuilds}}\r\n\r\nSample Spec:\r\n{code}\r\nimport com.atlassian.bamboo.specs.api.BambooSpec;\r\nimport com.atlassian.bamboo.specs.api.builders.BambooKey;\r\nimport com.atlassian.bamboo.specs.api.builders.BambooOid;\r\nimport com.atlassian.bamboo.specs.api.builders.permission.PermissionType;\r\nimport com.atlassian.bamboo.specs.api.builders.permission.Permissions;\r\nimport com.atlassian.bamboo.specs.api.builders.permission.PlanPermissions;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.Job;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.Plan;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.PlanIdentifier;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.Stage;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.branches.BranchCleanup;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.branches.PlanBranchManagement;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.configuration.AllOtherPluginsConfiguration;\r\nimport com.atlassian.bamboo.specs.api.builders.plan.configuration.ConcurrentBuilds;\r\nimport com.atlassian.bamboo.specs.api.builders.project.Project;\r\nimport com.atlassian.bamboo.specs.builders.task.ScriptTask;\r\nimport com.atlassian.bamboo.specs.util.BambooServer;\r\nimport com.atlassian.bamboo.specs.util.MapBuilder;\r\n\r\n@BambooSpec\r\npublic class PlanSpec {\r\n    \r\n    public Plan plan() {\r\n        final Plan plan = new Plan(new Project()\r\n                .key(new BambooKey(\"PROJ\"))\r\n                .name(\"PROJ\"),\r\n            \"PLAN\",\r\n            new BambooKey(\"PLAN\"))\r\n            .pluginConfigurations(new ConcurrentBuilds()\r\n                    .useSystemWideDefault(false)\r\n                    .maximumNumberOfConcurrentBuilds(10),\r\n                new AllOtherPluginsConfiguration()\r\n                    .configuration(new MapBuilder()\r\n                            .put(\"custom\", new MapBuilder()\r\n                                .put(\"artifactHandlers\", new MapBuilder()\r\n                                    .put(\"useCustomArtifactHandlers\", \"true\")\r\n                                    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForShared\", \"true\")\r\n                                    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForNonShared\", \"true\")\r\n                                    .build())\r\n                                .put(\"buildExpiryConfig.enabled\", \"false\")\r\n                                .build())\r\n                            .build()))\r\n            .stages(new Stage(\"Default Stage\")\r\n                    .jobs(new Job(\"Default Job\",\r\n                            new BambooKey(\"JOB1\"))\r\n                            .tasks(new ScriptTask()\r\n                                    .inlineBody(\"pwd;\"))))\r\n            .planBranchManagement(new PlanBranchManagement()\r\n                    .delete(new BranchCleanup())\r\n                    .notificationForCommitters())\r\n            .ignoreHungBuilds();\r\n        return plan;\r\n    }\r\n    \r\n    public PlanPermissions planPermission() {\r\n        final PlanPermissions planPermission = new PlanPermissions(new PlanIdentifier(\"PROJ\", \"PLAN\"))\r\n            .permissions(new Permissions()\r\n                    .userPermissions(\"admin\", PermissionType.EDIT, PermissionType.VIEW, PermissionType.ADMIN, PermissionType.CLONE, PermissionType.BUILD));\r\n        return planPermission;\r\n    }\r\n    \r\n    public static void main(String... argv) {\r\n        //By default credentials are read from the '.credentials' file.\r\n        BambooServer bambooServer = new BambooServer(\"http://bamboo:8085\");\r\n        final PlanSpec planSpec = new PlanSpec();\r\n        \r\n        final Plan plan = planSpec.plan();\r\n        bambooServer.publish(plan);\r\n        \r\n        final PlanPermissions planPermission = planSpec.planPermission();\r\n        bambooServer.publish(planPermission);\r\n    }\r\n}\r\n{code}\r\n\r\nh3. Expected Results\r\nConcurrent Builds override is retained\r\n\r\nh3. Actual Results\r\nConcurrent Builds override is unchecked\r\nExported Spec looks like this:\r\n{code}\r\n            .pluginConfigurations(new ConcurrentBuilds()\r\n                    .useSystemWideDefault(false),\r\n                new AllOtherPluginsConfiguration()\r\n                    .configuration(new MapBuilder()\r\n                            .put(\"custom\", new MapBuilder()\r\n                                .put(\"artifactHandlers\", new MapBuilder()\r\n                                    .put(\"useCustomArtifactHandlers\", \"true\")\r\n                                    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForShared\", \"true\")\r\n                                    .put(\"comAtlassianBambooPluginArtifactHandlerRemote:AgentLocalArtifactHandler:enabledForNonShared\", \"true\")\r\n                                    .build())\r\n                                .put(\"buildExpiryConfig.enabled\", \"false\")\r\n                                .build())\r\n                            .build()))\r\n{code}\r\n \r\n\r\nh3.Workaround\r\nWhile not ideal, the only workaround at this point seems to be to remove the Artifact Handler override from the Spec.",
      "summary": "Concurrent Builds override can be lost when publishing Bamboo Specs"
    }
  },
  {
    "key": "BAM-19973",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-06T03:30:16.000+0000",
      "description": "h3. Problem Definition\r\nAutomatic Elastic Management can attempt to launch two instances of the same image to meet build requirements. If the image is configured to point to an EBS *volume* (rather than snapshot), all requests except the initial one will fail since EBS volumes can only be attached to one EC2 instance at a time. Elastic Bamboo continues to try and launch the same image configuration which repeatedly fails.\r\n\r\nh3. Suggested Solution\r\n* Allow users to configure max amount of instances per image configuration: [BAM\\-17756: Maximum number of elastic agents based on AMI id|https://jira.atlassian.com/browse/BAM-17756] \r\nor\r\n* If the EBS ID configured against an image is a volume ({{vol\\-}}) rather than a snapshot, only ever allow one max active instance.",
      "summary": "Automatic Elastic Management in Bamboo should only launch maximum one instance if the EBS ID points to a volume"
    }
  },
  {
    "key": "BAM-19972",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:30:17.000+0000",
      "created": "2018-07-05T14:55:39.000+0000",
      "description": "Excessive requests against repository server can be made (_unnecessarily_) due to misconfiguration on {color:blue}Plan Configuration >> Triggers{color} tab, preventing builds from being triggered and/or source code checkout from fetching/pulling repository changes.\r\n\r\nAs an administrator, I would like to review plans that are set up with {color:blue}Repository Polling - Periodically{color}, displaying information about:\r\n* plan\r\n* repository set up in trigger\r\n* its interval\r\n\r\nThe same information should become available for {color:blue}Repository Polling - Scheduled{color} and {color:blue}Scheduled{color}",
      "summary": "(REST) As an admin, I would like to review plan(s) triggering"
    }
  },
  {
    "key": "BAM-19971",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-03-17T23:38:40.000+0000",
      "created": "2018-07-04T19:53:39.000+0000",
      "description": "Bamboo's Global Expiry can be defined by Administrators in Bamboo, however, there are Plan Administrator users with ability to override plan configuration and setting their own build expiry, in which can cause performance issues and huge amount of disk space consumption.\r\n\r\nAs a suggestion, Bamboo should have an endpoint in which Bamboo administrators can review which plans are overriding Global Expiry, making Bamboo more stable.",
      "summary": "(REST) As an admin, I would like to review plan(s) overriding Global Expiry"
    }
  },
  {
    "key": "BAM-19970",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-01T09:08:13.000+0000",
      "created": "2018-07-04T12:22:51.000+0000",
      "description": "h3. Problem Definition\r\nStock images launched from Bamboo with instance type C5, M5 and anything that requires enhanced networking with the Elastic Network Adapter (ENA) will fail to launch with the following error:\r\n{code}\r\ncom.amazonaws.services.ec2.model.AmazonEC2Exception: Enhanced networking with the Elastic Network Adapter (ENA) is required for the 'c5.xlarge' instance type. Ensure that you are using an AMI that is enabled for ENA. (Service: AmazonEC2; Status Code: 400; Error Code: InvalidParameterCombination; Request ID: )\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1639)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1304)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1056)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:743)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:717)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513)\r\n\tat com.amazonaws.services.ec2.AmazonEC2Client.doInvoke(AmazonEC2Client.java:15642)\r\n\tat com.amazonaws.services.ec2.AmazonEC2Client.invoke(AmazonEC2Client.java:15618)\r\n\tat com.amazonaws.services.ec2.AmazonEC2Client.executeRunInstances(AmazonEC2Client.java:15005)\r\n{code}\r\n\r\nh3. Suggested Solution\r\nEnable ENA on our stock AMI's.\r\n \r\nh3. Workaround \r\n# Launch an instance using an instance type that works (such as M4) \r\n# Confirm that the AMI you launched from has ENA installed:\r\n#* [Testing Whether Enhanced Networking with ENA Is Enabled|https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking-ena.html#test-enhanced-networking-ena]\r\n# If it's not ENA installed, install it using the appropriate instructions for the distro: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking-ena.html\r\n# Once ENA is installed (or if it's already installed):\r\n## Stop the instance and enable ENA support via AWS CLI: {{aws ec2 modify-instance-attribute --instance-id instance_id --ena-support}}\r\n## Create a custom AMI off this instance and use it for Elastic Bamboo. The AMI will inherit the enhanced networking attribute from the instance. \r\n## Configure a new Image Configuration at *Bamboo Administration > Image Configurations* that uses the new AMI ID and set the instance type to the desired type.",
      "summary": "EC2 images should be marked as supporting Enhanced Networking"
    }
  },
  {
    "key": "BAM-19969",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-03T07:14:39.000+0000",
      "created": "2018-07-03T22:57:45.000+0000",
      "description": "h3. Summary\r\nIf invalid nested variables are set in the Plan configuration, the Branch variables page is blank and the dropdown menu shows only cascading {{variables.groupby}}.\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan\r\n# Create a branch on that plan\r\n# Add a variable with Key {{foo}} to the Plan\r\n# Override the value of variable {{foo}}, with a value including a Nested Variable eg: {{$\\{system.test_variable_name}}}\r\n# Go to the Variables tab of the Branch configuration\r\n\r\nh3. Expected Results\r\nWe are able to edit the Branch variables to override the values\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n...2018-06-26 15:38:41,628 WARN [http-nio-8085-exec-32] [TextProviderHelper] The first TextProvider in the ValueStack (com.atlassian.bamboo.ww2.actions.build.admin.config.variable.ConfigurePlanVariables) could not locate the message resource with key 'variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.'\r\n2018-06-26 15:38:41,628 WARN [http-nio-8085-exec-32] [TextProviderHelper] The default value expression 'variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.' was evaluated and did not match a property. The literal value 'variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.variables.groupby.' will be used.\r\n2018-06-26 15:38:41,629 ERROR [http-nio-8085-exec-32] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nThe following has evaluated to null or missing:\r\n==> stack.findValue(parameters.listKey)  [in template \"template/simple/select.ftl\" at line 89, column 36]\r\n\r\n----\r\nTip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use [#if myOptionalVar??]when-present[#else]when-missing[/#if]. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n----\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n\t- Failed at: #assign itemKey = stack.findValue(par...  [in template \"template/simple/select.ftl\" at line 89, column 17]\r\n\t- Reached through: @ww.iterator value=\"parameters.list\"  [in template \"template/simple/select.ftl\" at line 66, column 5]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core.InvalidReferenceException: [... Exception message was already printed; see it above ...]\r\n\tat freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\r\n\tat freemarker.core.Assignment.accept(Assignment.java:139)\r\n\tat freemarker.core.Environment.visit(Environment.java:326)\r\n\tat freemarker.core.Environment.visit(Environment.java:368)\r\n\tat freemarker.core.Environment.visitAndTransform(Environment.java:460)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:111)\r\n\tat freemarker.core.Environment.visit(Environment.java:326)\r\n\tat freemarker.core.Environment.visit(Environment.java:332)\r\n\tat freemarker.core.Environment.visit(Environment.java:332)\r\n\tat freemarker.core.Environment.process(Environment.java:305)\r\n\tat freemarker.template.Template.process(Template.java:384)\r\n\tat org.apache.struts2.components.template.FreemarkerTemplateEngine.renderTemplate(FreemarkerTemplateEngine.java:152)\r\n\tat org.apache.struts2.components.UIBean.mergeTemplate(UIBean.java:589)\r\n\tat org.apache.struts2.components.UIBean.end(UIBean.java:539)\r\n\tat org.apache.struts2.views.freemarker.tags.CallbackWriter.afterBody(CallbackWriter.java:84)\r\n\tat freemarker.core.Environment.visitAndTransform(Environment.java:461)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:111)\r\n\tat freemarker.core.Environment.visit(Environment.java:326)\r\n\tat freemarker.core.Environment.visit(Environment.java:368)\r\n\tat freemarker.core.Environment.invoke(Environment.java:714)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:86)\r\n\tat freemarker.core.Environment.visit(Environment.java:362)\r\n\tat freemarker.core.Environment.visitAndTransform(Environment.java:460)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:111)\r\n\tat freemarker.core.Environment.visit(Environment.java:362)\r\n\tat freemarker.core.Environment.invoke(Environment.java:714)\r\n\tat freemarker.core.UnifiedCall.accept(UnifiedCall.java:86)\r\n\tat freemarker.core.Environment.visit(Environment.java:362)\r\n\tat freemarker.core.Environment.visitAndTransform(Environment.java:460)\r\n\tat freemarker.core.BlockAssignment.accept(BlockAssignment.java:55)\r\n\tat freemarker.core.Environment.visit(Environment.java:326)\r\n\tat freemarker.core.Environment.visit(Environment.java:332)\r\n\tat freemarker.core.Environment.process(Environment.java:305)\r\n\tat freemarker.template.Template.process(Template.java:384)\r\n\tat org.apache.struts2.views.freemarker.FreemarkerResult.doExecute(FreemarkerResult.java:185)\r\n\tat org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:208)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:373)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:277)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:100)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:100)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.FieldErrorUsageVerifier.intercept(FieldErrorUsageVerifier.java:43)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.JSONValidationInterceptor.doIntercept(JSONValidationInterceptor.java:60)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:64)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.atlassian.bamboo.ww2.interceptors.BambooXsrfTokenInterceptor.doIntercept(BambooXsrfTokenInterceptor.java:69)\r\n\tat com.atlassian.bamboo.ww2.interceptors.AbstractBambooInterceptor.intercept(AbstractBambooInterceptor.java:25)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:247)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:134)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n...\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nPlease remove any references to nested variables, and leave the values of variables as the expanded variable.",
      "summary": "Invalid nested variables in Plan Variables cause Freemarker error on Branch Variables page"
    }
  },
  {
    "key": "BAM-19968",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:53.000+0000",
      "created": "2018-07-03T15:52:36.000+0000",
      "description": "Users commonly bookmark Bamboo's URL and since YAML Plan Configuration has limited configuration (_fewer tabs in comparison to plan created through UI_), we should notify users they are visiting an URL they should not and/or is not meant for YAML view, e.g:\r\n* /chain/admin/config/editChainPermissions.action?buildKey=PROJ-PLAN\r\n* /chain/admin/config/defaultChainNotification.action?buildKey=PROJ-PLAN",
      "summary": "Notify users about URL manipulation in YAML plan configuration"
    }
  },
  {
    "key": "BAM-19967",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-07-02T10:03:26.000+0000",
      "description": "h3. Summary\r\n\r\nWhen no cookies are allowed in the browser and a user tries to reset the password, they will encounter this screen:\r\n !Screen Shot 2018-07-02 at 11.56.50.png|thumbnail! \r\n\r\nh3. Accepted solution.\r\n\r\nMake a friendlier screen for the user. If possible, explaining the actual problem encountered (browser not accepting cookies).",
      "summary": "When no cookies are allowed, a non-friendly message is shown on screen"
    }
  },
  {
    "key": "BAM-19966",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-06-29T19:19:03.000+0000",
      "description": "h3. Problem \r\nThe default plan branch name is set with the source repository default branch name. This configuration is not adjustable. Plan branches in the other hand have their names customizable. We can standardize plan branch names but not the main plan branch.\r\n\r\nh3. Suggested solution \r\nAdd in the main plan branch configuration the ability to adjust the main plan branch name",
      "summary": "Add the ability to change the main plan branch name"
    }
  },
  {
    "key": "BAM-19965",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-02T08:22:36.000+0000",
      "created": "2018-06-28T12:52:40.000+0000",
      "description": "h3. Summary\r\n\r\nUpgrade will fail with IllegalStateException in upgrade task 60201 if upgrading from version 6.1 or lower.\r\nh3. Steps to Reproduce\r\n # Create a fresh Bamboo 5.12.5 instance\r\n # Connect it to Crowd for user management\r\n # Create two projects\r\n # Shutdown\r\n # Upgrade to Bamboo 6.6\r\n\r\nh3. Expected Results\r\nSuccessful upgrade\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n\r\n{{2018-06-28 10:27:50,471 FATAL [localhost-startStop-1] [UpgradeLauncher] Upgrade task error: Task for build 60201 failed with exception: java.lang.IllegalStateException: Connection pool shut down}}\r\nh3. Workaround\r\n\r\nUpgrade to 6.5.x first and then to 6.6.0",
      "summary": "Can't upgrade directly to version 6.6 if Bamboo is connected to Crowd"
    }
  },
  {
    "key": "BAM-19964",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:52.000+0000",
      "created": "2018-06-28T12:43:13.000+0000",
      "description": "h3. Summary\r\nDuring Bamboo internal backup function, if the one of the clustered database shutdown for maintenance, Bamboo does not repeat the unpause task when it manage to reconnect to one of the clustered database\r\n\r\nh3. Steps to Reproduce\r\n# Connect Bamboo to a clustered of two Oracle databases\r\n# Set a Backup Scheduler in Bamboo\r\n# During backup job running, shutdown one of the clustered Oracle database to cause error to the backup job\r\n\r\nh3. Expected Results\r\nThe backup job fail and Bamboo will unpause the server\r\n\r\nh3. Actual Results\r\nThe backup job fail and Bamboo try to unpause the server but fail with the following error:\r\n{noformat}\r\n2018-06-28 01:16:55,804 WARN [scheduler_Worker-4] [SqlExceptionHelper] SQL Error: 1089, SQLState: 08006\r\n2018-06-28 01:16:55,804 ERROR [scheduler_Worker-4] [SqlExceptionHelper] ORA-01089: immediate shutdown or close in progress - no operations are permitted\r\n\r\n2018-06-28 01:16:55,812 INFO [scheduler_Worker-4] [XmlMigrator] Ensuring the the file has been unmounted\r\n...\r\n2018-06-28 01:16:55,815 WARN [scheduler_Worker-4] [NewPooledConnection] [c3p0] A PooledConnection that has already signalled a Connection error is still in use!\r\n2018-06-28 01:16:55,815 WARN [scheduler_Worker-4] [NewPooledConnection] [c3p0] Another error has occurred [ java.sql.SQLRecoverableException: ORA-01089: immediate shutdown or close in progress - no operations are permitted\r\n ] which will not be reported to listeners!\r\njava.sql.SQLRecoverableException: ORA-01089: immediate shutdown or close in progress - no operations are permitted\r\n...\r\n2018-06-28 01:16:55,844 ERROR [scheduler_Worker-4] [ScheduledBackupJob] java.lang.IllegalStateException: Could not transition server from 'PAUSING' to 'RUNNING'\r\njava.lang.IllegalStateException: Could not transition server from 'PAUSING' to 'RUNNING'\r\n\tat com.atlassian.bamboo.ServerLifecycleManagerImpl.updateServerLifecycleState(ServerLifecycleManagerImpl.java:284)\r\n\tat com.atlassian.bamboo.ServerLifecycleManagerImpl.serverRunning(ServerLifecycleManagerImpl.java:132)\r\n\tat com.atlassian.bamboo.ServerLifecycleManagerImpl.resumeServer(ServerLifecycleManagerImpl.java:244)\r\n\tat com.atlassian.bamboo.migration.ImportExportManagerImpl.bambooExport(ImportExportManagerImpl.java:96)\r\n\tat com.atlassian.bamboo.configuration.ScheduledBackupJob.execute(ScheduledBackupJob.java:71)\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nCaused by: org.springframework.transaction.TransactionSystemException: Could not commit Hibernate transaction; nested exception is org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n{noformat}\r\nHowever, it does not repeat the process to unpause Bamboo after it manage to connect to the second clustered Oracle database\r\n \r\nh3. Notes\r\nBamboo should repeat the task to unpause server when it manage to connect to the database again",
      "summary": "Bamboo does not repeat unpause task after failure in backup job"
    }
  },
  {
    "key": "BAM-19963",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-02T08:27:03.000+0000",
      "created": "2018-06-27T09:57:13.000+0000",
      "description": "h3. Summary\r\nUpgrade will fail to migrate LDAP/AD configuration that uses objectCategory filter instead of objectClass\r\n\r\nh3. Steps to Reproduce\r\n# Configure Bamboo 6.5.1 to use LDAP/AD with objectCategory filter\r\n# Upgrade it to Bamboo 6.6.0\r\n\r\nh3. Expected Results\r\nUpgrade successfully migrate LDAP/AD configuration\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-06-26 16:36:19,095 ERROR [localhost-startStop-1] [LdapRepositoryConfigurationMigrator] Property groupSearchFilter does not define an objectClass filter\r\n2018-06-26 16:36:19,095 ERROR [localhost-startStop-1] [LdapRepositoryConfigurationMigrator] Property userSearchFilter does not define an objectClass filter\r\n2018-06-27 17:50:35,473 INFO [localhost-startStop-1] [AtlassianUserMigrator] Validated repository [hibernateRepository] with [com.atlassian.bamboo.upgrade.tasks.v6_6.ec.HibernateRepositoryConfigurationMigrator@51e45b33]\r\n2018-06-27 17:50:35,475 ERROR [localhost-startStop-1] [BootstrapUpgradeManagerImpl] Task 60601 failed\r\njava.lang.RuntimeException: com.atlassian.bamboo.upgrade.exception.ValidationException: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n\tat com.atlassian.bamboo.upgrade.tasks.validation.AtlassianUserRepositoriesAreValid.lambda$doUpgrade$0(AtlassianUserRepositoriesAreValid.java:46)\r\n\tat com.atlassian.bamboo.upgrade.AbstractBootstrapUpgradeTask.withDatabaseConnection(AbstractBootstrapUpgradeTask.java:65)\r\n\tat com.atlassian.bamboo.upgrade.tasks.validation.AtlassianUserRepositoriesAreValid.doUpgrade(AtlassianUserRepositoriesAreValid.java:38)\r\n\tat com.atlassian.bamboo.upgrade.tasks.validation.AtlassianUserRepositoriesAreValid.doUpgrade(AtlassianUserRepositoriesAreValid.java:33)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.runValidationTask(BootstrapUpgradeManagerImpl.java:134)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.lambda$runValidationTasks$0(BootstrapUpgradeManagerImpl.java:93)\r\n\tat com.atlassian.bamboo.upgrade.AbstractUpgradeManager.forEachTask(AbstractUpgradeManager.java:151)\r\n\tat com.atlassian.bamboo.upgrade.BootstrapUpgradeManagerImpl.runValidationTasks(BootstrapUpgradeManagerImpl.java:93)\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.runValidationTasks(DefaultBootstrapManager.java:373)\r\n\tat com.atlassian.bamboo.setup.DefaultBootstrapManager.performPersistenceUpgrade(DefaultBootstrapManager.java:277)\r\n\tat com.atlassian.config.bootstrap.DefaultAtlassianBootstrapManager.init(DefaultAtlassianBootstrapManager.java:77)\r\n\tat com.atlassian.bamboo.setup.BootstrapLoaderListener.contextInitialized(BootstrapLoaderListener.java:116)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4842)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5303)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.atlassian.bamboo.upgrade.exception.ValidationException: Bamboo can't migrate Atlassian User repositories due to validation errors. Please refer to logs for more information.\r\n\t... 21 more\r\n{noformat}\r\n\r\nh3. Notes\r\nThe validation will correctly trigger if the filter is not using either objectCategory or objectClass like:\r\n{noformat}\r\n<userSearchFilter>(&amp;(sAMAccountName=*)(memberOf=CN=group,DC=test,DC=com))</userSearchFilter>\r\n{noformat}\r\n\r\nThe fix for this bug will not change that. In this case, an objectClass or objectCategory should be added to the filter in the {{atlassian-user.xml}} to proceed with the upgrade.\r\n",
      "summary": "Upgrade can't migrate LDAP/AD that use objectCategory filter "
    }
  },
  {
    "key": "BAM-19962",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:37.000+0000",
      "created": "2018-06-27T05:00:17.000+0000",
      "description": "h3. Summary\r\nSetting {{DISABLE_AGENT_AUTO_CAPABILITY_DETECTION=true}} server-side in Bamboo (not on the agent) will stop new entries in {{bamboo-capabilities.properties}} being detected for known agents upon restart.\r\n\r\nh3. Steps to Reproduce\r\n# Add {{-DDISABLE_AGENT_AUTO_CAPABILITY_DETECTION=true}} to {{JVM_SUPPORT_RECOMMENDED_ARGS}} in {{<bamboo-install>/bin/setenv.sh}}\r\n# Add {{wrapper.java.additional.x=-DDISABLE_AGENT_AUTO_CAPABILITY_DETECTION=true}} to a new Remote Agent's {{<bamboo-agent-home>/conf/wrapper.conf}}\r\n#* If it's an existing agent, delete it from the Bamboo UI\r\n# Create a {{bamboo-capabilities.properties}} in {{<bamboo-agent-home>/bin}}\r\n# Add some capabilities to it\r\n# Start the agent\r\n# Capabilities from {{bamboo-capabilities.properties}} are correctly detected and added\r\n# Add a new capability to {{bamboo-capabilities.properties}}. New key, don't update an existing one.\r\n# Restart the agent\r\n# The *new* capability is not detected.\r\n\r\nh3. Expected Results\r\nNew capabilities in {{bamboo-capabilities.properties}} are detected upon agent restart.\r\n\r\nh3. Actual Results\r\nNew capabilities in {{bamboo-capabilities.properties}} are not detected upon agent restart.\r\n\r\n\r\nh3.Workaround\r\n# Remove {{-DDISABLE_AGENT_AUTO_CAPABILITY_DETECTION=true}} from {{JVM_SUPPORT_RECOMMENDED_ARGS}} in {{<bamboo-install>/bin/setenv.sh}}\r\n# Configure / keep {{wrapper.java.additional.x=-DDISABLE_AGENT_AUTO_CAPABILITY_DETECTION=true}} on each agent that needs it in {{<bamboo-agent-home>/conf/wrapper.conf}}\r\n\r\nOr\r\n* Delete the agent from *Bamboo Administration >> Agents* before restarting the agent. All capabilities will be detected upon agent restart.",
      "summary": "Setting DISABLE_AGENT_AUTO_CAPABILITY_DETECTION server-side in Bamboo will stop new entries in bamboo-capabilities.properties being detected for known agents"
    }
  },
  {
    "key": "BAM-19961",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-06-26T15:56:19.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIf a user-provided instance startup script errors out, Bamboo continues on to start the elastic agent rather than terminate the instance.\r\n\r\n{quote}\r\nAn agent that starts and becomes part of the agent pool, but which has incomplete or broken setup, is worse than useless to us. It costs us time in failed builds and debugging which would be avoided if the agent simply never joined the pool.\r\n{quote}\r\n\r\nh3. Suggested Solution\r\n \r\nIf the user-provided startup script fails, or returns an error.  Fail the instance startup, with a message in the Bamboo Local logs.\r\n\r\nh3. Workaround\r\n\r\nIf an instance startup script fails, you need to check the logs on the EC2 instance itself to learn why.",
      "summary": "Instance Startup Scripts for Elastic Agents do not respect Exit Codes"
    }
  },
  {
    "key": "BAM-19960",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-05T10:52:45.000+0000",
      "created": "2018-06-26T06:47:34.000+0000",
      "description": "h3. Problem Definition\r\nAmazon have released new instance types, M5d and C5d (NVME local storage variants of C5 and M5):\r\n* https://aws.amazon.com/about-aws/whats-new/2018/06/introducing-amazon-ec2-m5d-instances/\r\n* https://aws.amazon.com/about-aws/whats-new/2018/05/introducing-amazon-ec2-c5d-instances/\r\n\r\nh3. Suggested Solution\r\nSupport these in Elastic Bamboo.\r\n\r\nh3. Notes\r\nC5 and M5 instance types are supported with NVME backed EBS volumes but you should be running Bamboo 6.5.0 for this compatibility due to [BAM\\-19794: Bamboo doesn't support NVMe block devices as EBS volumes (fixed in Bamboo 6.5.0)|https://jira.atlassian.com/browse/BAM-19794]\r\n\r\n",
      "summary": "Support C5d and M5d Instance types for Elastic Bamboo"
    }
  },
  {
    "key": "BAM-19959",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:55.000+0000",
      "created": "2018-06-25T12:04:02.000+0000",
      "description": "h3. Problem Definition\r\nIf there are a lot of repositories in Bitbucket Server, only 25 are listed initially and then 10 repositories are loaded each time it reach the end with the message \"Loading more results...\"\r\n\r\nh3. Suggested Solution\r\nMake it list more repositories\r\n",
      "summary": "Load more results when listing Bitbucket Server repositories"
    }
  },
  {
    "key": "BAM-19958",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:56.000+0000",
      "created": "2018-06-25T08:21:08.000+0000",
      "description": "h3. Problem Definition\r\nWhen the XML import fails due to the version of the XML export not being on the direct upgrade path to the installed version, the error message states:\r\n\r\n{quote}\r\n\"Import failed. Please contact Atlassian at https://support.atlassian.com/ and attach your export file.\r\nExport was produced by Bamboo build 51118. Import is not possible\"\r\n{quote}\r\n\r\nh3. Suggested Solution\r\nBe more specific about why the import was not possible. E.g. \"Import is not possible because version 5.11 is not on the direct upgrade path to 6.6. Please refer to our [upgrade guide|https://confluence.atlassian.com/bamboo/bamboo-upgrade-guide-720411366.html] for more detail on the correct upgrade path.\"\r\n\r\nRemove messaging around \"Please contact Atlassian at https://support.atlassian.com/ and attach your export file.\" under this scenario.\r\n \r\n\r\n",
      "summary": "Improve error messaging when XML import fails in Bamboo due to the export not being on the direct upgrade path"
    }
  },
  {
    "key": "BAM-19957",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-11T11:58:49.000+0000",
      "created": "2018-06-25T02:11:45.000+0000",
      "description": "h3. Summary\r\n\r\nThe web documentation of the REST API from 6.4.0 onwards does not include the /plan/\\{projectKey}-\\{buildKey}/label API.\r\nHowever, the functionality and rest endpoints still exist.\r\n\r\nh3. Expected Results\r\n\r\nDocumentation as per [Bamboo REST API documentation|https://docs.atlassian.com/atlassian-bamboo/REST/6.3.0/#d2e231]\r\n\r\nh3. Actual Results\r\n\r\nNo mention of the /plan/\\{projectKey}-\\{buildKey}/label API.\r\n\r\nh3. Workaround\r\n\r\nThe API can be used as per previous documentation.",
      "summary": "Rest/API/Plan/label missing from Bamboo 6.4.0 or later documentation"
    }
  },
  {
    "key": "BAM-19956",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-25T15:51:00.000+0000",
      "created": "2018-06-21T16:20:25.000+0000",
      "description": "h3. Problem Definition\r\nSince User and Group management is handled by REST APIs since Bamboo 6.2, for external groups whose names include \"special\" characters for URLs, such as {{#}} and {{?}}, the functionality fails to add the groups because the REST URL stops reading at those characters\r\n\r\nh3. Suggested Solution\r\nEncode the Group (and User) calls to use the URL encoding for these characters.\r\n||Character||Encoding||\r\n|{{#}}|{{%23}}|\r\n|{{?}}|{{%3F}}|\r\n|Space|{{%20}}|\r\n\r\nh3. Why this is important\r\nSome companies have corporate group naming schemes that require these characters.\r\n\r\nh3. Workaround \r\nUse {{cURL}} to send a REST API call\r\nExample: Adding a group called {{#testgroup}} with all Administration privileges:\r\n{noformat}\r\ncurl -XPUT \\\r\n-H'Content-Type: application/json' \\\r\n-u<user>:<pass> 'http://<bamboo-url>/rest/api/latest/permissions/global/groups/%23testgroup' \\\r\n-d '[\"ADMINISTRATION\",\"CREATE\",\"CREATEREPOSITORY\",\"READ\"]'\r\n{noformat}",
      "summary": "URL Encode \"User management\" API calls"
    }
  },
  {
    "key": "BAM-19955",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-24T10:22:54.000+0000",
      "created": "2018-06-21T13:35:07.000+0000",
      "description": "h3. Summary\r\nNon admin users can't view offline agents related to the Job\r\n\r\nh3. Steps to Reproduce\r\n# Login with a user that does not have Global Admin permission\r\n# Navigate to {{Plan Configuration >> Stages & jobs >> jobName >> Requirements tab}}\r\n# Click on the link \"# agents\" to view the related agents (URL http://localhost:8085/agent/viewAgents.action?planKey=<projectKey>-<planKey>-<jobKey>)\r\n# Click on the \"Offline remote agents tab\"\r\n\r\nh3. Expected Results\r\nCan view the offline agents\r\n\r\nh3. Actual Results\r\nCan't view the offline agents with the error message \"Sorry, you have insufficient permissions to view the page\"\r\n\r\nh3. Notes\r\nRelated to https://jira.atlassian.com/browse/BAM-17767",
      "summary": "Non admin can't view offline agents"
    }
  },
  {
    "key": "BAM-19954",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-09-14T13:18:22.000+0000",
      "created": "2018-06-21T10:45:10.000+0000",
      "description": "Need official Atlassian Bamboo Docker image for quick installation",
      "summary": "Create Bamboo Docker image in Docker Hub"
    }
  },
  {
    "key": "BAM-19953",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-06-21T09:44:09.000+0000",
      "description": "h3. Problem Definition\r\nNo documentation on how to use Docker image Bamboo Specs Runner https://hub.docker.com/r/atlassian/bamboo-specs-runner/\r\n\r\nh3. Suggested Solution\r\nThe description need to be updated",
      "summary": "Update Docker Bamboo Specs Runner documentation"
    }
  },
  {
    "key": "BAM-19952",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-03-01T11:17:34.000+0000",
      "created": "2018-06-20T20:51:43.000+0000",
      "description": "Using YAML specs allow assigning volumes, and passing other arguments to the Docker Runner for a build plan.\r\n\r\nh3. Workaround\r\n\r\nthis functionality is available in JAVA specs",
      "summary": "Attach volumes to Docker Runner with YAML specs"
    }
  },
  {
    "key": "BAM-19951",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-20T19:15:00.000+0000",
      "created": "2018-06-20T12:31:51.000+0000",
      "description": "h3. Request\r\nIn the same way Bamboo offers the option of preventing auto capability detection on agents, it would interesting having the option of enabling/disabling {{bamboo-capabilities.properties}} from being read.\r\n\r\nh3. Suggestion\r\n* global option, set in Bamboo server, preventing whatever Bamboo Remote Agent from making use of {color:blue}bamboo-capabilities.properties{color} and/or;\r\n* having a flag during the *Agent Authentication* process on {color:blue}Bamboo administration >> Agents >> Agent Authentication{color} tab in which you can select which agent(s) should have {color:blue}bamboo-capabilities.properties{color} read.\r\n",
      "summary": "Enable/Disable 'bamboo-capabilities.properties' from being read"
    }
  },
  {
    "key": "BAM-19950",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-06-19T23:09:50.000+0000",
      "description": "Provide REST API endpoint providing information related to Artifact(s) on:\r\n* JOB that has Artifact Definition set, informing if artifact is defined as shared or unshared (currently)\r\n* JOB that has published artifact, how many build results\r\n* JOB that is consuming published artifact, if from same plan (next Stage) or different Plan\r\n* JOB that is being consumed by Environment",
      "summary": "As an admin, I would like to find (un)shared artifacts and its references"
    }
  },
  {
    "key": "BAM-19949",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-06-19T12:24:15.000+0000",
      "description": "h3. Problem Definition\r\nCurrently there are multiple jobs in build queue. When the service is restarted, there is no way to preserve the existing builds that are in queue. These will be purged after a server restart.\r\n\r\nh3. Suggested Solution\r\nThere has to be a way to preserve all the builds that are in queue and resume after a server/bamboo restart.\r\n\r\nh3. Why this is important\r\n Critical server patches need a periodic server restart and if Bamboo clears all the builds that are in queue, it is not feasible to automate the restart.\r\n\r\nh3. Workaround \r\n* Pause Bamboo well ahead of the server restart\r\n* Wait for all the running builds to finish\r\n* As we have paused, none of the new builds will be queued\r\n* We will still miss the existing ones during a restart.",
      "summary": "Restart Bamboo without losing current server state"
    }
  },
  {
    "key": "BAM-19948",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-13T12:25:55.000+0000",
      "created": "2018-06-19T11:34:48.000+0000",
      "description": "h3. Summary\r\nAfter renaming the artifact in YAML, deployment environment couldn't deploy anymore and couldn't change the build plan\r\n\r\nh3. Steps to Reproduce\r\n# Use the following YAML for a build plan:\r\n{noformat}\r\n---\r\nproject:\r\n  key: SPECS\r\n  plan:\r\n    key: STASH\r\n    name: bamboo specs yaml\r\nstages:\r\n  - jobs:\r\n      - scripts:\r\n          - echo 'testing artifact'\r\n        artifacts:\r\n          - name: test files\r\n            path: test.txt\r\n...\r\n{noformat}\r\n# Run the build plan to create the artifact\r\n# Create a deployment project to use download this artifact\r\n# Create/deploy a release from this deployment project\r\n# Edit the YAML file to change the name \"test files\" to be \"test file\" (without \"s\")\r\n# Run the build to create artifact\r\n# Create/deploy a release from the related deployment project\r\n# Change the build plan in the deployment project\r\n\r\nh3. Expected Results\r\n# The release successfully created/deployed\r\n# Able to change the build plan\r\n\r\nh3. Actual Results\r\n# When creating/deploying the release, the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-03-06 16:08:24,137 ERROR [http-nio-8085-exec-14] [ExceptionMappingInterceptor] Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\norg.springframework.orm.hibernate5.HibernateSystemException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:296)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:362)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.getProjectItems(DeploymentProjectDaoImpl.java:206)\r\n\tat sun.reflect.GeneratedMethodAccessor1632.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy89.getProjectItems(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl$3.run(DeploymentVersionServiceImpl.java:454)\r\n...\r\nCaused by: org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:79)\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:733)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:4740)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1624)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1608)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1658)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1896)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.lambda$getProjectItems$10(DeploymentProjectDaoImpl.java:210)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n\r\n{noformat}\r\n# When changing the build plan in the deployment project, the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-03-06 16:09:28,037 ERROR [http-nio-8085-exec-13] [ExceptionMappingInterceptor] Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\norg.springframework.orm.hibernate5.HibernateSystemException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:296)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:362)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.getProjectItems(DeploymentProjectDaoImpl.java:206)\r\n\tat sun.reflect.GeneratedMethodAccessor1632.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy89.getProjectItems(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.projects.service.DeploymentProjectServiceImpl.validateArtifactTaskDefinitionOnPlanChange(DeploymentProjectServiceImpl.java:407)\r\n...\r\nCaused by: org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:79)\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:733)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:4740)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1624)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1608)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1658)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1896)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.lambda$getProjectItems$10(DeploymentProjectDaoImpl.java:210)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n{noformat}\r\n \r\nh3. Notes\r\nIn Deployment Project Summary, the Available artifact is showing \"No shared artifacts found for related plan\" even though the shared artifact exist.\r\n\r\nh3.Workaround\r\n# Create a *new* plan with an artifact definition. This plan needs no content other than an artifact definition and its sole purpose is to be removed and in the next step.\r\n# Remove this new plan created in step 1. This will trigger Bamboo to execute a DB cleanup and removes orphaned Artifact definition records which triggers the bug in affected plans.",
      "summary": "Deployment project item list not updated when plan artifact is added/modified/removed through specs"
    }
  },
  {
    "key": "BAM-19947",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:03.000+0000",
      "created": "2018-06-19T05:36:09.000+0000",
      "description": "h3. Summary\r\nConfigure dropdown for a failed test is displayed and empty when a user has only *build* permission (not admin) and quarantining is disabled on the Bamboo Server.\r\n\r\nh3. Steps to Reproduce\r\n# Disable Quarantining on the Bamboo Server at *Bamboo Administration >> Quarantine Settings*\r\n# Run a build that produces a failed test\r\n# Login as a user that *only* has *Build* permission to the plan with the failed test build.\r\n# View the build result and failed tests.\r\n\r\nh3. Expected Results\r\nAddress [BAM\\-15060: Create JIRA Issue from failed test is only available to Plan Admins|https://jira.atlassian.com/browse/BAM-15060] so that the dropdown has Create / Link to JIRA Issue rather than be an empty dropdown.\r\n\r\nh3. Actual Results\r\nThe configure cog icon is shown and clickable. Clicking on the button results in an empty dropdown.\r\n\r\nh3.Workaround\r\nNone",
      "summary": "Configure dropdown for a failed test is displayed and empty when a user only has build permission and quarantining is disabled on the Bamboo Server"
    }
  },
  {
    "key": "BAM-19946",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-18T16:12:27.000+0000",
      "created": "2018-06-18T14:47:36.000+0000",
      "description": "The [pre-post build command runner|https://marketplace.atlassian.com/apps/5581/pre-post-build-command-runner?hosting=server&tab=support] plugin for Bamboo is supported up to Bamboo 6.2.9. We need to test and update compatibility for Bamboo 6.latest as this is a supported plugin.",
      "summary": "Update support for pre-post build command runner"
    }
  },
  {
    "key": "BAM-19945",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-06T14:35:45.000+0000",
      "created": "2018-06-18T14:08:31.000+0000",
      "description": "h3. Summary\r\n\r\nOccasionally Elastic Agent creation calls fail with the error {{Invalid Base64 encoding of user data}}\r\n\r\nh3. Expected Results\r\nAll elastic Agent calls succeed with creation of a new Elastic Agent\r\n\r\nh3. Actual Results\r\nOccasionally the creation attempt will fail:\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\ncom.amazonaws.services.ec2.model.AmazonEC2Exception: Invalid BASE64 encoding of user data (Service: AmazonEC2; Status Code: 400; Error Code: InvalidParameterValue; Request ID: 24be1899-d089-48a5-b658-559d39a2034b)\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nWhen failed, a new elastic agent call is made and the new agent starts normally.\r\n\r\n\r\nh3. Notes\r\n\r\nit looks like when we use {{ava.util.Base64.getMimeEncoder().encodeToString(userData)}} to encode the {{userData}} for the instance (specifically the keypair generated per-instance) it is occasionally encoded with extra carriage returns which prevent proper decoding by AWS API.",
      "summary": "Elastic Bamboo - Invalid Base64 encoding of user data"
    }
  },
  {
    "key": "BAM-19944",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-03-01T10:19:17.000+0000",
      "created": "2018-06-18T13:13:53.000+0000",
      "description": "h3. Problem Definition\r\nWould like to use YAML plan to download artifact created by another plan\r\n\r\nh3. Suggested Solution\r\nNew Download Artifact task in YAML\r\n",
      "summary": "Artifact download task in YAML"
    }
  },
  {
    "key": "BAM-19943",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-17T13:41:56.000+0000",
      "created": "2018-06-18T12:38:37.000+0000",
      "description": "h3. Summary\r\n\r\nWhenever there are long operations that involve a large number of DB queries and when the Bamboo server is stops in the middle of the process, the database state gets corrupt because only some db queries are executed. The state before the long operation started is not restored.\r\n\r\nSteps to Reproduce\r\n\r\nA possible series of actions to reproduce is the following:\r\n # Take a plan that has multiple plan branches and stages.\r\n # Start juggling the order of stages very fast.\r\n # Stop Bamboo server and restart it.\r\n # Create a new stage in a plan.\r\n # Stop the service immediately and start again.\r\n # Delete one stage picked randomly.\r\n # Immediately stop and start the service.\r\n # Juggle the order of stages fast.\r\n # Repeat.\r\n\r\nh3. Expected Results\r\n\r\nThe database information is not corrupted if the Bamboo server is stopped during UI interaction with a user.\r\nh3. Actual Results\r\n\r\nThe database information becomes corrupt and may throw {{500 internal server error}} in Bamboo UI after a restart as a consequence of the corruption.\r\n",
      "summary": "Corrupted database entries after reordering builds"
    }
  },
  {
    "key": "BAM-19942",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:31.000+0000",
      "created": "2018-06-18T09:45:15.000+0000",
      "description": "!Screen Shot 2018-06-18 at 11.17.48 AM.png|width=660,height=285!\r\n\r\n\u00a0\r\n\r\nIt's a pain to add plans one by one when there is a lot of them. A way to pick multiple plans, either by making the suggestions dropdown multiselect or by allowing wild cards, something like \"my-plan-prefix-*\" would be very useful",
      "summary": "Feature request: ability to bulk add plans to a branch"
    }
  },
  {
    "key": "BAM-19941",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-18T09:59:10.000+0000",
      "created": "2018-06-15T21:44:33.000+0000",
      "description": "h3. Problem Definition\r\nAtlassian site https://confluence.atlassian.com/bamboo/stock-images-289277463.html, there are already pre-built Bamboo images specifically for use with Amazon's cloud, but there is no option to use the Google Cloud Platform\r\n\r\nh3. Suggested Solution\r\nProvide feature to spin on demand agents using the Google Cloud Platform similar to the one available for AWS.",
      "summary": "Provide support for spinning on-demand agents in Google Cloud Platform"
    }
  }
]