[
  {
    "key": "BAM-19836",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-19T22:22:24.000+0000",
      "description": "It should be possible to store Bamboo Specs at Mercurial repository and update plan configuration on code update",
      "summary": "Support Mercurial repository for Bamboo Specs"
    }
  },
  {
    "key": "BAM-19835",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-19T20:01:29.000+0000",
      "description": "h3. Problem Definition\r\nWhen multiple Artifact Handlers are configured, and one fails, the consuming build or deployment will fail.\r\nExamples of why this could occur include:\r\n* producing and consuming jobs running on different agents\r\n* the communication with S3 timing out\r\n\r\nh3. Suggested Solution\r\nIterate through the Handlers on failure.\r\n\r\nh3. Why this is important\r\nSome systems have multiple handlers configured globally, but the build or deployment fails after the first artifact download failure. \r\n\r\n\r\nh3. Workaround \r\nRemove the failing Handler from the handler configuration. Configuration can be set at the Global or Plan level.\r\nIf you'd like to use the Agent-local handler, this works well if all the jobs that produce or consume the same artifact run on one agent. This can be achieved using [agent dedication|https://confluence.atlassian.com/bamboo/dedicating-an-agent-629015108.html] or [capabilities and requirements|https://confluence.atlassian.com/bamboo/about-capabilities-and-requirements-289277171.html].",
      "summary": "Iterate through Artifact Handlers when retrieving artifacts"
    }
  },
  {
    "key": "BAM-19834",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-18T22:26:16.000+0000",
      "created": "2018-04-18T16:55:47.000+0000",
      "description": "h3. Summary\r\nWhen a user is granted Restricted Admin privileges, they are unable to view or access deployment environments.\r\n\r\nh3. Steps to Reproduce\r\n# Enable Restricted admin role\r\n# Grant Restricted admin to a user (eg: _restricted_admin_)\r\n# Assign _restricted_admin_ to a Group (separate from full admin user)\r\n# Give _restricted_admin_ group non-admin access to the build and deployment project\r\n# Do not explicitly set access for _restricted_admin_ or their group on the environment\r\n# Disable access for \"Anonymous users\" and \"Logged in users\"\r\n\r\nh3. Expected Results\r\nDeployment project and environment will be visible in the build result\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file:\r\n{code}\r\n2018-04-18 19:52:19,253 WARN [http-nio-8085-exec-18] [AuthorizationLoggerListener] Authorization failed: org.acegisecurity.AccessDeniedException: Authentication restricted_admin has NO permissions to the domain object com.atlassian.bamboo.deployments.environments.EnvironmentImpl@4ccc2d96; authenticated principal: org.acegisecurity.adapters.PrincipalAcegiUserToken@66e9e7d0: Username: id:1572865 name:restricted_admin fullName:Restricted Admin email:restricted_admin@example.com created:2018-04-18 17:10:41.118; Password: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER, ROLE_RESTRICTEDADMIN; secure object: ReflectiveMethodInvocation: public abstract com.atlassian.bamboo.deployments.environments.Environment com.atlassian.bamboo.deployments.environments.service.EnvironmentService.getEnvironment(long) throws org.acegisecurity.AccessDeniedException; target is of class [com.atlassian.bamboo.deployments.environments.service.EnvironmentServiceImpl]; configuration attributes: [ROLE_USER, ROLE_ANONYMOUS, AFTER_ACL_READ]\r\n{code}\r\n \r\n\r\nh3.Workaround\r\nRemove Restricted Admin access",
      "summary": "Restricted Admin role doesn't have access to Deployment Environments"
    }
  },
  {
    "key": "BAM-19833",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-24T11:37:41.000+0000",
      "created": "2018-04-18T14:35:56.000+0000",
      "description": "h6.Problem Description:\r\nNull data in column \"COMMIT_COMMENT_CLOB\" of the table DEPLOYMENT_VERSION_COMMIT results into export failure\r\n\r\nh6.Logs:\r\n{noformat}\r\n2018-04-18 22:28:40,136 INFO [http-nio-8335-exec-17] [XmlMigrator] Writing xml to file: /Users/robhit_saxena/Atlassian/Bamboo-Instances/Bamboo-Instances-Homes/BAM-6.4.0/exports/export_atlassianbamboo_60404_20180419.zip/db-export/deploymentVersionCommits.xml\r\n2018-04-18 22:28:40,136 INFO [http-nio-8335-exec-17] [XmlMigrator] Exporting with: com.atlassian.bamboo.deployments.versions.migration.stream.commits.DeploymentVersionVcsCommitMapper\r\n2018-04-18 22:28:40,165 ERROR [http-nio-8335-exec-17] [MapperUtil] Could not export com.atlassian.bamboo.deployments.versions.persistence.commits.MutableDeploymentVersionVcsCommitImpl@b8572d9[date=2018-03-19 21:36:32.0,revision=ab6ee9be0b50cd1b4c473700997ba51b62720ce2,author=com.atlassian.bamboo.author.AuthorImpl@1f,comment=<null>,revisionKey=com.atlassian.bamboo.deployments.versions.persistence.commits.MutableDeploymentVersionVcsChangesetImpl@3f8001]\r\njava.lang.NullPointerException\r\n\tat com.ctc.wstx.sw.BaseStreamWriter.writeCharacters(BaseStreamWriter.java:453)\r\n\tat org.codehaus.staxmate.out.SMOutputContext.writeCharacters(SMOutputContext.java:479)\r\n\tat org.codehaus.staxmate.out.SMOutputContainer.addCharacters(SMOutputContainer.java:171)\r\n\tat com.atlassian.bamboo.migration.SMOutputElementAppender.append(SMOutputElementAppender.java:37)\r\n\tat com.atlassian.bamboo.deployments.versions.migration.stream.commits.DeploymentVersionVcsCommitMapper.exportProperties(DeploymentVersionVcsCommitMapper.java:86)\r\n\tat com.atlassian.bamboo.deployments.versions.migration.stream.commits.DeploymentVersionVcsCommitMapper.exportProperties(DeploymentVersionVcsCommitMapper.java:27)\r\n\tat com.atlassian.bamboo.migration.BambooStAXMappingHelperAbstractImpl.exportXml(BambooStAXMappingHelperAbstractImpl.java:103)\r\n\tat com.atlassian.bamboo.migration.BambooStAXMappingHelperAbstractImpl.exportXml(BambooStAXMappingHelperAbstractImpl.java:87)\r\n\tat com.atlassian.bamboo.migration.MapperUtil$1.accept(MapperUtil.java:237)\r\n\tat com.atlassian.bamboo.deployments.versions.persistence.commits.DeploymentVersionVcsCommitDaoImpl$3.nextScrollableResult(DeploymentVersionVcsCommitDaoImpl.java:76)\r\n\tat com.atlassian.bamboo.hibernate.callbacks.ScrollHibernateCallback.doInHibernate(ScrollHibernateCallback.java:45)\r\n\tat com.atlassian.bamboo.hibernate.callbacks.ScrollHibernateCallback.doInHibernate(ScrollHibernateCallback.java:12)\r\n{noformat}\r\n\r\n{noformat}\r\n2018-04-18 22:28:40,332 ERROR [http-nio-8335-exec-17] [XmlMigrator] Problems occurred while exporting\r\ncom.atlassian.bamboo.migration.stream.MapperExportException: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.migration.MapperUtil$1.accept(MapperUtil.java:244)\r\n\tat com.atlassian.bamboo.deployments.versions.persistence.commits.DeploymentVersionVcsCommitDaoImpl$3.nextScrollableResult(DeploymentVersionVcsCommitDaoImpl.java:76)\r\n\tat com.atlassian.bamboo.hibernate.callbacks.ScrollHibernateCallback.doInHibernate(ScrollHibernateCallback.java:45)\r\n\tat com.atlassian.bamboo.hibernate.callbacks.ScrollHibernateCallback.doInHibernate(ScrollHibernateCallback.java:12)\r\n\r\n{noformat}\r\n\r\nh6.Steps to reproduce:\r\n# Update the column to nullify it:\r\n{code}\r\nupdate DEPLOYMENT_VERSION_COMMIT\r\nset COMMIT_COMMENT_CLOB = null\r\nwhere DEPLOYMENT_VERSION_COMMIT_ID = <DEPLOYMENT_VERSION_COMMIT_ID>\r\n{code}\r\n# Try to create the export zip and it will fail.\r\n\r\nh6.Expected Result:\r\nExport should happen successfully.\r\n\r\nh6.Actual Result:\r\nExport is failing\r\n\r\nh6.Suggested Solution:\r\nSince the export is based on the validation of this column we should wither handle the null value in the backend of add a \"not null\" constraint to the column.\r\n\r\nh6.Workaround:\r\nUpdate the bull rows with dummy data. \r\nExample:\r\n{code}\r\nupdate DEPLOYMENT_VERSION_COMMIT\r\nset COMMIT_COMMENT_CLOB = 'dummy data'\r\nwhere COMMIT_COMMENT_CLOB is null;\r\n{code}\r\n\r\n\r\n",
      "summary": "Null data in column \"COMMIT_COMMENT_CLOB\" of the table DEPLOYMENT_VERSION_COMMIT results into export failure"
    }
  },
  {
    "key": "BAM-19832",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-16T09:45:56.000+0000",
      "description": "h3. Summary\r\nWe need to have a way to export a plan with history, commits, logs, artifacts, and everything related to it.\r\nAs for today, we can \r\n- Do you full export of the Bamboo instance.\r\n- Export a plan configuration using Specs.\r\n\r\nh3. Accepted Solution 1\r\nHave an *Export* option for plans.\r\n\r\nh3. Accepted Solution 2\r\nBe able to export a plan using Specs including the history of it. Then move artifacts manually.\r\n\r\nh3. Accepted Solution 3\r\nBe able to export a plan using Specs including the history of it, using xml or resource files with the plan information (commits, build history, etc). Then move artifacts manually.",
      "summary": "Have the possibility to export plans with history and artifacts"
    }
  },
  {
    "key": "BAM-19830",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-13T14:48:49.000+0000",
      "created": "2018-04-12T09:32:52.000+0000",
      "description": "It's not a very useful behaviour considering you can set triggers to manual or disable automatic detection of branches completely",
      "summary": "If 'master' plan is disabled, automatically created branches are disabled too."
    }
  },
  {
    "key": "BAM-19829",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-12T09:17:12.000+0000",
      "description": "Have the possibility to create branches from the Plan main page\r\n\r\nh3. Summary\r\nAs for now, when a user (with enough rights) want to manually create a branch, they have to go to the Plan configuration section, tab \"branches\". It would make life easier for many users to have the option to do it from the main Plan screen, saving time (and clicks).\r\n\r\nh3. Accepted Solution\r\nThe option exists in the Branch tab in the plan configuration:\r\n !Branches_Tab.png|thumbnail! \r\n\r\nand customers would like to have this same option here:\r\n !Plan_section.png|thumbnail! \r\n",
      "summary": "Have the possibility to create branches from the Plan main page"
    }
  },
  {
    "key": "BAM-19828",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:09:58.000+0000",
      "created": "2018-04-11T20:13:25.000+0000",
      "description": "Below is the official document for Atlassian Bamboo serving this topic:\r\n [https://confluence.atlassian.com/bamboo/restoring-passwords-to-recover-admin-users-289277354.html]\r\n\r\nIt provides description for internal DB HSQLDB only. As Bamboo versions higher 6.3 use H2 as internal DB, this part is not covered by official documentation (see above).\r\n\r\nThe below Atlassian article shows how to deal with an internal H2 DB, but based on Jira.\r\n [https://confluence.atlassian.com/jirakb/accessing-jira-s-h2-embedded-database-776818136.html?_ga=2.238456768.172662191.1523279672-1311615398.1523044491]\r\n\r\nI t\"translated\" the Jira one for Bamboo usage and linked it with the one of the first link so to support a customer inquiry with the need of admin password reset.\r\n\r\nPlease add an appropriate H2 part to the existing official Bamboo documentation.\r\nThanks a lot.\r\nh4. Workaround\r\n\r\nhttps://confluence.atlassian.com/display/BAMKB/Accessing+Bamboo%27s+H2+embedded+database\r\n\r\n\u00a0",
      "summary": "Atlassian docu \"Restoring passwords to recover admin users\" needs update for internal H2 DB handling"
    }
  },
  {
    "key": "BAM-19827",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-11T06:57:27.000+0000",
      "description": "h3. Summary\r\nDocker runner build will fail if the image used specifies a non-root user for the USER in the Dockerfile\r\n\r\nh3. Environment\r\n{code}\r\nDocker version 17.12.0-ce, build c97c6d6\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\n# Run a docker runner job using the image: [instructure/core:latest|https://hub.docker.com/r/instructure/core]\r\n\r\nh3. Expected Results\r\nBuild succeeds.\r\n\r\nh3. Actual Results\r\nOn versions pre-6.7.0 the below error is thrown in the build log:\r\n{noformat}\r\ncommand\t11-Apr-2018 14:31:49\tBeginning to execute external process for build 'PROJ - PLAN - JOB #43 (PROJ-PLAN-JOB1-43)'\\n ... running command line: \\n/usr/bin/docker exec b54d80ca-e543-4e16-b0e2-613d8a8eb501 /tmp/intialiseContainer.sh\\n ... in: /var/bamboo-home-new/xml-data/build-dir/92963244/PROJ-PLAN-JOB1\\n\r\nerror\t11-Apr-2018 14:31:49\t/bin/sh: 0: Can't open /tmp/intialiseContainer.sh\r\nerror\t11-Apr-2018 14:31:49\tFailed to start docker container b54d80ca-e543-4e16-b0e2-613d8a8eb501\r\nerror\t11-Apr-2018 14:31:49\tcom.atlassian.bamboo.docker.DockerException: Error running Docker run command\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.docker.DockerContainerServiceImpl.run(DockerContainerServiceImpl.java:118)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.v2.build.agent.docker.DockerContainerControllerImpl.startContainerIfRequired(DockerContainerControllerImpl.java:78)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:173)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:122)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:117)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\nerror\t11-Apr-2018 14:31:49\t\tat java.lang.Thread.run(Thread.java:748)\r\nerror\t11-Apr-2018 14:31:49\tCaused by: com.atlassian.utils.process.ProcessException: Error executing /usr/bin/docker exec b54d80ca-e543-4e16-b0e2-613d8a8eb501 /tmp/intialiseContainer.sh\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.docker.DockerContainerServiceImpl.execute(DockerContainerServiceImpl.java:252)\r\nerror\t11-Apr-2018 14:31:49\t\tat com.atlassian.bamboo.docker.DockerContainerServiceImpl.run(DockerContainerServiceImpl.java:115)\r\nerror\t11-Apr-2018 14:31:49\t\t... 11 more\r\n{noformat}\r\n\r\nAfter 6.7.0, it will manifest generally as a permission issue on any of the script (.sh) files Bamboo attempts to execute within the container.\r\n\r\nh3.Workaround\r\n* None, need to use an image that where {{docker exec}} commands are performed as root.",
      "summary": "Docker Runner build will fail if the image used specifies a non-root user for the USER in the Dockerfile"
    }
  },
  {
    "key": "BAM-19826",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-19T11:52:15.000+0000",
      "created": "2018-04-10T14:56:53.000+0000",
      "description": "h3. Summary\r\nDocker container fail to start for multiple Jobs in a single Stage when using all agents in the same machine\r\n\r\nh3. Steps to Reproduce\r\n# Create two Jobs in a single Stage\r\n# Create two local agents, or two remote agents in a single machine\r\n# Configure Docker Container for the Jobs\r\n# Run the plan\r\n\r\nh3. Expected Results\r\nIt will run successfully\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-04-10 23:03:10,877 ERROR [23-BAM::second::Agent:pool-39-thread-1] [BuildAgentControllerImpl] Error occurred while executing the build for bamboo - git - Default Job #5 (BAM-GIT-JOB1-5)\r\ncom.atlassian.bamboo.docker.DockerException: Error running Docker run command\r\n\tat com.atlassian.bamboo.docker.DockerContainerServiceImpl.run(DockerContainerServiceImpl.java:118)\r\n\tat com.atlassian.bamboo.v2.build.agent.docker.DockerContainerControllerImpl.startContainerIfRequired(DockerContainerControllerImpl.java:78)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:173)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:122)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:117)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.atlassian.utils.process.ProcessException: Error executing /usr/local/bin/docker run --volume /Users/klfoong/Desktop/bamboo/atlassian-bamboo-6.4.0/home/xml-data/build-dir/BAM-GIT-JOB1:/Users/klfoong/Desktop/bamboo/atlassian-bamboo-6.4.0/home/xml-data/build-dir/BAM-GIT-JOB1 --volume /Users/klfoong/Desktop/ServiceRocket/bamboo/atlassian-bamboo-6.4.0/home/temp:/Users/klfoong/Desktop/bamboo/atlassian-bamboo-6.4.0/home/temp --detach --name e523ad4e-0e48-409e-ab08-385e658e3f65 --net=host customized-agent:6.2.2 tail -f /dev/null\r\n\tat com.atlassian.bamboo.docker.DockerContainerServiceImpl.execute(DockerContainerServiceImpl.java:252)\r\n\tat com.atlassian.bamboo.docker.DockerContainerServiceImpl.run(DockerContainerServiceImpl.java:106)\r\n\t... 11 more\r\n{noformat}\r\nThe build log have the following exception:\r\n{noformat}\r\n10-Apr-2018 23:03:10\t/usr/local/bin/docker: Error response from daemon: Conflict. The container name \"/e523ad4e-0e48-409e-ab08-385e658e3f65\" is already in use by container \"25868ccec340f6c2465885dc8499b31cf508b8ce8e1f4d3bc809afa3ae18dc6b\". You have to remove (or rename) that container to be able to reuse that name.\r\n10-Apr-2018 23:03:10\tSee '/usr/local/bin/docker run --help'.\r\n10-Apr-2018 23:03:10\tFailed to start docker container e523ad4e-0e48-409e-ab08-385e658e3f65\r\n10-Apr-2018 23:03:10\tcom.atlassian.bamboo.docker.DockerException: Error running Docker run command\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.docker.DockerContainerServiceImpl.run(DockerContainerServiceImpl.java:118)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.v2.build.agent.docker.DockerContainerControllerImpl.startContainerIfRequired(DockerContainerControllerImpl.java:78)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:173)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:122)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:117)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n10-Apr-2018 23:03:10\t        at com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n10-Apr-2018 23:03:10\t        at java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n \r\nh3.Workaround\r\nDo not use local agents or install remote agents in different machines",
      "summary": "Docker container fail to start for multiple Jobs in a single Stage"
    }
  },
  {
    "key": "BAM-19825",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-10T09:05:54.000+0000",
      "description": "h3. Problem Definition\r\nOnly one of the following options can be chosen for automatic branch creation:\r\n* When pull request is created\r\n* When new branch in repository is created and matches expression\r\n\r\nh3. Suggested Solution\r\nIt would be great to have the option \"When pull request is created and branch matches expression\" for both source and target branch.",
      "summary": "Branch regular expression filter for automatic PR detection"
    }
  },
  {
    "key": "BAM-19824",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-05-07T10:18:18.000+0000",
      "created": "2018-04-09T04:06:43.000+0000",
      "description": "The version of the bundled atlassian-http library was vulnerable to content-spoofing. See https://jira.atlassian.com/browse/HTTP-3 for more details.",
      "summary": "The bundled atlassian-http library had a content spoofing issue - CVE-2017-18103"
    }
  },
  {
    "key": "BAM-19819",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-09T00:44:28.000+0000",
      "description": "h3. Problem Definition\r\nThe *Bamboo Administration > Groups > Edit* UI needs some usability improvements. The current list box for selecting group members makes it is very easy to accidentally remove access to that group from a large amount of members.\r\n\r\nh3. Suggested Solution\r\nUI elements similar to Bitbucket group edit / Bamboo Global Permissions UI where adding users and removing users are separate actions.",
      "summary": "Improve edit group UI"
    }
  },
  {
    "key": "BAM-19818",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-06T23:03:29.000+0000",
      "description": "h3. Problem Definition\r\nCurrently a user can only have one *Favorite plan* board\r\n\r\nh3. Suggested Solution\r\nAllow the creation of multiple *Favorite plan* boards per user\r\n\r\nh4. Why this is important \r\nUser would be able to categorize and build board for better monitoring",
      "summary": "Allow multiple Favorite Plan boards for build plans"
    }
  },
  {
    "key": "BAM-19817",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-17T13:37:13.000+0000",
      "created": "2018-04-06T20:20:10.000+0000",
      "description": "h3. Summary\r\nEnabling the HBK might cause undesired behavior depending on the threshould configured to trigger this feature.\r\nThe feature is now present in Bamboo 6.4.0+ and enabled by default. This can be disruptive causing an unexpected behavior.\r\n\r\nh3. Steps to Reproduce\r\nUpgrade a Bamboo version from before 6.4.0 to 6.4.0 or later.\r\n\r\nh3. Expected Results\r\nBamboo behaves as it was before the upgrade\r\n\r\nh3. Actual Results\r\nBuilds working as expected, become unstable after a Bamboo upgrade, being sometimes killed by the *Force stop hanging builds and clean up sub-processes* feature.\r\n\r\nh3.Workaround\r\nDisable the *Force stop hanging builds and clean up sub-processes* at *Cog icon >> Overview >> Build Monitoring* page\r\n\r\n",
      "summary": "HBK feature should not be enabled by default for customers upgrading Bamboo"
    }
  },
  {
    "key": "BAM-19816",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-12T11:01:47.000+0000",
      "created": "2018-04-06T18:52:19.000+0000",
      "description": "h3. Problem\r\n\r\nCurrently, there is no endpoint providing {color:#0000ff}testId{color}, making it difficult to consume *internal endpoint*:\r\n * /plan/\\{projectKey}-\\{buildKey}/test/\\{testId}/quarantine [POST]\r\n\r\n||\u00a0 (i) \u00a0|Please, notice endpoint about is not listed in [https://docs.atlassian.com/atlassian-bamboo/REST/6.4.1/]|\r\nh3. Workaround\r\n\r\nIt is required to review {color:#0000ff}testId{color} from Bamboo's UI or database.\r\n The following query can be used for this purpose:\r\n{code:sql}\r\nSELECT full_key,\r\n       test_case_id as testId,\r\n       test_class_name,\r\n       test_case_name,\r\n       quarantining_username,\r\n       quarantine_date\r\nFROM build b\r\nJOIN test_class tcl ON tcl.plan_id=b.build_id\r\nJOIN test_case tc   ON tc.test_class_id=tcl.test_class_id\r\nWHERE b.full_key like 'PROJ-PLAN%'{code}\r\n\u26a0\ufe0fThis query was designed for Postgres DB and might needs adjustments for a different DB type.",
      "summary": "(REST) No endpoint available providing testId"
    }
  },
  {
    "key": "BAM-19815",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-10-26T11:50:45.000+0000",
      "created": "2018-04-06T17:10:02.000+0000",
      "description": "h3. Problem Definition\r\nAfter the introduction of new Project permission in Bamboo 6.2, all users having no project permission can see all the projects when they click on *Projects* section in the header.\r\n\r\nThis *Projects* page did not exist until we have introduced new Project permission in Bamboo 6.2 and thus it use to be not necessary to have \"View project permission\" as we can see a project next to the respective set of plans only if we have permission to a plan from that project. Also, these projects were not shown anywhere and thus it wasn't a problem.\r\n\r\nh3. Why this is important\r\nIf a company wants to restrict specific group of users from seeing some internal projects, it is currently not possible. Anyone with read access will be able to view the names and keys to all the projects once they click on *Projects* section.\r\n\r\nh3. Suggested Solution\r\nIntroduce a new set of permissions to restrict users from listing all the projects and list only the project for which they have access to.\r\n\r\nh3. Workaround \r\nThere is no workaround for this.",
      "summary": "Introduce new permissions to restrict users from viewing only the Projects they have access to"
    }
  },
  {
    "key": "BAM-19814",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:03.000+0000",
      "created": "2018-04-06T14:58:55.000+0000",
      "description": "Bamboo makes use of {{log4j.properties}} to output logs to {color:blue}<bamboo-install>/logs/catalina.out{color} and {color:blue}<bamboo-home>/logs/atlassian-bamboo.log{color}, making it configurable. However, the option is not available in build logs as the output format is hard-coded:\r\n{code:java|title=com.atlassian.bamboo.build.LogEntryDateFormats.java:13}\r\npublic static String DATE_FORMAT_STRING = \"dd-MMM-yyyy HH:mm:ss\";\r\n{code}\r\n\r\nAs a suggestion, make this property configurable.",
      "summary": "Build logs timestamp should be configurable"
    }
  },
  {
    "key": "BAM-19813",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-06-08T10:57:08.000+0000",
      "created": "2018-04-06T07:09:29.000+0000",
      "description": "h3. Summary\r\nDocker runner builds will fail when the build has a command-task and the executable is not listed as a capability on the remote or elastic agent running the build.\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan with a Command Task:\r\n#* Add new executable:\r\n#* Executable label: Bash\r\n#* Path: {{/bin/bash}}\r\n#* Argument: {{-c 'echo hello!'}}\r\n# Job Configuration >> Docker >> Docker container >> {{ubuntu:xenial}}\r\n# Dedicate the plan to a remote agent (that does not have the capability 'Bash') with Docker\r\n# Run the build\r\n\r\nh3. Expected Results\r\nBuild succeeds \r\n\r\nh3. Actual Results\r\nThe below error is shown in the build log\r\n\r\nh6. Elastic Agent:\r\n{noformat}\r\nsimple\t12-Mar-2018 12:39:03\tStarting task 'Echo hello' of type 'com.atlassian.bamboo.plugins.scripttask:task.builder.command'\r\ncommand\t12-Mar-2018 12:39:03\tBeginning to execute external process for build 'PROJ - PLAN - TEST - Build #11 (PLAN-BUILD-KEY)'\\n ... running command line: \\n/tmp/runInDocker5637298090231688207.sh  -c echo hello!\\n ... in: /tmp\\n\r\nerror\t12-Mar-2018 12:39:03\tError occurred while running Task 'Command' of type com.atlassian.bamboo.plugins.scripttask:task.builder.command.\r\nerror\t12-Mar-2018 12:39:03\tcom.atlassian.bamboo.task.TaskException: Failed to execute task\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:63)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:37)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:285)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:224)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:285)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:112)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:71)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.executeBuildPhase(DefaultBuildAgent.java:203)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:175)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:122)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:117)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\nerror\t12-Mar-2018 12:39:03\t\tat java.lang.Thread.run(Thread.java:748)\r\nerror\t12-Mar-2018 12:39:03\tCaused by: java.lang.NullPointerException\r\nerror\t12-Mar-2018 12:39:03\t\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.utils.process.ExternalProcessImpl.createDefaultProcess(ExternalProcessImpl.java:377)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.utils.process.ExternalProcessImpl.createProcess(ExternalProcessImpl.java:385)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.utils.process.ExternalProcessImpl.start(ExternalProcessImpl.java:339)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.process.ProcessServiceImpl.executeExternalProcess(ProcessServiceImpl.java:192)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.process.ProcessServiceImpl.executeExternalProcess(ProcessServiceImpl.java:206)\r\nerror\t12-Mar-2018 12:39:03\t\tat com.atlassian.bamboo.plugins.shell.task.AbstractShellBuildTask.execute(AbstractShellBuildTask.java:46)\r\nerror\t12-Mar-2018 12:39:03\t\t... 17 more\r\n{noformat}\r\n\r\nh6. Remote Agent:\r\n{noformat}\r\nsimple\t06-Apr-2018 17:06:57\tStarting task 'Command' of type 'com.atlassian.bamboo.plugins.scripttask:task.builder.command'\r\ncommand\t06-Apr-2018 17:06:57\tBeginning to execute external process for build 'PLAN - COMMAND - Default Job #28 (PLAN-COMM-JOB1-28)'\\n ... running command line: \\n/var/folders/3r/s8xj50_127j8r1t0qbd7x_fmg353p4/T/copyAndExec1397308028266437928.sh\\n ... in: /var/folders/3r/s8xj50_127j8r1t0qbd7x_fmg353p4/T\\n\r\nerror\t06-Apr-2018 17:06:58\t/tmp/runInDocker9035046863930505458.sh: 4: /tmp/runInDocker9035046863930505458.sh: null: not found\r\nsimple\t06-Apr-2018 17:06:58\tFailing task since return code of [/var/folders/3r/s8xj50_127j8r1t0qbd7x_fmg353p4/T/copyAndExec1397308028266437928.sh] was 127 while expected 0\r\nsimple\t06-Apr-2018 17:06:58\tFinished task 'Command' with result: Failed\r\n{noformat}\r\n \r\nh3.Workaround\r\nAdd a matching Command executable capability to the Agent at:\r\n* *Bamboo Administration >> Agents >> agent >> Add capability* (for Remote Agent)\r\n* *Bamboo Administration >> Image Configurations >> image >> Add capability* (for Elastic Agent)",
      "summary": "Docker runner build will fail when command task is used and the executable is not present on the agent as a capability"
    }
  },
  {
    "key": "BAM-19812",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-05T21:15:52.000+0000",
      "description": "According to the official [Docker Runner|https://confluence.atlassian.com/bamboo/docker-runner-946020207.html] documentation, bamboo only provides support for Docker for Mac, and Docker for Ubuntu.\r\n\r\nAs users of this feature, We want to be able to use it on other operations systems like RHEL and CentOS which are widely used in enterprise environments.\r\n",
      "summary": "Expand Docker Runner OS compatibility"
    }
  },
  {
    "key": "BAM-19811",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-05-10T11:42:14.000+0000",
      "created": "2018-04-05T20:04:49.000+0000",
      "description": "h3. Summary\r\n\r\nAfter creating a repository definition for a Plan, and viewing the plan's specs configuration.  Password for the repository stored as plain text.\r\n\r\nPasswords should not be stored in plain text\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Create a Build Plan\r\n# Create a Repository as part of this Plan\r\n# \"View as Specs\"\r\n{noformat}\r\n.planRepositories(new AnyVcsRepository(new AtlassianModule(\"com.atlassian.bamboo.plugin.system.repository:svnv2\"))\r\n                    .name(\"svnrepository\")\r\n                    .oid(new BambooOid(\"19zo7ifeva2v6\"))\r\n                    .serverConfiguration(new MapBuilder()\r\n                            .put(\"repository.svn.useExternals\", false)\r\n                            .put(\"repository.svn.tag.create.autodetectPath\", true)\r\n                            .put(\"repository.svn.authType\", \"password\")\r\n                            .put(\"repository.svn.username\", \"myusername\")\r\n                            .put(\"repository.svn.branch.create.autodetectPath\", true)\r\n                            .put(\"repository.svn.userPassword\", \"mypassword\")\r\n                            .put(\"repository.svn.useExport\", false)\r\n                            .put(\"repository.svn.repositoryRoot\", \"http://svn.collab.net/repos/svn\")\r\n                            .build())\r\n                    .branchConfiguration(new MapBuilder()\r\n                            .put(\"repository.svn.branch.displayName\", \"svn\")\r\n                            .put(\"repository.svn.branch.path\", \"\")\r\n                            .build())\r\n{noformat}\r\n\r\nh3. Expected Results\r\n\r\nExpect password to be obfuscated, or encrypted.\r\n\r\nh3. Actual Results\r\n{{.put(\"repository.svn.userPassword\", \"mypassword\")}}\r\n \r\n\r\nh3.Workaround\r\nOnly use SSH authentication for repositories",
      "summary": "Repository password stored in 'Specs' code stored in plain-text"
    }
  },
  {
    "key": "BAM-19810",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-09-17T13:26:39.000+0000",
      "created": "2018-04-05T07:43:02.000+0000",
      "description": "h2. HTR\r\n # Have a NUnit test suite with test case which ends with a dot. (e.g)\r\n{code:java}\r\n<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\r\n<test-results name=\"C:\\devel\\test.dll\" total=\"1\" failures=\"1\" not-run=\"0\"              date=\"2007-04-30\" time=\"11:09:30\">\r\n    <environment nunit-version=\"2.2.8.0\" clr-version=\"2.0.50727.42\"\r\n                 os-version=\"Microsoft Windows NT 5.1.2600 Service Pack 2\" platform=\"Win32NT\" cwd=\"C:\\devel\\\" \r\nmachine-name=\"SuperMachine\" user=\"admin\" user-domain=\"UserDomain\"/>\r\n    <culture-info current-culture=\"en-AU\" current-uiculture=\"en-US\"/>\r\n    <test-suite executed=\"True\" name=\"Test Suite with dot on the end.\" result=\"Failure\" success=\"False\" time=\"0.21\">\r\n        <results>\r\n            <test-case\r\n                    name=\"Im ended with dot.\"\r\n                    executed=\"True\" result=\"Failure\" success=\"False\" time=\"0.21\">\r\n                <failure>\r\n                    <message><![CDATA[expected: <150> but was: <200>]]></message>\r\n                    <stack-trace>WHAT A TERIBLE FAILURE</stack-trace>\r\n                </failure>\r\n            </test-case>\r\n        </results>\r\n    </test-suite>\r\n</test-results>\r\n{code}\r\n\r\n # Setup NUnit Test parser to parse this report\r\n\r\nh2. Expected behavior\r\n\r\nNUnit parses report properly and we Bamboo recognize tests accordingly.\r\nh2. Actual behavior\r\n\r\nNUnit Parser tries to get test name out of test-case by doing a substring of last '.'. {{fqTestName.substring(fqNameWithoutParams.lastIndexOf(\".\") + 1)}}. As an effect _test method name_ is an empty string.\r\n\r\nIt doesn't impact a task result (test failures are detected and build is failed) but it does impact the UI and a way how we present failed tests. Empty test methods are filtered out.\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n\r\n!screenshot-1.png|thumbnail!\r\n\r\n*Although* logs state\r\n{quote}simple 05-Apr-2018 09:46:14 Failing task since 1 failing test cases were found.\r\n{quote}\r\n\r\nh2. BAM-17883 summary\r\n{quote}\r\nSummary\r\nTest methods that contain a '.' in their arguments get parsed incorrectly by Bamboo when displaying results and in the REST APIs.\r\n\r\nExpected Results\r\nThe class/method split last '.' before the arguments.\r\n\r\nActual Results\r\nThe class/method split is on the last '.'\r\n\r\nWorkaround\r\nThere is none at this time.\r\n{quote}",
      "summary": "NUnit Test Parser doesn't recognize test name properly when it ends with dot"
    }
  },
  {
    "key": "BAM-19809",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-04T23:17:36.000+0000",
      "description": "h3. Problem Definition\r\nWe would like to specify an absolute path where we want the code to be checked out\r\nh3. Suggested Solution\r\nCurrently a message shows that absolute paths are not allowed\r\nh4. Why this is important \r\nNeed to be able to specify location\r\nh3. Workaround \r\nYou can specify a relative path exiting from the current location with *../../../../* for example",
      "summary": "Allow absolute path for code checkout "
    }
  },
  {
    "key": "BAM-19808",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:23:23.000+0000",
      "created": "2018-04-04T18:19:00.000+0000",
      "description": "Currently it's not possible to create/specify plan branches for existing branches (in the repo) using Specs. From the [Bamboo Java Specs Reference|https://docs.atlassian.com/bamboo-specs-docs/6.4.0/specs-java.html#manual-branch-management] documentation:\r\n\r\n{quote}\r\nBamboo Specs does not have an option to manually specify plan branches at the moment. You would have to use Bamboo UI to manually create branches after plan is created.\r\n{quote}\r\n\r\nThis has to be done from the Bamboo UI. It would be nice to have the ability to manually specify plan branches using Specs.",
      "summary": "Manually create/specify plan branches using Specs"
    }
  },
  {
    "key": "BAM-19807",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-04T12:30:12.000+0000",
      "description": "h6.Problem Description:\r\nBitbucket pull request update event adds an entry to the table \"VCS_PULL_REQUEST\" which results in a unique constraint violation issue when the pull request opened event is received at the Bamboo side.\r\n\r\nThis generally happens when the \"pull request update event\" is received before the \"pull request opened event\"\r\n\r\nBelow logs for the same:\r\n{noformat}\r\n2018-03-26 08:28:44,817 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-3] [PullRequestAwareEventListener] Received pull request updated event [ clientv2, from: refs/heads/bugfix/bugfix-feature-branch, to: refs/heads/feature/ms-change]\r\n\r\n2018-03-26 08:28:44,823 INFO [http-nio-8085-exec-10] [AuthenticatorImpl] Authenticated app 'Stash:1653053518' as user 'null' successfully\r\n\r\n2018-03-26 08:28:44,823 INFO [http-nio-8085-exec-10] [AccessLogFilter] 10.2.10.44 POST http://bamboo:8085/rest/remote-event-consumer/latest/events/stash-pullrequest-opened-remote-event 88337kb\r\n\r\n2018-03-26 08:28:44,824 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [PullRequestAwareEventListener] Received pull request opened event [ clientv2, from: refs/heads/bugfix/bugfix-feature-branch, to: refs/heads/feature/ms-change]\r\n\r\n2018-03-26 08:28:44,831 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [AbstractBatchImpl] HHH000010: On release of batch it still contained JDBC statements\r\n\r\n2018-03-26 08:28:44,832 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [BatchingBatch] HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 insert into VCS_PULL_REQUEST (VCS_PULL_REQUEST_KEY, TARGET_REPOSITORY_ID, TARGET, SOURCE_REPOSITORY_ID, SOURCE, OPEN_STATUS, CREATED_DATE, UPDATED_DATE, VCS_PULL_REQUEST_ID) values ('1059', 52690980, 'feature/mvvmcross-5.5.2-upgrade', 52690980, 'bugfix/bugfix-feature-branch', 'TRUE', '2018-03-26 08:28:44.830000+11', '2018-03-26 08:28:44.830000+11', 114989317) was aborted: ERROR: duplicate key value violates unique constraint \"vcspullreq_keytargetrepo_idx\"\r\n  Detail: Key (vcs_pull_request_key, target_repository_id)=(1059, 52690980) already exists.  Call getNextException to see other errors in the batch.], SQL: insert into VCS_PULL_REQUEST (VCS_PULL_REQUEST_KEY, TARGET_REPOSITORY_ID, TARGET, SOURCE_REPOSITORY_ID, SOURCE, OPEN_STATUS, CREATED_DATE, UPDATED_DATE, VCS_PULL_REQUEST_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n\r\n2018-03-26 08:28:44,832 WARN [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [SqlExceptionHelper] SQL Error: 0, SQLState: 23505\r\n\r\n2018-03-26 08:28:44,832 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [SqlExceptionHelper] Batch entry 0 insert into VCS_PULL_REQUEST (VCS_PULL_REQUEST_KEY, TARGET_REPOSITORY_ID, TARGET, SOURCE_REPOSITORY_ID, SOURCE, OPEN_STATUS, CREATED_DATE, UPDATED_DATE, VCS_PULL_REQUEST_ID) values ('1059', 52690980, 'feature/mvvmcross-5.5.2-upgrade', 52690980, 'bugfix/bugfix-feature-branch', 'TRUE', '2018-03-26 08:28:44.830000+11', '2018-03-26 08:28:44.830000+11', 114989317) was aborted: ERROR: duplicate key value violates unique constraint \"vcspullreq_keytargetrepo_idx\"\r\n  Detail: Key (vcs_pull_request_key, target_repository_id)=(1059, 52690980) already exists.  Call getNextException to see other errors in the batch.\r\n\r\n2018-03-26 08:28:44,832 WARN [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [SqlExceptionHelper] SQL Error: 0, SQLState: 23505\r\n\r\n2018-03-26 08:28:44,832 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [SqlExceptionHelper] ERROR: duplicate key value violates unique constraint \"vcspullreq_keytargetrepo_idx\"\r\n  Detail: Key (vcs_pull_request_key, target_repository_id)=(1059, 52690980) already exists.\r\n\r\n2018-03-26 08:28:44,832 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [ExceptionMapperStandardImpl] HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute batch]\r\n{noformat}\r\n{code}\r\nERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-4] [BatchingBatch] HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 insert into VCS_PULL_REQUEST (VCS_PULL_REQUEST_KEY, TARGET_REPOSITORY_ID, TARGET, SOURCE_REPOSITORY_ID, SOURCE, OPEN_STATUS, CREATED_DATE, UPDATED_DATE, VCS_PULL_REQUEST_ID) values ('1059', 52690980, 'feature/mvvmcross-5.5.2-upgrade', 52690980, 'bugfix/bugfix-feature-branch', 'TRUE', '2018-03-26 08:28:44.830000+11', '2018-03-26 08:28:44.830000+11', 114989317) was aborted: ERROR: duplicate key value violates unique constraint \"vcspullreq_keytargetrepo_idx\"\r\n  Detail: Key (vcs_pull_request_key, target_repository_id)=(1059, 52690980) already exists.  Call getNextException to see other errors in the batch.], SQL: insert into VCS_PULL_REQUEST (VCS_PULL_REQUEST_KEY, TARGET_REPOSITORY_ID, TARGET, SOURCE_REPOSITORY_ID, SOURCE, OPEN_STATUS, CREATED_DATE, UPDATED_DATE, VCS_PULL_REQUEST_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n{code}\r\nh6.Suggested Solution:\r\nUpdate event should not add an entry to the table or we should have some check either on the DB level or in the backend code to handle this behavior.\r\n\r\nh6.Workaround:\r\nIn the current scenario, the bug will not affect the application because the entry is still there on the table and the error is just preventing the duplicate entry to be inserted.\r\n\r\n",
      "summary": "Bitbucket Pull request update event adds an entry to the table VCS_PULL_REQUEST"
    }
  },
  {
    "key": "BAM-19806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-09T08:30:38.000+0000",
      "created": "2018-04-04T09:28:01.000+0000",
      "description": "h2. HTR\r\n\r\n# Create a plan with build, make sure no agent can build it (e.g by disabling all agents or adding an not-matched requirement)\r\n# Schedule build\r\n# It should be queued  by now but can't be built due to lack of matching agents\r\n# Remove it from the queue with {{http://localhost:6990/bamboo/rest/api/latest/queue/PROJ-PLAN0-3}} rest endpoint {{com.atlassian.bamboo.plugins.rest.resource.QueueResource#stopBuild}}\r\n\r\nh2. Expected behavior\r\nBuild is removed from the queue and another one can be started.\r\n\r\nh2. Actual behavior\r\nBuild is removed from the queue, but {{ChainExecutionManagerImpl#chainStateMap}} state is not updated, therefore Bamboo thinks it's still being built and doesn't allow for new builds to come (due to concurrent builds limit)\r\n\r\n\r\nThere's no viable workaround apart from restarting the server.  ",
      "summary": "Remove build from queue doesn't lower number of concurrent executions. "
    }
  },
  {
    "key": "BAM-19805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-23T15:10:01.000+0000",
      "created": "2018-04-03T19:13:33.000+0000",
      "description": "h3. Summary\r\nDuring Artifact Expiry, logs show multiple 403 \"Access Denied\" errors accessing AWS S3, even if the S3 Handler is not used.\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Setup Elastic agents with valid AWS credentials\r\n# Enable S3 Artifact Handler\r\n# Immediately disable S3 Artifact Handler\r\n# Run build expiry/deletion jobs\r\n\r\nh3. Expected Results\r\nNo error 403 connecting to S3 as it was not used for any artifacts\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the {{atlassian-bamboo.log}} file:\r\n{noformat}\r\n2018-03-30 17:48:08,475 ERROR [DelayedDeletionThread] [BambooPluginUtils] class com.atlassian.bamboo.build.artifact.S3ArtifactHandler was unable to delete artifacts for PROJ-PLAN-JOB\r\ncom.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: <id-hash>; S3 Extended Request ID: <ext-id-hash>), S3 Extended Request ID: <ext-id-hash>\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1639)\r\n\t... (truncated)\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nRemove the S3 Bucket Name from the Bandana table:\r\n# Stop Bamboo\r\n# Backup the database\r\n# Find the Artifact Handler Configurations\r\n{code:sql}\r\nselect SERIALIZED_DATA from BANDANA where BANDANA_KEY = 'artifactHandlersConfiguration';\r\n{code}\r\n# Find the S3 Artifact Handler {{bucketName}} value\r\n{noformat}\r\n   <entry>\r\n     <string>custom.artifactHandlers.comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:bucketName</string>\r\n     <string>bucket-name-here</string>\r\n   </entry>\r\n{noformat}\r\n# Remove the {{bucket-name-here}} string, so that section is:\r\n{noformat}\r\n   <entry>\r\n     <string>custom.artifactHandlers.comAtlassianBambooPluginArtifactHandlerRemote:S3ArtifactHandler:bucketName</string>\r\n     <string>bucket-name-here</string>\r\n   </entry>\r\n{noformat}\r\n# Start Bamboo",
      "summary": "403 errors connecting to S3 Artifact Handler, even if not used"
    }
  },
  {
    "key": "BAM-19804",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-03T18:53:57.000+0000",
      "description": "In Bamboo I would like the Deploy section to be updated to be similar to the Build section. Set it up so there are Deployment Projects -> Deployment Plans -> Environments.\r\n\r\nBamboo could be setup so a \"Project\" had build plans in it and Deployment plans in it. But a separate build project with build plans and a deploy project with deploy plans would work.\r\n\r\nThis would make using the Deploy section much easier because you could collapse Deploy Projects like you do build projects. It should have the ability to have a filter like the Build Dashboard has, etc.\r\n\r\nThanks.",
      "summary": "Updated Deploy Section"
    }
  },
  {
    "key": "BAM-19802",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-03T15:57:17.000+0000",
      "description": "h3. Problem Definition\r\nNeed schedule build to be running on a dedicated agent so it don't block any \"manual\" builds during the time (there are over 200 builds running regularly)\r\n\r\nh3. Suggested Solution\r\nNeed agent dedication based on trigger\r\n",
      "summary": "Agent dedication based on trigger type"
    }
  },
  {
    "key": "BAM-19801",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-03T15:16:35.000+0000",
      "description": "h3.\u00a0Problem Definition\r\n\r\nWithin Build Dashboard / <my project> / <my plan>, tab Plan summary on the left-hand side there is the area called \"Recent history\" in which the last test runs are displayed.\r\n\r\nThe title \"Recent history\" is misleading and at least within one customer ticket misunderstood (as not showing all test runs but the .\r\n\r\nh3. Suggested Solution\r\n # Simply re-title this area like \"Last 10 Builds\u201d\r\n # Add a vertical ruler aside and by this allow the user to roll over all test runs e.g. keeping the display window in a range of 10 runs only\r\n # Make number / range of test runs being shown user-configurable (e.g. allow all / last 30 tests / test runs 11 to 22 @ a display window size of 5 / 10 or e.g. max. 15 runs)\r\n\r\nh3. Additional suggestion\r\nTo make clear to Bamboo users that \"Recent history\" and \"Plan statistics\" are independent dashboard parts and the select button (with the options: \"Showing last 25 builds\" till \"All builds\") is merely affecting the build number of \"Plan statistics\" an additional suggestion is this:\r\n*  Put a box around \u201cPlan Statistics\u201d and \"optically link it\" with the select button (e.g. by a similar color like light gray or wrap the new box and the button similarly)\r\n*  Eventually place the select button centric to the new \"Plan statistics\" box and/or even place it below the box (instead of above)",
      "summary": "Plan Summary's \"Recent history\" not matching customer expectation"
    }
  },
  {
    "key": "BAM-19800",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-03T14:13:52.000+0000",
      "created": "2018-04-03T13:45:18.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, we do not have display \"changelist\" number in the plan summary panel. This could be very useful when we want to know the build refer to what change.\r\n\r\nh6.Solution:\r\nInclude this column in the plan summary page to include the details.\r\n\r\n",
      "summary": "Display Changelist detail in the Plan Summary panel"
    }
  },
  {
    "key": "BAM-19799",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-04-03T10:40:43.000+0000",
      "description": "*Problem Statement:*\r\n\r\nCurrently it's possible to trigger actions using the REST API that cause a long-running thread to be started. Additionally a thread started via a REST API call may get stuck entirely and hog the database or other resources, leading to performance problems or complete unavailability of the application. In such a case a restart of Bamboo is the only remedy.\r\n\r\n*Proposed Solution:*\r\nBamboo should provide a way to kill individual threads or have time limits on threads spawned by REST API calls to prevent REST API calls from causing situations that cause a performance issue or outage in Bamboo.",
      "summary": "As an administrator I want Bamboo to have a time limit for REST API calls"
    }
  },
  {
    "key": "BAM-19798",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-03T13:57:35.000+0000",
      "created": "2018-03-30T13:17:44.000+0000",
      "description": "h3. Summary\r\nExporting backup from Bamboo 5.7.0 and restoring it in Bamboo 6.4.0 will fail due to different config style in administration.xml\r\n\r\nh3. Steps to Reproduce\r\n# Export from Bamboo 5.7.0\r\n# Restore it into Bamboo 6.4.0 to upgrade Bamboo\r\n\r\nh3. Expected Results\r\nRestore/upgrade successful\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-03-30 21:13:46,607 ERROR [http-nio-8085-exec-15] [ImportExportManagerImpl] Exception occurred during import\r\ncom.thoughtworks.xstream.converters.ConversionException: \r\n---- Debugging information ----\r\ncause-exception     : java.lang.NullPointerException\r\ncause-message       : null\r\nclass               : java.util.EnumSet\r\nrequired-type       : java.util.EnumSet\r\nconverter-type      : com.thoughtworks.xstream.converters.enums.EnumSetConverter\r\npath                : /AdministrationConfiguration/deploymentExpiryConfig/expiryTypes\r\nline number         : 21\r\nclass[1]            : com.atlassian.bamboo.deployments.expiry.DeploymentExpiryConfig\r\nconverter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\nclass[2]            : com.atlassian.bamboo.configuration.AdministrationConfigurationImpl\r\nversion             : not available\r\n-------------------------------\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:79)\r\n...\r\nCaused by: java.lang.NullPointerException\r\n\tat com.atlassian.bamboo.serialization.xstream.PluginsAwareMapper.realClass(PluginsAwareMapper.java:89)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\r\n\tat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:47)\r\n\tat com.thoughtworks.xstream.converters.enums.EnumSetConverter.unmarshal(EnumSetConverter.java:84)\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)\r\n{noformat}\r\n \r\nh3. Notes\r\nDifferent config style for deployment expiry in administration.xml file\r\n\r\nh3.Workaround\r\nUpgrade with the same database as shown in [Bamboo Upgrade Guide|https://confluence.atlassian.com/bamboo/bamboo-upgrade-guide-720411366.html]",
      "summary": "Upgrade from Bamboo 5.7.0 to Bamboo 6.4.0 fail with export/import method"
    }
  },
  {
    "key": "BAM-19796",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-05T08:45:04.000+0000",
      "created": "2018-03-29T09:56:18.000+0000",
      "description": "{{vstest.console.exe}} is getting executed under Bamboo's temporary directory, preventing build from finding test results.",
      "summary": "TestCollationService doesn't work if the result file path is absolute. "
    }
  },
  {
    "key": "BAM-19795",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-28T23:08:59.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen a job doesn't have an agent with the appropriate capabilities it gets placed in the queue indefinitely, and the only way to remove it from the queue is to either create an agent with the needed capabilities, or manually kill the build.\r\n\r\nh3. Suggested Solution(s)\r\n\r\n# Create an option in Bamboo where we can specify to automatically kill builds without agents after a specified time.\r\n# Create an action to kill any jobs queued because of capabilities/requirements. \r\n# Create an option to ignore any triggered builds that has requirements that can't be met by agents. \r\n\r\nh3. Workaround\r\nManually kill builds which are queued due to lack of capable agents. ",
      "summary": "Option to automatically kill jobs that don't have a compatible agent."
    }
  },
  {
    "key": "BAM-19794",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-10T10:26:22.000+0000",
      "created": "2018-03-28T12:18:53.000+0000",
      "description": "h2. HTR\r\n\r\n# Setup *C5* or *M5* EC2 Image configuration with EBS volume \r\n\r\n\r\nh2. Expected behavior\r\n\r\nBamboo is able to spin up agent on EC2 instance and mount EBS\r\n\r\nh2. Actual behavior\r\n\r\nBamboo looks for {{/dev/xvdh}} {{/dev/sdh}} devices where AWS exposes EBS as NVMe block devices and can't mount the EBS volume. \r\nThe device names are {{/dev/nvme[0-26]n1}}.\r\n\r\nMore info: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nvme-ebs-volumes.html",
      "summary": "Bamboo doesn't support NVMe block devices as EBS volumes"
    }
  },
  {
    "key": "BAM-19793",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-24T10:26:15.000+0000",
      "created": "2018-03-27T23:48:31.000+0000",
      "description": "h3. Problem Definition\r\nWe cannot use {{run}} arguments with Docker Runner, so any custom configurations, such as granting privileged permissions\r\n\r\nh3. Suggested Solution\r\nAllow Docker [run arguments|https://docs.docker.com/engine/reference/commandline/run/] to be used\r\n\r\nh3. Why this is important\r\nUsers may want to add extra customizations to their Docker Runner containers. \r\n\r\nh3. Workaround \r\nThere is no workaround at this time.",
      "summary": "Allow use of arguments for Docker Runner"
    }
  },
  {
    "key": "BAM-19792",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:56.000+0000",
      "created": "2018-03-27T19:19:45.000+0000",
      "description": "h3. Problem Definition\r\nAs an administrator I would like to be able to break out \"configure triggers\" as a separate permissions for deployment projects.\r\nh3. Suggested Solution\r\nCurrently, we can't get to a true segregation of duties using Bamboo. We'd like to be able to set dev teams to have edit permissions for prod deployment environments and only admins be able to configure triggers.\r\nh4. Why this is important \r\nUnfortunately, edit permissions gives you the ability to configure triggers on build plans (even when you don't have the \"deploy\" permission).\r\n\r\n\r\n\r\n\r\n\r\n ",
      "summary": "Allow deployment environment edit without modifying triggers"
    }
  },
  {
    "key": "BAM-19791",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:33:25.000+0000",
      "created": "2018-03-26T23:06:00.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently it's only possible to create a plan into an existing project via YAML Specs. If the project doesn't exist, Bamboo throws the below exception:\r\n{noformat}\r\n2018-03-26 01:06:37,918 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-2] [AsynchronousAbleEventDispatcher] There was an exception thrown trying to dispatch event [com.atlassian.stash.plugin.remote.event.StashBranchChangedRemoteEvent@53e90021[branchName=master,repositoryProject=TEST,repositorySlug=yamlspecs,committer=dave,sourceId=85e04f31-44e9-381d-b102-1740ff83e5f6,sourceUrl=https://bitbucketdc]] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.bamboo.plugins.stash.events.BranchChangedEventListener.onBranchChangedEvent(com.atlassian.stash.plugin.remote.event.StashBranchChangedRemoteEvent), listener=com.atlassian.bamboo.plugins.stash.events.BranchChangedEventListener@17d45911}]\r\njava.lang.RuntimeException: Project with key DRAGON does not exist\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:54)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.atlassian.bamboo.configuration.external.yaml.exceptions.YamlSpecsValidationException: Project with key DRAGON does not exist\r\n\tat com.atlassian.bamboo.configuration.external.yaml.BambooYamlValidatorImpl.validate(BambooYamlValidatorImpl.java:33)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.processSimplifiedYaml(RepositoryStoredSpecsServiceImpl.java:289)\r\n\tat com.atlassian.bamboo.configuration.external.RepositoryStoredSpecsServiceImpl.runBambooSpecs(RepositoryStoredSpecsServiceImpl.java:259)\r\n{noformat}\r\nh3. Suggested Solution\r\n\r\nAdd support for creating a new project via YAML Specs.\r\n \r\nh3. Workaround \r\nJava Specs supports project creations and can be used as an alternative.",
      "summary": "Support Project creation via YAML Bamboo Specs"
    }
  },
  {
    "key": "BAM-19790",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-26T13:11:26.000+0000",
      "created": "2018-03-26T12:53:24.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, there is no such feature to run/skip a bamboo task based on a certain condition.\r\n\r\nOne good reason behind having such feature is in a case where you have a plugin which performs a quality scan of the code. The pricing of such a plugin depends on the number of lines scanned. So if there are multiple branches of a plan and if we use this plugin as a task in the plan configuration then this plugin will scan all the code for all the branches including the master branch. However, there could be reasons to run this plugin for the only master plan and not for all the branches. In this case, this feature will help a lot.\r\n\r\nh6.Suggested Solution:\r\nHave a configurable parameter to skip/run the task based on a certain condition.\r\n\r\n",
      "summary": "Running Bamboo Task Conditionally"
    }
  },
  {
    "key": "BAM-19789",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-04T13:06:41.000+0000",
      "created": "2018-03-23T18:53:10.000+0000",
      "description": "*Problem Description*\r\nBamboo will fail to generate an export or backup if there is an artifact *FOLDER* with the pattern \"<NAME>.EXE\" (either lower or upercase). This will happen if you check _Export artifacts_ during export. The export will fail with the following error.\r\n\r\n{code:none}\r\n2018-03-23 15:20:36,050 ERROR [http-nio-8085-exec-7] [Export] java.io.IOException: /Users/dsantos/atlassian/bamboo/6.4.0/home/exports/export_atlassianbamboo_60404_20180323_9.zip/artifacts/plan-5275661/shared/build-00007/a.exe (not a directory)\r\njava.io.IOException: /Users/dsantos/atlassian/bamboo/6.4.0/home/exports/export_atlassianbamboo_60404_20180323_9.zip/artifacts/plan-5275661/shared/build-00007/a.exe (not a directory)\r\n        at de.schlichtherle.truezip.file.TBIO.cp_r0(TBIO.java:158)\r\n        at de.schlichtherle.truezip.file.TBIO.cp_r0(TBIO.java:169)\r\n        at de.schlichtherle.truezip.file.TBIO.cp_r0(TBIO.java:169)\r\n        at de.schlichtherle.truezip.file.TBIO.cp_r0(TBIO.java:169)\r\n        at de.schlichtherle.truezip.file.TBIO.cp_r0(TBIO.java:169)\r\n        at de.schlichtherle.truezip.file.TBIO.cp_r(TBIO.java:138)\r\n        at de.schlichtherle.truezip.file.TFile.cp_rp(TFile.java:3317)\r\n        at com.atlassian.bamboo.migration.XmlMigrator.exportResultFiles(XmlMigrator.java:510){code}\r\n\r\n*Steps to replicate*\r\n# Create an artifact definition that produces a folder with the name *name.exe*\r\n# Run the plan and make sure it's successful and the artifact exists.\r\n# Run the export of Bamboo backup and make sure _Export artifacts_ is checked.\r\n\r\n(!) In fact, we just need to have a folder with the name format *<NAME>.EXE* inside any *<Bamboo_Home>/artifacts/plan-XXXXX/shared/build-XXXXX/* folder to reproduce this problem.\r\n\r\n*Workaround*\r\n# Change the artifact names to *<NAME>_EXE* to avoid the problematic patter\r\n# Remove any *folders* of old build results matching the regex .*\\.exe",
      "summary": "Export fails if there is an artifact folder named as <NAME>.exe"
    }
  },
  {
    "key": "BAM-19788",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-12T19:47:28.000+0000",
      "created": "2018-03-23T18:47:43.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen Bamboo encounters errors while setting up the database the Bamboo UI remains on the loading screen indefinitely with no errors are displayed. \r\n\r\nh3. Suggested Solution\r\n\r\nHave Bamboo display an error message to let the customer know there is an error, and provide some details as to what the cause is.\r\n\r\nh3. Workaround\r\n\r\nNone",
      "summary": "More verbose error messages in the UI during setup process."
    }
  },
  {
    "key": "BAM-19787",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-26T11:56:11.000+0000",
      "created": "2018-03-23T10:13:26.000+0000",
      "description": "As for today, our documentation for [Supported platforms|https://confluence.atlassian.com/bamboo/supported-platforms-289276764.html] and [Docker Runner|https://confluence.atlassian.com/bamboo/docker-runner-946020207.html] does not mention which minimum version of Docker is supported.\r\n\r\nWe need to include this since older versions of Docker are not compatible with this feature.",
      "summary": "Clarify minimum supported Docker version for Docker Runner"
    }
  },
  {
    "key": "BAM-19786",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-27T20:33:14.000+0000",
      "created": "2018-03-23T06:43:42.000+0000",
      "description": "The version of the bundled Atlassian Universal Plugin Manager plugin had a cross site scripting vulnerability (XSS). See https://ecosystem.atlassian.net/browse/UPM-5871 for more details.",
      "summary": "The bundled Atlassian Universal Plugin Manager plugin had a XSS issue - CVE-2018-5229"
    }
  },
  {
    "key": "BAM-19785",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-17T15:48:09.000+0000",
      "created": "2018-03-22T19:29:04.000+0000",
      "description": "h3. Summary\r\nTo install an older version of a plugin using the Bamboo API (UPM) we need to remove the newer version first otherwise the old version (new installation) will be ignored. This problem can be seen when installing a plugin from *Admin area >> Manage add-ons >> Upload add-on*\r\n\r\nh3. Steps to Reproduce\r\n# Download 2 versions of a plugin from https://marketplace.atlassian.com/addons/app/bamboo\r\n# Install the newer one first (*Admin area >> Manage add-ons >> Upload add-on*)\r\n# Install the older one next\r\n\r\nh3. Expected Results\r\nThe older version will be used\r\n\r\nh3. Actual Results \r\nThe newer version will be used\r\n\r\nh3.Workaround\r\nRemove the newer version of the plugin first and than install the older one\r\n",
      "summary": "When installing an older version of a plugin the newer version should be removed"
    }
  },
  {
    "key": "BAM-19784",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-22T19:20:56.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAfter an upgrade to the latest version of vstest.console.exe (15.6.1) our build plans using the VSTestRunnerTask are breaking. The culprit is the \"/UseVsixExtensions:true\" which is hard-coded in the Java code and not configurable in the plug-in. The replacement option \"/TestAdapter\" is not supported yet.\r\n\r\nSee also: https://developercommunity.visualstudio.com/content/problem/215878/vstestconsoleexe-fails-to-run-the-gtest-unit-tests.html\\\\ \r\n\r\nh3. Suggested Solution\r\n\r\nAdd configurable text box for *Test Adapter Path* to the task configuration. \r\nAdd vstest.console.exe version checking to the vstestrunner task to determine which options are required. \r\n\r\nh3. Workaround\r\n\r\nCreate a Command or script task and a MSTest Parser task and bypass using the VSTestRunner.\r\n",
      "summary": "Add \u201cTest Adapter Path\u201d configuration field to VSTestRunnerTask"
    }
  },
  {
    "key": "BAM-19783",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-22T13:07:50.000+0000",
      "created": "2018-03-22T12:59:01.000+0000",
      "description": null,
      "summary": "Deleting the artifact definition from the plan causes problems in related deployments"
    }
  },
  {
    "key": "BAM-19782",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-15T11:39:32.000+0000",
      "created": "2018-03-22T02:48:47.000+0000",
      "description": "h3. Summary\r\n\r\nDeleting an artifact definition from a build plan will corrupt any linked deployment plans with artifact download tasks. Can no longer create or deploy a release, nor delete the deployment project once affected. Source build plan can not be modified.\r\nh3. Steps to Reproduce\r\n # Setup a build plan with 2 shared artifact definitions\r\n # Create a deployment project linked to this build plan\r\n # Add an environment with an artifact download task\r\n # Build the source build plan\r\n # Delete one of the artifact definitions\r\n # Attempt to create a release off that result\r\n\r\nh3. Expected Results\r\n\r\nRelease can be created / deployed\r\n Deployment project can be deleted\r\n Source build plan can not be modified\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the UI as an Internal Server error and logged to the {{atlassian-bamboo.log}} when attempting to create a release / delete the project / change the source build plan:\r\n{noformat}\r\norg.springframework.orm.hibernate5.HibernateSystemException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:296)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:362)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.getProjectItems(DeploymentProjectDaoImpl.java:206)\r\n\tat sun.reflect.GeneratedMethodAccessor1679.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy89.getProjectItems(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl$3.run(DeploymentVersionServiceImpl.java:454)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:174)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl.getNewDeploymentVersionWithoutName(DeploymentVersionServiceImpl.java:447)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl.createDeploymentVersionInternal(DeploymentVersionServiceImpl.java:302)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl.access$000(DeploymentVersionServiceImpl.java:109)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl$2.apply(DeploymentVersionServiceImpl.java:280)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl$2.apply(DeploymentVersionServiceImpl.java:277)\r\n\tat com.atlassian.bamboo.core.ScopedExclusionServiceImpl.withLock(ScopedExclusionServiceImpl.java:63)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl.createDeploymentVersion(DeploymentVersionServiceImpl.java:277)\r\n\tat com.atlassian.bamboo.deployments.versions.actions.AbstractCreateDeploymentVersion.createVersion(AbstractCreateDeploymentVersion.java:117)\r\n\tat com.atlassian.bamboo.deployments.execution.actions.ExecuteManualDeployment.execute(ExecuteManualDeployment.java:210)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n{noformat}\r\nh3. Notes\r\n* The affected deployment plan will display \"No shared artifacts found for related plan. Please configure the build plan to publish shared artifacts.\" despite shared artifacts being configured still on the source build plan.\r\n\r\nh3. Workaround\r\n # Create a *new* plan with an artifact definition. This plan needs no content other than an artifact definition and its sole purpose is to be removed and in the next step.\r\n # Remove this new plan created in step 1. This will trigger Bamboo to execute a DB cleanup and removes orphaned Artifact definition records which trigger the bug in affected plans.",
      "summary": "Deleting an artifact definition from a build plan will corrupt any linked deployment plans with artifact download tasks"
    }
  },
  {
    "key": "BAM-19781",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:32:23.000+0000",
      "created": "2018-03-21T15:53:19.000+0000",
      "description": "This is misplaced, but there was no project for Bamboo...\r\n\r\nIn Bamboo, add a filter ability to show the build queue.\r\n\r\nThanks,\r\n\r\n-ME",
      "summary": "Bamboo - Filter option to additionally show queued builds"
    }
  },
  {
    "key": "BAM-19780",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-04T08:09:01.000+0000",
      "created": "2018-03-21T14:36:21.000+0000",
      "description": "h6.Problem Description:\r\nJob Requirement is getting deleted when selecting \"Docker\" requirement for the job.\r\n\r\nh6.Steps to reproduce:\r\n# Add a \"Docker\" job requirement for a plan\r\n# Add a script task and save the task.\r\n# Go back to the job requirements and the Docker Job requirement will be removed automatically.\r\n\r\nh6.Expected Result:\r\nThe requirement should not be removed.\r\n\r\nh6.Actual Result:\r\nThe job requirement is getting removed automatically.\r\n\r\nh6.Workaround:\r\nAs a workaround, please perform the following steps:\r\n* Add a custom capability with a name other than docker (say dockerdummy)\r\n* Add this requirement to the plan job.\r\n* Go to the agent and add this capability to it so that the plan job requirement matches the agent's capability ensuring that there is an agent to build that job.",
      "summary": "Job Requirement is getting deleted when selecting Docker as a requirement."
    }
  },
  {
    "key": "BAM-19779",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-21T16:29:32.000+0000",
      "created": "2018-03-21T10:04:36.000+0000",
      "description": null,
      "summary": "Bamboo only looks at first 100 groups memberships in some cases."
    }
  },
  {
    "key": "BAM-19778",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-22T12:16:23.000+0000",
      "created": "2018-03-20T13:56:27.000+0000",
      "description": "If file is not executable all user sees is:\r\n{code}\r\nFailing task since return code of [/home/bamboo/bamboo-agent-home/xml-data/build-dir/PLAY-ES-JOB1/myScript.sh] was -1 while expected 0\r\n{code}\r\n \r\n-1 is not the proper return code for permission errors, so user is left clueless.\r\n\r\nInside the task code however:\r\n \r\n{code}\r\n             if (scriptFile.exists()) {\r\n                // This can happen due to noexec mounted filesystems or the file didn't have perms in the first place\r\n                if (config.isRunAsExecutable() && !scriptFile.canExecute()) {\r\n// *** This should emit to build log!\r\n                    log.warn(\"Command [\" + scriptFile.getAbsolutePath() + \"] is not executable, trying to run anyway.\");\r\n                }\r\n            } else {\r\n// *** This should emit to build log too!\r\n                log.info(\"File [\" + scriptFile.getAbsolutePath() + \"] doesn't exist, trying to run [\" + config.getScriptFilename() + \"] anyway.\"); //maybe it's on PATH, let's see what happens\r\n            }\r\n{code}\r\nSo the system is properly warning about the execution issue, but only in a place system admins will see it. This should be emitted as an error/NOTICE to the build log.",
      "summary": "Script task should emit file permission errors to build log"
    }
  },
  {
    "key": "BAM-19777",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-30T07:18:07.000+0000",
      "created": "2018-03-19T13:39:53.000+0000",
      "description": "h6.Problem Definition:\r\nDeployment notification fails when the deployment project is configured to use multiple branches for the deployment.\r\n\r\nh6.Steps to reproduce:\r\n# Configure a build plan with a branch plan.\r\n# Configure a deployment plan using the same build plan. Link the main deployment project to the branch (not the master) of the build plan. For example, if you have branches \"master\" and \"bugfix\" then link the deployment plan to the branch \"bugfix\".\r\n# Configure two \"After successful build plan\" triggers in the environment. One with the \"master\" branch and the other with \"bugfix\" branch.\r\n# Configure \"Deployment started and finished \" notification for the deployment environment.\r\n# Make changes to the \"bugfix\" repo so that it could trigger build in Bamboo.\r\n# Once the build is triggered it will trigger the deployment as well upon successful completion.\r\n# And we will hit the below error:\r\n{code}\r\n2018-03-19 21:37:02,701 INFO [17-BAM::Default Agent::Agent:pool-32-thread-1] [ExecutionPhaseServiceImpl] Deployment of 'release-4' on 'dev' VCS sync started\r\n2018-03-19 21:37:02,704 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-8] [MultipartEmailTransport] Failed to send out Deployment Started Notification multipart email\r\njava.lang.IllegalStateException: Compared versions should be created off the same branch\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:173)\r\n\tat com.atlassian.bamboo.deployments.versions.persistence.DeploymentVersionDaoImpl.findVersionsBetween(DeploymentVersionDaoImpl.java:388)\r\n\tat sun.reflect.GeneratedMethodAccessor1858.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy223.findVersionsBetween(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl.findVersionsBetween(DeploymentVersionServiceImpl.java:693)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionVcsChangesetServiceImpl.compareVersionsByChangesets(DeploymentVersionVcsChangesetServiceImpl.java:89)\r\n\tat com.atlassian.bamboo.deployments.notification.DeploymentStartedNotification.getContext(DeploymentStartedNotification.java:105)\r\n\tat com.atlassian.bamboo.deployments.notification.DeploymentStartedNotification.getEmailSubject(DeploymentStartedNotification.java:67)\r\n\tat com.atlassian.bamboo.notification.transports.AbstractEmailTransport.beginEmail(AbstractEmailTransport.java:50)\r\n\tat com.atlassian.bamboo.notification.transports.MultipartEmailTransport.sendNotification(MultipartEmailTransport.java:44)\r\n\tat com.atlassian.bamboo.notification.NotificationDispatcherImpl.dispatchNotifications(NotificationDispatcherImpl.java:53)\r\n\tat com.atlassian.bamboo.deployments.notification.DeploymentNotificationEventListener.onDeploymentStarted(DeploymentNotificationEventListener.java:141)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:36)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n{code}\r\n\r\nh6.Workaround:\r\nConfigure each Plan Branch to be deployed in two different environments.",
      "summary": "Deployment project fails to send notification when using multiple branches for the deployment"
    }
  },
  {
    "key": "BAM-19776",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-19T10:10:49.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently in Bamboo it's not straightforward to extract metrics that allow you graph build activity on a monthly basis (you can get build activity for the last 30 days, but that's something else), and it's impossible to get metrics on the the number of plans created and deleted on a monthly basis.\u00a0\r\n\r\n\u00a0\r\n\r\nh3. Suggested Solution\r\n\r\nBamboo should provide a way to generate such graphs.\r\n\r\nh3. Workaround\r\n\r\nUse the REST API to extract data and use an external graphing solution to generate these graphs.",
      "summary": "As an administrator I want to be able to create graphs showing me build activity and plan creation/deletion on a monthly basis"
    }
  },
  {
    "key": "BAM-19775",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-19T08:54:12.000+0000",
      "description": "When using quicksearch in Bamboo to search for plans by plan key (or a build result using the build result key), no search results are returned even if there are plans with the plan key.\r\n\r\n*Steps to reproduce*\r\n# Create a new project with name \"ABC\" *but project key* \"DEF\" (it's important that the name of the project does not contain the project key)\r\n# Create a new plan with name \"GHI\" *but plan key* \"JKL* (it's important that the name of the plan does not contain the plan key)\r\n\r\nYou will now have a plan with a full key of *DEF-JKL*. Put this full key into the quicksearch field at the top of the screen.\r\n\r\n*Expected Results*\r\nThe plan is returned\r\n\r\n*Actual Results*\r\nThere are no search results. If you search for *ABC* or *GHI* (the name of the project and the plan respectively), one search result is returned. This proves that search is working but not by project and plan key.",
      "summary": "Quicksearch does not return results when searching by plan or project key if the name of the plan or project does not contain the plan or project key"
    }
  },
  {
    "key": "BAM-19774",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:13.000+0000",
      "created": "2018-03-19T07:15:57.000+0000",
      "description": "From\u00a0https://jira.atlassian.com/browse/BSERV-10643:\r\n{quote}I would like to give Bamboo exception status for branch permissions on a project level.\r\n\r\n\u00a0\r\n\r\nWith the changes to linked repositories whenever I link a Bitbucket repository in Bamboo an SSH access key is automatically added to the Bitbucket repository.\r\n\r\nBut since this means that Bamboo only has Repository level access and not Project level access, I can't use Bamboo in branch permission exceptions on Bitbucket project level to inherit by all Bitbucket repositories.\r\n\r\nInstead, I have to set a rule on Bitbucket project level (like 'forbid changes without merge request' for my master or production branch) and additionally have to add exceptions for the individual Bamboo ssh-key on each repository within the project manually, which especially for a microservice architecture are quite a lot of repositories, making this error prone and quite an effort.\r\n{quote}",
      "summary": "Bamboo - Bitbucket Server should be able to use SSH key on the BBS project level"
    }
  },
  {
    "key": "BAM-19773",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-07T13:40:48.000+0000",
      "created": "2018-03-18T00:28:24.000+0000",
      "description": "h3. Summary\r\n\r\nSource code checkout task throws the below error with LFS enabled GIT repositories when run on a remote agent.\r\n{noformat}\r\nerror: cannot fork to run external filter \r\nerror: external filter  failed\r\n{noformat}\r\nh3. Steps to Reproduce\r\n # Dedicate a remote agent to a plan that has Source code checkout task that is tagged to a GIT LFS repository\r\n # Make sure the option *'Enabled repository caching on remote agents'* option in the respecive *Linked Repository* settings page is enabled.\r\n # Run the plan\r\n\r\nh3. Expected Results\r\n\r\nThe plan executes successfully without any error\r\nh3. Actual Results\r\n\r\nThe below exception is thrown multiple times in the build log file:\r\n{noformat}\r\nsimple\t18-Mar-2018 01:15:09\terror: cannot run : No such file or directory\r\nsimple\t18-Mar-2018 01:15:09\terror: cannot fork to run external filter \r\nsimple\t18-Mar-2018 01:15:09\terror: external filter  failed\r\n{noformat}\r\nh3. Workaround\r\n\r\nDisable Cache by going to *Linked Repositories -> Repo -> disable 'Enabled repository caching on remote agents'*\r\n\r\nh3. Solution\r\nUpgrade git to version 2.8",
      "summary": "GIT LFS throws \"cannot fork to run external filter\" error when repository caching on remote agents is enabled"
    }
  },
  {
    "key": "BAM-19772",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-16T16:41:39.000+0000",
      "description": "h3. Problem Definition\r\n\r\nSome builds\u00a0require the use of a Database.\u00a0 It would be nice to be able to launch a separate\u00a0database container, along with the build container using {{docker-compose.yml}}\r\n\r\n\u00a0\r\n\r\nh3. Suggested Solution\r\n\r\nAdd options to the DockerBox runner to allow for configuring a\u00a0series of containers using {{docker-compose.yml}} or an inline configuration within the GUI to add the .yml text for the {{docker-compose}}.\r\n\r\nh3. Workaround\r\n\r\nBuild a Docker image, which contains all pre-requisites for the build.\u00a0 This could get very resource intensive as various builds could reuse an single container image, rather than having to include this data in a unique container for each build.",
      "summary": "Allow Docker Runner to use docker-compose.yml to use multiple containers"
    }
  },
  {
    "key": "BAM-19771",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-16T13:38:56.000+0000",
      "description": "h3. Summary\r\nBuild is hanging when git submodules is used with absolute path on OSX. \r\n(!) SSH process keeps stuck even after the build is successfully stopped.\r\n\r\nh3. Environment\r\n* OSX macOS Sierra 10.12.6 (16G1114)\r\n* Git 2.14.3 (Apple Git-98)\r\n* Bamboo local agent\r\n\r\nh3. Steps to Reproduce\r\n# Create a repository with submodule configured with absolute path\r\nExample:\r\n{noformat}\r\n[submodule \"subrepo\"]\r\n  path = subrepo\r\n  url = ssh://git@<IP>:<PORT>/repo/subrepo.git{noformat}\r\n# Create an SSH key and make sure the public side is added to both git main repository and its submodule\r\n# Create a shared credential for that SSH key\r\n# Create a linked repository in Bamboo using the SSH URL of the main repository and set the *Advanced options >> Use submodules*\r\n# Configure a plan to use the linked repository and chekcout the code\r\n\r\nh3. Expected Results\r\n# Bamboo is able to checkout the code\r\nor\r\n# Build fails with a reasonable error informing the user what was wrong and no SSH process is left running\r\n\r\n\r\nh3. Actual Results\r\nThe build hangs, if we try to manually stop the biuld it stops but the SSH process keeps consuming a high amount of the CPU. If we try multiple builds we get more SSH processes stuck compromising the server performance.\r\n",
      "summary": "Build hangs when trying to checkout git submodules with absolute path"
    }
  },
  {
    "key": "BAM-19770",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-03-28T15:22:11.000+0000",
      "created": "2018-03-16T10:58:00.000+0000",
      "description": "h3. Summary\r\nBamboo fails to download shared artifact (in deployment) from Specs plan \r\n\r\nh3. Environment\r\nBamboo 6.4\r\n\r\nh3. Steps to Reproduce\r\n# Create plan that generates an artifact.\r\n# Configure the artifact to be shared, and empty (default) location. \r\n# Create a deployment project using this plan.\r\n# Create an \"Artifact download task\" for this artifact.\r\n(optional: Build and deploy)\r\n# Export the build plan as Specs.\r\n# Run Specs (no need to do any changes in the code).\r\n# Build.\r\n# Create release from that build. \r\n(alternative: Got to deployment project, deploy, choose \"Create new release from build result\")\r\n\r\nh3. Expected Results\r\nRelease is created.\r\n\r\nh3. Actual Results\r\nBamboo fails with the following Internal Server Error\r\n{noformat}\r\n2018-03-16 10:33:09,254 INFO [http-nio-8085-exec-18] [AccessLogFilter] mate POST http://bamboo642:8085/deploy/doCreateDeploymentVersion.action 545046kb\r\n2018-03-16 10:33:09,372 ERROR [http-nio-8085-exec-18] [ExceptionMappingInterceptor] Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\norg.springframework.orm.hibernate5.HibernateSystemException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:296)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:362)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.getProjectItems(DeploymentProjectDaoImpl.java:206)\r\n\tat sun.reflect.GeneratedMethodAccessor2370.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy89.getProjectItems(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl$3.run(DeploymentVersionServiceImpl.java:454)\r\n(...)\r\nCaused by: org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:79)\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:733)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:4740)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1624)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1608)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1658)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1896)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.lambda$getProjectItems$10(DeploymentProjectDaoImpl.java:210)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n\t... 293 more\r\n{noformat}",
      "summary": "Bamboo fails to download shared artifact (in deployment) from Specs plan "
    }
  },
  {
    "key": "BAM-19769",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-16T10:47:21.000+0000",
      "created": "2018-03-16T10:31:18.000+0000",
      "description": "Checking out from submodules using ssh + relative submodule paths ceased to work and fails with 'Host key verification failed'",
      "summary": "Git plugin: regression in relative submodules support (ssh)"
    }
  },
  {
    "key": "BAM-19768",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-15T23:29:37.000+0000",
      "description": "h3. Problem Definition\r\nNeed to check on the Remote Agent Status apart from using the Bamboo REST API, having to go through the Bamboo UI or use a Bamboo Plugin\r\n\r\nh3. Suggested Solution\r\nA place where can check the status of all agents.\r\n\r\nh4. Why this is important \r\nWith multiple agents its difficult to have to go to each Agent to get status. \r\n",
      "summary": "Improve Remote Agent Status verification"
    }
  },
  {
    "key": "BAM-19767",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-15T21:52:19.000+0000",
      "description": "h3.\u00a0Steps to reproduce:\r\nCreate a plan with a Bitbucket server linked repository\r\nCreate a plan branch using one of the source branches available for that repository\r\nRemove the repository configured and configure a different one\r\nGo to branch status page and filter for the repository branch set for the default plan branch\r\n\r\nh3.\u00a0Results:\r\nAll plan branches with a successful most recent build are shown\r\n\r\nh3.\u00a0Expected:\r\nOnly the main plan branch should show up",
      "summary": "Bamboo branch status page is showing all plan branches when selecting the default branch"
    }
  },
  {
    "key": "BAM-19766",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-15T19:48:40.000+0000",
      "description": "When configuring a Bamboo build with multiple artifact handlers (ie: Bamboo Remote Handler and S3 Artifact Handler) the build results page displays a link to both instances of the artifact. In some cases this can cause confusion, and would be preferable to be able select which artifacts instances should be displayed and/or linked in the build results.\u00a0\r\n\r\n\u00a0\r\n\r\nThis can be through something like a check box on each handler type which when selected causes or prevents the artifact being displayed, similar to the option for shared vs unshared.\u00a0",
      "summary": "Add a \"Display in build results\" option to artifact handlers configuration."
    }
  },
  {
    "key": "BAM-19765",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-15T16:01:15.000+0000",
      "description": "h3. Summary\r\nBamboo takes a lot more time to process skipped or failed test results if compared with successful results. This can compromise the whole server performance.\r\n\r\nh3. Steps to Reproduce\r\n# Set a plan with more than 4000 test results\r\n# Make sure all of them are skipped or failing\r\n# Check how long it takes to finish the build after the below message is shown\r\n{code}\r\nbamboo-stdout.2017-12-21.log:2017-12-22 11:24:03,110 INFO [20-BAM::Mehlinger::Agent:pool-36-thread-1] [PlanStatePersisterImpl] PLAN-KEY-JOB1-1: Generating build results summary...\r\n{code}\r\n\r\nh3. Expected Results\r\nProcessing build results shouldn't take that long since the build work was already done\r\n\r\nh3. Actual Results\r\nIt might take hours to finish (in this example 7.7h:\r\n{code}\r\nbamboo-stdout.2017-12-21.log:2017-12-22 11:24:03,110 INFO [20-BAM::Mehlinger::Agent:pool-36-thread-1] [PlanStatePersisterImpl] PLAN-KEY-JOB1-1: Generating build results summary...\r\nbamboo-stdout.2017-12-21.log:2017-12-22 11:24:03,266 WARN [20-BAM::Mehlinger::Agent:pool-36-thread-1] [TestCaseResultHibernateDao] Unbounded test query detected from getTestsForBuildResultByState, capping at 1000\r\nbamboo-stdout.2017-12-21.log:2017-12-22 15:16:28,736 WARN [20-BAM::Mehlinger::Agent:pool-36-thread-1] [TestCaseResultHibernateDao] Unbounded test query detected from getTestsForBuildResultByState, capping at 1000\r\nbamboo-stdout.2017-12-21.log:2017-12-22 19:11:06,320 INFO [20-BAM::Mehlinger::Agent:pool-36-thread-1] [TestsManagerImpl] Test migration to BuildResultsSummary complete for PLAN-KEY-JOB1-1, 674 test classes, 4574 test cases, time elapsed: 7.784 h\r\n{code}",
      "summary": "Bamboo takes hours to process a big amount of failed or skipped test results"
    }
  },
  {
    "key": "BAM-19764",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-08T14:44:01.000+0000",
      "created": "2018-03-15T06:23:48.000+0000",
      "description": "In Bamboo, it's possible to specify an SSH private key to authenticate with certain repository types (e.g. Bitbucket Cloud).\r\n\r\nCurrently, it appears that, while RSA keys work fine (even larger 4096 bit ones), the new(ish) [Ed25519|http://ed25519.cr.yp.to/] SSH keys do not. The error I receive when trying is:\r\n{noformat}\r\n[RepositoryResource] Failed to connect to repository (type: Bitbucket Cloud, location: https://bitbucket.org/xxxxx/yyyyyyy, time: 13.23 ms, errors: [Cannot decode connection params])\r\n{noformat}\r\n{noformat}\r\nERROR [11-BranchDetectionBackgroundThread:pool-19-thread-2] [BranchDetectionServiceImpl] Repository error while detecting branches for plan PROJ-PLAN. Cannot decode connection params\r\ncom.atlassian.bamboo.repository.RepositoryException: Cannot decode connection params\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper.beforeRepositoryAccess(NativeGitOperationHelper.java:249)\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper.lambda$getRemoteRefs$1(NativeGitOperationHelper.java:602)\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper$$Lambda$563/619325710.call(Unknown Source)\r\n\tat com.atlassian.bamboo.util.CallableResultCache$1.load(CallableResultCache.java:39)\r\n\tat com.atlassian.bamboo.util.CallableResultCache$1.load(CallableResultCache.java:35)\r\n...\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.get(AlwaysInvalidatingCacheDecorator.java:65)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.getUnchecked(AlwaysInvalidatingCacheDecorator.java:126)\r\n\tat com.atlassian.bamboo.util.CallableResultCache.call(CallableResultCache.java:142)\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper.getRemoteRefs(NativeGitOperationHelper.java:613)\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper.getOpenBranches(NativeGitOperationHelper.java:588)\r\n\tat com.atlassian.bamboo.plugins.git.v2.GitBranchDetector.getOpenBranches(GitBranchDetector.java:46)\r\n\tat com.atlassian.bamboo.plugins.bitbucket.v2.BitbucketCloudBranchDetector.getOpenBranches(BitbucketCloudBranchDetector.java:31)\r\n\tat com.atlassian.bamboo.repository.RepositoryCachingFacadeImpl$1.getOpenBranchesCaller(RepositoryCachingFacadeImpl.java:65)\r\n\tat com.atlassian.bamboo.repository.RepositoryCachingFacadeImpl$1.call(RepositoryCachingFacadeImpl.java:54)\r\n\tat com.atlassian.bamboo.repository.RepositoryCachingFacadeImpl$1.call(RepositoryCachingFacadeImpl.java:49)\r\n\tat com.atlassian.bamboo.util.CallableResultCache$1.load(CallableResultCache.java:39)\r\n\tat com.atlassian.bamboo.util.CallableResultCache$1.load(CallableResultCache.java:35)\r\n...\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4824)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.get(AlwaysInvalidatingCacheDecorator.java:65)\r\n\tat com.atlassian.bamboo.utils.collections.AlwaysInvalidatingCacheDecorator.getUnchecked(AlwaysInvalidatingCacheDecorator.java:126)\r\n\tat com.atlassian.bamboo.util.CallableResultCache.call(CallableResultCache.java:142)\r\n\tat com.atlassian.bamboo.repository.RepositoryCachingFacadeImpl.getOpenBranches(RepositoryCachingFacadeImpl.java:72)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl.lambda$getOpenBranches$6(BranchDetectionServiceImpl.java:589)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$$Lambda$526/338388242.call(Unknown Source)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl.getOpenBranches(BranchDetectionServiceImpl.java:588)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl.findBranchesCreatedBeforePlanCreation(BranchDetectionServiceImpl.java:431)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl.access$500(BranchDetectionServiceImpl.java:91)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector$1.lambda$run$1(BranchDetectionServiceImpl.java:141)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector$1$$Lambda$494/515717325.doInHibernate(Unknown Source)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:383)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:335)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector$1.run(BranchDetectionServiceImpl.java:134)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils$Runnable.call(BambooPluginUtils.java:106)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils$Runnable.call(BambooPluginUtils.java:99)\r\n\tat com.atlassian.bamboo.plugin.BambooPluginUtils.callUnsafeCode(BambooPluginUtils.java:53)\r\n\tat com.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl$BranchDetector.run(BranchDetectionServiceImpl.java:187)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.io.IOException: unrecognised object: OPENSSH PRIVATE KEY\r\n\tat org.bouncycastle.openssl.PEMParser.readObject(Unknown Source)\r\n\tat com.atlassian.bamboo.plugins.ssh.ProxyConnectionDataBuilderImpl.withKeyFromReader(ProxyConnectionDataBuilderImpl.java:84)\r\n\tat com.atlassian.bamboo.plugins.ssh.ProxyConnectionDataBuilderImpl.withKeyFromString(ProxyConnectionDataBuilderImpl.java:65)\r\n\tat com.atlassian.bamboo.plugins.ssh.ProxyConnectionDataBuilderImpl.withKeyFromString(ProxyConnectionDataBuilderImpl.java:27)\r\n\tat com.atlassian.bamboo.plugins.git.NativeGitOperationHelper.beforeRepositoryAccess(NativeGitOperationHelper.java:231)\r\n\t... 54 more\r\n{noformat}\r\n\r\nbitbucket.org has had support for Ed25519 keys [since 2016|https://bitbucket.org/site/master/issues/10983/ed25519-ssh-keys-bb-13645] and they are increasingly in wider use generally. It would be good to see Bamboo add support for this key type too.\r\n\r\n\u00a0\r\n\r\nRelated to:\r\n* https://github.com/hierynomus/sshj/issues/427\r\n* https://github.com/hierynomus/sshj/issues/276",
      "summary": "Support Ed25519 SSH keys for SSH transport"
    }
  },
  {
    "key": "BAM-19761",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-30T07:17:36.000+0000",
      "created": "2018-03-14T19:01:38.000+0000",
      "description": "h3. Summary\r\nWhen more than 1 plan branch is present, only the first plan allows you to specify a repository. A \"Password cannot be empty\" error is thrown. \r\n\r\nh3. Environment\r\n* Bamboo 6.4.0\r\n* Windows\r\n\r\nh3. Steps to Reproduce\r\n# Add a Bitbucket repository using Username and Password to authenticate\r\n# Create Plan Branch\r\n# Navigate to Branch settings\r\n# Observe that the \"Branch\" dropdown does not have proper branches listed\r\n\r\nh3. Expected Results\r\nShould be able to select the desired branch.\r\n\r\nh3. Actual Results\r\nThe branch drop-down should be disabled and shown under the Change repository settings for this branch plan\r\n\r\nh3.Workaround\r\nSpecify the password by navigating to \"Change repository settings for this branch plan\"",
      "summary": "Plan branches with multiple repositories disallows changes to secondary repo branch."
    }
  },
  {
    "key": "BAM-19760",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-24T10:22:53.000+0000",
      "created": "2018-03-14T15:05:23.000+0000",
      "description": "At moment Bamboo provides 2 endpoints to dedicate agents:\r\n* /rest/api/latest/agent/assignment\r\n* /rest/api/latest/deploy/environment/<environment_id>/agent-assignment\r\n\r\nIn order to dedicate an agent, the minimum requirement is:\r\n* admin permission for plan/project\r\n* edit permission for  environment/deployment project\r\n\r\nThis may cause a denial of service situation if someone grabs all the agents.\r\n\r\nIn order to avoid that, as an Administrator I would like to have a security toggle to make the agent assignment \"restricted to admin only\".",
      "summary": "Add security toggle to make the agent assignment \"restricted to admin only\""
    }
  },
  {
    "key": "BAM-19759",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-08-08T10:13:16.000+0000",
      "created": "2018-03-14T10:54:36.000+0000",
      "description": "h3. Summary\r\n\r\nSpecs fails to handle Docker job requirement\r\n\r\nh3. Environment\r\nBamboo 6.4\r\n\r\nh3. Steps to Reproduce\r\n# Create a plan, with a job.\r\n# Create a requirement for that job, choosing \"Docker\".\r\n# Export the plan as Specs. The code will look like this for the section we are interested in:\r\n{noformat}\r\njobs(new Job(\"Default Job\",\r\n    new BambooKey(\"JOB1\"))\r\n    .tasks(new ScriptTask()\r\n            .description(\"task1\")\r\n            .inlineBody(\"echo \\\"hii\\\"\"))\r\n    .requirements(new Requirement(\"system.docker.executable\"))\r\n)\r\n{noformat}\r\n# Import the plan.\r\n\r\nh3. Expected Results\r\nThe plan, as before, with the Docker requirement present.\r\n\r\n\r\nh3. Actual Results\r\nThe requirement is not present. \r\n \r\nh3. Notes\r\nNo errors in logs.\r\n\r\nh3.Workaround\r\nChanging\r\n{noformat}\r\n.requirements(new Requirement(\"system.docker.executable\"))\r\n{noformat}\r\nwith \r\n{noformat}\r\n.requirements(new Requirement(\"Docker\"))\r\n{noformat}\r\nwill make the requirement present. ",
      "summary": "Specs fails to handle Docker job requirement"
    }
  },
  {
    "key": "BAM-19758",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-07-12T08:59:55.000+0000",
      "created": "2018-03-14T10:35:39.000+0000",
      "description": "*The problem*\r\nBy default Bamboo's Crowd configuration (stored in the crowd.properties file, the exact location of which depending on the Bamboo version can be found [here|https://confluence.atlassian.com/crowd/integrating-crowd-with-atlassian-bamboo-198785.html]) does not include the Crowd's SSO cookie name. This will cause a flood of requests to Crowd to find out the cookie name on almost every action performed in Bamboo.\r\n\r\nCan be identified by a high number of threads waiting / running with stacks similar to the below:\r\n{noformat}\r\n java.lang.Throwable\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat org.apache.commons.httpclient.MultiThreadedHttpConnectionManager.doGetConnection(MultiThreadedHttpConnectionManager.java:518)\r\n\tat org.apache.commons.httpclient.MultiThreadedHttpConnectionManager.getConnectionWithTimeout(MultiThreadedHttpConnectionManager.java:416)\r\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:153)\r\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\r\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\r\n\tat com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.executeCrowdServiceMethod(RestExecutor.java:452)\r\n\tat com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.andReceive(RestExecutor.java:341)\r\n\tat com.atlassian.crowd.integration.rest.service.RestCrowdClient.getCookieConfiguration(RestCrowdClient.java:1033)\r\n\tat com.atlassian.crowd.integration.http.CrowdHttpAuthenticatorImpl.getCookieTokenKey(CrowdHttpAuthenticatorImpl.java:219)\r\n\tat com.atlassian.crowd.integration.http.CrowdHttpAuthenticatorImpl.getToken(CrowdHttpAuthenticatorImpl.java:200)\r\n\tat com.atlassian.crowd.integration.http.CacheAwareCrowdHttpAuthenticator.getToken(CacheAwareCrowdHttpAuthenticator.java:83)\r\n\tat com.atlassian.crowd.integration.seraph.v25.CrowdAuthenticator.getUser(CrowdAuthenticator.java:345)\r\n\tat com.atlassian.seraph.auth.AbstractAuthenticator.getUser(AbstractAuthenticator.java:45)\r\n...\r\n{noformat} \r\n{noformat}\r\n java.lang.Throwable\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:170)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n\tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n\tat sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:930)\r\n\tat sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n\tat org.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)\r\n\tat org.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)\r\n\tat org.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1118)\r\n\tat org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.readLine(MultiThreadedHttpConnectionManager.java:1413)\r\n\tat org.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1974)\r\n\tat org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1736)\r\n\tat org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1099)\r\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\r\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\r\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\r\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\r\n\tat com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.executeCrowdServiceMethod(RestExecutor.java:452)\r\n\tat com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.andReceive(RestExecutor.java:341)\r\n\tat com.atlassian.crowd.integration.rest.service.RestCrowdClient.getCookieConfiguration(RestCrowdClient.java:1033)\r\n\tat com.atlassian.crowd.integration.http.CrowdHttpAuthenticatorImpl.getCookieTokenKey(CrowdHttpAuthenticatorImpl.java:219)\r\n\tat com.atlassian.crowd.integration.http.CrowdHttpAuthenticatorImpl.getToken(CrowdHttpAuthenticatorImpl.java:200)\r\n\tat com.atlassian.crowd.integration.http.CacheAwareCrowdHttpAuthenticator.getToken(CacheAwareCrowdHttpAuthenticator.java:83)\r\n\tat com.atlassian.crowd.integration.seraph.v25.CrowdAuthenticator.getUser(CrowdAuthenticator.java:345)\r\n\tat com.atlassian.seraph.auth.AbstractAuthenticator.getUser(AbstractAuthenticator.java:45)\r\n\tat com.atlassian.seraph.auth.AbstractAuthenticator.getRemoteUser(AbstractAuthenticator.java:32)\r\n\tat com.atlassian.bamboo.user.BambooRemoteUserUtils.getRemoteUsername(BambooRemoteUserUtils.java:19)\r\n\tat com.atlassian.bamboo.analytics.MauServiceImpl.recordWebActivity(MauServiceImpl.java:65)\r\n\tat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:98)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n...\r\n{noformat}\r\n\r\nYour Crowd Server will also get excess requests to {{/rest/usermanagement/1/config/cookie}} from Bamboo.\r\n\r\n*The fix*\r\nBamboo's default crowd.properties file should include the \"cookie.tokenkey\" property set to the default name of the Crowd SSO cookie \"crowd.token_key\". The documentation should also mention that the name of the cookie should be adjusted to match whatever is configured in Crowd.\r\n\r\n*The workaround*\r\nAdding the {{cookie.tokenkey}} property to Bamboo's {{crowd.properties}}:\r\n# Stop Bamboo\r\n# Edit your {{<bamboo-home>/xml-data/configuration/crowd.properties}}\r\n# Add the below line\r\n{code}\r\ncookie.tokenkey=crowd.token_key\r\n{code}\r\n#* Ensure the value of {{cookie.tokenkey}} matches your SSO cookie name at *Crowd Administration >> General >> SSO cookie name*. {{crowd.token_key}} is the *default*.\r\n# Start Bamboo\r\n\r\n(!) Care must be taken when switching between \"Custom user repository\" and \"Users and groups from JIRA or Crowd\" as this may cause the crowd.properties file to be regenerated without the cookie name configured.",
      "summary": "Bamboo's default crowd.properties does not include a cookie name"
    }
  },
  {
    "key": "BAM-19757",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-14T15:04:06.000+0000",
      "created": "2018-03-13T20:53:39.000+0000",
      "description": "h3. Summary\r\nBuild Commented Text Email Notifications are not sending\r\n\r\nh3. Steps to Reproduce\r\n# Add an Email Server to Bamboo\r\n# Add an Email Notification to a Plan\r\n# Add a User notification to a Plan\r\n# Set the User's email preferences to Text email\r\n# Comment on a Build\r\n\r\nh3. Expected Results\r\nText email sends\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n2018-03-13 20:36:13,389 ERROR [http-nio-8085-exec-5] [runtime] Error executing FreeMarker template\r\nFreeMarker template error:\r\nThe following has evaluated to null or missing:\r\n==> addedsComment  [in template \"notification-templates/BuildCommentedTextEmail.ftl\" at line 13, column 3]\r\n\r\n----\r\nTip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptiona\r\nlVar!myDefault, or use [#if myOptionalVar??]when-present[#else]when-missing[/#if]. (These only cover the last step of the expression; to cover the whole\r\n expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n----\r\n\r\n----\r\nFTL stack trace (\"~\" means nesting-related):\r\n        - Failed at: ${addedsComment.content?html}  [in template \"notification-templates/BuildCommentedTextEmail.ftl\" at line 13, column 1]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core.InvalidReferenceException: [... Exception message was already printed; see it above ...]\r\n        at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\r\n\t... (truncated){noformat}\r\n \r\n\r\nh3.Workaround\r\nPlease edit the {{<bamboo-install>/atlassian-bamboo/WEB-INF/classes/notification-templates/BuildCommentedTextEmail.ftl}} file to replace:\r\n{noformat}\r\n${addedsComment.content?html}\r\n{noformat}\r\nWith\r\n{noformat}\r\n${addedComment.content?html}\r\n{noformat}",
      "summary": "Comment Email Notifications Not Sending"
    }
  },
  {
    "key": "BAM-19756",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-02-18T10:14:07.000+0000",
      "created": "2018-03-13T14:49:27.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, we cannot create manual stage using YAML Specs.\r\n\r\nh6.Suggested Solution:\r\nAllowing Bamboo to use YAML Specs to create manual stages.\r\n\r\nh6.Workaround:\r\nUse Java Specs. Refer here for more info - [Bamboo Java Specs Reference|https://docs.atlassian.com/bamboo-specs-docs/6.2.3/#stage]",
      "summary": "Using YAML Specs to create a manual stage"
    }
  },
  {
    "key": "BAM-19753",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-24T10:26:15.000+0000",
      "created": "2018-03-13T06:30:20.000+0000",
      "description": "h3. Problem Definition\r\nBamboo supports both Java Specs and YAML plan imports but currently it's only possible to View a plan as Java Specs, not as YAML.\r\n\r\nh3. Suggested Solution\r\nImplement \"View plan as YAML\" similar to the technical preview released.\r\n \r\nh3. Workaround \r\nNone",
      "summary": "Export / View Plan as YAML"
    }
  },
  {
    "key": "BAM-19752",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-13T01:32:46.000+0000",
      "description": "h3. Problem Definition\r\nDeployment projects can check-out code using the linked repos credentials, however it's not possible to use this for \"write\" access to the repo which is possible under Build Plans.\r\n\r\nh3. Suggested Solution\r\n* Linked Repos can be used with Read/Write in Deployment Jobs to allow for tasks like Git Tagging within deployment job - script tasks.\r\n* Re-use of Linked repo credentials to build variables for code/repo re-use within plans/builds.\r\n\r\nh3. Workaround\r\n* Provision additional SSH Git Credentail and manage via OS/System Level\r\n* Provision new User + App Passwords into environment variables to configure git ",
      "summary": "Share Linked Repo credentials for use within Deployment Plans/Script Tasks"
    }
  },
  {
    "key": "BAM-19751",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T16:22:45.000+0000",
      "created": "2018-03-12T22:50:01.000+0000",
      "description": "h3. Problem Definition\r\nWhen the Bitbucket.org build status updater fails to update the build status (perhaps due to Bitbucket URL validation against the Bamboo Base URL) it fails with an INFO level message containing the response code.\r\n\r\nE.g.\r\n{code}\r\n2018-02-20 20:54:33,850 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-10] [BitbucketBuildStatusUpdater] Unable to sent build status update to Bitbucket: POST https://api.bitbucket.org/2.0/repositories/project/repo/commit/48b2c999edb9267194f411242d8f644ce69b577d/statuses/build returned a response status of 400 Bad Request\r\n{code}\r\n\r\nh3. Suggested Solution\r\nIf it's a 400 bad request, log the response content to the application logs and system error log.\r\n\r\nh3. Workaround\r\n# Enable debug logging for the following packages in Bamboo via *Bamboo Administration > Logging*\r\n#* Add the following classpaths and set them to *ALL* (please note, these changes will revert to the default level after restarting Bamboo):\r\n{code}\r\ncom.atlassian.bamboo.plugins.bitbucket.impl.BitbucketApiServiceImpl\r\ncom.atlassian.bamboo.plugins.bitbucket.events.BitbucketBuildStatusUpdater\r\n{code}\r\n# Trigger a build that should send a build status to bitbucket.org\r\n\r\nThe full response will now get logged to *<bamboo-home>/logs/atlassian-bamboo.log*.",
      "summary": "The Bitbucket.org Build Status updater needs to log more response detail on failure"
    }
  },
  {
    "key": "BAM-19750",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-14T09:25:34.000+0000",
      "created": "2018-03-12T21:54:07.000+0000",
      "description": "*Steps to reproduce:*\r\nCreate deployment project by Bamboo Specs code\r\n{code}\r\n final Deployment deployment = new Deployment(new PlanIdentifier(\"TEST\", \"TEST\"),\r\n                name)\r\n                .releaseNaming(new ReleaseNaming(\"release-1\")\r\n                        .autoIncrement(true))\r\n                .environments(new Environment(\"QA\")\r\n                        .tasks(new CleanWorkingDirectoryTask(),\r\n                                new ArtifactDownloaderTask()\r\n                                        .description(\"Download release contents\")\r\n                                        .artifacts(new DownloadItem()\r\n                                                .allArtifacts(true)),\r\n                                new ScriptTask().inlineBody(\"echo hi\")));\r\n{code}\r\nOpen Bamboo UI and type used name at top right Quick search menu\r\n\r\n*Expected*: created deployment project is found\r\n*Actual*: created deployment project is not found\r\n\r\n*Workaround*\r\nModify deployment project via browser UI",
      "summary": "Deployment project created by Bamboo Specs can't be found by quick search"
    }
  },
  {
    "key": "BAM-19749",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-12T18:26:45.000+0000",
      "created": "2018-03-12T16:45:00.000+0000",
      "description": "h6.Problem Description:\r\nFastlane task gets process timed out when the duration is over 60 seconds:\r\n{noformat:title=When Failure:}\r\nbuild\t02-Mar-2018 16:51:11\t[16:51:11]: \u001b[35m\u001b[33m\u25b8\u001b[0m \u001b[39;1mRunning script\u001b[0m 'Generate mocks'\u001b[0m\r\nsimple\t02-Mar-2018 16:52:11\tFailing task since return code of [/var/folders/zp/7b4kt2qj6d19ds8nb0gzyxn00000gp/T/epb3304332790188288964.sh unit_tests] was -1 while expected 0\r\n{noformat}\r\n\r\nBut, when the time duration is less than 60 seconds then it successfully completes:\r\n{noformat:title=When Success:}\r\nbuild\t06-Mar-2018 13:18:22\t[13:18:22]: \u001b[35m\u001b[33m\u25b8\u001b[0m \u001b[39;1mRunning script\u001b[0m 'Generate mocks'\u001b[0m\r\nbuild\t06-Mar-2018 13:19:15\t[13:19:15]: \u25b8 \u001b[35m\u001b[33m\u26a0\ufe0f  \u001b[0m/Users/bamboo/bamboo-agent-home/xml-data/build-dir/SMAR-IST-TEST/Pods/Cuckoo/Generator/.build/checkouts/Spectre.git--7655155069707042687/Sources/Expectation.swift:98:22: \u001b[33mredundant conformance constraint 'Key': 'Equatable'\u001b[0m\r\n{noformat}\r\n\r\n{noformat}\r\n2018-03-02 16:52:11,593 INFO [0-BAM::10.252.56.111::Agent:pool-3-thread-1] [TaskResultBuilder] Failing task since return code of [/var/folders/zp/7b4kt2qj6d19ds8nb0gzyxn00000gp/T/epb3304332790188288964.sh unit_tests] was -1 while expected 0\r\n2018-03-02 16:52:11,593 INFO [0-BAM::10.252.56.111::Agent:pool-3-thread-1] [TaskResultBuilder] Process exception: \r\ncom.atlassian.utils.process.ProcessTimeoutException: process timed out\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:664)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.execute(ExternalProcessImpl.java:114)\r\n\tat com.atlassian.bamboo.plugins.xcode.build.FastlaneTaskType.execute(FastlaneTaskType.java:68)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:284)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:223)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:284)\r\n\tat com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:111)\r\n\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:71)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:185)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:120)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl$1.call(BuildAgentControllerImpl.java:113)\r\n\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\n\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:113)\r\n\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\n\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:47)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n{noformat}\r\n\r\nh6.Expected Result:\r\nThe task should not fail even when it is taking more than 60 seconds.\r\n\r\nh6.Suggested Solution:\r\nProbably we can have a configuration parameter to wait before process timeout.\r\n\r\n",
      "summary": "Fastlane task process timed out"
    }
  },
  {
    "key": "BAM-19748",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-12T14:50:52.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently in Bamboo users who only have \"View\" permission on plans can add labels to the plan, but they cannot delete them due to BAM-11672. In order to allow users to delete labels (which are used to control expiry) users need to be given more wide-ranging permissions than they should have to be given.\r\n\r\nh3. Suggested Solution\r\n\r\nAnother permission level should be added allowing users to modify \"metadata\" of plans, such as labels without giving them permission to modify the plan itself.\r\n\r\nh3. Workaround",
      "summary": "As an administrator I want to be able to grant users permission to only modify metadata of plans"
    }
  },
  {
    "key": "BAM-19747",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-02-18T10:11:31.000+0000",
      "created": "2018-03-09T20:33:24.000+0000",
      "description": "h3. Problem Description\r\n\r\nYAML Specs needs the option to add tasks such as test parsers as Final Tasks so that they are executed last, and regardless of wether other tasks fail.\r\n\r\nh3. Suggested Solution\r\n\r\nThere is currently a method for adding Final Tasks through the Java Specs. Something similar should be implemented in the YAML Specs feature set.\r\n\r\n\r\nh3. Workaround\r\n\r\nWork around by creating conditions where all previous tasks show successful so that the build moves on to the test parser.\u00a0",
      "summary": "Add Final Task to Bamboo YAML Specs"
    }
  },
  {
    "key": "BAM-19746",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:31:07.000+0000",
      "created": "2018-03-09T17:07:42.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently we are able to export Plans to Bamboo Specs, so to import individual jobs, this requires editing the Spec and then importing.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd export of individual jobs to Specs.\r\n\r\nh3. Why this is important\r\n\r\nUsers may not want to copy the full Plan, but just one Job. This would save time when testing in Test/Stage environments, for example.\r\n \r\nh3. Workaround \r\nThis can be achieved by exporting the full Plan as Bamboo Specs and then modifying the Specs to import only the desired Job(s).",
      "summary": "Export individual Job to Bamboo Specs"
    }
  },
  {
    "key": "BAM-19745",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-10T11:14:44.000+0000",
      "created": "2018-03-09T12:39:15.000+0000",
      "description": "h3. Summary\r\nBulk actions such as *Bamboo Administration >> Move Plans* create large POST payloads that increase depending on the plan count in the system. For each plan that is added, another key pair identical to the below is added to the POST data:\r\n{code}\r\n              {\r\n                \"name\": \"checkBoxFields\",\r\n                \"value\": \"planIds\"\r\n              }\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\n# *Bamboo Administration >> Move Plans* \r\n# Select one plan and move it.\r\n# Capture the POST payload from Developer Tools\r\n# Create another plan\r\n# Repeat the move (only select one plan to move) and compare the POST payload, the query parameters in the POST payload increased by one. \r\n\r\nh3. Expected Results\r\nPOST payload does not increase when more plans are added to the instance.\r\n\r\nh3. Actual Results\r\nPOST payload increases as new plans get created.\r\n\r\nIf the amount of query parameters increases beyond the Tomcat default for {{maxParameterCount}} (10,000), the following will be logged in the {{<bamboo-install>/logs/catalina.out}} and Bamboo will return a {{XSRF_FAILURE_NO_TOKEN_IN_PARAMS}} error.\r\n{code}\r\n20-Jul-2018 21:40:44.747 INFO [http-nio-127.0.0.1-8085-exec-130] org.apache.tomcat.util.http.Parameters.processParameters More than the maximum number of request parameters (GET plus POST) for a single request ([10,000]) were detected. Any parameters beyond this limit have been ignored. To change this limit, set the maxParameterCount attribute on the Connector.\r\n Note: further occurrences of this error will be logged at DEBUG level.\r\n2018-07-20 21:40:44,755 INFO [http-nio-127.0.0.1-8085-exec-130] [AccessLogFilter] USER POST https://bamboo.com/admin/selectBuildsToMove.action 8557087kb\r\n2018-07-20 21:40:44,759 WARN [http-nio-127.0.0.1-8085-exec-130] [BambooXsrfTokenInterceptor] XSRF token validation failed in session: due to XSRF_FAILURE_NO_TOKEN_IN_PARAMS\r\n2018-07-20 21:40:44,759 ERROR [http-nio-127.0.0.1-8085-exec-130] [ExceptionMappingInterceptor] XSRF Token Validation failed (XSRF_FAILURE_NO_TOKEN_IN_PARAMS).\r\n{code}\r\n\r\nh3.Workaround\r\nThe only way to reduce the payload size is to decrease the plan count in your Bamboo instance. \r\n\r\nIf you are hitting the Tomcat limit for {{maxParameterCount}}, it can be increased beyond 10000 limit in the {{<bamboo-install>/conf/server.xml}} which will allow the entire payload through and avoid the XSRF_FAILURE_NO_TOKEN_IN_PARAMS error. E.g:\r\n{code}\r\n<Connector\r\n            protocol=\"HTTP/1.1\"\r\n            port=\"8085\"\r\n\r\n            maxThreads=\"150\" minSpareThreads=\"25\"\r\n            connectionTimeout=\"20000\"\r\n            disableUploadTimeout=\"true\"\r\n            acceptCount=\"100\"\r\n\r\n            enableLookups=\"false\"\r\n            maxHttpHeaderSize=\"8192\"\r\n\r\n            useBodyEncodingForURI=\"true\"\r\n            URIEncoding=\"UTF-8\"\r\n\r\n            maxParameterCount=\"20000\"\r\n/>\r\n{code}\r\n* [Apache Tomcat 8 Configuration Reference (8.0.53) \\- The HTTP Connector|https://tomcat.apache.org/tomcat-8.0-doc/config/http.html]",
      "summary": "bulk actions create huge POST requests when there's a lot of plans in the system"
    }
  },
  {
    "key": "BAM-19744",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-05T13:56:37.000+0000",
      "created": "2018-03-08T09:14:39.000+0000",
      "description": "h3. Summary\r\n\r\nWhen we have a job deletion scheduled and the respective plan is triggered for build meanwhile when the job is deleted, Bamboo tries to save the results to the database and it cannot as the job doesn't exist. This makes the running build unstoppable even though the build is completed in the background.\r\n\r\nh3. Steps to Reproduce\r\n\r\nIt is hard to reproduce but we observed the following sequence of events:\r\n # The plan PLAN-A and job PLAN-A are created:\r\n{noformat}\r\n2018-02-15 12:58:56,024 INFO [http-nio-127.0.0.1-13062-exec-17] [PlanCreationTemplate] Creating plan with key: PLAN-A\r\n2018-02-15 12:58:56,027 INFO [http-nio-127.0.0.1-13062-exec-17] [PlanCreationTemplate] New Plan created with key PLAN-A\r\n2018-02-15 12:58:56,041 INFO [http-nio-127.0.0.1-13062-exec-17] [CreateJob] New Jobs(s) created with key(s) [PLAN-A]\r\n...\r\n{noformat}\r\n # The plan is deleted and the deletion is scheduled:\r\n{noformat}\r\n2018-02-15 13:44:24,846 INFO [http-nio-127.0.0.1-13062-exec-177] [DeletionServiceImpl] Stopping any running builds for PLAN-A\r\n2018-02-15 13:44:24,847 INFO [http-nio-127.0.0.1-13062-exec-177] [DeletionServiceImpl] Scheduling plan [PLAN-A] for deletion\r\n...\r\n{noformat}\r\n # The plan is triggered for build:\r\n{noformat}\r\n2018-02-15 13:45:35,951 INFO [6-DelayedChangeDetectionThread:pool-12-thread-1589] [ChainExecutionManagerImpl] Build PLAN-A-1324 has been dispatched\r\n2018-02-15 13:45:35,953 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-1] [BuildQueueManagerImpl] Attempting to queue ABC project - JKL - DEV - Default Job #1324 (PLAN-A-1324).\r\n2018-02-15 13:45:35,954 INFO [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-1] [ExecutionPhaseServiceImpl] ABC project - JKL - DEV - Default Job #1324 (PLAN-A-1324) queued\r\n2018-02-15 13:45:35,987 INFO [ActiveMQ Session Task-11149] [BuildQueueManagerImpl] Sending PLAN-A-1324 to agent 42532874\r\n...\r\n{noformat}\r\n # The job PLAN-A is deleted:\r\n{noformat}\r\n2018-02-15 13:46:03,598 INFO [DelayedDeletionThread] [DeletionServiceHelper] Deleting 1 job(s) marked for deletion\r\n2018-02-15 13:46:03,598 INFO [DelayedDeletionThread] [DeletionServiceHelper] Deleting PLAN-A\r\n...\r\n{noformat}\r\n # The build of the plan finishes and Bamboo tries to save the results to the database but this fails because the job PLAN-A no longer exists:\r\n{noformat}\r\n2018-02-15 13:50:32,207 INFO [9-BuildTailMessageProcessingThread-expensive:pool-16-thread-3849] [LocalBuildResultProcessor] Processing build result PLAN-A-1324...\r\n2018-02-15 13:50:32,207 INFO [9-BuildTailMessageProcessingThread-expensive:pool-16-thread-3849] [ExecutionPhaseServiceImpl] ABC project - JKL - DEV - Default Job #1324 (PLAN-A-1324) execution finished\r\n...\r\n2018-02-15 13:50:32,225 ERROR [9-BuildTailMessageProcessingThread-expensive:pool-16-thread-3849] [LocalBuildResultProcessor] Error while saving build results\r\njava.lang.NullPointerException: Job not found: PLAN-A\r\n        at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:226)\r\n        at com.atlassian.bamboo.plan.PlanStatePersisterImpl.saveFinishedBuildResult(PlanStatePersisterImpl.java:92)\r\n...\r\ncom.atlassian.bamboo.plan.PlanStatePersisterServiceImpl.lambda$saveFinishedBuildResult$0(PlanStatePersisterServiceImpl.java:26)\r\n        at io.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:293)\r\n        at com.atlassian.bamboo.plan.PlanStatePersisterServiceImpl.saveFinishedBuildResult(PlanStatePersisterServiceImpl.java:25)\r\n        at com.atlassian.bamboo.v2.build.agent.LocalBuildResultProcessor.processBuildResult(LocalBuildResultProcessor.java:119)\r\n        at com.atlassian.bamboo.v2.build.agent.LocalResultProcessorImpl.processResult(LocalResultProcessorImpl.java:30)\r\n        at com.atlassian.bamboo.v2.build.agent.messages.ProcessResult.deliver(ProcessResult.java:29)\r\n        at com.atlassian.bamboo.v2.build.agent.messages.BatchRemoteBambooMessage.deliver(BatchRemoteBambooMessage.java:41)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageDeliverer.deliverObject(BambooAgentMessageDeliverer.java:11)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageListener$1.run(BambooAgentMessageListener.java:49)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n        at com.atlassian.bamboo.v2.build.agent.BambooAgentMessageListener.onMessage(BambooAgentMessageListener.java:40)\r\n        at com.atlassian.bamboo.v2.build.agent.ParallelizingMessageListener$1.run(ParallelizingMessageListener.java:71)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:47)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\n        at com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n2018-02-15 13:50:32,229 ERROR [9-BuildTailMessageProcessingThread-expensive:pool-16-thread-3849] [SystemAuthorityThreadFactory] Uncaught exception in thread 9-BuildTailMessageProcessingThread-expensive:pool-16-thread-3849\r\njava.lang.IllegalArgumentException: Couldn't find result with result key: PLAN-A-1324\r\n        at com.google.common.base.Preconditions.checkArgument(Preconditions.java:122)\r\n        at com.atlassian.bamboo.resultsummary.BuildResultsSummaryManagerImpl.invalidateLogSize(BuildResultsSummaryManagerImpl.java:1404)\r\n        at sun.reflect.GeneratedMethodAccessor1738.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n...\r\n{noformat}\r\n # As a result of this failure, the build state is not updated in the database and we observe the build as in progress forever.\r\n\r\nh3. Expected Results\r\n\r\nIf there is failure in saving the state in the database the error handling code retries the operation to update the build state or changes to failed.\r\n\r\nh3. Actual Results\r\n\r\nIf there is a failure in saving the state in the database then the build is listed as in progress in the UI. \r\n\r\n*Symptom*: A build plan running on a remote agent cannot be stopped although the build is completed at the agent side. When we look at the database for the build status, we see the build status is still in progress.\r\n\r\nh3. Workaround\r\n\r\nRestarting Bamboo helped recovering the build state. ",
      "summary": "Build status is not changed in the database when the plan state fails to be saved"
    }
  },
  {
    "key": "BAM-19743",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-08T04:20:55.000+0000",
      "created": "2018-03-08T04:18:21.000+0000",
      "description": "Bamboo did not correctly check if a configured Mercurial repository URI contained values that the Windows operating system may consider argument parameters.  An attacker who has permission to do one or more of the following:\r\n* create a repository in Bamboo\r\n* edit an existing plan in Bamboo that has a non-linked Mercurial repository\r\n* create a plan in Bamboo either globally or in a project using Bamboo Specs\r\n\r\ncan execute code of their choice on systems that run a vulnerable version of Bamboo on the Windows operating system.\r\n\r\n\u00a0\r\n\r\n*Affected versions:*\r\n* All versions of Bamboo starting with 2.7.0 before 6.3.3 (the fixed version for 6.3.x) and from version 6.4.0 before 6.4.1 (the fixed version for 6.4.x) running on the Windows operating system are affected by this vulnerability.\r\n\r\n\r\n*Fix:*\r\n * Bamboo version 6.4.1 is available to download from [https://www.atlassian.com/software/bamboo/download].\r\n * Bamboo version 6.3.3 is available to download from [https://www.atlassian.com/software/bamboo/download-archives].\r\n\r\n*Acknowledgements*\r\n Atlassian would like to credit Zhang Tianqi @ Tophant for reporting this issue to us.\r\n\r\nFor additional details see the [full advisory|https://confluence.atlassian.com/x/PS9sO].",
      "summary": "Argument injection through Mercurial repository uri handling on Windows - CVE-2018-5224"
    }
  },
  {
    "key": "BAM-19742",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-07T14:41:20.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, Bamboo uses the main URL to create caches in the application server which takes a lot of time when the repository is huge. \r\n\r\nh6.Suggested Solution:\r\n* Bamboo should use the Mirror URL to create the caches.\r\nor\r\n* There should be an option to configure Bamboo to use the Mirror URL for the change detection to create the caches.",
      "summary": "Using Mirror URL for creating Git Caches in Bamboo"
    }
  },
  {
    "key": "BAM-19740",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-07T09:53:49.000+0000",
      "created": "2018-03-07T08:52:58.000+0000",
      "description": "h6.Problem Description:\r\nUpon deleting repositories from the Bamboo UI (Linked Repositories) the data is not cleaned from the database table \"VCS_LOCATION\". This happens when the repository is linked to a build plan.\r\n\r\nh6.Steps to Reproduce:\r\n# Add a repository to the linked repositories using Bamboo UI.\r\n# Link this repo to a plan in Bamboo and add it to a source code checkout task. Trigger a build as well.\r\n# Go to linked repositories settings and select the same repo to delete from the UI.\r\n#* Tried deleting the repo from the plan as well.\r\n# Restart the Bamboo to trigger the deletion service.\r\n\r\nh6.Expected Results:\r\nBamboo Should clean the data from the database.\r\n\r\nh6.Actual Result:\r\nThe data still exists in the table \"VCS_LOCATION\" and if we create a new repo with the same name using the Bamboo UI. Tha Bamboo adds a new entry to the table \"VCS_LOCATION\" with a new \"VCS_LOCATION_ID\"\r\n\r\nh6.Notes:\r\nThis data will not cause any impact to the Bamboo apart from adding more entries to the database.",
      "summary": "VCS_LOCATION data is not cleaned upon deleting repository from the UI"
    }
  },
  {
    "key": "BAM-19736",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-22T13:09:35.000+0000",
      "created": "2018-03-06T07:51:02.000+0000",
      "description": "h3. Summary\r\nAfter renaming the artifact in YAML, deployment environment couldn't deploy anymore and couldn't change the build plan\r\n\r\nh3. Steps to Reproduce\r\n# Use the following YAML for a build plan:\r\n{noformat}\r\n---\r\nproject:\r\n  key: SPECS\r\n  plan:\r\n    key: STASH\r\n    name: bamboo specs yaml\r\nstages:\r\n  - jobs:\r\n      - scripts:\r\n          - echo 'testing artifact'\r\n        artifacts:\r\n          - name: test files\r\n            path: test.txt\r\n...\r\n{noformat}\r\n# Run the build plan to create the artifact\r\n# Create a deployment project to use download this artifact\r\n# Create/deploy a release from this deployment project\r\n# Edit the YAML file to change the name \"test files\" to be \"test file\" (without \"s\")\r\n# Run the build to create artifact\r\n# Create/deploy a release from the related deployment project\r\n# Change the build plan in the deployment project\r\n\r\nh3. Expected Results\r\n# The release successfully created/deployed\r\n# Able to change the build plan\r\n\r\nh3. Actual Results\r\n# When creating/deploying the release, the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-03-06 16:08:24,137 ERROR [http-nio-8085-exec-14] [ExceptionMappingInterceptor] Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\norg.springframework.orm.hibernate5.HibernateSystemException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:296)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:362)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.getProjectItems(DeploymentProjectDaoImpl.java:206)\r\n\tat sun.reflect.GeneratedMethodAccessor1632.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy89.getProjectItems(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.versions.service.DeploymentVersionServiceImpl$3.run(DeploymentVersionServiceImpl.java:454)\r\n...\r\nCaused by: org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:79)\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:733)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:4740)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1624)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1608)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1658)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1896)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.lambda$getProjectItems$10(DeploymentProjectDaoImpl.java:210)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n\r\n{noformat}\r\n# When changing the build plan in the deployment project, the below exception is thrown in the atlassian-bamboo.log file:\r\n{noformat}\r\n2018-03-06 16:09:28,037 ERROR [http-nio-8085-exec-13] [ExceptionMappingInterceptor] Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\norg.springframework.orm.hibernate5.HibernateSystemException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:296)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:362)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.execute(HibernateTemplate.java:313)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.getProjectItems(DeploymentProjectDaoImpl.java:206)\r\n\tat sun.reflect.GeneratedMethodAccessor1632.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy89.getProjectItems(Unknown Source)\r\n\tat com.atlassian.bamboo.deployments.projects.service.DeploymentProjectServiceImpl.validateArtifactTaskDefinitionOnPlanChange(DeploymentProjectServiceImpl.java:407)\r\n...\r\nCaused by: org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : com.atlassian.bamboo.deployments.projects.persistence.items.AbstractMutableDeploymentProjectItem\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:79)\r\n\tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:733)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:4740)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1624)\r\n\tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1608)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1658)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1556)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:985)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:943)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1896)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:366)\r\n\tat com.atlassian.bamboo.deployments.projects.persistence.DeploymentProjectDaoImpl.lambda$getProjectItems$10(DeploymentProjectDaoImpl.java:210)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:359)\r\n{noformat}\r\n \r\nh3. Notes\r\nIn Deployment Project Summary, the Available artifact is showing \"No shared artifacts found for related plan\" even though the shared artifact exist.\r\n\r\nh3.Workaround\r\n# Delete the YAML build plan \r\n# Change the related Deployment Project to use different build plan (so that Bamboo will be able to fully delete the above build plan)\r\n# Re-create the YAML build plan\r\n# Change the related Deployment Project to use the YAML build plan again",
      "summary": "Renaming artifact in YAML break deployment"
    }
  },
  {
    "key": "BAM-19735",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-05T22:43:36.000+0000",
      "description": "Created from Community: [ Bamboo notifications for scheduled build not start... |https://community.atlassian.com/t5/Bamboo-questions/Bamboo-notifications-for-scheduled-build-not-starting/qaq-p/738766]\r\n\r\nh3. Problem Definition\r\n\r\nNotifications are sent upon Build Status Change.  aka Pass or Fail, but not on \"Not Built\".\r\n !image-2018-03-05-16-42-02-319.png|thumbnail! \r\n\r\nh3. Suggested Solution\r\n\r\nDefine 'not built' as a build status change to be picked up by Notifications \r\n\r\nh3. Workaround\r\n\r\nnone",
      "summary": "Notifications when a Build doesn't build (grey icon)"
    }
  },
  {
    "key": "BAM-19734",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-05-10T09:58:35.000+0000",
      "created": "2018-03-05T15:52:57.000+0000",
      "description": "h3. Problem Definition\r\n\r\nLog files are stored and transferred uncompressed.  This becomes an issue when trying to download some Build Logs which reach multiple hundreds of Megabytes.\r\n\r\nh3. Suggested Solution\r\n\r\nWhen clicking the 'download' link for a build log, compress the log server side, then send to the local web browser as a .zip file.\r\n \r\nh3. Workaround\r\n\r\nSSH to remote agent server, and compress the build logs manually, then SCP them to the local machine.",
      "summary": "Compress Build Log files when downloading"
    }
  },
  {
    "key": "BAM-19733",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-30T07:19:45.000+0000",
      "created": "2018-03-05T15:52:24.000+0000",
      "description": "h3. Summary\r\nThe VSTest Runner Task sends the full path to the test results file, which causes the build to fail because the report collector expects a file path relative to the working directory.\r\n\r\nh3. Steps to Reproduce\r\n# Add a VSTest Runner Task to a build\r\n# Run the build\r\n\r\nh3. Expected Results\r\nTest results are found and parsed\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the job log:\r\n{noformat}\r\n16-Jan-2018 15:04:56\tParsing test results under <bamboo-home>\\xml-data\\build-dir\\PROJ-PLAN-JOB...\r\n16-Jan-2018 15:04:56\tFailing task since test cases were expected but none were found.\r\n16-Jan-2018 15:04:56\tFinished task 'Task-name' with result: Failed\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nYou may be able to work around this issue by running the VSTest command from a Script task. ",
      "summary": "VSTest Runner sends full path to results file"
    }
  },
  {
    "key": "BAM-19732",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-18T09:34:39.000+0000",
      "created": "2018-03-05T15:36:57.000+0000",
      "description": "h3. Problem Definition\r\nNeed the ability to update a task across multiple projects \r\nh3. Suggested Solution\r\nAdd option to bulk update\r\nh4. Why this is important \r\nCurrently it's not possible to bulk update a task that is not to be run or required across multiple projects and plans",
      "summary": "Bulk update tasks across projects"
    }
  },
  {
    "key": "BAM-19731",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-05T15:35:11.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, _Docker Runner_ only connects to public Docker Image Registries to pull images from, such as hub.docker.com\r\n\r\nPlease add the capability to connect to private registries to pull images.\r\n\r\nh3. Suggested Solution\r\n\r\nAllow auth to private registries through input credentials, or the Shared Credentials\r\n \r\nh3. Workaround\r\n\r\nAdd the {{docker login}} command to the .profile of the Remote Agent user, for each Agent which will be using the Docker Runner build capability.\r\n{noformat}\r\ndocker login -u <username> -p <password> <registryhost:port>\r\n{noformat}\r\n\r\nTo keep from having passwords stored in plain text in a script you can use the credential helper as outlined in the documentation for [docker login|https://docs.docker.com/engine/reference/commandline/login/#options]",
      "summary": "Add Capability for 'Docker Runner' to connect to private image registry"
    }
  },
  {
    "key": "BAM-19730",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-30T07:16:48.000+0000",
      "created": "2018-03-05T14:29:42.000+0000",
      "description": "h3. Summary\r\nDocker run task fails with with {{/bin/sh: 0: Can't open /tmp/intialiseContainer.sh}} when running a detached container.\r\n\r\nh3. Expected Results\r\nTask succeeds\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the build log:\r\n{noformat}\r\nerror\t28-Feb-2018 10:31:24\t/bin/sh: 0: Can't open /tmp/intialiseContainer.sh\r\nerror\t28-Feb-2018 10:31:24\tError occurred while running Task 'Docker run' of type com.atlassian.bamboo.plugins.bamboo-docker-plugin:task.docker.cli.\r\nerror\t28-Feb-2018 10:31:24\tcom.atlassian.bamboo.task.TaskException: Failed to execute task\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.plugins.docker.service.RunService.execute(RunService.java:75)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.plugins.docker.tasks.cli.DockerCliTask.execute(DockerCliTask.java:70)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.lambda$executeTasks$3(TaskExecutorImpl.java:285)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTaskWithPrePostActions(TaskExecutorImpl.java:224)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.executeTasks(TaskExecutorImpl.java:285)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.task.TaskExecutorImpl.execute(TaskExecutorImpl.java:112)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.build.pipeline.tasks.ExecuteBuildTask.call(ExecuteBuildTask.java:71)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.executeBuildPhase(DefaultBuildAgent.java:203)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent.build(DefaultBuildAgent.java:175)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.lambda$waitAndPerformBuild$0(BuildAgentControllerImpl.java:122)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.variable.CustomVariableContextImpl.withVariableSubstitutor(CustomVariableContextImpl.java:185)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.v2.build.agent.BuildAgentControllerImpl.waitAndPerformBuild(BuildAgentControllerImpl.java:117)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.v2.build.agent.DefaultBuildAgent$1.run(DefaultBuildAgent.java:126)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.utils.BambooRunnables$1.run(BambooRunnables.java:48)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.security.ImpersonationHelper.runWithSystemAuthority(ImpersonationHelper.java:17)\r\nerror\t28-Feb-2018 10:31:24\t\tat com.atlassian.bamboo.security.ImpersonationHelper$1.run(ImpersonationHelper.java:41)\r\nerror\t28-Feb-2018 10:31:24\t\tat java.lang.Thread.run(Thread.java:748)\r\nerror\t28-Feb-2018 10:31:24\tCaused by: com.atlassian.bamboo.docker.DockerException: Error running Docker run command\r\n{noformat}\r\n\r\nh3. Notes\r\n* This bug strictly relates to *Docker Tasks* not *Docker Runner* builds (which can experience the same issue when setting up the container for the build). If you are seeing this issue in *Docker Runner* builds, please refer to [BAM\\-19827: Docker Runner build will fail if the image used specifies a non\\-root user for the USER in the Dockerfile|https://jira.atlassian.com/browse/BAM-19827]\r\n\r\nh3.Workaround\r\n* Check the build log to see the exact command the docker run task is running and copy it to a Bamboo Script task instead of using a Bamboo Docker task. E.g.\r\n{code}\r\n/usr/bin/docker run --detach --name container-name image:latest\r\n{code}",
      "summary": "Docker task: problems running detached container "
    }
  },
  {
    "key": "BAM-19729",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-04-18T09:34:14.000+0000",
      "created": "2018-03-05T12:36:49.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, there is no such feature in Bamboo which will allow us to bulk process (add/modify/link) variables. This could be useful in cases where someone has 100's of variables to be added and linked to multiple Deployment environments or build plans.\r\n\r\nh6.Suggested Solution:\r\n* Introduce a GUI/CLI option to handle such bulk processing of Variables.",
      "summary": "Bulk process Bamboo Variables"
    }
  },
  {
    "key": "BAM-19728",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-05T12:25:49.000+0000",
      "description": "h6.Problem Description:\r\nFor e.g. We have Plan A (build plan) and Plan B(deploy plan). We have defined \"application.properties\" within artifacts section of Plan A. Within plan B, we have defined variable \"server.port\" with value \"8080\".We download the artifacts i.e. \"application.properties\" with entries such as below:\r\n{code}\r\nserver.port=${bamboo_server_port}\r\n{code}\r\nNow within the deploy plan B, this \"application.properties\" file entry should get replaced with the value i.e. server.port=8080 and then we can copy the file to the destination server.\r\n\r\nh6.Suggested Solution:\r\nHave a feature which will allow bamboo to make changes to the files using the Variables.\r\n\r\n",
      "summary": "Modifying files using Bamboo Variables."
    }
  },
  {
    "key": "BAM-19727",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-05T12:20:40.000+0000",
      "description": "h6.Problem Description:\r\nCurrently, there is no feature in bamboo to deploy SQL code to the databases using the deployment task. This could be useful where someone wants to deploy any SQL data change to the target servers.\r\n\r\nh6.Suggested Solution:\r\nTo have a Database Deploy task which will take DB credentials to push SQL changes.",
      "summary": "Deploy SQL to the databases"
    }
  },
  {
    "key": "BAM-19726",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2018-03-05T08:44:07.000+0000",
      "description": "h3. Summary\r\n\r\nWhen using the import feature of Bamboo with a non-trivial export file (many changesets, relevant changesets and test results) the import process is very slow if the database type used is MS SQL Server.\r\n\r\nh3. Environment\r\n\r\nBamboo 6.3.1\r\nDatabase MS SQL server with the Microsoft driver\r\n\r\nh3. Steps to Reproduce\r\n# Install a fresh Bamboo 6.3.1 instance with MS SQL server. \r\n# During the installation import an exported file that has many changesets (in the order of 100000),\r\nrelevant changesets (in the order of 100000), commits (in the order of 100000), and test results (in the order of millions)\r\n\r\nh3. Expected Results\r\n\r\nThe import completes in a reasonable time (in the order of tens of minutes).\r\nBy comparison when using Postgres 9.4 as the external database type the import of the same export file completes in ~45 min.\r\n\r\nh3. Actual Results\r\n\r\nThe import takes an unreasonable amount of time to complete (more than 13 days).\r\n\r\nh3. Notes\r\n\r\nUsing a different database connector such as JTDS does not change the behavior.\r\n\r\nh3. Workaround\r\n\r\nThere is no known workaround.",
      "summary": "Bamboo import using a non-trivial export file is very slow when the external database type is MS SQL Server"
    }
  },
  {
    "key": "BAM-19725",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-05-07T09:53:14.000+0000",
      "created": "2018-03-01T21:01:28.000+0000",
      "description": "h3. Summary\r\n\r\nWhen using the specs definition for the VCS Tagging task, there is a NullPointer exception when importing the task into Bamboo.\r\n\r\nh3. Steps to Reproduce\r\n# Link Build Plan to SVN repository\r\n# Set up *VCS Tagging* task pointed at the 'defaultRepository' or the numeric Repository ID\r\n# Export Specs\r\n# Import Specs\r\n\r\nh3. Expected Results\r\n\r\nTask imports without errors.\r\n\r\nh3. Actual Results\r\nNullPointerException\r\n{noformat}\r\n2018-02-28 08:25:10,432 WARN [http-nio-8085-exec-23] [BambooRuntimeExceptionMapper] Unexpected error from REST call\r\njava.lang.NullPointerException\r\n\tat java.util.ArrayList.addAll(ArrayList.java:577)\r\n\tat com.atlassian.bamboo.configuration.external.helpers.TaskDefinitionExportHelper.lambda$validateTaskProperties$0(TaskDefinitionExportHelper.java:151)\r\n\tat com.atlassian.bamboo.configuration.external.helpers.TaskDefinitionExportHelper$$Lambda$1418/634934144.accept(Unknown Source)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:741)\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n\tat com.atlassian.bamboo.configuration.external.helpers.TaskDefinitionExportHelper.validateTaskProperties(TaskDefinitionExportHelper.java:146)\r\n\tat com.atlassian.bamboo.configuration.external.PlanConfigImportServiceImpl.convertYamlToPlan(PlanConfigImportServiceImpl.java:295)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat com.sun.proxy.$Proxy522.convertYamlToPlan(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy859.convertYamlToPlan(Unknown Source)\r\n\tat com.atlassian.bamboo.plugins.rest.configuration.external.BambooPlanConfigImportResource.importPlan(BambooPlanConfigImportResource.java:101)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:192)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:83)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:53)\r\n\tat com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:34)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:53)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:110)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:190)\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n\tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\r\n\tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n\tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n\tat com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:154)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:795)\r\n\tat com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:68)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:22)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:34)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:32)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:79)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.NewRelicTransactionNamingFilter.doFilter(NewRelicTransactionNamingFilter.java:30)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.handleRequest(StrutsPrepareFilter.java:49)\r\n\tat com.atlassian.bamboo.ww2.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:38)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.BambooProfilingFilter.doFilter(BambooProfilingFilter.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:84)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\r\n\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter$1.run(SeraphLoginFilter.java:61)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runWith(ImpersonationHelper.java:26)\r\n\tat com.atlassian.bamboo.security.ImpersonationHelper.runAs(ImpersonationHelper.java:54)\r\n\tat com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:66)\r\n\tat org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\r\n\tat org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\r\n\tat org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\r\n\tat com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:21)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:74)\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:242)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:148)\r\n\tat com.atlassian.seraph.filter.BambooLoginFilter.doFilter(BambooLoginFilter.java:37)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:103)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)\r\n\tat com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:24)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:40)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.ClickjackingPreventionFilter.doFilter(ClickjackingPreventionFilter.java:27)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.bamboo.filter.CookieCacheControlFilter.doFilter(CookieCacheControlFilter.java:49)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58)\r\n\tat com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.valves.StuckThreadDetectionValve.invoke(StuckThreadDetectionValve.java:206)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n \r\n\r\nh3.Workaround\r\nnone currently",
      "summary": "NPE in specs when importing  'VCS Tagging Task'"
    }
  },
  {
    "key": "BAM-19724",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-04-03T13:26:06.000+0000",
      "created": "2018-03-01T12:47:38.000+0000",
      "description": "h6.Issue Description:\r\nWhen Bamboo Searches for Build result and if there are duplicates in the table 'buildresultsummary' then it leads to an error:\r\n{noformat}\r\n2018-02-22 08:45:56,160 ERROR [localhost-startStop-1] [BuildResultsSummaryHibernateDao] Problems getting build result summary by key 'ESIGN-SDXCON317-JOB1-58449'\r\norg.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.uniqueElement(AbstractProducedQuery.java:1487)\r\n\tat org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:388)\r\n{noformat}\r\n\r\nh6.Suggested Solution:\r\n* We should have a constraint on the column combination of 'build_number' and 'BUILD_KEY' to avoid getting duplicates in the database.\r\n\r\nh6.Workaround:\r\n* We can create a constraint on the table 'buildresultsummary' with the column combination of ''build_number' and 'BUILD_KEY' but after deleting the duplicate data. And for deleting duplicates please contact support for a better investigation.",
      "summary": "Duplicate data in table 'buildresultsummary' leads to 'NonUniqueResultException'  'query did not return a unique result'"
    }
  },
  {
    "key": "BAM-19723",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-11-30T12:45:58.000+0000",
      "created": "2018-03-01T10:05:34.000+0000",
      "description": "I want to spec a plan that just runs a simple script on a periodic/cron schedule. Ideally something this simple would be a yaml spec, but I can't specify a schedule trigger. \r\n\r\nSomething like this would work:\r\n{noformat}\r\nproject:\r\n  key: PIPE\r\n  plan:\r\n    key: MINISYNC\r\n    :\r\n    triggers:\r\n    - schedule: every 30 minutes\r\n    stage:\r\n      job:\r\n        scripts:\r\n        - curl --silent ...etc.\r\n{noformat}\r\n",
      "summary": "Schedule trigger in yaml spec"
    }
  },
  {
    "key": "BAM-19722",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11011",
        "id": "11011",
        "key": "BAM",
        "name": "Bamboo",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11011&avatarId=105290",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11011&avatarId=105290",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11011&avatarId=105290",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11011&avatarId=105290"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-07T14:48:50.000+0000",
      "created": "2018-03-01T08:55:04.000+0000",
      "description": "I'm trying out Bamboo Specs and reading the [Java tutorial|https://confluence.atlassian.com/bamboo/tutorial-create-a-simple-plan-with-bamboo-java-specs-894743911.html#Tutorial:CreateasimpleplanwithBambooJavaSpecs-Step5:PublishBambooSpecstotheBambooserver] but can't work out how to actually get the spec used in an enterprise (not local) Bamboo service.\r\n\r\nStep 5 says it explains how to run the Spec on a server, but it seems to cover the same ground as step 4, how to validate locally. \r\n\r\nPresumably the next steps are:\r\n# Push the tested spec to the remote repo.\r\n# Create a linked repository for the repo in the Bamboo service.\r\n# Turn on _Scan for Bamboo Specs_ on the Bamboo Specs tab.\r\n\r\nBut how do you tell if your spec has been detected? And if nothing gets generated where do you see what went wrong? \r\n\r\nThat information might be elsewhere but it feels like it should be part of the tutorial.",
      "summary": "Specs user guide needs to explain how to use them in Bamboo"
    }
  }
]