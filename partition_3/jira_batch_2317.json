[
  {
    "key": "BSERV-12135",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-02-10T23:25:10.000+0000",
      "created": "2020-01-14T12:04:25.000+0000",
      "description": "h3. Issue Summary\r\n\r\nRunning Bitbucket Server 6.9+ on the Azul Zulu OpenJDK results in the following warning being logged:\r\n{noformat}\r\n2020-01-14 23:13:44,921 WARN  [spring-startup] c.a.s.i.w.c.NioUnsupportedCondition NIO process execution failed\r\njava.lang.UnsatisfiedLinkError: Error looking up function 'Java_java_lang_ProcessImpl_forkAndExec': /tmp/zulu8.42.0.23-ca-jdk8.0.232/linux_x64/jre/lib/amd64/libjava.so:\r\nundefined symbol: Java_java_lang_ProcessImpl_forkAndExec\r\nat com.sun.jna.Function.<init>(Function.java:251)\r\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:594)\r\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:570)\r\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:556)\r\nat com.sun.jna.Native.register(Native.java:1846)\r\nat com.sun.jna.Native.register(Native.java:1447)\r\nat com.zaxxer.nuprocess.internal.LibJava10.<clinit>(LibJava10.java:37)\r\nat com.zaxxer.nuprocess.linux.LinuxProcess.prepareProcess(LinuxProcess.java:153)\r\nat com.zaxxer.nuprocess.linux.LinuxProcess.run(LinuxProcess.java:102)\r\nat com.zaxxer.nuprocess.linux.LinProcessFactory.runProcess(LinProcessFactory.java:50)\r\n{noformat}\r\nThis has been reproduced on RHEL 7.6 and Ubuntu 18.10.\r\n\r\nWhen starting Bitbucket Server, the following message is displayed:\r\n{noformat}\r\nYour current operating system is not supportedAs of Bitbucket 7.0, it will no longer be possible to start the application with an unsupported operating system.\r\n{noformat}\r\nIn Bitbucket Server 6.9 and 6.10 this does not interfere with the functionality of the system and can be ignored.\r\nh3. Steps to Reproduce\r\n # Download and configure Bitbucket to use the Azul Zulu 8 JDK [https://www.azul.com/products/zulu-community/]\r\n # Start Bitbucket\r\n\r\nh3. Expected Results\r\n\r\nNo warning\r\nh3. Actual Results\r\n\r\nSee above warning\r\nh3. Workaround\r\n\r\nUse AdoptOpenJDK or Oracle JRE, as these are the two that are tested and recommended.\r\n However the warning does not impact functionality in Bitbucket Server 6.9 and 6.10 in any way, so can be ignored.",
      "summary": "\"Your current operating system is not supported\" is displayed while starting Bitbucket Server when running with Azul Zulu OpenJDK"
    }
  },
  {
    "key": "BSERV-12134",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-13T21:53:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you click and focus on the source view within Bitbucket, you cannot use the space-bar to scroll down the page\r\n\r\nh3. Steps to Reproduce\r\n# Navigate to a source code file in Bitbucket\r\n# Focus on the code pane by clicking on some file contents. You'll see an inner drop shadow\r\n# Press the space key\r\n\r\nh3. Expected Results\r\n\r\nIt scrolls down. Scrolling upon space bar press is the behavior that every other page (including this form) has.\r\n\r\nh3. Actual Results\r\n\r\nNothing happens. Checking the performance tab of the developer console in the browser indicates that this key-press is being eaten by various CodeMirror JavaScript classes\r\n\r\nh3. Workaround\r\n\r\nClick outside of the code itself and press space-bar to scroll, or use the Page Down key or scroll wheel on the mouse",
      "summary": "Cannot use space-bar to scroll on source view"
    }
  },
  {
    "key": "BSERV-12133",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-13T12:29:25.000+0000",
      "description": "* I would suggest enabling PR's \"Unapprove automatically on new changes\" by default.\r\n * It would be nice to inherit this setting from the project configuration.",
      "summary": "Enable PR \"Unapprove automatically on new changes\" by default"
    }
  },
  {
    "key": "BSERV-12132",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-13T12:25:04.000+0000",
      "description": "It would be nice to be able to configure a webhook directly on the project site and then inherit the setting on each repository within this project.\r\n\r\ne.g. I have to always remember to add the same Jenkins hook for each new repository.",
      "summary": "Project webhook configuration "
    }
  },
  {
    "key": "BSERV-12131",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-20T07:50:46.000+0000",
      "created": "2020-01-13T08:54:54.000+0000",
      "description": "{panel:title=Solution|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nThis problem is caused by a bug in the Java runtime:\u00a0_JDK-8214418 HttpClient falls in running with 100% cpu usage after an error signalled on channel_\u00a0(Backported as [JDK-8241054|https://bugs.openjdk.java.net/browse/JDK-8241054])\r\n\r\nThe fix has been verified to be available in AdoptOpenJDK 11.0.8 -\u00a0[https://github.com/AdoptOpenJDK/openjdk-jdk11u/commit/8d1b63a4db2c6348a97b3cf45bd4d2caa7cad6b5]\r\n{panel}\r\nWebhooks are likely impacted by the same problem as is described here: https://jira.atlassian.com/browse/BSERV-11796\r\n In fixing BSERV-11796, all that was done was to disable TLSv1.3 in the HTTP Client, however that client instance is specific to the repository importer.\r\n\r\nThe above is suspected to relate to the following JDK bug:\r\n * JDK-8214418 HttpClient falls in running with 100% cpu usage after an error signalled on channel\r\n\r\nh3. Workaround\r\n\r\n1) Run Bitbucket Server with Java 8; or\r\n 2) (Not yet verified) The issue is observed with Java 11 that uses TLS v1.3. It is likely that TLS v1.2 works fine and will not cause this issue. This can be done by setting the following JVM parameter: {{-Dhttps.protocols=TLSv1.2}} while starting bitbucket server up.",
      "summary": "Webhooks intermittently stop working with Java 11 JRE"
    }
  },
  {
    "key": "BSERV-12130",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-13T06:22:45.000+0000",
      "description": "h3. Issue Summary\r\n\r\n{{The property\u00a0commit.list.follow.renames=false}} breaks [commit indexer module|https://developer.atlassian.com/server/bitbucket/reference/plugin-module-types/commit-property-config/]\r\nh3. Steps to Reproduce\r\n # Add the property\u00a0{{commit.list.follow.renames=false}}\r\n # Enable [Commit Property Config Plugin Module|https://developer.atlassian.com/server/bitbucket/reference/plugin-module-types/commit-property-config/]\r\n # Create [Simple Indexer|https://developer.atlassian.com/server/bitbucket/reference/plugin-module-types/commit-indexer/]\u00a0(so that commit in next step had some properties)\r\n # Create a branch *branch-2* from *master* and add a new commit to *branch-2*\r\n # Create a pull request to\u00a0*master*\r\n # Merge the commit\r\n # View the source file in *master*\u00a0OR\u00a0*master*\r\n # Switch between branches in file-source view\r\n\r\nh3. Expected Results\r\n\r\nFile content in branch the new changed branch\r\nh3. Actual Results\r\n\r\nFile content is not displayed\r\n\r\n\u00a0And error is shown in the browser console\r\n{noformat}\r\nUncaught TypeError: Cannot read property 'srcPath' of undefined\r\n    at Object.<anonymous> (source.js?_statichash=3800658fdb129aa265e6362b4f3960ee-CDN%2F-1034595541%2Fd91c598%2F1%2Fffb72ccfbc15b724d9e2bbfff3ad5edb&locale=en-US:4)\r\n    at c (jquery.js?_statichash=bcf3a0b6d6172f4d674d44bd35f2491e-CDN%2F-1034595541%2Fd91c598%2F1%2F7778f81f0137835d6a29c77fe8708f98&locale=en-US:30)\r\n...\r\n{noformat}\r\nh3. Workaround\r\nNone for now, as the only one, remove the property {{commit.list.follow.renames=false}} breaks the suggestion to resolve https://jira.atlassian.com/browse/BSERV-11530\r\n\r\n\u00a0",
      "summary": "Commit Indexer API broken"
    }
  },
  {
    "key": "BSERV-12129",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-09T04:47:42.000+0000",
      "description": "h3. Issue Summary\r\nSimultaneous requests to add the same merge check can lead to duplicate data in the database\r\n\r\nh3. Steps to Reproduce\r\n # Two simultaneous requests to enable a merge check on a repository or a project can, under certain circumstances, lead to duplicate data being inserted to the database for the merge check\r\n\r\nh3. Expected Results\r\n # Uniqueness should be enforced such that it is not possible to insert the exact same merge check more than once\r\n\r\nh3. Actual Results\r\n # Under certain circumstances duplicate data can be inserted to the database for the exact same merge check for a particular project or repository.\r\n # When this happens if the user tries to access pull request settings for the repository they will get an error message \"A database has occurred\" and the application logs show an exception along the following lines:\r\n\r\n{noformat}\r\nCaused by: org.hibernate.NonUniqueResultException: query did not return a unique result: 2\r\n        at org.hibernate.query.internal.AbstractProducedQuery.uniqueElement(AbstractProducedQuery.java:1601)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1571)\r\n        at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.uniqueResult(CriteriaQueryTypeQueryAdapter.java:81)\r\n        at com.atlassian.stash.internal.repository.HibernateRepositoryHookDao.findByKey(HibernateRepositoryHookDao.java:72)\r\n        at com.atlassian.stash.internal.hook.repository.DefaultRepositoryHookService.getEffectiveRepositoryHook(DefaultRepositoryHookService.java:593)\r\n        at com.atlassian.stash.internal.hook.repository.DefaultRepositoryHookService.getByKey(DefaultRepositoryHookService.java:268)\r\n        ... 49 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Simultaneous requests to add the same merge check can lead to duplicate data in the database"
    }
  },
  {
    "key": "BSERV-12128",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-08T17:25:36.000+0000",
      "description": "We would like to request the ability to add default reviewers for specific files/folders within a Repository. This would allow certain users/groups to be \"owners\" and be quickly/easily notified when a Pull Request is made that their team would need to review.",
      "summary": "Default reviewers for folders in a repository"
    }
  },
  {
    "key": "BSERV-12127",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-08T14:39:26.000+0000",
      "description": "Please create an option in Bitbucket to enable/disable a warning message on the Logs when a certain threshold of Git Hosting or Command tickets is reached (For instance, when you hit 90% of Hosting Tickets being used). This could be helpful to monitor Bitbucket instances and take precautions when usage spikes start happening.",
      "summary": "Create an option in Bitbucket to enable/disable a warning message on the Logs when a certain threshold of Git Hosting or Command tickets is reached"
    }
  },
  {
    "key": "BSERV-12126",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-08T22:48:41.000+0000",
      "created": "2020-01-08T12:08:53.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe branch filter only find results if the search string is the start of a \"word\"\r\n\r\nh3. Steps to Reproduce\r\n # Create a branch named {{CantFindMe}} and another one called {{Can_Find_Me}}\r\n # Go to the list of branches and enter {{Find}}\r\n\r\nh3. Expected Results\r\n\r\nBoth branches are displayed.\r\n\r\nh3. Actual Results\r\n\r\nOnly the branch {{Can_Find_Me}} is displayed. This happens because the underscore separates words, and the filter doesn't do a substring search and instead only searches from the start of a word.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Filtering branches for substrings of branch names does not yield results"
    }
  },
  {
    "key": "BSERV-12125",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-07T23:29:55.000+0000",
      "description": "For various reasons, we are using Bitbucket PR\u2019s for code review but not to actually land/merge changes. This makes it awkward when the review is done and it is time to close the PR. It seems the only option for this is for the originator to \u201cdecline\u201d the PR, which is not very intuitive. It would be better to have some sort of explicit \u201cclose this PR\u201d operation.",
      "summary": "No way to close an un-merged PR than to decline it"
    }
  },
  {
    "key": "BSERV-12124",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-17T01:08:53.000+0000",
      "created": "2020-01-07T14:56:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe documentation on the import function of Datacenter Migration is no longer available.(for server versions 5.16-6.9)\r\nh3. Steps to Reproduce\r\n # Go to [https://confluence.atlassian.com/bitbucketserver/data-center-migration-957497834.html]\r\n # There should be a section\"*Importing*\" which is absent. Also, clicking on importing examples does not work.\r\n\r\nh3. Expected Results\r\n\r\nThere should be an \"*Importing\"* section. The only one available now publicly is for version 5.14/5.15 : [Importing|https://confluence.atlassian.com/bitbucketserver0514/administering-bitbucket-server/data-center-migration/importing]\r\nh3. Actual Results\r\n\r\nThere is no *Importing* section, and clicking on link \"+sample cURL commands for import+\" directs to a page \"Off the beaten track\"\r\nh3. Workaround\r\n\r\nUse the earlier documentation for reference: [Data Center Migration|https://confluence.atlassian.com/bitbucketserver0514/administering-bitbucket-server/data-center-migration]",
      "summary": "Datacenter migration documentation (import) broken"
    }
  },
  {
    "key": "BSERV-12123",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-06T17:14:22.000+0000",
      "description": "Currently, In the *Commits* view, each commit has its commit message header displayed in black, and immediately after on the same line the body continues in grey.\r\n\r\nIn the example below, a green line has been added above the header and a red line above the body for the third commit shown.\r\n\r\n!image-2020-01-06-19-07-47-471.png!\r\n\r\nThis makes it harder to just easily scroll through the commits and read only the headers.\r\n\r\nNote that if you place the mouse over any commit, a pop up box readily appears with the full commit message:\r\n\r\n!screenshot-1.png!\r\n\r\n\u00a0\r\n\r\nSo please show only the commit message header.",
      "summary": "Show only header of commit message in Commits view"
    }
  },
  {
    "key": "BSERV-12122",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-06T00:12:45.000+0000",
      "created": "2020-01-02T17:39:48.000+0000",
      "description": "Start a Review and add multiple comments to different files and submit them as a single Review, instead of too many minor comments and spinning up a lot of verbose notifications.\u00a0",
      "summary": "Start a Review and add many comments Vs Individual Comments"
    }
  },
  {
    "key": "BSERV-12121",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-06T00:11:12.000+0000",
      "created": "2020-01-02T16:13:46.000+0000",
      "description": "Hello,\u00a0\r\n\r\nThis is very convenient feature which shows that Pull Request is still In-Progress and prevent it from being merged.",
      "summary": "Add (WIP) prefix that will prevent Pull Request from being merged"
    }
  },
  {
    "key": "BSERV-12120",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-13T23:58:13.000+0000",
      "created": "2020-01-01T01:58:11.000+0000",
      "description": "Fixes https://issues.apache.org/jira/browse/HTTPCORE-583",
      "summary": "Update Apache HTTP Components to 4.4.12"
    }
  },
  {
    "key": "BSERV-12117",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-26T22:53:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nKotlin code syntax highlighting treats code within backticks as syntax, leading to inconsistent highlighting.\r\n\r\nBitbucket uses CodeMirror for syntax highlighting and this is reported upstream as [https://github.com/codemirror/CodeMirror/issues/5775] .\r\nh3. Steps to Reproduce\r\n\r\nAdd a {{.kt}} file with:\r\n{code:java}\r\nfun `backticks aren't handled in names`() {}\r\n{code}\r\nBrowse to it in the UI.\r\nh3. Expected Results\r\n\r\nEverything within the backticks is highlighted as a single identifier.\r\nh3. Actual Results\r\n\r\nThe apostrophe is treated as the start of a string literal, which includes the rest of the file.\r\nh3. Workaround\r\n * Ignore syntax highlighting for this file.\r\n * Don't use contractions in method names",
      "summary": "Syntax highlighting for Kotlin doesn't understand backticks"
    }
  },
  {
    "key": "BSERV-12116",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-02-11T02:58:34.000+0000",
      "created": "2019-12-26T20:29:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen attempting to merge a pull request that was declined and reopened, if a PR was merged in the meantime you are unable to merge it.\r\nh3. Steps to Reproduce\r\n\r\n1. Create commit in Branch-1\r\n 2. Create commit in Branch-2\r\n 3. Create commit in Branch-3\r\n 4. Create pull request (PR1) to merge Branch-1 to existing branch (Target Branch)\r\n 5. Create pull request (PR2) to merge Branch-2 to existing branch (Target Branch)\r\n 6. Create pull request (PR3) to merge Branch-3 to existing branch (Target Branch)\r\n 7. Merge PR1 while PR2 and PR3 are open.\r\n 8. Decline PR2.\r\n 9. Merge PR3 while PR2 is declined.\r\n 10. Reopen PR2.\r\n 11. Attempt to Merge PR2\r\nh3. Expected Results\r\n\r\nYou are able to merge PR2 without issue\r\nh3. Actual Results\r\n\r\nReceive the error \"New changes were pushed to BRANCH in PROJ/repo while the merge was being performed. Please retry the merge\"\r\n\r\n!Pasted Graphic 5.png|thumbnail!\r\n\r\nDeclining and reopening the pull request does not resolve the issue\r\nh3. Workaround\r\nh4. Option 1: Rebase\r\n - Rebase the pull request using Bitbucket Server's built-in rebase functionality.\r\n - Click on the \"meatball\" menu next to the Merge button in the top right of the pull request view\r\n - Select the rebase option\r\n !https://content.screencast.com/media/58ed2758-ebd6-4e40-9d5f-4f4553ee425f_293c3d78-bf1d-4d51-becd-e53646a12bfd_static_0_0_2020-01-06_08-51-43.png!\r\n - Review your choice in the \"Rebase source branch\" dialog and click the \"Rebase\" button.\r\n !https://content.screencast.com/media/ffcfbfba-470f-4838-8c37-596cf4e27998_293c3d78-bf1d-4d51-becd-e53646a12bfd_static_0_0_2020-01-06_08-55-34.png!\r\n - You can now merge your pull request.\r\n\r\nh4. Option 2: Delete / recreate\r\n - Decline or delete the pull request\r\n_(N.B. choose decline if you would like to keep the review history and comments)_\r\n - Recreate a pull request between the same branches.\r\n - You can now merge your pull request.",
      "summary": "Unable to merge re-opened Pull Request"
    }
  },
  {
    "key": "BSERV-12115",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-07T05:20:13.000+0000",
      "created": "2019-12-26T12:13:45.000+0000",
      "description": "h3. Issue Summary\r\nWhen Bitbucket configured with Delegated LDAP connection, Bitbucket HTTP connection only have a single LDAP connection to LDAP server without timeout causing all HTTP connections loading non-stop during login\r\n\r\nh3. Steps to Reproduce\r\n# Configure Bitbucket with Delegated LDAP connection at {{Administration >> User Directories >> Add Directory >> Internal with LDAP Authentication}}\r\n# Create a user in Bitbucket Server with a LDAP username\r\n# Login with Delegated LDAP user to confirm that it is working fine\r\n# Shutdown LDAP server (port 10389) and start another application with the same port\r\n# Login with the same Delegated LDAP user\r\n# Shutdown the application that use the port 10389\r\n# Start LDAP server (port 10389)\r\n# Login with the same Delegated LDAP user in multiple browsers\r\n\r\nh3. Expected Results\r\nStep 4 will load non-stop while step 7 will succeed\r\n\r\nh3. Actual Results\r\nAll login attempt loading non-stop.\r\nThread dump shows only a single LDAP connection from HTTP thread:\r\n{noformat}\r\n\"http-nio-7990-exec-4\" #22 daemon prio=5 tid=0x00007ff16f7a1000 nid=0x7d03 in Object.wait() [0x000070000ebad000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.Object.wait(Object.java:502)\r\n\tat com.sun.jndi.ldap.Connection.readReply(Connection.java:476)\r\n\t- locked <0x000000078f1a05e8> (a com.sun.jndi.ldap.LdapRequest)\r\n\tat com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:365)\r\n\t- locked <0x000000078f1a0780> (a com.sun.jndi.ldap.LdapClient)\r\n\tat com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\r\n\t- locked <0x000000078f1a0780> (a com.sun.jndi.ldap.LdapClient)\r\n\tat com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2788)\r\n\tat com.sun.jndi.ldap.LdapCtx. (LdapCtx.java:319)\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:192)\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:210)\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:153)\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:83)\r\n\tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)\r\n\tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\r\n\tat javax.naming.InitialContext.init(InitialContext.java:244)\r\n\tat javax.naming.ldap.InitialLdapContext. (InitialLdapContext.java:154)\r\n\tat org.springframework.ldap.core.support.LdapContextSource.getDirContextInstance(LdapContextSource.java:42)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:343)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:139)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.getReadWriteContext(AbstractContextSource.java:174)\r\n\tat org.springframework.ldap.transaction.compensating.manager.TransactionAwareContextSourceProxy.getReadWriteContext(TransactionAwareContextSourceProxy.java:88)\r\n\tat org.springframework.ldap.transaction.compensating.manager.TransactionAwareContextSourceProxy.getReadOnlyContext(TransactionAwareContextSourceProxy.java:61)\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:357)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$10.timedCall(SpringLdapTemplateWrapper.java:354)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$10.timedCall(SpringLdapTemplateWrapper.java:351)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$TimedCallable.call(SpringLdapTemplateWrapper.java:146)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.invokeWithContextClassLoader(SpringLdapTemplateWrapper.java:109)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.search(SpringLdapTemplateWrapper.java:351)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.searchWithLimitedResults(SpringLdapTemplateWrapper.java:399)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchEntitiesWithRequestControls(SpringLDAPConnector.java:518)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchEntities(SpringLDAPConnector.java:479)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.searchUserObjects(SpringLDAPConnector.java:715)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.findUserWithAttributesByName(SpringLDAPConnector.java:664)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.findUserByName(SpringLDAPConnector.java:650)\r\n\tat com.atlassian.crowd.directory.SpringLDAPConnector.authenticate(SpringLDAPConnector.java:1165)\r\n\tat com.atlassian.crowd.directory.DelegatedAuthenticationDirectory.authenticate(DelegatedAuthenticationDirectory.java:171)\r\n\tat com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.authenticateUser(DirectoryManagerGeneric.java:317)\r\n\tat com.atlassian.stash.internal.crowd.CustomizedDirectoryManager.authenticateUser(CustomizedDirectoryManager.java:52)\r\n{noformat}\r\nAll other HTTP threads in waiting status:\r\n{noformat}\r\n\"http-nio-7990-exec-7\" #25 daemon prio=5 tid=0x00007ff1704f1000 nid=0x8303 waiting on condition [0x000070000eeba000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x000000078f1a0e80> (a com.atlassian.util.concurrent.ConcurrentOperationMapImpl$CallerRunsFuture)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.FutureTask.awaitDone(FutureTask.java:429)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat com.atlassian.util.concurrent.ConcurrentOperationMapImpl$CallerRunsFuture.get(ConcurrentOperationMapImpl.java:65)\r\n\tat com.atlassian.util.concurrent.ConcurrentOperationMapImpl.runOperation(ConcurrentOperationMapImpl.java:51)\r\n\tat com.atlassian.stash.internal.crowd.RiotPolice.authenticate(RiotPolice.java:132)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat com.atlassian.stash.internal.plugin.OsgiSafeProxyProvider$1.invoke(OsgiSafeProxyProvider.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy1773.authenticate(Unknown Source)\r\n\tat com.atlassian.stash.internal.auth.EmbeddedCrowdHttpAuthenticationHandler.authenticate(EmbeddedCrowdHttpAuthenticationHandler.java:51)\r\n\tat com.atlassian.bitbucket.auth.HttpAuthenticationHandler.performAuthentication(HttpAuthenticationHandler.java:88)\r\n\tat com.atlassian.stash.internal.auth.DefaultAuthenticationService.lambda$authenticateInternal$2(DefaultAuthenticationService.java:158)\r\n\tat com.atlassian.stash.internal.auth.DefaultAuthenticationService$$Lambda$548/429571195.perform(Unknown Source)\r\n\tat com.atlassian.stash.internal.auth.DefaultCaptchaService.authenticateWithCaptcha(DefaultCaptchaService.java:72)\r\n{noformat}\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Delegated LDAP only have a single LDAP connection without timeout"
    }
  },
  {
    "key": "BSERV-12114",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-05T21:40:51.000+0000",
      "created": "2019-12-26T06:42:28.000+0000",
      "description": "Currently on the pull request page the source and target branches are displayed just as plain text.\r\n\r\nIt would be very convienient to allow the user to click on the branch name and get to the branch details page.\r\n\r\n!image-2019-12-26-09-41-36-640.png|width=452,height=154!",
      "summary": "Pull request page: source and target branches should be clickable"
    }
  },
  {
    "key": "BSERV-12113",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-25T12:29:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen configuring remote Elasticsearch,\u00a0*xpack.security.enabled* must set to false in\u00a0*elasticsearch.yml.*\u00a0As a result, the user cannot configure the following security features in Elasticsearch:\r\n||Security Category||Pattern for Controls||Control Definition||Support Engineer's Verification||\r\n|Secure Access|Authentication|Active directory realms must be used for user authentication. (SSO Integration)|Must configure Elastic Stack security features to communicate with Active Directory|\r\n|Secure Access|Authorization|Segregation of duties principle must be followed for all administrative roles.|Must configure Elastic Stack security features|\r\n|Secure Access|Authorization|Enforce the least privilege principle as defined in the Access Control Standard for Elasticsearch service access.|Must configure Elastic Stack security features|\r\n|Secure Access|Authorization|RBAC must be configured to access Elasticsearch.|Require Elasticsearch Security Features for setting up RBAC in Elasticsearch with Kibana\u00a0(xpack.security.enabled: true)|\r\n|Secure Access|Authorization|Only whitelisted IP addresses must be able to access Elasticsearch domains.|Require Elasticsearch Security Features for IP filtering (xpack.security.enabled: true)|\r\n|Secure Data|Data Encryption|All nodes must authenticate using TLS certificates as they join the cluster in ElasticSearch|Must configure Elastic Stack security features|\r\n|Auditing|Auditing|Auditing must be enabled as per logging and auditing standard|Require Elasticsearch Security Features to enable an audit log (xpack.security.enabled: true)|\r\n\r\nIf we set *xpack.security.enabled: true*, remote Elasticsearch unable to start successfully.\r\nh3. Steps to Reproduce\r\n # Install and configure a remote Elasticsearch following Bitbucket documentation ([How to Install and configure a remote Elasticsearch instance|https://confluence.atlassian.com/bitbucketserver/how-to-install-and-configure-a-remote-elasticsearch-instance-815577748.html])\r\n # Open\u00a0elasticsearch.yml\r\n # Set *xpack.security.enabled: true*\r\n # Start Elasticsearch\r\n\r\nh3. Expected Results\r\n\r\nElasticsearch can start successfully.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in *elasticsearch.log*:\r\n{code:java}\r\n[2019-12-25T19:01:16,167][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [AQY_yNT] uncaught exception in thread [main][2019-12-25T19:01:16,167][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [AQY_yNT] uncaught exception in thread [main]org.elasticsearch.bootstrap.StartupException: java.lang.IllegalArgumentException: Cannot have more than one plugin implementing a REST wrapper at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:163) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.6.1.jar:6.6.1] at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) ~[elasticsearch-6.6.1.jar:6.6.1]Caused by: java.lang.IllegalArgumentException: Cannot have more than one plugin implementing a REST wrapper at org.elasticsearch.action.ActionModule.<init>(ActionModule.java:382) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.node.Node.<init>(Node.java:477) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.node.Node.<init>(Node.java:265) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:212) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:212) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) ~[elasticsearch-6.6.1.jar:6.6.1] at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-6.6.1.jar:6.6.1] ... 6 more\r\n{code}\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Provide support to use Elasticsearch Security Feature (xpack.security.enabled: true)"
    }
  },
  {
    "key": "BSERV-12112",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-24T03:56:34.000+0000",
      "created": "2019-12-24T03:54:58.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAssume that Bitbucket is connected to JiraA and JiraB instances. Bith JiraA and JiraB have an issue key, TEST-1. On the repository commits page in Bitbucket, when the issue key link is clicked, it pop-up a panel showing issues from both JiraA and JiraB. However, issue details are only visible for the topmost one. Clicking on second link in the popup does not switch context (nor does it write any message to Bitbucket logs).\r\n\r\n !bugscreen.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n\r\nAs described in the Summary above.\r\n\r\nh3. Expected Results\r\n\r\nClicking on different links in the left sidebar shows the corresponding issue detail on the right.\r\n\r\nh3. Actual Results\r\n\r\nOnly the first issue details are visible no matter which link is clicked on the left.\r\n\r\nh3. Workaround\r\n\r\nNo known workaround available at this time.",
      "summary": "In the popup for Jira issue link from multiple instances, clicking on a different jira link does not switch context"
    }
  },
  {
    "key": "BSERV-12110",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-23T07:08:49.000+0000",
      "description": "*Current situation:*\r\nThere is no way to address or transform a comment in Pull Requests with a commit message.\r\nThere are some plugins that allow that, like https://marketplace.atlassian.com/apps/1214673/comment-workflow-plugin-for-bitbucket, but this won't work in Bitbucket 7.0 due to banning consuming Events (consumed using bitbucket/util/events ) starting with bitbucket.internal.\r\n*Proposed improvement:*\r\nAs a customer, I'd like to be able to transform Pull Requests comments with a commit message.",
      "summary": "As a customer, I'd like to have a way to interact with Pull Requests comments via commit messages"
    }
  },
  {
    "key": "BSERV-12109",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-05T04:15:39.000+0000",
      "created": "2019-12-23T00:14:10.000+0000",
      "description": "h3. Issue Summary\r\n'Needs work' flag does not get reset after new push to pull-request\r\n\r\nh3. Steps to Reproduce\r\n # A pull request reviewer marks a pull request as 'needs work'\r\n # Changes are pushed to the pull request branch\r\n\r\nh3. Expected Results\r\nThe 'needs work' flag should be removed (leaving the reviewer's status as 'unapproved')\r\n\r\nh3. Actual Results\r\nIn certain circumstances the 'needs work' flag is not removed\r\n\r\nh3. Workaround\r\nA workaround is for any of the pull request reviewers to update their status (for example for the reviewer who still has the 'needs work' flag to remove it and add it again).",
      "summary": "'Needs work' flag does not get reset after new push to pull-request"
    }
  },
  {
    "key": "BSERV-12108",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-19T19:44:44.000+0000",
      "description": "The text displayed by README.md files currently auto-fills to the width of my screen, which I assume is true for all users.\r\n\r\nThis is visually unappealing for people with wide monitors especially since so many other websites limit their line widths - like confluence for example.\r\n\r\nPlease set up Bitbucket so that README.md files are displayed at reasonably limited line widths.",
      "summary": "Automatically wrap text rendered from README.md files"
    }
  },
  {
    "key": "BSERV-12107",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-18T04:20:28.000+0000",
      "description": "h3. Issue Summary\r\nIf 2 folder names are #test and ##test, diff view shows the incorrect file when selected\r\n\r\nh3. Steps to Reproduce\r\n# Create 2 folders named \"#test\" and \"##test\"\r\n# Create a file \"test\" with content \"test1\" inside folder \"#test\"\r\n# Create a file \"test\" with content \"test2\" inside folder \"##test\"\r\n# Push commit to Bitbucket Server\r\n# Create a pull request\r\n# Select the file \"test\" inside the folder \"#test\" from the Diff View\r\n\r\nh3. Expected Results\r\nIt will show the content \"test1\"\r\n\r\nh3. Actual Results\r\n* It shows the content \"test2\"\r\n* The Diff View highlighted the file \"test\" inside folder \"##test\"\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Incorrect hash character folder name used in diff view"
    }
  },
  {
    "key": "BSERV-12106",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-17T10:35:06.000+0000",
      "description": "Normally Bitbucket renders Readme.MD by default for a folder, it would be nice if\u00a0this wasn't as tightly coupled to the name readme.md.\r\n\r\n\u00a0\r\n\r\nInstead it could pick Readme.md if it exist, if not, then if there is a single .md file in the folder, of any name, it would pick that instead.\r\n\r\n----\r\nIf there is more than one MD file, i could see some options:\r\n\u00a0A) If there is a Readme.md, render than, otherwise render none.\r\n\u00a0B) If there is a Readme.md, otherwise render the first .md file found, if any.\r\n\u00a0C)\u00a0If there is a Readme.md, otherwise render a list of .md files, if any.\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Render any .MD file as default"
    }
  },
  {
    "key": "BSERV-12105",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-17T21:55:55.000+0000",
      "created": "2019-12-17T08:51:45.000+0000",
      "description": "h3. Issue Summary\r\nUpgrading the Bitbucket Server instance to version 6.9.0 on production, upon start-up this had alert the System Administrator regarding the requirement of Bitbucket Server version 7.0. However, the alert misleads the instance should be hosted in staging/testing instance.\r\n\r\nThe misleading caused by the [Supported platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html] *Definitions*:\r\n !Supported-platforms-limited-support.png|thumbnail! \r\n\r\nh3. Steps to Reproduce\r\n# Upgrade Bitbucket Server to version 6.9.0 on older OS such as Red Hat Enterprise Linux Server release 5.3 (Tikanga)\r\n# Startup Bitbucket Server.\r\n\r\nh3. Expected Results\r\nA better notification instead of the (i) icon, use the (tick) icon.\r\n\r\nh3. Actual Results\r\n !bitbucket-6.9.0-OS-not-supported.png|thumbnail! \r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Misleading unsupported warning message from alert notification causing confusion"
    }
  },
  {
    "key": "BSERV-12104",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-17T21:22:55.000+0000",
      "created": "2019-12-17T07:24:53.000+0000",
      "description": "There does not seem to be a way to click to see the next diff on a pull request viewed side by side. I don't see any arrow button to allow user to see the next change.\r\n\r\nAll other side by side diff utilities such as FishEye and meld in unix provides a way for user to view the next change. It is easier for some people to view changes side by side.\r\n\r\nKindly requesting you to have this feature request and implement the same.\r\n\r\nThanks,\r\n\r\nMahesh M",
      "summary": "There does not seem to be a way to click to see the next diff on a pull request viewed side by side"
    }
  },
  {
    "key": "BSERV-12103",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-17T04:13:30.000+0000",
      "created": "2019-12-17T04:10:26.000+0000",
      "description": "The version of the Application Links plugin used in Bitbucket Server and Bitbucket Data Center before version 5.16.6, from version 6.0.0 before version 6.0.6, from version 6.1.0 before version 6.1.5, from version 6.2.0 before version 6.2.2, and from version 6.3.0 before version 6.3.1 allows remote attackers to obtain information about configured application links via a missing permissions check. See https://ecosystem.atlassian.net/browse/APL-1386 for more details.",
      "summary": "https://jira.atlassian.com/browse/JRASERVER-70409 for Bitbucket Server"
    }
  },
  {
    "key": "BSERV-12101",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-23T04:14:26.000+0000",
      "created": "2019-12-17T02:48:03.000+0000",
      "description": "h2. Problem\r\n\r\nWhen a plugin job executor calls {{PullRequestService.searchByCommit}}, the call throws an exception because it requires an authenticated user. Escalating privileges with\u00a0{{SecurityService.withPermission(Permission.REPO_READ, \"reason\")}} isn't enough.\r\n\r\nA roughly similar call, {{PullRequestService.search}} does not require an authenticated user.\u00a0{{searchByCommit}} applies stricter security predicates.\r\nh2. Proposed solution\r\n\r\nApply the same security predicate in\u00a0 {{PullRequestService.searchByCommit}} as\u00a0{{PullRequestService.search}}.",
      "summary": "PullRequestService.searchByCommit should require same permission as PullRequestService.search"
    }
  },
  {
    "key": "BSERV-12100",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-23T04:33:39.000+0000",
      "created": "2019-12-17T01:23:58.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBitbucket Server versions >= 4.13 had a Remote Code Execution vulnerability via the edit-file request. A remote attacker with write permission on a repository can write to\u00a0any arbitrary file on the filesystem that is accessible to the user running Bitbucket Server, using the edit-file endpoint. In some cases, this can result in execution of arbitrary code by the victim's Bitbucket Server instance.\r\n\r\n*Affected versions:*\r\nThe versions of Bitbucket Server affected by this vulnerability are:\r\n * from version 4.13.x before 5.16.11 (fixed version for 5.16.x),\r\n * from version 6.0.x before 6.0.11 (fixed version for 6.0.x),\u00a0\r\n * from version 6.1.x before 6.1.9 (fixed version for 6.0.x),\u00a0\r\n * from version 6.2.x before 6.2.7 (fixed version for 6.0.x),\u00a0\r\n * from version 6.3.x before 6.3.6 (fixed version for 6.0.x),\u00a0\r\n * from version 6.4.x before 6.4.4 (fixed version for 6.0.x),\u00a0\r\n * from version 6.5.x before 6.5.3 (fixed version for 6.0.x),\u00a0\r\n * from version 6.6.x before 6.6.3 (fixed version for 6.0.x),\u00a0\r\n * from version 6.7.x before 6.7.3 (fixed version for 6.0.x),\u00a0\r\n * from version 6.8.x before 6.8.2 (fixed version for 6.0.x)\r\n * from version 6.9.x before 6.9.1 (fixed version for 6.0.x)\r\n\r\nh3. Workaround\r\n\r\nThe edit-file feature can be disabled by following the steps below:\r\n * In bitbucket.properties, set\u00a0feature.file.editor=false\r\n * Restart the Bitbucket Server instance\r\n\r\n For more information, see:\u00a0[https://confluence.atlassian.com/bitbucketserver/bitbucket-server-config-properties-776640155.html]",
      "summary": "Remote Code Execution (RCE) via in Browser Editing"
    }
  },
  {
    "key": "BSERV-12099",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-23T04:34:02.000+0000",
      "created": "2019-12-17T01:22:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBitbucket Server & Bitbucket Data Center had an argument injection vulnerability, allowing an attacker to inject additional arguments into Git commands, which could lead to remote code execution. Remote attackers can exploit this argument injection vulnerability if they are able to access a Git repository in Bitbucket Server or Bitbucket Data Center. If public access is enabled for a project or repository, then attackers are able to exploit this issue anonymously.\r\n\r\n*Affected versions:*\r\n\r\nThe versions of Bitbucket Server affected by this vulnerability are:\r\n * from version 1.x.x before 5.16.11 (fixed version for 5.16.x),\r\n * from version 6.0.x before 6.0.11 (fixed version for 6.0.x),\u00a0\r\n * from version 6.1.x before 6.1.9 (fixed version for 6.0.x),\u00a0\r\n * from version 6.2.x before 6.2.7 (fixed version for 6.0.x),\u00a0\r\n * from version 6.3.x before 6.3.6 (fixed version for 6.0.x),\u00a0\r\n * from version 6.4.x before 6.4.4 (fixed version for 6.0.x),\u00a0\r\n * from version 6.5.x before 6.5.3 (fixed version for 6.0.x),\u00a0\r\n * from version 6.6.x before 6.6.3 (fixed version for 6.0.x),\u00a0\r\n * from version 6.7.x before 6.7.3 (fixed version for 6.0.x),\u00a0\r\n * from version 6.8.x before 6.8.2 (fixed version for 6.0.x)\r\n * from version 6.9.x before 6.9.1 (fixed version for 6.0.x)\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround.",
      "summary": "Remote Code Execution (RCE) via Argument Injection"
    }
  },
  {
    "key": "BSERV-12098",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-23T04:34:12.000+0000",
      "created": "2019-12-17T01:20:25.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBitbucket Server versions starting from 3.0.0 had a Remote Code Execution vulnerability via certain user\u00a0input fields.\u00a0A remote attacker with user level permissions can exploit this vulnerability to run arbitrary commands on the victim's systems. Using a specially crafted payload as user input, the attacker can execute arbitrary commands on the victim's Bitbucket server instance.\r\n\r\n*Affected versions:*\r\nThe versions of Bitbucket Server affected by this vulnerability are:\r\n * from version 3.x.x before 5.16.11 (the fixed version for 5.16.x),\r\n * from version 6.0.x before 6.0.11 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.1.x before 6.1.9 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.2.x before 6.2.7 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.3.x before 6.3.6 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.4.x before 6.4.4 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.5.x before 6.5.3 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.6.x before 6.6.3 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.7.x before 6.7.3 (the fixed version for 6.0.x),\u00a0\r\n * from version 6.8.x before 6.8.2 (the fixed version for 6.0.x)\r\n * from version 6.9.x before 6.9.1 (the fixed version for 6.0.x)\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround.\r\n\u00a0",
      "summary": "Remote Code Execution (RCE) via certain user input fields"
    }
  },
  {
    "key": "BSERV-12097",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-16T04:51:18.000+0000",
      "description": "h2. Problem\r\n\r\nCurrently, the [PullRequestService searchByCommit|https://docs.atlassian.com/bitbucket-server/javadoc/6.8.1/api/com/atlassian/bitbucket/pull/PullRequestService.html#searchByCommit-com.atlassian.bitbucket.pull.PullRequestCommitSearchRequest-com.atlassian.bitbucket.util.PageRequest-] API does not have a bulk lookup option. This requires plugin developers to iterate through the API, which may cause performance issues.\r\nh2. Proposed solution\r\n\r\nImplement a bulk lookup method for the searchByCommit api where we can pass multiple commit ID's and return a list of pull requests for each ID.",
      "summary": "Provide a bulk lookup API for pullRequestService.searchByCommit"
    }
  },
  {
    "key": "BSERV-12096",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-13T07:05:15.000+0000",
      "created": "2019-12-12T05:00:56.000+0000",
      "description": "Hello Team,\u00a0\r\n\r\n\u00a0\r\n\r\nPresently we are using Bitbucket 6.3.0 version . We are planning to Upgrade our Bitbucket Data center .Need some guidance on the version which needs to be downloaded . We could see 6.9.0 is the latest version . We need Atlassian recommended version for upgrade from our current Bitbucket 6.3.0 version\u00a0 to next .\u00a0",
      "summary": "Need guidance on Bitbucket Version Upgrade "
    }
  },
  {
    "key": "BSERV-12094",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-11T19:28:15.000+0000",
      "description": "h3. Problem Definition\r\nAs can be seen at [Global permissions|https://confluence.atlassian.com/bitbucketserver/global-permissions-776640369.html] System Admins can do absolutely everything in Bitbucket. This allows other Sys Admins to disable forced PRs and merge rules created by another Sys Admin.\r\n\r\nh3. Suggested Solution\r\nThere should be some way of blocking Sys Admins from disabling forced PRs and merge rules created by another Sys Admin. \r\nMaybe a modal window could be displayed to the System Admin that is trying to do those things explaining the situation and offering to contact the original System Admin asking for permissions to do those things?\r\n\r\nh3. Workaround\r\nCurrently there aren't any known workarounds.",
      "summary": "Block Sys Admins from disabling forced PRs and merge rules created by another Sys Admin"
    }
  },
  {
    "key": "BSERV-12093",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-11T12:53:44.000+0000",
      "description": "h3. Current situation\r\nDuring AWS re:Invent 2019  there was new instance generation presented: https://aws.amazon.com/ec2/nitro/\r\n\r\nBitbucket AMI 2019.06.21_0524 however cannot start on such instances because it was created without consideration of usage [NVMe block devices|https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nvme-ebs-volumes.html].\r\n\r\nh3. Proposed soultion\r\nProvide new version of AMI compatible with AWS Nitro instances and NVMe block devices.",
      "summary": "Provide AMI support for AWS Nitro instances"
    }
  },
  {
    "key": "BSERV-12092",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-10T00:00:33.000+0000",
      "created": "2019-12-09T13:25:02.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCrowd SSO 2.0 requires installation of the additional app [SSO for Atlassian Server and Data Center|https://marketplace.atlassian.com/apps/1216096/sso-for-atlassian-server-and-data-center] as the embedded version supports only Data Center license and doesn't provide any Crowd SSO 2.0 integration.\r\n Bitbucket Embedded: {{3.0.0-a22dd6d com.atlassian.plugins.authentication.atlassian-authentication-plugin}}\r\n Crowd SSO 2.0 supported version: {{3.2.0 com.atlassian.plugins.authentication.atlassian-authentication-plugin}}\r\nh3. Steps to Reproduce\r\n # Navigate Addons -> Find New Apps\r\n # Search for \"SSO for Atlassian Server and Data Center\"\r\n\r\nh3. Expected Results\r\n\r\nInstallation or upgrade button is available *OR* No installation required as the embedded addons supports Crowd 2.0 SSO\r\nh3. Actual Results\r\n\r\nThe result shown that the addon already installed and latest version (Manage button available). Navigating to {{$Bitbucket_URL/plugins/servlet/authentication-config}} is giving a message \"SAML single sign-on is only available if you have a data center license\".\r\n !Screenshot 2019-12-09 at 14.21.10.png|thumbnail! \r\n !Screenshot 2019-12-09 at 14.21.02.png|thumbnail!\r\nh3. Workaround\r\n # Download manually the latest supported version from [https://marketplace.atlassian.com/apps/1216096/sso-for-atlassian-server-and-data-center/version-history]\r\n # Navigate to Addons -> Manage Apps\r\n # Click \"Upload Apps\"\r\n # Upload and install the downloaded previously jar with new version of addon.\r\n # Refresh the screen to get the access to SSO 2.0 menu",
      "summary": "Impossible to install Crowd SSO 2.0 plugin to Bitbucket Server via \"Find new apps\""
    }
  },
  {
    "key": "BSERV-12091",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-09T10:16:46.000+0000",
      "description": "The European GDPR forces every platform provider of internet applications to provide proper privacy and imprint information individually on that platform.\r\n\r\nWe encountered that there is no easy way in Bitbucket to provide that Information.\r\n As you as software provider need to keep us as customer your might assist us keep Bitbucket running by providing at least a simple ability to set custom \"privacy\" and \"imprint\" links on every Bitbucket site (I think in that footer where also \"about Bitbucket\" and \"Report a Problem\" and so on is linked is a good place). We could create websites to present this information.\r\n\r\nA better approach would be to have the gdpr/privacy/imprint information to be customizable in Bitbucket admin interface and simply klickable. But afaik this might be a bigger change.\r\n\r\nh3. Workaround\r\n\r\nWhile this feature doesn't exist in Bitbucket right now, it's possible to add a small amount of custom content in the form of an [Announcement Banner|https://confluence.atlassian.com/bitbucketserver/add-a-system-wide-announcement-banner-973479805.html]. This will allow you to add a few links that appear above the application's navigation bar.",
      "summary": "Add customizable \"privacy\" and \"imprint\" Links in Footer"
    }
  },
  {
    "key": "BSERV-12088",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-06T18:11:03.000+0000",
      "description": "This is the same as\u00a0BCLOUD-8586, but for Bitbucket Server.\r\n\r\nAs a reviewer, we would like the ability to have checklists in the details section of pull requests, similar to what we can do with other major Git hosting solutions like Github and Gitlab.",
      "summary": "Markdown Checkboxes in Pull Request Descriptions"
    }
  },
  {
    "key": "BSERV-12086",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-05T19:16:23.000+0000",
      "description": "Is there a\u00a0way to extract a pull request report from branch difference.\r\n\r\nAs part of the change request process, the release teams want to know that all the changes going in has been code reviewed.\r\nI want to compare 2 branches and be able to extract all the pull request associated with the difference.",
      "summary": "Pull Request Report"
    }
  },
  {
    "key": "BSERV-12085",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-04T13:43:47.000+0000",
      "description": "h3. Current situation:\r\n\r\nIn Bitbucket up to 5.16 testing of webhooks wouldn't send any message body.\r\n In Bitbucket 6.0 a body message has been introduced:\r\n{code:java}\r\n{\"test\": true}\r\n{code}\r\nHowever, it may still cause tests to fail with *400 Bad Request error* if another body is expected.\r\nh3. Desired situation:\r\n\r\nUsers should be able to define a custom body message while testing Bitbucket webhooks.",
      "summary": "Testing Bitbucket Server webhooks should allow using custom body message."
    }
  },
  {
    "key": "BSERV-12084",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-04T10:08:04.000+0000",
      "description": "In the commits list/tab we have additional formatting for merge commits (greyed out). It would be nice to also have some additional visual formatting for reverted commits (red/italic/strikeout), created using\r\n{noformat}\r\ngit revert <commithash>\r\n{noformat}\r\n\r\nAt the moment a reverted commit looks like a normal commit, with an additional message \r\n\r\n{noformat}\r\n/commit message/ This reverts commit <commithash>\r\n{noformat}",
      "summary": "Add extra formatting (red font/strikeout line) for revert commits"
    }
  },
  {
    "key": "BSERV-12081",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-03T09:29:21.000+0000",
      "description": "Currently the lock button only appears in the UI for LFS files (regardless if they have been registered as lockable).\u00a0 However, the [documentation for LFS locking|https://github.com/git-lfs/git-lfs/wiki/File-Locking] includes a use case for locking non-LFS files:\r\n{quote}If you'd like to register a file type as lockable, without using LFS, you can edit the {{.gitattributes}} file directly:\r\n\r\n\u00a0\r\n{{\u00a0*.yml lockable}}{quote}\r\nDoing this gives the correct file permissions client side, but unfortunately does not provide a button for the user to lock files within Bitbucket.",
      "summary": "Make lock button available for non-LFS files"
    }
  },
  {
    "key": "BSERV-12080",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-10T21:55:20.000+0000",
      "created": "2019-12-02T15:17:57.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDuring a routine user directory synchronization (automatic) a stack trace is logged regarding a database constraint violation (SYS_PK_10133).\r\n Duplicate values are being inserted into {{cwd_directory_attribute}} table\r\n\r\nThe synchronisation itself is not affected and all users and groups are property synchronized.\r\nh3. Steps to Reproduce\r\n\r\nCannot be reproduced.\r\nh3. Expected Results\r\n\r\nA successful synchronization should not report errors.\r\nh3. Actual Results\r\n\r\nThe below exception(s) are thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n ERROR [Caesium-1-4] c.a.c.d.DbCachingDirectoryPoller Error occurred while refreshing the cache for directory [ xxxx ]. java.lang.IllegalStateException: Updating end time with no current start synchronisation time.\r\n{noformat}\r\nand\r\n{noformat}\r\n2019-09-27 13:28:19,313 WARN  [Caesium-1-1]  o.h.e.jdbc.spi.SqlExceptionHelper SQL Error: 2627, SQLState: 23000\r\n2019-09-27 13:28:19,313 ERROR [Caesium-1-1]  o.h.e.jdbc.spi.SqlExceptionHelper Violation of PRIMARY KEY constraint 'SYS_PK_10133'. Cannot insert duplicate key in object 'dbo.cwd_directory_attribute'. The duplicate key value is (xxxxx, com.atlassian.crowd.directory.sync.currentstartsynctime).\r\n2019-09-27 13:28:19,313 ERROR [Caesium-1-1]  o.h.i.ExceptionMapperStandardImpl HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute batch]\r\n2019-09-27 13:28:19,315 ERROR [Caesium-1-1]  c.a.c.d.DbCachingDirectoryPoller Error occurred while refreshing the cache for directory [ xxxx ].\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into cwd_directory_attribute (directory_id, attribute_name, attribute_value) values (?, ?, ?)]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:247)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:801)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:637)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.synchronise(DirectorySynchroniserImpl.java:75)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor782.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.crowd.directory.DbCachingDirectoryPoller.pollChanges(DbCachingDirectoryPoller.java:45)\r\n\tat com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerJobRunner.runJob(DirectoryPollerJobRunner.java:92)\r\n\tat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:134)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:106)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:90)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.launchJob(CaesiumSchedulerService.java:435)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJob(CaesiumSchedulerService.java:430)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJobWithRecoveryGuard(CaesiumSchedulerService.java:454)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeQueuedJob(CaesiumSchedulerService.java:382)\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeJob(SchedulerQueueWorker.java:66)\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeNextJob(SchedulerQueueWorker.java:60)\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t... 17 frames trimmed\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:129)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:105)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:147)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:212)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:633)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1484)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:515)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3348)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2519)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:625)\r\n\t... 19 common frames omitted\r\nCaused by: java.sql.BatchUpdateException: Violation of PRIMARY KEY constraint 'SYS_PK_10133'. Cannot insert duplicate key in object 'dbo.cwd_directory_attribute'. The duplicate key value is (229378, com.atlassian.crowd.directory.sync.currentstartsynctime).\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2065)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:119)\r\n\t... 36 common frames omitted\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "User directory synchronisation  produces stacktrace"
    }
  },
  {
    "key": "BSERV-12079",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-12-02T05:19:24.000+0000",
      "description": "h3. Issue Summary\r\nWhen @ mentioning a user with a korean name, and typing it with a korean keyboard layout, the automatic drop down search does not find users compared to typing english.\r\n\r\nh3. Steps to Reproduce\r\n # Setup a user with a korean name\r\n # Install a korean keyboard layout on your computer\r\n # Navigate to a pull request and start typing the korean name after an @ symbol (in a comment)\r\n\r\nh3. Expected Results\r\nA dropdown list of users matching two characters or more begin to display.\r\n\r\nh3. Actual Results\r\nNo users appear in the dropdown.\r\n\r\nh3. Workaround\r\nAdd a space and then delete the space to trigger the user search.",
      "summary": "When @ mentioning a user in Korean, listed results / search do not show while typing"
    }
  },
  {
    "key": "BSERV-12078",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-29T14:35:06.000+0000",
      "description": "h3. Problem statement\r\nThe users with weekly or daily releases are getting in trouble with merge conflicts regarding to the parent and/or project version of your pom.xml files. In a project with many child modules this is a real pain.\r\nRIght now Bitbucket is stopping auto-merge in case of any conflict including the mentioned above with the version in pom files.\r\n\r\nh3. Solution\r\nIt would be good to have Bitbucket automatically handling the version conflicts in pom files as it's done with [POMUtil libraries|https://github.com/cecom/pomutils].",
      "summary": "Improve the automatic branch merging to auto-resolve the version conflict in pom.xml files"
    }
  },
  {
    "key": "BSERV-12077",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-29T11:01:01.000+0000",
      "description": "Bitbucket Server lets me add shortcuts to the sidebar of each repository. Currently, each such shortcut has the same icon, provided by Bitbucket Server. If I could set a custom icon for each shortcut, then it would be easier to distinguish the shortcuts from each other, especially when the sidebar has been collapsed. For example, a link to a Jenkins job that uses the repository could have the Jenkins logo as its icon.\r\n\r\nI can imagine a few ways to implement this:\r\n\r\n# Change the \"Add shortcut\" and \"Edit shortcut\" pop-ups so that an icon can be uploaded and used. These pop-ups currently have only \"URL\" and \"Label\" fields.\r\n# Add an \"Icon URL\" text box to the \"Add shortcut\" and \"Edit shortcut\" pop-ups. Prefill it with the address of favicon.ico at the linked site but allow editing. Use the URL as is in the sidebar, without trying to load the icon at server side. This would probably be easier to maintain than the first option: if the icon ever needs to be updated, one can do it at the web site that hosts the icon, instead of editing the shortcuts in every repository individually.\r\n\r\nBecause we can link to multiple web applications in different paths at the same HTTP host:port combination and want different icons for them, it would not be sufficient to only use favicon.ico from the root directory of the web site without letting the administrator choose a different one.",
      "summary": "Custom icons for repository sidebar URL shortcuts"
    }
  },
  {
    "key": "BSERV-12076",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-29T06:28:53.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe following error message\u00a0is logged in {{atlassian-bitbucket.log}} only if log level was set to DEBUG:\r\n{code:java}\r\njava.lang.IllegalArgumentException: BouncyCastle provider was not provided properly{code}\r\nWhen this error occurs, SSH-related operations fail (e.g. adding SSH keys, SSH Git operations) so it would be important to see it as soon as it occurs and even if debug logging was not turned on.\r\n\r\nUnless log level was set to DEBUG, this message would not have appeared in the log file.\r\nh3. Steps to Reproduce\r\n\r\nUnable to replicate.\r\nh3. Expected Results\r\n\r\nWrite the message as an ERROR in the log\r\nh3. Actual Results\r\n\r\nMessage will only be written when log level was set to DEBUG.\r\nh3. Workaround\r\n\r\nSet Bitbucket's log level to DEBUG",
      "summary": "Log message related to the BouncyCastle being not provided at a higher level"
    }
  },
  {
    "key": "BSERV-12075",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-24T06:46:33.000+0000",
      "created": "2019-11-29T06:22:43.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen restoring with the backup client to PostgreSQL 10+ the AO table sequences are not in-sync. This also occurs with PostgreSQL 11+. This has been observed for Backup clients 3.3.4 - 3.6.0 (others untested).\r\nh3. Steps to Reproduce\r\n # Backup Bitbucket with the backup client\r\n # Restore Bitbucket with the backup client to PostgreSQL DB 10+\r\n\r\nh3. Expected Results\r\n\r\nThe sequences for AO tables are in-sync with the entries in the AO table\r\nh3. Actual Results\r\n\r\nThe sequences have reset for the AO table\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file when Bitbucket attempts to add a new entry to the AO table:\r\n{noformat}\r\n... 355 frames trimmed\r\n Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"AO_FB71B4_SSH_PUBLIC_KEY_pkey\"\r\n Detail: Key (\"ENTITY_ID\")=(14) already exists.\r\n at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440)\r\n at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183)\r\n at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308)\r\n at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441)\r\n at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365)\r\n at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:143)\r\n at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:120)\r\n at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n at net.java.ao.db.PostgreSQLDatabaseProvider.executeInsertReturningKey(PostgreSQLDatabaseProvider.java:336)\r\n at net.java.ao.DatabaseProvider.insertReturningKey(DatabaseProvider.java:1882)\r\n at net.java.ao.db.PostgreSQLDatabaseProvider.insertReturningKey(PostgreSQLDatabaseProvider.java:298)\r\n at net.java.ao.EntityManager.create(EntityManager.java:367)\r\n at net.java.ao.EntityManager.create(EntityManager.java:400)\r\n at com.atlassian.activeobjects.internal.EntityManagedActiveObjects.create(EntityManagedActiveObjects.java:100)\r\n ... 84 common frames omitted\r\n ...skipping...\r\n at com.atlassian.stash.internal.sp{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. Sequences can be manually fixed by following [Fixing Sequences - PostgreSQL wiki|https://wiki.postgresql.org/wiki/Fixing_Sequences]\r\n\r\nYou can check if the AO table is out of sync by using the following commands and comparing the output. Example for the {{AO_FB71B4_SSH_PUBLIC_KEY}} table:\r\n{code:sql}\r\n--- Dump table contents\r\nSELECT * FROM \"AO_FB71B4_SSH_PUBLIC_KEY\" ORDER BY \"ENTITY_ID\" DESC;\r\n--- Check sequence count\r\nSELECT * FROM \"AO_FB71B4_SSH_PUBLIC_KEY_ENTITY_ID_seq\";\r\n{code}",
      "summary": "When restoring with the Backup client to PostgreSQL 10+ the AO table sequences are not updated"
    }
  },
  {
    "key": "BSERV-12074",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-29T06:11:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSSH keys cannot be added for users and SSH Git operations fail because the BouncyCastle provider was unloaded after Bitbucket has been running for some time. BouncyCastle is a package for cryptographic algorithms used by Bitbucket.\r\nh3. Steps to Reproduce\r\n\r\nUnable to replicate.\r\n The error occurs after Bitbucket has been running for some time. SSH-related operations initially worked but will fail after the BouncyCastle provider is unloaded.\r\nh3. Expected Results\r\n - Adding SSH keys or performing SSH Git operations should continue working\r\n - The BouncyCastle provider should not be unloaded\r\n\r\nh3. Actual Results\r\n - After some time, the BouncyCastle provider is removed, resulting in SSH-related operations to fail\r\n - The following debug message appears in\u00a0the {{atlassian-bitbucket.log}} file:\r\n{code:java}\r\njava.lang.IllegalArgumentException: BouncyCastle provider was not provided properly\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nRestart Bitbucket to reload the BouncyCastle provider",
      "summary": "SSH keys cannot be added because the BouncyCastle provider was unloaded"
    }
  },
  {
    "key": "BSERV-12073",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-29T04:15:44.000+0000",
      "description": "h3. Problem Definition\r\n\r\nVersion informations should not be accessible to any non authenticated user.\r\n\r\nFor some customers, this could represent a security concern.\r\nh3. Suggested Solution\r\n\r\nHide any version information (for example from the footer of Bitbucket) or provide an option to do so.\r\nh3. Workaround\r\n\r\nTo hide the footer, the steps are as follows:\r\n1. Open *$BITBUCKET_INST/app/static/bitbucket/internal/webpanels/global-footer.soy* in a text editor\r\n 2. Locate the following section:\r\n{code:java}\r\n<li>{productFullName()} <span title=\"{$hash}\" id=\"product-version\" data-commitid=\"{$hash}\" data-system-build-number=\"{$systemBuildNumber}\"> v{$buildVersion}</span></li>\r\n{code}\r\nEdit it so it looks like:\r\n{code:java}\r\n{if false}\r\n    <li>{productFullName()} <span title=\"{$hash}\" id=\"product-version\" data-commitid=\"{$hash}\" data-system-build-number=\"{$systemBuildNumber}\"> v{$buildVersion}</span></li>\r\n{/if}{code}\r\n\r\n3. Restart Bitbucket Server\r\n\r\nIn case of a data center setup, this needs to be performed on each node.\r\nh3. Note\r\n\r\nWrapping the list item in an {{if}} block that will never execute it guarantees that the item remains hidden, but will still allow the template to function correctly.",
      "summary": "As an administrator, I want to be able to hide any version information from Bitbucket for anonymous users"
    }
  },
  {
    "key": "BSERV-12071",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-27T18:28:02.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen you enter a commit hash in the search bar, there is a dropdown that will take you to the commit you entered. However, if you hit enter and search the commit hash, you won't get any results. Some users have found this confusing and not ideal.\u00a0\r\n !image-2019-11-27-12-27-29-834.png|thumbnail!\r\nh3. Suggested Solution\r\n\r\nDisplay the commit in search results as well as drop down.\u00a0\r\nh3. Workaround\r\n\r\nUse the dropdown option.",
      "summary": "Commit Hash Search Has No Results"
    }
  },
  {
    "key": "BSERV-12070",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-27T18:11:37.000+0000",
      "description": "h3. Problem Statement\r\nRight now admins can only set or create hooks at either project or repository level, there is no way to create a hook at instance level.\r\nSome user would like to create 1 hook that would be applied to all projects/repositories without having to create it for each project.\r\n\r\nh3. Expected behavior\r\nHave a setting under the setting of the Bitbucket which allow an admin to create a hook for all projects/repositories, with only admins being able to enable or disable.\r\n\r\nh3. Workaround\r\nCurrently there is no workaround, the only viable option is with a custom script that would create the same hook over and over for all projects.",
      "summary": "A way to Set up Hooks at Instance level"
    }
  },
  {
    "key": "BSERV-12069",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-12T23:44:24.000+0000",
      "created": "2019-11-27T10:07:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using Bitbucket Server 6.x with OpenJDK 11, there are warnings on Hazelcast both on the application and launcher logs.\r\nh3. Steps to Reproduce\u00a0\r\n # Install OpenJDK 11\r\n # Install Bitbucket 6.8.0\r\n # Ensure that Bitbucket is using this OpenJDK 11\r\n # Start Bitbucket Server\r\n # Check\u00a0atlassian-bitbucket.log and launcher.log\r\n\r\nh3. Expected Results\r\n\r\nHazecast should be working with OpenJDK 11. Thus, the warning message should not be produced.\r\nh3. Actual Results\r\n\r\nThe below warning message is shown on\u00a0atlassian-bitbucket.log:\r\n{noformat}\r\n2019-11-26 14:41:54,706 WARN [spring-startup] c.h.i.HazelcastInstanceFactory Hazelcast is starting in a Java modular environment (Java 9 and newer) but without proper access to required Java packages. Use additional Java arguments to provide Hazelcast access to Java internal API. The internal API access is used to get the best performance results. Arguments to be used: --add-modules java.se --add-exports java.base/jdk.internal.ref=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.management/sun.management=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n{noformat}\r\n\r\nThe below warning is shown on launcher.log:\r\n{noformat}\r\nWARNING: Illegal reflective access by com.hazelcast.internal.networking.nio.SelectorOptimizer (jar:file:/opt/atlassian/bitbucket/bitbucket/app/WEB-INF/lib/hazelcast-3.11.1.jar!/) to field sun.nio.ch.SelectorImpl.selectedKeys\r\nWARNING: Please consider reporting this to the maintainers of com.hazelcast.internal.networking.nio.SelectorOptimizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nNo workaround available. However, these warnings are completely safe to ignore.",
      "summary": "Using OpenJDK 11 on Bitbucket 6.8.0 produce Warnings about Hazelcast running in a modular Java environment"
    }
  },
  {
    "key": "BSERV-12066",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-13T23:57:59.000+0000",
      "created": "2019-11-26T23:37:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOn Bitbucket 6.7+, when attempting to import a public repository\r\n\r\nh3. Steps to Reproduce\r\n # Create a new project\r\n # Choose Import Repository\r\n # Choose the \"Git\" option, and input a public github clone URL with no credentials specified\r\n # Confirm the import\r\n\r\nh3. Expected Results\r\n\r\n* Progress bar gradually goes to 100%, then you are placed on the project overview page - and the repository is successfully created\r\n\r\nh3. Actual Results\r\n\r\n* Progress bar stays stuck at around 15%, and if you refresh the page you get directed to the project overview page. If you click on the new repository, the repository presents you with the following page:\r\n**  !image-2019-11-26-17-37-32-496.png|thumbnail! \r\n\r\nThe following debug lines can be seen continually repeating in the in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2019-11-22 04:58:10,435 DEBUG [http-nio-7990-exec-24] eslaughter @7D4GFSx298x25151x0 1xiz5m6 192.168.5.1,192.168.5.2 \"GET /plugins/servlet/import-in-process/projects/TEST3/repos/go-jira HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent /var/atlassian/application-data/stash/shared/data/repositories/163: No packed refs found (packed-refs exists: false; lines checked: 0)\r\n2019-11-22 04:58:10,435 DEBUG [http-nio-7990-exec-24] eslaughter @7D4GFSx298x25151x0 1xiz5m6 192.168.5.1,192.168.5.2 \"GET /plugins/servlet/import-in-process/projects/TEST3/repos/go-jira HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 163: No loose refs found ('refs/' exists: true, Directories checked: 3)\r\n2019-11-22 04:58:10,435 DEBUG [http-nio-7990-exec-24] eslaughter @7D4GFSx298x25151x0 1xiz5m6 192.168.5.1,192.168.5.2 \"GET /plugins/servlet/import-in-process/projects/TEST3/repos/go-jira HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent TEST3/go-jira[163]: Repository is empty\r\n{noformat}\r\n\r\nThe repository will remain in this state until Bitbucket is restarted - at which point, once Bitbucket comes back up the repository will no longer exist.\r\n\r\nh3. Workaround\r\n\r\nCreate a Github account, and fork the repository to be owned by your user - and complete the import using the official \"Github\" import option by inputting your Github username and personal access token.",
      "summary": "Attempting to import public Github repository results in import hanging"
    }
  },
  {
    "key": "BSERV-12065",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-26T22:41:37.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIf you try to search for a term in a repository or project that has a name with spaces, it will return no results.\r\n\r\nFor instance if you search for the term \"test\" in the project \"Sand Box\" you won't get any results.\r\n{code:java}\r\ntest project:'Sand Box'\r\n{code}\r\nWhether you use quotes or not doesn't make a difference.\r\nh3. Suggested Solution\r\n\r\nAllow for spaces in the project or repository name when using advanced search.\r\nh3. Workaround\r\n\r\nUse the repository or project key.\r\n{code:java}\r\ntest project:SB\r\n{code}",
      "summary": "Allow spaces in repository and project names for advanced code search"
    }
  },
  {
    "key": "BSERV-12063",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-25T19:40:50.000+0000",
      "description": "Hi,\r\n\r\nWe've recently moved from Gitlab and are really missing one of the features it had which allowed you to automatically merge on successful build. It meant that if we were given code reviews and it's passed everything visually, we don't need to sit around waiting for 30 minutes for a build test slot to be available to test the commit against the branch. It's okay during the day, but when you get a code review at 6.30pm you don't want to still be hanging around at 7pm waiting to see if the build was successful so that you can push a button to merge it.\u00a0\r\n\r\n\u00a0\r\n\r\nIs there a way of setting this up in Bitbucket? We've searched for some plugins or information but can't find a way to set this up.\r\n\r\n\u00a0\r\n\r\nCheers,\r\n\r\nAmanda\r\n\r\n\u00a0",
      "summary": "Option to select \"Auto merge when build test passes\""
    }
  },
  {
    "key": "BSERV-12062",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-01-13T23:58:35.000+0000",
      "created": "2019-11-25T16:50:52.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPushing LFS tracked files over SSH (LFS will still use HTTPs) fails. \r\nGit LFS 2.7.2\r\nGit 2.20.1 client\r\nThough the versions don't seem to be relevant.\r\n\r\nh3. Steps to Reproduce\r\n\r\n # Create a username with numbers (12test12)\r\n# Create a personal repository\r\n# Clone over SSH\r\n# Add a file and track it with \"git lfs track <filename>\r\n# Attempt to push\r\n\r\nh3. Expected Results\r\n\r\nThe push occurs without issue\r\n\r\nh3. Actual Results\r\n\r\nThe push fails with:\r\n\r\n{code}\r\nWARNING: Authentication error: Authentication required: Authorization error: https://<BITBUCKET URL>/scm/~12test12/pushtest.git/info/lfs/locks/verify\r\nCheck that you have proper access to the repository\r\nbatch response: Authentication required: Authorization error: https:/<BITBUCKET URL>/scm/~12test12/pushtest.git/info/lfs/objects/batch\r\nCheck that you have proper access to the repository\r\nUploading LFS objects:   0% (0/1), 0 B | 0 B/s, done\r\nerror: failed to push some refs to 'ssh://git@<SSH BACKEND URL>:7999/~12test12/pushtest.git'\r\n{code}\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2019-11-25 10:44:13,924 WARN  [http-nio-7990-exec-9] @LOGPX1x644x162143x1 98.156.239.57,192.168.2.155 \"POST /scm/~12test12/pushtest.git/info/lfs/objects/batch HTTP/1.0\" c.a.j.i.s.DefaultAuthenticationResultHandler Failure during JWT authentication\r\ncom.atlassian.jwt.exception.JwtInvalidClaimException: Invalid Git LFS path: /scm/~12test12/pushtest.git/info/lfs/objects/batch\r\n\tat com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsApiClaimVerifiersBuilder$GitLfsActionClaimVerifier.verify(GitLfsApiClaimVerifiersBuilder.java:71)\r\n\tat com.atlassian.jwt.core.reader.NimbusJwtReader.read(NimbusJwtReader.java:151)\r\n\tat com.atlassian.jwt.core.reader.NimbusJwtReader.readAndVerify(NimbusJwtReader.java:57)\r\n\tat com.atlassian.jwt.internal.DefaultJwtService.verifyJwt(DefaultJwtService.java:49)\r\n\tat com.atlassian.jwt.internal.sal.JwtAuthenticatorImpl.verifyJwt(JwtAuthenticatorImpl.java:62)\r\n\tat com.atlassian.jwt.core.http.auth.AbstractJwtAuthenticator.verifyJwt(AbstractJwtAuthenticator.java:118)\r\n\tat com.atlassian.jwt.core.http.auth.AbstractJwtAuthenticator.authenticate(AbstractJwtAuthenticator.java:71)\r\n\tat com.atlassian.jwt.internal.sal.JwtAuthenticatorImpl.authenticate(JwtAuthenticatorImpl.java:30)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.mayProceed(JwtAuthFilter.java:79)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:35)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:87)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 72 frames trimmed\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\n# Create a copy repository in a non-personal project that only your user has access to.\r\n# User HTTPS instead of SSH",
      "summary": "Pushing over SSH with LFS to a personal repository with numbers in the username fails"
    }
  },
  {
    "key": "BSERV-12060",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-25T02:42:46.000+0000",
      "description": "h3. Issue Summary\r\nThe [Connecting to Jira for user management|https://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-jira-for-user-management-776640400.html] documentation page specifies:\r\n{quote}\r\n Bitbucket Server provides a \"read-only\" connection to Jira Software for user management.\r\n{quote}\r\nLater in the page under \"Jira Software server permissions\" we specify the \"Read/write\" option.\r\n\r\nh3. Steps to Reproduce\r\nN/A (Documentation)\r\n\r\nh3. Actual Results\r\nN/A (Documentation)\r\n\r\nh3. Expected Results\r\nThe \"Read/Write\" option is not available under \"Jira Server Permissions\" section. This will be similar to the text on the [Connecting Bitbucket Server to Crowd|https://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-crowd-776640399.html] page under \"crowd permissions\"\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "\"Connecting to Jira for user management\" documentation specified wrong permission settings"
    }
  },
  {
    "key": "BSERV-12059",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-22T22:36:49.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIt's difficult to read and communicate on pull request with more than 20 comments.\r\n\r\nh3. Suggested Solution\r\n\r\n1. A button/control to collapse comments and show only the \"title\" with a \"+\" sign to expand\r\n2. Better visual cues like indentation/color to organize the comments\r\n3. Marking comments as \"read\"(BSERV-4599)\r\n \r\nh3. Workaround \r\n\r\nNone.",
      "summary": "Improve Pull Request Comment Readability"
    }
  },
  {
    "key": "BSERV-12058",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-29T00:32:52.000+0000",
      "created": "2019-11-22T17:25:24.000+0000",
      "description": "h3. Issue Summary\r\nDuring the startup of new EC2 nodes, error messages are seen, however, Bitbucket appears to operate as expected.\r\n\r\n\r\nh3. Steps to Reproduce\r\nUse the [AWS Bitbucket Cloud Formation template|https://github.com/aws-quickstart/quickstart-atlassian-bitbucket] at commit [ef17284fdfe434a161ef05ca35bb675e3a0b65d9|https://github.com/aws-quickstart/quickstart-atlassian-bitbucket/commit/ef17284fdfe434a161ef05ca35bb675e3a0b65d9]. Check ec2 node logs after startup.\r\n\r\nh3. Expected Results\r\nNo Errors\r\n\r\nh3. Actual Results\r\ncfn-init logs contain the following:\r\n\r\n{noformat}\r\n+ /opt/aws/bin/cfn-init -v --stack EZOPS-AWS-Bitbucket --resource ClusterNodeLaunchConfig --region us-east-1 --role EZOPS-AWS-Bitbucket-BitbucketClusterNodeRole-ZD5GRJ1YL34L\r\nTraceback (most recent call last):\r\nFile \"/usr/lib64/python2.7/logging/_init_.py\", line 891, in emit\r\nstream.write(fs % msg.encode(\"UTF-8\"))\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 76: ordinal not in range(128)\r\nLogged from file util.py, line 476\r\nTraceback (most recent call last):\r\nFile \"/usr/lib64/python2.7/logging/_init_.py\", line 891, in emit\r\nstream.write(fs % msg.encode(\"UTF-8\"))\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 91: ordinal not in range(128)\r\nLogged from file util.py, line 476\r\n\t(Repeats 61 times)\r\n\r\n\r\n+ /opt/aws/bin/cfn-signal -e 0 --stack EZOPS-AWS-Bitbucket --resource ClusterNodeGroup --region us-east-1 --role EZOPS-AWS-Bitbucket-BitbucketClusterNodeRole-ZD5GRJ1YL34L\r\nValidationError: Stack arn:aws:cloudformation:us-east-1:618610525414:stack/EZOPS-AWS-Bitbucket/2981e120-c36d-11e9-8ae3-1230783fe8ac is in CREATE_COMPLETE state and cannot be signaled\r\nNov 03 18:44:03 cloud-init[3526]: util.py[WARNING]: Failed running /var/lib/cloud/instance/scripts/part-001 [1]\r\nNov 03 18:44:03 cloud-init[3526]: cc_scripts_user.py[WARNING]: Failed to run module scripts-user (scripts in /var/lib/cloud/instance/scripts)\r\nNov 03 18:44:03 cloud-init[3526]: util.py[WARNING]: Running module scripts-user (<module 'cloudinit.config.cc_scripts_user' from '/usr/lib/python2.7/site-packages/cloudinit/config/cc_scripts_user.pyc'>) failed\r\nCloud-init v. 18.2-72.amzn2.0.7 finished at Sun, 03 Nov 2019 18:44:03 +0000. Datasource DataSourceEc2.  Up 180.25 seconds\r\n{noformat}\r\n\r\nh3. Workaround\r\nNo workaround necessary as the product appears to still work as expected.",
      "summary": "Quickstarts generating unicode errors in logs"
    }
  },
  {
    "key": "BSERV-12057",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-22T05:14:33.000+0000",
      "description": "h3. Issue Summary\r\nBitbucket Server does not start up successfully because of a conflicting plugin.\r\n\r\nh3. Steps to Reproduce\r\n# Have a conflicting plugin installed in Bitbucket (note that Bitbucket is running fine with it)\r\n# Restart (or start) Bitbucket\r\n\r\nh3. Expected Results\r\nThere are no issues starting up Bitbucket. The application was running fine before the startup.\r\n\r\nh3. Actual Results\r\nBitbucket cannot be started.\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\nERROR [spring-startup]  c.a.j.s.w.s.JohnsonDispatcherServlet SpringMVC dispatcher [springMvc] could not be started\r\norg.springframework.context.ApplicationContextException: Failed to start bean 'pluginSystemLifecycle'; nested exception is java.lang.IllegalArgumentException: The plugin key '${atlassian.plugin.key}' must either match the OSGi bundle symbolic name (Bundle-SymbolicName) or be specified in the Atlassian-Plugin-Key manifest header\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:176)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:51)\r\n...\r\nCaused by: java.lang.IllegalArgumentException: The plugin key '${atlassian.plugin.key}' must either match the OSGi bundle symbolic name (Bundle-SymbolicName) or be specified in the Atlassian-Plugin-Key manifest header\r\n\tat com.atlassian.plugin.osgi.factory.OsgiPluginUninstalledHelper.install(OsgiPluginUninstalledHelper.java:47)\r\n\tat com.atlassian.plugin.impl.AbstractPlugin.install(AbstractPlugin.java:424)\r\n{noformat}\r\n\r\nh3. Workaround\r\nRemove the plugin causing the problem before restarting Bitbucket.\r\n\r\nHere are the steps to identify which plugin jar is causing the issue:\r\n- Enable debug in Bitbucket by adding the following to the {{bitbucket.properties}} file\r\n{noformat}\r\nlogging.logger.ROOT=DEBUG\r\nlogging.logger.com.atlassian.bitbucket=DEBUG\r\n{noformat}\r\n- Here an example of the logs to look for:\r\n{noformat}\r\nDEBUG [spring-startup]  c.a.p.o.f.OsgiPluginUninstalledHelper Installing OSGi plugin '<Bitbucket home directory>/shared/plugins/installed-plugins/plugin_8442591682369368611_conflicting_plugin-1.0.0-SNAPSHOT.jar'\r\nINFO  [FelixDispatchQueue]  c.a.p.o.c.f.FelixOsgiContainerManager Installed bundle com.test.bitbucket.plugin.conflicting_plugin (25)\r\nWARN  [spring-startup]  o.s.w.c.s.XmlWebApplicationContext Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'pluginSystemLifecycle';\r\n{noformat}\r\n-- Locate the line with the {{Exception encountered during context initialization - cancelling refresh attempt}} error and find the first DEBUG line above it.\r\nThis line shows the full path of the plugin which is causing the problem.\r\n- Remove the plugin or move it to a folder outside of the Bitbucket home folder",
      "summary": "A conflicting plugin can cause Bitbucket Server not to start"
    }
  },
  {
    "key": "BSERV-12056",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-20T14:53:54.000+0000",
      "description": "h3. Issue Summary\r\nThe files with a following content causing the indexing failed with the IndexOutOfBoundsException in Elasticsearch:\r\n{code}\r\n<mynode myattr=\"0-1.521.2.339.339,0\"/>\r\n{code}\r\nh3. Steps to Reproduce\r\n# Install Bitbucket 6.6.x - 6.8.x with embedded or an external Elasticsearch version 6.6.1\r\n# Create locally file test.html\r\n# Put the following content inside:\r\n{code:html}\r\n<mynode myattr=\"0-1.521.2.339.339,0\"/>\r\n{code}\r\n# Wait for the indexer to index a file\r\n\r\nh3. Expected Results\r\nIndexing finished successfully.\r\n\r\nh3. Actual Results\r\nThe files is not indexed and not occuring in search.\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2019-11-20 15:31:27,060 ERROR [search-indexing:thread-1]  c.a.b.i.s.i.e.DefaultIndexEventWorker Indexing - Failed for repository DEMO/shaleev.github.io (id: 2) with error: Indexing for repository with id 2 failed and has reached maximum retries (5)\r\ncom.atlassian.bitbucket.internal.search.indexing.exceptions.UnrecoverableIndexException: Indexing for repository with id 2 failed and has reached maximum retries (5)\r\n        at com.atlassian.bitbucket.internal.search.indexing.indexer.DefaultIndexService.lambda$updateIndexStateForError$26(DefaultIndexService.java:447)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:69)\r\n        at rx.internal.operators.OperatorOnErrorResumeNextViaFunction$4.onNext(OperatorOnErrorResumeNextViaFunction.java:154)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.producers.SingleProducer.request(SingleProducer.java:65)\r\n        at rx.Subscriber.setProducer(Subscriber.java:211)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\r\n        at rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:75)\r\n        at rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:43)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:248)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OperatorMapNotification$MapNotificationSubscriber.onNext(OperatorMapNotification.java:96)\r\n        at rx.internal.operators.DeferredScalarSubscriber.complete(DeferredScalarSubscriber.java:100)\r\n        at rx.internal.operators.DeferredScalarSubscriber.onCompleted(DeferredScalarSubscriber.java:73)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitLoop(OperatorMerge.java:656)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emit(OperatorMerge.java:568)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onCompleted(OperatorMerge.java:281)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onCompleted(OnSubscribeMap.java:97)\r\n        at com.atlassian.bitbucket.internal.search.indexing.indexer.BufferOnSizeAndCount$BufferingSubscriber.onCompleted(BufferOnSizeAndCount.java:68)\r\n        at com.atlassian.bitbucket.internal.search.indexing.indexer.BlockProducerOnNext$1.onCompleted(BlockProducerOnNext.java:44)\r\n        at com.atlassian.bitbucket.internal.search.indexing.content.ObserverBulkContentCallback.onEnd(ObserverBulkContentCallback.java:47)\r\n        at com.atlassian.stash.internal.scm.git.bulk.BulkContentCommand.call(BulkContentCommand.java:73)\r\n        at com.atlassian.stash.internal.scm.git.bulk.BulkContentCommand.call(BulkContentCommand.java:40)\r\n        at com.atlassian.bitbucket.internal.search.indexing.content.ServerContentService.streamContent(ServerContentService.java:154)\r\n        at com.atlassian.bitbucket.internal.search.indexing.content.ServerContentService.lambda$doStreamFilesFromRepository$3(ServerContentService.java:122)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.DeferredScalarSubscriber.subscribeTo(DeferredScalarSubscriber.java:153)\r\n        at rx.internal.operators.OnSubscribeReduceSeed.call(OnSubscribeReduceSeed.java:40)\r\n        at rx.internal.operators.OnSubscribeReduceSeed.call(OnSubscribeReduceSeed.java:24)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:248)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.observers.Subscribers$5.onNext(Subscribers.java:235)\r\n        at rx.internal.operators.OperatorOnErrorResumeNextViaFunction$4.onNext(OperatorOnErrorResumeNextViaFunction.java:154)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.producers.SingleProducer.request(SingleProducer.java:65)\r\n        at rx.Subscriber.setProducer(Subscriber.java:211)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\r\n        at rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:75)\r\n        at rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:43)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:235)\r\n        at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:248)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.operators.OperatorOnErrorResumeNextViaFunction$4.onNext(OperatorOnErrorResumeNextViaFunction.java:154)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n        at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n        at rx.internal.producers.SingleProducer.request(SingleProducer.java:65)\r\n        at rx.Subscriber.setProducer(Subscriber.java:211)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\r\n        at rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:75)\r\n        at rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:43)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n        at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\n        at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:235)\r\n        at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n        at rx.Observable.subscribe(Observable.java:10423)\r\n        at rx.Observable.subscribe(Observable.java:10390)\r\n        at rx.Observable.subscribe(Observable.java:10230)\r\n        at com.atlassian.bitbucket.internal.search.indexing.event.DefaultIndexEventQueueProcessor.processEvent(DefaultIndexEventQueueProcessor.java:204)\r\n        at com.atlassian.bitbucket.internal.search.indexing.event.DefaultIndexEventQueueProcessor.processEvents(DefaultIndexEventQueueProcessor.java:229)\r\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        ... 1 frame trimmed\r\nCaused by: com.atlassian.bitbucket.internal.search.indexing.exceptions.IndexException: Bulk indexing of files failed: RequestStatistics{failedDocumentIds=[], numRequests=1, numDocumentActions=1, numFailedRequests=0, numPartiallyFailedRequests=1, time=12 ms}\r\n        at com.atlassian.bitbucket.internal.search.indexing.indexer.DefaultIndexService.updateIndexState(DefaultIndexService.java:407)\r\n        at com.atlassian.bitbucket.internal.search.indexing.indexer.DefaultIndexService.lambda$processUnitOfWork$9(DefaultIndexService.java:280)\r\n        ... 140 common frames omitted\r\n{noformat}\r\n\r\nAnd in case of the standalone Elasticsearch instance:\r\n{noformat}\r\n[2019-11-20T15:31:27,058][DEBUG][o.e.a.b.TransportShardBulkAction] [wxgoATu] [bitbucket-search][0] failed to execute bulk item (index) index {[bitbucket-search][file][2_ssp-39730.html], source[{\"path\":\"ssp-39730.html\",\"public\":false,\"fork\":false,\"repositoryId\":2,\"extension\":[\"html\"],\"filename\":\"ssp-39730.html\",\"size\":39,\"projectId\":1,\"content\":\"1 <mynode myattr=\\\"0-1.521.2.339.339,0\\\"/>\\n\"}]}\r\njava.lang.IndexOutOfBoundsException: Index: 1, Size: 1\r\n        at java.util.ArrayList.rangeCheck(ArrayList.java:657) ~[?:1.8.0_222]\r\n        at java.util.ArrayList.get(ArrayList.java:433) ~[?:1.8.0_222]\r\n        at org.apache.lucene.analysis.core.FlattenGraphFilter.releaseBufferedToken(FlattenGraphFilter.java:204) ~[lucene-analyzers-common-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:48]\r\n        at org.apache.lucene.analysis.core.FlattenGraphFilter.incrementToken(FlattenGraphFilter.java:258) ~[lucene-analyzers-common-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:48]\r\n        at org.apache.lucene.index.DefaultIndexingChain$PerField.invert(DefaultIndexingChain.java:788) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.apache.lucene.index.DefaultIndexingChain.processField(DefaultIndexingChain.java:430) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.apache.lucene.index.DefaultIndexingChain.processDocument(DefaultIndexingChain.java:394) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.apache.lucene.index.DocumentsWriterPerThread.updateDocument(DocumentsWriterPerThread.java:251) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:494) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.apache.lucene.index.IndexWriter.updateDocument(IndexWriter.java:1609) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1228) ~[lucene-core-7.6.0.jar:7.6.0 719cde97f84640faa1e3525690d262946571245f - nknize - 2018-12-07 14:44:20]\r\n        at org.elasticsearch.index.engine.InternalEngine.addDocs(InternalEngine.java:1149) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.engine.InternalEngine.indexIntoLucene(InternalEngine.java:1094) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:910) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.shard.IndexShard.index(IndexShard.java:788) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.shard.IndexShard.applyIndexOperation(IndexShard.java:755) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.shard.IndexShard.applyIndexOperationOnPrimary(IndexShard.java:718) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.lambda$executeIndexRequestOnPrimary$3(TransportShardBulkAction.java:463) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.executeOnPrimaryWhileHandlingMappingUpdates(TransportShardBulkAction.java:486) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.executeIndexRequestOnPrimary(TransportShardBulkAction.java:461) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.executeBulkItemRequest(TransportShardBulkAction.java:216) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.performOnPrimary(TransportShardBulkAction.java:159) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.performOnPrimary(TransportShardBulkAction.java:151) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:139) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:79) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryShardReference.perform(TransportReplicationAction.java:1051) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryShardReference.perform(TransportReplicationAction.java:1029) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.ReplicationOperation.execute(ReplicationOperation.java:102) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.runWithPrimaryShardReference(TransportReplicationAction.java:425) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.lambda$doRun$0(TransportReplicationAction.java:371) ~[elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.shard.IndexShardOperationPermits.acquire(IndexShardOperationPermits.java:273) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.shard.IndexShardOperationPermits.acquire(IndexShardOperationPermits.java:240) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationPermit(IndexShard.java:2352) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction.acquirePrimaryOperationPermit(TransportReplicationAction.java:988) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.doRun(TransportReplicationAction.java:370) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:325) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:312) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:687) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:759) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.6.1.jar:6.6.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_222]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_222]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_222]\r\n{noformat}\r\nh3. Workaround\r\nThe workaround is to copy the file content and paste via Bitbucket online editor.",
      "summary": "The file with certain content committed to Bitbucket can cause IndexOutOfBoundsException in Elasticsearch"
    }
  },
  {
    "key": "BSERV-12055",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-20T14:09:46.000+0000",
      "description": "Receiving the notification e-mail about a specific pull request usually contains hidden pre-header which is visible only in the message summary by the e-mail software. For comments, approvals and pushes it's visible as \"1 Push\", \"1 Approval\", etc.\r\n\r\nBut for PR merges and creation the summary is empty. Attaching screenshot and excerpt from e-mail source with empty preheader.\r\nWith this it would be easier to see repository changes and track PRs status, without opening and reading the notification e-mail.\r\n\r\n!bitbucket-preheader.png!",
      "summary": "Add more statuses for e-mail notification preheader"
    }
  },
  {
    "key": "BSERV-12054",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-20T12:20:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSynchronising an external user directory (connector, such as LDAP) fails completely during the group membership step, if there are usernames of format {{uniqueMember: username}} in the group.\u00a0\u00a0\r\nh3. Steps to Reproduce\r\n # Connect a user directory (LDAP) in Bitbucket Server\r\n # An LDIF of a group (that will fail) looks like (Note uniqueMember:johndoe)\r\n{noformat}\r\ngroup1, group, doman\r\ndn: cn=group1,ou=groups,dc=xxx,dc=xx\r\nuniqueMember: johndoe\r\nuniqueMember: uid=janedoe,ou=people,dc=xxx,dc=xxxx\r\n.......\r\nobjectClass: top\r\nobjectClass: groupOfUniqueNames\r\ncn: group1\r\n{noformat}\r\n # Click Synchronize\r\n\r\nh3. Expected Results\r\n * Synchronization to be proceed, skipping invalid users names\r\n * Group membership synchronization for that group to be skipped\r\n * Sync process to continue synch'ing other groups\r\n\r\nh3. Actual Results\r\n\r\nThe directory fails to synchronise.\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file with debug enabled on Crowd class: {{com.atlassian.crowd}}. The group with the malformed names is the last listed before the error.\r\n{noformat}\r\n DEBUG [Caesium-1-1]  c.a.c.d.l.monitoring.TimedSupplier Timed call for lookup with mapper on cn=group1,ou=groups,dc=xxxx,dc=xx took 3ms\r\n INFO  [Caesium-1-1]  c.a.c.d.DbCachingRemoteDirectory failed synchronisation complete for directory [ x ] in [ x ms ]\r\n DEBUG [Caesium-1-1]  c.a.s.i.crowd.HibernateDirectoryDao Updating object: com.atlassian.crowd.model.directory.DirectoryImpl@6b8e0580[lowerName=ldap server,description=<null>,type=CONNECTOR,implementationClass=com.atlassian.crowd.directory.OpenLDAP,allowedOperations=[DELETE_GROUP, CREATE_GROUP, UPDATE_GROUP, UPDATE_GROUP_ATTRIBUTE, UPDATE_USER_ATTRIBUTE],attributes={ldap.basedn=DC=xxx,DC=xx, ldap.user.filter=(&(objectClass=posixAccount)), ldap.user.username=uid, ldap.usermembership.use=false, com.atlassian.crowd.directory.sync.lastdurationms=22784, autoAddGroups=stash-users, crowd.sync.incremental.enabled=true, ldap.group.usernames=uniqueMember, ldap.pagedresults.size=1000, ldap.read.timeout=120000, crowd.sync.group.membership.after.successful.user.auth.enabled=only_when_first_created, ldap.connection.timeout=10000, ldap.group.filter=(&(objectclass=groupOfUniqueNames)), ldap.roles.disabled=true, ldap.external.id=uid, ldap.url=xxxxx, ldap.usermembership.use.for.groups=false, ldap.pagedresults=false, ldap.user.password=userPassword, ldap.user.lastname=sn, ldap.group.name=cn, ldap.user.objectclass=posixAccount, directory.cache.synchronise.interval=3600, ldap.nestedgroups.disabled=false, ldap.secure=true, ldap.referral=false, ldap.user.username.rdn=cn, com.atlassian.crowd.directory.sync.issynchronising=false, ldap.propogate.changes=false, ldap.group.dn=ou=groups, ldap.pool.timeout=0, ldap.user.displayname=uid, ldap.relaxed.dn.standardisation=true, ldap.user.firstname=givenName, com.atlassian.crowd.directory.sync.laststartsynctime=1574246377919, ldap.user.email=mail, ldap.user.group=uid, localUserStatusEnabled=false, ldap.user.encryption=sha, ldap.local.groups=true, ldap.group.description=description, ldap.user.dn=OU=People, ldap.group.objectclass=groupOfUniqueNames, ldap.filter.expiredUsers=false, ldap.search.timelimit=60000}]\r\n2019-11-20 11:40:00,713 ERROR [Caesium-1-1]  c.a.c.d.DbCachingDirectoryPoller Error occurred while refreshing the cache for directory [ x ].\r\njava.lang.RuntimeException: javax.naming.InvalidNameException: Invalid name: johndoe\r\n\tat com.atlassian.crowd.directory.RFC4519Directory$3.apply(RFC4519Directory.java:837)\r\n...\r\nCaused by: javax.naming.InvalidNameException: Invalid name: johndoe\r\n\tat javax.naming.ldap.Rfc2253Parser.doParse(Rfc2253Parser.java:111)\r\n\tat javax.naming.ldap.Rfc2253Parser.parseDn(Rfc2253Parser.java:70)\r\n\tat javax.naming.ldap.LdapName.parse(LdapName.java:785)\r\n\tat javax.naming.ldap.LdapName.<init>(LdapName.java:123)\r\n\tat com.atlassian.crowd.directory.RFC4519Directory$3.apply(RFC4519Directory.java:835)\r\n\t... 38 common frames omitted\r\n{noformat}\r\nh3. Workaround\r\n # Remove the users with the misformatted names ({{jdoe}}, {{instead of uid=jdoe,ou=people,o=domain}}) in LDAP\r\n # Try to sync again.\r\n Check if it fails again:\r\n{code:java}\r\nERROR [Caesium-1-1] [atlassian.crowd.directory.DbCachingDirectoryPoller] pollChanges Error occurred while refreshing the cache for directory [ 111111 ].\r\n{code}\r\nAnd if another group is listed right before that error:\r\n{code:java}\r\n[crowd.directory.ldap.SpringLdapTemplateWrapper] call Timed call for lookup with mapper on cn=group2,ou=groups,o=domain took 34ms\r\n{code}\r\nThen fix it the same way on the LDAP server (removing the malformatted usernames)\r\n\r\nYou can check all the groups with malformatted usernames more quickly by excluding each group in the group user filter with (!(cn=group1))",
      "summary": "Synchronizing a user directory (connector) fails at group membership sync with javax.naming.InvalidNameException if there are usernames without attributes in the group"
    }
  },
  {
    "key": "BSERV-12053",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-08T11:09:08.000+0000",
      "created": "2019-11-20T05:32:46.000+0000",
      "description": "h3. Issue Summary\r\n\r\nErrors are written to the Bitbucket log file when accessing the Administration pages.\r\n There are no indications of an error in the Bitbucket UI.\r\nh3. Steps to Reproduce\r\n # Access the Administration pages in Bitbucket\r\n\r\nh3. Expected Results\r\n\r\nNo errors or warnings written to the log file when accessing the Administration pages.\r\nh3. Actual Results\r\n\r\nErrors are written to the log file.\r\n Sample log entry:\r\n{noformat}\r\n2019-11-14 22:13:26,857 ERROR [http-nio-7101-exec-3] admin @XAY5HFx1333x198x0 1t3omyh 100.127.65.206,100.64.19.63,127.0.0.1 \"GET /plugins/servlet/embedded-crowd/directories/list HTTP/1.1\" c.a.p.web.DefaultWebInterfaceManager Could not evaluate condition 'com.atlassian.plugin.web.conditions.AndCompositeCondition@422a3613' for descriptor: com.atlassian.plugins.static-assets-url:bitbucket-menu-item (null)\r\njava.lang.NullPointerException: null\r\nat com.atlassian.plugins.impl.conditions.IsSysAdminCondition.isSystemAdmin(IsSysAdminCondition.java:24)\r\nat com.atlassian.plugins.impl.conditions.IsSysAdminCondition.shouldDisplay(IsSysAdminCondition.java:20)\r\nat com.atlassian.plugin.web.conditions.AndCompositeCondition.shouldDisplay(AndCompositeCondition.java:22)\r\nat com.atlassian.plugin.web.conditions.AndCompositeCondition.shouldDisplay(AndCompositeCondition.java:22)\r\nat com.atlassian.plugin.web.DefaultWebInterfaceManager.filterFragmentsByCondition(DefaultWebInterfaceManager.java:160)\r\nat com.atlassian.plugin.web.DefaultWebInterfaceManager.getDisplayableItems(DefaultWebInterfaceManager.java:113)\r\nat com.atlassian.plugin.web.DefaultWebInterfaceManager.getDisplayableWebItems(DefaultWebInterfaceManager.java:212)\r\nat com.atlassian.stash.internal.web.fragments.WebFragmentSupport.getWebItems(WebFragmentSupport.java:60)\r\nat com.atlassian.stash.internal.web.fragments.WebFragmentSupport$$FastClassBySpringCGLIB$$a614745b.invoke(<generated>)\r\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\nat com.atlassian.stash.internal.plugin.OsgiSafeProxyProvider$1.invoke(OsgiSafeProxyProvider.java:95)\r\nat com.atlassian.stash.internal.web.fragments.WebFragmentSupport$$EnhancerBySpringCGLIB$$4172370f.getWebItems(<generated>)\r\nat com.atlassian.stash.internal.web.soy.functions.WebItemFunction.apply(WebItemFunction.java:51)\r\nat com.atlassian.stash.internal.web.soy.functions.WebItemFunction.apply(WebItemFunction.java:18)\r\nat com.atlassian.soy.impl.modules.SoyJavaFunctionAdapter.computeForJava(SoyJavaFunctionAdapter.java:34)\r\nat com.atlassian.soy.impl.modules.CompositeFunctionAdaptor.computeForJava(CompositeFunctionAdaptor.java:38)\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.computeFunctionHelper(EvalVisitor.java:670)\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitFunctionNode(EvalVisitor.java:653)\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitFunctionNode(EvalVisitor.java:87)\r\nat com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:118)\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitExprRootNode(EvalVisitor.java:148)\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitExprRootNode(EvalVisitor.java:87)\r\nat com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:81)\r\nat com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:73)\r\nat com.google.template.soy.basetree.AbstractReturningNodeVisitor.exec(AbstractReturningNodeVisitor.java:43)\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.eval(RenderVisitor.java:739)\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.visitCallNodeHelper(RenderVisitor.java:560)\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.visitCallBasicNode(RenderVisitor.java:457)\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:110)\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56)\r\nat com.google.template.soy.basetree.AbstractNodeVisitor.visitChildren(AbstractNodeVisitor.java:59)\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitChildren(AbstractSoyNodeVisitor.java:129)\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.visitBlockHelper(RenderVisitor.java:702)\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior.",
      "summary": "Errors are logged when accessing the Administration pages"
    }
  },
  {
    "key": "BSERV-12052",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-19T18:07:17.000+0000",
      "description": "h3. Issue Summary\r\nUsers with project admin permission, have access to view and generate System access key, which they share with other users, use it to clone and push against the project, which cause them to do actions \"anonymously\"\r\nAs System Access key are logged under the label of the key, which is disassociated with any user, which difficult to pinpoint the ones which are abusing of the feature, which cause some security concerns.\r\n\r\nh3. Expected Results\r\nWould be good to have a feature that enables the SysAdmin to restrict the users which can view and create System access key, even from project admins, to avoid any usage of it by users, enforcing that users perform commands with their personal key.\r\n",
      "summary": "Restrict the Users that have access to System access key "
    }
  },
  {
    "key": "BSERV-12051",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-19T12:58:19.000+0000",
      "description": "Hello,\r\n\r\nwe've encountered an issue related to out-of-order execution of pre-receive hooks registered by different add-ons. \r\n\r\nExample:\r\n\r\n(in this example hooks are executed on push to Git repository)\r\n\r\nApp A - registeres \"repository-hook\" named \"A-hook\"\r\nApp B - registeres \"repository-hook\" named \"B-hook\"\r\n\r\nBitbucket Server executes hooks in alphabetical order of hook keys, there is no way to configure execution order explicitly.\r\n\r\nSo, user expected the following execution order:\r\n\r\nA-hook, B-hook\r\n\r\nIn case A-hook rejects commit, B-hook should not be executed. However, there is a way to break this order that may lead to unexpected results (see below for particular example):\r\n\r\nA-hook implements PreRepositoryHook:\r\n\r\npreUpdate(context, ...) { context.registerCommitCallback(this); return ACCEPTED; }\r\ngetResult() { return REJECTED; }\r\n\r\nB-hook implements PreRepositoryHook: \r\n\r\npreUpdate(...) { return ACCEPTED; }\r\n\r\nIn the above example A-hook fails (so that commits are rejected and further hooks are not expected to be executed), but B-hook is still executed. That happens because commit callbacks results are only fetched after all hooks had been executed, not after each hook preUpdate call.\r\n\r\nParticular example when this behaviour causes issues is:\r\n\r\n- \"SVN Mirror for Bitbucket Server App\" hook that expects to be executed last only in case commits had not been rejected by other hooks and \r\n- \"YACC (yet another commit checker) App\" that rejects commits only in by returning REJECTED result in commit callback \"getResult\" method, not in preUpdate method of the hook instance.\r\n\r\nAbove results in commits being finally rejected by Bitbucket Server, but committed to the mirrored SVN repository and eventually fetched back to Git repository, thus bypassing YACC policy check.\r\n\r\nSuggestions:\r\n\r\n1) Run registered commit callback and get its results before proceeding to the next hook execution.\r\n2) Let user specify hook execution order explicitly in addition to default lexicographical order of execution.",
      "summary": "Enforce pre-receive hooks execution order"
    }
  },
  {
    "key": "BSERV-12050",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-14T21:26:07.000+0000",
      "created": "2019-11-14T18:03:44.000+0000",
      "description": "Allow me to edit the Details section after the initial commit. Currently, it uses the first commit message and cannot be edited.",
      "summary": "Allow ability to edit Details section of PR after initial commit."
    }
  },
  {
    "key": "BSERV-12049",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-13T10:12:31.000+0000",
      "description": "*Summary*\r\nBitbucket Server is coded to show the first 1000 files by default. Showing more than 1000 files will impact the performance of the browser, due to the way Bitbucket Server renders the file tree.\r\n*Feature*\r\nA pull requests may be displayed in blocks e.g ~100 blocks, and allow for lazy loading for each block.",
      "summary": "Improvement file tree rendering"
    }
  },
  {
    "key": "BSERV-12048",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-12T15:55:34.000+0000",
      "description": "*Current situation:*\r\nIf a customer tries to display a commit using a short SHA1 hash like this: https://my-server/projects/PROJ/repos/repo-slug/commits/ed2af and the short SHA1 is matching more than one commit a 500 error is thrown.\r\n\r\n*Expected situation:*\r\nA list of matching commits is displayed as links containing the full SHA1 linking to the commits.",
      "summary": "Accessing the commit in UI by its short SHA1 should result in displaying a list of matched commits "
    }
  },
  {
    "key": "BSERV-12046",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-07T20:44:26.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently, it is possible to watch a repository and receive email notifications to follow its activity. \r\n\r\nHowever, as a Bitbucket user, I would like to receive a notification when a new repository is created in my Bitbucket instance. \r\n\r\n\r\nh3. Suggested Solution\r\nEnable triggering notifications when a new repo is created at the project level. \r\n\r\nOR\r\n\r\nEnable the feature instance wide through user profile. \r\n\r\nh3. Why this is important\r\n\r\nThis would facilitate communicating between developers, release engineers and set up other other tools.\r\n\r\nNot having this feature requires more manual tracking in Confluence. \r\n \r\nh3. Workaround \r\nCurrently, there are two third party apps that may address this: \r\n* [Notifyr - Notifications for Bitbucket|https://marketplace.atlassian.com/apps/1211185/notifyr-notifications-for-bitbucket?hosting=server&tab=overview]\r\n* [Repository Templates for Bitbucket|https://marketplace.atlassian.com/apps/1213038/repository-templates-for-bitbucket?hosting=server&tab=overview]",
      "summary": "As a Bitbucket user I want to receive an email notification when a new repository is created"
    }
  },
  {
    "key": "BSERV-12045",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-28T18:13:55.000+0000",
      "created": "2019-11-07T20:03:02.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a pull request between two repositories is merged, if the user who _merges_ the pull request does not have at least read access to the source repository (they're only required to have access to the target repository to merge), hook scripts will not be invoked.\r\n\r\nh3. Steps to Reproduce\r\n # Create a hook script, using an app like External Hooks\r\n # Create a repository and give 2 users access\r\n # Create a personal fork of the repository as one of the two users, and do not give the other user access to it\r\n # Open a pull request from the fork to the canonical repository\r\n # Merge the pull request as the user without access to the fork\r\n\r\nh3. Expected Results\r\n\r\nHook scripts are invoked.\r\n\r\nh3. Actual Results\r\n\r\nHook scripts are not invoked, and the following error appears in the logs:\r\n{noformat}\r\n2019-11-06 10:40:54,196 WARN  [AtlassianEvent::thread-3] jdoe @CHSM40x640x337x0 1ks2x81 1.1.1.1 \"POST /rest/api/latest/projects/key/repos/slug/pull-requests/1/merge HTTP/1.1\" c.a.s.i.h.r.DefaultRepositoryHookService [KEY/slug[1]] Error calling ScriptRepositoryHook.postUpdate\r\ncom.atlassian.bitbucket.AuthorisationException: You are not permitted to access this resource\r\n        at com.atlassian.stash.internal.aop.ExceptionRewriteAdvice.afterThrowing(ExceptionRewriteAdvice.java:37)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at com.atlassian.stash.internal.hook.script.DefaultHookScriptEnvironmentProvider.cloneUrls(DefaultHookScriptEnvironmentProvider.java:161)\r\n        at com.atlassian.stash.internal.hook.script.DefaultHookScriptEnvironmentProvider.repoDetails(DefaultHookScriptEnvironmentProvider.java:198)\r\n        at com.atlassian.stash.internal.hook.script.DefaultHookScriptEnvironmentProvider.mergeVariables(DefaultHookScriptEnvironmentProvider.java:173)\r\n        at com.atlassian.stash.internal.hook.script.DefaultHookScriptEnvironmentProvider.create(DefaultHookScriptEnvironmentProvider.java:120)\r\n        at com.atlassian.stash.internal.hook.script.DefaultHookScriptInvoker.lambda$prepareEnvironment$1(DefaultHookScriptInvoker.java:286)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nEnsure the user merging cross-repository pull requests has at least read access to the source repository.",
      "summary": "Hook scripts may not be invoked for cross-repository pull request merges"
    }
  },
  {
    "key": "BSERV-12043",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-07T02:46:57.000+0000",
      "description": "Request from\u00a0Sake Paulusma on\u00a0[https://community.atlassian.com/t5/Bitbucket-articles/Atlassian-supported-Jenkins-integration-for-Bitbucket-Server]\r\n\r\nIn\u00a0_Webhook to Jenkins for Bitbucket_\u00a0is it possible to define users from which commits should be ignored (the version we use (the free one), this is bugged).\r\n\r\nIn our current environment Jenkins gets a push request to preform some actions and starts a job. One of those actions in this job is to trigger the Maven release plugin. Maven creates a new version and afterwards does a commit to Bitbucket where all pom.xml files are edited with the increased (snapshot) version. But because there's a new commit, Bitbucket sends push request to Jenkins and job starts again and gets in a infinite loop.\r\n\r\nThey have a workaround, but it's a nasty one; abort the Jenkins job if commit is from Jenkins (the commit above). This results in a failed job, sends the information that a job failed and someone needs to check why it failed. Another annoyance are the red bars and more failed jobs which results in polluted reports.\r\n\r\nPossible solutions:\r\n * Do not trigger a push webhook if push is done by a specific user\r\n * Exisiting of specific keyword in commit message doesn't trigger a push webhook",
      "summary": "Allow certain push events to not trigger a webhook from Bitbucket Server"
    }
  },
  {
    "key": "BSERV-12041",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-05T04:06:13.000+0000",
      "description": "similar to GPG page per user, with hook to control pushes needing to be signed/from the correct users, etc- just using S/MIME keys.\r\n\r\nWe are switching from GPG to S/MIME for email encryption using G Suite Enterprise and it makes sense to use the same keys.",
      "summary": "S/MIME commit signing"
    }
  },
  {
    "key": "BSERV-12040",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-05T10:17:35.000+0000",
      "created": "2019-11-05T03:28:54.000+0000",
      "description": "[https://github.blog/2019-11-03-highlights-from-git-2-24/]",
      "summary": "Support Git 2.24"
    }
  },
  {
    "key": "BSERV-12039",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-04T23:01:34.000+0000",
      "created": "2019-11-04T16:45:42.000+0000",
      "description": "I would like to be able to configure server-side auto-merging on a per-branch basis. \u00a0For instance if I have the following branches:\r\n\r\nFoo\r\nFooB\r\nFooC\r\n\r\nAny MR merged into Foo, I want to automatically merge into FooB, and then that merge cascade into FooC.\r\n\r\nIf there were a setting where I could say:\r\n\r\nAuto-forwarding branches:\r\nFoo -> FooB\r\nFooB -> FooC\r\n\r\nAnd Bitbucket would take care of it.\r\n\r\nIf the merge can\u2019t be done without conflict, it would be cool to create a MR and assign it to whoever submitted the initial merge that triggered the auto-forward.\r\n\r\nI noticed that Bitbucket claims to have automatic merging, but it is too limiting since your branches have to be named in a particular way that would not make sense for our development environment.",
      "summary": "Support auto-merging"
    }
  },
  {
    "key": "BSERV-12038",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-11-01T21:02:47.000+0000",
      "description": "Often when large pull requests are necessary, a quick meeting with the team is the most efficient way to walk through the PR. Having a shortcut to jump to a TV appropriate font size and hide all navigation would be a big benefit.",
      "summary": "Presentation Mode/View for Pull Requests"
    }
  },
  {
    "key": "BSERV-12037",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-04T01:20:49.000+0000",
      "created": "2019-10-31T13:23:27.000+0000",
      "description": "h3. Summary\r\n\r\nWhen setting up the instance to schedule the Log Scanner, it runs normally even when the log scanner cannot be run manually.\r\n\r\nN/A\r\nh3. Expected Results\r\n\r\nWhen the Log Scanner cannot be run manually for some reason, it should not send e-mails if a Scheduled Log Scanner is configured in the instance.\r\n\r\nh3. Actual Results\r\n\r\nThe Log Scanner is running as scheduled and sending emails when it cannot run manually.",
      "summary": "The log scanner is emailing irrelevant KB results while it cannot be run manually."
    }
  },
  {
    "key": "BSERV-12036",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-31T12:38:54.000+0000",
      "description": "h4. Summary\r\n\r\nBefore a plugin is removed there is a need to know the projects/repos where it is currently used, in order to have a better understanding of the usage level.\r\nh4. Expected result\r\n\r\nA REST API should be called which could return in JSON, a plugin with the list of projects and repositories where it is used.\r\n\r\nThank you.",
      "summary": "API to verify if a plugin is used at repo/project level"
    }
  },
  {
    "key": "BSERV-12035",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-18T21:31:43.000+0000",
      "created": "2019-10-31T10:37:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen retrieving pull-requests diff using the rest API, the JSON response is truncated for a ~_400kb_ file. \r\nh3. Steps to Reproduce\r\n # Retrieve the pull-request diff using the REST API command as shown below:\r\n{code:java}\r\ncurl -u bitbucket672:password http://localhost:7990/rest/api/1.0/projects/DIFF/repos/diff1/pull-requests/3/diff\r\n{code}\r\n # Truncated JSON is returned.\r\n\r\nh3. Expected Results\r\n\r\nReturn complete diff as shown below:\r\n{code:java}\r\nit@zenox:~/Downloads/git/672/diff1$ curl -u bitbucket672:password http://localhost:7990/rest/api/1.0/projects/DIFF/repos/diff1/pull-requests/3/diff\r\n...\r\n\"truncated\":false}],\"truncated\":false}],\"truncated\":false}],\"truncated\":false}\r\n{code}\r\nh3. Actual Results\r\n\r\nReturns truncated file as shown below:\r\n{code:java}\r\nit@zenox:~/Downloads/git/672/diff1$ curl -u bitbucket672:password http://localhost:7990/rest/api/1.0/projects/DIFF/repos/diff1/pull-requests/3/diff\r\n...\r\n\"truncated\":false}],\"truncated\":true}],\"truncated\":true}],\"truncated\":true}],\"truncated\":true}i\r\n{code}\r\nh3. Workaround\r\n\r\nWorkaround from BSERV-5429 & BSERV-11965 not working",
      "summary": "Pull-request diff using the CURL API returns truncated JSON response"
    }
  },
  {
    "key": "BSERV-12034",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-01T00:56:43.000+0000",
      "created": "2019-10-31T09:30:47.000+0000",
      "description": "This feature is something that I've been looking for a while.\u00a0\r\n\r\n\u00a0 \u00a0 \u00a0Mirror other scm in Bitbucket.\u00a0",
      "summary": "Mirror Repos from other scm in Bitbucket"
    }
  },
  {
    "key": "BSERV-12033",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-31T23:53:43.000+0000",
      "created": "2019-10-31T04:58:31.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIncorrect content is displayed when a file view is requested at an ambiguous ref \r\n\r\nh3. Steps to Reproduce\r\n # Create a tag that has the same name as a branch e.g. `git tag master` \r\n # Make a change to a file that already exists on master\r\n # Push the change to Bitbucket \r\n # View the file in Bitbucket source view\r\n\r\nh3. Expected Results\r\nView the file content on the branch that was requested\r\n\r\nh3. Actual Results\r\n\r\nThe file content at tag that has the same name as the branch. \r\n\r\nh3. Workaround\r\n\r\nDelete ambiguous refs.",
      "summary": "Viewing a file at an ambiguous ref causes the wrong content to be displayed.  "
    }
  },
  {
    "key": "BSERV-12031",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-08T11:09:57.000+0000",
      "created": "2019-10-30T19:30:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe redirect of Bitbucket 6.7.2 on the rate limit setting page for documentation on how to use rate limit are going to page not found.\r\n http://<bitbucket base URL>/admin/rate-limit\r\n !Screen Shot 2019-10-30 at 16.27.32.png!\r\nh3. Steps to Reproduce\r\n - Logged as an admin on bitbucket, go to http://<bitbucket base URL>/admin/rate-limit\r\n - Click any of the hyperlinks(\"Learn more\" and \"Token bucket algorithm\")\r\n - The page which open has \"page not found\"\r\n !Screen Shot 2019-10-30 at 16.29.03.png!\r\n\r\nh3. Expected Results\r\n\r\nOpen the Rate Limit available documentation, we believe that would be the correct one:\r\n [https://confluence.atlassian.com/bitbucketserver/improving-instance-stability-with-rate-limiting-976171954.html]\r\nh3. Actual Results\r\n\r\nThe user is redirected to a page that do not exist.\r\nh3. Workaround\r\n\r\nAccess the Page: [https://confluence.atlassian.com/bitbucketserver/improving-instance-stability-with-rate-limiting-976171954.html]",
      "summary": "Links of \"Learn more\" and \"Token bucket algorithm\" on rate Limit feature page go to \"no page found\""
    }
  },
  {
    "key": "BSERV-12030",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-30T18:01:52.000+0000",
      "description": "Currently, it is not possible to change \"branch type\" by default when creating a branch from Jira. It would be nice if we coudl define a default Branch Type.\r\n\r\nExample :\r\n\r\nWe work on *DEV* branch and we'd like to create a *FEATURE*\u00a0branch type from our Jira by default, *FROM* the\u00a0*DEV* BRANCH by default too.\r\n\r\n\u00a0\r\n\r\nSo it would be nice to define defaults settings when creating a branch from JIRA.",
      "summary": "Add a possibility to define a default Branch Type when branching from JIRA"
    }
  },
  {
    "key": "BSERV-12028",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-30T05:33:44.000+0000",
      "description": "h3. Summary(Customer's use-case)\r\nIn a large development environment where there are multiple developers working on a project, they may have to create different kind of branches for their development. During that process they might delete those branches also. For monitoring and performance analysis purpose, it is important to know when branches were created within that repository and what is their timestamp which also helps us to track whether any branch is recreated with same name or not to avoid mistakes in code commits.\r\n\r\nh3. Expected result\r\nThe branch creation date should be available in the Bitbucket user interface\r\n\r\nh3. Workaround\r\nSQL query (PostgreSQL)\r\n{code:sql}\r\n-- Repository name\r\nselect r.name as \"Repository\",rpr.ref_id as \"Branch\", a.created_timestamp as \"Created at\" from sta_repo_push_ref rpr\r\nleft join sta_activity a on a.id=rpr.activity_id\r\nleft join sta_repo_push_activity rpa on rpa.activity_id=a.id\r\nleft join sta_repo_activity ra on ra.activity_id=rpa.activity_id\r\nleft join repository r on r.id=ra.repository_id\r\nwhere trigger_id='branch-create' and r.name='repository_name'\r\n-- Branch name\r\nselect r.name as \"Repository\",rpr.ref_id as \"Branch\", a.created_timestamp as \"Created at\" from sta_repo_push_ref rpr\r\nleft join sta_activity a on a.id=rpr.activity_id\r\nleft join sta_repo_push_activity rpa on rpa.activity_id=a.id\r\nleft join sta_repo_activity ra on ra.activity_id=rpa.activity_id\r\nleft join repository r on r.id=ra.repository_id\r\nwhere trigger_id='branch-create' and rpr.ref_id like '%branch_name'\r\n{code}\r\nFrom Git\r\n{code:java}\r\ngit for-each-ref --sort='-authordate:iso8601' --format=' %(authordate)%09%(refname:short)' refs/heads\r\n{code}\r\n\r\nThank you.",
      "summary": "Provide creation date of a branch in Bitbucket UI"
    }
  },
  {
    "key": "BSERV-12027",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-29T13:02:44.000+0000",
      "description": "h3. Problem Definition\r\nNowadays the issue summary panel shown in Bitbucket displays values of issue fields as text. This does not allow editing values.\r\n\r\nh3. Suggested Solution\r\nThe summary panel should allow editing values of issue fields shown, such as assignee and description.\r\n\r\nh3. Workaround\r\nEdit the issue details directly in Jira.",
      "summary": "Allow editing values of issue fields from the linked Jira issue summary panel"
    }
  },
  {
    "key": "BSERV-12026",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-29T20:47:43.000+0000",
      "created": "2019-10-29T10:23:43.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn the Diff view of a Pull Request, the last lines may not be shown.\r\nWhen it happens, the reviewer may approve and merge PR without seeing all the changes in the code.\r\nh3. Steps to Reproduce\r\n # Create a Pull Request where 200 lines have been added to a file\r\n(with 160 lines added, the problem did not occur)\r\n # Open the Pull Request and switch to the Diff view\r\n # Scroll all the way down and note that all 200 added lines are shown\r\n!01_Scroll_OK.png!\r\n # Click on one of the green lines, then use _*Ctrl+F*_ (or _*Command+F*_) to display the _*Find:*_ field\r\n # Type some random search string in the _*Find*_ field (e.g., _*Test*_) and click the _*Next match*_ and _*Previous match*_ buttons a few times\r\n # Scroll all the way down and note that a few last lines are no longer shown\r\n!02_Scroll_KO.png!\r\n(in case the issue does not immediately occur, scroll up and down a few more times)\u00a0\r\n\r\nh3. Expected Results\r\n\r\nEach time you scroll all the way down, the last line of Diff should be visible (in this case, line number 200)\r\nh3. Actual Results\r\n\r\nThe last line shown may not always be #200, but rather #197 or #194 etc.\r\nAs a reviewer, you are now missing a number of changes included in this Pull Request.\r\nh3. Workaround\r\n\r\nResizing the browser window, or re-entering the Pull Request, should show the entire Diff again.\r\nHowever, the reviewers may not know that they are missing a number of last lines.",
      "summary": "In a Pull Request, the last lines of Diff may be hidden"
    }
  },
  {
    "key": "BSERV-12025",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-10-28T05:07:41.000+0000",
      "created": "2019-10-28T05:01:39.000+0000",
      "description": "Bug BSERV-11999 describes a problem where deduplication of events on the topic service resulted in the a bottleneck in the Hazelcast event service. In Bitbucket Server 6.7.1, deduplication was disabled on mirror nodes as a temporary workaround to this problem. The approach used for deduplication needs to be improved so this doesn't impact other usages of the topic service, and deduplication should be re-enabled on mirror nodes.\r\n\r\n",
      "summary": "Optimise Topic Service event deduplication"
    }
  },
  {
    "key": "BSERV-12023",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-25T18:24:31.000+0000",
      "description": "I'd like to have the ability to link a document to a branch in the same way that we can link a document to a pull request.",
      "summary": "Add ability to link a document to a branch"
    }
  },
  {
    "key": "BSERV-12021",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-10T22:46:40.000+0000",
      "created": "2019-10-24T22:02:53.000+0000",
      "description": "h3. Problem\r\n\r\nWhen a pull request is opened from a fork to the canonical repository, a reviewer of the pull request will be able to see the code in the pull request but may not have permission to view/clone the fork to apply the changes locally.\r\nh3. Suggested solution\r\n - Allow a patch to be downloaded from a pull request.\r\n - Even better would be a tarball of patches created by the equivalent of `git format-patch`.",
      "summary": "Bitbucket needs a way to download a Pull Request as a patch (text file)."
    }
  },
  {
    "key": "BSERV-12020",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-23T19:33:42.000+0000",
      "description": "When we build a job in Jenkins, sometimes the configuration varies by branch (e.g., dev vs. prod). This means that a given commit might succeed for develop, but fail for a feature branch. Unfortunately, currently Bitbucket only lets Jenkins notify for a commit hash, so it erroneously concludes that both develop and the feature branch are broken. Worse, the merge gate prevents develop from being merged to master due to this failed build.\r\n\r\nInstead, I would suggest allowing the notification to specify both the commit hash and the branch. This is preferable over using the PR id (BSERV-11597) since you can always trigger a build without there being a PR at that point.",
      "summary": "Track build status by branch, not just commit hash"
    }
  },
  {
    "key": "BSERV-12019",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-23T13:58:29.000+0000",
      "description": "When navigation to the page 'My work' I am able to directly create new pull requests, see updated/commented pull requests which are still in review and underneath I see a field called 'Recently closed' where all pull requests from the last seven days are shown - distributed over different repos and users.\r\n\r\nNow at our company we are working in two-week cycles. For the review of our time it would be quite helpful to directly see what your pull requests were over a custom amount of time (s.t. I could choose to not only show the last 7 days but also the last 14 days and choose the author as myself and choose all existing repos instead of distributed overview per repo).\u00a0\r\n\r\nThis would be awesome! :)",
      "summary": "show recently closed pull requests for a custom amount of days"
    }
  },
  {
    "key": "BSERV-12018",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-23T12:40:38.000+0000",
      "description": "Dear Bitbucket Engineers and Product Manager\r\n\r\nas of today a PR comment history can be very long and hard to read if many outdated comments are still shown.\r\n\r\nWe would like to request the same behavior as in the diff view of a PR (using SHIFT + C) to hide comments from the source code.\r\n\r\nCould you please let us know if a feature like this is already existing in a later version, if a feature request for this kind of request already exists or if a planning to implement this request is already planned.\r\n\r\nThank you very much and best regards\r\n\r\nSebastian Geschwill",
      "summary": "To hide outdated PR Comments "
    }
  },
  {
    "key": "BSERV-12016",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T20:10:34.000+0000",
      "description": "Bitbucket has a slow UI for the history graph that shows misleading graphs, that is displayed when you look at the commit list of a repo:\r\n- It shows some merge commits as not merge commits in the graph.\r\n- It shows some non-merge commits as merge commits in the graph.\r\n- It sometimes shows first-parent revs in the far right part of graph.\r\n- It\u2019s very slow to load (mostly shows up as whitespace).\r\n\r\nvs. `git log \u2014graph \u2014oneline` you see in the terminal UI.\r\n\r\nPlease add an option to disable the graph UI for a repo.",
      "summary": "Bitbucket has a misleading and slow UI for git commit graph, please add an option to disable it for a repo"
    }
  },
  {
    "key": "BSERV-12015",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-21T09:18:01.000+0000",
      "description": "It should be possible to place links within the description of a repository. From my experience, it is quite common practice on GitHub to link the project page in the description.\r\n\r\nI found multiple similar issues on Bitbucket Cloud: BCLOUD-614, BCLOUD-1572, BCLOUD-4773, BCLOUD-5957. According to the comments, the issue seems to be resolved there. However, it does not work on the Bitbucket Server in my company. Is this feature not available on Bitbucket Server?",
      "summary": "Links in descriptions for repositories"
    }
  },
  {
    "key": "BSERV-12014",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-20T11:03:57.000+0000",
      "description": "I often review lengthy pull requests with large numbers of commits. It would be very helpful to be able to mark commits as read or approved, so that I'm not wasting time finding where I need to start off again when I come back to task the next day.",
      "summary": "Add ability to mark individual commits in a pull request as read or approved"
    }
  },
  {
    "key": "BSERV-12013",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-10-18T11:55:23.000+0000",
      "description": "This suggestion comes from a general security finding.\r\n\r\nThere is no alert in place when a new privileged user to a system is assigned. This increases the likelihood that unauthorized assignment to a privileged account goes undetected.\r\n\r\nAssigning a new privileged user to a system should trigger an alert for review to ensure the assignment was authorized.  \r\n\r\nHow that alert is processed could be an in application notification, an email alert to administrators, or an in-application audit log GUI (like JIRA's implementation).\r\n",
      "summary": "Trigger an Alert When a User is Granted Admin Privileges"
    }
  }
]