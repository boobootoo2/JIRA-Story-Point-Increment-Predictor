[
  {
    "key": "BSERV-12467",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-19T22:47:17.000+0000",
      "created": "2020-07-09T19:28:23.000+0000",
      "description": "When viewing a pull request on the \"Overview\" tab as a reviewer I would like the ability to make comments inline on the description contents.\r\n\r\n\u00a0",
      "summary": "On a pull request have the ability to make inline comments on the description as a reviewer"
    }
  },
  {
    "key": "BSERV-12466",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-09T14:21:33.000+0000",
      "description": "Some customers are starting to work with a product which uses XML code, that requires a diff of like 3 or 4 lines as the changes happen on several parts and some cases it is recognized as a new code an not an update, which cause the code to have duplicated entries or when trying to merge, causes conflicts.\r\n\r\nh3. Desired results\r\nHave a diff or a way to validate an entire block of several lines, that would help to avoid duplicated entries and increase the versatility od Bitbucket Diffs.",
      "summary": "XML code base requires a diff of block-level"
    }
  },
  {
    "key": "BSERV-12465",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-09T11:19:26.000+0000",
      "description": "When in this Bitbucket area:\r\n !image-2020-07-09-13-18-31-173.png!\r\n\r\n\u00a0\r\n\r\nThe filter is case sensitive when writing capitalized: \r\n\r\n!screenshot-1.png!",
      "summary": "Bitbucket file filter is case sensitive (kinda) "
    }
  },
  {
    "key": "BSERV-12464",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-08T18:15:46.000+0000",
      "description": "h3. Issue Summary\r\nSome customers while trying to install the newest versions of Bitbucket, are getting error of fontconfig necessary to run with OpenJDK, but even the customer install it, the installer is not able to identify it without sudo/root access.\r\n\r\nh3. Request\r\nSome of this customer have compliance policy in place which do not allow anything to be run or executed with sudo/root access that is not a security account or the OS-specific accounts, with that said, they would require the installation to not request for the sudo/root access and complete the installation, or to give the necessary details on how to install without needing to give them sudo access.",
      "summary": "Installing Bitbucket without root or sudo access doesn't identify fontconfig package"
    }
  },
  {
    "key": "BSERV-12463",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:41:15.000+0000",
      "created": "2020-07-08T10:34:44.000+0000",
      "description": "h4. Summary (Customer's use case)\r\nAtlassian links in  _Bitbucket login page_ (html file)  indicates  http:// instead of https:// even though it is eventually directed to a secure site. A customer will want all the Atlassian links to be https:// due to their security scan which mandates links to be https://\r\n\r\nh4. Current state\r\nSample synapse from _login.html_ showing http:// links\r\n{code:java}\r\n#footer --><footer id=\"footer\" role=\"contentinfo\"><section class=\"notifications\"></section><section class=\"footer-body\"><ul><li data-key=\"footer.license.message\">Git repository management for enterprise teams powered by <a href=\"http://www.atlassian.com/software/bitbucket/\">Atlassian Bitbucket</a></li></ul><ul><li>Atlassian Bitbucket <span title=\"d91c598cf136e9e08b98229be8b6d3f00688f587\" id=\"product-version\" data-commitid=\"d91c598cf136e9e08b98229be8b6d3f00688f587\" data-system-build-number=\"d91c598\"> v6.9.1</span></li><li data-key=\"footer.links.documentation\"><a href=\"http://docs.atlassian.com/bitbucketserver/docs-069/Bitbucket+Server+documentation?utm_campaign=in-app-help&amp;utm_medium=in-app-help&amp;utm_source=stash\" target=\"_blank\">Documentation</a></li><li data-key=\"footer.links.jac\"><a href=\"https://jira.atlassian.com/browse/BSERV\" target=\"_blank\">Request a feature</a></li><li data-key=\"footer.links.about\"><a href=\"/about\">About</a></li><li data-key=\"footer.links.contact.atlassian\"><a href=\"http://www.atlassian.com/company/contact/\" target=\"_blank\">Contact Atlassian</a></li></ul><div id=\"footer-logo\"><a href=\"http://www.atlassian.com/\" target=\"_blank\">Atlassian</a></div></section></footer><!-- End #footer --></div><script>require('bitbucket/internal/layout/base/base').onReady(null, \"Bitbucket\" ); require('bitbucket/internal/widget/keyboard-shortcuts/keyboard-shortcuts').onReady();</script><script type=\"text/javascript\">require('bitbucket/internal/page/login/login').onReady();</script></body></html>\r\n{code}\r\n\r\nh4. Expected state\r\nlogin.html page showing https://\r\n{code:java}\r\n#footer --><footer id=\"footer\" role=\"contentinfo\"><section class=\"notifications\"></section><section class=\"footer-body\"><ul><li data-key=\"footer.license.message\">Git repository management for enterprise teams powered by <a href=\"https://www.atlassian.com/software/bitbucket/\">Atlassian Bitbucket</a></li></ul><ul><li>Atlassian Bitbucket <span title=\"d91c598cf136e9e08b98229be8b6d3f00688f587\" id=\"product-version\" data-commitid=\"d91c598cf136e9e08b98229be8b6d3f00688f587\" data-system-build-number=\"d91c598\"> v6.9.1</span></li><li data-key=\"footer.links.documentation\"><a href=\"https://docs.atlassian.com/bitbucketserver/docs-069/Bitbucket+Server+documentation?utm_campaign=in-app-help&amp;utm_medium=in-app-help&amp;utm_source=stash\" target=\"_blank\">Documentation</a></li><li data-key=\"footer.links.jac\"><a href=\"https://jira.atlassian.com/browse/BSERV\" target=\"_blank\">Request a feature</a></li><li data-key=\"footer.links.about\"><a href=\"/about\">About</a></li><li data-key=\"footer.links.contact.atlassian\"><a href=\"https://www.atlassian.com/company/contact/\" target=\"_blank\">Contact Atlassian</a></li></ul><div id=\"footer-logo\"><a href=\"https://www.atlassian.com/\" target=\"_blank\">Atlassian</a></div></section></footer><!-- End #footer --></div><script>require('bitbucket/internal/layout/base/base').onReady(null, \"Bitbucket\" ); require('bitbucket/internal/widget/keyboard-shortcuts/keyboard-shortcuts').onReady();</script><script type=\"text/javascript\">require('bitbucket/internal/page/login/login').onReady();</script></body></html>\r\n{code}\r\n\r\nThank you.\r\n",
      "summary": "Change Atlassian links from http to https in page "
    }
  },
  {
    "key": "BSERV-12462",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-08T10:12:45.000+0000",
      "description": "As a user/reviewer, I expect the ability to collpase or expand the code based on curly brackets",
      "summary": "Ability to Collapse/Expand Code"
    }
  },
  {
    "key": "BSERV-12460",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:41:21.000+0000",
      "created": "2020-07-07T10:55:33.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCan you rename the Edit menu item on Pull Request detail page(more actions) from \"\u00c4nderung\" back to \"Bearbeiten\" for German language?\r\n More Action menu is located on the upper right at the Pull Request detail view.\r\n\r\nThe menu item for editing pull requests was renamed from Bearbeiten to \"\u00c4nderung\"\r\n [^pr-edit.gif]\r\nh3. Steps to Reproduce\r\n\r\nNA\r\nh3. Expected Results\r\n\r\nPull request is to be edited with menu item.\r\nh3. Actual Results\r\n\r\nIn context of editing a Pull Request \"\u00c4nderung\" sounds unspecific and inappropriate for a native German speaker.\r\n \"\u00c4nderung\" is a noun and is mostly used for the result of an action.\r\n In contrast by selecting the button it is intended to start an action (editing the PR).\r\n Additionally, for all other items of the 'more actions' menu verbs are used.\r\n Bearbeiten is a verb and better indicates that the pull request can be edited.\r\nh3. Workaround\r\n\r\n\r\n Currently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Rename menu item Edit from \"Anderung\" to \"Bearbeiten\" in German Translation"
    }
  },
  {
    "key": "BSERV-12459",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-07T07:24:05.000+0000",
      "description": "It would be helpful if Bitbucket REST API included the functionality of committing multiple files with a same commit ID.",
      "summary": "REST API to commit multiple files with same commit ID"
    }
  },
  {
    "key": "BSERV-12458",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T04:45:31.000+0000",
      "created": "2020-07-06T16:31:13.000+0000",
      "description": "Currently the Atlassian Bitbucket python api only allows you to retrieve a comment from a PR if you know the id of the comment.\u00a0\r\n\r\n\u00a0\r\n\r\nThis is the same with the REST API.\r\n\r\n{host}/rest/api/1.0/projects/\\{project}/repos/\\{my-repo}/pull-requests/\\{prID}/comments\r\n\r\nRequesting this resource fails with the following error:\r\n\r\n{\"errors\":[\\{\"context\":null,\"message\":\"The path query parameter is required when retrieving comments.\",\"exceptionName\":null}]}\r\n\r\n\u00a0\r\n\r\nIt would be nice if it didn't",
      "summary": "Allow retrieval of all comments on pull request"
    }
  },
  {
    "key": "BSERV-12457",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T01:47:36.000+0000",
      "created": "2020-07-03T15:57:02.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe DELETE user's permission endpoint\u00a0[http://example.com/rest/api/1.0/projects/\\{projectKey}/permissions/users|https://docs.atlassian.com/bitbucket-server/rest/6.7.2/bitbucket-rest.html#idp158]\u00a0should return a different value rather than the 204 success status code.\r\n\r\nAs per the reference documentation, we may expect a 400 Bad request status code. However, we are getting a 204\r\n\r\nh3. Steps to Reproduce\r\n # Go to project settings\r\n # Confirm that the user does not have any permissions mapped to him.\r\n # Run a DELETE against the\u00a0[/rest/api/1.0/projects/\\{projectKey}/permissions/users|https://docs.atlassian.com/bitbucket-server/rest/7.3.1/bitbucket-rest.html#idp158]\u00a0endpoint.\r\n\r\n(i)\u00a0Tested on 6.7.2.\r\n\r\nh3. Expected Results\r\n{code:java}\r\nGet a 4xx client-side error status code response.{code}\r\nh3. Actual Results\r\n{noformat}\r\nWe are getting a 204 status code.\r\n{noformat}\r\nh3. Workaround\r\n\r\n(i)\u00a0Currently, there is no known workaround for this behavior.\u00a0",
      "summary": "The DELETE user's permission endpoint is returning 204 when the permission does not exist"
    }
  },
  {
    "key": "BSERV-12456",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-01T22:33:21.000+0000",
      "description": "Git for Windows 2.24.1 introduced new checks for forbidden filenames on Windows (like {{AUX}}), and enabled {{core.protectNTFS}} by default. These restrictions were relaxed slightly in Git for Windows 2.25.0, to allow pushing repositories that include trees with forbidden paths, but the {{core.protectNTFS}} protections remain.\r\n\r\nThis can manifest, when hosting Bitbucket Server on Windows, in pull requests failing to merge because {{git reset}} fails. (See [git-for-windows/git#2682|https://github.com/git-for-windows/git/issues/2682])\r\n\r\nPossible workarounds include:\r\n* Downgrading to Git for Windows 2.24.0 or older\r\n* Disabling {{core.protectNTFS}} in the {{.gitconfig}} for the user Bitbucket Server is run as\r\n* Migrating to Linux for hosting Bitbucket Server\r\n\r\nNone of those workarounds could be termed \"ideal\", though. Another solution would be to allow Bitbucket Server administrators to _selectively_ disable {{core.protectNTFS}} _during merges_ for specific repositories. This leaves the {{core.protectNTFS}} checks enabled on the bare repositories Bitbucket Server manages, to provide additional protection, while still allowing merges in repositories that happen to contain forbidden paths (like the Linux kernel) to succeed.\r\n\r\n**Note**: Merges that try to change forbidden paths will still fail. All this will do is allow merges that do _not_ affect any forbidden paths in repositories where _unmodified_ trees include forbidden paths to succeed.",
      "summary": "Allow selectively disabling core.protectNTFS for specific repositories"
    }
  },
  {
    "key": "BSERV-12455",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-01T20:03:20.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIn the document [Securing Bitbucket Server with Tomcat using SSL|https://confluence.atlassian.com/bitbucketserver0610/securing-bitbucket-server-with-tomcat-using-ssl-989761934.html], section [Configure HTTPS in {{bitbucket.properties}}|https://confluence.atlassian.com/bitbucketserver0610/securing-bitbucket-server-with-tomcat-using-ssl-989761934.html#SecuringBitbucketServerwithTomcatusingSSL-ConfigureHTTPSinbitbucket.properties], subsection 1a, after the example provided there is an expandable section \"What these properties do...\".\r\n Expanding the section shows a reference table in which the property {{server.ssl.client-auth}} is mentioned. The explanation provided for this property does not mention that it is optional, making our customers believe that this setting is in fact mandatory.\r\nh3. Suggested Solution\r\n\r\nThe explanation provided should clarify that this setting is optional, and should only be used in very specific business cases where client authentication is required, and that not specifying that setting at all would set the default value of \"false\" instead of \"need\" or \"want\".\r\nh3. Workaround\r\n\r\nThere are no known workarounds at this moment.",
      "summary": "SSL documentation should clarify that server.ssl.client-auth is an optional setting"
    }
  },
  {
    "key": "BSERV-12447",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-30T18:31:36.000+0000",
      "description": "Feature: Add comment to Pullrequest\r\n\r\nEnvironment: Bitbucket pullrequest\r\n\r\nSteps to reproduce:\r\n # Open a PR and go to diff section of a file\r\n # Click on plus sign next to line number to insert a comment\r\n # Click on plus sign next to another line number\r\n # A dialog will show to warn about loosing unsaved comment, press cancel\r\n\r\nExpected behavior: The plus mark for second click should disappear\r\n\r\nActual behavior: The plus mark for second click stays around until next click",
      "summary": "Plus mark for comment insertion on a line of PR, stays around after cancel"
    }
  },
  {
    "key": "BSERV-12446",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-29T17:20:58.000+0000",
      "description": "Workspace is a context that I am in at the time. Like a board in\u00a0Trello. So it makes it a better experience if the indication of which workspace I am in is stronger and highly perceivable. Just looking at the background should be enough to tell you which workspace you are in.\u00a0\r\n\r\nI recommend making common, workspace based backgrounds i.e being able to set a background for a workspace and everyone in the team sees the same background. \r\nAt the same time it should not obstruct using\u00a0the product and not reduce visibility of the text. \r\nIt should also be easy on the eyes.\r\n\r\nIt would also be awesome if you can show the team members in the workspace. show them all together, maybe in a corner to keep reminding us of them. As I am working in a small team, I would like to see my team , especially to keep reminding me that they are there. I believe this will nudge us all to better collaboration.\u00a0\r\n\r\nAlso, the amount of information presented on the board can be too much sometimes, it would be a lot more effective to present lesser information. Especially in one particular session, I do not interact with most of it anyway. Information should be very easily groupable and searchable( even better if it is selectable(Modules within Sprints should be selectable. This also gives us status of which module is where - like a status indicator of the module)",
      "summary": "More Visibility to workspaces"
    }
  },
  {
    "key": "BSERV-12445",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-29T15:37:29.000+0000",
      "description": "Can you please make all external links in Bitbucket Server open in a new browser tab?\u00a0 I've seen that work in some places, but I just clicked the \"Learn more\" link under \"Branch prefixes\" and doing so took over my Bitbucket tab by going to confluence.atlassian.com...\u00a0 I hate that!",
      "summary": "Make external links open in a new tab"
    }
  },
  {
    "key": "BSERV-12444",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T02:02:12.000+0000",
      "created": "2020-06-29T07:21:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMirror nodes can time out while building the local diffs, as the idle timeout is set to the default value of 60 seconds and the process may take longer than that to produce the response.\r\nh3. Steps to Reproduce\r\n # Mirror a large repository\r\n\r\nh3. Expected Results\r\n\r\nThe repository completes synchronization.\r\nh3. Actual Results\r\n\r\nThe repository fails to sync with the following:\r\n{code:java}\r\n2020-06-25 04:34:19,098 ERROR [farm-operation-4]  c.a.b.i.m.m.f.t.ReplyingTopicListener Error while processing request TopicRequest{message=RefChangeChunk{farmSynchronizationRequest=FarmSynchronizationRequest{externalRepositoryId=345, type=snapshot}, last=true, index=0, digest=..., payload.length=...}, replyTopic=refChangeChunk_..._reply, anticipatedResponders=1}\r\njava.lang.RuntimeException: Unexpected error generating a list of changes\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.refchange.RefChangeCalculator.localDiff(RefChangeCalculator.java:83)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.synchronization.RepositorySynchronizationOperation.perform(RepositorySynchronizationOperation.java:111)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.synchronization.RepositorySynchronizationOperation.perform(RepositorySynchronizationOperation.java:39)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.MetricCollectingMirrorOperation.perform(MetricCollectingMirrorOperation.java:66)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.refchange.RefChangeChunkOperation.perform(RefChangeChunkOperation.java:100)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.refchange.RefChangeChunkOperation.perform(RefChangeChunkOperation.java:62)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.MetricCollectingMirrorOperation.perform(MetricCollectingMirrorOperation.java:66)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.AuthenticatedMirrorOperation.lambda$perform$0(AuthenticatedMirrorOperation.java:37)\r\n        at com.atlassian.stash.internal.user.DefaultEscalatedSecurityContext.call(DefaultEscalatedSecurityContext.java:58)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.DefaultUpstreamUserHelper.performAsUpstreamUser(DefaultUpstreamUserHelper.java:93)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.AuthenticatedMirrorOperation.perform(AuthenticatedMirrorOperation.java:37)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.MultiThreadedMirrorOperation.lambda$perform$0(MultiThreadedMirrorOperation.java:45)\r\n        at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n        at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\r\n        at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n        at com.atlassian.sal.core.executor.ThreadLocalDelegateRunnable.run(ThreadLocalDelegateRunnable.java:34)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 1 frame trimmed\r\nCaused by: com.atlassian.bitbucket.ServerException: An error occurred while executing an external process: process timed out\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:120)\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208)\r\n        at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n        at com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:214)\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:348)\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:312)\r\n        at com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:144)\r\n        at com.atlassian.bitbucket.internal.mirroring.mirror.farm.refchange.RefChangeCalculator.localDiff(RefChangeCalculator.java:81)\r\n        ... 18 common frames omitted\r\nCaused by: com.atlassian.utils.process.ProcessTimeoutException: process timed out\r\n        at com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:664)\r\n        at com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:163)\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:310)\r\n        ... 20 common frames omitted{code}\r\nh3. Workaround\r\n\r\nNo known workaround.",
      "summary": "Mirror node can time out while building local diffs"
    }
  },
  {
    "key": "BSERV-12443",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-29T00:08:42.000+0000",
      "description": "h3. Current behaviour\r\n- When a search is performed, up to 3 fragments of code will be returned for a given file that contains content that match the search query\r\n- Each of these fragments can contain multiple occurrences of the search string\r\n- Each of these fragments is a chunk of up to 1400 characters\r\n- The maximum number of fragments is currently set to 3. This setting is not configurable.\r\n- If there were more occurrences of the search term outside of these 3 fragments, they will not be retuned as search matches.\r\n\r\nh4. Sample:\r\n!sample_screenshot.png|thumbnail! \r\n- 2 files were found containing the search string \"gitactivity\"\r\n- the first file shows 3 fragments showing multiple occurrences of the term. other occurrences of the term outside of these 3 fragments are not shown.\r\n\r\nh3. New feature request\r\n- Provide the ability to configure the maximum number of fragments returned for code search to be able to show more results\r\n",
      "summary": "Provide configuration options for the number of code fragments returned from a search"
    }
  },
  {
    "key": "BSERV-12442",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-28T21:18:02.000+0000",
      "created": "2020-06-26T17:26:48.000+0000",
      "description": "Although Bitbucket does track if you've clicked a file, it would be nice to be able to track whether or not you've finished reviewing a file.",
      "summary": "File Review Checklist"
    }
  },
  {
    "key": "BSERV-12441",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-26T07:27:32.000+0000",
      "description": "h3. Issue Summary\r\nSupported Git versions in the recent versions of [Supported Platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html] is described more precise than it used to be. Now it is more specific, like Git *2.25.x* instead of *2.25+*:\r\n\r\n*NEW:*\r\n\r\n!image-2020-06-26-09-22-50-206.png!\r\n\r\n*OLD:*\r\n\r\n*!image-2020-06-26-09-23-37-446.png!*\r\n\r\nThis is a good change and considered an improvement. However, all the [Supported Platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html] versions up to Bitbucket 7.0 use the old *a.bc+* version. Please update all the SP pages to reflect the new format (*a.bc.x*)\r\nh3. Steps to Reproduce\r\nOpen [Supported Platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html] page for Bitbucket <= 7.0.\r\nh3. Expected Results\r\nGit version: a.bc.x\r\nh3. Actual Results\r\nGit version: a.bc+\r\nh3. Workaround\r\nNot needed.\r\n",
      "summary": "Please update Git version information on all Supported Platform pages for Bitbucket <= 7.0"
    }
  },
  {
    "key": "BSERV-12440",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-25T12:03:12.000+0000",
      "description": "Project automation needs to be updated when a repository is updated, like crated or deleted.  If a project had a web hook that could fire when a repository action is taken, projects can be automated when updated.  The payload can be json with the repository details.",
      "summary": "Project level web hook for repository action"
    }
  },
  {
    "key": "BSERV-12439",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-24T18:24:38.000+0000",
      "description": "We use the Semantic Versioning automatic merging and consistently run into issues where when an automatic merge fails. We have to turn off the branch permission setting for not allowing changes to our release/* branches without a PR.\r\n\r\nThe instructions for how to resolve an automatic merge failure require you directly push to the conflicted release branch, which with the protections on, gets blocked. BitBucket should be aware that there is an open Automatic Merge Failure PR and temporarily allow changes directly to the affected branch.",
      "summary": "Pushes to branches protected with \"no changes without PR\" should be aware of automatic merge failures"
    }
  },
  {
    "key": "BSERV-12438",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-24T14:26:51.000+0000",
      "description": "h3. Problem\r\nCurrently Bitbucket in order to keep the consistency of the repositories disables the garbage collection and removal of the repository owning forks. \r\nHowever, the end user with repository administrator privileges is not getting notified that the repository has any forks at the time user is hitting the Delete repository button.\r\n\r\nAs the result there are repository data is still stays on the filesystem without the possibility to remove it safely or to fetch all the forks via the UI.\r\n\r\nh3. Solution\r\nOn the click of Remove repository button please provide a warning if the repository have any forks (with a link to REPO-URL/forks).",
      "summary": "Notify the user about existing forks before the deletion"
    }
  },
  {
    "key": "BSERV-12437",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-24T11:37:35.000+0000",
      "description": "h3. Problem Definition\r\n\r\nBitbucket does store user's GPG keys so that commits can be verified when pushing them to Bitbucket. As the keys are already stored in Bitbucket, it'd be great to have the option to download those by other users so that they can verify commits from other users locally.\r\n\r\nRight now, the REST API endpoing {{GET /rest/gpg/1.0/keys}} only allows you to export fingerprints and not keys. In addition, to download other users' keys you need to be an admin.\r\n\r\nh3. Suggested Solution\r\n\r\nHave the ability for other user's to download your own and other users' GPG public key so that you can verify other users commits locally.\r\n\r\nh3. Workaround\r\n\r\nNo workaround other than using a separate solution as a key management server.",
      "summary": "Add the option to export GPG keys from other users and not just the fingerprint"
    }
  },
  {
    "key": "BSERV-12436",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-24T05:16:26.000+0000",
      "description": "Currently we have an alert system that shows important notices to admins and users when they login to Bitbucket\r\n\r\nAllow a configurable option to get email alerts in addition to the in-UI alerts.\r\n\r\nExample: Email notifications for when the user licence limit has been reached.",
      "summary": "Email notifications for \"alert\" system in banner."
    }
  },
  {
    "key": "BSERV-12435",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-24T00:06:55.000+0000",
      "description": "h4. New feature summary\r\n\r\nProvide the ability to cancel an import of a repository\r\n There is currently no way to cancel an on-going repository import.\r\n It would be nice to have the ability to cancel an import, preferably via the UI.\r\n !repo_import.png|thumbnail! \r\n This can be useful for situations where an import is taking too long or has become stuck due to an issue.\r\nh4. Current workaround\r\n\r\nTo cancel an import, the \u201cBitbucket Server - Importer\u201d System plugin can be temporarily disabled.\r\n This action cancels all on-going imports\r\nh5. Procedures:\r\n - In the Bitbucket UI, go to {{Administration >> Manage apps}}\r\n - Select \u201cSystem\u201d from the dropdown to list system apps\r\n - Look for \u201cBitbucket Server - Importer\u201d and disable it.\r\n Disabling this plugin cancels all imports\r\n - Afterwards, re-enable the plugin",
      "summary": "Provide the ability to cancel an import of a repository"
    }
  },
  {
    "key": "BSERV-12434",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-30T17:44:17.000+0000",
      "created": "2020-06-23T16:39:28.000+0000",
      "description": "Affected versions of Atlassian Bitbucket Server allow remote attackers to intercept unencrypted repository import requests via Man-in-the-Middle (MITM) attack.\r\n\r\n\u00a0\r\n\r\n*Affected versions:*\r\n * 4.9.0 <=  version < 7.2.4\r\n\r\n*Fixed versions:*\r\n * 7.2.4\r\n * 7.3.0",
      "summary": "MITM in Repository Import -  CVE-2020-14171 "
    }
  },
  {
    "key": "BSERV-12433",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-30T17:44:23.000+0000",
      "created": "2020-06-23T16:27:06.000+0000",
      "description": "Affected versions of Atlassian Bitbucket Server allow remote attackers to access the content of internal network resources via a Server-Side Request Forgery (SSRF) vulnerability in Webhooks.\r\n\r\nWhen running in an environment like Amazon EC2, this flaw may be used to access to a metadata resource that provides access credentials and other potentially confidential information.\r\n\r\n*Affected versions:*\r\n * 5.4.0 <=\u00a0version < 7.3.1\r\n\r\n*Fixed versions:*\r\n * 7.3.1",
      "summary": "SSRF in Webhooks - CVE-2020-14170"
    }
  },
  {
    "key": "BSERV-12432",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-23T04:56:03.000+0000",
      "description": "h4. Summary(Customer's usecase)\r\nA customer's security team requires record of: AuthenticationFailureEvent, AuthenticationSuccessEvent, RepositoryPullEvent, RepositoryPushEvent, RepositoryCloneEvent. As such for audit logging they have 'Full' set for both Security & End User Activity. This results to many events logged in the database, which are rotated in few days.\r\n\r\nh4. Expected result\r\nWe will like to be able to select only the events ({{AuthenticationFailureEvent, AuthenticationSuccessEvent, RepositoryPullEvent, RepositoryPushEvent, RepositoryCloneEvent}}) we require for Audit logs in order to reduce the information logged and avoid having other junks in the Audit logs.\r\n\r\nWe would like to have a way to log these events but just not in the database as it will fill-up too fast due to the amount of events we get. We instead would like to be able to have these events logged to a file, and other users user audit events can still be kept in the database (so visible in the UI, and kept much longer without rotation)\r\n\r\nThank you.",
      "summary": "Allow event level selection for Audit logging"
    }
  },
  {
    "key": "BSERV-12431",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-21T05:34:08.000+0000",
      "created": "2020-06-22T15:11:11.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a user switches between two different code insights reports that have annotations that have the same type, message, and severity - these affected annotations are not cleared out when you switch and begin to duplicate each time you switch between the reports.\r\n\r\nh3. Steps to Reproduce\r\n # PUT two new reports against the latest commit on a pull request. Ex:\r\n #* {code:bash}\r\ncurl --location --request PUT 'https://mybitbucketinstance.com/rest/insights/latest/projects/test/repos/test/commits/37a567b70176fb6f93929b9d7488e90bdcd38224/reports/test' \\\r\n--header 'Accept: application/json' \\\r\n--header 'Content-Type: application/json' \\\r\n-u adminusername:adminpassword \\\r\n--data-raw '{\r\n      \"data\": [\r\n        {\r\n          \"title\": \"This is a test\",\r\n          \"value\": \"2\"\r\n        }\r\n      ],\r\n      \"details\": \"Test\",\r\n      \"logoUrl\": \"https://thisisatesturlandisnotreal.test\",\r\n      \"result\": \"FAIL\",\r\n      \"title\": \"Test\",\r\n      \"reporter\": \"Test\"\r\n}'\r\ncurl --location --request PUT 'https://mybitbucketinstance.com/rest/insights/latest/projects/test/repos/test/commits/37a567b70176fb6f93929b9d7488e90bdcd38224/reports/test2' \\\r\n--header 'Accept: application/json' \\\r\n--header 'Content-Type: application/json' \\\r\n-u adminusername:adminpassword \\\r\n--data-raw '{\r\n      \"data\": [\r\n        {\r\n          \"title\": \"This is a test 2\",\r\n          \"value\": \"2\"\r\n        }\r\n      ],\r\n      \"details\": \"Test 2\",\r\n      \"logoUrl\": \"https://thisisatesturlandisnotreal.test\",\r\n      \"result\": \"FAIL\",\r\n      \"title\": \"Test 2\",\r\n      \"reporter\": \"Test 2\"\r\n}'{code}\r\n # POST two annotations to one report, and only one to the second report. Ensure that the report with two annotations has both annotations with the same type, message, and severity. The path/line number do not matter (as long as they exist and were modified in the PR) and can be unique. Ex:\r\n#* {code:bash}\r\ncurl --location --request POST 'https://mybitbucketinstance.com/rest/insights/latest/projects/test/repos/test/commits/37a567b70176fb6f93929b9d7488e90bdcd38224/reports/test/annotations' \\\r\n--header 'Accept: application/json' \\\r\n--header 'Content-Type: application/json' \\\r\n-u adminusername:adminpassword \\\r\n--data-raw '{\r\n    \"annotations\": [\r\n    {\r\n      \"line\": 13,\r\n      \"message\": \"test\",\r\n      \"path\": \"src/main/Test.java\",\r\n      \"severity\": \"LOW\",\r\n      \"type\": \"CODE_SMELL\"\r\n    },\r\n    {\r\n      \"line\": 14,\r\n      \"message\": \"test\",\r\n      \"path\": \"src/main/Test.java\",\r\n      \"severity\": \"LOW\",\r\n      \"type\": \"CODE_SMELL\"\r\n    }\r\n    ]\r\n}'\r\ncurl --location --request POST 'https://mybitbucketinstance.com/rest/insights/latest/projects/test/repos/test/commits/37a567b70176fb6f93929b9d7488e90bdcd38224/reports/test2/annotations' \\\r\n--header 'Accept: application/json' \\\r\n--header 'Content-Type: application/json' \\\r\n-u adminusername:adminpassword \\\r\n--data-raw '{\r\n    \"annotations\": [\r\n    {\r\n      \"line\": 15,\r\n      \"message\": \"test 2\",\r\n      \"path\": \"src/main/Test.java\",\r\n      \"severity\": \"MEDIUM\",\r\n      \"type\": \"BUG\"\r\n    }\r\n    ]\r\n}'{code}\r\n# On the pull request overview screen, click where it says '2 Integrations' in the top right, and then switch between both reports multiple times.\r\n\r\nh3. Expected Results\r\n\r\nSwitching between both reports shows the expected 2 annotations for 'Test' and 1 annotation for 'Test 2'.\r\n\r\nh3. Actual Results\r\n\r\nEvery time you switch between Test to Test 2, one of the two annotations is duplicated as it doesn't get cleared from the annotation list:\r\n\r\n !BSERV.gif! \r\n\r\nThe reason for this is because the unique identifier for annotations is a composite key comprised of the message, type, severity, and report key. When switching between reports, the annotations list will only clear out one instance of each key - meaning that the second instance of any key will remain within the report listing.\r\n\r\nThe only exception to the above behavior is when you visit a report with +no+ annotations. This will clear out all annotations (including the duplicate ones) until you start switching between the two populated reports again.\r\n\r\nh3. Workaround\r\n\r\nEnsure all annotations have a unique report/message/severity/type combination.",
      "summary": "Switching between code insights reports with similar annotations duplicates displayed annotations"
    }
  },
  {
    "key": "BSERV-12430",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-22T21:56:50.000+0000",
      "created": "2020-06-22T10:31:50.000+0000",
      "description": "Enable markdown section links, anchors, to jump to the referenced section header in preview mode.\r\n",
      "summary": "Section links in Markdown previews to just to section"
    }
  },
  {
    "key": "BSERV-12429",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-22T08:03:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen trying to display the diff of a Pull Request a 500 Server Error is displayed if the branches to be merged have no common ancestor.\r\nh3. Steps to Reproduce\r\n # Create two branches, ensuring they have no common ancestor\r\n # Create a pull request involving these two branches\r\n # Try to display the diff\r\n\r\nh3. Expected Results\r\n\r\n-The diff is displayed-\u00a0Despite the compare page showing a diff, Pull Requests are unable to display a diff if there is no common ancestor. Show an error message in the PR diff telling the user to merge the target branch into the source branch.\r\nh3. Actual Results\r\n\r\nA 500 Server Error is displayed.\r\n The below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\ncom.atlassian.bitbucket.scm.git.command.merge.GitNoCommonAncestorException: Incoming branch \"feature/brancha\" shares no common ancestor with target branch \"feature/branchb\". It is not possible to produce an effective diff for pull request 1 in PROJ/repo.\r\n\tat com.atlassian.stash.internal.scm.git.command.merge.AbstractMergeBaseExitHandler.isNonZeroExitCodeException(AbstractMergeBaseExitHandler.java:28)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:110)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:281)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:322)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onExit(NioNuProcessHandler.java:123)\r\n\tat com.zaxxer.nuprocess.internal.BasePosixProcess.onExit(BasePosixProcess.java:319)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.handleExit(ProcessEpoll.java:371)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.cleanupProcess(ProcessEpoll.java:334)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.process(ProcessEpoll.java:272)\r\n\tat com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.run(ProcessEpoll.java:188)\r\n[...]\r\n{noformat}\r\nh3. Workaround\r\n\r\nMerge the two branches locally and push the merge as the tip of your source branch",
      "summary": "Pull request diff returns 500 Server Error if branches have no common ancestor"
    }
  },
  {
    "key": "BSERV-12428",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T22:38:34.000+0000",
      "created": "2020-06-22T01:00:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nActive Objects upgrade tasks does not work\r\nh3. Steps to Reproduce\r\n # Install a version of Bitbucket Server before 7.3 and have a plugin create its schema\r\n # Upgrade to Bitbucket Server 7.3 and include an ActiveObjects schema upgrade task\r\n\r\nh3. Expected Results\r\n\r\nUpgrade completes\r\nh3. Actual Results\r\n\r\nFor a postgres database you get a log like the following\r\n{noformat}\r\n2020-05-18 06:28:19,747 WARN  [active-objects-init-compatibility-tenant-0]  n.j.ao.db.PostgreSQLDatabaseProvider Error in schema creation: ERROR: column \"MIRROR_TYPE\" contains null values; attempting to roll back last partially generated table\r\n2020-05-18 06:28:19,757 WARN  [active-objects-init-compatibility-tenant-0]  c.a.a.osgi.TenantAwareActiveObjects bundle [com.atlassian.bitbucket.server.bitbucket-mirroring-upstream] failed to create ActiveObjectscom.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:Database:\r\n\t- name:PostgreSQL\r\n\t- version:10.5\r\n\t- minor version:5\r\n\t- major version:10\r\nDriver:\r\n\t- name:PostgreSQL JDBC Driver\r\n\t- version:42.2.5\r\n{noformat}\r\nh3. Workaround\r\n\r\nWorkaround described in ticket https://jira.atlassian.com/browse/BSERV-11441",
      "summary": "ActiveObjects upgrade tasks not working"
    }
  },
  {
    "key": "BSERV-12427",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-19T15:46:55.000+0000",
      "description": "Given I am a BitBucker dev user\r\n\r\nWhen I make a commit to a branch that has a 'post receive' hook set up\r\n\r\nThen I want to prevent the hook from executing.\r\n\r\n\u00a0\r\n\r\nThere are times when I want to update some file in a branch without causing my Jenkins hook to execute.\u00a0 (E.g. I am updating the README.) I would like to have a way to tell BB not to execute the hook from a given branch name, commit message, etc.",
      "summary": "Prevent post receive hook from executing"
    }
  },
  {
    "key": "BSERV-12426",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-19T15:38:05.000+0000",
      "description": "h3. Suggestion description:\r\n\r\nThis suggestion is raised on behalf of a customer: \r\n\r\n\"The CMMI requirement is for Developers to have a way to tag their code review comments. For example, a developer on the team will review a pull request from another developer and sees there is a bug in the code. The developer will comment on identifying the bug and add a tag; @bug, to that comment. This way, at the end of a sprint the team can compile a report from all the tags used in code reviews and the team can see a trend. Maybe the team keeps trying to push code with bugs, or using bad coding practices, or not meeting the client's criteria; the report can show that when there are a high number of those tags used. That way the team has a way to track its code quality and focus on areas of improvement.\r\n\r\nSo this is for performing code reviews after a pull request has been opened. A way that the developers can add tags to the comments they make when they review someone else's code.\"\r\n\r\nh3. Why this is important\r\nSuch a feature:\r\n1. can be used, later on, to more easily search for that comment (better user experience).\r\n2. and, most importantly, can be used for reporting purposes (to check trends + track code quality + focus on areas of improvement)\r\n\r\nh3. Any available workarounds currently? \r\n\"Manually typing in a tag and at the end of a sprint, manually going through all the pull requests and searching (Ctrl + F) for any tags that are in that pull request.\"",
      "summary": "As a Bitbucket user I want the product to support tags on code review comments for reporting purposes and for better user experience"
    }
  },
  {
    "key": "BSERV-12425",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-18T20:48:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen code is added to a tabbed code block in a pull request comment, the code may be incorrectly turned into emoji.\r\nh3. Steps to Reproduce\r\n # Add the following comment in a Pull Request:\r\n{noformat}\r\nREGULAR TEXT\r\n\r\n\tif (foo == 8)\r\n\r\nREGULAR TEXT\r\n{noformat}\r\n\r\n # Notice that {{\"8)\"}} is turned into the emoji:\r\n !image-2020-06-18-17-37-15-736.png|width=111,height=104!\r\n\r\nh3. Expected Results\r\n\r\n{{\"8)\"}} should *not* be turned into emoji.\r\nh3. Actual Results\r\n * {{\"8)\"}} is turned into emoji.\r\n * It cannot be escaped with a backslash because the backslash ends up being displayed:\r\n\r\nh3. Workaround\r\n\r\nUse backticks (```) for encapsulating the code block, like this:\r\n{noformat}\r\nREGULAR TEXT\r\n```\r\n\tif (foo == 8)\r\n```\r\nREGULAR TEXT\r\n{noformat}\r\n\u00a0\u00a0Alternatively, use 4 spaces for the indentation rather than a tab character.",
      "summary": "Code inside tabbed code block may turn into emoji"
    }
  },
  {
    "key": "BSERV-12424",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-18T11:26:18.000+0000",
      "description": "Under a particular project, we have a flat list of repositories. I would like to see logical organization into one or more subfolders within a project. A second portion of this request would be to apply similar ACLs to subfolders within a project. Currently, to achieve this, there must be separate projects.",
      "summary": "Add support for organization options"
    }
  },
  {
    "key": "BSERV-12422",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-17T18:55:01.000+0000",
      "description": "As an admin, I would like the ability to configure a merge check that allows me to enforce specific regex checking for patterns in a merge message. ",
      "summary": "Merge Check for Merge messages"
    }
  },
  {
    "key": "BSERV-12421",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-17T13:33:52.000+0000",
      "description": "As an admin, I'd like to be able to default the \"Allow forks\" to be off to have an \"opt-in\" functionality rather than \"opt-out\"",
      "summary": "Ability to change default \"Allow forks\" setting."
    }
  },
  {
    "key": "BSERV-12420",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-17T13:13:43.000+0000",
      "description": "With Bitbucket 5.15 in the pull request view the commit message of the selected commit was displayed on top. With Bitbucket 7 the message is only available as a tooltip. Could you please make the commit message visible again? If you feel many users do not care about commit messages: Maybe the display of the commit message could be configured to let the users decide.\r\n\r\nExample screenshots:\r\nBitbucket 5.16:\r\n !Screenshot 2020-07-15 at 15.35.21.png|thumbnail! \r\n\r\nBitbucket 7.4:\r\n !Screenshot 2020-07-15 at 15.36.06.png|thumbnail! ",
      "summary": "Show commit messages again with Bitbucket 7"
    }
  },
  {
    "key": "BSERV-12419",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-15T19:39:29.000+0000",
      "created": "2020-06-17T13:09:44.000+0000",
      "description": "In our team, code review always includes checking the commits and the commit messages.\r\nI would like to review commit messages as easily as files.\r\nI would like to comment on commit message lines, suggest improvements and create tasks for commit messages.\r\nThis could easily be integrated into the GUI if the commit message was displayed like a file in the tree.",
      "summary": "Reviewing Commit Messages"
    }
  },
  {
    "key": "BSERV-12418",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-15T05:16:42.000+0000",
      "created": "2020-06-16T23:53:30.000+0000",
      "description": "h3. Issue Summary\r\nWhen using the browser font-size zoom feature the font size is unchanged.\r\n\r\nh3. Steps to Reproduce\r\n # Set browser's font-size to v. large\r\n    !https://www.dropbox.com/s/vjzonyrv6cq3qre/2020-06-17_09-32-05.png?dl=1!\r\n\r\nh3. Expected Results\r\nThe base font size is increased to the setting defined in the browser.\r\n\r\nh3. Actual Results\r\nThe font size remains unchanged.\r\n\r\nh3. Workaround\r\nBrowser zoom (i.e. full page zoom).\r\n",
      "summary": "Using browser font size zoom does not zoom the text"
    }
  },
  {
    "key": "BSERV-12417",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-18T05:03:53.000+0000",
      "created": "2020-06-16T12:46:22.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using Bitbucket in German language, the open status of a PR is shown as \"\u00f6ffnen\", where as the correct translation is \"offen\".\r\n\r\nh3. Steps to Reproduce\r\n # Use German as your language for Bitbucket\r\n # Create a PR\r\n # Observer the status\r\n\r\nh3. Expected Results\r\n\r\nThe PR status when open should show as \"offen\"\r\n\r\nh3. Actual Results\r\n\r\nThe equivalent status for open shows as \"\u00f6ffnen\" as shown below.\r\n !Screenshot-20200616143945-793x304.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nNo workaround.",
      "summary": "Pull request status open is incorrectly translated to German"
    }
  },
  {
    "key": "BSERV-12416",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T02:02:04.000+0000",
      "created": "2020-06-16T12:26:46.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen creating a PR, if you add a link to the description field containing '@' the Pull Request cannot be displayed upon creation.\r\nh3. Steps to Reproduce\r\n # Create a PR and add a link in the description that contains an '@' symbol. e.g.: {{[http://example.com/contentpath/content/repositories/npm-repo/@cnnr/appname|http://10.123.32.134:8081/contentpath/content/repositories/npm-repo/@cnnr/appname]}}\r\n # Try to display the PR\r\n\r\nh3. Expected Results\r\n\r\nThe PR displays with the URL link in it.\r\nh3. Actual Results\r\n\r\nThe PR cannot be displayed and an icon as below is shown\r\n !Screenshot-20200616142735-1386x575.png|thumbnail!\r\nh3. Workaround\r\n\r\nNo workaround available",
      "summary": "Pull request cannot be displayed when the description contains a URL link with an '@' in it"
    }
  },
  {
    "key": "BSERV-12415",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-09T07:47:09.000+0000",
      "created": "2020-06-16T09:09:18.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen viewing a pull request, if the project key is in lower case in the URL, the PR is not accessible.\r\n\r\nh3. Steps to Reproduce\r\n# Create a pull-request in any project and repository\r\n# View the pull-request in your browser (works)\r\n# Change the URL of the project-key to lowercase.\r\ni.e: http://localhost:7990/bitbucket/projects/PROJECT_1/repos/rep_1/pull-requests/2/overview -> http://localhost:7990/bitbucket/projects/project_1/repos/rep_1/pull-requests/2/overview\r\n\r\nh3. Expected Results\r\n\r\nPull request page should open because the project key is case insensitive. Every other repository page works as expected with a lowercase project key (i.e: http://localhost:7990/bitbucket/projects/project_1/repos/rep_1/browse, notice lower-case project-key, works). Note that this issue did not occur with previous versions of Bitbucket prior to 7.x\r\n\r\nh3. Actual Results\r\n\r\nReceive an error message \"pull-request could not be found\" with the text being the word first in the URL path, then a blank page.\r\n\r\n !Screenshot-20200616110934-549x342.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nEnsure project key is upper-cased when opening a pull-request.",
      "summary": "Pull request links do not work if project key is in lower case in the URL"
    }
  },
  {
    "key": "BSERV-12414",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-14T02:52:12.000+0000",
      "created": "2020-06-15T23:51:49.000+0000",
      "description": "h3. Problem Definition\r\nCurrently there's no way to create a banner per repository\r\n\r\nh3. Suggested Solution\r\nAllow creating of repository banner with 3 Visibility Levels Public, Private, and Admin\r\n\r\nh4. Why this is important \r\nWe want to post important information on repositories for our admins for example when a repository needs to be frozen. ",
      "summary": "As admin I would like to post announcement banners in Bitbucket"
    }
  },
  {
    "key": "BSERV-12413",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T06:47:29.000+0000",
      "created": "2020-06-15T16:46:42.000+0000",
      "description": "{panel:bgColor=#e7f4fa}\r\n*NOTE:* This suggestion is for *Bitbucket Server*. Using *Bitbucket Cloud*? See the corresponding suggestion.\r\n{panel}\r\n{panel:title=Atlassian status as of Aug 2020|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nIn June 2020, we posted an\u00a0[Atlassian Community article|https://community.atlassian.com/t5/Bitbucket-articles/Moving-away-from-Master-as-the-default-name-for-Branches-in-Git/ba-p/1414060]\u00a0about making it easier for users to define their preferred default branch name for new repositories. Starting from [Bitbucket Server and Data Center 7.5|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-7-5-release-notes-1018760416.html] we've introduced two ways to do this:\r\n # Admins can set a system-wide custom default branch name for all new repositories.\r\n # Users can set the default branch when creating a repository.\r\n\r\nSee\u00a0[Setting a system-wide default branch name|https://confluence.atlassian.com/bitbucketserver/setting-a-system-wide-default-branch-name-1021220665.html]\u00a0for more. Bitbucket already had the ability to change the default branch for any existing repository from its settings.\u00a0\u00a0\r\n\r\nCheers,\r\n Imran Khan\r\n Product Manager - Bitbucket Server and Data Center\r\n{panel}\r\n*Original description:*\u00a0\r\n The word 'master' can mean several things, yes, but one of those things is a reminder of the system of oppression against Bla(c)k people, and that's enough.",
      "summary": "Consider renaming the default branch from \"Master\" to \"Main\""
    }
  },
  {
    "key": "BSERV-12412",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-12T15:43:57.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAt this time we can retrieve the group information and all members inside a group with a non-privileged API. Both endpoints need only\u00a0*LICENSED_USER* permission:\r\n{code:java}\r\nGET /rest/api/1.0/admin/groups{code}\r\n{code:java}\r\nGET /rest/api/1.0/admin/groups/more-members{code}\r\n{code:java}\r\nGET /rest/api/1.0/admin/groups/more-non-members{code}\r\nBut to check the project and repository permissions we need a *PROJECT_ADMIN*\u00a0permission.\r\n{code:java}\r\nGET /rest/api/1.0/projects/{projectKey}/permissions/groups{code}\r\n{code:java}\r\nGET /rest/api/1.0/projects/{projectKey}/repos/{repositorySlug}/permissions/groups{code}\r\nThe suggestion is to allow all users that have access to that project or repository to call both endpoints above (only GET verb) like the {{GET /rest/api/1.0/admin/groups}} are.\r\nh3. Steps to Reproduce\r\n # A simple call to the endpoint {{GET /rest/api/1.0/projects/\\{projectKey}/permissions/groups}} with a user who doesn't have\u00a0*PROJECT_ADMIN*\u00a0**\u00a0permission.\r\n\r\nh3. Expected Results\r\n # A list of all permissions granted for this project or repository.\r\n\r\nh3. Actual Results\r\n # A permissions error.\r\n\r\nh3. Workaround\r\n\r\nThe workaround is to make the request with a user that has *PROJECT_ADMIN*\u00a0permission.",
      "summary": "Allow non-privileged access to list project/repository permissions"
    }
  },
  {
    "key": "BSERV-12411",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-12T06:40:05.000+0000",
      "description": "When viewing a repository on the Bitbucket website\u00a0([https://bitbucket.org/[organisation]/[repository]/commits)|https://bitbucket.org/[organisation]/[repository]/commits]\u00a0 It's hard to determine which branch is which.\r\n\r\n\u00a0\r\n\r\nPossible solution: Display branch name information when hovering a commit in the branch graph",
      "summary": "Show branch names in repository branch graph"
    }
  },
  {
    "key": "BSERV-12410",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-12T01:56:00.000+0000",
      "created": "2020-06-11T13:08:33.000+0000",
      "description": "We have an active Feature Request to be able to add groups to the Reviewers list here [Add a group to \"pull request\" reviewers|https://jira.atlassian.com/browse/BSERV-2870].\r\n\r\nAs an admin, I would like to have minimum approvals set to each group that is added to eliminate the chance of an accidental merge. ",
      "summary": "Abilty to add groups to Reviewers list and have a minimum of 1 approval from each group for merge"
    }
  },
  {
    "key": "BSERV-12409",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-23T04:05:26.000+0000",
      "created": "2020-06-11T07:38:34.000+0000",
      "description": "*Steps to replicate*\r\n # In *bitbucket.properties* set one or more of properties starting with \"plugin.audit.\" from\u00a0[this section|[https://confluence.atlassian.com/bitbucketserver/bitbucket-server-config-properties-776640155.html#BitbucketServerconfigproperties-Audit]]. Set a value different than default value.\r\n # Start Bitbucket\r\n\r\n\u00a0\r\n\r\n*Expected Behaviour*\r\n\r\nValue defined for property should take effect\r\n\r\n\u00a0\r\n\r\n*Actual*\r\n\r\nBehaviour is acc to default value of the property and the one defined in bitbucket.properties file is not considered.\r\n\r\n\u00a0\r\n\r\n*Workaround*\r\n\r\nSet these properties as JVM system properties e.g. using -D argument.",
      "summary": "Audit configuration properties not working"
    }
  },
  {
    "key": "BSERV-12408",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-10T03:59:01.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe {{updateAttributes}} function from Client-side Extension API can't update the icons.\r\n\r\nOriginally reported here: \r\nhttps://bitbucket.org/atlassian/atlassian-clientside-extensions/issues/4/updateattributes-does-not-work-well-with\r\n\r\n{quote}\r\nAlexander Stipsits created an issue 2020-06-04\r\nHi!\r\n\r\nIt seems the iconBefore attribute can only be set once. I do not set it in the factory directly, but in the updateAttributes. The first time it seems to be updated. But when I want to update it a second time it stays with the old icon.\r\n\r\nTried with ModalExtension in bitbucket.ui.pullrequest.overview.summary\r\n\r\nBest\r\nAlex\r\n{quote}\r\n\r\nh3. Steps to Reproduce\r\n\r\nCheck the example reproduction code and recorder behaviour in the browser:\r\n\r\nhttps://bitbucket.org/atlassianlabs/bitbucket-client-side-extensions-template/branch/issue-4-BSERV-12408-reproduction-steps#diff\r\n !update-attributes-and-icons.gif! \r\n\r\nh3. Expected Results\r\n\r\nThere should be a new icon rendered in the browser.\r\n\r\nh3. Actual Results\r\n\r\nThe icon is not getting updated. More over, with the second deferred call of {{updateAttributes}} the icon will get updated to the one from the first call.\r\n\r\nh3. Workaround\r\n\r\nThe only hacky but not recommended  workaround is to wrap the {{updateAttibutes}} call with the {{setTimeout}}:\r\n\r\n{code:js}\r\nsetTimeout(() => {\r\n  pluginApi.updateAttributes({\r\n    iconBefore: 'home',\r\n   });  \r\n}, 100);\r\n{code}",
      "summary": "The \"updateAttributes\" function does not work well with \"iconBefore\""
    }
  },
  {
    "key": "BSERV-12407",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-18T10:51:07.000+0000",
      "created": "2020-06-10T03:58:06.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen the user merges a pull request we should store the state of the delete branch after merge checkbox but it is not being saved.\r\nh3. Steps to Reproduce\r\n # Clean up your browser cache\r\n # Open a pull request and open the merge dialog\r\n # You will see the message saying that the checkbox is selected by default\r\n # Merge the pull request\r\n # Next pull request you should not see the message anymore\r\n\r\nh3. Expected Results\r\n\r\nYou should not see the message anymore\r\nh3. Actual Results\r\n\r\nThe message still shows\r\nh3. Workaround\r\n\r\nNo workaround available\r\n\r\n\u00a0",
      "summary": "Delete branch  after merge user preference not being saved on the local storage"
    }
  },
  {
    "key": "BSERV-12406",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-18T02:49:42.000+0000",
      "created": "2020-06-09T07:51:53.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAttempting to merge a pull request using one of the \"rebase\" merge strategies (\"Rebase and merge\" or \"Rebase fast-forward\") can time out when there are no files in the top-level of the target branch and the first file is encountered within a subdirectory more than 1 level deep.\r\nh3. Steps to Reproduce\r\n\r\nThere is an issue (since Bitbucket Server 7.0) in the way the work tree is constructed for rebase merges under some fairly specific conditions (specifically when the pull request target doesn't contain any files, only directories, at the top-level of the directory structure, and the first file is encountered within a subdirectory more than 1 level deep, for example as shown in the image below).\r\n !image-2020-06-09-17-44-49-979.png!\r\nh3. Expected Results\r\n\r\nThe pull request should be merged.\r\nh3. Actual Results\r\n\r\nThe merge attempt times out after the default timeout period (the default setting is 5 minutes).\r\n\r\nThe below exception is thrown in the application log file:\r\n{noformat}\r\n2020-05-29 17:49:40,464 DEBUG [http-nio-6710-exec-8] Bitbucket @1HY4IEJx1059x477x0 5x902v 0:0:0:0:0:0:0:1 \"POST /rest/api/latest/projects/SSP/repos/develop/pull-requests/1/merge HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 500\r\ncom.atlassian.bitbucket.ServerException: An error occurred while executing an external process: process timed out\r\n\tat \r\ncom.atlassian.stash.internal.scm.git.porcelain.AbstractTimedRequest.configureAndCall(AbstractTimedRequest.java:42)\r\n\tat com.atlassian.stash.internal.scm.git.porcelain.ShinyGitPorcelain.checkout(ShinyGitPorcelain.java:216)\r\n\tat com.atlassian.stash.internal.scm.git.porcelain.ShinyGitPorcelain.lambda$workTree$0(ShinyGitPorcelain.java:154)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:176)\r\n\tat com.atlassian.stash.internal.scm.git.porcelain.ShinyGitPorcelain.workTree(ShinyGitPorcelain.java:148)\r\n\tat com.atlassian.stash.internal.scm.git.merge.MergeCommand.call(MergeCommand.java:72)\r\n\tat com.atlassian.stash.internal.scm.git.merge.MergeCommand.call(MergeCommand.java:37)\r\n\tat com.atlassian.stash.internal.pull.DefaultPullRequestService$MergePullRequestOperation.perform(DefaultPullRequestService.java:2278)\r\n\tat com.atlassian.stash.internal.pull.DefaultPullRequestService.merge(DefaultPullRequestService.java:830)\r\n...\r\nCaused by: com.atlassian.utils.process.ProcessTimeoutException: process timed out\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:270)\r\n\t... 72 common frames omitted\r\n{noformat}\r\nh3. Workaround\r\n\r\nA few different workarounds are available:\r\n\r\n1) Try using a different merge strategy for merging the pull request (for example \"Merge commit --no-ff\" or \"Squash --squash\")\r\n\r\n2) Add one or more files to the top-level of the target directory, for example as shown in the image:\r\n\r\n!image-2020-06-09-17-48-42-603.png!\r\n\r\n3) Disable NIO handling by setting {{process.nio.enabled=false}} in bitbucket.properties and restart the server.\r\n\r\n*Warning*: Support for disabling NIO handling will be removed in a future version, so after upgrading to a fixed version the {{process.nio.enabled=false}} setting should be removed.",
      "summary": "Merging a pull request using a rebase strategy can time out"
    }
  },
  {
    "key": "BSERV-12405",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-13T00:25:50.000+0000",
      "created": "2020-06-08T12:07:56.000+0000",
      "description": "I/We would want a property to control the amount of lines that get pulled by clicking the expand context button in the pull request diff view. \r\n\r\nExpanding diff context lines should be allowed in either upward or downward direction.\r\n\r\nThe scroll position should be maintained after the context lines have been expanded.\r\n\r\nCurrently, in Bitbucket Server 7.0 onward, the expand context button will expand all the available lines in both directions, which can lead to multiple thousand lines being shown.",
      "summary": "Allow to expand limited context lines in a given direction in pull request diff"
    }
  },
  {
    "key": "BSERV-12404",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-08T09:27:52.000+0000",
      "description": "h3. Summary\r\nWith the farm-vet feature implemented with Bitbucket DC 6.7 for mirrors, the Rest API to force sync repository changes from upstream/primary is no longer applicable. The farm-vet expected to _*self-heal*_ by detecting corrupted objects and fix it by deleting and sync from upstream/primary. The far-vet is able to detect the corrupted object but unable to repair the corrupted object. Manual intervention is required by removing the project from the mirror sync list. Then restarting the mirror node and allow it to sync entire mirrored content from upstream/primary.\r\n\r\nh4. Customer Use-case\r\nAs a Bitbucket DC Sys. Admin, I would like to see,  farm-vet to be able to force resync a repository/project without having to restart the entire mirror. Prior to 6.7 when we had an issue with a corrupt repository, we would remove the project and readd it or there was some API call. This is no longer possible 6.7+. And we have to restart the entire mirror which means downtime. Of course, having a mirror-farm setup is going to help minimize the downtime and is something we're looking to do soon.\r\n\r\nAdditionally, you can see from the logs that the mirror tries to synchronize the repository but fails many times in a row. It would be good if it could 'self-heal' on its own - perhaps doing a full resync, but understand this might not be so easy.",
      "summary": "Farm-vet to identify the corrupted objects in mirror node and fix it automatically"
    }
  },
  {
    "key": "BSERV-12403",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-09T01:41:20.000+0000",
      "created": "2020-06-05T03:29:12.000+0000",
      "description": "h3. [https://www.postgresql.org/about/news/1976/]",
      "summary": "Support PostgreSQL 12"
    }
  },
  {
    "key": "BSERV-12402",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-05T00:54:08.000+0000",
      "description": "h3. Issue Summary\r\nBitbucket Server has skip links, however, they remain hidden to the user when they are focused. To improve accessibility and usability the skip links menu should become visible so that it is clear where the current focus is on the page.\r\n\r\nh3. Steps to Reproduce\r\n # Tab to the skip links at the start of the document\r\n\r\nh3. Expected Results\r\nSkip links menu is visible\r\n\r\nh3. Actual Results\r\nSkip links menu is not visible.\r\n\r\nh3. Workaround\r\nNo workaround available",
      "summary": "Focusing skip links does not visually show them"
    }
  },
  {
    "key": "BSERV-12400",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-04T23:41:21.000+0000",
      "created": "2020-06-04T19:35:36.000+0000",
      "description": "h3. Problem Definition\r\nWhen spinning up a Bitbucket instance [from the official docker image|https://bitbucket.org/atlassian-docker/docker-atlassian-bitbucket-server/src/master/Dockerfile], we can see that it is using adoptopenjdk:8-hotspot. \r\n\r\nThis version does not support TLSv1.3\r\n\r\nWhen we try to force bitbucket to use TLSv1.3 for the Bitbucket Mail Server SMTP Protocol as follow: \r\n\r\n{code} mail.crypto.protocols=TLSv1.3 {code}\r\n\r\nOr \r\n\r\n{code} mail.crypto.protocols=TLSv1.2 TLSv1.3 {code}\r\n\r\nwe get the following error message on the application logs: \r\n{code} 2020-06-03 23:00:14,699 ERROR ... \"POST /admin/mail-server HTTP/1.1\" bitbucket.mail-log Sending mail failed. Please verify the mail server configuration and check the logs for details; recipient: email@email.com; subject: Test - Test email for SMTP configuration org.springframework.mail.MailSendException: Mail server connection failed; nested exception is java.lang.IllegalArgumentException: TLSv1.3. Failed messages: java.lang.IllegalArgumentException: TLSv1.3\r\nat org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:448)\r\n... trimmed\r\nCaused by: java.lang.IllegalArgumentException: TLSv1.3\r\nat sun.security.ssl.ProtocolVersion.valueOf(ProtocolVersion.java:187)\r\n... omitted {code}\r\n\r\n\r\n\r\nh3. Suggested Solution\r\n\r\nKnowing that TLS 1.0 and TLS 1.1 are continuously getting deprecated and TLSv1.3 is more and more used, it is important to ensure that the official docker image allows using TLSv1.3.\r\n \r\nh3. Workaround \r\nCurrently, the most secure TLS protocol +that can be configured and used+ is TLSv1.2\r\n{code} mail.crypto.protocols=TLSv1.2{code}",
      "summary": "Java version on the official docker image does not allow to enforce TLS v1.3 for the Bitbucket Mail Server SMTP Protocol"
    }
  },
  {
    "key": "BSERV-12399",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-15T22:21:12.000+0000",
      "created": "2020-06-04T19:10:13.000+0000",
      "description": "Bitbucket does not end the source view box where the file ends. We would like for Bitbucket to replicate Github's behaviour and show the footer, as well as end the box instead of extending it to the end of the page.",
      "summary": "Source view box should be bound to the end of text files"
    }
  },
  {
    "key": "BSERV-12398",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-04T19:05:39.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWe noticed some issues with the source view that seem to go back to go as far back as stash 3.5 and seems to be an UI bug. The behaviour is:\r\n - Footer momentarily flashes/is visible before source view appears over the top;\r\n - Page length always extends off the bottom, even when viewing very short files, causing scroll bars to always be visible.\r\nh3. Steps to Reproduce\r\n\r\n # Open a file on Source View\r\n # Wait for it to load\r\n\r\nh3. Expected Results\r\n\r\nThe source view should open and show the file contents\r\nh3. Actual Results\r\n\r\nThe contents are displayed, but there's a momentary flicker showing the footer of the page, which then gets overlayed by the source view. The scroll bars are also always visible, even if the content does not extend to the full length of the page.\r\nh3. Workaround\r\n\r\nNo workaround available.",
      "summary": "Footer issues in Source View"
    }
  },
  {
    "key": "BSERV-12397",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-04T14:04:56.000+0000",
      "description": "h3. Problem statement\r\nIn case of using Bitbucket Backup client there are two setting responsible for the SCM drain timeout:\r\n* backup.drain.scm.timeout on Bitbucket side in bitbucket.properties\r\n* backup.scmdrain.timeout on the backup client side in backup-config.properties\r\n\r\nIn case of hitting the timeout set with the {{backup.drain.scm.timeout}} it's clearly stated in the logs while hitting the timeout set with {{backup.scmdrain.timeout}} is not clear:\r\n{noformat}\r\nDEBUG [threadpool:thread-2] crowdadmin @177BEOGx120x5715886x0 10.11.29.45 \"POST /mvc/admin/backups HTTP/1.1\" c.a.s.i.m.backup.BackupPhase Failed to close the backup zip\r\njava.nio.channels.ClosedChannelException: null\r\n\tat sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:110)\r\n\tat sun.nio.ch.FileChannelImpl.write(FileChannelImpl.java:199)\r\n\tat java.nio.channels.Channels.writeFullyImpl(Channels.java:78)\r\n\tat java.nio.channels.Channels.writeFully(Channels.java:101)\r\n\tat java.nio.channels.Channels.access$000(Channels.java:61)\r\n\tat java.nio.channels.Channels$1.write(Channels.java:174)\r\n\tat de.schlichtherle.truezip.io.LEDataOutputStream.write(LEDataOutputStream.java:91)\r\n\tat java.util.zip.DeflaterOutputStream.deflate(DeflaterOutputStream.java:253)\r\n\tat java.util.zip.DeflaterOutputStream.finish(DeflaterOutputStream.java:226)\r\n\tat de.schlichtherle.truezip.zip.RawZipOutputStream$DeflaterOutputMethod.finish(RawZipOutputStream.java:1036)\r\n\tat de.schlichtherle.truezip.zip.RawZipOutputStream$Crc32UpdatingOutputMethod.finish(RawZipOutputStream.java:1092)\r\n\tat de.schlichtherle.truezip.zip.RawZipOutputStream.closeEntry(RawZipOutputStream.java:478)\r\n\tat de.schlichtherle.truezip.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:293)\r\n\tat de.schlichtherle.truezip.zip.RawZipOutputStream.finish(RawZipOutputStream.java:506)\r\n\tat de.schlichtherle.truezip.zip.ZipOutputStream.finish(ZipOutputStream.java:298)\r\n\tat de.schlichtherle.truezip.zip.RawZipOutputStream.close(RawZipOutputStream.java:695)\r\n\tat de.schlichtherle.truezip.zip.ZipOutputStream.close(ZipOutputStream.java:303)\r\n\tat com.atlassian.stash.internal.maintenance.backup.BackupPhase$CloseShieldZipOutputStream.reallyClose(BackupPhase.java:157)\r\n\tat com.atlassian.stash.internal.maintenance.backup.BackupPhase$CloseShieldZipOutputStream.access$000(BackupPhase.java:144)\r\n\tat com.atlassian.stash.internal.maintenance.backup.BackupPhase.run(BackupPhase.java:80)\r\n\tat com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask$Step.run(CompositeMaintenanceTask.java:133)\r\n\tat com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask.run(CompositeMaintenanceTask.java:69)\r\n\tat com.atlassian.stash.internal.maintenance.MaintenanceModePhase.run(MaintenanceModePhase.java:27)\r\n\tat com.atlassian.stash.internal.maintenance.backup.AbstractBackupTask.run(AbstractBackupTask.java:85)\r\n\tat com.atlassian.stash.internal.maintenance.DefaultMaintenanceTaskMonitor.run(DefaultMaintenanceTaskMonitor.java:212)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat com.atlassian.stash.internal.concurrent.DefaultTransferableStateManager$StateTransferringRunnable.run(DefaultTransferableStateManager.java:166)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748\r\n{noformat}\r\n\r\nh3. Solution\r\nPlease make the error message more clear addressing the timeout situation.",
      "summary": "Improve the exception handling in the backup client"
    }
  },
  {
    "key": "BSERV-12396",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-04T21:26:10.000+0000",
      "created": "2020-06-04T14:03:25.000+0000",
      "description": "Possibility of creating webhooks from REST API",
      "summary": "Creating Webhooks from REST API"
    }
  },
  {
    "key": "BSERV-12395",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-14T22:19:26.000+0000",
      "created": "2020-06-04T11:17:03.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIf you're in a PR, the modal that shows the build status cannot be closed by pressing the Escape key. It's also not showing a close button.\r\n\r\n !Screenshot 2020-06-01 at 12.13.40.png|thumbnail! \r\n\r\nIf you're in the PR list view, that same modal can be closed with Escape. It is showing a close button.\r\n\r\n !Screenshot 2020-06-01 at 12.13.48.png|thumbnail! \r\n\r\nh3. Suggested Solution\r\n\r\nStandardize the behaviour between the two modals.",
      "summary": "Standardize GUI build modals on PR view vs PR list"
    }
  },
  {
    "key": "BSERV-12394",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-04T05:33:28.000+0000",
      "description": "It would be nice to have an ability to mark individual files as approved, so the reviewer can focus only on the updates not approved yet.",
      "summary": "Pull Request - Approving Individual Files"
    }
  },
  {
    "key": "BSERV-12393",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-04T04:49:39.000+0000",
      "created": "2020-06-04T04:49:16.000+0000",
      "description": "h3. Issue Summary\r\nStreaming directory contents or last modified details (the latest commits the for the files in a given directory) can randomly hang.\r\n\r\nSince loading contributing guidelines (or just checking whether there are contributing guidelines to load) streams directory contents to check for the presence of a {{CONTRIBUTING}} file, this issue can also cause loading contributing guidelines to hang. Since contributing guidelines are displayed on the pull request creation screen, this can block creating pull requests for subsets of repositories.\r\n\r\nh3. Steps to Reproduce\r\nThis issue is caused by a race condition in new non-blocking handling for {{git cat-file -\\-\\batch}} which shipped in Bitbucket Server 7.0. Since it's a race, there's no simple reproduction. Instead, it has a chance to happen on any {{ContentService.streamDirectory}} call, based on the cadence with which {{git cat-file \\-\\-batch}} outputs data.\r\n\r\nOne common requirement in order for the race to be possible is that the directory being streamed must have subdirectories. If it only contains files, the race will not occur.\r\n\r\nh3. Expected Results\r\n* Loading directory contents works reliably\r\n* Loading last modified details works reliably\r\n* Loading contributing guidelines works reliably\r\n\r\nh3. Actual Results\r\nStreaming directory contents sporadically hangs, which can eventually consume all of Tomcat's HTTP threads and block access to the server. If streaming directory contents hangs while searching for contributing guidelines, it can block access to pull requests for the repositories in which it happens.\r\n\r\nAs a race condition, this issue is capable of producing a few different errors in the logs. However, the easiest way to identify it is by checking thread dumps and looking for threads blocked in call stacks like these:\r\n{noformat}\r\n\"http-nio-7990-exec-1\" #421 daemon prio=5 os_prio=0 tid=0x00007f8e7408e800 nid=0x4d9 waiting on condition [0x00007f8e0dcf0000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x0000000097f1f9e0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(Unknown Source)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source)\r\n\tat java.util.concurrent.ArrayBlockingQueue.take(Unknown Source)\r\n\tat com.atlassian.stash.internal.scm.git.command.lstree.DirectoryCollapsingContentTreeCallback$DirectoryCollapsingBatchCatFileStdioHandler.collapse(DirectoryCollapsingContentTreeCallback.java:399)\r\n\tat com.atlassian.stash.internal.scm.git.command.lstree.DirectoryCollapsingContentTreeCallback.onTreeNode(DirectoryCollapsingContentTreeCallback.java:103)\r\n\tat com.atlassian.stash.internal.scm.git.command.lstree.CallbackLsTreeStdoutHandler.processLine(CallbackLsTreeStdoutHandler.java:87)\r\n\tat com.atlassian.stash.internal.scm.git.command.lstree.CallbackLsTreeStdoutHandler.onStdout(CallbackLsTreeStdoutHandler.java:67)\r\n\tat com.atlassian.bitbucket.dmz.process.AbstractLineHandler$$Lambda$2175/1852549262.accept(Unknown Source)\r\n\tat com.atlassian.bitbucket.dmz.process.LinePump.offerLine(LinePump.java:139)\r\n\tat com.atlassian.bitbucket.dmz.process.LinePump.forEach(LinePump.java:94)\r\n\tat com.atlassian.bitbucket.dmz.process.AbstractLineHandler.onStdout(AbstractLineHandler.java:100)\r\n\tat com.atlassian.bitbucket.internal.process.CompositeNioStdioHandler.onStdout(CompositeNioStdioHandler.java:171)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler$$Lambda$1756/20986451.accept(Unknown Source)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.lambda$handleOutput$4(NioNuProcessHandler.java:364)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler$$Lambda$1758/1646640953.run(Unknown Source)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.lambda$invokeCallback$5(NioNuProcessHandler.java:372)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler$$Lambda$1748/627663807.getAsBoolean(Unknown Source)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.invokeCallback(NioNuProcessHandler.java:380)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.invokeCallback(NioNuProcessHandler.java:371)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.handleOutput(NioNuProcessHandler.java:358)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onStdout(NioNuProcessHandler.java:184)\r\n\tat com.zaxxer.nuprocess.internal.BasePosixProcess.readStdout(BasePosixProcess.java:363)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.process(ProcessEpoll.java:243)\r\n\tat com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.run(ProcessEpoll.java:188)\r\n\tat com.zaxxer.nuprocess.linux.LinuxProcess.run(LinuxProcess.java:114)\r\n\tat com.zaxxer.nuprocess.linux.LinProcessFactory.runProcess(LinProcessFactory.java:50)\r\n\tat com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75)\r\n\tat com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52)\r\n\tat com.atlassian.stash.internal.content.DefaultContentService.streamDirectory(DefaultContentService.java:197)\r\n\r\nhttp-nio-7990-exec-2\" #20 daemon prio=5 os_prio=0 tid=0x00007f8f4483d000 nid=0xa9 waiting on condition [0x00007f8eb155d000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x0000000083307f88> (a com.google.common.util.concurrent.SettableFuture)\r\n\tat java.util.concurrent.locks.LockSupport.park(Unknown Source)\r\n\tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:502)\r\n\tat com.google.common.util.concurrent.AbstractFuture$TrustedFuture.get(AbstractFuture.java:83)\r\n\tat com.google.common.util.concurrent.Uninterruptibles.getUninterruptibly(Uninterruptibles.java:196)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.waitForValue(LocalCache.java:3581)\r\n\tat com.google.common.cache.LocalCache$Segment.waitForLoadingValue(LocalCache.java:2174)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2038)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3952)\r\n\tat com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4871)\r\n\tat com.atlassian.cache.memory.DelegatingCache.get(DelegatingCache.java:178)\r\n\tat com.atlassian.cache.hazelcast.HazelcastAsyncHybridCache.get(HazelcastAsyncHybridCache.java:86)\r\n\tat com.atlassian.bitbucket.server.internal.contributing.DefaultContributingGuidelinesService.getPath(DefaultContributingGuidelinesService.java:77)\r\n\tat com.atlassian.bitbucket.server.internal.contributing.DefaultContributingGuidelinesService.getPath(DefaultContributingGuidelinesService.java:97)\r\n\tat com.atlassian.bitbucket.server.internal.contributing.PullRequestCreateContributingGuidelinesFormFragment.doView(PullRequestCreateContributingGuidelinesFormFragment.java:47)\r\n{noformat}\r\n\r\nAfter some delay, the {{git cat-file \\-\\-batch}} process will be terminated by the system (which will _not_ release the deadlocked HTTP threads). When that happens, the stack trace will include an exception like this:\r\n{noformat}\r\n\tSuppressed: com.atlassian.bitbucket.scm.CommandFailedException: '/usr/bin/git cat-file --batch' exited with code 15\r\n\t\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onError(DefaultCommandExitHandler.java:43)\r\n\t\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:111)\r\n\t\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208)\r\n\t\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\t\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:286)\r\n\t\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:327)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nFor affected versions, the workaround is to disable NIO handling by setting {{process.nio.enabled=false}} in {{bitbucket.properties}} and restart the server.\r\n\r\n**Warning**: Support for disabling NIO handling will be removed in a future version, so after upgrading to a fixed version the {{process.nio.enabled=false}} setting should be removed.",
      "summary": "Streaming directory contents or last modified details can hang"
    }
  },
  {
    "key": "BSERV-12392",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-03T18:05:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe documentation for Hashicorp Terraform shows [using ?ref= in a clone URL|https://www.terraform.io/docs/modules/sources.html#selecting-a-revision] to filter to a specific ref. Attempting to use that same URL for Bitbucket Server results in a 500 error from the server.\r\n\r\nIf the server has ref advertisement caching enabled, the invalid response from a {{?ref=}} request _may be cached_ and returned to clients who used valid clone URLs, resulting in 500 errors for valid requests. Additionally, if a previous request using a valid clone URL populated the ref advertisement cache, invalid requests with {{?ref=}} will appear to work.\r\n\r\nh3. Steps to Reproduce\r\n # Add {{?ref=some-ref}} to Bitbucket Server's HTTP clone URL\r\n # Run {{git ls-remote}} with that URL\r\n\r\nh3. Expected Results\r\nThe server responds with an error indicating the request is not valid.\r\n\r\nh3. Actual Results\r\n* If ref advertisement caching is not enabled (it's disabled by default), the client receives a 500 error from the server\r\n* If ref advertisement caching is enabled, what the client receives depends on whether the cache was populated or not:\r\n** If the cache was populated by a previous valid request, the client receives a valid response\r\n** If the cache was populated by a previous _invalid_ request, the client receives a 500 error\r\n** If the cache was not populated, the client receives a 500 error _and that invalid response is cached_ until the next time the repository's refs change\r\n\r\nThe following _may_ be logged, but only if debug logging is enabled (which it is not by default):\r\n{noformat}\r\n2020-06-02 15:54:45,568 DEBUG [http-nio-7990-exec-14] jdoe *136LHMJx954x674690x5 1.1.1.1 \"GET /scm/key/slug HTTP/1.1\" c.a.s.i.s.g.p.h.GitSmartExitHandler KEY/slug[1]: Read request from 1.1.1.2 succeeded, but the following was written to stderr:\r\nfatal: GIT_PROJECT_ROOT is set but PATH_INFO is not\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nNo workaround is necessary for this issue. The solution is to use a valid clone URL, as generated by Bitbucket Server's UI, rather than some other, unknown URL.",
      "summary": "Adding ?ref= to clone URLs produces 500 responses"
    }
  },
  {
    "key": "BSERV-12391",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-03T13:39:31.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen on a pull request, it is sometimes useful to view on the same screen the list and details of Jira issues linked without having to click the linked Jira issues and popping up a dialog.\r\nh3. Suggested Solution\r\n\r\nDisplay on the PR screen the linked Jira issues and some of their details like the summary or status so that all information is available on the same place.\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Add Jira issue details directly on the Pull request view"
    }
  },
  {
    "key": "BSERV-12390",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-02T10:59:50.000+0000",
      "description": "h3. Problem description\r\nCurrent implementation of git tag creation in Bitbucket UI prevents controlling the type of tags via the hook. Since the tag object doesn't exist when {{PreRepositoryHook}} gets invoked, it's not possible to pass its hash to hook implementers.\r\n\r\nh3. Solution\r\nProvide the way to verify the tag creation via the UI.",
      "summary": "Provide the way to verify the git tag type"
    }
  },
  {
    "key": "BSERV-12388",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-12T00:17:51.000+0000",
      "created": "2020-06-01T20:43:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter certain types of forced updates to pull requests, it's possible (due to another bug, which remains undiagnosed) to end up with both the source and target branches on the pull request referencing the same commit. When that happens, the pull request becomes unviewable in the UI due to an error running {{git merge-base}}.\r\n\r\nh3. Steps to Reproduce\r\nThe exact steps to reproduce this are currently not known.\r\n\r\nh3. Expected Results\r\nThe pull request displays as empty, without errors.\r\n\r\nh3. Actual Results\r\nAn error popup is shown when viewing the overview or diff, indicating {{git merge-base}} failed. This same exception can also be triggered by comment drift processing in the background.\r\n\r\nThis failure can produce a few different types of error messages, depending on what code path it's triggered from.\r\n\r\nViewing the overview:\r\n{noformat}\r\n2020-06-01 19:25:01,710 ERROR [http-nio-7990-exec-2] bturner @VOOHFTx1165x19227x4 1out6n0 1.1.1.1 \"GET /rest/api/latest/projects/KEY/repos/slug/pull-requests/1/activities HTTP/1.1\" c.a.b.s.g.c.GitCommandExitHandler [/usr/bin/git merge-base c026dc4711e759308af76c309d17583cc1289f78] The syntax used is incorrect. git exited and printed a usage block\r\n{noformat}\r\n\r\nRunning comment drift:\r\n{noformat}\r\n2020-06-01 11:25:45,677 ERROR [drift:thread-3]  c.a.s.i.p.c.d.DriftCommentUpdateProcessor 1:1@2: Unrecoverable error calculating comment drift (1 attempts).\r\n        First: 1:1@2 (dc510ef89b8679d30373cf7ba40c9532f6ec0a2f, c026dc4711e759308af76c309d17583cc1289f78) -> (c026dc4711e759308af76c309d17583cc1289f78, c026dc4711e759308af76c309d17583cc1289f78)\r\n        Last: 1:1@2 (dc510ef89b8679d30373cf7ba40c9532f6ec0a2f, c026dc4711e759308af76c309d17583cc1289f78) -> (c026dc4711e759308af76c309d17583cc1289f78, c026dc4711e759308af76c309d17583cc1289f78)\r\ncom.atlassian.bitbucket.scm.CommandUsageException: The syntax used for the command is incorrect.\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.checkUsage(GitCommandExitHandler.java:63)\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateStdErr(GitCommandExitHandler.java:69)\r\n        at com.atlassian.stash.internal.scm.git.pull.PullRequestMergeBaseExitHandler.evaluateStdErr(PullRequestMergeBaseExitHandler.java:46)\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:204)\r\n        at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n        at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:281)\r\n        at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:322)\r\n        at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onExit(NioNuProcessHandler.java:123)\r\n        at com.zaxxer.nuprocess.internal.BasePosixProcess.onExit(BasePosixProcess.java:319)\r\n        at com.zaxxer.nuprocess.linux.ProcessEpoll.handleExit(ProcessEpoll.java:371)\r\n        at com.zaxxer.nuprocess.linux.ProcessEpoll.cleanupProcess(ProcessEpoll.java:334)\r\n        at com.zaxxer.nuprocess.linux.ProcessEpoll.process(ProcessEpoll.java:272)\r\n        at com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n        at com.zaxxer.nuprocess.linux.ProcessEpoll.run(ProcessEpoll.java:188)\r\n        at com.zaxxer.nuprocess.linux.LinuxProcess.run(LinuxProcess.java:114)\r\n        at com.zaxxer.nuprocess.linux.LinProcessFactory.runProcess(LinProcessFactory.java:50)\r\n        at com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273)\r\n        at com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75)\r\n        at com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52)\r\n        at com.atlassian.stash.internal.scm.git.porcelain.AbstractTimedRequest.configureAndCall(AbstractTimedRequest.java:42)\r\n        at com.atlassian.stash.internal.scm.git.pull.ShinyGitPullRequestPorcelain.findCommonAncestor(ShinyGitPullRequestPorcelain.java:67)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper$EffectiveDiffOperation.perform(DefaultPullRequestRefHelper.java:598)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper$EffectiveDiffOperation.perform(DefaultPullRequestRefHelper.java:571)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper$LockedOperation.perform(DefaultPullRequestRefHelper.java:667)\r\n        at com.atlassian.stash.internal.concurrent.ClusterMappedLock.withLock(ClusterMappedLock.java:49)\r\n        at com.atlassian.stash.internal.concurrent.ClusterPullRequestLock.withLock(ClusterPullRequestLock.java:25)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper.withLock(DefaultPullRequestRefHelper.java:460)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper.access$1200(DefaultPullRequestRefHelper.java:60)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper$LockedOperation.call(DefaultPullRequestRefHelper.java:647)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at io.atlassian.util.concurrent.ConcurrentOperationMapImpl$CallerRunsFuture.get(ConcurrentOperationMapImpl.java:67)\r\n        at io.atlassian.util.concurrent.ConcurrentOperationMapImpl.runOperation(ConcurrentOperationMapImpl.java:55)\r\n        at com.atlassian.stash.internal.scm.git.pull.DefaultPullRequestRefHelper.effectiveDiff(DefaultPullRequestRefHelper.java:119)\r\n        at com.atlassian.stash.internal.scm.git.DefaultGitPullRequestCommandFactory$1.call(DefaultGitPullRequestCommandFactory.java:184)\r\n        at com.atlassian.stash.internal.scm.git.DefaultGitPullRequestCommandFactory$1.call(DefaultGitPullRequestCommandFactory.java:180)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftCalculator.calculate(DriftCommentUpdateProcessor.java:314)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftOperation.lambda$perform$0(DriftCommentUpdateProcessor.java:493)\r\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftOperation.perform(DriftCommentUpdateProcessor.java:491)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftOperation.perform(DriftCommentUpdateProcessor.java:464)\r\n        at com.atlassian.stash.internal.concurrent.ClusterMappedLock.withLock(ClusterMappedLock.java:49)\r\n        at com.atlassian.stash.internal.concurrent.ClusterPullRequestLock.withLock(ClusterPullRequestLock.java:25)\r\n        at com.atlassian.stash.internal.concurrent.ClusterPullRequestLock.withLock(ClusterPullRequestLock.java:30)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftBootstrapper.perform(DriftCommentUpdateProcessor.java:256)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftBootstrapper.perform(DriftCommentUpdateProcessor.java:241)\r\n        at com.atlassian.stash.internal.user.DefaultEscalatedSecurityContext.call(DefaultEscalatedSecurityContext.java:59)\r\n        at com.atlassian.stash.internal.pull.comment.drift.DriftCommentUpdateProcessor$CommentDriftBootstrapper.run(DriftCommentUpdateProcessor.java:262)\r\n        at com.atlassian.stash.internal.concurrent.StateTransferringRunnable.run(StateTransferringRunnable.java:50)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 1 frame trimmed\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nPush new commits to the pull request's source branch, to ensure it has commits that are on the source branch but not the target. Afterward, rescoping should automatically repair the pull request and it should be viewable again.",
      "summary": "Loading a pull request's overview or diff can fail with a merge-base usage block"
    }
  },
  {
    "key": "BSERV-12387",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-06-01T05:44:14.000+0000",
      "description": "Using the database migration wizard to migrate data can be slow. In a recent migration of this type (Oracle to PostgreSQL), a customer has reported that a 12GB of migrated data (as per size obtained from target database) has taken almost 16 hours.\r\n\r\nAny improvement in this area is welcome.",
      "summary": "Speed up database migration"
    }
  },
  {
    "key": "BSERV-12386",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-31T11:45:40.000+0000",
      "description": "If method saveDefaultConfig() in JavaPlugin will return true/false if config was loaded from the default/or not, it may remove few vehicles from developers' code.",
      "summary": "Let saveDefaultConfig() return boolean"
    }
  },
  {
    "key": "BSERV-12385",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-29T10:36:14.000+0000",
      "description": "Hi,\r\n\r\nAs an administrator,  I would like to get notified from Bitbucket on users reaching CAPTCHA limit. There are cases where the users are never real using the web UI  but created for only running builds from CI server. If the captcha state is triggered, we will only find out by things breaking. To figure out that a captcha is needed in the UI, we get no feedback from Bitbucket, until we go to the exact user page and find the button has magically appeared.\r\n\r\nIt would be nice if this became a notice to the admins, you have a mechanism for this, where you get a bell icon next to the gear icon to notify admins (not all users). So we can see something has tripped the captcha protections.\r\n\r\nThanks",
      "summary": "Notify admins on users reaching CAPTCHA limit"
    }
  },
  {
    "key": "BSERV-12384",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-12T23:19:03.000+0000",
      "created": "2020-05-29T04:56:19.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen importing a repository with as Git, if the clone URL contains an email address as username (or {{%40}} in it), but not username/password is given, _even if the repository is public_, import fails.\r\n\r\nh3. Steps to Reproduce\r\n# Choose/create a project to import a repository under\r\n# Go to +Import Repository+ page\r\n# Choose *Git* as the import source/scheme\r\n# Enter clone URL with an email address as username, for example _{{https://user%40domain@github.com/owner/repo.git}}_\r\n# Leave username and password fields *blank*\r\n# Click *Import Repository* \r\n\r\nh3. Expected Results\r\n\r\nRepository is imported successfully.\r\n\r\nh3. Actual Results\r\n\r\nThe import hangs and times out (fails).\r\n\r\nh3. Workaround\r\n\r\nManually import the repository and then push to Bitbucket Server.",
      "summary": "Repository import fails when cloning from a public repo if Clone URL contains username (as an email)"
    }
  },
  {
    "key": "BSERV-12383",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-28T09:44:34.000+0000",
      "description": "To fetch the following details over API, we need admin rights:\r\n* PR info\r\n* Commit info\r\n* Permission on the repo\r\n* Default reviewer\r\n* Merge checks\r\n\r\nWith the current global permission setting it is not possible to assign read-only access to a user so that they can read the project and repo settings via API Calls. It is not viable to give users 'admin' privileges without the impending security risk. \r\n\r\nTherefore if we can have normal bitbucket users also access the above mentioned data (as read-only), it would be easier for reporting. ",
      "summary": "Addition of read-only RBAC for certain REST APIs"
    }
  },
  {
    "key": "BSERV-12382",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-13T22:58:35.000+0000",
      "created": "2020-05-27T19:16:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSince Bitbucket 6.10.3 application/javascript MIME type files are not getting compressed by Bitbucket before being sent to the client. \r\n By default all the MIME types:\r\n{code:java}\r\ntext/css,text/html,text/javascript,text/json,text/plain,text/xml,text/x-javascript,\\\r\n  application/javascript,application/json,application/x-javascript,application/vnd.git-lfs+json\r\n{code}\r\nshould be compressed, however, even with listing application/javascript explicitly with {{server.compression.mime-types}} they are not.\r\n\r\nSome files (like batch.js) can grow up to a few megabytes, and with a particular number of users, it adds quite a lot of unnecessary network overhead.\r\nh3. Steps to Reproduce\r\n # Step 1\r\n Run development panel in any web browser in incognito mode and go to the Network tab.\r\n # Compare Transferred size with Size.\r\n\r\nh3. Expected Results\r\n\r\n!image-2020-05-27-21-22-08-218.png|width=747,height=193!\r\n In Bitbucket versions prior to 6.10.3: *Transferred < Size.*\r\n Request headers:\r\n{code:java}\r\nHTTP/1.1 200 \r\nX-AREQUESTID: @EF28NQx1251x71x1\r\nX-ASESSIONID: 1rn7ng6\r\nX-ASEN: SEN-500\r\nExpires: Thu, 27 May 2021 18:51:37 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nx-xss-protection: 1; mode=block\r\nx-frame-options: SAMEORIGIN\r\nx-content-type-options: nosniff\r\nLast-Modified: Thu, 01 Jan 1970 00:00:00 GMT\r\nETag: \"0\"\r\nvary: accept-encoding\r\nContent-Encoding: gzip\r\nContent-Type: application/javascript\r\nTransfer-Encoding: chunked\r\nDate: Wed, 27 May 2020 18:51:37 GMT\r\n{code}\r\nh3. Actual Results\r\n\r\n!image-2020-05-27-21-22-40-016.png|width=737,height=247!\r\n In Bitbucket 6.10.3+ *Transferred > Size*.\r\n Request headers:\r\n{code:java}\r\nHTTP/1.1 200 \r\nX-AREQUESTID: @NH6EKAx1255x590x0\r\nX-ASESSIONID: 1l8vu49\r\nX-ASEN: SEN-500\r\nExpires: Thu, 27 May 2021 18:55:25 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nx-xss-protection: 1; mode=block\r\nx-frame-options: SAMEORIGIN\r\nx-content-type-options: nosniff\r\nLast-Modified: Thu, 01 Jan 1970 00:00:00 GMT\r\nETag: \"0\"\r\nContent-Type: application/javascript\r\nTransfer-Encoding: chunked\r\nDate: Wed, 27 May 2020 18:55:24 GMT\r\nKeep-Alive: timeout=20\r\nConnection: keep-alive\r\n{code}\r\n*Lack of:*\r\n{code:java}\r\nvary: accept-encoding\r\nContent-Encoding: gzip\r\n{code}\r\nThis is not browser-specific, happens also without any reverse proxies while accessing\u00a0Bitbucket directly.\r\nh3. Workaround\r\n\r\nThe content-type of batch.js is application/javascript. If the issue occurs in the environments behind load balancers/reverse proxies it should be possible to offload the compression to them.\r\n\r\nFor HA Proxy, please add to Bitbucket HTTP backend section in haproxy.conf:\r\n{code}\r\nbackend bitbucket_http_backend\r\n    compression algo gzip\r\n    compression type application/javascript\r\n{code}\r\nand reload the load balancer. \r\n",
      "summary": "Javascript files are not getting compressed (gzip)"
    }
  },
  {
    "key": "BSERV-12381",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-27T01:09:04.000+0000",
      "created": "2020-05-25T12:24:56.000+0000",
      "description": "h3. Use Case Scenario\r\n # A webhook is configured to send a request to the CI/CD tool to build when Pull Request is opened\r\n # We expect that when we open a Pull Request, the\u00a0green \"approve\" button and the orange \"needs work\" button, at the top right corner, should be grayed out (disabled) until the automation finished and changes its state.\r\n # In other words, when we open a pull request we don't want the reviewer to do anything until he or she gets the green status from Jenkins says \"Hey, reviewer, all is good and NOW you can review changes and approve the pr\".\r\n # But as long as the \"approve\" button is enabled while Jenkins still running, there is a risk the reviewer pushes the approve button too soon.\r\n # On the other hand, when no automation is triggered at all, those buttons should be enabled, of course.",
      "summary": "Disable reviewer status buttons until all CI/CD builds are successful"
    }
  },
  {
    "key": "BSERV-12380",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-28T07:31:04.000+0000",
      "created": "2020-05-25T09:56:05.000+0000",
      "description": "The shortcut for \"Jump to line\" (Alt-G) overlaps with the German keyboard layout on macOS (Alt-G is \"@\"). This is very unfortunate, as it prevents the user to type \"@\" into any text input in a Pull-Request.\r\n\r\nPlease provide a way for German/Swiss MacOS users to be able to use the \"Jump to line\" shortcut.\r\n\r\nThanks.",
      "summary": "German keyboard layout on MacOS "
    }
  },
  {
    "key": "BSERV-12378",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-21T21:50:56.000+0000",
      "description": "When a Jira issue URL is generated on a pull request, it is generated with a hyperlink to the following location:\r\n\r\n* {{plugins/servlet/jira-integration/issues/TEST-123}}\r\n\r\nSince this URL doesn't use the same logic that the default JavaScript uses when the URL is clicked normally on the PR page - in the event that there are multiple app-linked Jira instances, the default behavior of the Jira integration plugin is to \"brute-force\" finding the issue by iterating through them one at a time until it finds its first match or it can't log in to the next Jira instance in the list.\r\n\r\nIdeally this behavior would be enhanced by either:\r\n\r\n* Having Bitbucket instead generate a URL that links to the correct Jira instance for the first URL that is created on page load.\r\n** (x) This likely can't be done for performance reasons, as this more intensive logic/look-up would need to be done (possibly many, many times) on every page load instead of only when the URL is clicked.\r\n\r\nOR\r\n\r\n* Enhance the default {{jira-integration-plugin}} behavior by, instead of exiting as soon as it finds a Jira instance that it can't log in to, have the plugin continue to go through the Jira instances looking for a match until it completes the list and still doesn't have a match.\r\n** In this solution, we can still run into the behavior where if there's more than one matching project/issue number combination in all of the app-linked Jira instances, the integration plugin will just send you to the very first match - which possibly won't match what is correct based on Bitbucket's configured \"primary\" application link and any project links associated with the PR's project, etc. ",
      "summary": "Improve behavior when opening PR Jira issue URLs in new tab"
    }
  },
  {
    "key": "BSERV-12377",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-23T00:26:46.000+0000",
      "created": "2020-05-21T03:22:00.000+0000",
      "description": "h3. Issue Summary\r\nIncrease boldness of unread files in pull-requests diff view\r\n\r\nh3. Steps to Reproduce\r\nNot Available\r\n\r\nh3. Expected Results\r\nIncreasing boldness of unread files in pull-requests view helps to identify them easily.\r\n\r\nh3. Actual Results\r\nWith current font, it is little difficult to identify unread files on the older versions of Windows OS\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Increase boldness of unread files in pull-requests diff view"
    }
  },
  {
    "key": "BSERV-12374",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-20T08:23:03.000+0000",
      "created": "2020-05-19T07:37:31.000+0000",
      "description": "h3. Issue Summary\r\nThere are currently some issues with TLS 1.3 support in Java 11, including (the JDK ticket is not public):\r\n{quote}JDK-8214418 HttpClient falls in running with 100% cpu usage after an error signalled on channel{quote}\r\n\r\nSome examples of how TLS 1.3 issues have manifested in Bitbucket Server (there may be more):\r\n\r\n - BSERV-11796: Failure while importing repositories when running on Java 11\r\n - BSERV-12180: Code search intermittently stops working with Java 11 JRE\r\n - BSERV-12131: Webhooks intermittently stop working with Java 11 JRE\r\n\r\nLoosely related (although not directly to Java 11 TLSv1.3 problems):\r\n - BSERV-11889: Enforce TLS v1.2 for the Bitbucket Mail Server SMTP Protocol\r\n\r\nh3. Steps to Reproduce\r\nSee linked issues for reproduction details\r\n\r\nh3. Expected Results\r\nAll functionality works as expected when running Bitbucket Server on JRE 11\r\n\r\nh3. Actual Results\r\nHttpClient calls using TLS 1.3 fail intermittently if Bitbucket Server is run using JRE 11\r\n\r\nh3. Workaround\r\nUniversally disable TLS 1.3 support and force use of TLS 1.2 instead by passing the following JVM args (on startup):\r\n\r\n - jdk.tls.disabledAlgorithms=TLSv1.3\r\n - https.protocols=TLSv1.2\r\n\r\nplus this one specifically for BSERV-11889:\r\n - mail.crypto.protocols=TLSv1.2",
      "summary": "Java 11 TLS 1.3 problems"
    }
  },
  {
    "key": "BSERV-12373",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-19T07:29:35.000+0000",
      "description": "I noticed a recurring issue with my users. They report failing to log in after multiple attempts at password reset, and after some back and forth, I find that they tried logging in with their email address (which is the same as their username with @company.com at the end) in the username field.\r\n\r\nIt would be very convenient if the system just accepted the email address as the identification of the user. Many other systems do so, and it doesn't compromise security since you need the password anyway.",
      "summary": "Allow login with email address instead of username"
    }
  },
  {
    "key": "BSERV-12371",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-20T04:23:01.000+0000",
      "created": "2020-05-18T14:31:06.000+0000",
      "description": "this is basic feature which exists in any/all git tools I can think of\r\n\r\n\u00a0\r\n\r\ngithub\u00a0\r\n\r\ngitlab\r\n\r\nBitbucket cloud(funny :D)\u00a0",
      "summary": "Allow create or upload of new files from bitbucket server UI"
    }
  },
  {
    "key": "BSERV-12370",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-19T01:07:54.000+0000",
      "created": "2020-05-15T21:10:52.000+0000",
      "description": "The first Git 2.27 release candidate is now available, and should be added to Bitbucket Server's test matrix.",
      "summary": "Add support for Git 2.27."
    }
  },
  {
    "key": "BSERV-12369",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-15T14:37:18.000+0000",
      "description": "h3. Description\r\nIn 7.+ new side by side diff interface introduced automatic line wrap. However, depending on programming language it makes it more difficult to make a review on narrow screens like laptop one. \r\n\r\nh3. Solution\r\nProvide configurable line wrapping in new side-by-side diff interface.",
      "summary": "Provide possibility to configure line wrap in 7.+ side by side diff interface"
    }
  },
  {
    "key": "BSERV-12368",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-15T02:44:48.000+0000",
      "description": "h3. Issue Summary\r\nThe Backup Client performs various actions on a Bitbucket instance before a backup is started, such as putting the system into maintenance mode and draining database connections as well as SCM hosting operations.\r\n\r\nThe backup client waits up to 1 minute for connections and operations to drain. However, before connections and operations are drained, Bitbucket exports Active Objects to disk. The Backup Client is unaware of this and if backing up Active Objects takes longer than one minute, Backup client will print a message saying that draining the SCM operations timed out.\r\n\r\nh3. Steps to Reproduce\r\n # Have an instance where backing up Active Objects takes longer than one minute\r\n # Perform a backup using the Backup Client\r\n\r\nh3. Expected Results\r\nThe backup succeeds successfully and a backup is created on the disk.\r\n\r\nh3. Actual Results\r\nThe backup client times out waiting for draining SCM requests and fails with the following message:\r\n\r\n{noformat}\r\ncom.atlassian.bitbucket.internal.backup.client.ScmDrainTimedOutException: Operations from one or more SCMs did not finish within the allotted timeout. To prevent corruption due to inconsistent state, the backup has been aborted. Please try backup up again when the system is under less load.\r\n{noformat}\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\nWARN  [threadpool:thread-2] admin @1NNNN222NNNx1x0 0:0:0:0:0:0:0:1 \"POST /mvc/admin/backups HTTP/1.1\" c.a.s.i.m.DefaultMaintenanceTaskMonitor BACKUP maintenance has been canceled (Cause: BackupException: A backup file could not be created.)\r\ncom.atlassian.stash.internal.backup.BackupException: A backup file could not be created.\r\n\tat com.atlassian.stash.internal.maintenance.backup.BackupPhase.run(BackupPhase.java:75)\r\n\tat com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask$Step.run(CompositeMaintenanceTask.java:130)\r\n\tat com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask.run(CompositeMaintenanceTask.java:69)\r\n\tat com.atlassian.stash.internal.maintenance.MaintenanceModePhase.run(MaintenanceModePhase.java:27)\r\n\tat com.atlassian.stash.internal.maintenance.backup.AbstractBackupTask.run(AbstractBackupTask.java:85)\r\n\tat com.atlassian.stash.internal.maintenance.DefaultMaintenanceTaskMonitor.run(DefaultMaintenanceTaskMonitor.java:212)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t...\r\nCaused by: com.atlassian.stash.internal.backup.BackupException: Backup of ActiveObjects table data failed.\r\n\tat com.atlassian.stash.internal.maintenance.backup.ActiveObjectsBackupStep.run(ActiveObjectsBackupStep.java:54)\r\n\tat com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask$Step.run(CompositeMaintenanceTask.java:130)\r\n\tat com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask.run(CompositeMaintenanceTask.java:69)\r\n\tat com.atlassian.stash.internal.maintenance.backup.BackupPhase.run(BackupPhase.java:71)\r\n\t... 15 common frames omitted\r\nCaused by: com.atlassian.activeobjects.spi.ActiveObjectsImportExportException: There was an error during import/export with <unknown plugin>:com.ctc.wstx.exc.WstxIOException: null\r\n\tat com.atlassian.activeobjects.backup.ImportExportErrorServiceImpl.newParseException(ImportExportErrorServiceImpl.java:40)\r\n\tat com.atlassian.dbexporter.node.stax.StaxStreamWriter.close(StaxStreamWriter.java:159)\r\n\tat com.atlassian.activeobjects.backup.ActiveObjectsBackup.closeCloseable(ActiveObjectsBackup.java:182)\r\n\tat com.atlassian.activeobjects.backup.ActiveObjectsBackup.save(ActiveObjectsBackup.java:113)\r\n\tat com.atlassian.stash.internal.plugin.OsgiServiceProxyFactoryImpl$DynamicServiceInvocationHandler.invoke(OsgiServiceProxyFactoryImpl.java:104)\r\n\tat com.atlassian.stash.internal.maintenance.backup.ActiveObjectsBackupStep.run(ActiveObjectsBackupStep.java:51)\r\n\t... 18 common frames omitted\r\nCaused by: com.ctc.wstx.exc.WstxIOException: null\r\n\tat com.ctc.wstx.sw.BaseStreamWriter._finishDocument(BaseStreamWriter.java:1431)\r\n\tat com.ctc.wstx.sw.BaseStreamWriter.close(BaseStreamWriter.java:264)\r\n\tat com.atlassian.javanet.staxutils.helpers.StreamWriterDelegate.close(StreamWriterDelegate.java:182)\r\n\tat com.atlassian.dbexporter.node.stax.StaxStreamWriter.close(StaxStreamWriter.java:157)\r\n\t... 22 common frames omitted\r\nCaused by: java.nio.channels.ClosedChannelException: null\r\n\tat sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:110)\r\n\tat sun.nio.ch.FileChannelImpl.write(FileChannelImpl.java:199)\r\n\tat java.nio.channels.Channels.writeFullyImpl(Channels.java:78)\r\n\tat java.nio.channels.Channels.writeFully(Channels.java:101)\r\n\tat java.nio.channels.Channels.access$000(Channels.java:61)\r\n\tat java.nio.channels.Channels$1.write(Channels.java:174)\r\n\tat de.schlichtherle.truezip.io.LEDataOutputStream.write(LEDataOutputStream.java:91)\r\n\tat java.util.zip.DeflaterOutputStream.deflate(DeflaterOutputStream.java:253)\r\n\tat java.util.zip.DeflaterOutputStream.write(DeflaterOutputStream.java:211)\r\n\tat java.util.zip.CheckedOutputStream.write(CheckedOutputStream.java:73)\r\n\tat de.schlichtherle.truezip.io.DecoratingOutputStream.write(DecoratingOutputStream.java:54)\r\n\tat de.schlichtherle.truezip.zip.ZipOutputStream.write(ZipOutputStream.java:288)\r\n\tat org.apache.commons.io.output.ProxyOutputStream.write(ProxyOutputStream.java:90)\r\n\tat sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)\r\n\tat sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)\r\n\tat sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:295)\r\n\tat sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:141)\r\n\tat java.io.OutputStreamWriter.flush(OutputStreamWriter.java:229)\r\n\tat com.ctc.wstx.sw.BufferingXmlWriter.flush(BufferingXmlWriter.java:225)\r\n\tat com.ctc.wstx.sw.BufferingXmlWriter.close(BufferingXmlWriter.java:198)\r\n\tat com.ctc.wstx.sw.BaseStreamWriter._finishDocument(BaseStreamWriter.java:1429)\r\n\t... 25 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nIncreasing the timespan before Backup Client times out waiting for SCM requests to drain will allow Active Objects to be exported successfully and the backup will continue normally.\r\n\r\n# Open the file {{backup-config.properties}} in the Backup Client directory\r\n# Put the following line at the end of the file:\r\n  {noformat}backup.scmdrain.timeout=3600{noformat}\r\n\r\nThis increases the timeout to 1 hour. Note that this means your backups might wait this long before a legitimate failure to drain SCM requests is detected as well.",
      "summary": "Using the Backup Client on an instance with lots of Active Objects may incorrectly cause a timeout and fail"
    }
  },
  {
    "key": "BSERV-12367",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-14T07:35:54.000+0000",
      "description": "Hi,\r\n\r\nCustomer is requesting two things\r\n # When the password reset attribute is set in their external LDAP directory, Bitbucket should honour it by asking the user to change his password before logging them in successfully.\r\n # When a users password is expired(in the LDAP),\u00a0Bitbucket should force the user to change his password before logging them in successfully.\r\n\r\nThank you.",
      "summary": "Password reset for external directory users in Bitbucket"
    }
  },
  {
    "key": "BSERV-12366",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-14T06:51:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen importing a repository via the UI into Bitbucket, import fails from CodeCommit\r\nh3. Steps to Reproduce\r\n # Choose/create a project in Bitbucket\r\n # Go to _Import Repository_ page\r\n # Choose *Git* as the import source/scheme\r\n # Enter clone URL\r\n # Enter IAM username say {{cc-user}}\r\n # Enter IAM password\r\n\r\nh3. Expected Results\r\nImport is successful.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-bitbucket.log}} file, Git debug logging is enabled by adding the parameters to the {{_start-webapp.sh}} file:\r\n{code}\r\n2021-09-27 14:18:55,917 ERROR [pool-4-thread-1] c.a.b.i.i.repository.RefSyncTask Failed to import repository: SEC/avengers-infinity[32]\r\ncom.atlassian.bitbucket.scm.CommandFailedException: '/usr/local/bin/git -c core.abbrev=40 -c credential.helper= -c gc.auto=0 -c credential.username=cc-user fetch --force --prune --progress https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity +refs/*:refs/*' exited with code 128 saying: 14:18:53.696121 git.c:455        trace: built-in: git fetch --force --prune --progress https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity '+refs/*:refs/*'\r\n14:18:53.698924 run-command.c:666    trace: run_command: git remote-https https://cc-user-at-752688719063@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity\r\n14:18:53.704189 git.c:743        trace: exec: git-remote-https https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity\r\n14:18:53.704750 run-command.c:666    trace: run_command: git-remote-https https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity\r\n14:18:53.724336 http.c:756       == Info: Couldn't find host git-codecommit.us-east-1.amazonaws.com in the .netrc file; using defaults\r\n14:18:53.888466 http.c:756       == Info:  Trying 52.94.233.146...\r\n14:18:53.888480 http.c:756       == Info: TCP_NODELAY set\r\n14:18:54.375109 http.c:756       == Info: Connected to git-codecommit.us-east-1.amazonaws.com (52.94.233.146) port 443 (#0)\r\n14:18:54.375337 http.c:756       == Info: ALPN, offering h2\r\n14:18:54.375352 http.c:756       == Info: ALPN, offering http/1.1\r\n14:18:54.385092 http.c:756       == Info: successfully set certificate verify locations:\r\n14:18:54.385107 http.c:756       == Info:  CAfile: /etc/ssl/cert.pem\r\n CApath: none\r\n14:18:54.385196 http.c:756       == Info: TLSv1.2 (OUT), TLS handshake, Client hello (1):\r\n14:18:54.660128 http.c:756       == Info: TLSv1.2 (IN), TLS handshake, Server hello (2):\r\n14:18:54.660195 http.c:756       == Info: TLSv1.2 (IN), TLS handshake, Certificate (11):\r\n14:18:54.661534 http.c:756       == Info: TLSv1.2 (IN), TLS handshake, Server key exchange (12):\r\n14:18:54.661724 http.c:756       == Info: TLSv1.2 (IN), TLS handshake, Server finished (14):\r\n14:18:54.663173 http.c:756       == Info: TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\r\n14:18:54.663183 http.c:756       == Info: TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\r\n14:18:54.663223 http.c:756       == Info: TLSv1.2 (OUT), TLS handshake, Finished (20):\r\n14:18:54.990396 http.c:756       == Info: TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):\r\n14:18:54.990482 http.c:756       == Info: TLSv1.2 (IN), TLS handshake, Finished (20):\r\n14:18:54.990503 http.c:756       == Info: SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256\r\n14:18:54.990550 http.c:756       == Info: ALPN, server did not agree to a protocol\r\n14:18:54.990560 http.c:756       == Info: Server certificate:\r\n14:18:54.990575 http.c:756       == Info: subject: CN=git-codecommit.us-east-1.amazonaws.com\r\n14:18:54.990584 http.c:756       == Info: start date: Jun 3 00:00:00 2021 GMT\r\n14:18:54.990590 http.c:756       == Info: expire date: May 17 23:59:59 2022 GMT\r\n14:18:54.990603 http.c:756       == Info: issuer: C=US; O=Amazon; OU=Server CA 1B; CN=Amazon\r\n14:18:54.990608 http.c:756       == Info: SSL certificate verify ok.\r\n14:18:54.990700 http.c:703       => Send header, 0000000236 bytes (0x000000ec)\r\n14:18:54.990712 http.c:715       => Send header: GET /v1/repos/avengers-infinity/info/refs?service=git-upload-pack HTTP/1.1\r\n14:18:54.990717 http.c:715       => Send header: Host: git-codecommit.us-east-1.amazonaws.com\r\n14:18:54.990721 http.c:715       => Send header: User-Agent: git/2.33.0\r\n14:18:54.990725 http.c:715       => Send header: Accept: */*\r\n14:18:54.990729 http.c:715       => Send header: Accept-Encoding: deflate, gzip\r\n14:18:54.990733 http.c:715       => Send header: Pragma: no-cache\r\n14:18:54.990737 http.c:715       => Send header: Git-Protocol: version=2\r\n14:18:54.990740 http.c:715       => Send header:\r\n14:18:55.298712 http.c:703       <= Recv header, 0000000015 bytes (0x0000000f)\r\n14:18:55.298728 http.c:715       <= Recv header: HTTP/1.1 401\r\n14:18:55.298733 http.c:703       <= Recv header, 0000000056 bytes (0x00000038)\r\n14:18:55.298736 http.c:715       <= Recv header: x-amzn-RequestId: 26849b81-04fc-402d-9595-a892hgab11e\r\n14:18:55.298742 http.c:703       <= Recv header, 0000000034 bytes (0x00000022)\r\n14:18:55.298745 http.c:715       <= Recv header: WWW-Authenticate: Basic realm=\"\"\r\n14:18:55.298749 http.c:703       <= Recv header, 0000000024 bytes (0x00000018)\r\n14:18:55.298752 http.c:715       <= Recv header: Content-Type: text/xml\r\n14:18:55.298756 http.c:703       <= Recv header, 0000000020 bytes (0x00000014)\r\n14:18:55.298759 http.c:715       <= Recv header: Content-Length: 95\r\n14:18:55.298763 http.c:703       <= Recv header, 0000000037 bytes (0x00000025)\r\n14:18:55.298766 http.c:715       <= Recv header: Date: Mon, 27 Sep 2021 08:48:54 GMT\r\n14:18:55.298772 http.c:703       <= Recv header, 0000000002 bytes (0x00000002)\r\n14:18:55.298775 http.c:715       <= Recv header:\r\n14:18:55.298803 http.c:756       == Info: Ignoring the response-body\r\n14:18:55.298819 http.c:756       == Info: Connection #0 to host git-codecommit.us-east-1.amazonaws.com left intact\r\n14:18:55.298836 http.c:756       == Info: Issue another request to this URL: 'https://cc-user@git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity/info/refs?service=git-upload-pack'\r\n14:18:55.298894 http.c:756       == Info: Couldn't find host git-codecommit.us-east-1.amazonaws.com in the .netrc file; using defaults\r\n14:18:55.298915 http.c:756       == Info: Found bundle for host git-codecommit.us-east-1.amazonaws.com: 0x7fa631c09f00 [can pipeline]\r\n14:18:55.298919 http.c:756       == Info: Could pipeline, but not asked to!\r\n14:18:55.298935 http.c:756       == Info: Re-using existing connection! (#0) with host git-codecommit.us-east-1.amazonaws.com\r\n14:18:55.298941 http.c:756       == Info: Connected to git-codecommit.us-east-1.amazonaws.com (52.94.233.146) port 443 (#0)\r\n14:18:55.298951 http.c:756       == Info: Server auth using Basic with user 'cc-user'\r\n14:18:55.299031 http.c:703       => Send header, 0000000291 bytes (0x00000123)\r\n14:18:55.299043 http.c:715       => Send header: GET /v1/repos/avengers-infinity/info/refs?service=git-upload-pack HTTP/1.1\r\n14:18:55.299046 http.c:715       => Send header: Host: git-codecommit.us-east-1.amazonaws.com\r\n14:18:55.299049 http.c:715       => Send header: Authorization: Basic <redacted>\r\n14:18:55.299052 http.c:715       => Send header: User-Agent: git/2.33.0\r\n14:18:55.299055 http.c:715       => Send header: Accept: */*\r\n14:18:55.299058 http.c:715       => Send header: Accept-Encoding: deflate, gzip\r\n14:18:55.299061 http.c:715       => Send header: Pragma: no-cache\r\n14:18:55.299064 http.c:715       => Send header: Git-Protocol: version=2\r\n14:18:55.299066 http.c:715       => Send header:\r\n14:18:55.910906 http.c:703       <= Recv header, 0000000015 bytes (0x0000000f)\r\n14:18:55.910931 http.c:715       <= Recv header: HTTP/1.1 403\r\n14:18:55.910940 http.c:703       <= Recv header, 0000000056 bytes (0x00000038)\r\n14:18:55.910947 http.c:715       <= Recv header: x-amzn-RequestId: f87773c1-2643-4056-803c-6c222aa024bf\r\n14:18:55.910955 http.c:703       <= Recv header, 0000000024 bytes (0x00000018)\r\n14:18:55.910961 http.c:715       <= Recv header: Content-Type: text/xml\r\n14:18:55.910968 http.c:703       <= Recv header, 0000000020 bytes (0x00000014)\r\n14:18:55.910973 http.c:715       <= Recv header: Content-Length: 87\r\n14:18:55.910979 http.c:703       <= Recv header, 0000000037 bytes (0x00000025)\r\n14:18:55.910985 http.c:715       <= Recv header: Date: Mon, 27 Sep 2021 08:48:54 GMT\r\n14:18:55.910991 http.c:703       <= Recv header, 0000000002 bytes (0x00000002)\r\n14:18:55.910996 http.c:715       <= Recv header:\r\n14:18:55.911341 http.c:756       == Info: Connection #0 to host git-codecommit.us-east-1.amazonaws.com left intact\r\nfatal: unable to access 'https://git-codecommit.us-east-1.amazonaws.com/v1/repos/avengers-infinity/': The requested URL returned error: 403\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onError(DefaultCommandExitHandler.java:47)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:111)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.FetchExitHandler.onExit(FetchExitHandler.java:39)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:285)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:326)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onExit(NioNuProcessHandler.java:123)\r\n\tat com.zaxxer.nuprocess.internal.BasePosixProcess.onExit(BasePosixProcess.java:319)\r\n\tat com.zaxxer.nuprocess.osx.ProcessKqueue.processEvent(ProcessKqueue.java:339)\r\n\tat com.zaxxer.nuprocess.osx.ProcessKqueue.process(ProcessKqueue.java:238)\r\n\tat com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n\tat com.zaxxer.nuprocess.osx.OsxProcess.run(OsxProcess.java:123)\r\n\tat com.zaxxer.nuprocess.osx.OsxProcessFactory.runProcess(OsxProcessFactory.java:43)\r\n\tat com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75)\r\n\tat com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52)\r\n\tat com.atlassian.stash.internal.scm.git.command.SimpleGitCommand.configureAndCall(SimpleGitCommand.java:84)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorSynchronizeCommand.doFetch(MirrorSynchronizeCommand.java:132)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorSynchronizeCommand.call(MirrorSynchronizeCommand.java:95)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorSynchronizeCommand.call(MirrorSynchronizeCommand.java:34)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.syncRefs(RefSyncTask.java:122)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.importRepository(RefSyncTask.java:99)\r\n\tat com.atlassian.stash.internal.user.DefaultEscalatedSecurityContext.call(DefaultEscalatedSecurityContext.java:59)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.call(RefSyncTask.java:62)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.call(RefSyncTask.java:35)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 1 frame trimmed\r\nCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:277)\r\n\t... 24 common frames omitted\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nThe only known workaround would be to clone the external repository outside of Bitbucket and then push it.",
      "summary": "Import fails from CodeCommit"
    }
  },
  {
    "key": "BSERV-12365",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-13T16:34:12.000+0000",
      "description": "h3. Problem Definition\r\n\r\nBelow warning message commonly shows up when starting Bitbucket via script:\r\n{code:java}\r\n \"......Bitbucket is being run with a umask that contains potentially unsafe settings.\r\nThe following issues were found with the mask \"u=rwx,g=rwx,o=rx\" (0002):\r\n- Access is allowed to 'others'. It is recommended that 'others' be denied\r\nall access for security reasons.\r\n- Write access is allowed to 'group'. It is recommend that 'group' be\r\ndenied write access. Read access to a restricted group is recommended\r\nto allow access to the logs.\r\nThe recommended umask for Bitbucket is \"u=,g=w,o=rwx\" (0027) and can be\r\nconfigured in _start-webapp.sh\r\n\r\nThe current open files limit is set to less than 4096\r\nAttempting to increase limit...\r\nLimit increased to 4096 open files\r\n\r\nStarting Bitbucket webapp at http://localhost:7990\r\nThe Bitbucket webapp has been started......\" {code}\r\n * Some Bitbucket administrators may consider that this message is \"spamming\" their terminal and ask why the recommended umask is not set by default and why it has to be updated manually. I will share further insights below:\r\n ** Actually, when the default installation procedure (Run as root and create a service user) is followed, Bitbucket will be set to run with a 0027 mask (and that warning won't show up).\r\n ** Otherwise, the system administrator will be responsible for setting the correct umask based on his team security needs.\r\n ** We don't overwrite it in this case, as his team could be using a +*{{more restrictive}}*+ setting so we wouldn\u2019t want to override that and inadvertently reduce security without warning.\r\n\r\nh3. Suggested Solution\r\n * Considering the explanation above and knowing that the umask default value cannot be set to 0027 in all cases, our suggestion here is to change the default behavior to be at least 0027 specifically if the user is created with a more permissive mask.\r\n * This should reduce the number of situations in which the change has to be manually performed.\r\n\r\nh3. Why this is important\r\n * More efficiency.\r\n * Reduce Bitbucket administrator and system administrator effort.",
      "summary": "Improve the warning message \"The recommended umask for Bitbucket is 0027\""
    }
  },
  {
    "key": "BSERV-12364",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-13T15:36:32.000+0000",
      "description": "Currently, to see what state pull requests are in you have to click on the \"Pull Requests\" button under the development section.\r\n\r\n\u00a0\r\n\r\nIt would be useful to have a number next to that to represent approved and/or unapproved:\r\n\r\n\u00a0\r\n\r\n!image-2020-05-13-16-32-10-032.png!\r\n\r\n\u00a0\r\n\r\n\u00a0The image above shows that of the 2 pull requests currently open - 2 are {color:#FF0000}unapproved{color} and 0 {color:#00875a}approved{color}",
      "summary": "Show number of approved/unapproved pull requests for a ticket"
    }
  },
  {
    "key": "BSERV-12363",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-13T12:36:12.000+0000",
      "description": "The {{Move repository}} button located at the upper right inside a {{Repository Details}} page can be hit do move a repository to another project.\r\n\r\nHowever, after moving a repo to another project, It is still possible to clone the repo using the old URL.\r\n\r\nThis behavior will work forever. To get rid of the redirect, it's necessary to create a new blank repository as the same name of the old repository in the old project, and then delete this repository. This action should clear out the redirect.\r\n\r\nI've performed this test on my instance and it will be possible to create a new empty repo in the original project using the same repo's name as previously. If you perform a clone pointing to the new URL, it will pick up the new reference (an empty repo.)\r\n\r\nI'm raising this to add this information to the documentation since we got this feedback from a customer.",
      "summary": "Update documentation in the \"Move repository\" functionalitty"
    }
  },
  {
    "key": "BSERV-12362",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-13T08:28:44.000+0000",
      "description": "The current design doesn't require verification from\u00a0*GPG*\u00a0for commits or merge commit done from the web interface.\r\nh3. Use Case Scenario\r\n\r\nLet us describe how we want to use git:\r\n\r\nAll developers should sign their commits. This is enforced by having the *Bitbucket* server reject pushes that are not signed. The local git config at the developer's machine is set up to always sign. All good so far.\r\n\r\nSigning is however not as useful if the signatures are not verified by the developers pulling from the server.\r\n\r\nTherefore, the developers have set up their local git config to verify signatures (for instance by *git config --global merge.verifySignatures true*). Any commits made by someone not trusted on their local *GPG* chain are rejected.\r\n\r\nThe problem is that if *Bitbucket* merges a pull request and does not sign the resulting commit, the developers will have to ignore the signing.\r\n\r\nSince it is annoying to get an error each time one merges the master branch from the server, it is easy to just turn off local verification.\r\n\r\nA better option is if the commits are signed with a server key instead.\r\n\r\nThis means one can use a sane default (verify signatures) locally and not having to be annoyed at each merge.",
      "summary": "Provide option to automatically use GPG to sign commits you make using the web interface"
    }
  },
  {
    "key": "BSERV-12361",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-12T14:34:53.000+0000",
      "description": "Using a custom hook to prevent branch deletion if any commits would get removed from a repo (ie, only branches that are fully merged can be deleted)\u00a0works as expected with one exception, the hook won't run when the repo is not the target in a PR and the user selected the \"Delete source branch after merging\" while doing the merge.\r\n\r\nThis means that a user could delete a branch, bypassing the hook, simply by creating a PR from the original repo to a personal fork and choosing to delete the branch when merging the PR.\r\n\r\nBranch permissions are apparently honored, so if the branch is configured to prevent deletion the option to delete the branch in the PR merge dialog will be grayed out; however, setting a branch permission like this to prevent deletion of any branch is not practical.\r\n\r\nConsider adding a cancelable event to the branch delete process that is part of a PR merge or allow for custom hooks to be fired during this process.",
      "summary": "Raise a cancellable event when the branch delete proces that is part of the PR Merge is run"
    }
  },
  {
    "key": "BSERV-12360",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-12T14:10:51.000+0000",
      "description": "The install instructions for Bitbucket 6.10 is missing the proper Buckler plugin URL when using ElasticSearch 6.8.6.\r\n\r\nElasticSearch 6.8.6 requires Buckler version 2.1.2. The instructions do not specify this information (see step 3 on page\u00a0[https://confluence.atlassian.com/bitbucketserver0610/how-to-install-and-configure-a-remote-elasticsearch-instance-989762017.html\\|https://confluence.atlassian.com/bitbucketserver0610/how-to-install-and-configure-a-remote-elasticsearch-instance-989762017.html]).\r\n\r\nThe correct link is\u00a0[https://packages.atlassian.com/maven/com/atlassian/elasticsearch/buckler-plugin/2.1.2/buckler-plugin-2.1.2-6.8.6.zip]",
      "summary": "Update link to Buckler in Documentation"
    }
  },
  {
    "key": "BSERV-12359",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-11T21:56:51.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMariaDB 10.0 removal of support is not reflected in the Supported Platforms documentation\r\n\r\nh3. Steps to Reproduce\r\n\r\nSee https://confluence.atlassian.com/bitbucketserver070/supported-platforms-996644997.html\r\n\r\nh3. Expected Results\r\nSupported platforms document for Bitbucket Server 7.0 thru 7.<last> should indicate MariaDB 10.0 is \"not supported\".\r\n\r\nh3. Actual Results\r\n\r\nSupported platforms document for Bitbucket Server 7.0 thru 7.2 indicates MariaDB 10.0 is \"supported\".\r\n",
      "summary": "MariaDB 10.0 removal of support is not reflected in the Supported Platforms documentation"
    }
  },
  {
    "key": "BSERV-12358",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-12T07:21:44.000+0000",
      "created": "2020-05-11T21:52:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMySQL & MariaDB 5.5 deprecation is not reflected in the Supported Platforms documentation\r\n\r\nh3. Steps to Reproduce\r\nSee https://confluence.atlassian.com/bitbucketserver070/supported-platforms-996644997.html\r\n\r\nh3. Expected Results\r\nSupported platforms document for Bitbucket Server 7.0 thru 7.<last> should indicate MySQL & MariaDB 5.5 are \"deprecated\".\r\n\r\nh3. Actual Results\r\n\r\nSupported platforms document for Bitbucket Server 7.0 thru 7.2 indicates MySQL & MariaDB 5.5 are \"supported\".",
      "summary": "MySQL & MariaDB 5.5 deprecation is not reflected in the Supported Platforms documentation"
    }
  },
  {
    "key": "BSERV-12357",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-11T20:05:59.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a duplicate user is added a participant in a pull request too quickly (ie. with the REST API in parallel requests), it can cause a unique constraint violation. Under other scenarios, this can result in comments not being added to a pull request. If a user who is not a participant on a pull request tries to add comments via REST too quickly, one of the requests will result in a constraint violation and the comment will not be added. This can also be reproduced by adding participants directly with the {{/rest/api/1.0/projects/\\{projectKey\\}/repos/\\{repositorySlug\\}/pull-requests/\\{pullRequestId\\}/participants}} endpoint.\r\n\r\nh3. Steps to Reproduce\r\n # Create a new pull request\r\n # Use the REST API, authenticated as a user who is not already a participant, add two or more comments in parallel\r\n\r\nh3. Expected Results\r\n\r\nAll comments are added to the pull request and no constraint violation occurs.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-bitbucket.log}} file:\r\n{noformat}\r\n2020-05-11 16:24:07,539 ERROR [http-nio-7990-exec-1] admin @KH2KXWx984x771x1 10.\r\n0.2.2,192.168.5.2 \"POST /projects/TEST/repos/test2/pull-requests/4/comments HTTP\r\n/1.1\" o.h.e.j.batch.internal.BatchingBatch HHH000315: Exception executing batch \r\n[org.h2.jdbc.JdbcBatchUpdateException: Unique index or primary key violation: \"U\r\nQ_STA_PR_PARTICIPANT_PR_USER_INDEX_A ON PUBLIC.STA_PR_PARTICIPANT(PR_ID, USER_ID\r\n) VALUES ( /* key:16 */ null, 43, null, 1, null, null)\"; SQL statement:\r\ninsert into sta_pr_participant (user_id, last_reviewed_commit, pr_id, pr_role, p\r\narticipant_status, id) values (?, ?, ?, ?, ?, ?) [23505-176]], SQL: insert into \r\nsta_pr_participant (user_id, last_reviewed_commit, pr_id, pr_role, participant_s\r\ntatus, id) values (?, ?, ?, ?, ?, ?)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nAdd additional time between requests to the comments REST API endpoint",
      "summary": "Adding duplicate participants to a pull request in parallel with the REST API results in a constraint violation"
    }
  },
  {
    "key": "BSERV-12356",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-28T07:31:29.000+0000",
      "created": "2020-05-11T07:59:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Contribution Guideline on Pull Request overview page is missing in Bitbucket 7.2\r\nh3. Steps to Reproduce\r\n # Add contribution guideline in a repository by following\u00a0[https://confluence.atlassian.com/bitbucketserver/creating-a-contributions-guidelines-file-938025885.html]\r\n # Create a Pull Request\r\n # Once it is created, it will direct you to the Pull Request overview page\r\n\r\nh3. Expected Results\r\n\r\nThe link to the Contribution Guideline is displayed in the Pull Request overview page.\r\nh3. Actual Results\r\n\r\nThe link to the Contribution Guideline is missing in the Pull Request overview page.\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Contribution Guidelines on Pull Request overview page are missing in Bitbucket 7.0+"
    }
  },
  {
    "key": "BSERV-12355",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-20T23:56:20.000+0000",
      "created": "2020-05-11T02:31:18.000+0000",
      "description": "h3. Summary\r\n\r\nThe [Supported Platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html] page states that we provide support for \"Amazon Aurora (Data Center only) PostgreSQL 9.6\".\r\n\r\nHowever, [Configuring Bitbucket Data Center to work with Amazon Aurora|https://confluence.atlassian.com/bitbucketserver/configuring-bitbucket-data-center-to-work-with-amazon-aurora-978205573.html] document specify version 11.\r\n{quote}Bitbucket Data Center specifically supports the use of an Amazon Aurora cluster with the following configuration:\r\n - It must have only one writer, replicating to one or more readers.\r\n - Your PostgreSQL engine must be version 11.{quote}\r\nh3. Suggestion\r\n\r\nPlease update the [Supported platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html] like below:\r\n{quote}*Amazon Aurora (Data Center only)*\r\n (/) PostgreSQL 9.6 - 11\r\n{quote}",
      "summary": "Update bitbucket supported platform page regarding Amazon Aurora"
    }
  },
  {
    "key": "BSERV-12354",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-10T22:27:03.000+0000",
      "created": "2020-05-10T17:59:16.000+0000",
      "description": "Bitbucket is currently not offered with any standard OS packaging, and makes life difficult for admins.\r\n\r\nThe SRPM linked below provides both an RPM spec file and init script for JIRA. Download the tar.gz file from Atlassian, place it in the SOURCES directory and build the RPMs using \"rpmbuild -bb atlassian-bitbucket.spec\".\r\n\r\nhttps://github.com/minfrin/atlassian-rpms/blob/master/bitbucket/atlassian-bitbucket-5.16.11-1.el7.nosrc.rpm",
      "summary": "[Patch] RPM support for Bitbucket (v5.16.11)"
    }
  },
  {
    "key": "BSERV-12353",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-08T15:43:49.000+0000",
      "description": "As a reviewer,\r\n\r\nWhen a pull request has tasks,\r\n\r\nAnd I hover over the task count,\r\n\r\nhover text should include the first 3 tasks associated in the pull request.",
      "summary": "Pull request task hover over"
    }
  }
]