[
  {
    "key": "BSERV-8913",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-29T23:28:09.000+0000",
      "created": "2016-06-29T22:50:14.000+0000",
      "description": "h3. Problem Definition\r\nWhen a repository has a minimum number of approvers set, pull requests can be created with no reviewers.  This leads to branches that cannot be merged until the pull request is edited to add reviewers.\r\n\r\nh3. Suggested Solution\r\nMake the \"Reviewers\" field required, with an account check so that, for example, if pull requests require 2 approvers, a pull request cannot be created without 2 accounts listed in the \"Reviewers\" field. \r\n\r\nh3. Workaround \r\nEdit a pull request with no reviewers to add the accounts.",
      "summary": "When creating a pull request, require the same number of reviewers as the number of approvers specified in the Pull Request Configuration page."
    }
  },
  {
    "key": "BSERV-8912",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-29T23:56:13.000+0000",
      "created": "2016-06-29T22:35:47.000+0000",
      "description": "The HTML title for Bitbucket server renders with the word \"Stash\" in it.  ",
      "summary": "HTML title says \"Stash\" instead of \"Bitbucket\""
    }
  },
  {
    "key": "BSERV-8911",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-29T22:23:21.000+0000",
      "created": "2016-06-29T21:05:42.000+0000",
      "description": "Hello Support Team,\r\n\r\nWe are planing take daily backup for stash, backed up data will be used for restoring it on DR server. \r\nWhat backup should I have to take daily basis on Stash\r\n\r\nDR server will not be active and will be powered down, we will restore the data when needed,\r\n\r\nThanks,\r\nkartheek.\r\n\r\n\r\n\r\n",
      "summary": "What data do I need to backup daily for DR site setup "
    }
  },
  {
    "key": "BSERV-8910",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T07:26:59.000+0000",
      "created": "2016-06-29T18:12:46.000+0000",
      "description": "*Rating*: (n) Horrible!\n\n{panel:title=What do you like?|borderColor=#ccc| titleBGColor=#c2ffa2|bgColor=#fff}\nHow relevant this example is to what I need to do.\n{panel}\n\n{panel:title=What needs to be improved?|borderColor=#ccc| titleBGColor=#faacad|bgColor=#fff}\n1 - Link to example code is broken (one needs to rename \"stash\" to \"bitbucket\" in the URL for it to work) \r\n2 - The example code repo (after fixing above) has broken URLs in readme.\r\n3 - The example code after downloading and compiling doesn't run/even appear in the plugin listing, with no error messages besides a couple of warnings I have no clue about.\r\n\r\nTo be honest - I think it'd be easier to write a HTTP packet patcher that injects my plugin idea into the HTTP packet as it's going out to the client than it is to work with the Atlassian framework.\r\n\r\n\n{panel}",
      "summary": "How relevant this example is to what I need to do."
    }
  },
  {
    "key": "BSERV-8909",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-13T05:13:08.000+0000",
      "created": "2016-06-29T17:35:15.000+0000",
      "description": "If you select a block of text in the source view of a code file, that block doesn't get put into the PRIMARY selection (which allows middle-click pasting on a Linux system)",
      "summary": "Selecting code in Source view doesn't place it in PRIMARY selection"
    }
  },
  {
    "key": "BSERV-8908",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-30T22:45:28.000+0000",
      "created": "2016-06-29T11:10:39.000+0000",
      "description": "Not sure if this is the best way to reach you but I couldn't get any of your other contacting information to work. I'm having a serious issue with bitbucket. I can't login. when I enter username and password it says i need to verify my account but the verification email is never received. I have tried hundreds of time and still the same thing. I can't even submit a bug request as that system also requires authentification. Please look into this issues assap as I need the account to work on an important contract. my email address is gilbert2.montcho@symbio.com.\r\n\r\nGratitudes\r\nGilbert M.",
      "summary": "can't login  into bitbucket"
    }
  },
  {
    "key": "BSERV-8907",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-28T22:05:06.000+0000",
      "created": "2016-06-28T11:10:11.000+0000",
      "description": "So for example, a Pull Request as 2 reviewers, both of whom have reviewed and Approved the PR. The developer is currently able to push a further commit and immediately merge without further approval. This feature would automatically remove any existing approvals and force the developer to seek approval for his/her update.",
      "summary": "BitBucket: Feature for push updates to an existing approved Pull Request to automatically remove approvals."
    }
  },
  {
    "key": "BSERV-8906",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-28T10:49:24.000+0000",
      "description": "So for example, I am using a simplfied GitFlow work flow of:\r\n\r\nFeature / Bug fix branch -> Devel branch -> Master branch\r\n\r\nTo enforce this workflow, it would be good to be able to constrain pull requests such that a request e.g. from a Feature branch direct to Master branch would be immediately and automatically rejected.",
      "summary": "In Bitbucket, make it possible to limit Pull Requests between specific branches"
    }
  },
  {
    "key": "BSERV-8905",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T05:27:36.000+0000",
      "created": "2016-06-28T07:42:18.000+0000",
      "description": "While performing integration tests, testrunner failed to deserialize test results:\r\n{code}\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 22.148 sec <<< FAILURE!\r\nit.com.pbaranchikov.stash.checks.CreateBranchTest  Time elapsed: 22.148 sec  <<< ERROR!\r\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected an int but was BEGIN_OBJECT at line 1 column 26 path $.testResult.fCount\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:221)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:117)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:217)\r\n        at com.google.gson.Gson.fromJson(Gson.java:861)\r\n        at com.google.gson.Gson.fromJson(Gson.java:826)\r\n        at com.google.gson.Gson.fromJson(Gson.java:775)\r\n        at com.google.gson.Gson.fromJson(Gson.java:747)\r\n        at com.atlassian.plugins.osgi.test.AtlassianPluginsTestRunner.runViaRestCall(AtlassianPluginsTestRunner.java:118)\r\n        at com.atlassian.plugins.osgi.test.AtlassianPluginsTestRunner.run(AtlassianPluginsTestRunner.java:75)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\nCaused by: java.lang.IllegalStateException: Expected an int but was BEGIN_OBJECT at line 1 column 26 path $.testResult.fCount\r\n        at com.google.gson.stream.JsonReader.nextInt(JsonReader.java:1201)\r\n        at com.google.gson.internal.bind.TypeAdapters$8.read(TypeAdapters.java:263)\r\n        at com.google.gson.internal.bind.TypeAdapters$8.read(TypeAdapters.java:260)\r\n        at com.google.gson.TypeAdapter$1.read(TypeAdapter.java:199)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:117)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:217)\r\n        ... 20 more\r\n{code}\r\nI found, that different gson libraries are used in Bitbucket server and in test runner. This may be the cause of the failure.\r\n\r\nAlso, there is an unanswered question in \"Atlassian Answers\" - https://answers.atlassian.com/questions/38760172/error-running-remote-integration-tests-on-sdk-6.2.4\r\n\r\nIn order to reproduce, you can just clone https://github.com/pbaranchikov/stash-eol-check and build it, changing property \"bitbucket.version\" to :4.7.1.",
      "summary": "JSON deserialization failed during integration tests for bitbucket server 4.6.x"
    }
  },
  {
    "key": "BSERV-8904",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-30T01:32:25.000+0000",
      "created": "2016-06-28T01:48:04.000+0000",
      "description": "AMPS 6.2.4 introduced some new functionality which started Elasticsearch in-process when Bitbucket was started up with AMPS. This new code is unable to resolve the Maven project when using a setup other than the Atlassian Internal settings.xml file in the ~/.m2 folder.\r\n\r\nWe are seeing plugin devs who have upgraded are unable to start BBS with AMPS 6.2.4\r\nhttps://answers.atlassian.com/questions/39151011",
      "summary": "Unable to build Bitbucket plugins with AMPS 6.2.4 and 6.2.5"
    }
  },
  {
    "key": "BSERV-8903",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-08T00:42:18.000+0000",
      "created": "2016-06-27T22:46:18.000+0000",
      "description": "If a large amount of content in the merge vetoes Inline Dialog causes the dialog to reach beyond the bottom bound of the page, it will then cause the dialog to be misaligned:\r\n\r\n!%5BSSP-15479%5D+Veto+popup+with+a+lot+of+vetos+show+at+top+of+page+-+Atlassian+Support+System+2016-06-28+08-45-30.png|width=800!",
      "summary": "Many or long merge vetoes can cause the veto dialog to be misaligned"
    }
  },
  {
    "key": "BSERV-8902",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T05:43:03.000+0000",
      "created": "2016-06-27T17:06:49.000+0000",
      "description": "Currently when an LDAP sourced user group is renamed and the user directory is synchronized, the updated group name is picked up as part of the user accounts, however the corresponding group name in Global Permissions is not updated as well.\r\n\r\nh5. Steps to reproduce:\r\n# Connect Bitbucket Server to and LDAP user directory\r\n# Synchronize accounts within a user group.\r\n# Grant the group Bitbucket User permissons in {{Administration >> Global Permissions}}.\r\n# Rename the user group in LDAP.\r\n# Re-synchronize the LDAP directory.\r\n# Verify that the name of the group the users belong to was updated {{Administration >> Groups}}.\r\n# Check {{Administration >> Global Permissions}} and see the original group name is still listed, and the new group name is not listed.\r\n\r\nh5. Workaround:\r\nManually add the new group name to {{Administration >> Global Permissions}}",
      "summary": "Renamed LDAP User Groups do not propagate to Global Permissions"
    }
  },
  {
    "key": "BSERV-8901",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T06:47:52.000+0000",
      "created": "2016-06-27T11:46:58.000+0000",
      "description": "h3. Summary\r\n\r\nOn the pull request overview page, the date on the '<User> updated the pull request' can be before the timestamp of the commit(s) mentioned.\r\nh3. Environment\r\n * MySQL 5.6+ as database\r\n\r\nh3. Steps to Reproduce\r\n\r\nNA\r\nh3. Expected Results\r\n\r\nThe application always shows a coherent time in the user interface.\r\nh3. Actual Results\r\n\r\nThe date on the '<User> updated the pull request' is before the timestamp of the commit(s) mentioned.\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\nWARN  [pull-request-rescoping:thread-1]  c.a.s.i.p.r.PullRequestRescopeChain PKEY/slug[123]#1090: A gap was detected in the pull request history: {gap from-ref: {old-hash: 99121efb1cb7e07c225ea8186803e721844f5a3b, new-hash: a86c3e241e845d4a02663f43b3d747ae300f8ab3}, to-ref: unchanged}. Attributing the scope change to user the username and setting the rescope date to Fri Jun 03 10:30:04 AEST 2016 based on known changes\r\n\r\n{noformat}\r\nIn addition, on the pull request overview page, the date on the '<User> updated the pull request' can be before the timestamp of the commit(s) mentioned.\r\nh3. Notes\r\n\r\nWhen a user pushes changes to a repository, all open pull requests affected by this push are updated asynchronously in the background. The relevant information (what branches were updated) from the push is stored in the database. This information includes the timestamp.\r\n\r\nThe timestamp is used during the updating of the pull requests to determine whether the change has already been processed. On MySQL, timestamps are recorded with a 1s resolution and actual values are truncated or rounded. This rounding can cause the rescoping algorithm to incorrectly determine that the push has already been processed and discard the information.\r\n\r\nIn a later phase, it is discovered that the pull request is out of date (it's branches have changed), but that no known push can explain the change. In other words, a 'gap' is detected and an artificial activity is created to explain the gap.",
      "summary": "Regular \"A gap was detected\" warnings in the logs with MySQL 5.6+ database"
    }
  },
  {
    "key": "BSERV-8900",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T04:29:13.000+0000",
      "created": "2016-06-27T07:22:09.000+0000",
      "description": "Occurs on Windows for merge messages with special, non alpha-numeric, characters",
      "summary": "Handle special characters in merge messages on Windows"
    }
  },
  {
    "key": "BSERV-8899",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-01T07:12:07.000+0000",
      "created": "2016-06-27T05:15:35.000+0000",
      "description": "In the screenshot, I uploaded an image named \"s s.png\". Uploading the same picture as \"ss.png\" does not cause this rendering issue.",
      "summary": "Uploading an attachment with a space in the filename doesn't work"
    }
  },
  {
    "key": "BSERV-8898",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-04T01:38:24.000+0000",
      "created": "2016-06-27T04:30:02.000+0000",
      "description": "h3. Summary\r\nUnder certain circumstances it's possible for Bitbucket Server's JAVA_HOME to be set to the embedded JRE, but for the bundled Elasticsearch's JAVA_HOME to be set to an external JRE\r\n\r\n\r\nh3. Expected Results\r\n*JAVA_HOME* should be identical in {{$BITBUCKET_HOME/bin/setenv.sh}} and {{$BITBUCKET_INST/elasticsearch/bin/elasticsearch}}\r\n\r\nh3. Actual Results\r\nUnder certain circumstances, {{$BITBUCKET_HOME/bin/setenv.sh}} has *JAVA_HOME* set to the embedded JRE, whilst {{$BITBUCKET_INST/elasticsearch/bin/elasticsearch}} is set to an external JRE. If the external JRE is not supported (e.g. Java 1.7) then Bitbucket will start but elasticsearch will fail\r\n\r\nh3.Workaround\r\nManually update *JAVA_HOME* in {{$BITBUCKET_INST/elasticsearch/bin/elasticsearch}} to use the embedded JRE",
      "summary": "Elasticsearch JAVA_HOME set to a different value than BBS JAVA_HOME"
    }
  },
  {
    "key": "BSERV-8897",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-29T06:09:04.000+0000",
      "created": "2016-06-26T13:34:31.000+0000",
      "description": "I get this exception when i try to start my bitbucket server.\r\n\r\nLikely root cause: java.lang.ClassNotFoundException: java.util.Base64\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:789)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        at com.atlassian.elasticsearch.buckler.BasicAuth.encodeCredentials(BasicAuth.java:22)\r\n        at com.atlassian.elasticsearch.buckler.config.AuthConfig.<init>(AuthConfig.java:25)\r\n        at com.atlassian.elasticsearch.buckler.config.BucklerConfig.<init>(BucklerConfig.java:55)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n        at <<<guice>>>\r\n        at org.elasticsearch.node.Node.<init>(Node.java:213)\r\n        at org.elasticsearch.node.Node.<init>(Node.java:140)\r\n        at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:143)\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:270)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)",
      "summary": "Bitbucket Elastic Search crash"
    }
  },
  {
    "key": "BSERV-8896",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-27T03:10:32.000+0000",
      "created": "2016-06-26T09:43:51.000+0000",
      "description": "In the developer documentation at https://developer.atlassian.com/bitbucket/server/docs/latest/reference/api-changelog.html#Pull_request_toolbar_plugins_moved_and_deprecated , the recommended upgrade path for plugins using {{bitbucket.pull-request.toolbar.actions}} is to convert the relevant {{web-item}} to a {{client-web-item}} and stick it under {{bitbucket.pullrequest.action}} . \r\n\r\nThis does not work. A {{client-web-item}} with location {{bitbucket.pullrequest.action}} does not show up on the list of pull request actions, but one with location {{bitbucket.branch.list.actions.dropdown}} shows up in the list of branch actions. The location {{bitbucket.pullrequest.action}} also shows up with {{?web.items}} so it's definitely valid, but something else is going wrong :)\r\n\r\nHere's the {{atlassian-plugin.xml}} I used:\r\n\r\n{noformat}\r\n<atlassian-plugin key=\"${atlassian.plugin.key}\" name=\"${project.name}\" plugins-version=\"2\">\r\n    <plugin-info>\r\n        <description>${project.description}</description>\r\n        <version>${project.version}</version>\r\n        <vendor name=\"${project.organization.name}\" url=\"${project.organization.url}\" />\r\n        <param name=\"plugin-icon\">images/pluginIcon.png</param>\r\n        <param name=\"plugin-logo\">images/pluginLogo.png</param>\r\n    </plugin-info>\r\n\r\n    <!-- add our i18n resource -->\r\n    <resource type=\"i18n\" name=\"i18n\" location=\"bug\"/>\r\n    \r\n    <!-- add our web resources -->\r\n    <web-resource key=\"bug-resources\" name=\"bug Web Resources\">\r\n        <dependency>com.atlassian.auiplugin:ajs</dependency>\r\n        \r\n        <resource type=\"download\" name=\"bug.css\" location=\"/css/bug.css\"/>\r\n        <resource type=\"download\" name=\"bug.js\" location=\"/js/bug.js\"/>\r\n        <resource type=\"download\" name=\"images/\" location=\"/images\"/>\r\n\r\n        <context>bug</context>\r\n    </web-resource>\r\n\r\n    <client-web-item key=\"branch-item\" name=\"A branch item\" section=\"bitbucket.branch.list.actions.dropdown\" weight=\"100\">\r\n        <label>Branch item</label>\r\n        <link>/plugins/servlet/branch</link>\r\n    </client-web-item>\r\n\r\n    <client-web-item key=\"pull-request-action-item\" name=\"A pull request item\" section=\"bitbucket.pullrequest.action\" weight=\"100\">\r\n        <label>Pull request</label>\r\n        <link>/plugins/servlet/pullrequest</link>\r\n    </client-web-item>\r\n    \r\n</atlassian-plugin>\r\n{noformat}\r\n\r\nIt can be easily reproduced with a pull request and looking at the other actions, and looking at the branch operations dropdown for comparison. ",
      "summary": "'bitbucket.pullrequest.action' client web section does not work - recommended upgrade path is broken"
    }
  },
  {
    "key": "BSERV-8895",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-13T06:52:45.000+0000",
      "created": "2016-06-24T21:02:43.000+0000",
      "description": "h3. Problem Definition\r\nIf an instance is using both the Internal directory and 1 or more Delegated LDAP directories, a new user account is added to the directory closest to the top of the list.\r\n\r\nh3. Suggested Solutions\r\n* Provide a drop-down list of all writeable directories when there are more than 1.\r\n* Update the existing REST endpoint to allow the admin to specify which directory a new user account should be added for the purpose of automation.\r\n\r\nh3. Workaround\r\nResort the order of the directories depending on which directory a new user account is to be added.",
      "summary": "As an Admin, I would like to be able to choose which directory a new user account belongs to"
    }
  },
  {
    "key": "BSERV-8894",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-24T04:47:40.000+0000",
      "created": "2016-06-24T00:24:10.000+0000",
      "description": "The [Install And Configure A Remote Elasticsearch Instance|https://confluence.atlassian.com/bitbucketserver/install-and-configure-a-remote-elasticsearch-instance-815577748.html] page mentions the following parameter is required in {{elasticsearch.yml}}:{code:title=elasticsearch.yml}\r\naction.auto_create_index\tfalse\r\n{code}\r\nWe also mention that Elastic's Shield plugin can be used for security, however users of the Shield plugin may discover that our recommended configuration will prevent Elasticsearch from starting up - {{action.auto_create_index}} can't be set to {{false}} when using the Shield plugin or Elasticsearch will fail to start. \r\n\r\nBearing in mind this is a third party plugin, since many customers may elect to choose this option can we add a small note to the recommended {{elasticsearch.yml}} configuration as follows:\r\n\r\n{quote}\r\nThird party plugins, such as Elastic's Shield plugin, may require specific exceptions to be set for {{action.auto_create_index}}. Please consult your provider's documentation for more information. \r\n{quote}",
      "summary": "Documentation: Add a note to the Remote Elasticsearch configuration KB mentioning compatible configuration for Shield"
    }
  },
  {
    "key": "BSERV-8893",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-29T04:55:29.000+0000",
      "created": "2016-06-23T08:47:57.000+0000",
      "description": null,
      "summary": "File names with spaces show The path \"...%20...\" does not exist at revision \"master\" error in browser view"
    }
  },
  {
    "key": "BSERV-8892",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-30T05:37:39.000+0000",
      "created": "2016-06-23T06:25:51.000+0000",
      "description": "h3. Problem Definition\r\nThe Bitbucket Server Code Search features provides the ability to search the code, the details of the implementation are provided on the [Search for code in Bitbucket Server|https://confluence.atlassian.com/bitbucketserver/search-for-code-in-bitbucket-server-814204781.html] page.\r\n\r\nCurrently only the content of files is indexed.\r\n\r\nh3. Suggested Solution\r\nAdd the possibility to add the commits messages to the searchable text.",
      "summary": "As a user, I want to be able to search for the commit messages in Bitbucket Server"
    }
  },
  {
    "key": "BSERV-8891",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-27T05:27:05.000+0000",
      "created": "2016-05-27T01:56:36.000+0000",
      "description": "In Stash Data Center 3.11.0 a hidden {{hibernate.cache.mode}} property allowed selection of {{LOCAL}} Hibernate L2 cache mode instead of {{DISTRIBUTED}} (the default).  In Bitbucket Data Center 4.0, {{LOCAL}} Hibernate L2 cache mode became the default.\r\n\r\nIf a cluster goes into a \"split brain\" state, where nodes' connections to each other are lost (e.g., through network interruption or software problem such as excessively long JVM GC pauses) but they are still accessing the shared DB and filesystem and processing requests, there is a risk that the L2 caches may become inconsistent.  If the \"split brain\" situation later heals, this inconsistency does not repair itself and may persist indefinitely.  Different nodes may display different state of pull requests, users, groups, permissions, and so on; and updates may be lost or encounter spurious \"You are attempting to modify a pull request based on out-of-date information\" errors.",
      "summary": "LOCAL L2 Hibernate caches may be inconsistent after split brain that later heals"
    }
  },
  {
    "key": "BSERV-8890",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-27T05:27:13.000+0000",
      "created": "2015-09-15T03:33:26.000+0000",
      "description": "Spring {{Cache}}'s in Stash and Bitbucket DC versions up to and including 4.7.0 are backed by Hazelcast {{IMap}}'s internally.  In some scenarios, this can cause cache accesses from one cluster node to block waiting for another cluster node, which in the event of OS or JVM issues (e.g., excessive GC pauses) may be slow or unresponsive. \r\n\r\nIn Bitbucket Data Center 4.8.0 and higher, this has been replaced with hybrid-mode atlassian-cache {{Cache}}'s which do not block on other cluster nodes even if they are affected by OS or JVM issues. ",
      "summary": "Back Spring caches with hybrid atlassian-cache Caches instead of Hazelcast (IMap-backed) caches"
    }
  },
  {
    "key": "BSERV-8889",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-27T05:28:08.000+0000",
      "created": "2016-05-23T04:17:51.000+0000",
      "description": "The {{DefaultLicensedUserCountCache}} in Stash and Bitbucket DC versions up to and including 4.7 uses a Spring {{Cache}} (backed by a Hazelcast {{IMap}}) and a Hazelcast {{IAtomicLong}} internally.  In some scenarios, this can cause the licensed user count computation on one cluster node to block waiting for another cluster node, which in the event of OS or JVM issues (e.g., excessive GC pauses) may be slow or unresponsive. \r\n\r\nIn Bitbucket Data Center 4.8.0 and higher, this has been replaced with the {{SchedulerService}} and {{TopicService}} which do not block on other cluster nodes even if they are affected by OS or JVM issues. ",
      "summary": "Replace Spring Cache and IAtomicLong in DefaultLicensedUserCountCache with TopicService and SchedulerService"
    }
  },
  {
    "key": "BSERV-8888",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T04:27:47.000+0000",
      "created": "2016-06-23T01:00:33.000+0000",
      "description": "h3. Summary\r\nWhen a licensed user is member of thousands of groups, nested or otherwise, the database load can become unacceptably high for some operations.\r\n\r\nh3. Steps to Reproduce\r\n# Create a user\r\n# Associate the user with many groups (directly or through a user management system, e.g. JIRA, Crowd)\r\n# Perform any operation with that user\r\n\r\nh3. Expected Results\r\nThe load on the database is fine.\r\n\r\nh3. Actual Results\r\nThe load on the database is high. This can be checked on the Bitbucket Server side by enabling the SQL debug log level.\r\n\r\nh3.Workaround\r\nMake sure that only the number of required users are available in Bitbucket Server.\r\n",
      "summary": "Caching of groups insufficient for very large user directories"
    }
  },
  {
    "key": "BSERV-8887",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T03:36:29.000+0000",
      "created": "2016-06-22T21:55:53.000+0000",
      "description": "*Rating*: :) Good\r\n\r\n{panel:title=What do you like?|borderColor=#ccc| titleBGColor=#c2ffa2|bgColor=#fff}\r\nfix typo\r\n{panel}\r\n\r\n{panel:title=What needs to be improved?|borderColor=#ccc| titleBGColor=#faacad|bgColor=#fff}\r\nimport com.atlassain.plugin.spring.scanner.annotation.imports.ComponentImport;\r\n\r\nto\r\n\r\nimport com.atlassian.plugin.spring.scanner.annotation.imports.ComponentImport;\r\n{panel}\r\n\r\n*Reporter*: Marcelo Salazar\r\n*E-mail*: [mailto:chelosalazar@gmail.com]\r\n\r\nhttps://developer.atlassian.com/bitbucket/server/docs/latest/tutorials-and-examples/controlling-when-pull-requests-can-be-merged.html",
      "summary": "Fix typo in Merge Check developer docs"
    }
  },
  {
    "key": "BSERV-8886",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-22T21:13:59.000+0000",
      "description": "The project page listing all the repositories has all that empty space. Why not make it a table that shows some high level status. Things like\r\n\r\n* Build status of default branch (maybe an indicator if the default branch is not _master_ and mouse-over to display the default branch name)\r\n* Number of open PRs\r\n* Commits pushed in last (day/week/month, configurable, sortable)\r\n\r\nEach table cell could be linked to the relevant page within the repository for fast access.",
      "summary": "Upgrade project's repository list to be a repository status dashboard"
    }
  },
  {
    "key": "BSERV-8885",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T07:12:34.000+0000",
      "created": "2016-06-22T19:28:22.000+0000",
      "description": "Currently anyone with write repository access can create a branch.  Add a permission check to only allow specific users or groups to create branches.",
      "summary": "Add repository permission for branch creation"
    }
  },
  {
    "key": "BSERV-8884",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-26T00:45:31.000+0000",
      "created": "2016-06-22T17:34:19.000+0000",
      "description": "Trying to test out new feature of laying down a tag on a commit.\r\nPick any commit in the repository, then click the \"+\" sign next to \"no tags\", fill in the tag information, then click CreateTag.\r\n\r\nThe browser returns a \"500\" error.\r\n\r\nThe bitbucket 4.7.1 log file spits this out:\r\n\r\n{code:java}\r\n2016-06-22 13:21:48,978 ERROR [http-nio-7990-exec-7] @1Q631BQx801x4269x0 19raqag 192.169.0.163 \"GET /mvc/error500 HTTP/1.1\" c.a.s.i.web.ErrorPageController There was an unhandled exception loading [/plugins/servlet/create-tag]\r\ncom.atlassian.bitbucket.commit.NoSuchCommitException: Commit 'undefined' does not exist in repository 'vestmarkone'.\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.newNoSuchCommitException(GitCommandExitHandler.java:166) ~[na:na]\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateStdErr(GitCommandExitHandler.java:66) ~[na:na]\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:196) ~[na:na]\r\n        at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:31) ~[bitbucket-spi-4.7.1.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:138) ~[bitbucket-spi-4.7.1.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:252) ~[bitbucket-spi-4.7.1.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:221) ~[bitbucket-spi-4.7.1.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:75) ~[bitbucket-spi-4.7.1.jar:na]\r\n        at com.atlassian.stash.internal.commit.DefaultCommitService.getCommit(DefaultCommitService.java:301) ~[bitbucket-service-impl-4.7.1.jar:na]\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26) ~[atlassian-plugins-core-4.1.8.jar:na]\r\n        at be.contribute.atlassian.servlet.CreateTagServlet.getChangeset(CreateTagServlet.java:122) ~[na:na]\r\n        at be.contribute.atlassian.servlet.CreateTagServlet.doGet(CreateTagServlet.java:62) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:181) ~[sitemesh-2.5-atlassian-11.jar:na]\r\n        at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:85) ~[sitemesh-2.5-atlassian-11.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81) ~[na:na]\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:109) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) ~[classes/:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) ~[atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) ~[na:na]\r\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) ~[atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) ~[atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) ~[na:na]\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) ~[na:na]\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) ~[na:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) ~[na:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) ~[classes/:na]\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) ~[bitbucket-service-impl-4.7.1.jar:na]\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_66]\r\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]\r\n        ... 257 frames trimmed\r\n\r\n{code}\r\n\r\n\r\nLaying down a tag the old way (Tag this commit), still works fine.",
      "summary": "Tag creation conflicts with Tag Maker plugin: com.atlassian.bitbucket.commit.NoSuchCommitException"
    }
  },
  {
    "key": "BSERV-8882",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-10T22:38:34.000+0000",
      "created": "2016-06-22T07:29:56.000+0000",
      "description": "Attaching an image with a title like _Screenshot 2016-06-22 12.19.39.png_  (default OS X name for screenshots) in the PR description field will render it broken.\r\n\r\nSee attached video.\r\n\r\n*Env:*\r\nhttps://stash.atlassian.com/projects/DV/repos/dt-fileviewer/pull-requests/174/overview\r\nFooter: _Generated by stash-app-1.internal.atlassian.com (d7cfdead-083a-4e55-9b8b-f9fc10275c78). Cluster contains 2 nodes._",
      "summary": "Rendering issues when attaching images with spaces and other characters in PR's"
    }
  },
  {
    "key": "BSERV-8881",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T05:18:29.000+0000",
      "created": "2016-06-21T22:30:56.000+0000",
      "description": "h3. Summary\r\nUsing the Backup Client with Oracle JDBC driver 12.1.0.2 doesn't properly export the Active Objects tables trigger definitions.\r\n\r\nh3. Environment\r\n* Stash 3.11 and Bitbucket Server 4.7.1\r\n* Oracle Database 12c Enterprise Edition Release 12.1.0.2.0\r\n* Backup Client 1.9.1 and 2.0.0\r\n\r\nh3. Steps to Reproduce\r\n# Connect Bitbucket Server to an Oracle database\r\n# Replace the existing ojdbc7 driver from the {{<Bitbucket Server Installation>/lib}} folder with the 12.0.1.2.\r\n# Generate a backup using the Backup Client\r\n\r\nh3. Expected Results\r\nTrigger definitions for Active Object tables are exported. \r\nThis can be inspected by extracting the Backup tar file and browsing the {{active-objects-data.xml}} file.\r\nUsing the table {{AO_FB71B4_SSH_PUBLIC_KEY}} as an example, we would expect the {{autoIncrement}} attribute for the *ENTITY_ID column* definition (the primary key) set to *true*, as following:\r\n{code:xml|borderStyle=solid|borderColor=#6A8EB3|bgColor=#F8F8F8}\r\n  <table name=\"AO_FB71B4_SSH_PUBLIC_KEY\">\r\n    <column name=\"ENTITY_ID\" primaryKey=\"true\" autoIncrement=\"true\" sqlType=\"2\" precision=\"11\"/>\r\n    <column name=\"KEY_MD5\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"12\" precision=\"32\"/>\r\n    <column name=\"KEY_TEXT\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"2005\" precision=\"2147483647\"/>\r\n    <column name=\"LABEL\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"12\" precision=\"255\"/>\r\n    <column name=\"USER_ID\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"2\" precision=\"11\"/>\r\n  </table>\r\n{code}\r\n\r\nh3. Actual Results\r\nThe primary keys for the tables in the {{active-objects-data.xml}} file have their {{autoIncrement}} attribute set to false.\r\nUsing the previous example ({{AO_FB71B4_SSH_PUBLIC_KEY.ENTITY_ID}})\r\n{code:xml|borderStyle=solid|borderColor=#6A8EB3|bgColor=#F8F8F8}\r\n  <table name=\"AO_FB71B4_SSH_PUBLIC_KEY\">\r\n    <column name=\"ENTITY_ID\" primaryKey=\"true\" autoIncrement=\"false\" sqlType=\"2\" precision=\"11\"/>\r\n    <column name=\"KEY_MD5\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"12\" precision=\"32\"/>\r\n    <column name=\"KEY_TEXT\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"2005\" precision=\"2147483647\"/>\r\n    <column name=\"LABEL\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"12\" precision=\"255\"/>\r\n    <column name=\"USER_ID\" primaryKey=\"false\" autoIncrement=\"false\" sqlType=\"2\" precision=\"11\"/>\r\n  </table>\r\n{code}\r\n\r\n*Business Impact*\r\nRestoring this backup into a Bitbucket Server instance will result in the triggers not being created and several pieces of functionality to break. For instance, adding a new SSH key results in the following error:\r\n{noformat}\r\n2016-06-20 07:51:45,406 ERROR [http-nio-8443-exec-1] @1asbx471x222x1 user 10.16.5.228,172.17.42.1 \"POST /mvc/error500 HTTP/1.1\" c.a.s.i.web.ErrorPageController There was an unhandled exception loading [/stash/plugins/servlet/ssh/account/keys/add]\r\ncom.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:\r\nDatabase:\r\n\t- name:Oracle\r\n\t- version:Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\r\nWith the Partitioning and Automatic Storage Management options\r\n\t- minor version:1\r\n\t- major version:12\r\nDriver:\r\n\t- name:Oracle JDBC driver\r\n\t- version:12.1.0.2.0\r\n\r\njava.sql.SQLIntegrityConstraintViolationException: ORA-01400: cannot insert NULL into (\"STASH\".\"AO_FB71B4_SSH_PUBLIC_KEY\".\"ENTITY_ID\")\r\n{noformat}\r\n\r\nThe following other actions can also be impacted:\r\n\r\n* Build status' can not be updated/added\r\n* Branch permissions cannot be modified/created\r\n\r\nh3.Workaround\r\nUse the Oracle JDBC 12.1.0.1 driver to perform the backup.\r\nAlternatively, use the [DIY Backup|https://confluence.atlassian.com/display/BitbucketServer/Using+Bitbucket+Server+DIY+Backup].",
      "summary": "AO triggers are missing with the Backup Client when using Oracle JDBC driver 12.1.0.2"
    }
  },
  {
    "key": "BSERV-8880",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-21T20:02:07.000+0000",
      "created": "2016-06-21T18:04:36.000+0000",
      "description": "I think the repository-wide setting makes a lot of sense and see it as an advantage over GitHub's current feature set. But I can also see the case where you might want to automatic merge of pull requests for a development branch with a successful build, but then require manual approval and merge with more stable branches. Or perhaps you have a branch for which there isn't a meaningful build process so you want to disable the successful build requirement. ",
      "summary": "Allow per-branch Pull Request requirements"
    }
  },
  {
    "key": "BSERV-8879",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-15T07:53:27.000+0000",
      "created": "2016-06-21T10:38:59.000+0000",
      "description": "Recently we have upgraded our Bitbucket Server. With this upgrade we've also obtained the code search feature based on Elastic search. Our {{/data}} partition on our Ubuntu server now has grown from 58G to 131G due to the size of the Elastic indices of 73G.\r\n\r\nIs there a way to disable the search feature in total? Or wouldn't it a good idea to provide this option in the configuration?\r\n\r\nWouldn't it also be a good idea to have a settings section for code search on project and repository level? So it would be possible to disable indexing of a project or a repository?\r\n\r\nAdditionally, in some workflows forks can make up the bulk of the ES index. The ability to disable the indexing of forks would also decrease the index size for many setups.\r\n\r\nIn summary, this ticket suggests that Bitbucket Server implements:\r\n* Configuration option to disable indexing (and search) entirely\r\n* Configuration option to disable indexing of forks\r\n* Configuration option to disable indexing at a repository and project level",
      "summary": "Code search is inefficient with space when indexing forks"
    }
  },
  {
    "key": "BSERV-8878",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-21T06:29:17.000+0000",
      "description": "Try searching for pom.xml inside confluence cloud. I'd like the root level pom to be at the top instead of the bottom. I think it's just an alphabetical order today.",
      "summary": "File finder should sort by directory depth - shallow directory structures first"
    }
  },
  {
    "key": "BSERV-8877",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-20T18:40:13.000+0000",
      "created": "2016-06-20T12:14:50.000+0000",
      "description": "h3. Problem Definition\r\nAt startup Bitbucket opens two ports on localhost to interact with git processes.\r\n\r\nAs stated by [What are the ports listened by Bitbucket Server and what are they used for|https://confluence.atlassian.com/bitbucketserverkb/what-are-the-ports-listened-by-bitbucket-server-and-what-are-they-used-for-806029586.html]:\r\n\r\n{quote}\r\nThese ports are picked at random during startup. Basically, we just ask for an available port and use that. So, after a restart the ports might be different.\r\n{quote}\r\n\r\nIn case of security policies were the all the ports opened by a server should be monitored would be nice to have a way to configure these two ports to be fixed.\r\n\r\nh3. Suggested Solution\r\nExpose two extra configuration properties to set the values for these two ports.\r\nSomething like:\r\n{code:xml}\r\nplugin.bitbucket-git.transcoding.port=12345\r\nplugin.bitbucket-git.hook.callbacks.port=12346\r\n{code}\r\n ",
      "summary": "As an administrator I would like to be able to configure the ports Bitbucket opens for Git communication"
    }
  },
  {
    "key": "BSERV-8876",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-30T05:59:31.000+0000",
      "created": "2016-06-17T22:12:41.000+0000",
      "description": "When create a Pull Request with a conflict, if you click \"More Information\", then a dialog opens up with instructions to locally merge the feature branch into master, commit, and push to master along with a note that this will automatically mark the PR as merged.\r\n\r\nThis would totally circumvent the pull request and mark the PR as merged before it was done being reviewed.  Also, very likely the developer will not and should not have permission to push directly to the master branch.\r\n\r\nThis is not the workflow we want our engineers to follow.  Is there a way to customize these instructions on our local installation of Bitbucket.  Also we would humbly suggest Atlassian change these instructions to a workflow that does not require the developer to push directly to the master branch - either by merging/rebasing master into the feature branch (locally) or  by creating a conflict-resolution branch as described here: https://answers.atlassian.com/questions/39126202/answers/39126269",
      "summary": "Bad Bitbucket Pull Request Merge Conflict Instructions"
    }
  },
  {
    "key": "BSERV-8875",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-15T02:02:46.000+0000",
      "created": "2016-06-17T19:09:02.000+0000",
      "description": "Currently Smart Commits parses every commit message and executes any actions as the author of that commit. This means a malicious person given access to your codebase can act as another user for Smart Commit actions, and instances that don't have this level of trust in the people writing their code can't use Smart Commits.\r\n\r\nThis suggestion is to introduce an option that will only execute actions on commits where the author's email address matches the email address of the Bitbucket Server user doing the push.\r\n\r\nThis means a pusher can't maliciously attribute actions to others, but also means that if a pusher is the first person to push someone else's commits to Bitbucket Server, those commits will never have their actions run.\r\nh2. Workaround\r\n\r\nBitbucket Server 5.0 includes the [\"Verify committer\"\u00a0repository hook|https://confluence.atlassian.com/display/BitbucketServer/Bitbucket+Server+5.0+release+notes#BitbucketServer5.0releasenotes-Committerverification]\u00a0that ensures\u00a0all new\u00a0commits\u00a0are authored by the person pushing them. If you enable this hook, the pusher will not be able to perform actions on behalf of other users by faking commit data.\r\n\r\n\u00a0",
      "summary": "Smart Commits - only run actions from commits authored by the pusher"
    }
  },
  {
    "key": "BSERV-8874",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-17T15:04:47.000+0000",
      "description": "With the addition of ElasticSearch in 4.6.* by defualt this new software runs on the same server as Bitbucket Sever but there is no information about how much Memory, CPU, Disk, and Network resources are required to use ElasticSearch and Bitbucket on the same server.  \r\n\r\nServers have been optimized to balance JVM and scm-throttle to get the most from the sever but without some guidelines for ElasticSearch this could bring the entire environment to a halt\r\n\r\nFurther with Bitbucket Datacenter ElasticSearch has to be run from a separate server.  Enterprises have to plan far in advance to acquire the additional hardware needed and they need to know:\r\n- How many CPU's should the server have?\r\n-- Is Elastic search performance improved with additional CPU's?\r\n- How much Memory should the server be allocated?\r\n- How much Disk Space is Required?\r\n-- Does the disk space have to equal the amount of disk space consumed by the total of all repositories\r\n\r\nI was able to find this https://www.elastic.co/guide/en/elasticsearch/guide/current/hardware.html should this be considered the official source of ElasticSearch hardware requirements?  \r\n\r\nReading this document I believe that is is saying:\r\n- CPUs are not super critical\r\n- 16, 32, or 64GB of RAM instances are common\r\n\r\nNote: Because ElasticSearch knows nothing about Bitbucket and is used for indexing and searching of almost anything, there is no mention of hard disk capacity planning that is useful to Bitbucket Server admins.\r\n\r\nIf the above information is correct, it seems that even a small instance of Bitbucket Server on a Linux server with 8 CPUs, a Bitbucket JVM of 2048m, Git operations 8400m (if using the default scm-throttle), 16000m for ElasticSearch, and 2048m for base OS operations means that you need a minimum of 29GB of RAM.  \r\n\r\nOfficial guidance is needed",
      "summary": "Need to provide server sizing specification for ElasticSearch "
    }
  },
  {
    "key": "BSERV-8872",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-13T06:19:07.000+0000",
      "created": "2016-06-16T23:18:28.000+0000",
      "description": "h2. Summary\r\nIf a search in Bitbucket server contains no results a page is showed containing a link to learn more about our advanced features.\r\n !Screen Shot 2016-08-03 at 15.55.57.png|thumbnail!  \r\n\r\nh3. Problem\r\nThe link points to a non-existing page.\r\n\r\nh4. Case one:\r\nSome of the help links in Bitbucket Search point to \"go.atlassian.com\" short links, these should be replaced with proper documentation links.\r\n\r\nh4. Case two:\r\nOne link points to http://docs.atlassian.com/bitbucketserver/docs-048/help.search.guide?utm_campaign=in-app-help&utm_medium=in-app-help&utm_source=stash\r\nand when followed gives a {{Page Not Found}} result:\r\n!Screen Shot 2016-08-03 at 15.56.16.png|thumbnail! \r\n\r\nh3. Suggested Resolution\r\nThese links should be replaced with proper documentation links.\r\n\r\nIn addition, help links should be double checked to ensure they are relevant and correct.\r\n\r\n",
      "summary": "Update help links from Search to ensure they are correct"
    }
  },
  {
    "key": "BSERV-8871",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-21T03:45:45.000+0000",
      "created": "2016-06-16T19:39:22.000+0000",
      "description": "After Bitbucket Server documentation has been downloaded and imported into a local copy of Confluence in an air-gapped environment, provide a way to point all documentation links to this local copy.",
      "summary": "Configure Bitbucket Server to point documentation links to a local copy"
    }
  },
  {
    "key": "BSERV-8869",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-13T06:22:58.000+0000",
      "created": "2016-06-16T16:01:37.000+0000",
      "description": "From the navigation source menu, clicking on a file with contains space in its name will show an error in the source view stating for example\r\n\r\nbq. The path \"RAL_ABS%20Starmast.sql\" does not exist at revision \"master\"\r\n\r\nIn the diff to previous view, the Blame also shows an error.\r\n\r\nThe raw view works fine",
      "summary": "Files with name containing space cannot be viewed"
    }
  },
  {
    "key": "BSERV-8868",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-13T01:23:47.000+0000",
      "created": "2016-06-16T00:58:56.000+0000",
      "description": "h2. Atlassian update: 13-dec-2019\r\n\r\nThanks for your feedback on this suggestion.\u00a0[Bitbucket Server and Data Center 6.9|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-6-9-release-notes-980462706.html]\u00a0onwards if committer and author were different, both of their avatars will be displayed on the commit. Hovering on the avatar you will be able to see the committed/authored date.\r\nh2. Original description:\u00a0\r\nh3. Problem Definition\r\n\r\nAt the moment Bitbucket Server only shows the author in the UI.\r\n\r\nHowever, Git logs both author and committer. If you make a change and commit, you are both the author and committer. But if a developer cherry-picks a commit, the author is retained and the cherry-picking user will be recorded the committer. (The same is true for rebasing, or amending commits; by default authorship is retained and only the committer is updated.)\r\nh3. Suggested Solution\r\n\r\nShow both the author and the committer in the UI _when they are different_.\r\nh3. Workaround\r\n\r\nThere is no current workaround for seeing this information on Bitbucket Server.",
      "summary": "Show both author and committer information on Bitbucket Server UI"
    }
  },
  {
    "key": "BSERV-8867",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T05:50:37.000+0000",
      "created": "2016-06-15T23:35:37.000+0000",
      "description": "When SCM Cache entries expire or are evicted, the underlying cache entry file is deleted from disk.  Currently, if the file deletion fails (e.g., because another process is locking the file), we fall back on {{deleteOnExit()}} to clean up the file when the JVM terminates.  If file deletion failure is frequent and the JVM remains up for a very long time, this could lead to very many large files stuck in the {{$BITBUCKET_HOME/caches/scm}} directory, possibly contributing to running out of disk space which would require a restart to resolve.\r\n\r\nIf file deletion consistently fails due to some underlying OS problem, there's not much that can be done to free up more space.  But if the file deletion failure is due to an intermittent problem and may succeed if retried, Bitbucket Server should retry periodically rather than falling back on {{deleteOnExit()}}.  Either way, it should also log more information in the {{atlassian-bitbucket.log}} file to allow customers and Support to diagnose the problem more easily. ",
      "summary": "scm-cache: failure to delete underlying cache entry file (e.g., due to OS level error) needs to be cleaned up better"
    }
  },
  {
    "key": "BSERV-8866",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-22T06:55:10.000+0000",
      "created": "2016-06-15T21:02:47.000+0000",
      "description": "We are using workzone plugin for codereviews anad automerge. While auto merge, the page is getting refreshed which somehow triggers the Pull request merge(again via api)  \"Pull Request has already been merged\" error pops up in the UI. \r\n\r\nPasted the stack trace, from the error it looks like its not Workzone plugin issue. Can you please look into this.\r\n\r\n2016-06-15 16:56:52,453 DEBUG [pool-5-thread-1]  c.a.bitbucket.scm.BaseCommand Executed /etrade/sit-git-app-bitbucket/packages/git/bin/git log 971070bb916a3462beeaa72ec11a1b6ac68ee47f..2872275be5817d4c00e2873184627b41d94e01c3 --pretty=format:%H --shortstat --no-merges\r\n2016-06-15 16:56:52,453 WARN  [pool-5-thread-1]  c.s.b.g.idx.commits.ao.AoGraphsDao ((Diffs)) -> 14\r\n2016-06-15 16:56:52,457 WARN  [pool-5-thread-1]  c.s.b.g.idx.commits.ao.AoGraphsDao --> 4:\r\n2016-06-15 16:56:52,548 DEBUG [http-bio-8443-exec-13] kraju1 @1VGAGP4x1016x1813x0 ghwyr0 10.21.81.213 \"GET /rest/api/latest/projects/GIT/repos/gitflowfork/pull-requests/18/merge HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 409\r\ncom.atlassian.bitbucket.pull.IllegalPullRequestStateException: This pull request has already been merged.\r\n        at com.atlassian.stash.internal.pull.DefaultPullRequestService.checkIsOpen(DefaultPullRequestService.java:1050) ~[bitbucket-service-impl-4.5.1.jar:na]\r\n        at com.atlassian.stash.internal.pull.DefaultPullRequestService.canMerge(DefaultPullRequestService.java:267) ~[bitbucket-service-impl-4.5.1.jar:na]\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26) ~[atlassian-plugins-core-4.1.1.jar:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) ~[na:na]\r\n        at com.atlassian.stash.internal.rest.pull.PullRequestResource.canMerge(PullRequestResource.java:427) ~[bitbucket-rest-4.5.1.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) [applinks-plugin-5.0.5_1459832966000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) [applinks-plugin-5.0.5_1459832966000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) [applinks-plugin-5.0.5_1459832966000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) [applinks-plugin-5.0.5_1459832966000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) [applinks-plugin-5.0.5_1459832966000.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:89) [atlassian-connect-plugin-1.1.70-bitbucket-01.jar:na]\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:109) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [classes/:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1459800554000.jar:na]\r\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:122) [atlassian-connect-plugin-1.1.70-bitbucket-01.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.oauth.OAuth2LOFilter.doFilter(OAuth2LOFilter.java:82) [atlassian-connect-plugin-1.1.70-bitbucket-01.jar:na]\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) [jwt-plugin-1.5.5_1459832966000.jar:na]\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) [analytics-client-5.2.1_1459832966000.jar:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.1_1459832966000.jar:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) [classes/:na]\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) [bitbucket-service-impl-4.5.1.jar:na]\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) [classes/:na]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_40]\r\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]\r\n        ... 279 frames trimmed\r\n2016-06-15 16:56:52,667 DEBUG [http-bio-8443-exec-13] kraju1 @1VGAGP4x1016x1821x2 ghwyr0 10.21.81.213 \"GET /rest/jira/latest/projects/GIT/repos/gitflowfork/pull-requests/18/issues HTTP/1.1\" c.a.b.i.i.j.DefaultJiraIssueService Bitbucket has not been linked to JIRA\r\n2016-06-15 16:56:52,699 DEBUG [http-bio-8443-exec-19] kraju1 @1VGAGP4x1016x1823x1 ghwyr0 10.21.81.213 \"GET /rest/api/latest/inbox/pull-requests/count HTTP/1.1\" c.a.s.i.rest.inbox.InboxResource Retrieving pull request count for user",
      "summary": "Pull Request has already been merged"
    }
  },
  {
    "key": "BSERV-8865",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-16T04:38:19.000+0000",
      "created": "2016-06-15T20:38:36.000+0000",
      "description": "it would be awesome to have a plugin that would render jupyter notebooks inside bitbucket server.",
      "summary": "Jupyter notebook rendering plugin"
    }
  },
  {
    "key": "BSERV-8864",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-26T23:37:58.000+0000",
      "created": "2015-11-10T01:51:18.000+0000",
      "description": "I tried to set up a mirror with the name \"Tetaumatawhakatangihangakoauaotamateaurehaeaturipukapihimaungahoronukupokaiwhenuaakitanarahu Mirror\", and it stayed stuck indefinitely on \"Attempting to contact ...\"",
      "summary": "Mirror registration hangs if Mirror Name is too long"
    }
  },
  {
    "key": "BSERV-8862",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-14T22:56:25.000+0000",
      "description": "Similar to how Github provides a folder view of the commit history of a repository:\r\n\r\nExamples:\r\nhttps://github.com/spotify/docker-maven-plugin/commits/master/src/main/java/com/spotify/docker\r\nhttps://github.com/spotify/docker-maven-plugin/commits/master/src/main/resources/META-INF/plexus",
      "summary": "Add a feature to show the commit history in a folder view"
    }
  },
  {
    "key": "BSERV-8861",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-14T21:15:23.000+0000",
      "description": "If during the Bitbucket Server installer wizard an incorrect setting is configured (for example, wrong installation or data directory selected), or if someone just wants to stop using Bitbucket Server for whatever reason, there should be documentation explaining the changes the installer makes, and how to reset to a clean state. See the original description below for some of the elements that should be covered.\r\n\r\nOriginal suggestion:\r\nIf during the Bitbucket Server installer wizard an incorrect setting is configured (for example, wrong installation or data directory selected), or if someone just wants to stop using Bitbucket Server for whatever reason, there should be an uninstaller to facilitate the process.\r\nThe uninstaller should:\r\n* Check if the instance is still running and ask the user to confirm they want to stop it\r\n* Delete the installation directory\r\n* Ask if the data directory should also be deleted\r\n* Ask if the database schema should also be dropped, if using an external database\r\n* Delete the dedicated system user {{atlbitbucket}} that gets created when the product is installed as service, or at least offer an option to do so.\r\n\r\nh3. Workaround\r\nRefer to the [How to Uninstall Bitbucket Server|https://confluence.atlassian.com/bitbucketserverkb/how-to-uninstall-bitbucket-server-828789036.html] article covering this topic for Bitbucket Server hosted on a Linux and Windows Server.",
      "summary": "Document how to uninstall Bitbucket Server/Data Center"
    }
  },
  {
    "key": "BSERV-8860",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-14T19:01:58.000+0000",
      "description": "If there is a way to indicate the current status of the index.. or the queue for documents/commits waiting to be indexed.\r\n\r\nI know it should be magically and instantaneous :), but with 2000+ developers and 5000+ repos i need a little more to make sure i know what to say to developers when they say search results are not reflecting their commits.\r\n\r\nBonus points if there is a way (admin or project admin) to 'touch' a repo, to force it to be reindexed :)\r\n\r\n  ",
      "summary": "Show search index status"
    }
  },
  {
    "key": "BSERV-8859",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-14T15:01:00.000+0000",
      "description": "One of the feature I think is missing in BitBucket Server is the ability to browse the source tree at a specific commit.\r\n\r\nSo I know the commit hash and I am viewing the modifications of that commit. What if I like to browse the repo at that time in the history?\r\nCurrently I have to click on \"Source\" navigation button and manually edit the url, because\r\n\r\n/path/to/repo/browse?at=hash\r\n\r\nworks fine.\r\n\r\nI would like to ask Atlassian to implement three simple helper features in the UI code:\r\n\r\n1. (Taken from GitHub): if I enter the branch dropdown and enter a hash, be able to see the repository at that time of the history\r\n2. A quick link to the above by the Commit view menu\r\n3. Create a branch from a commit. I don't necessarily want to branch from another branch or a tag. Maybe I want to branch a specific commit. It's easy to do it locally and then pushing, easier to do it from the UI\r\n\r\n\r\nRelated: BSERV-7018",
      "summary": "Browse entire source repo, or create a branch, \"at\" a commit"
    }
  },
  {
    "key": "BSERV-8858",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-19T06:08:46.000+0000",
      "created": "2016-06-14T03:05:13.000+0000",
      "description": "If a directory is replaced with a file in a Git repository, then browsing to that file in the Source view can fail with the following error:\r\n\r\n!Screen Shot 2016-06-14 at 1.02.57 pm.png|width=600!\r\n\r\n{noformat}\r\n2016-06-14 02:49:29,574 ERROR [http-nio-7990-exec-4] crolf *1WGNRDAx169x247673x0 1pw1tb0 172.22.44.80,172.25.1.225 \"GET /projects/TEST/repos/testlog/browse/dir HTTP/1.1\" c.a.s.i.w.HandlerExceptionResolverImpl An error occurred while executing an external process: [D      dir/README.md]: Unexpected output; expected a 'commit' object\r\n{noformat}\r\n\r\nThere may also be other situations (e.g., involving Git submodules) that fail with a similar error. ",
      "summary": "\"Unexpected output; expected a 'commit' object\" error in source view when a directory is replaced by a file of the same name"
    }
  },
  {
    "key": "BSERV-8857",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-15T05:10:49.000+0000",
      "created": "2016-06-14T01:40:27.000+0000",
      "description": "Reproducible in Firefox. Not reproducible in Chrome.\r\nNot sure about IE.\r\n\r\n*Steps to reproduce:*\r\n\r\n* Open a PR page and scroll down a bit ([example|https://bitbucket.org/atlassian/tenant-provisioning/pull-requests/3/vpp-870-ensure-provisioning-event-listen/diff]).\r\n* Refresh the page.\r\n\r\nCheck attached image for details.",
      "summary": "Sidebar overlapping on refresh"
    }
  },
  {
    "key": "BSERV-8856",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T03:43:41.000+0000",
      "created": "2016-06-13T20:36:54.000+0000",
      "description": "There is a spelling error in the imports for the \"Controlling when pull requests can be merged\" tutorial. {{atlassain}} should be {{atlassian}}.",
      "summary": "Incorrect import in merge request check documentation"
    }
  },
  {
    "key": "BSERV-8853",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-10T13:22:14.000+0000",
      "description": "As code search is now available in the latest versions of Bitbucket Server, it would be great if plugin developers could interact with the search index like:\r\n\r\n* programmatically search for code\r\n* index custom content provided by the plugin\r\n* search for custom content from the plugin\r\n\r\nExample: Our [Snippets add-on|https://marketplace.atlassian.com/plugins/com.simplenia.stash.plugins.snippets] stores code snippets in the database. It would be great if we could index the content of those snippets and later search for them by using the search index.\r\n\r\n",
      "summary": "As a plugin developer I would like to index custom content in Elastic Search"
    }
  },
  {
    "key": "BSERV-8852",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-05T06:43:24.000+0000",
      "created": "2016-06-10T10:22:38.000+0000",
      "description": "When adding text to a previously empty file, Bitbucket offers a side-by-side diff. This is empty and has confused our users.\r\n\r\nBitbucket already refuses to show a side-by-side diff for new files, so it should do the same thing here.\r\n\r\nSee attached screenshots.",
      "summary": "Side-by-side diff does not work when adding lines to empty files"
    }
  },
  {
    "key": "BSERV-8851",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-30T05:30:20.000+0000",
      "created": "2016-06-10T07:57:20.000+0000",
      "description": "Please allow to specify STASH_HOOK_ADDRESS via bitbucket.properties file or via environment variable. How it call ServerSocket to get local host address. And if it return IPv6 address Perl hook fail on line:\r\n{code}\r\nmy $socket = new IO::Socket::INET\r\n{code}\r\n\r\nIt should be replaced to:\r\n{code}\r\nmy $socket = new IO::Socket::INET6\r\n{code}\r\n(also added use IO::Socket::INET6; at top of hook-callback.pl)\r\n\r\nThe trouble is in that this file autogenerated on each bitbucket restart, and you should make changed after each restart.",
      "summary": "Post-receive hooks should support IPv6 environment"
    }
  },
  {
    "key": "BSERV-8850",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-15T05:33:18.000+0000",
      "created": "2016-06-10T07:50:50.000+0000",
      "description": "{code}\r\n2016-06-10 10:37:00,079 ERROR [catalina-exec-7] user @1AKMY1Hx636x6570x15 pnd2r0 2a02:6b8:0:6::1:36,127.0.0.1 \"GET /projects/PROJECT/repos/repo/browse/a/b/c.txt HTTP/1.0\" c.a.s.i.w.HandlerExceptionResolverImpl null\r\njava.lang.NullPointerException: null\r\n        at com.atlassian.stash.internal.web.repos.RepositoryController.handleFile(RepositoryController.java:504) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.repos.RepositoryController.browseFilePath(RepositoryController.java:313) ~[classes/:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.1.1_1465362164000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.1.1_1465362164000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.1.1_1465362164000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.1.1_1465362164000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.1.1_1465362164000.jar:na]\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:109) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [classes/:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1465362164000.jar:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1465362164000.jar:na]\r\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) [atlassian-connect-plugin-1.1.86-bitbucket-04.jar:na]\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) [jwt-plugin-1.5.11-0002_1465362164000.jar:na]\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) [analytics-client-5.2.1_1465362164000.jar:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.1_1465362164000.jar:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) [classes/:na]\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_92]\r\n{code}",
      "summary": "NPE in com.atlassian.stash.internal.web.repos.RepositoryController.handleFile"
    }
  },
  {
    "key": "BSERV-8849",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-09T23:44:26.000+0000",
      "created": "2016-06-09T23:00:21.000+0000",
      "description": "Requesting these two options:\r\n\r\n1. Under \u201cMy Pull Requests\u201d have a tab listing declined pull requests.\r\n\r\n2. Allow sorting/filtering by Author in the all pull requests view.\r\n",
      "summary": "It is currently very inconvenient to find a declined pull request, the reviewer or for the author."
    }
  },
  {
    "key": "BSERV-8848",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-16T04:54:52.000+0000",
      "created": "2016-06-09T20:16:56.000+0000",
      "description": "In BitBucket 4.6.1, if I want to add a commit to an open pull request I have to decline and re-open the PR. In the case where I need to make multiple changes this adds a lot of noise to the PR. See the attached screenshot for a real-world example of the noise.\r\n\r\nI would like to have to the option to add commits without having to decline and re-open the PR.",
      "summary": "Allow users to add commits to a open pull request"
    }
  },
  {
    "key": "BSERV-8847",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-11T09:55:06.000+0000",
      "created": "2016-06-09T16:17:57.000+0000",
      "description": "Feature request.\r\nUsing Bitbucket repository 4.3.2. \r\nWe have repositories where the readme.txt overview is at the bottom due to the number of files that are alphabetically prior to \"r\". The user has to scroll down the repository to find the readme.txt overview. Is there a way to put the readme.txt at the top of the file list?",
      "summary": "Readme.txt overview displayed at top of repository contents"
    }
  },
  {
    "key": "BSERV-8846",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-15T04:45:23.000+0000",
      "created": "2016-06-09T07:00:01.000+0000",
      "description": "h3. Summary\r\n\r\nWhen manually installing Elasticsearch bundled with Bitbucket Server as a Windows service, the service is not installed.\r\nh3. Environment\r\n * Windows as operating system\r\n\r\nh3. Steps to Reproduce\r\n # Browse to the {{<Bitbucket installation directory>\\elasticsearch\\bin}} folder\r\n # Run the {{service.bat install}} command\r\n\r\nh3. Expected Results\r\n\r\nThe Elasticsearch service is successfully installed.\r\nh3. Actual Results\r\n\r\nThe Elasticsearch service is not installed, the following message is presented:\r\n{noformat}\r\nThe system cannot find the file specified.\r\nThe service 'atlbitbucket-elasticsearch-x64' has been installed.\r\n{noformat}\r\nNote: even if the message says that the service has been installed, it has not been installed.\r\nh3. Notes\r\n\r\nFor the issue related to the incorrect user when the Windows Service is installed using the installer, please refer to: https://jira.atlassian.com/browse/BSERV-8804\r\nh3. Workaround\r\n\r\nRemove the {{--ServiceUser <SERVICE_USER> --ServicePassword <SERVICE_PASSWORD>}} string from the line 166 in the {{service.bat}} file, and run the {{service.bat install}} command again.\r\nThis is how the line 166 in the {{service.bat}} file should look like:\r\n{noformat}\r\n\"%EXECUTABLE%\" //IS//%SERVICE_ID% --Startup %ES_START_TYPE% --StopTimeout %ES_STOP_TIMEOUT% --StartClass org.elasticsearch.bootstrap.Elasticsearch --StopClass org.elasticsearch.bootstrap.Elasticsearch --StartMethod main --StopMethod close --Classpath \"%ES_CLASSPATH%\" --JvmSs %JVM_SS% --JvmMs %JVM_XMS% --JvmMx %JVM_XMX% --JvmOptions %JVM_OPTS% ++JvmOptions %ES_PARAMS% %LOG_OPTS% --PidFile \"%ES_HOME%\\bin\\elasticsearch.pid\" --DisplayName \"Atlassian Bitbucket Elasticsearch %ES_VERSION% (%SERVICE_ID%)\" --Description \"Atlassian Bitbucket Elasticsearch %ES_VERSION% Windows Service - http://elasticsearch.org\" --Jvm \"%JAVA_HOME%%JVM_DLL%\" --StartMode jvm --StopMode jvm --StartPath \"%ES_HOME%\" ++StartParams start\r\n{noformat}",
      "summary": "When manually installing Elasticsearch bundled with Bitbucket Server as a Windows service, the service is not installed"
    }
  },
  {
    "key": "BSERV-8845",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-15T05:09:10.000+0000",
      "created": "2016-06-09T06:14:05.000+0000",
      "description": "Hi!\r\n\r\nCant use the very cool feature of bitbucket we really need - code comment, cause russian text displayed wrong. In only 1 place - in commit code comments, but is ok in side-by-side diff or code listing =( \r\n\r\nSee attachment!\r\n\r\nIf you have access to private repos, you can check \r\nhttps://bitbucket.org/brgtestteam/tb/commits/4ec027fbab3435c7304591e2c1116bb7d1d5d213?at=master\r\n\r\nPS. See simular bug in sorcetree https://jira.atlassian.com/browse/SRCTREEWIN-5733",
      "summary": "Russian ansi content displayed wrong"
    }
  },
  {
    "key": "BSERV-8844",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-27T05:26:57.000+0000",
      "created": "2016-06-02T04:01:56.000+0000",
      "description": "In Stash Data Center and Bitbucket Data Center versions up to and including 4.7, the comment drift processor uses a Spring {{Cache}} ({{DriftCommentUpdateProcessor.failedAttemptsCache}}) backed by a Hazelcast {{IMap}} to record a count of failed comment drift attempts cluster-wide.  In Bitbucket Data Center 4.8.0 and higher, this {{IMap}}-backed {{Cache}} has been eliminated, and the count is maintained in the DB record directly.  This eliminates some synchronous remote calls between cluster nodes, improving reliability and performance in situations where a remote cluster node is slow or unresponsive. ",
      "summary": "Eliminate IMap-backed Cache in DriftCommentUpdateProcessor"
    }
  },
  {
    "key": "BSERV-8843",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-09T01:12:04.000+0000",
      "created": "2016-06-09T00:55:11.000+0000",
      "description": "After several hours researching I found a 1 line solution to help new users setup BitBucket.\r\n\r\nI suggest adding information to this documentation page:\r\nhttps://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-postgresql-776640389.html\r\n\r\nSuggestion:\r\nConnect Bitbucket Server to the PostgreSQL database\r\nHostname: 127.0.0.1",
      "summary": "Update documentation with TIP"
    }
  },
  {
    "key": "BSERV-8842",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-09T00:23:30.000+0000",
      "created": "2016-06-08T20:39:43.000+0000",
      "description": "*Error*\r\n\r\nWhen we open some files in the UI it returns 500.\r\nAfter analysing the logs we found that the error was:\r\n\r\n\"HTTP/1.0\" c.a.s.i.w.s.f.AvatarUrlFunction Error getting avatar URL for null\r\njava.lang.NullPointerException: person\"\r\n\r\nAnd we assumed that this happens when bitbucket is fetching for the avatar of the person that committed on the file.\r\n\r\n*Cause:*\r\nThis is happening with files that were merge from another repository but their history was not kept. So they only have the merge commit. However the command that bitbucket uses to get the commits in the UI is git log --follows and this command ignores the merge commits. \r\nSo in the case of those files it returns null (this explains the error).\r\n\r\nIf we add a new commit to those files git log --follow works and there is no 500 anymore\r\n\r\nthank you :)",
      "summary": "Bitbucket error 500 on files that only have the merge commit"
    }
  },
  {
    "key": "BSERV-8841",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-27T06:46:13.000+0000",
      "created": "2016-06-08T18:47:00.000+0000",
      "description": "I would like to enter a product request to have the ability to integrate Okta and Bitbucket similar to Confluence and Jira for SAML SSO 2.0",
      "summary": "SAML SSO 2.0 for Okta"
    }
  },
  {
    "key": "BSERV-8840",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-08T20:37:13.000+0000",
      "created": "2016-06-08T15:48:53.000+0000",
      "description": "When in a stash, it would be really beneficial (especially when you have multiples) to know all the files which exist in the stash\r\n\r\nAlso it might be useful for terminal use to display the the stash's commit id too. I recently had an issue I was debugging where I needed the commit id",
      "summary": "List files within a stash"
    }
  },
  {
    "key": "BSERV-8839",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-08T12:04:32.000+0000",
      "description": "It would be nice to query for commits by date/time ranges (like the \"git log\" command line) using the REST API.\r\n\r\nThe current REST API commits endpoint takes \"since\" and \"until\" parameters, but does not accept dates or times as far as I can tell (just commit IDs, ref names, etc.)",
      "summary": "Ability to retrieve commits by date/time range via the REST API"
    }
  },
  {
    "key": "BSERV-8838",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-22T02:06:03.000+0000",
      "created": "2016-06-08T11:55:14.000+0000",
      "description": "h3. Summary\r\nUsers are using Gravatar as profile image, this is working absolutely fine on the instance itself. The issue is when the notification sent to email client, the image is not loaded as in the instance or from Gravatar.\r\n\r\nh3. Steps to reproduce\r\n# Assigned users with active Gravatar email to load profile image with Gravatar image.\r\n# Create pull request, add reviewers to the pull request. \r\n# Auto notification to users emails.\r\n\r\nh3. Expected results\r\nTo able to view email receive with user profile image or Gravatar image.\r\n\r\nh3. Actual results\r\nView in Stash\r\n !Screenshot g2.png|thumbnail! \r\n\r\nEmail at email client\r\n !Screenshot g1.png|thumbnail! \r\n\r\nh3. Hard coded changes on email client\r\n !Screenshot g3.png|thumbnail! ",
      "summary": "Email received in client email does not show gravatar image."
    }
  },
  {
    "key": "BSERV-8836",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-08T05:44:22.000+0000",
      "created": "2016-06-08T05:28:25.000+0000",
      "description": "h3. Summary\r\nNew installations of the JIRA integration (and other connect addons) will fail because of a bug in the schema validation for the post install redirect module. This will impact other addons who use this functionality.\r\n\r\nh3. Expected Results\r\nBitbucket integrates with JIRA successfully.\r\n\r\nh3. Actual Results\r\n!Screenshot1.jpeg|thumbnail!\r\n \r\nh3. Notes\r\nThis only impacts new installations, existing installations will work fine.\r\n\r\nh3.Workaround\r\nNo workaround at the moment",
      "summary": "Schema validation is causing bitbucket connect addons (i.e. JIRA integration) to fail installation if they use a post install redirect url"
    }
  },
  {
    "key": "BSERV-8835",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-08T03:07:45.000+0000",
      "description": "After implementing BSERV-3854, we can use substrings for code/repository search.\r\n\r\nFor example,\r\n\r\n* We can find repositories like \"apple banana\", \"banana cat\" with a keyword \"banana\"\r\n* We can find methods like \"appleBanana\", \"bananaCat\" in codes with a keyword \"banana\"\r\n\r\nHowever, in some cases, we want to search them in the following way.\r\n\r\n* Search functions like \"applebanana\", \"bananacat\" in codes with a keyword \"banana\"\r\n\r\nAt this moment, Bitbucket Server doesn't allow us to do search in that way.\r\n\r\nI'd appreciate if you guys would consider this partial matching feature.\r\nAdditionally, when implementing this feature, please apply the fix not only to English but also to other languages containing multibyte characters as well.\r\n\r\nRegards,\r\nYuki",
      "summary": "Allow us to use partial matching in code/repository search"
    }
  },
  {
    "key": "BSERV-8834",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-10-04T03:14:06.000+0000",
      "created": "2016-06-08T02:22:05.000+0000",
      "description": "h3. Summary\r\n403 error occurred when pushing LFS files to a public repository with HTTP protocol.\r\n\r\nh3. Steps to Reproduce\r\n# Create a repository\r\n# Allow LFS and make the repository public\r\n# Clone the repository to local with the following URL\r\n#* [http://<BASE_URL>/scm/<PROJECT>/<REPOSITORY>.git]\r\n#* Don't include Bitbucket Server username in the URL like [http://<USERNAME>@<BASE_URL>/scm/<PROJECT>/<REPOSITORY>.git]\r\n# Execute the following commands on your local\r\n{code}\r\n$ git lfs track \"*.txt\"\r\n$ touch test.txt\r\n$ git add .gitattributes test.txt\r\n$ git commit -a -m \"test\"\r\n$ GIT_CURL_VERBOSE=1 git push\r\n{code}\r\n\r\nh3. Expected Results\r\nPush command should ask me to input credentials and succeed in case we input them correctly.\r\n\r\nh3. Actual Results\r\nPush command failed as follows.\r\n\r\n{noformat}\r\nwarning: push.default is unset; its implicit value has changed in\r\nGit 2.0 from 'matching' to 'simple'. To squelch this message\r\nand maintain the traditional behavior, use:\r\n\r\n  git config --global push.default matching\r\n\r\nTo squelch this message and adopt the new behavior now, use:\r\n\r\n  git config --global push.default simple\r\n\r\nWhen push.default is set to 'matching', git will push local branches\r\nto the remote branches that already exist with the same name.\r\n\r\nSince Git 2.0, Git defaults to the more conservative 'simple'\r\nbehavior, which only pushes the current branch to the corresponding\r\nremote branch that 'git pull' uses to update the current branch.\r\n\r\nSee 'git help config' and search for 'push.default' for further information.\r\n(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode\r\n'current' instead of 'simple' if you sometimes use older versions of Git)\r\n\r\n* Couldn't find host 192.168.33.20 in the .netrc file; using defaults\r\n* Hostname was NOT found in DNS cache\r\n*   Trying 192.168.33.20...\r\n* Connected to 192.168.33.20 (192.168.33.20) port 7990 (#0)\r\n> GET /scm/test/test.git/info/refs?service=git-receive-pack HTTP/1.1\r\nUser-Agent: git/2.3.2 (Apple Git-55)\r\nHost: 192.168.33.20:7990\r\nAccept: */*\r\nAccept-Encoding: gzip\r\nPragma: no-cache\r\n\r\n< HTTP/1.1 401 Unauthorized\r\n* Server Apache-Coyote/1.1 is not blacklisted\r\n< Server: Apache-Coyote/1.1\r\n< X-AREQUESTID: @G03ZRHx1355x848x0\r\n< X-ASEN: SEN-L7921887\r\n< X-XSS-Protection: 1; mode=block\r\n< X-Frame-Options: SAMEORIGIN\r\n< X-Content-Type-Options: nosniff\r\n< WWW-Authenticate: Basic realm=\"Atlassian Bitbucket\"\r\n< Transfer-Encoding: chunked\r\n< Date: Mon, 06 Jun 2016 22:35:44 GMT\r\n<\r\n* Connection #0 to host 192.168.33.20 left intact\r\n* Couldn't find host 192.168.33.20 in the .netrc file; using defaults\r\n* Found bundle for host 192.168.33.20: 0x7faf9841f3a0\r\n* Hostname was found in DNS cache\r\n*   Trying 192.168.33.20...\r\n* Connected to 192.168.33.20 (192.168.33.20) port 7990 (#1)\r\n> GET /scm/test/test.git/info/refs?service=git-receive-pack HTTP/1.1\r\nUser-Agent: git/2.3.2 (Apple Git-55)\r\nHost: 192.168.33.20:7990\r\nAccept: */*\r\nAccept-Encoding: gzip\r\nPragma: no-cache\r\n\r\n< HTTP/1.1 401 Unauthorized\r\n* Server Apache-Coyote/1.1 is not blacklisted\r\n< Server: Apache-Coyote/1.1\r\n< X-AREQUESTID: @G03ZRHx1355x849x0\r\n< X-ASEN: SEN-L7921887\r\n< X-XSS-Protection: 1; mode=block\r\n< X-Frame-Options: SAMEORIGIN\r\n< X-Content-Type-Options: nosniff\r\n< WWW-Authenticate: Basic realm=\"Atlassian Bitbucket\"\r\n< Transfer-Encoding: chunked\r\n< Date: Mon, 06 Jun 2016 22:35:44 GMT\r\n<\r\n* Ignoring the response-body\r\n* Connection #1 to host 192.168.33.20 left intact\r\n* Issue another request to this URL: 'http://192.168.33.20:7990/scm/test/test.git/info/refs?service=git-receive-pack'\r\n* Couldn't find host 192.168.33.20 in the .netrc file; using defaults\r\n* Found bundle for host 192.168.33.20: 0x7faf9841f3a0\r\n* Re-using existing connection! (#1) with host 192.168.33.20\r\n* Connected to 192.168.33.20 (192.168.33.20) port 7990 (#1)\r\n* Server auth using Basic with user 'admin1'\r\n> GET /scm/test/test.git/info/refs?service=git-receive-pack HTTP/1.1\r\nAuthorization: Basic YWRtaW4xOnNwaGVyZQ==\r\nUser-Agent: git/2.3.2 (Apple Git-55)\r\nHost: 192.168.33.20:7990\r\nAccept: */*\r\nAccept-Encoding: gzip\r\nPragma: no-cache\r\n\r\n< HTTP/1.1 200 OK\r\n* Server Apache-Coyote/1.1 is not blacklisted\r\n< Server: Apache-Coyote/1.1\r\n< X-AREQUESTID: @G03ZRHx1355x850x0\r\n< X-ASEN: SEN-L7921887\r\n< X-AUSERID: 1\r\n< X-AUSERNAME: admin1\r\n< X-XSS-Protection: 1; mode=block\r\n< X-Frame-Options: SAMEORIGIN\r\n< X-Content-Type-Options: nosniff\r\n< Expires: Fri, 01 Jan 1980 00:00:00 GMT\r\n< Pragma: no-cache\r\n< Cache-Control: no-cache, max-age=0, must-revalidate\r\n< Content-Type: application/x-git-receive-pack-advertisement\r\n< Transfer-Encoding: chunked\r\n< Date: Mon, 06 Jun 2016 22:35:44 GMT\r\n<\r\n* Connection #1 to host 192.168.33.20 left intact\r\n> POST /scm/test/test.git/info/lfs/objects/batch HTTP/1.1\r\n> Host: 192.168.33.20:7990\r\n> Accept: application/vnd.git-lfs+json; charset=utf-8\r\n> Content-Type: application/vnd.git-lfs+json; charset=utf-8\r\n> User-Agent: git-lfs/1.1.0 (GitHub; darwin amd64; go 1.5.1)\r\n>\r\n{\"objects\":[{\"oid\":\"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\",\"size\":0}],\"operation\":\"upload\"}\r\n\r\n< HTTP/1.1 403 Forbidden\r\n< Transfer-Encoding: chunked\r\n< Content-Type: application/vnd.git-lfs+json\r\n< Date: Mon, 06 Jun 2016 22:35:44 GMT\r\n< Server: Apache-Coyote/1.1\r\n< X-Arequestid: @G03ZRHx1355x851x0\r\n< X-Asen: SEN-L7921887\r\n< X-Content-Type-Options: nosniff\r\n< X-Frame-Options: SAMEORIGIN\r\n< X-Xss-Protection: 1; mode=block\r\n<\r\nGit LFS: (0 of 1 files) 0 B / 0 B                                                                                                                                                                          You are not permitted to access this resource: Access is denied\r\nerror: failed to push some refs to 'http://192.168.33.20:7990/scm/test/test.git'\r\n{noformat}\r\n \r\nh3. Notes\r\n* After the *Step 3*, if you try {{git lfs env}} command, you can see the following information\r\n{noformat}\r\nEndpoint=http://192.168.33.20:7990/scm/test/test.git/info/lfs (auth=none)\r\n{noformat}\r\n* If you make the repository private, push command succeeded as expected\r\n* Once your push command succeeded, *even if you make the repository public again, delete the repository on your local and clone it* , the push command will succeed\r\n*- Then, {{git lfs env}} showed the following information\r\n{noformat}\r\nEndpoint=http://192.168.33.20:7990/scm/test/test.git/info/lfs (auth=basic)\r\n{noformat}\r\n\r\nh3.Workaround\r\nClone the repository with the following URL instead and just add, commit, push the files as usual.\r\n[http://<USER>@<BASE_URL>/scm/<PROJECT>/<REPOSITORY>.git]",
      "summary": "403 error occured when pushing LFS files to a public repository with HTTP protocol"
    }
  },
  {
    "key": "BSERV-8833",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-08T00:20:32.000+0000",
      "description": "At present we have Bitbucket server partly controlling workflow in Jira. However there is no trigger when a pull request is marked 'NEEDS WORK' by a reviewer. We request a trigger when this occurs so that an issue in jira can be transitioned from our Code review state back to our Needs more work state.",
      "summary": "Create Jira trigger for NeedsWork State for Pull request"
    }
  },
  {
    "key": "BSERV-8832",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-08T05:19:56.000+0000",
      "created": "2016-06-07T22:05:20.000+0000",
      "description": "We ran into an issue where a pushing a deletion of master allowed a plugin to run, mirroring the deletion to Subversion, before the push was rejected.\r\n\r\nremote: Fetching revisions from SVN repository:\r\nremote:   up to date\r\nremote: Sending commits to SVN repository:\r\nremote: Sync completed successfully\r\nremote: error: By default, deleting the current branch is denied, because the next\r\nremote: error: 'git clone' won't result in any file checked out, causing confusion.\r\nremote: error:\r\nremote: error: You can set 'receive.denyDeleteCurrent' configuration variable to\r\nremote: error: 'warn' or 'ignore' in the remote repository to allow deleting the\r\nremote: error: current branch, with or without a warning message.\r\nremote: error:\r\nremote: error: To squelch this message, you can set it to 'refuse'.\r\nremote: error: refusing to delete the current branch: refs/heads/master\r\nTo [remote url]\r\n ! [remote rejected]   master (deletion of the current branch prohibited)\r\nerror: failed to push some refs to '[remote url]'\r\n\r\nAfter this, the repository can no longer be viewed through the Web interface due to the repository being in a detached HEAD state.\r\n\r\nAttempting the same deletion push to master of a repository that is not synchronized shows the expected behavior: the push is rejected and the repository state appears unchanged.\r\n\r\nPerhaps this is really an issue with the plugin?\r\n",
      "summary": "SubGit plugin runs when push is rejected"
    }
  },
  {
    "key": "BSERV-8831",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-07T19:37:32.000+0000",
      "created": "2016-06-07T18:12:18.000+0000",
      "description": "Currently the merge-commit comment resulting from a pull request is the *Description* field of the PR.  In order to make tracking merge-commits back to PRs easier, the merge-commit comment should come from the *Title* field of the PR.",
      "summary": "Pull request merge commit comment should be the PR Title"
    }
  },
  {
    "key": "BSERV-8830",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-16T04:55:17.000+0000",
      "created": "2016-06-07T14:21:51.000+0000",
      "description": "*Rating*: :( Bad\n\n{panel:title=What do you like?|borderColor=#ccc| titleBGColor=#c2ffa2|bgColor=#fff}\n-\n{panel}\n\n{panel:title=What needs to be improved?|borderColor=#ccc| titleBGColor=#faacad|bgColor=#fff}\nRepository, which is mentioned in the first paragraph, uses old school Stash API. Should be updated to Bitbucket API.\n{panel}\n\n*Reporter*: Alexey\n*E-mail*: [mailto:alexey@belan.su]",
      "summary": "-"
    }
  },
  {
    "key": "BSERV-8829",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-07T08:09:25.000+0000",
      "created": "2016-06-07T07:44:15.000+0000",
      "description": null,
      "summary": "Support Postgres 9.5"
    }
  },
  {
    "key": "BSERV-8828",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-02T16:07:45.000+0000",
      "description": "If a user is upgrading an existing instance for Data Center, we tell them to follow the standard Bitbucket Server upgrade guide.\r\n\r\nWhen they do so, Elasticsearch is automatically installed and is running. If they follow the same process for a new node, they now have two instances of Elasticsearch running.\r\n\r\nh4. Requested Changes\r\n\r\n# We need to clarify for user upgrading for Data Center to choose the \"Upgrade existing Data Center installation\" in the Bitbucket installer. And if they are installing a new node, to call out they should choose \"Install new Data Center installation\". Page [Installing Bitbucket Data Center|https://confluence.atlassian.com/display/BitbucketServer/Installing+Bitbucket+Data+Center]\r\n# For step 5 of the [Installing Bitbucket Data Center|https://confluence.atlassian.com/display/BitbucketServer/Installing+Bitbucket+Data+Center] page, we need to clarify why a user needs to set up a separate Elasticsearch instance. Users will need to know that when using the \"Install/Upgrade Data Center\" options that Elasticsearch will not be bundled/installed. \r\n# On the [Install and configure Elasticsearch|https://confluence.atlassian.com/bitbucketserver/install-and-configure-a-remote-elasticsearch-instance-815577748.html] page, we need to clarify that Elasticsearch is not automatically installed for Data Center users. ",
      "summary": "Clarify upgrade process for those going to Bitbucket Data Center and Elasticsearch"
    }
  },
  {
    "key": "BSERV-8827",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-24T05:45:03.000+0000",
      "created": "2016-06-06T21:53:12.000+0000",
      "description": "In Bitbucket Server 4.5.1, the pull request picks up the latest commit message of FromREF(pull request source branch) as Pull request Title and is been included as part of pull request merge commit message. But if I edit the pull request title while creating the pull request or after creating the pull request, the pull request merge commit message still only includes the default title picked up by bitbucket server initially(i.e, latest commit message of FromREF ) but not the newly changed title.\r\n\r\nIs there a workaround for this solution? Via API?",
      "summary": "Pull Request Title(not the default one but edited) to be in pull request commit message"
    }
  },
  {
    "key": "BSERV-8826",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-06T20:32:58.000+0000",
      "description": "h5. Problem Definition:\r\nCurrently after a pull request is closed, a user can go into the pull request and add comments.\r\n\r\nh5. Suggested Solution\r\nProvide a mechanism (checkbox, button?) where the administrator can lock a pull request so that users are not able to add comments after the pull request is closed.\r\n\r\nh5. Business Reason:\r\nThis allows pull requests to be formally audited.\r\n",
      "summary": "As an admin, I want the ability to lock comments in pull requests after they are closed so that users cannot modify them afterwards"
    }
  },
  {
    "key": "BSERV-8825",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-25T22:51:20.000+0000",
      "created": "2016-06-06T19:26:11.000+0000",
      "description": "After installing Bitbucket Server from an archive file, the services are manually created using the \"service.bat\" files. The Bitbucket service installs successfully, but the Elasticsearch service fails to install. The script completes and says the install was successful, however no service exists, and attempting to start the service results in \"The service name is invalid\".\r\n\r\nWhile running service.bat, the error \"The system cannot find the file specified\" is returned, though the script continues and completes.\r\n\r\nThe following output is returned from service.bat:\r\n{code}\r\nC:\\atlassian-bitbucket-4.6.2\\elasticsearch\\bin>service.bat install BITBUCKET_SEARCH\r\n\r\nInstalling service      :  \"BITBUCKET_SEARCH\"\r\nUsing JAVA_HOME (64-bit):  \"C:\\Progra~1\\Java\\jdk1.7.0_75\"\r\nThe system cannot find the file specified.\r\nThe service 'BITBUCKET_SEARCH' has been installed.\r\n{code}",
      "summary": "Elasticsearch service fails to create in Windows when manually creating after an archive install"
    }
  },
  {
    "key": "BSERV-8824",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-08T05:21:34.000+0000",
      "created": "2016-06-06T17:48:42.000+0000",
      "description": "We have a couple of times recently seen the WorkZone plugin for Bitbucket Server correctly auto merge a Pull Request but leave the PR \"Open\".\r\n\r\n !wz_screenshot.png|thumbnail! ",
      "summary": "WorkZone Merges Pull Request but leaves it Open"
    }
  },
  {
    "key": "BSERV-8822",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-06T18:42:07.000+0000",
      "created": "2016-06-06T14:56:46.000+0000",
      "description": "I search on the REST api documentation and I was not able to find a url to trigger the \"needswork\" button on the Pull-Requests. \r\nHaving this would help us automate our pipeline.\r\n\r\nthank you",
      "summary": "Add the \"needswork\" button to the REST API"
    }
  },
  {
    "key": "BSERV-8821",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-07T00:05:04.000+0000",
      "created": "2016-06-06T14:39:52.000+0000",
      "description": "Hi,\r\nI can't manage all of my potential users, I was forced to sync with AD to a subset of users, to create a pilot use case.\r\nMy installation has more than 50000 users, that makes open the user page almost impossible, because it takes ages.\r\nAnd worse, when scroll is made some users are loaded (again?) and it takes time to get, with two or three scroll  the page hangs\r\n\r\nAnother alternative is to go to groups, select a group and manage the user from here. But some groups are not syncing correctly. There are groups with more than 700 users and a group representing almost all users that do not sync\r\n\r\nBServer is sync with Jira and Jira is syncing with Active Directory\r\n\r\nThere is no common Organization Unit for the users, I need to sync the entire Tree, or some groups will be off.\r\n\r\nUse case: I'm managing a installation of bitbucket server in a university with 18 campus, and we plan to offer to all computer science related students and teachers, access to Git repository for educational purposes.\r\n\r\nI think that can be solved with a pagination like in Jira, there are other problems with so many users, but not in the scope of this request.\r\n\r\nPS.: The real users are something about 2000, I'm not sure :-)",
      "summary": "Pagination in a list of users and group is necessary"
    }
  },
  {
    "key": "BSERV-8820",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-07T18:21:24.000+0000",
      "created": "2016-06-06T13:30:54.000+0000",
      "description": "h3. Summary\r\nOn current versions of Bitbucket Server (4.0+), it's not possible to give project permissions to users in Bitbucket, if they don't have the \"Bitbucket users\" global permission\r\n\r\nThis feature used to work on Stash 3.3.2, and this is the current behaviour on JIRA\r\n \r\nh3. Steps to Reproduce\r\n# On the project permissions page, try adding a LDAP user which does not have at least 'Bitbucket User' global permissions \r\n\r\nh3. Expected Results\r\nThe LDAP user should be appear in the dropdown and it's possible to add them in the project permissions\r\n\r\nh3. Actual Results\r\nThe LDAP user doesn't  appear in the dropdown and it's not possible to add them in the project permissions\r\n",
      "summary": "Not possible to add users to Project permissions if they don't have the Bitbucket users permission"
    }
  },
  {
    "key": "BSERV-8819",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-06T05:37:48.000+0000",
      "created": "2016-06-06T05:35:44.000+0000",
      "description": "The pull requests resource was vulnerable to path traversal where it was possible to read only the first line of a file.",
      "summary": "CVE-2016-4320: Path Traversal in User Repo Pull-Requests"
    }
  },
  {
    "key": "BSERV-8818",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-06T05:26:07.000+0000",
      "created": "2016-06-06T05:25:53.000+0000",
      "description": "There was a XSS, which required user interaction, when moving user repositories",
      "summary": "CVE-2016-4321: XSS in moving User Repos"
    }
  },
  {
    "key": "BSERV-8817",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-24T05:34:28.000+0000",
      "created": "2016-06-06T05:20:44.000+0000",
      "description": "h3. Problem Definition\r\nWhen a user is created in Bitbucket's Internal Directory, there is no way to deactivate the user apart from removing its [Global permissions|https://confluence.atlassian.com/display/BitbucketServer/Global+permissions] in order to free up its license.\r\n\r\nThis problem doesn't exist when the user is stored in an external directory (LDAP, JIRA or Crowd) which provide option to disable the user.\r\n\r\nh3. Suggested Solution\r\nJIRA has long implemented such option and Bitbucket Server administrators would benefit from it as well in the same format:\r\n- [Create, edit, or remove a user|https://confluence.atlassian.com/display/AdminJIRAServer071/Create%2C+edit%2C+or+remove+a+user]\r\n\r\nh3. Workaround \r\nNote that removing a user's [Global permissions|https://confluence.atlassian.com/display/BitbucketServer/Global+permissions] will do free up his license. This won't remove, on the other hand, any other permissions (i.e. Project, Repositories, Branches) for that user.",
      "summary": "Provide an option to deactivate user created in the Bitbucket Internal Directory"
    }
  },
  {
    "key": "BSERV-8815",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-06T03:01:11.000+0000",
      "created": "2016-04-28T10:11:40.000+0000",
      "description": "In Bitbucket Data Center versions up to and including 4.6.0, the {{VersionAwareAvatarUrlDecorator}} caches that back project and users avatars are configured in {{.replicateViaCopy()}} mode.  This means their contents are distributed over cluster nodes, and in order to get, update, or remove a value a cluster node may perform a remote operation to another cluster node. \r\n\r\nBeginning with Bitbucket Data Center 4.7.0, these caches are configured in {{.replicateByInvalidation()}} mode, so values are cached independently by each cluster node, and invalidations of stale values on other cluster nodes are fully asynchronous.  This results in less coupling between cluster nodes, is more scalable, and reduces the chance that delays on one node (e.g., due to very long GC pauses or OS/networking issues) also affect other nodes in the cluster.",
      "summary": "Switch VersionAwareAvatarUrlDecorator atlassian-cache Caches to hybrid mode"
    }
  },
  {
    "key": "BSERV-8814",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-06T02:48:53.000+0000",
      "created": "2015-09-28T04:00:13.000+0000",
      "description": "The default configuration of atlassian-cache {{Cache}}'s in Bitbucket Data Center is {{.replicateAsynchronously()}}, but the implementation of the {{.replicateViaInvalidation()}} configuration in Bitbucket versions up to and including 4.6.0 is not fully asynchronous.  Instead, a Hazelcast {{IMap}} is used internally to manage invalidations between cluster nodes.  This can cause synchronous (blocking) remote operations between cluster nodes which can limit performance and cause delays on one cluster node (e.g., due to very long GC pauses or OS/networking issues) to unnecessarily delay other nodes in the cluster. \r\n\r\nBeginning with Bitbucket Data Center 4.7, {{Cache}}'s which have been configured with both the {{.replicateViaInvalidation()}} and {{.replicateAsynchronously()}} (which is the default) settings use fully asynchronous invalidation, based on a Hazelcast {{ITopic}}.  This means cluster nodes do not wait unnecessarily for cache invalidations, and reduces the chance that delays on one node also affect other nodes in the cluster.  In the rare event that a cluster node loses its connections to other nodes but remains up and connected to the load balancer, shared database, and shared filesystem (i.e., a \"split brain\" scenario), any cached data that may have become stale due to lost {{ITopic}} messages is also invalidated automatically when the node later rejoins the cluster. \r\n\r\nThe use of fully asynchronous {{.replicateViaInvalidation()}} caches results in less coupling between cluster nodes and is more scalable when large amounts of data are cached from an external \"source of truth\" (e.g., the shared database or filesystem) that is available to all cluster nodes at the same or similar cost to a remote operation between cluster nodes.",
      "summary": "Atlassian-cache Caches configured with .replicateViaInvalidation() should be fully asynchronous"
    }
  },
  {
    "key": "BSERV-8813",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-06T02:16:55.000+0000",
      "description": "h3. Problem Definition\r\nThe Bitbucket Server Code Search features provides the ability to search the code, the details of the implementation are provided on the [Search for code in Bitbucket Server|https://confluence.atlassian.com/bitbucketserver/search-for-code-in-bitbucket-server-814204781.html] page.\r\n\r\nThis mentions that:\r\n- Only the default branch is searchable (for most repositories the default branch will be master).\r\n\r\nh3. Suggested Solution\r\nAdd the possibility to add other branches to the searchable code.",
      "summary": "Code search across multiple branches"
    }
  },
  {
    "key": "BSERV-8811",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-05T21:47:38.000+0000",
      "created": "2016-06-05T14:37:59.000+0000",
      "description": "Hello,\r\nWe work for Pointcatcher and all of sudden we are not able to see the tickets related to our project but able to see yours\r\n\r\nThanks,\r\nBarbara\r\n.",
      "summary": "JIRA- Why I'm seeing your tickets..."
    }
  },
  {
    "key": "BSERV-8810",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-07T10:45:50.000+0000",
      "created": "2016-06-03T18:54:57.000+0000",
      "description": "* I had a datacenter with a 2-node app server cluster.\r\n* I changed the \"Base URL\" via the frontend (load balancer).\r\n* I connected directly to each of the app servers.\r\n* The change was correctly reported by one of the app servers (presumably the one that processed the update), but the other app server still displayed the old value.\r\n* I restarted the errant app server; afterwards, it displayed the correct value.\r\n",
      "summary": "Datacenter: after changing the base URL, some of the app servers in the cluster use the old value until they are restarted"
    }
  },
  {
    "key": "BSERV-8809",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-25T05:42:17.000+0000",
      "created": "2016-06-03T15:21:43.000+0000",
      "description": "h3. Summary\r\nIf Bamboo is configured with Tomcat HTTPS redirection *or* you're running Bamboo version >= *6.8*, Bitbucket Server will not trigger Bamboo on new commit\r\n\r\nh3. Environment\r\nWith HTTPS redirection:\r\n* Bitbucket Server 4.6.2\r\n* Bamboo 5.12.2\r\n\r\nRegardless of HTTPS redirection:\r\n* Bitbucket Server < 4.11\r\n* Bamboo >= 6.8\r\n\r\nh3. Steps to Reproduce\r\n# Configure both Bamboo and Bitbucket Server to have two connectors HTTP and HTTPS, eg {{server.xml}}:\r\n{noformat}\r\n        <Connector port=\"80\" protocol=\"HTTP/1.1\"\r\n                   connectionTimeout=\"20000\"\r\n                   useBodyEncodingForURI=\"true\"\r\n                   redirectPort=\"443\"\r\n                   compression=\"on\"\r\n                   compressableMimeType=\"text/html,text/xml,text/plain,text/css,application/json,application/javascript,application/x-javascript\" />\r\n\r\n        <Connector port=\"443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\r\n                   maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\r\n                   clientAuth=\"false\" sslProtocol=\"TLS\" \r\n                   keystoreFile=\"/path/tokeystore.jks\"\r\n        \t\t   keystorePass=\"changeit\"\r\n        \t\t   keyAlias=\"test\"\r\n        \t\t   keystoreType=\"JKS\"/>\r\n{noformat}\r\n# Set both Bamboo and Bitbucket Server to redirect HTTP connection to HTTPS, eg {{WEB-INF/web.xml}}:\r\n{noformat}\r\n\t<security-constraint>\r\n\t\t <web-resource-collection>\r\n\t\t\t <web-resource-name>HTTPSOnly</web-resource-name>\r\n\t\t\t <url-pattern>/*</url-pattern>\r\n\t\t </web-resource-collection>\r\n\t\t <user-data-constraint>\r\n\t\t\t <transport-guarantee>CONFIDENTIAL</transport-guarantee>\r\n\t\t </user-data-constraint>\r\n\t</security-constraint>\r\n{noformat}\r\n# Restart Bamboo and Bitbucket Server\r\n# Configure the Base URL for both Bamboo and Bitbucket Server to be HTTPS\r\n# Create the Application Link between Bamboo and Bitbucket Server\r\n# Add Bitbucket Server repo into Bamboo build plan\r\n# Make sure that Bamboo build plan using \"Bitbucket Server repository triggered\"\r\n# Push a new commit to Bitbucket Server\r\n\r\nh3. Expected Results\r\nBamboo will be triggered to build the new commit\r\n\r\nh3. Actual Results\r\nBamboo isn't triggered to build\r\n \r\nh3. Notes\r\n* If Bitbucket Server have \"org.apache.http.wire\" debug logging, atlassian-bitbucket.log does not show any POST request to Bamboo when a new commit is pushed\r\n* If Bamboo have \"org.apache.http.wire\" debug logging, there is a POST request to Bitbucket Server after a build finish\r\n\r\nh3.Workaround\r\n(!) These do not apply to Bamboo versions >= 6.8. Bitbucket will need to be upgraded if using Bamboo >= 6.8.\r\n\r\n# Remove HTTP->HTTPS redirection in Bamboo and then restart Bamboo and Bitbucket Server\r\nOR\r\n# Add an additional Trigger \"Repository polling\" to all Plan Configuration",
      "summary": "Bitbucket Server does not trigger Bamboo on new commit"
    }
  },
  {
    "key": "BSERV-8808",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-08T05:31:51.000+0000",
      "created": "2016-06-03T09:00:49.000+0000",
      "description": "1. Open a bug in Bit- Bucket and click on comment box.\r\n2. Click on the photo icon and select a photo with bigger name.\r\n3. Submit the comment, the picture will not display, instead only picture name displays.\r\n\r\n",
      "summary": "Not able to Post photos with big names in the comment section."
    }
  },
  {
    "key": "BSERV-8807",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-06T00:09:36.000+0000",
      "created": "2016-06-03T08:22:42.000+0000",
      "description": "Steps to reproduce:\r\n1. Open \"My pull requests\" dropdown in the top bar menu. At least 2 PRs must be listed. At least 5 reviewers need to be added in PR.\r\n2. Click \"More reviewers\" badge\r\n3. \"More reviewers\" dropdown is partially covered by the parent dropdown (PRs list)",
      "summary": "\"More reviewers\" dropdown is invisible"
    }
  },
  {
    "key": "BSERV-8806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-03T04:29:51.000+0000",
      "created": "2016-06-03T04:23:01.000+0000",
      "description": "Example markdown:\r\n\r\n{code}\r\ntext [`code_link`][] text\r\n\r\n[`code_link`]: http://example.com\r\n{code}\r\n\r\nExpected rendering:\r\n\r\n{quote}\r\ntext [{{code_link}}|http://example.com] text\r\n{quote}\r\n\r\nActual rendering:\r\n\r\n{quote}\r\ntext \\[{{code_link}}\\]\\[\\] text\r\n{quote}\r\n\r\nIt annoying to walkaround by another id:\r\n\r\n{code}\r\ntext [`code_link`][code_link] text\r\n\r\n[code_link]: http://example.com\r\n{code}\r\n\r\nThe shortcut {{\\[`code_link`\\]\\[\\]}} will help to write a documentations with markdown.",
      "summary": "Markdown link by id: allow code as id"
    }
  },
  {
    "key": "BSERV-8805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-03T03:40:57.000+0000",
      "created": "2016-06-03T03:25:23.000+0000",
      "description": "Currently Bitbucket Server can be configured to require a minimum number of passing Bamboo builds before can be merged. This great, but the problem comes here:\r\n\r\nbq. If there are more than the specified number of builds, all of them will have to be successful in order to merge the pull request\r\n\r\nIn the case of our project, we have a certain number of core builds that must be green on the branch, and a selection of more speculative builds that developers are encouraged to run but which don't need to be green. \r\n\r\nThis combination means that we can't use this feature, since if these speculative builds are run then the PR would never be mergeable.  \r\n\r\nI would like to see the above behaviour made optional, i.e. a minimum number of green builds, but with the \"all builds must be green\" part made an additional option.\r\n\r\nFor bonus points, I'd like to be able to additionally specify which specific builds must be green, to prevent devs from trying to work around it by adding additional but unimportant builds to just get the required green count.",
      "summary": "More flexibility when configuring required green builds on PR merge"
    }
  },
  {
    "key": "BSERV-8804",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-15T04:45:01.000+0000",
      "created": "2016-06-03T01:16:28.000+0000",
      "description": "When installing Bitbucket Server 4.6.x on Windows, the Bitbucket Server service is installed with user .\\atlbitbucket, whereas the Bitbucket Elasticsearch service is installed with user Local System. Both should be installed with the same user.",
      "summary": "Windows Elasticsearch service is running as incorrect user"
    }
  }
]