[
  {
    "key": "BSERV-9624",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-16T06:25:08.000+0000",
      "created": "2017-03-07T23:58:24.000+0000",
      "description": "In a Declined Pull Request the message is not shown in the Overview.\r\n\r\nReading the description and last few comments gives the impression that the pull request is still in progress. To find out why it was declined requires switching to the Activity view.\r\n\r\n\u00a0\r\n\r\nThe decline message is important enough that it should be shown in the Overview.",
      "summary": "Display Pull Request Decline message in Overview"
    }
  },
  {
    "key": "BSERV-9623",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-05-14T06:20:16.000+0000",
      "created": "2017-03-07T23:28:32.000+0000",
      "description": "{panel:title=Atlassian status as of May 2019|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nHi everyone,\r\n\r\nGit LFS file locking is supported starting from Bitbucket Server 6.3.\r\n\r\nDetails on locking and unlocking feature is here -\u00a0[Working with Git LFS Files.|https://confluence.atlassian.com/bitbucketserver/working-with-git-lfs-files-970595880.html]\r\n\r\nAnton Genkin\r\nProduct Manager - Bitbucket Server\r\n{panel}\r\nh3. Original description is below:\r\n\r\nThe Git LFS 2.0 client has been released and supports the new [Git LFS File Locking API|https://github.com/git-lfs/git-lfs/blob/master/docs/api/locking.md]. Bitbucket Server currently (as at version 4.14) does not support this API.\r\n\r\nThe Git LFS client, upon attempting to lock a file will report the server does not implement the locking API:\r\n{noformat}\r\n$ git lfs lock galaxy1.jpg\r\nLock failed: Not Implemented: https://user@bitbucket.example.com/scm/myproject/lfstest.git/info/lfs/locks\r\n{noformat}\r\n*SSH Caveat:*\r\n\r\nWhere an SSH remote is used the error message indicating \"lock failed\" will be different, it will report as an \"Authorization error\" as below:\r\n{noformat}\r\nLock failed: Authorization error: https://bitbucket.example.com/scm/myproject/lfstest.git/info/lfs/locks\r\nCheck that you have proper access to the repository\r\n{noformat}\r\nThe reason for this is, when authenticating via SSH a JWT authentication token is returned, for use on the Git LFS HTTP based APIs. While the token is valid for accessing the Batch API (for example to upload a file) it is not valid for the (non existent) /info/lfs/locks API.",
      "summary": "Add support for Git LFS File Locking API"
    }
  },
  {
    "key": "BSERV-9622",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-31T02:08:04.000+0000",
      "created": "2017-03-07T22:22:40.000+0000",
      "description": "h3. Summary\r\n\r\nIf REST API calls are made in parallel (or in very rapid succession) a 401 is returned and a SQL exception is seen in the logs.\r\n\r\nh3. Environment\r\n- Bitbucket Server 4.9.1, 4.13.0\r\n- Crowd 2.8.3 \r\n\r\nh3. Steps to Reproduce\r\n# Create a new group in Crowd\r\n# Add a Bitbucket Server admin user to the new group in Crowd\r\n# Ensure \"Update group memberships when logging in - Every time the user logs in\" is enabled\r\n# Use a script to hit 2 endpoints in parallel or rapid succession and authenticate as the user you added to the new group in Crowd\r\n{panel:Example endpoints/API calls}\r\n'http://<base_url>/rest/api/1.0/admin/permissions/groups'\r\n'http://<base_url>/rest/api/1.0/admin/users/more-members?limit=200&context=svc-zptools&start=0'\r\n{panel}\r\n\r\nh3. Expected Results\r\nBoth calls should elicit 200 responses and no DB error should be seen in the logs\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bitbucket-access.log:\r\n{noformat}\r\n192.XXX.X.X,0:0:0:0:0:0:0:1 | http | o@MZCTPFx1330x25536x1 | - | 2017-03-07 22:10:39,797 | \"GET /rest/api/1.0/admin/permissions/groups HTTP/1.1\" | \"\" \"\" | 401 | 0 | 152 | - | 214 | - | \r\n192.XXX.X.X,0:0:0:0:0:0:0:1 | http | o@MZCTPFx1330x25535x0 | bcrusher | 2017-03-07 22:10:39,808 | \"GET /rest/api/1.0/admin/users/more-members HTTP/1.1\" | \"\" \"\" | 200 | 0 | 62 | - | 226 | w0ant7 | \r\n{noformat}\r\n\r\nThe following is seen in the atlassian-bitbucket.log:\r\n{code}\r\n2017-03-07 22:10:39,740 DEBUG [http-nio-7990-exec-5] @MZCTPFx1330x25535x0 192.168.7.1,0:0:0:0:0:0:0:1 \"GET /rest/api/1.0/admin/users/more-members HTTP/1.1\" c.a.s.i.crowd.HibernateMembershipDao Saving object: com.atlassian.crowd.model.membership.InternalMembership@31bda479[parentId=3670018,childId=3277996,membershipType=GROUP_USER,groupType=GROUP,parentName=enterprise,lowerParentName=enterprise,childName=bcrusher,lowerChildName=bcrusher,directoryId=3211266]\r\n2017-03-07 22:10:39,742 ERROR [http-nio-7990-exec-9] @MZCTPFx1330x25536x1 192.168.7.1,0:0:0:0:0:0:0:1 \"GET /rest/api/1.0/admin/permissions/groups HTTP/1.1\" o.h.e.j.batch.internal.BatchingBatch HHH000315: Exception executing batch [could not execute batch]\r\n2017-03-07 22:10:39,768 WARN  [http-nio-7990-exec-9] @MZCTPFx1330x25536x1 192.168.7.1,0:0:0:0:0:0:0:1 \"GET /rest/api/1.0/admin/permissions/groups HTTP/1.1\" c.a.s.i.a.DefaultAuthenticationService Authenticator 'com.atlassian.bitbucket.server.bitbucket-authentication:crowdHttpAuthHandler' threw an exception\r\ncom.atlassian.bitbucket.DataStoreException: A database error has occurred.\r\n\tat com.atlassian.stash.internal.aop.ExceptionRewriteAdvice.afterThrowing(ExceptionRewriteAdvice.java:46) ~[bitbucket-platform-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.auth.DefaultAuthenticationService.authenticateInternal(DefaultAuthenticationService.java:116) [bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.auth.DefaultAuthenticationService.authenticate(DefaultAuthenticationService.java:67) [bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.spring.security.PluginAuthenticationProvider.authenticate(PluginAuthenticationProvider.java:49) [classes/:na]\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:102) [classes/:na]\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112) [classes/:na]\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [classes/:na]\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1484801340000.jar:na]\r\n\tat com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) [atlassian-core-4.6.19.jar:na]\r\n\tat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) [atlassian-core-4.6.19.jar:na]\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) [classes/:na]\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) [atlassian-connect-plugin-1.1.86-bitbucket-04.jar:na]\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) [jwt-plugin-1.5.11-0002_1484801340000.jar:na]\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) [analytics-client-5.2.20_1484801340000.jar:na]\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.20_1484801340000.jar:na]\r\n--\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.addGroup(AbstractInternalDirectory.java:814) ~[crowd-persistence-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.syncRemoteGroupToInternalDirectory(DbCachingRemoteDirectory.java:470) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.updateGroupsMembershipOnLogin(DbCachingRemoteDirectory.java:429) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.updateUserFromRemoteDirectory(DbCachingRemoteDirectory.java:307) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.authenticateAndUpdateInternalUser(DbCachingRemoteDirectory.java:273) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.authenticate(DbCachingRemoteDirectory.java:183) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.authenticateUser(DirectoryManagerGeneric.java:311) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.stash.internal.crowd.CustomizedDirectoryManager.authenticateUser(CustomizedDirectoryManager.java:53) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric.authenticateUser(ApplicationServiceGeneric.java:198) ~[crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.stash.internal.crowd.CustomizedApplicationService.authenticateUser(CustomizedApplicationService.java:50) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.crowd.embedded.core.CrowdServiceImpl.authenticate(CrowdServiceImpl.java:75) ~[embedded-crowd-core-2.10.2-rc04.jar:na]\r\n\tat com.atlassian.stash.internal.crowd.RiotPolice.authenticate(RiotPolice.java:109) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.plugin.OsgiSafeProxyProvider$1.invoke(OsgiSafeProxyProvider.java:93) ~[bitbucket-platform-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.auth.EmbeddedCrowdHttpAuthenticationHandler.authenticate(EmbeddedCrowdHttpAuthenticationHandler.java:51) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.auth.DefaultAuthenticationService.lambda$authenticateInternal$2(DefaultAuthenticationService.java:108) [bitbucket-service-impl-4.13.0.jar:na]\r\n\tat com.atlassian.stash.internal.auth.DefaultCaptchaService.authenticateWithCaptcha(DefaultCaptchaService.java:73) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n\t... 23 common frames omitted\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:129) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:136) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:114) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:163) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:226) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:484) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:351) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1258) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:584) ~[spring-orm-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t... 41 common frames omitted\r\nCaused by: java.sql.BatchUpdateException: Duplicate entry 'enterprise-3211266' for key 'SYS_IDX_SYS_CT_10149_10151'\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1809) ~[mysql-connector-java-5.1.36-bin.jar:5.1.36]\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1271) ~[mysql-connector-java-5.1.36-bin.jar:5.1.36]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128) ~[HikariCP-2.4.7.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-2.4.7.jar:na]\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:127) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Fina\r\n{code}\r\n \r\nh3. Notes\r\nSeems there is a race condition where the fist API call authenticates and updates the group for the user while second call tries to do the same thing immediately after and a constraint violation occurs along with the user associated with the second call getting a 401.\r\n\r\nh3.Workaround\r\nA. Disable this setting in the External User Directory settings in the Bitbucket Server UI\r\nB. Run the script again (since the group has already been updated this should only occur on the initial parallel execution)\r\nC. Run the calls in sequence\r\nD. Create a user in the Bitbucket Server Internal User Directory and use that user for authentication with the REST API",
      "summary": "401 response and SQL exception thrown when REST API calls are made in parallel"
    }
  },
  {
    "key": "BSERV-9621",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-07T23:33:24.000+0000",
      "created": "2017-03-07T15:35:20.000+0000",
      "description": "Git LFS 2.0 has been released and has new functionality to support proxies that require client provided certificates.  \r\n\r\nCurrently, the supported platforms page for Bitbucket 4.14 says that Git LFS client 1.1.0+ is supported.Because the version says 1.1.0+ does that mean the 2.0.1 should function properly?  If so, can the [supported platforms|https://confluence.atlassian.com/display/BitbucketServer/Supported+platforms] page be updated?",
      "summary": "Add support of Git LFS 2.0"
    }
  },
  {
    "key": "BSERV-9619",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-06T19:33:57.000+0000",
      "description": "h3. Problem Definition\r\nCurrently Bitbucket Server only provides search for code and repository names.  No functionality exists to search for file names\r\n\r\nh3. Suggested Solution\r\nAdd file names to the information indexed by Elasticsearch\r\n\r\nh3. Why this is important\r\nFor auditing files by name or type across repositories.\r\nh3. Workaround\u00a0\r\nInstall FishEye",
      "summary": "As a user, I want to search repositories for files by name, including wildcards"
    }
  },
  {
    "key": "BSERV-9618",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T21:35:53.000+0000",
      "created": "2017-03-06T14:44:18.000+0000",
      "description": "h3. Summary\r\n\r\nWhen using the new File Editor, whenever the Commit button is clicked, after specifying a commit message, the web interface shows an error message and does not allow the commit to be performed.\r\nh3. Steps to Reproduce\r\n # Make sure to be running Bitbucket Server 4.13.0 or newer version\r\n # Browse to any file source and click the {{\"Edit\"}} button\r\n # Edit anything and click {{\"Commit\"}}\r\n # Type the commit message, or leave the one that gets written by default, then click {{\"Commit\"}}\r\n # The web interface presents the following error message (see attached screenshot):\r\n{noformat}\r\n'/usr/bin/git -c core.autocrlf=input commit -m file.txt edited online with Bitbucket -q -- file.txt' exited with code 128 saying: fatal: CRLF would be replaced by LF in file.txt.\r\n{noformat}\r\n\r\nh3. Expected Results\r\n * The File Editor should not enforce / hardcode {{\"-c core.autocrlf=input\"}} or accept using {{core.safecrlf=warn}} so as not to throw an error, and should allow the commit to be performed.\r\n\r\nh3. Actual Results\r\n * The web interface presents the following error message:\r\n{noformat}\r\n'/usr/bin/git -c core.autocrlf=input commit -m file.txt edited online with Bitbucket -q -- file.txt' exited with code 128 saying: fatal: CRLF would be replaced by LF in file.txt.\r\n{noformat}\r\n\r\n * No errors are written in {{atlassian-bitbucket.log}} with regular logging.\r\n * Debug logging shows the following:\r\n{noformat}\r\n2017-03-06 17:36:50,472 INFO  [hz.hazelcast.event-3]  com.atlassian.bitbucket Switching to log level [DEBUG]\r\n2017-03-06 17:36:50,472 ERROR [hz.hazelcast.event-4]  com.atlassian.event.remote Switching to log level [DEBUG]\r\n2017-03-06 17:36:50,472 INFO  [hz.hazelcast.event-5]  com.atlassian.stash Switching to log level [DEBUG]\r\n2017-03-06 17:36:50,472 WARN  [hz.hazelcast.event-1]  ROOT Switching to log level [INFO]\r\n2017-03-06 17:36:50,473 WARN  [hz.hazelcast.event-4]  org.hibernate Switching to log level [INFO]\r\n2017-03-06 17:36:50,473 WARN  [hz.hazelcast.event-3]  org.springframework Switching to log level [INFO]\r\n2017-03-06 17:36:50,473 WARN  [hz.hazelcast.event-5]  c.h.internal.monitors.HealthMonitor Switching to log level [DEBUG]\r\n2017-03-06 17:36:50,716 DEBUG [http-nio-8443-exec-24] fkraemer @1V3DR5Lx1056x48x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/inbox/pull-requests/count HTTP/1.1\" c.a.s.i.rest.inbox.InboxResource Retrieving pull request count for user fkraemer\r\n2017-03-06 17:36:54,250 DEBUG [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1056x62x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/inbox/pull-requests/count HTTP/1.1\" c.a.s.i.rest.inbox.InboxResource Retrieving pull request count for user fkraemer\r\n2017-03-06 17:36:55,933 INFO  [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" o.h.c.internal.StandardQueryCache HHH000248: Starting query cache at region: query.repositoryBySlug\r\n2017-03-06 17:36:55,978 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent /Users/fkraemer/atlassian/data/bitbucket/4.13.0/shared/data/repositories/1: No packed-refs exist (Packed-refs exists: false, Lines checked: 0)\r\n2017-03-06 17:36:55,982 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent PROJ/git[1]: Repository is not empty\r\n2017-03-06 17:36:56,042 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git cat-file -t refs/heads/master:\r\n2017-03-06 17:36:56,067 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git ls-tree -z -l refs/heads/master:\r\n2017-03-06 17:36:56,084 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git cat-file --batch\r\n2017-03-06 17:36:56,358 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.branch.layout.actions.dropdown was required already. Ignoring.\r\n2017-03-06 17:36:56,358 DEBUG [http-nio-8443-exec-9] fkraemer @1V3DR5Lx1056x65x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.web.repository.clone.dialog.options was required already. Ignoring.\r\n2017-03-06 17:36:56,606 DEBUG [http-nio-8443-exec-23] @1V3DR5Lx1056x68x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/bb12f021129630ca2e79de4fd0c9f1f8-T/1071493005/5467926/1/4ec67307c53555d0f7ea11a024829547/_/download/contextbatch/js/bitbucket.page.repository.filebrowser,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key no.issue.status.info and locales [en_US, en]\r\n2017-03-06 17:36:57,184 DEBUG [http-nio-8443-exec-23] @1V3DR5Lx1056x68x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/bb12f021129630ca2e79de4fd0c9f1f8-T/1071493005/5467926/1/4ec67307c53555d0f7ea11a024829547/_/download/contextbatch/js/bitbucket.page.repository.filebrowser,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key bitbucket.go.search.guide and locales [en_US, en]\r\n2017-03-06 17:36:57,185 DEBUG [http-nio-8443-exec-23] @1V3DR5Lx1056x68x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/bb12f021129630ca2e79de4fd0c9f1f8-T/1071493005/5467926/1/4ec67307c53555d0f7ea11a024829547/_/download/contextbatch/js/bitbucket.page.repository.filebrowser,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key bitbucket.go.search.troubleshoot and locales [en_US, en]\r\n2017-03-06 17:36:57,185 DEBUG [http-nio-8443-exec-23] @1V3DR5Lx1056x68x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/bb12f021129630ca2e79de4fd0c9f1f8-T/1071493005/5467926/1/4ec67307c53555d0f7ea11a024829547/_/download/contextbatch/js/bitbucket.page.repository.filebrowser,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key bitbucket.go.search.query and locales [en_US, en]\r\n2017-03-06 17:36:57,754 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.s.j.s.i.a.WebApplicationImpl Initiating Jersey application, version 'Jersey: 1.8-atlassian-16 03/23/2015 10:20 PM'\r\n2017-03-06 17:36:57,757 DEBUG [http-nio-8443-exec-14] fkraemer @1V3DR5Lx1056x86x3 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/inbox/pull-requests/count HTTP/1.1\" c.a.s.i.rest.inbox.InboxResource Retrieving pull request count for user fkraemer\r\n2017-03-06 17:36:57,759 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.s.j.s.i.a.WebApplicationImpl Initiating Jersey application, version 'Jersey: 1.8-atlassian-16 03/23/2015 10:20 PM'\r\n2017-03-06 17:36:57,770 DEBUG [http-nio-8443-exec-7] fkraemer @1V3DR5Lx1056x83x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/last-modified HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git ls-tree bb8a30aff57df2c60ab5fbcc234f0fe3b5b66f16:\r\n2017-03-06 17:36:57,778 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.sun.jersey.server.wadl.generators.WadlGeneratorApplicationDoc\r\n2017-03-06 17:36:57,778 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.sun.jersey.server.wadl.generators.WadlGeneratorGrammarsSupport\r\n2017-03-06 17:36:57,779 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.atlassian.plugins.rest.doclet.generators.resourcedoc.AtlassianWadlGeneratorResourceDocSupport\r\n2017-03-06 17:36:57,780 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.sun.jersey.server.wadl.generators.WadlGeneratorApplicationDoc\r\n2017-03-06 17:36:57,780 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.sun.jersey.server.wadl.generators.WadlGeneratorGrammarsSupport\r\n2017-03-06 17:36:57,781 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.atlassian.plugins.rest.doclet.generators.resourcedoc.AtlassianWadlGeneratorResourceDocSupport\r\n2017-03-06 17:36:57,847 DEBUG [io-pump:thread-8] fkraemer @1V3DR5Lx1056x83x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/last-modified HTTP/1.1\" c.a.s.i.s.g.c.LastModifiedCommand PROJ/git[1]: After streaming all commits, modifications for 0 files were not found\r\n2017-03-06 17:36:57,848 DEBUG [http-nio-8443-exec-7] fkraemer @1V3DR5Lx1056x83x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/last-modified HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git log -c --format=%x03START%x04%ncommit %H%n%H%x02%P%x02%aN%x02%aE%x02%at%n%s%n%x03END%x04 --name-status --stdin --topo-order\r\n2017-03-06 17:36:57,851 DEBUG [http-nio-8443-exec-7] fkraemer @1V3DR5Lx1056x83x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/last-modified HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git rev-list --format=%H%x02%P%x02%aN%x02%aE%x02%at%n%B%n%x03END%x04 -1 bb8a30aff57df2c60ab5fbcc234f0fe3b5b66f16 --\r\n2017-03-06 17:36:57,974 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Found atlassian-plugin.xml file! Looking for rest plugin module descriptors...\r\n2017-03-06 17:36:57,976 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Found 0 rest plugin module descriptors.\r\n2017-03-06 17:36:57,978 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Found atlassian-plugin.xml file! Looking for rest plugin module descriptors...\r\n2017-03-06 17:36:57,980 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Found 0 rest plugin module descriptors.\r\n2017-03-06 17:36:58,168 INFO  [http-nio-8443-exec-11] fkraemer @1V3DR5Lx1056x85x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/sync/latest/projects/PROJ/repos/git HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.stash.internal.repository.sync.rest.RefSyncResource' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:36:58,190 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.internal.integration.jira.rest.JiraResource' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:36:58,190 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.internal.integration.jira.rest.JiraServerResource' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:36:58,191 INFO  [http-nio-8443-exec-4] fkraemer @1V3DR5Lx1056x84x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/jira-integration/latest/servers HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.internal.integration.jira.rest.JiraFieldsResource' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:37:00,661 DEBUG [http-nio-8443-exec-5] fkraemer @1V3DR5Lx1057x89x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git cat-file -t refs/heads/master:file.txt\r\n2017-03-06 17:37:00,682 DEBUG [http-nio-8443-exec-5] fkraemer @1V3DR5Lx1057x89x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git log --format=commit %H%n%H%x02%P%x02%aN%x02%aE%x02%at%n%B%n%x03END%x04 --no-min-parents --stdin --follow --name-status -- file.txt\r\n2017-03-06 17:37:00,819 DEBUG [http-nio-8443-exec-5] fkraemer @1V3DR5Lx1057x89x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.file-content.source.toolbar.primary was required already. Ignoring.\r\n2017-03-06 17:37:00,819 DEBUG [http-nio-8443-exec-5] fkraemer @1V3DR5Lx1057x89x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.file-content.source.toolbar.secondary was required already. Ignoring.\r\n2017-03-06 17:37:00,820 DEBUG [http-nio-8443-exec-5] fkraemer @1V3DR5Lx1057x89x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.branch.layout.actions.dropdown was required already. Ignoring.\r\n2017-03-06 17:37:00,820 DEBUG [http-nio-8443-exec-5] fkraemer @1V3DR5Lx1057x89x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.web.repository.clone.dialog.options was required already. Ignoring.\r\n2017-03-06 17:37:01,872 DEBUG [http-nio-8443-exec-8] @1V3DR5Lx1057x92x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/9192b262c760817fb4720189578855eb-T/1071493005/5467926/1/6e13bd08044383ed1c20ada85c3141ac/_/download/contextbatch/js/bitbucket.page.repository.fileContent,bitbucket.feature.files.fileHandlers,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key bitbucket.go.search.guide and locales [en_US, en]\r\n2017-03-06 17:37:01,873 DEBUG [http-nio-8443-exec-8] @1V3DR5Lx1057x92x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/9192b262c760817fb4720189578855eb-T/1071493005/5467926/1/6e13bd08044383ed1c20ada85c3141ac/_/download/contextbatch/js/bitbucket.page.repository.fileContent,bitbucket.feature.files.fileHandlers,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key bitbucket.go.search.troubleshoot and locales [en_US, en]\r\n2017-03-06 17:37:01,873 DEBUG [http-nio-8443-exec-8] @1V3DR5Lx1057x92x2 1468vi2 0:0:0:0:0:0:0:1 \"GET /s/9192b262c760817fb4720189578855eb-T/1071493005/5467926/1/6e13bd08044383ed1c20ada85c3141ac/_/download/contextbatch/js/bitbucket.page.repository.fileContent,bitbucket.feature.files.fileHandlers,bitbucket.layout.files,bitbucket.layout.branch,bitbucket.layout.repository,bitbucket.layout.base,atl.general,bitbucket.layout.entity,-_super/batch.js HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key bitbucket.go.search.query and locales [en_US, en]\r\n2017-03-06 17:37:02,367 DEBUG [http-nio-8443-exec-21] fkraemer @1V3DR5Lx1057x94x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git cat-file -t master:file.txt\r\n2017-03-06 17:37:02,375 DEBUG [http-nio-8443-exec-21] fkraemer @1V3DR5Lx1057x94x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.s.g.DefaultGitCommandFactory Using git cat-file to retrieve content for file.txt at master\r\n2017-03-06 17:37:02,394 DEBUG [http-nio-8443-exec-1] fkraemer @1V3DR5Lx1057x95x1 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/inbox/pull-requests/count HTTP/1.1\" c.a.s.i.rest.inbox.InboxResource Retrieving pull request count for user fkraemer\r\n2017-03-06 17:37:02,395 DEBUG [http-nio-8443-exec-21] fkraemer @1V3DR5Lx1057x94x0 1468vi2 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git cat-file -p master:file.txt\r\n2017-03-06 17:37:02,520 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.s.j.s.i.a.WebApplicationImpl Initiating Jersey application, version 'Jersey: 1.8-atlassian-16 03/23/2015 10:20 PM'\r\n2017-03-06 17:37:02,531 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.sun.jersey.server.wadl.generators.WadlGeneratorApplicationDoc\r\n2017-03-06 17:37:02,531 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.sun.jersey.server.wadl.generators.WadlGeneratorGrammarsSupport\r\n2017-03-06 17:37:02,532 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.s.j.a.w.config.WadlGeneratorLoader Loading wadlGenerator com.atlassian.plugins.rest.doclet.generators.resourcedoc.AtlassianWadlGeneratorResourceDocSupport\r\n2017-03-06 17:37:02,647 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Found atlassian-plugin.xml file! Looking for rest plugin module descriptors...\r\n2017-03-06 17:37:02,649 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Found 0 rest plugin module descriptors.\r\n2017-03-06 17:37:02,956 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.webresource.plugin.rest.ListOfResources' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:37:02,957 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.webresource.plugin.rest.CrossTenantCdnResource' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:37:02,957 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.webresource.plugin.rest.PreBakeResource' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:37:02,957 INFO  [http-nio-8443-exec-15] fkraemer @1V3DR5Lx1057x98x0 1468vi2 0:0:0:0:0:0:0:1 \"POST /rest/webResources/1.0/resources HTTP/1.1\" c.a.p.r.d.g.r.AtlassianWadlGeneratorResourceDocSupport Resource path of rest end point 'com.atlassian.webresource.plugin.rest.DeprecatedDescriptors' unchanged no mapping to rest plugin module descriptor found.\r\n2017-03-06 17:37:18,128 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPorcelain 1: Cloning to /Users/fkraemer/atlassian/data/bitbucket/4.13.0/tmp/git/git-work72878588532133705.git\r\n2017-03-06 17:37:18,177 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git clone --no-checkout --shared -b master /Users/fkraemer/atlassian/data/bitbucket/4.13.0/shared/data/repositories/1 /Users/fkraemer/atlassian/data/bitbucket/4.13.0/tmp/git/git-work72878588532133705.git\r\n2017-03-06 17:37:18,177 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.b.s.g.c.GitCommandExitHandler /usr/bin/git clone --no-checkout --shared -b master /Users/fkraemer/atlassian/data/bitbucket/4.13.0/shared/data/repositories/1 /Users/fkraemer/atlassian/data/bitbucket/4.13.0/tmp/git/git-work72878588532133705.git did not fail, but the following was written to stderr:\r\nCloning into '/Users/fkraemer/atlassian/data/bitbucket/4.13.0/tmp/git/git-work72878588532133705.git'...\r\ndone.\r\n2017-03-06 17:37:18,177 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPorcelain 1: Resetting /Users/fkraemer/atlassian/data/bitbucket/4.13.0/tmp/git/git-work72878588532133705.git to clean the index\r\n2017-03-06 17:37:18,189 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git reset --quiet bb8a30aff57df2c60ab5fbcc234f0fe3b5b66f16 --\r\n2017-03-06 17:37:18,204 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git cat-file --batch\r\n2017-03-06 17:37:18,220 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git status --short -- file.txt\r\n2017-03-06 17:37:18,233 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git -c core.autocrlf=input commit -m file.txt edited online with Bitbucket -q -- file.txt\r\n2017-03-06 17:37:18,267 DEBUG [http-nio-8443-exec-18] fkraemer @1V3DR5Lx1057x101x0 1468vi2 0:0:0:0:0:0:0:1 \"PUT /rest/api/latest/projects/PROJ/repos/git/browse/file.txt HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 500\r\ncom.atlassian.bitbucket.scm.CommandFailedException: '/usr/bin/git -c core.autocrlf=input commit -m file.txt edited online with Bitbucket -q -- file.txt' exited with code 128 saying: fatal: CRLF would be replaced by LF in file.txt.\r\n        at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onError(DefaultCommandExitHandler.java:46) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:104) ~[na:na]\r\n        at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:201) ~[na:na]\r\n        at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:31) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:146) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:280) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:244) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:83) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.stash.internal.scm.git.command.SimpleGitCommand.configureAndCall(SimpleGitCommand.java:84) ~[na:na]\r\n        at com.atlassian.stash.internal.scm.git.command.file.EditFileCommand.call(EditFileCommand.java:115) ~[na:na]\r\n        at com.atlassian.stash.internal.scm.git.command.file.EditFileCommand.call(EditFileCommand.java:62) ~[na:na]\r\n        at com.atlassian.stash.internal.content.DefaultContentService.editFile(DefaultContentService.java:107) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26) ~[atlassian-plugins-core-4.2.4.jar:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) ~[na:na]\r\n        at com.atlassian.stash.internal.rest.content.ContentResource.editFile(ContentResource.java:223) ~[bitbucket-rest-4.13.0.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1484801054000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1484801054000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1484801054000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1484801054000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1484801054000.jar:na]\r\n        at com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92) [analytics-client-5.2.20_1484801054000.jar:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.20_1484801054000.jar:na]\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) [classes/:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81) [atlassian-connect-plugin-1.1.86-bitbucket-04.jar:na]\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) [classes/:na]\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [classes/:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1484801054000.jar:na]\r\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) [classes/:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) [atlassian-connect-plugin-1.1.86-bitbucket-04.jar:na]\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) [jwt-plugin-1.5.11-0002_1484801054000.jar:na]\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) [analytics-client-5.2.20_1484801054000.jar:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.20_1484801054000.jar:na]\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) [classes/:na]\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:83) ~[bitbucket-service-impl-4.13.0.jar:na]\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_111]\r\n        at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_111]\r\n        ... 293 frames trimmed\r\nCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128\r\n        at com.atlassian.bitbucket.scm.SummarizingProcessHandler.complete(SummarizingProcessHandler.java:47) ~[bitbucket-spi-4.13.0.jar:na]\r\n        at com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:682) ~[atlassian-processutils-1.7.8.jar:na]\r\n        at com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161) ~[atlassian-processutils-1.7.8.jar:na]\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:242) ~[bitbucket-spi-4.13.0.jar:na]\r\n        ... 42 common frames omitted\r\n{noformat}\r\n\r\n * Adding {{safecrlf=warn}} to the {{[core]}} section of {{<BITBUCKET_HOME>/shared/data/repositories/1/config}} does not help.\r\n\r\nh3. Workaround\r\n\r\nSet {{core.safecrlf}} to {{warn}}\r\n\r\n{code}\r\ngit config --global core.safecrlf warn\r\n{code}",
      "summary": "File Editor is enforcing core.autocrlf=input and causing Git fatal exception"
    }
  },
  {
    "key": "BSERV-9617",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-19T06:46:16.000+0000",
      "created": "2017-03-06T09:14:19.000+0000",
      "description": "h3. We have a number of client applications that need to show repository information to the user.\r\n\r\n\u00a0\r\n\r\nCalling Bitbucket Server all the time would be prohibitively expensive, so we have a server that caches this state and only updates sometimes - to the benefit of all the clients.\r\n\r\n\u00a0\r\n\r\nWe have a similar arrangement for our Subversion server. In Subversion, the revision number of nodes allows the cache to determine if sub-trees are updated, without visiting them. This saves a lot of time.\r\n\r\n\u00a0\r\n\r\nBut with Bitbucket Server, we have to call each repository individually to query its state. Which takes forever.\r\n\r\n\u00a0\r\n\r\nIt would be nice if the API at rest/api/1.0/projects/\\{projectKey}/repos could return a date stamp (or revision) for latest commit to each of the listed repos. Possibly selected by some query parameters to (also) retain the current behavior.\r\n\r\nThen we would only have to visit (in depth) repos that have been updated since the last call.\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Querying state of all repositories is very slow"
    }
  },
  {
    "key": "BSERV-9616",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-19T23:14:19.000+0000",
      "created": "2017-03-02T22:54:56.000+0000",
      "description": "h3. Summary\r\n\r\nIf the user running Bitbucket Server has Git LFS installed, and configured in their .gitconfig file, pull requests between repositories which have a .gitattributes file that lists lfs filters will result in false merge conflicts.\r\n\r\nh3. Steps to Reproduce\r\n# Push a repository with LFS content and a .gitattributes that includes some lfs filters (these are created by running \"git track...\")\r\n# Create a fork of this repository\r\n# Modify one of the LFS tracked files and push changes\r\n# Create pull request from the fork to the origin\r\n\r\nh3. Expected Results\r\n\r\nPR can be merged without conflicts\r\n\r\nh3. Actual Results\r\n\r\nThe PR shows that there are merge conflicts which need to be resolved before merging.\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n2017-03-02 17:40:44,936 DEBUG [http-apr-7990-exec-10] jeff @16IFE63x1060x24009x0 akd42i 10.0.2.2,192.168.5.2 \"GET /rest/api/latest/projects/TB/repos/scratch/pull-requests/2/merge HTTP/1.1\" c.a.s.i.s.g.p.DefaultPullRequestAutoMergeStrategy TM/scratch[275]: Pull request 158@3 failed automatic merging\r\ncom.atlassian.bitbucket.scm.MergeException: The merge could not be completed automatically. Please clone 'TB/scratch', checkout 'devel' from 'Tb/scratch' and merge 'feature/branch' from 'TB/fork' (or commit 'aac6b95cff7e83104e25f8b2160efa5ca7b07ab8') manually, resolving any conflicts, and push the results.\r\nat com.atlassian.stash.internal.scm.git.merge.MergeCommand.newMergeException(MergeCommand.java:170) ~[bitbucket-git-4.9.1.jar:na]\r\n...\r\nCaused by: com.atlassian.bitbucket.scm.CommandFailedException: '/usr/bin/git merge -m Automatic merge --no-ff --log aac6b95cff7e83104e25f8b2160efa5ca7b07ab8' exited with code 128 saying: Downloading file.tgz (216.53 MB)\r\nError downloading object: file.tgz (884a5c896a29fa1e4685263d7a873f5f2f030ce0d3b1c61875c8760f6b3354ac)\r\nErrors logged to /var/atlassian/application-data/bitbucket/tmp/git/scratch-work6156018846200346686.git/.git/lfs/objects/logs/20170301T094743.361000284.log\r\nUse `git lfs logs last` to view the log.\r\nerror: external filter git-lfs smudge \u2013 %f failed 2\r\nerror: external filter git-lfs smudge \u2013 %f failed\r\nfatal: file.tgz: smudge filter lfs failed\r\nat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onError(DefaultCommandExitHandler.java:46) ~[bitbucket-spi-4.9.1.jar:na]\r\n...\r\nCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128\r\n{noformat}\r\n\r\nh3.Workaround\r\nUninstall Git LFS for the user running Bitbucket Server by running {{git-lfs uninstall}}",
      "summary": "Pull request merge checks fail if LFS client is installed"
    }
  },
  {
    "key": "BSERV-9615",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-13T03:47:56.000+0000",
      "created": "2017-03-02T14:27:08.000+0000",
      "description": "According to the [REST API documenation|https://developer.atlassian.com/static/rest/bitbucket-server/4.14.1/bitbucket-rest.html#idm45888278358400] this endpoint should require authentication.\r\n\r\nAnyone can obtain user's full name, email, userid, as well as personal repositories without any authentication.\r\n",
      "summary": "/rest/api/1.0/users/{userSlug} requires no authentication"
    }
  },
  {
    "key": "BSERV-9614",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-15T23:40:25.000+0000",
      "created": "2017-03-02T13:10:51.000+0000",
      "description": "h3. Summary\r\nWhen trying to merge a forked repository back to the original repository, if a conflict is detected, the instructions given for the merge are incorrect.\r\n\r\nh3. Steps to Reproduce\r\n# Fork a repository.\r\n# Make changes to one file in the original repository after the fork.\r\n# Make changes on the same file on the forked repository in order to create a conflict.\r\n# Create a PR to merge back the Fork with the original repository\r\n# After the PR gets created a warning panel shows the presence of a conflict and offers more information on how to solve the conflict.\r\n\r\n!Screen Shot 2017-02-28 at 17.16.02.png|thumbnail! \r\n\r\nh3. Expected Results\r\n\r\nThe instructions show the correct steps to merge after the conflict is removed.\r\n\r\n\r\nh3. Actual Results\r\n\r\nThe instructions shown have an incorrect repository URL showed where the expected {{.git}} URL is shown as {{.undefined}}\r\n\r\n !Screen Shot 2017-02-28 at 17.14.10.png|thumbnail!  \r\n\r\nh3.Workaround\r\nApart from the repository URL, the instructions are still valid.\r\n\r\nExecute the instructions being sure to replace {{.undefined}} with {{.git}}",
      "summary": "Merge instructions for Fork Pull Request merge conflicts have .undefined in git repository URL"
    }
  },
  {
    "key": "BSERV-9613",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-07-26T04:18:06.000+0000",
      "created": "2017-03-02T10:59:08.000+0000",
      "description": "How\u00a0DefaultHttpAuthenticationContext.onSuccess(user) leaves username unmodified. There are some cases when username is some control string, like 'x-oauth-token', and after authentication it get valid ApplicationUser from authentication system, but:\r\n\r\n{{String username = context.getUsername() != null ? context.getUsername() : context.getUser().getName();}}\r\n\r\n{{eventPublisher.publish(new AuthenticationSuccessEvent(this, username, context.getMethod()));}}\r\n\r\nAnd this send event for user 'x-auth-token', that is not a valid user. But possible it must use user.getName() if getUser() is not null. Like this:\r\n\r\n{{String username = context.getUser() != null ? context.getUser().getName() : context.getUsername();}}\r\n\r\n\u00a0",
      "summary": "Wrong AuthenticationSuccessEvent username"
    }
  },
  {
    "key": "BSERV-9612",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-09-05T00:11:29.000+0000",
      "created": "2017-03-02T09:12:40.000+0000",
      "description": "h4. Summary\r\nUser is seeing an error 500 page when trying to view a source file, if the particular file contains \"%\" character/s\r\n\r\nh4. Steps to Reproduce\r\n# Create a file with name {{%test%.txt}}.\r\n# Made a few changes to the file and commit the file into a Bitbucket repo\r\n# Click on the file from Source view to view its content\r\n\r\nh4. Expected Results\r\nThe content of the file should be displayed\r\n\r\nh4. Actual Results.\r\nClicking on the file to view its content will cause an error 500 page instead\r\n\r\nh4. Workaround\r\nRename the affected file to not contain any '%' characters on its file name",
      "summary": "Files with percent '%' signs on their names causes error 500 when trying to view it on Bitbucket"
    }
  },
  {
    "key": "BSERV-9610",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-07-01T07:44:12.000+0000",
      "created": "2017-03-02T05:28:25.000+0000",
      "description": "h3. Problem Definition\r\nAdministrators want to disable HTTP for git authentication, but still allow HTTP to be used for LFS operations (which can rely on SSH authentication). However, disabling HTTP(S) SCM disables also disables Git LFS operations\r\n\r\nh3. Suggested Solution\r\nAllow LFS operations to be performed even when HTTP(S) SCM Hosting is disabled. Ticking \"Git LFS Enabled\" when HTTP(S) is not enabled should show some kind of warning, e.g. \"Git LFS operations will transfer files over HTTP even when HTTP(S) SCM Hosting is disabled)\"\r\n",
      "summary": "Allow ability to enable HTTP for LFS even when HTTP for SCM is disabled"
    }
  },
  {
    "key": "BSERV-9609",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-03-02T00:58:53.000+0000",
      "description": "h3. Steps to Reproduce\u00a0\r\n# Create a new project\r\n# Ensure that it has *zero* public repositories\r\n# Attempt to retrieve its avatar\r\n{noformat}\r\ncurl -I http://localhost:7990/projects/PROJ/avatar.png?s=256&v=1488405326000\r\n{noformat}\r\n\r\nh3. Results\r\nThe default avatar gets returned.\r\n|| &nbsp; (i) &nbsp; |If a single repository is set as public, the project avatar will be returned.|\r\n\r\nh3. Notes\r\nSince Bitbucket server v4.4, default project avatars (i.e Project images) were changed to from png to svg so a single image could be used in multi resolution and colours could also be applied to it, however, there are still email clients that do not provide support to this type of image-type (_i.e: Outlook_) and due to the above presented, the avatar cannot be rendered in email client.",
      "summary": "Default Project images are not supported in Outlook Express, 2007, 2010"
    }
  },
  {
    "key": "BSERV-9608",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T21:31:59.000+0000",
      "created": "2017-03-01T10:32:12.000+0000",
      "description": "On the Bitbucket Server 4.14 release notes: https://confluence.atlassian.com/bitbucketserver/bitbucket-server-4-14-release-notes-873929799.html, the image file under the 'Automatic updates and email reviewer status' section links to:\r\n\r\nhttps://extranet.atlassian.com/download/attachments/3143930105/auto%20update%20demo.gif?version=2&modificationDate=1487126470107&api=v2\r\n\r\nwhich is not accessible to non-Atlassians -- and ends up as a broken image for most users.\r\n\r\n",
      "summary": "Broken image on the Bitbucket Server 4.14 release notes documentation"
    }
  },
  {
    "key": "BSERV-9606",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-22T05:21:46.000+0000",
      "created": "2017-02-27T22:48:29.000+0000",
      "description": "Currently we use the following in bitbucket.properties, feature.public.access=false.  We don't want to open up public access globally and have project admins misconfigure access resulting in somebody having access to something they shouldn't.  \r\n\r\nThere are instances where a group would like to have anonymous access to a repository.  If a system administrator had a way to allow specific repositories to by cloned anonymously this would keep security and allow anonymous cloning for known and approved repositories.",
      "summary": "Option for system administrator to allow anonymous clone without opening up the entire service"
    }
  },
  {
    "key": "BSERV-9605",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T12:45:36.000+0000",
      "created": "2017-02-27T11:56:03.000+0000",
      "description": "We have customers of ScriptRunner for Bitbucket Server that would like to see what each merge strategy repositories are using and update them without going into the settings of each.",
      "summary": "Expose Java API for getting and updating merge strategies"
    }
  },
  {
    "key": "BSERV-9604",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-27T03:11:39.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAs long as HTTPS is a requirement of using LFS, it should be possible to enable LFS over HTTPS without enabling HTTPS for standard Git transactions. There are teams that have a requirement to use SAML, which Git + HTTP cannot support, leaving SSH only as an option. However, even when using SSH, users of Git-LFS need to open an HTTP connection (using another built-in form of auth).\r\nh3. Suggested Solution\r\n\r\nIn such a configuration, ideally it should be possible to send back a clear message of denial to any git client attempting to access Bitbucket when git via HTTPS has been disabled. My experience has been that the git client can't handle such errors gracefully, normally only returning the first four characters of the server message. In that case, it would be pretty clear simply to return a message beginning with \"DENY\", which the user could then look up in Atlassian documentation.\r\n\r\n\u00a0",
      "summary": "As an administrator, I want to be able to disable HTTP for git operations even if git LFS is enabled"
    }
  },
  {
    "key": "BSERV-9603",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-16T04:59:18.000+0000",
      "created": "2017-02-27T03:09:10.000+0000",
      "description": "h3. Problem Definition\r\n\r\nConsider the behavior we see right now with only SSH enabled, where users are prompted to add keys to their account and told how to access the repo via SSH when they look at the repo settings. I want to force users to see this behavior even if HTTPS access is enabled. However, as it is right now, if I enable HTTPS access and a person logs in without SSH keys set up, the system will default to telling them all about how to access via HTTPS and will stay silent about SSH.\r\n\r\nh3. Suggested Solution\r\n\r\nIt should be possible for an administrator to configure which connection methods Bitbucket server advertises. \u00a0The point is, the system behavior ought to be configurable so that even if both access methods are enabled, only one method or the other is advertised to the user, according to what the administrator has chosen.",
      "summary": "As an administrator, I want to be able to configure which clone methods (SSH/HTTP) Bitbucket Server displays, regardless of which methods are enabled"
    }
  },
  {
    "key": "BSERV-9602",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:36:29.000+0000",
      "created": "2017-02-24T10:23:01.000+0000",
      "description": "The docs incorrectly indicate how to add git repo to existing local repo.\r\n\r\n\u00a0\r\n\r\ngit remote add origin ssh://git@bitbucket.org/arcseldon/myrepo.git\r\n\r\ngit push -u origin master\r\n\r\n\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Bitbucket documentation error"
    }
  },
  {
    "key": "BSERV-9601",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-16T04:56:01.000+0000",
      "created": "2017-02-24T02:44:06.000+0000",
      "description": "Currently we use the AWS CodeDeploy integration to deploy our code from commits to our EC2 servers. This is working great and we really love it. But one issue is that we have no way of knowing the commit hash in our CodeDeploy script. It would be great if there was some way for Bitbucket to transmit this data. Maybe, adding a meta tag to the zip file uploaded to S3 or something similar. Thank you.",
      "summary": "CodeDeploy Integration"
    }
  },
  {
    "key": "BSERV-9600",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-23T13:11:19.000+0000",
      "description": "Hi,\r\n\r\nIntegration with upsource would solve the problem faced in Bitbucket reviews of not being able to explore the full code while reviewing without pull from the BB server,\r\n\r\n[https://www.jetbrains.com/upsource/]\r\n\r\nThanks.",
      "summary": "Integrate with JetBrains Upsource"
    }
  },
  {
    "key": "BSERV-9599",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-30T03:20:33.000+0000",
      "created": "2017-02-23T12:48:38.000+0000",
      "description": "Moved from Bitbucket Cloud's public issue tracker:\r\n\r\n[https://bitbucket.org/site/master/issues/13870/improper-checking-during-pr-reviews-allows]\r\n{quote}I am not sure if this has been reported before (and possibly patched already), or if this is the proper channel to report it.\r\n\r\nI realized that one can self-approve a PR (at least in v 4.10.1).\r\n\r\nReproduction steps.\r\n\r\n1. Person A creates a branch, opens a new PR and add Person B as a reviewer. \r\n2. Person B does another commit on that PR and pushes. \r\n3. The PR now has commits from Person A and Person B. \r\n4. Person B shouldn't be able to review it anymore. Yet, he is and he can self-approve and merge.\r\n\r\nThis bug has some security implications also.\r\n{quote}\r\n\u00a0",
      "summary": "Improper checking during PR reviews allows participants to +2 themselves"
    }
  },
  {
    "key": "BSERV-9598",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:22:15.000+0000",
      "created": "2017-02-23T12:19:38.000+0000",
      "description": null,
      "summary": "It would be great to be able to delete the very old branches from BitBucket interface"
    }
  },
  {
    "key": "BSERV-9597",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T05:48:38.000+0000",
      "created": "2017-02-23T10:04:35.000+0000",
      "description": "h3. Problem Definition\r\n\r\nTo track the which reviewer have assigned to review pull requests. Even though it's limited to per-repo listing (currently), it helps teams understand what their colleagues have under review.\r\nh3. Suggested Solution\r\n\r\nAdd filter at pull request list page to filter out based on reviewers.\r\n\r\nAlternatively, BSERV-3856 describes a generic pull request search capability that could also serve this purpose.",
      "summary": "Filter pull requests by reviewers on the pull request list"
    }
  },
  {
    "key": "BSERV-9596",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-23T02:17:39.000+0000",
      "description": "The public key excerpt column provides limited value for the space it takes up. Two keys, one 4096-bit RSA and one 2048-bit RSA, start with the same\u00a027 characters (or 35 characters, if you include the ssh-rsa).\r\n\r\nThe default comments in ssh-keygen(1) keys (user@host) aren\u2019t as useful as they could be, and columns for date added (Cloud has this!) and key type would reduce my desire to give each of my keys a custom comment.\r\n\r\nA key type column that\u00a0consists of the first word of each key (like \u201cssh-rsa\u201d or \u201cssh-ed25519\u201d) is just as useful as the current excerpt column, but a column that says \u201cRSA (4096 bits)\u201d or \u201cECDSA (P-256)\u201d or \u201cDSA (1024 bits)\u201d ^ or \u201cEd25519\u201d (once they are supported) would really tickle my fancy.\r\n\r\n^ you could omit the \u201c(1024 bits)\u201d for now, because SSH (as of RFC 4253) is tightly coupled to the FIPS 186-2 version of DSA, where keys must be of that length",
      "summary": "SSH keys: show date added and type instead of excerpt"
    }
  },
  {
    "key": "BSERV-9595",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-22T22:05:25.000+0000",
      "description": "At the moment default debug logging in Bitbucket Server does not include some commonly used loggers (LDAP, embedded Crowd, SQL and email) which in turn have to be [manually enabled|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-debug-logging-776640147.html].\r\n\r\nit would be great to have the ability to have these loggers enabled via the application UI, similar to [JIRA's implementation|https://confluence.atlassian.com/jirakb/how-to-set-logging-level-for-a-package-in-jira-629178605.html].\r\n\r\n{color:#333333}This will result in better user experience and help avoid issues raised as a result of errors introduced due to manual editing of files.{color}",
      "summary": "Ability to enable debug logging for different packages via the application UI"
    }
  },
  {
    "key": "BSERV-9594",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-22T18:33:39.000+0000",
      "description": "h3. Problem Definition\r\nNowadays the branch filter is based on \"word\" boundaries, so the branches that have the term searched for at the start of a \"word\" boundary or after a hyphen are retrieved.\r\n\r\nFor example, supposing that the term being searched for is \"16\", branches that start with \"16\" or that have \"16\" after a hyphen are retrieved. Any branches that contain \"16\" in the middle of a \"word\" will not match.\r\n\r\nh3. Suggested Solution\r\nMake it possible to find the term searched for in the middle of a \"word\" boundary.",
      "summary": "Branch search should match on all substrings, not just word boundaries"
    }
  },
  {
    "key": "BSERV-9593",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-06T21:58:14.000+0000",
      "created": "2017-02-22T16:47:07.000+0000",
      "description": "h3. Problem Definition\r\nFatal errors that are not easily diagnosable are encountered  when there are white spaces at the end of lines in properties files (eg. bitbucket.properties)\r\n\r\nAn example is if there is a trailing whitespace at the end of the JDBCURL in the bitbucket.properties file, a generic \"Fatal error occurred. The database as currently configured is not accessible\" error is display in the UI and logged.\r\n\r\nh3. Suggested Solution\r\nA. Strip all trailing whitespaces in properties files to avoid these kinds of error\r\nB. Better logging for when this type of issue is encountered\r\n\r\nh3. Why this is important\r\nThis will save Customers and Support a lot of time that is typically spent during troubleshooting",
      "summary": "Strip trailing white space from lines in properties files"
    }
  },
  {
    "key": "BSERV-9592",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-22T12:00:41.000+0000",
      "description": "On the Bitbucket server ( v4.12.1) Administration page -> Analytics, the page talks about collecting data about the usage of Stash. This should be updated to the new name Bitbucket.\r\n\r\n !Screen Shot 2017-02-22 at 8.02.32 PM.png|thumbnail! ",
      "summary": "Spotted Typo on Analytics page on Bitbucket Server Settings"
    }
  },
  {
    "key": "BSERV-9591",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-23T03:10:24.000+0000",
      "created": "2017-02-22T04:50:34.000+0000",
      "description": "When trying to transition a JIRA issue in Bitbucket server, if the transition fails on the JIRA side no indication of failure is shown, and none of the values filled in the issue fields persist.\u00a0\r\n\r\nIn the gif below, a comment field is required to transition the issue (rule enforced by ScriptRunner), so\u00a0the issue is never updated and the label doesn't persist.\u00a0\r\n\r\n\u00a0\r\n\r\n!Z2NbB9OcDC.gif!\r\n\r\n\u00a0",
      "summary": "Failure is not indicated when transitioning Jira issues in Bitbucket Server"
    }
  },
  {
    "key": "BSERV-9590",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-05T05:46:20.000+0000",
      "created": "2017-02-22T04:24:58.000+0000",
      "description": "When trying to transition a JIRA issue from Bitbucket Server, the issue fields, e.g. labels, are not displaying the values of those fields in the actual JIRA issue.\r\n\r\nSteps to reproduce:\r\n* Open a PR that has an issue link\r\n* Click the issue link\r\n* Click one of the issue's transition buttons (examples: \"Close issue\", \"QA\", \"Restart progress\", etc)\r\n* (I clicked \"Close issue\") A form will appear to complete the transition\r\n\r\nExpected behaviour:\r\n* If some of the fields on the form already have values (for example, \"fixVersion\"), those values should be shown\r\n\r\nActual behaviour:\r\n* Any existing values are not shown\r\n",
      "summary": "Jira issue dialog is not displaying the content of issue fields on transition"
    }
  },
  {
    "key": "BSERV-9589",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-20T03:01:30.000+0000",
      "created": "2017-02-21T09:38:21.000+0000",
      "description": "{code:java}\r\n@EventListener\r\npublic void repoCloneEvnet(RepositoryCloneEvent repositoryCloneEvent) {\r\n    log.info(\"repositoryCloneEvent fired\");\r\n    Repository repository = repositoryCloneEvent.getRepository();\r\n    Project project = repository.getProject();\r\n    ApplicationUser user = repositoryCloneEvent.getUser();\r\n    Date date = repositoryCloneEvent.getDate();\r\n}\r\n{code}\r\n\r\nWhen the {{RepositoryCloneEvent}} is triggered, it correctly returns values for repository, project and date. But it returns {{null}} for user. For other events user is returned.\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "RepositoryCloneEvent.getUser() is always null"
    }
  },
  {
    "key": "BSERV-9588",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-21T08:27:08.000+0000",
      "description": "h3. Problem Definition\r\nWhen using NFS as file system, it is required to make sure that the performances are in line with the Bitbucket Server requirements to guarantee good performances.\r\n\r\nThe [Testing disk access speed for a Java application|https://confluence.atlassian.com/kb/testing-disk-access-speed-for-a-java-application-818577561.html] documentation provides the metrics to be used for comparison when using a local filesystem. However, such values will never be achieved when using NFS.\r\n\r\n\r\nh3. Suggested Solution\r\nProvide the metrics for the customer to assess the performances of their instances.\r\n\r\nAlso, if the tool is not the appropriate one because of the specific way Git operates with the filesystem, it should be enhanced to include specific tests to cover this specific behaviour.\r\n",
      "summary": "As an admin, I would like to run a disk access speed test so that I can be assured that Bitbucket Server will be well performing"
    }
  },
  {
    "key": "BSERV-9586",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-23T03:52:51.000+0000",
      "created": "2017-02-20T01:51:26.000+0000",
      "description": "On the [hook settings REST API documentation|https://developer.atlassian.com/static/rest/bitbucket-server/4.14.2/bitbucket-rest.html#idm45627978208608], the example request for the PUT verb is missing (the expand link doesn't show anything).\r\n\r\n*Reporter*: Linda Liu\r\n*E-mail*: [mailto:ranli@cisco.com]",
      "summary": "Hook settings REST API request example is missing"
    }
  },
  {
    "key": "BSERV-9585",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-20T08:25:34.000+0000",
      "created": "2017-02-19T21:41:15.000+0000",
      "description": "Please see [https://answers.atlassian.com/questions/55690124|https://answers.atlassian.com/questions/55690124/answers/56034162?flashId=-1503456702]\r\n\r\nThe\u00a0scheduler.worker.threads is not enough to plugin jobs, then new jobs discarded and never been run.",
      "summary": "Jobs lost on threads exceeded"
    }
  },
  {
    "key": "BSERV-9584",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-17T21:49:28.000+0000",
      "description": "I think that Bitbucket server should allow downloads of referenced commit files (which was part of the request from https://jira.atlassian.com/browse/BSERV-9234\u00a0which was closed because the raw option was enough for the requester).\u00a0I would suggest the &download as an optional request parameter, for example:\r\n\r\nhttps://bitbucket.example.com/projects/AA/repos/test/browse/some/dir/filename.txt?at=f6c52c8e840d350b3d79e34952e5cdc661d618ac&raw&download\r\n\r\nUnless you know the mime type,\u00a0you'd set this header on the request:\u00a0\"Content-Type: application/octet-stream\", I think. Reading the\u00a0following answer on S.O. and *all* comments\u00a0might help (or read RFC 2046):\u00a0http://stackoverflow.com/a/20509354\r\n\r\nThen you would add the \"Content-Disposition: attachment; filename=filename.txt\" header to the response, indicating that\u00a0the client should download the file.\r\n\r\nhttps://bitbucket.example.com/projects/AA/repos/test/browse/some/dir/filename.txt?at=f6c52c8e840d350b3d79e34952e5cdc661d618ac&raw&download=requested_filename.txt\r\n\r\nwould add \"Content-Disposition: attachment; filename=requested_filename.txt\" or perhaps &download to cause the browser to download the file.\r\n\r\nThe reason for this is *not* to substitute for having a place to download release files, etc., but instead just for convenience, because if you send a user a file they should download and they are stuck looking at text in the browser that they then have to save, that's not as great as it could be.\r\n\r\nThanks for considering this.\r\n\r\n\u00a0",
      "summary": "Support download request param for raw file"
    }
  },
  {
    "key": "BSERV-9583",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-16T04:36:35.000+0000",
      "created": "2017-02-17T20:20:48.000+0000",
      "description": "This seems like a bug but I can't navigate the support system so here it is.\r\n\r\nThe ref being watched for successful builds in a PR seems to be /refs/heads/* and not /refs/pull-requests/prnumber .\r\n\r\n/refs/heads is not the PR and does not include the merge back to the destination.\u00a0 Can this be fixed?",
      "summary": "Pull-request config for 'Minimum required builds' watches wrong ref"
    }
  },
  {
    "key": "BSERV-9581",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-17T08:33:45.000+0000",
      "description": "Some customer may find concurrent login for a single user is flagged as a vulnerability. A suggestion is to provide an option to restrict this.\r\n\r\n*More information needed*: Why is this considered a vulnerability in practice? This suggestion needs more concrete rationale before we would consider it.\r\n\r\n*Workaround*: Lowering the default session timeout can mitigate the perceived risk",
      "summary": "Restrict Concurrent Login"
    }
  },
  {
    "key": "BSERV-9580",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-17T00:51:52.000+0000",
      "created": "2017-02-17T00:45:39.000+0000",
      "description": "Subj.",
      "summary": "In the list of pull requests, display icon of merge conflicts similar to build status"
    }
  },
  {
    "key": "BSERV-9579",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:22:00.000+0000",
      "created": "2017-02-17T00:02:06.000+0000",
      "description": "As a developer and DevOps\u00a0engineer managing a huge repository and multiple branches, it's really painful to go ahead and delete each branch individually from the Bitbucket UI.\u00a0\r\n\r\nIt would be a really nice feature to be able to select the branches that I wanted to delete and do that in one go.",
      "summary": "Ability to delete multiple branches"
    }
  },
  {
    "key": "BSERV-9578",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-16T19:26:31.000+0000",
      "created": "2017-02-16T15:50:32.000+0000",
      "description": "Instead of simply viewing the PR's that you are assigned to as a reviewer, add the ability to see ones that still need to act upon (have not yet been approved)\r\n\r\n\u00a0\r\n\r\nCurrent API call looksl like:\r\n\r\nhttps://bitbucket.com/rest/api/latest/projects/<PROJECT>/repos/app/pull-requests?avatarSize=64&order=newest&state=OPEN&role.1=REVIEWER&username.1=<USERNAME>&start=0\r\n\r\n\u00a0\r\n\r\nPotential idea:\r\n\r\nShould be able to add status.1=UNAPPROVED, or the approved.1=false to the end of that query string as it is part of the returned object so I'm assuming access to it is fairly straightforward.",
      "summary": "Add ability to search for pull request that you have not yet reviewed"
    }
  },
  {
    "key": "BSERV-9576",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-16T04:52:13.000+0000",
      "description": "When running the Restore client to restore a DB other than {{H2}}, if the JDBC properties (including {{jdbc.override}}) are provided and {{jdbc.driver}} is omitted, the restore client will successfully restore the instance but will produce a {{bitbucket.properties}} file in the shared home directory which sets {{jdbc.driver=org.h2.Driver}}. As a result, the instance will not be able to start.",
      "summary": "Missing JDBC driver when restoring Bitbucket Server leaves an inconsistent bitbucket.properties file"
    }
  },
  {
    "key": "BSERV-9575",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-01-31T02:53:14.000+0000",
      "description": null,
      "summary": "As a developer when I open a PR that is already merged I don't expect the iterative review to happen, I want to see the full diff"
    }
  },
  {
    "key": "BSERV-9573",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-02-26T23:29:53.000+0000",
      "created": "2017-02-15T23:12:28.000+0000",
      "description": "h3. Problem Definition\r\n\r\nAs in a feature request [Support for IPv6|https://jira.atlassian.com/browse/BSERV-7603], we don't support IPv6 on Bitbucket Server at this moment.\r\n In [some knowledgebase|https://confluence.atlassian.com/bitbucketserverkb/trusted-application-authentication-ipv6-exception-779171879.html], there seems to be some mentions about it. However, there isn't in our official docs.\r\nh3. Suggested Solution\r\n\r\nWe should announce it on our official docs like [Supported Platforms|https://confluence.atlassian.com/display/BitbucketServer/Supported+platforms] as well.",
      "summary": "Documentation about IPv6"
    }
  },
  {
    "key": "BSERV-9572",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-15T23:01:11.000+0000",
      "description": "At\u00a0 [https://confluence.atlassian.com/bitbucketserver/bitbucket-server-config-properties-776640155.html]\u00a0we document several SSO-related properties that can be used in {{bitbucket.properties}}, including {{plugin.auth-crowd.sso.session.tokenkey}}.\r\n\r\nThere is another related Crowd property, {{cookie.tokenkey}} (see\u00a0 [https://confluence.atlassian.com/crowd/the-crowd-properties-file-98665664.html]) that can also be set in Bitbucket Server, but it's currently undocumented, and it's called {{plugin.auth-crowd.sso.cookie.tokenkey}}.\r\n\r\nThis should be documented accordingly.",
      "summary": "Add documentation for plugin.auth-crowd.sso.cookie.tokenkey"
    }
  },
  {
    "key": "BSERV-9571",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-15T20:16:21.000+0000",
      "description": "My team uses the squash strategy when merging our features into an integration branch. \u00a0Due to the nature of squashing, we try to delete the source branch when performing the merge so that there is no confusion about the commits ahead/behind the target in the Bitbucket UI. \u00a0However, sometimes we forget, and it would be nice if the status message on the branch indicated the strategy used, like \"Squashed\" instead of just \"Merged\". \u00a0It would help us more quickly identify branches that were obsolete.",
      "summary": "Make it easier to see obsolete branches (esp if squash merge strategy was used)"
    }
  },
  {
    "key": "BSERV-9570",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-23T02:54:55.000+0000",
      "created": "2017-02-15T13:53:30.000+0000",
      "description": "h3. Summary\r\nBlame generates an error 'Line <filename> \"Line <filename> with Git 2.11.1\r\n\r\nh3. Steps to Reproduce\r\n# Go to a repo source\r\n# Choose a file with non-trivial history (more than one change)\r\n# Click the Blame button\r\n\r\n\r\nh3. Expected Results\r\nYou should view the Blame\r\n\r\nh3. Actual Results\r\nYou see an error on the screen:\r\n !Screen Shot 2017-02-15 at 9.56.54 PM.png|thumbnail! \r\n \r\nh3.Workaround\r\nDowngrade to Git version 2.11.0\r\n\r\nLooks like this issue is caused by the fact Git 2.11.1 produces more lines in blame output than Git 2.11.0. See https://github.com/git/git/commit/4e768329847c8226a230406041fe249adea245cf",
      "summary": "Blame generates an error with Git 2.11.1+"
    }
  },
  {
    "key": "BSERV-9568",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-14T16:16:32.000+0000",
      "description": "h3. Problem Definition\r\nBitbucket Cloud provides an Overview Page that is useful for getting an idea of a repo at a glance. Bitbucket Server does not offer a page like this.\r\n\r\nh3. Suggested Solution\r\nProvide an Overview page in Bitbucket Server.\r\n\r\nh3. Why this is important\r\nIt is useful for getting a high level perspective on a repo without digging into details or navigating across several different pages in the UI\r\n",
      "summary": "As a user I'd like to have an Overview page in Server similar to the one in Bitbucket Cloud"
    }
  },
  {
    "key": "BSERV-9567",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-14T04:39:25.000+0000",
      "created": "2017-02-14T04:35:50.000+0000",
      "description": "This issue can be seen in the compare branch page, or in the create pull request page. The system attempts to produce the list of commits to display, and as part of that logic it will attempt to resolve the relevant refs. If these refs have been packed the {{LooseRefDb}} will not handle it correctly and a {{NullPointerException}} will be produced.\r\n\r\n{code}\r\njava.lang.NullPointerException: null\r\nat com.atlassian.stash.internal.scm.git.ref.LooseRefDb.matchesSha(LooseRefDb.java:312) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.ref.LooseRefDb.internalResolveSha1(LooseRefDb.java:299) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.ref.LooseRefDb.internalResolve(LooseRefDb.java:236) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.ref.LooseRefDb.resolve(LooseRefDb.java:104) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.ref.CompositeGitRefDb.resolve(CompositeGitRefDb.java:103) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.command.refdb.ResolveGitRefDbCommand.internalCall(ResolveGitRefDbCommand.java:54) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.command.refdb.ResolveGitRefDbCommand.internalCall(ResolveGitRefDbCommand.java:23) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.command.refdb.AbstractGitRefDbCommand.call(AbstractGitRefDbCommand.java:47) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.command.refdb.ResolveGitRefDbCommand.call(ResolveGitRefDbCommand.java:43) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.command.refdb.ResolveGitRefDbCommand.call(ResolveGitRefDbCommand.java:23) ~[na:na]\r\nat com.atlassian.stash.internal.scm.git.command.TransformedGitCommand.call(TransformedGitCommand.java:45) ~[na:na]\r\nat com.atlassian.stash.internal.repository.DefaultRefService.resolveRef(DefaultRefService.java:245) ~[bitbucket-service-impl-4.12.1.jar:na]\r\nat com.atlassian.stash.internal.web.repos.RepositoryController.findViewRef(RepositoryController.java:599) ~[classes/:na]\r\nat com.atlassian.stash.internal.web.repos.RepositoryController.getCommits(RepositoryController.java:159) ~[classes/:na]\r\nat com.atlassian.stash.internal.web.repos.RepositoryController.getCommitListContents(RepositoryController.java:228) ~[classes/:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1483512906000.jar:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1483512906000.jar:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1483512906000.jar:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1483512906000.jar:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.4_1483512906000.jar:na]\r\nat com.atlassian.bitbucket.internal.importer.web.RepositoryImportFilter.doFilter(RepositoryImportFilter.java:68) [bitbucket-importer-4.12.1.jar:na]\r\nat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) [classes/:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:109) [classes/:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [classes/:na]\r\nat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\nat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1483512906000.jar:na]\r\nat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\nat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1483512906000.jar:na]\r\nat com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) [atlassian-core-4.6.19.jar:na]\r\nat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) [atlassian-core-4.6.19.jar:na]\r\nat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) [atlassian-connect-plugin-1.1.86-bitbucket-04.jar:na]\r\nat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) [jwt-plugin-1.5.11-0002_1483512906000.jar:na]\r\nat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) [analytics-client-5.2.20_1483512906000.jar:na]\r\nat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.20_1483512906000.jar:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) [classes/:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) [classes/:na]\r\nat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:83) ~[bitbucket-service-impl-4.12.1.jar:na]\r\nat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_92]\r\nat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_92]\r\n... 293 frames trimmed\r\n{code}",
      "summary": "NullPointerException when resolving refs"
    }
  },
  {
    "key": "BSERV-9566",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-29T23:33:55.000+0000",
      "created": "2017-02-14T02:59:57.000+0000",
      "description": "h3. Summary\r\n\r\nIf the user installing Bitbucket Server is a domain user, the Atlassian Bitbucket AtlassianBitbucket service is configured to run under the {{DOMAIN\\atlbitbucket}} account, even though the installer creates the {{atlbitbucket}} account only on the local machine. This prevents the Atlassian Bitbucket AtlassianBitbucket service from starting due to a logon failure.\r\nh3. Environment\r\n * Windows machine, joined to a domain\r\n * The user installing Bitbucket Server is logged on as a domain user\r\n\r\nh3. Steps to Reproduce\r\n # Log onto a Windows machine that is joined to a domain using a domain user\r\n # Run the Bitbucket Server installation wizard and accept all defaults (i.e. choose to install Bitbucket Server as a service)\r\n # Once the installer has finished, try starting the *Atlassian Bitbucket AtlassianBitbucket* service or the *Atlassian Bitbucket AtlassianBitbucketElasticsearch* service\r\n\r\nh3. Expected Results\r\n\r\nThe service starts without problems.\r\nh3. Actual Results\r\n\r\nThe service fails to start due to a logon failure. (Windows error 1069)\r\nh3. Workaround\r\n\r\nTo workaround this problem, change the logon user of the *Atlassian Bitbucket AtlassianBitbucket* and *Atlassian Bitbucket AtlassianBitbucketElasticsearch* services to the local user created by the installation wizard by following these steps:\r\n # Open *Computer Management* from the Windows Administrative Tools\r\n # Navigate to *Local Users and Groups* > *Users*\r\n # Right-click on the {{atlbitbucket}} user and select *Set Password*\r\n # Click *Proceed*\r\n # Set a new password of your choice (you will need this later), confirm it, and click *OK*\r\n # Click *OK*\r\n # Close *Computer Management*\r\n # Open the *Services* pane from the Windows Administrative Tools\r\n # Right-click on the *Atlassian Bitbucket AtlassianBitbucket* service and select *Properties*\r\n # Switch to the *Log On* tab\r\n # In the field *This Account* replace {{DOMAIN\\atlbitbucket}} (where {{DOMAIN}}) is your Windows domain with {{.\\atlbitbucket}}\r\n # In the field *Password* enter the password you set in step 5 above, and confirm it in the respective field\r\n # Click *OK*\r\n # Repeat steps 9 through 13 for the *Atlassian Bitbucket AtlassianBitbucketElasticsearch* service\r\n\r\nOnce you have completed these steps you should be able to start the *Atlassian Bitbucket AtlassianBitbucket* and *Atlassian Bitbucket AtlassianBitbucketElasticsearch* services without errors.",
      "summary": "Atlassian Bitbucket Services fail to start if the user who installed Bitbucket Server is a domain user"
    }
  },
  {
    "key": "BSERV-9565",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:13:17.000+0000",
      "created": "2017-02-13T16:26:14.000+0000",
      "description": "h3. Problem Definition\r\nThe \"Prevent Changes without a Pull Request\" branch permission allows branches to be created through the UI by all users.\r\nThe \"Prevent All Changes\" branch permissions prevent pull requests from being merged.\r\n\r\nThere should be a way to prevent new branches from being created in the UI while still allowing pull requests for existing branches to be merged.\r\n\r\nh3. Suggested Solution\r\nAdd \"Prevent new branches\" to the existing list of Branch Permission options. \r\n\r\nh3. Why this is important\r\nThis allows tighter control of how many branches are allowed in a repository.\r\n \r\nh3. Workaround \r\nNone at this time.",
      "summary": "Add a separate Branch Permissions to prevent Branch Creation"
    }
  },
  {
    "key": "BSERV-9564",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:10:45.000+0000",
      "created": "2017-02-13T15:35:36.000+0000",
      "description": "*Rating*: ;) Meh!\n\n{panel:title=What do you like?|borderColor=#ccc| titleBGColor=#c2ffa2|bgColor=#fff}\nGood information\n{panel}\n\n{panel:title=What needs to be improved?|borderColor=#ccc| titleBGColor=#faacad|bgColor=#fff}\nWhere you have the section for the main content, the contents section is wrapped in it's own div and the text wraps at that point but further down the page the text does not wrap and would in effect go over the div for the contents bit, would be nice if as you scroll down the page, the contents div follows you meaning all of the text would wrap in a uniform manner.\n{panel}",
      "summary": "Good information"
    }
  },
  {
    "key": "BSERV-9562",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-12T21:23:15.000+0000",
      "created": "2017-02-12T08:26:19.000+0000",
      "description": "Currently the following relative URLs are working:\r\n - from README.md to the Wiki:\r\n{quote}[waF](../../wiki/Home)\u00a0\r\n{quote}\r\n - from the HOME(.wiki) to README\r\n{quote}[[../src/|Fraf]]\r\n{quote}\r\n - and inside the Wiki.\r\n\r\nThe following relatives URL is not working:\r\n - from the Wiki to a file in the source repistory\r\n{quote}[[../src/README/F1612.txt|msp430f2274]]\r\n{quote}\r\n\r\nPlease advise.",
      "summary": "Relative URLs"
    }
  },
  {
    "key": "BSERV-9561",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:03:55.000+0000",
      "created": "2017-02-12T07:08:37.000+0000",
      "description": "Currently, there is no way to disable the email notifications in Bitbucket from a start up / system property, as you can do in Confluence and in Jira.\r\n\r\n{code:java}\r\n-Datlassian.mail.senddisabled=true -Datlassian.mail.fetchdisabled=true -Datlassian.mail.popdisabled=true{code}\r\n\r\nThis is very helpful when mirroring a production environment to a development server.",
      "summary": "Add system property for disabling mail"
    }
  },
  {
    "key": "BSERV-9560",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-12T06:22:45.000+0000",
      "description": "h2. Problem\r\n\r\nDespite specifying the heap size of Bitbucket Server, Elasticsearch heap size can not be specified.\r\nTherefore, the Elasticsearch process consumes a large amount of memory.\r\nh2. Expected\r\n\r\nCommand line arguments of Elastisearch process contains about heapsize option(Xms or Xmx) that specified as Bitbucket Server process.\r\nh2. Actual\r\n\r\nCommand line arguments of Elastisearch process did not contains about heapsize option(Xms or Xmx).\r\nh2. Workaround\r\n\r\nSetting these variables in BITBUCKET_INSTALL/bin/start-search.sh.\r\n{code:java}\r\nexport ES_MIN_MEM=1024m\r\nexport ES_MAX_MEM=1024m\r\nexport ES_DIRECT_SIZE=1024m\r\n{code}\r\n\u00a0",
      "summary": "Document how to set heap size for Elastic Search process"
    }
  },
  {
    "key": "BSERV-9559",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T05:52:26.000+0000",
      "created": "2017-02-10T23:14:40.000+0000",
      "description": "Bitbucket Server does not serve {{apple-touch-icon...png}} favicon when adding Bitbucket to the home screen and/or bookmark it.\r\n{noformat}\r\n192.168.10.123 | https | o*SYFB8Cx1011x429945x10 | USERNAME | 2017-02-08 16:51:50,054 | \\\"GET /apple-touch-icon-precomposed.png HTTP/1.1\\\" | \\\"\\\" \\\"Safari/12602.1.50.0.10 CFNetwork/807.0.4 Darwin/16.0.0 (x86_64)\\\" | 404 | 0 | 0 | - | 3 | yoohoo | \"\r\n{noformat}\r\n",
      "summary": "Add an apple-touch-icon for Bitbucket Server"
    }
  },
  {
    "key": "BSERV-9558",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-10T20:07:53.000+0000",
      "description": "h3. Problem Definition\r\n\r\nDebug logging must be enabled before the \"completed indexing\" message is captured in the logs.\r\n\r\nAdmins should have a way to determine when this work is done so that they know when their disk is safe without enabling debug logging.\r\n\r\nh3. Suggested Solution\r\n * Add these messages to the [INFO]\u00a0thread\r\n * Also include the number of repositories completely indexed eg. \"completed indexing 77 of 6123\"",
      "summary": "Show search indexing progress to administrators"
    }
  },
  {
    "key": "BSERV-9557",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T05:40:26.000+0000",
      "created": "2017-02-10T19:25:21.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently there is no way to determine how much disk space Elasticsearch indices will need prior to installation and allowing the service to run.\r\n\r\n\u00a0\r\n\r\nThis poses a risk of running out of disk space and\u00a0the mission critical job of reading and writing repo data would be interrupted due to the search data that should be somewhat easy to separate.\u00a0\r\n\r\nh3. Suggested Solution\r\n\r\nProvide a supported way of configuring where the indices are located. If space becomes an issue additional filesystems/volumes sufficient room can be added.\r\n\r\nh3. Workaround \r\nA potential workaround might be symlinking the \\{\\{$BITBUCKET_HOME/shared/search/data}} to another location or creating a mount point for NFS.",
      "summary": "As a user I'd like a supported way to configure where Elasticsearch indices are located"
    }
  },
  {
    "key": "BSERV-9556",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T05:36:55.000+0000",
      "created": "2017-02-08T22:29:57.000+0000",
      "description": "Summary of request:\u00a0\r\n * Add commit overall list to dashboard.\r\n\r\nPlease review the following youtube video for details:\r\n\r\n[Bitbucket Request 02082017|https://youtu.be/1AMdVIyOcx0]\r\n\r\nDownload video link\r\n\r\n[Video Download|https://goo.gl/DiTR2b]\r\n\u00a0\r\nFree feel to contact me if you have questions",
      "summary": "Commit Activity Overall view request"
    }
  },
  {
    "key": "BSERV-9555",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-23T06:52:02.000+0000",
      "created": "2017-02-08T21:27:53.000+0000",
      "description": "h3. Problem\r\n\r\nI have\u00a0the setting \"Requires all reviewers to approve a pull request\" turned on and the UI is not updated when a user adds themselves as a reviewer.\r\nh3. Expectation\r\n\r\nI expect that when a reviewer adds themselves to a pull request the mergeability of the pull request is re-evaluated and that when the \"all reviewers must approve\" rule is on\u00a0the UI disables the merge button or show me a reason why the pull request can not be merged.\r\nh3. Actual result\r\n\r\nWhen \"all reviewers must approve\" option is on and a user adds themselves, the UI is not updated.\r\n\r\n!https://monosnap.com/file/ADyLEUniWRCfglbS7l6ijYhhSWxOVk.png!\r\nh3. Note\r\n\r\nWhile the UI is not updated, when a merge is attempted the server will still verify that the pull request is mergeable and block if necessary.\r\n\r\n\u00a0",
      "summary": "Merge button and merge veto UI not updated when adding self as a reviewer."
    }
  },
  {
    "key": "BSERV-9554",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T06:45:15.000+0000",
      "created": "2017-02-08T20:27:45.000+0000",
      "description": "If a user tries to access a file in a repo that they don't have permissions to access Bitbucket Server gives a 401 error page.That's technically incorrect, 401 is meant to indicate that a user is unauthenticated. In this case the user is already logged into Bitbucket, they're just being denied authorization to access the file. The status code in this case should be 403 Forbidden. From RFC7235:\r\n\r\n\"A server that receives valid credentials that are not adequate to gain access ought to respond with the 403 (Forbidden) status code\"\r\n\r\n[https://tools.ietf.org/html/rfc7235]\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Bitbucket Gives The Wrong Status Code For Permission Denied"
    }
  },
  {
    "key": "BSERV-9553",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-07-25T14:41:24.000+0000",
      "created": "2017-02-08T14:33:57.000+0000",
      "description": "In Bitbucket 4.13,\u00a0the mechanism for resolving refs (determining the current\u00a0commit the branch/tag references) was refactored.\u00a0The new implementation does not properly handle concurrent\u00a0updates to the ref, which can result in the ref\u00a0not resolving properly. When this happens, Bitbucket incorrectly concludes that the branch or tag does not exist.\r\nh3. Symptoms\r\n\r\nThe problem is most visible\u00a0when pull requests are updated as a result of an update to the source or target branch.\u00a0This can result in:\r\n * the pull request being declined (because the source/target branch appeared to be deleted)\r\n * the pull request incorrectly reporting that multiple commits were removed from the pull request. This\u00a0happens because the loose ref in the repository\u00a0did not resolve, but an older version of the ref was present in {{packed-refs.}} To the pull request rescope process, it appears that the branch was\u00a0reset to the older hash.\r\n\r\nh3. Workaround\r\n * If the pull request was declined, it can be reopened.\r\n * If the pull request displays the incorrect scope, decline and reopen the pull request to refresh it.",
      "summary": "Pull requests are declined or updates are attributed to the wrong user"
    }
  },
  {
    "key": "BSERV-9552",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T05:31:47.000+0000",
      "created": "2017-02-08T12:02:39.000+0000",
      "description": "Hi, my name is Miguel \u00c1ngel Romero Lluch from Spain and I am working for the newspaper company Vocento as a Technical Leader developer.\r\nWe have been successfully working with JIRA over the years and we have just adquired a license and setup an offline BitBucket solution in our Vocento servers.\r\nI am also a freelance developer hosting an open source Firefox Extension in BitBucket.\r\n\r\nIn our first tests we are finding great features and we are happy with BitBucket. We have found one feature which is lacking that we would really need for the management of Pull Requests to fit our development Team needs at Vocento.\r\n\r\nWhen we setup merging options of Pull Requests, we can currently setup 2 things:\r\n1. Number of reviewers who need to approve the Pull request.\r\n2. Requirement of all reviewers to approve the PR.\r\n\r\nWe would need a third feature:\r\n3. Do not enable Merging of Pull Request, inmediately after 1 person rejects the Pull Request, even if others accepted the Pull Request before, or even if someone accepts it later.\r\nExample:\r\n- 2 Revievers Accept the PR.\r\n- Third reviewer Rejects the PR. ---> Merge is automatically disabled.\r\n- Fourth reviewer Accepts the PR but he wont be able to merge.\r\n\r\nIn this case Merge will not be possible until the Third reviewer accepts it, or a new Pull Request is sent with the proper fix.\r\n\r\nThe use case for this would be that some developers has reviewed the Pull request, but one of them detected something that the others did not.\r\n\r\nI think this core feature would be awesome and it is something critical for us since we could avoid Merging Pull Requests even in the case of someone who has spotted something wrong.\r\n\r\nThanks.",
      "summary": "Automatically block pull request merge if one person rejects it"
    }
  },
  {
    "key": "BSERV-9551",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-09T02:11:32.000+0000",
      "created": "2017-02-07T22:59:01.000+0000",
      "description": "h3. Summary\r\n\r\nWhen a commit is made via in-browser edits, a notification is not sent to HipChat.\r\n\r\nh3. Environment\r\n\r\n* Bitbucket Server\r\n* HipChat Server\r\n\r\nh3. Steps to Reproduce\r\n # Integrate HipChat and Bitbucket Server\r\n # Make commit from the command line\r\n # Make an infile edit and commit\r\n\r\nh3. Expected Results\r\n\r\nThe room setup for Bitbucket Server notifications in HipChat should have 2 notifications\r\n\r\nh3. Actual Results\r\n\r\nOnly the commit made from the command line elicits a notification to HipChat",
      "summary": "Commits made via an infile edit do not notify HipChat"
    }
  },
  {
    "key": "BSERV-9550",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-21T05:48:45.000+0000",
      "created": "2017-02-07T22:11:58.000+0000",
      "description": "* SUMMARY\r\nstash silently loses unsaved comments when browser window is closed\r\n\r\n* STEPS TO REPRODUCE\r\n1. Open a pull request\r\n2. Click on a diff line to add a comment\r\n3. Type some text but do not click on the \"Comment\" button\r\n4. Close the browser window\r\n\r\n* RESULTS\r\nThe window closes without complaining about the unsaved comment.  The comment is now lost and I'm probably not even aware that it happened...\r\n\r\nIt would be nice to get some warning from the browser when about to close a window with unsaved changes to a form, for example.",
      "summary": "Bitbucket silently loses unsaved comments when browser window is closed"
    }
  },
  {
    "key": "BSERV-9549",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-07T21:46:36.000+0000",
      "description": "When I fork a repo, it becomes very difficult to find the upstream \"original\" branch. As other team members browse our portfolio of projects, there should be an explicit indication of where a repo originated.\r\n\r\n\u00a0\r\n\r\nFor example, Github shows this right in the header section (\"{color:#707070}forked from abc/xyz{color}\" subtitle).",
      "summary": "Easier UI to show upstream repo"
    }
  },
  {
    "key": "BSERV-9548",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-07T21:41:33.000+0000",
      "created": "2017-02-07T20:39:19.000+0000",
      "description": "It seems like there could be much better support for Objective C. At the very least, it would be nice if there was colorization even in newly added region (which appear with a completely green background with no highlighting).",
      "summary": "Better Objective C support for syntax highlighting"
    }
  },
  {
    "key": "BSERV-9547",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-07T18:22:56.000+0000",
      "created": "2017-02-07T17:53:38.000+0000",
      "description": "* SUMMARY\r\nStash should show the diffs for UTF-16 files, rather than marking them as opaque binary files.\r\nTwice already reviewers couldn't catch a typo in a strings file because of this.\r\n\r\nStrings files are (often? always?) UTF-16 - would be nice if Bitbucket showed diff.\r\nNot sure how Gitlab handles this\u2026",
      "summary": "Diff support for UTF-16 files"
    }
  },
  {
    "key": "BSERV-9546",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-30T03:57:09.000+0000",
      "created": "2017-02-07T17:48:06.000+0000",
      "description": "<rdar://problem/23263513> Legacy Adobe app support\r\n 1. mach-register, mach-lookup for Adobe ScriptingSupport: \\\\.\\port\\Rob_and_Mike_*\r\n 2. Other global names for individual apps\r\n * RESULTS\r\nThe \"\\\\\" in the commit message is not displayed properly - see attached screenshot.\r\n\r\n\u00a0\r\n\r\nThe commit msg is unformatted text, and should not have to be adjusted based on which web management interface is used. Shouldn\u2019t Bitbucket\u00a0automatically escape such text so that it correctly displays in the web interface?",
      "summary": "\"\\\\\" in commit messages is not displayed properly"
    }
  },
  {
    "key": "BSERV-9545",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T05:18:41.000+0000",
      "created": "2017-02-07T16:16:30.000+0000",
      "description": "Sometimes I\u2019d like to let someone know about a Bitbucket\u00a0Pull Request without making them a reviewer (i.e. not holding up integration for their review). I\u2019d like them to be able to find the PR from their Stash \u201cMy pull requests\u201d button (i.e. have tabs for Reviewing, Created and Copied).",
      "summary": "I'd like a way to cc somebody on a Pull Request in Stash"
    }
  },
  {
    "key": "BSERV-9544",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-22T05:57:33.000+0000",
      "created": "2017-02-07T15:01:05.000+0000",
      "description": "Today, we have a repository with a group of 5 default reviewers.\r\nIn the process of creating pull requests, we defined that at list one of the reviewers has to approve the pull request, before it can be merged.\r\nAs a result, all the users have to wait for one of the reviewers to approve their pull request before merging.\r\nNo one can approve their own pull request, including the default reviewrs.\r\nwe would like to maintain the option of approving pull request, yet to *add an option to allow default reviewrs to approve their own pull request*.",
      "summary": " add an option to allow default reviewrs to approve their own pull request"
    }
  },
  {
    "key": "BSERV-9543",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-07T00:02:52.000+0000",
      "created": "2017-02-06T23:46:43.000+0000",
      "description": "Many time when I am reviewing a pull request, I encounter parts of code I could like others to review as well.\r\n\r\nCurrently I need to message the originator of the pull request and have them add the other reviewers. With this work flow I need to wait for them to add reviewers before I can approve.\r\n\r\nI would like to have ability to add reviewers to pull requests created by others. That way I can add other reviewers for the part that require additional review and approve as sson as I\u2019m done with my review.",
      "summary": "Ability to add reviewers to pull requests created by others"
    }
  },
  {
    "key": "BSERV-9542",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T05:55:24.000+0000",
      "created": "2017-02-06T23:45:39.000+0000",
      "description": "In the instance of only requiring one approval for a pull request to be merged. If there are multiple reviewers add to the request and I don't get to it before it is merged, the only options I have to get it out of my inbox is to approve or decline. Neither seem appropriate for this scenario, but I don't want to leave the request in my inbox.\r\n\r\nCan we add a third option that means I'm not reviewing it, but the request is removed from my inbox?",
      "summary": "No way to remove pull requests from my inbox without taking action"
    }
  },
  {
    "key": "BSERV-9541",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-06T22:55:29.000+0000",
      "description": "h3. Problem Definition\r\nIt's common for users to set up test instances of new versions of Bitbucket Server by copying their *$BITBUCKET_HOME* to a test instance, not realising that the test instance will still be pointing to the production database\r\n\r\nIn these cases, the newer Bitbucket Server instance will upgrade the schema of the production instance, _whilst_ the production instance is running. \r\n\r\nIn either case this typically results in a customer having to contact support to diagnose the issue, and then needing to either roll back their instance, or upgrade production.\r\n\r\n\r\nh3. Steps to reproduce\r\n# Start up a new Stash instance and connect it to an external DB (e.g. postgres)\r\n# Whilst it's running, install Bitbucket Server on a new server, and copy over the contents of $STASH_HOME from the live instance to *$BITBUCKET_HOME* on your new test instance\r\n# Start Bitbucket Server, whilst Stash is still running\r\n\r\nBitbucket server upgrades the DB, and the Stash instance starts exhibiting failures every time a DB inconsistency is found\r\n\r\nh3. Suggested Solution\r\nIntroduce some mechanism whereby database upgrade tasks cannot be triggered whilst an instance of Bitbucket Server is actively running on that database. For example some kind of lock that is set on startup and cleared on shutdown, but that _only_ blocks upgrade tasks (so if the app was killed without unsetting the lock, normal startup would not be blocked). That way, DB upgrade tasks would only be run if no other app was already using the DB, which should prevent the vast majority of cases\r\n\r\nh3. Workaround\r\n- Configure the database so that connections from other IPs (not matching the production Bitbucket Server site) are blocked\r\n- Configure the network to no allow such connections",
      "summary": "Introduce DatabaseUpgradeLock mechanism to prevent accidentally upgrading live instance DB's from test environments"
    }
  },
  {
    "key": "BSERV-9540",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-06T20:18:02.000+0000",
      "created": "2017-02-06T19:43:09.000+0000",
      "description": "Dear Support team,\r\n\r\nOur Bitbucket environment has been running for at least couple years without any issue. \u00a0However, we currently are unable to connect to the application. \u00a0The application is running on Windows 2012 server. \u00a0I restarted the Windows service and rebooted the server also. \u00a0I checked the server to see if there's any Windows patch or Java update recently installed. \u00a0There're none. \u00a0We started experiencing the problem today morning. \u00a0\r\n\r\nI noticed in the following messages in Bitbucket and Catalina logs even though the directory exists and port 7990 is opened:\r\n\r\n{color:#ff0000}2017-02-06 10:34:15 Commons Daemon procrun stderr initialized{color}\r\n{color:#ff0000}06-Feb-2017 10:34:15.276 WARNING [main] org.apache.catalina.startup.ClassLoaderFactory.validateFile Problem with directory [C:\\Atlassian\\Bitbucket\\4.0.2\\$\\{bitbucket.home}\\lib], exists: [false], isDirectory: [false], canRead: [false]{color}\r\n{color:#ff0000}06-Feb-2017 10:34:15.278 WARNING [main] org.apache.catalina.startup.ClassLoaderFactory.validateFile Problem with directory [C:\\Atlassian\\Bitbucket\\4.0.2\\$\\{bitbucket.home}\\lib], exists: [false], isDirectory: [false], canRead: [false]{color}\r\n{color:#ff0000}06-Feb-2017 10:34:15.946 WARNING [main] org.apache.tomcat.util.digester.SetPropertiesRule.begin [SetPropertiesRule]\\{Server/Service/Engine/Host} Setting property 'xmlValidation' to 'false' did not find a matching property.{color}\r\n{color:#ff0000}06-Feb-2017 10:34:15.946 WARNING [main] org.apache.tomcat.util.digester.SetPropertiesRule.begin [SetPropertiesRule]\\{Server/Service/Engine/Host} Setting property 'xmlNamespaceAware' to 'false' did not find a matching property.{color}\r\n{color:#ff0000}06-Feb-2017 10:34:16.019 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Atlassian\\Bitbucket\\4.0.2\\lib\\native;\\lib\\native{color}\r\n{color:#ff0000}06-Feb-2017 10:34:16.269 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-7990\"]{color}\r\n{color:#ff0000}06-Feb-2017 10:34:16.408 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read{color}\r\n\r\n{color:#333333}Please let me know if you need additional information. \u00a0Your prompt assistance is greatly appreciated because our developers are unable to upload their codes.{color}\r\n\r\n{color:#333333}Best Regards,{color}\r\n\r\n{color:#333333}Diem Tran{color}\r\n\r\n\u00a0",
      "summary": "BitBucket is running but no one can connect"
    }
  },
  {
    "key": "BSERV-9539",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-26T08:33:14.000+0000",
      "created": "2017-02-06T01:34:27.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen writing a pre-receive hook for Bitbucket, it's quite difficult to get the new commits being pushed, especially if the {{RefChange}} is an {{UPDATE}}.\r\n\r\nWhen doing validation on, for example, the commit message of new commits, or validating the commit in some other way, a {{rev-list}} command is required to determine which commits are \"new\" and need to be checked. \r\n\r\nh3. Why should we do this?\r\n\r\nIt would be more efficient if Bitbucket provided a way to access these new commits in some way, as all consumers of the API could use the list of Commits provided by Bitbucket, and would not have to fork their own process to get the same information. ",
      "summary": "Improve PreReceiveHook API to provide new commits"
    }
  },
  {
    "key": "BSERV-9538",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-08T02:25:10.000+0000",
      "created": "2017-02-03T23:20:26.000+0000",
      "description": "Git LFS 2.0 is likely to include support for locking. The draft spec [1] says:\r\n{noformat}\r\nBy default, an LFS server that doesn't implement any locking endpoints should return 404.\r\nThis response will not halt any Git pushes.\r\n{noformat}\r\n\r\nCurrently Bitbucket Server (4.3 to 4.13) returns HTTP status 501 (Not implemented) and it is likely this will cause problems for the LFS client. Until LFS Locking support is added to Bitbucket Server it would be best to return 404.\r\n\r\n[1] https://github.com/git-lfs/git-lfs/blob/locking/docs/docs/api/locking.md",
      "summary": "Git LFS: Return 404 for /info/lfs/locks"
    }
  },
  {
    "key": "BSERV-9537",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-27T04:30:03.000+0000",
      "created": "2017-02-03T17:31:36.000+0000",
      "description": "h3. Summary\r\n\r\nWhen viewing the commits for a repository, if you hover or attempt to click on a commit with an empty commit message, the browser will become unresponsive.\r\n\r\nh3. Steps to Reproduce\r\n# Make change and add commit with empty message\r\n## jdeveloper could be used for commit\r\n## from git command line\r\n{noformat}\r\ngit commit -a --allow-empty-message -m '' \r\n{noformat}\r\n# Push changes to repository\r\n# Navigate to the repository and select the commits page\r\n# Hover over or attempt to click on the commit where the message is empty\r\n\r\nh3. Expected Results\r\n\r\nThe commit will load to display the commit changes.\r\n\r\nh3. Actual Results\r\n\r\nThe browser becomes unresponsive and you are unable to click on anything else. You are even unable to retrieve HAR or javascript console activity.\r\n \r\nh3.Workaround\r\nProvide a commit message and or update commit to provide message",
      "summary": "If commit message is empty, the browser freezes when loading commit"
    }
  },
  {
    "key": "BSERV-9536",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T05:52:08.000+0000",
      "created": "2017-02-03T15:50:54.000+0000",
      "description": "As a Bitbucket user with a pivot display (portrait mode, 900 x 1440), I cannot see the entire website without scrolling horizontally. I should be able to see important UI controls on the far right-hand side of the UI without scrolling horizontally on the bottom of the screen.\r\n\r\n\u00a0",
      "summary": "Allow narrower responsive widths in bitbucket UI"
    }
  },
  {
    "key": "BSERV-9535",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T05:50:15.000+0000",
      "created": "2017-02-03T14:48:39.000+0000",
      "description": "When\u00a0I approve a PR I would like for my approval to be reset when new commits are added to the PR.\u00a0\r\n\r\nOur organization recently upgraded our Bitbucket Server version to the point where we now have the default reviewers feature. This\u00a0greatly assists QA staff who\u00a0act as appsec gatekeepers, but without automatically revoking PR approvals when new commits are added managing PRs are still a\u00a0bit of a headache. Here's why... Our appsec gatekeepers want to make sure they're always involved, but never a hindrance. Therefore when a PR is reviewed, they would like to approve the PR immediately after they're done (assuming no issues) so that developers can deploy their changes\u00a0and the appsec gatekeepers can move on to the next PR. However right now if a developer comes back in after approval and makes more changes those appsec gatekeeper's approval remains, thus creating a scenario where un-reviewed changes could be deployed. To counter this, our appsec gatekeepers could mark the PR as \"Needs Work\" until they know the developers are in fact done, but this creates extra communication overhead and could slow down both the gatekeeper and the developers.\r\n\r\nI'm aware that a free add-on exists, but\u00a0the \"add-on isn't formally supported\" and from my research it\u00a0appears that the add-on requires per repo configuration, which can be an admin headache as well. So I'm asking for the following criteria:\r\n # Automatically reset PR approvals for PRs when new commits are pushed\r\n # Officially supported by Atlassian and bundled with Bitbucket Server\r\n # On by default site wide, for all repos and projects, with an optional site wide setting that can be modified.",
      "summary": "As a pull request reviewer, I would like my approval to be automatically revoked when developers add commits to their pull request"
    }
  },
  {
    "key": "BSERV-9534",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-08T05:17:58.000+0000",
      "created": "2017-02-03T10:00:25.000+0000",
      "description": "This is a bug actually and appears as a question on [https://answers.atlassian.com/questions/37536758/diff-between-two-branches.]\r\n\r\nBasically when I compare branches or a pull request between the two branches I see a diff that doesn't show on when doing the diff from the git command line. In addition to this, when I change the branches the diff looks exactly the same (not reversed as I would have expected).",
      "summary": "Diff is wrong in Bitbucket"
    }
  },
  {
    "key": "BSERV-9532",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-02-02T01:58:13.000+0000",
      "description": "At present this can be turned on/off globally but not on a per repository/project level. Would be good to have a more granular control for this feature.",
      "summary": "Allow disabling of in-browser editing feature at the repository/project level"
    }
  },
  {
    "key": "BSERV-9530",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-16T02:53:24.000+0000",
      "created": "2017-02-01T01:07:31.000+0000",
      "description": "h3. Steps to reproduce\r\n1) Edit a executable file using the bitbucket server in browser editing feature\r\n\r\nh3. Output\r\nFile looses it's executable permission\r\n\r\nh3. Expected output\r\nFile should preserve it's permission",
      "summary": "When editing a file in browser file permissions are not preserved"
    }
  },
  {
    "key": "BSERV-9529",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-05T03:09:57.000+0000",
      "created": "2017-02-01T00:32:39.000+0000",
      "description": "{panel:title=Atlassian status as of November 2020|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nHi everyone,\r\n\r\nThanks for voting and commenting on this bug. Your input in the comments helps us understand how this affects you and how to reproduce this issue.\r\n\r\nWe fixed numerous subtle bugs in the rescoping process and this has resulted in a significant reduction of this problem in our internal environments. We encourage to upgrade to any of the fix versions mentioned in this ticket and provide feedback if the issues have been resolved. \r\n\r\nIn addition, take a look at [^BSERV-Howtoself-serviceanddebugrescopingproblems-051120-0256.pdf] or [this knowledge article|https://confluence.atlassian.com/bitbucketserverkb/how-to-diagnose-debug-issues-with-pull-request-rescoping-in-bitbucket-data-center-1026057670.html] for more information about what exactly has been fixed and ways to further diagnose and fix this class of problems.\r\n\r\nCheers,\r\nWolfgang Kritzinger\r\n\r\nSenior Developer - Bitbucket Server\r\n{panel}\r\n\r\n{panel:title=Important information| borderStyle=dashed| borderColor=#3C78B5| titleBGColor=#3C78B5| bgColor=#E7F4FA}\r\n+Bitbucket < 5.10+\r\nIf you are facing this issue and running a version of Bitbucket earlier than 5.10, please upgrade to a newer version as discussed in [this comment|https://jira.atlassian.com/browse/BSERV-9529?focusedCommentId=1780884&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-1780884]\r\n\r\n+Shared filesystem+\r\nIf using a shared filesystem, make sure that the mount options match the ones described on the [Install Bitbucket Data Center \\- Provision the shared database, filesystem, and Elasticsearch nodes|https://confluence.atlassian.com/bitbucketserver/install-bitbucket-data-center-872139817.html#InstallBitbucketDataCenter-Provisiontheshareddatabase,filesystem,andElasticsearchnodes] page:\r\n{noformat}\r\nbitbucket-san:/bitbucket-shared /var/atlassian/application-data/bitbucket/shared nfs lookupcache=pos,noatime,intr,rsize=32768,wsize=32768 0 0\r\n{noformat}\r\n{panel}\r\n\r\nh3. Problem description\r\nUnder certain conditions, updates to PR's are falsely attributed to the wrong user.\r\n\r\nA message similar to the following appears in the logs:\r\n{code:java|title=atlassian-bitbucket.log}\r\natlassian-bitbucket.log:2017-01-17 14:52:33,123 WARN  [pull-request-rescoping:thread-1]  c.a.s.i.p.r.PullRequestRescopeChain ATLAS/test-repo[1]#7493: A gap was detected in the pull request history: com.atlassian.stash.internal.pull.rescope.PullRequestRescopeChain$Segment@692afd98. Attributing the scope change to user jsmith and setting the rescope date to Tue Jan 17 14:52:32 PST 2017 based on known changes\r\natlassian-bitbucket.log:2017-01-17 16:12:48,012 WARN  [pull-request-rescoping:thread-1]  c.a.s.i.p.r.PullRequestRescopeChain ATLAS/test-repo[1]#6438: A gap was detected in the pull request history: com.atlassian.stash.internal.pull.rescope.PullRequestRescopeChain$Segment@3336bb8f. Attributing the scope change to user dwho and setting the rescope date to Tue Jan 17 16:12:47 PST 2017 based on known changes\r\n{code}",
      "summary": "Pull Request race condition between push and attributed activity author"
    }
  },
  {
    "key": "BSERV-9528",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-31T19:53:39.000+0000",
      "created": "2017-01-31T19:43:58.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently Bitbucket Server uses \"git alternates\" to minimize the space used when creating forks. This places a hard depth limit of 5 forks for each repository.\r\n\r\n[https://confluence.atlassian.com/display/BitbucketServerKB/Repo+cannot+be+forked.+Fork+hierarchies+are+limited+to+a+maximum+depth+of+5]\r\nh3. Suggested Solution\r\n\r\nProvide an option to disable \"git alternates\" in repositories.\r\nh3. Why this is important\r\n\r\nFor large enterprises, forking may be used to separate versions in order to manage large code bases for an application.\r\nh3. Workaround\r\n\r\ndisable \"git alternates\" server-wide using {{bitbucket.properties}} by adding the following:\r\n{code}plugin.bitbucket-git.forks.usealternates=false{code}",
      "summary": "Provide the option to disable \"git alternates\" for repositories"
    }
  },
  {
    "key": "BSERV-9524",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-31T23:15:17.000+0000",
      "created": "2017-01-30T15:04:38.000+0000",
      "description": "Git LFS fails on PUSH over https. Generates the error:\r\n{code:java}\r\nhttp: Post https://<username>@<base_url>/scm/<proj>/<repo>.git/info/lf\r\ns/objects/batch: remote error: tls: handshake failure\r\nerror: failed to push some refs to <repo_URL>\r\n{code}\r\nPush using HTTP works fine. \u00a0Push to Bitbucket and communication with Bitbucket works fine when Git-LFS is not involved.\r\nh2. Steps\r\n # clone a repository to the local client over https \\{\\{git clone https://<user name>@<base_URL>/scm/<project key>/<repo>.git\u00a0 - This is successful\u00a0and proves that Git is able to clone over HTTPS to the Bitbucket Server\r\n # {{cd <repo>}}\r\n # {{vi test.txt}} #new file is created in the repo\r\n # {{git lfs track \"*.txt\"}} \u00a0\u00a0\r\n # {{git add .gitattributes}}\u00a0\r\n # {{git commit -a \"Initial gitattribute file commit\"}}\r\n # {{git push origin master}}\r\n # Review the Repository in Bitbucket UI and confirm that the new commit was recieved. This proves that Git is able to Push via HTTPS to the Bitbucket server\r\n # {{echo \"This is a text file for git-lfs\" > testfile.txt}}\r\n # {{git add .}}\u00a0\r\n # {{git commit -m \"initial test file is committing\"}}\r\n # {{git push}}\u00a0\r\n\r\nThe following can be seen with Verbose logging enabled:\r\n{noformat}\r\n<messages not related to git-lfs removed>...\r\nConnection #1 to host proxy-<PROXY_REMOVED> left intact\r\n14:39:10.707171 run-command.c:336 trace: run_command: 'git credential-mana\r\nger store'\r\n14:39:11.192219 git.c:563 trace: exec: 'git-credential-manager' 's\r\ntore'\r\n14:39:11.196220 run-command.c:336 trace: run_command: 'git-credential-mana\r\nger' 'store'\r\n14:39:11.458246 pkt-line.c:80 packet: git< # service=git-rece\r\nive-pack\r\n14:39:11.458246 pkt-line.c:80 packet: git< 0000\r\n14:39:11.458246 pkt-line.c:80 packet: git< 194b09786b877dbee0\r\n3cf40b56711bc8e102d7f1 refs/heads/master\\0 report-status delete-refs side-band-6\r\n4k quiet ofs-delta agent=git/2.1.0\r\n14:39:11.458246 pkt-line.c:80 packet: git< 0000\r\n14:39:11.466247 run-command.c:336 trace: run_command: '.git/hooks/pre-push\r\n' 'origin' 'https://<username>@<base_url>/scm/<project>/<repo>.git'\r\n14:39:11.614261 git.c:563 trace: exec: 'git-lfs' 'pre-push' 'origi\r\nn' 'https://<username>@<base_url>/scm/<project>/<repo>.git'\r\n14:39:11.616262 run-command.c:336 trace: run_command: 'git-lfs' 'pre-push'\r\n'origin' 'https://<username>@<base_url>/scm/<project>/<repo>.git'\r\ntrace git-lfs: run_command: 'git' version\r\ntrace git-lfs: pre-push: refs/heads/master 60b447495d03f79945831d063a7554bf9c2bb\r\n048 refs/heads/master 194b09786b877dbee03cf40b56711bc8e102d7f1\r\ntrace git-lfs: run_command: git rev-list --objects 60b447495d03f79945831d063a755\r\n4bf9c2bb048 --not --remotes=origin --\r\ntrace git-lfs: run_command: git cat-file --batch-check\r\ntrace git-lfs: run_command: git cat-file --batch\r\ntrace git-lfs: run_command: 'git' config -l\r\ntrace git-lfs: tq: running as batched queue, batch size of 100\r\ntrace git-lfs: tq: sending batch of size 1\r\ntrace git-lfs: api: batch 1 files\r\ntrace git-lfs: HTTP: POST https://<username>@<base_url>/scm/<project>/<repo>.git.git/info/lfs/objects/batch\r\n> POST /stash/scm/<project>/<repo>.git/info/lfs/objects/batch HTTP/1.1\r\n> Host: <HOST_REMOVED>\r\n> Accept: application/vnd.git-lfs+json; charset=utf-8\r\n> Content-Length: 119\r\n> Content-Type: application/vnd.git-lfs+json; charset=utf-8\r\n> User-Agent: git-lfs/1.5.5 (GitHub; windows amd64; go 1.7.4; git c2dcd6f5)\r\n>\r\ntrace git-lfs: tq: enqueue retry #1 for \"c710bcb2e0c52fe1d147e6b6563f9a4e3cf71ed\r\nb8937e6ed6d28b1ce1a652b0c\" (size: 12)\r\ntrace git-lfs: tq: flushing batch in response to retry #1 for \"c710bcb2e0c52fe1d\r\n147e6b6563f9a4e3cf71edb8937e6ed6d28b1ce1a652b0c\" (size: 12)\r\ntrace git-lfs: tq: sending batch of size 1\r\ntrace git-lfs: api: batch 1 files\r\ntrace git-lfs: HTTP: POST https://<username>@<base_url>/scm/<project>/<repo>.git/info/lfs/objects/batch\r\n> POST /<context>/scm/<project>/<repo>.git/info/lfs/objects/batch HTTP/1.1\r\n> Host: <HOST_REMOVED>\r\n> Accept: application/vnd.git-lfs+json; charset=utf-8\r\n> Content-Length: 119\r\n> Content-Type: application/vnd.git-lfs+json; charset=utf-8\r\n> User-Agent: git-lfs/1.5.5 (GitHub; windows amd64; go 1.7.4; git c2dcd6f5)\r\n>\r\ntrace git-lfs: tq: refusing to retry \"c710bcb2e0c52fe1d147e6b6563f9a4e3cf71edb89\r\n37e6ed6d28b1ce1a652b0c\", too many retries (1)\r\nGit LFS: (0 of 1 files) 0 B / 12 B\r\nhttp: Post https://<username>@<base_url>/scm/<project>/<repo>.git/info/lf\r\ns/objects/batch: remote error: tls: handshake failure\r\nerror: failed to push some refs to 'https://<username>@<base_url>/scm/<project>/<repo>.git'\r\n{noformat}\r\nh2. Steps Tried\r\n # Connect to Bitbucket via HTTP - This works\r\n # Tried multiple versions of Git-LFS. \u00a0Verified that Git-LFS is higher that 1.5.5 where an issue with HTTPS communication was resolved\r\n # Tried manually importing the certificate in use to the Windows Certificate Store\r\n # Tried setting {{git config http.sslVerify false}}\r\n # Verified that the certificate details are in the git config and that only git-lfs\u00a0is impacted\r\n{noformat}\r\ngit config --global --list\r\nuser.name=xxxxxx.xxxxx\r\nuser.email=axxxxxxx.xxxxx@xxxxxxx.com\r\nhttp.sslverify=false\r\nhttp.sslcert=C:/Users/xxxxxx/Desktop/IMP/cerificate/INT/mycert-dn.crt\r\nhttp.sslkey=C:/Users/xxxxxxx/Desktop/IMP/cerificate/INT/mycert-dn.key\r\nhttp.sslcainfo=C:/Users/xxxxxxx/Desktop/IMP/cerificate/INT/cacert-dn.crt\r\nhttp.proxy=http://proxy-bl3.inxxxxx.xxxxxx.net:xxxxx\r\nhttp.postbuffer=2M\r\nfilter.lfs.required=true\r\nfilter.lfs.process=git-lfs filter-process\r\nfilter.lfs.clean=git-lfs clean \u2013 %f\r\nfilter.lfs.smudge=git-lfs smudge \u2013 %f\r\n{noformat}\r\n\r\nh2. Expected Behavior\r\ngit-lfs should use and trust the same certificates that are used by git and we should not get a tls\u00a0handshake failure.",
      "summary": "Git LFS fails on PUSH over https tls: handshake failure"
    }
  },
  {
    "key": "BSERV-9523",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T05:33:18.000+0000",
      "created": "2017-01-30T12:24:46.000+0000",
      "description": "With a \"microsevices\" approach to systems architecture becoming ever more popular, it would be nice to be able to mark a set of PRs across different repositories (and even different projects) as being a component of a conceptual whole which should either be accepted (and merged) or rejected in toto.\r\n\r\nThis functionality could also be conceptually tied to the JIRA ticket links as well (optionally) so that tickets may be marked as requiring the work to be merged in the same set of PRs and that marking would then add the tickets to a \"PR Set\".\r\n\r\nThere's lots to be said for keeping each change required in a system local to a single repository and ensuring that the change doesn't break the world... but in practice we find that working with large complicated microservices systems inevitably leads to changes required across multiple repositories \"all at once\" in order to ensure a consistent and functional baseline to test against. \u00a0\r\n\r\nA \"PR Set\" feature would also help systems integrators to better understand when software developers have completed all of the necessary tickets/stories in order for a feature to be \"testable\". \u00a0Developers could list all PRs in a Set, check them out locally, and test against the proposed changes (or even wire the PR Set into Jenkins to do automated functional testing across live services running in a development cluster). \u00a0\r\n\r\nI know JIRA already allows users to link many tickets to 1 PR or 1 PR to many tickets, but what would be nice is to be able to somehow have the ability to review all PRs related to a given ticket as one conceptual unit and then choose to either merge or reject the whole bunch. \u00a0I believe this would go a long way toward keeping feature changes grouped together when your code base is spread across potentially many hundreds of small repositories.\u00a0",
      "summary": "Group a set of PRs together as a logical unit"
    }
  },
  {
    "key": "BSERV-9522",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-01-27T23:25:42.000+0000",
      "description": "When viewing a diff of a large commit (or large PR), one may get this warning from Bitbucket Server:\r\n{noformat}\r\nThis pull request is too large to render. Showing the first 1000 files.{noformat}\r\nIt would be nice if, in this case, Bitbucket Server could be configured to deprioritize vendor directories.",
      "summary": "De-prioritize vendor directory in diff views > 1000 files"
    }
  },
  {
    "key": "BSERV-9521",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-04-26T08:33:52.000+0000",
      "created": "2017-01-27T13:24:15.000+0000",
      "description": "The 'File Edit' feature was introduced in 4.13.0 and allows plugins to\u00a0prevent a file edit from\u00a0being committed by raising the cancelable {{FileEditRequestedEvent}}.\r\n\r\nThe event in it's current form provides the repository, branch and the affected path, which is fine for permission-based checks. It does not however include the commit message or the new file content, which makes the event insufficient for plugin-proved checks that enforce commit message standards, or do content checks.\r\n\r\nAdding the following fields to the event would make the event\u00a0more useful:\r\n * commit message\r\n * updated file content\r\n\r\nh4. Workaround\r\n\r\n\u00a0The\u00a0File Edit feature can be globally disabled by adding the following setting to {{BITBUCKET_HOME/shared/bitbucket.properties}} and restarting:\r\n{noformat}\r\nfeature.in.browser.editing=false\r\nfeature.file.editor=false{noformat}",
      "summary": "Allow plugins to perform commit message and file content checks when editing a file in the browser"
    }
  },
  {
    "key": "BSERV-9520",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-20T03:41:49.000+0000",
      "created": "2017-01-27T10:25:48.000+0000",
      "description": "h3. Problem Definition\r\nBitbucket Server supports MySQL 5.7.9+ ([Supported platforms|https://confluence.atlassian.com/display/BitbucketServer/Supported+platforms] while the [Bitbucket Backup Client|https://marketplace.atlassian.com/plugins/com.atlassian.stash.backup.client/server/overview] does not.\r\n\r\nWhen attempting a restore using the Bitbucket Backup Client (e.g. version 3.3.1), the restore is not successful due to the database version being considered unsupported.\r\n\r\n{noformat:title=bitbucket_backup_client.log}\r\nbitbucket-<date>.tar could not be restored\r\ncom.atlassian.bitbucket.internal.backup.client.RestoreException: The target database is MySQL 5.7.17. This database is not supported; it has known issues when used with Bitbucket. Please use a supported database. Refer to the Bitbucket documentation for more information about which databases are supported.\r\n\tat com.atlassian.bitbucket.internal.backup.client.DefaultRestoreClient.validateDataSource(DefaultRestoreClient.groovy:202) ~[bitbucket-restore-client.jar:3.3.1]\r\n\tat com.atlassian.bitbucket.internal.backup.client.DefaultRestoreClient.withDataSource(DefaultRestoreClient.groovy:209) ~[bitbucket-restore-client.jar:3.3.1]\r\n{noformat}\r\n\r\nh3. Suggested Solution\r\nSupport MySQL 5.7.17.\r\n \r\nh3. Workaround\r\n\r\n*Restore with an older version of MySQL and migrate to MySQL 5.7.9+*\r\n# Install Bitbucket Server using an earlier database on MySQL 5.6\r\n# Use the instructions to [migrate to a MySQL database|https://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-mysql-776640382.html] to migrate the database to MySQL 5.7.9+\r\n\r\n*Use the DIY backup*\r\nIf the source and target database version match, you can use the following.\r\n# Use the [DIY backup|https://confluence.atlassian.com/bitbucketserver/using-bitbucket-server-diy-backup-776640056.html]. This will run a database dump instead of migrating the data.\r\n",
      "summary": "As an admin, I would like the Bitbucket Backup client to support MySQL 5.7.9+"
    }
  },
  {
    "key": "BSERV-9519",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-22T06:23:28.000+0000",
      "created": "2017-01-27T00:58:50.000+0000",
      "description": "From the UI, I can't create a Stash review from any commit to any other commit. I have to choose a source branch (or something I've pushed from the command line), and a destination branch or tag only. I'd like to create a review for any source and any destination so we can get a diff to discuss about.\r\n\r\nAt the moment this can be worked around by pushing two branches (a commit and its parent) and having a review created with these two.",
      "summary": "Bitbucket reviews should be able to be made against anything"
    }
  },
  {
    "key": "BSERV-9518",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-01T06:20:14.000+0000",
      "created": "2017-01-26T23:40:27.000+0000",
      "description": "<Moved from Development Task>",
      "summary": "Update Tomcat to 8.0.41"
    }
  },
  {
    "key": "BSERV-9517",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T05:25:39.000+0000",
      "created": "2017-01-26T19:49:21.000+0000",
      "description": "Bitbucket Server\u00a0 [supports deleting source branch after a successful merge|https://confluence.atlassian.com/bitbucketserver/merge-a-pull-request-808488562.html]\u00a0in the UI. This currently happens via the API as a 2\u00a0step process.\r\n\r\nAt the moment, the workaround is to use the DELETE branch method in the branch-utils API as documented here:\r\n [https://developer.atlassian.com/static/rest/bitbucket-server/4.13.0/bitbucket-branch-rest.html]\r\n following a successful return from the PR merge call.",
      "summary": "REST API for merging a Pull Request should have a parameter for deleting the branch"
    }
  },
  {
    "key": "BSERV-9515",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-03-01T05:23:18.000+0000",
      "created": "2017-01-25T10:25:53.000+0000",
      "description": "Hi,\r\n\r\nWhen I add a pull request comment with {{com.atlassian.bitbucket.pull.PullRequestService}} as a service user, I don't want to get a notification as for regular users. Or please provide a possibility in the API to not notify pull request creators and reviewers for new comments being made in the API of \\{\\{com.atlassian.bitbucket.pull.PullRequestService}}.\r\n\r\nBackground: we create comments for issues found in pull requests by our plug-in as a service user. This can result in a lot of notifications for the user (even when using batched notifications) which is not necessary for our use case. So it would be nice to have a way prevent them in the API.\r\n\r\nThanks,\r\n Michael",
      "summary": "Allow to disable notifications for actions of service users in the BBServer API"
    }
  },
  {
    "key": "BSERV-9514",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-02T03:19:58.000+0000",
      "created": "2017-01-25T04:28:28.000+0000",
      "description": "If a user is removed from LDAP directories, deleted, or Bitbucket Server can otherwise not access an entry for that user in remote User Directories, their data is kept for a certain amount of time and then deleted. Personal projects aren't deleted, but permissions to them are removed.\r\n\r\nIf the user reappears in User Directories and they attempt to log in, they will no longer have access to their personal project/repositories.",
      "summary": "A user can lose access to their own personal project if they are deleted for long enough"
    }
  },
  {
    "key": "BSERV-9513",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-24T21:41:30.000+0000",
      "created": "2017-01-24T19:59:59.000+0000",
      "description": "Nowadays if both HTTP(S) and SSH access are enabled, HTTP(S) is displayed first as clone URL and the only way of making the SSH URL be displayed first is by disabling HTTP(S).\r\n\r\nAllow configuring the default clone protocol would be nice in cases when customers need to have both protocols enabled but prefer SSH for cloning the repository and leave HTTP(S) to, e.g., CI tools.",
      "summary": "Allow configuring default clone protocol "
    }
  },
  {
    "key": "BSERV-9512",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2017-01-24T17:32:31.000+0000",
      "description": "This request is similar to\u00a0https://jira.atlassian.com/browse/BSERV-3248\u00a0 that was opened, reviewed and closed as answered (not a priority at the time, deemed a rare use case).\r\nh2. Request\r\n\r\nGit has the ability to diff the contents of compressed\u00a0files after making some minor adjustments to the local versions of there configuration files:\r\n\r\n~/.gitattributes:\r\n{code:java}\r\n*.tgz diff=tgz\r\n*.tar.gz diff=tgz{code}\r\n~/.gitconfig\r\n{code:java}\r\n[diff \"tgz\"]\r\nbinary = true\r\ntextconv = tar -xvzO -f\r\n [core]\r\nattributesFile = ~/.gitattributes{code}\r\nDesired End State: The ability to diff the contents of compressed files from within a pull request so that changes to the contents can be compared to previous versions of the same compressed file in any other branch\r\nh3. Current Work Flow:\r\n\r\nThe current process for the user to diff the contents of a compressed file, the user must pull the source branch that contains the updated compressed file to their local repository, they may also need to pull the target branch, then they can perform use standard git commands to see the changes that were made.\r\nh3. \u00a0{color:#292929}Desired Work Flow:{color}\r\n\r\nWhile looking at the list of files that have changed in a PR, the ability to select a compressed file and diff the contents to the contents of the same file is another branch is presented on screen.\r\nh3. Why this is needed\r\n\r\nThe process of manually pulling the source and possibly the target branch and then having to perform the diff outside of the Bitbucket UI increases the amount of time needed to perform this kind of comparison.\r\n\r\nBeing able to perform this diff operation from with the Bitbucket application improves usability and the speed of reviews when using compressed files is part of the normal workflow\r\n\r\nAs instances of Bitbucket (by number of users, number of repositories, and size of repositories) increases this capability has a much higher impact than when this feature was requested back in 2013\r\nh3. Would be nice as well\r\n * Should allow each repository to enable or disable the ability for compressed file diff\r\n * Performance data should be collected and presented to Sys Admins so they can understand the impact of this functionality on other functions of Bitbucket",
      "summary": "Add the ability to Diff compressed files (gz, tar.gz, zip) directly in Bitbucket"
    }
  },
  {
    "key": "BSERV-9511",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-06T00:14:01.000+0000",
      "created": "2017-01-24T17:07:11.000+0000",
      "description": "h3. Summary\r\n\r\nAfter successfully setting up the AMI for Bitbucket Server in AWS, after a restart, the ZFS on EBS is not remounted which prevents Bitbucket Server from starting.\r\n\r\nh3. Environment\r\n* Atlassian Bitbucket 2016.11.02_0639 (HVM) (ami-81db7ae1) AMI\r\n* AWS\r\n\r\nh3. Steps to Reproduce\r\n# Deploy the \"Atlassian Bitbucket 2016.11.02_0639 (HVM) (ami-81db7ae1)\" AMI to an EC2 instance\r\n# Run through the initial setup for Bitbucket Server\r\n# Restart the EC2 instance\r\n\r\nh3. Expected Results\r\n\r\nThe filesystem is mounted correctly and Bitbucket Server starts successfully. Mount shows the ZFS pool mounted:\r\n\r\n{code}$ mount\r\nproc on /proc type proc (rw,relatime)\r\nsysfs on /sys type sysfs (rw,relatime)\r\ndevtmpfs on /dev type devtmpfs (rw,relatime,size=2013712k,nr_inodes=503428,mode=755)\r\ndevpts on /dev/pts type devpts (rw,relatime,gid=5,mode=620,ptmxmode=000)\r\ntmpfs on /dev/shm type tmpfs (rw,relatime)\r\n/dev/xvda1 on / type ext4 (rw,noatime,data=ordered)\r\nnone on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,relatime)\r\ntank on /tank type zfs (rw,relatime,xattr,noacl)\r\ntank/atlassian-home on /media/atl type zfs (rw,noatime,xattr,noacl){code}\r\n\r\nh3. Actual Results\r\n\r\nBitbucket Server does not start due to the EBS volume not being mounted.\r\n\r\n{code}$ mount\r\nproc on /proc type proc (rw,relatime)\r\nsysfs on /sys type sysfs (rw,relatime)\r\ndevtmpfs on /dev type devtmpfs (rw,relatime,size=2013712k,nr_inodes=503428,mode=755)\r\ndevpts on /dev/pts type devpts (rw,relatime,gid=5,mode=620,ptmxmode=000)\r\ntmpfs on /dev/shm type tmpfs (rw,relatime)\r\n/dev/xvda1 on / type ext4 (rw,noatime,data=ordered)\r\nnone on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,relatime){code}\r\n\r\nh3.Workaround\r\n\r\nRun {{sudo service atl-init-10-volume start}} to remount the pool.",
      "summary": "AMI does not mount EBS filesystem after reboot"
    }
  },
  {
    "key": "BSERV-9510",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-22T06:05:18.000+0000",
      "created": "2017-01-24T12:49:15.000+0000",
      "description": "Stash Quick Search (upper right) does not allow you to search on part of a project name (you must start with the same characters). There is no wildcard option.\r\n\r\nExample:\r\nIf I am trying to find the project for my.project.component.planParticipant.test\r\nI cannot input \"planParticipant\" in the search and get any results. Instead my search string has to start with the same characters as the full Item name I am looking for, so I would need to input \"my.project.component.planParticipant\" at a minimum to find my project.",
      "summary": "Wildcard repository search"
    }
  }
]