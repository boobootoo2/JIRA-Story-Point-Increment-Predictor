[
  {
    "key": "BSERV-9025",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-04T02:02:33.000+0000",
      "description": "Often the context around a diff will chop off the top of a function/method, or the start of a section in an XML etc. Trying to review a bit of code when you can't even see the name of the method is not a good idea, so I always have click to see more context. I think it would be really cool if bitbucket diffs were smart enough to do this for me automatically!",
      "summary": "Provide smarter context around diffs"
    }
  },
  {
    "key": "BSERV-9024",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-08T03:49:27.000+0000",
      "created": "2016-08-04T01:08:15.000+0000",
      "description": "h3. Problem Definition\r\nThe [Bitbucket Server Protect Unmerged Hook plugin|https://marketplace.atlassian.com/plugins/com.atlassian.stash.plugin.stash-protect-unmerged-branch-hook/server/overview] isn't flagged as supporting Data Center\r\n\r\nh3. Suggested Solution\r\nWe should update the flag to show that this plugin works with Data Center\r\n\r\n",
      "summary": "Update Protect Unmerged Hook plugin with Data Center support"
    }
  },
  {
    "key": "BSERV-9023",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-12-23T04:24:25.000+0000",
      "created": "2016-08-03T17:47:34.000+0000",
      "description": "h3. Summary\r\n\r\n* Active Directory configured as User Directory in Bitbucket Server.\r\n* User expiration is controlled in Active Directory by the {{accountExpires}} attribute.\r\n* In Bitbucket Server, the option {{\"Filter out expired users\"}} is enabled.\r\n* Even though users whose expiry date have been reached can no longer login, they are still synced and counted towards the license limit.\r\n* When the user gets disabled in Active Directory (by right-clicking the username and selecting \"Disable Account\") and the directory is resynced in Bitbucket Server the user gets finally removed.\r\n\r\nh3. Environment\r\n* Bitbucket Server 4.6.2\r\n* Connecting to Active Directory for user management\r\n\r\nh3. Steps to Reproduce\r\n# Ensure that {{\"Filter out expired users\"}} is enabled in Bitbucket Server (in the user directory Advanced Settings).\r\n# Create a user in Active Directory with a future date set to {{accountExpires}} attribute. The value of {{userAccountControl}} is 512 ({{0x200 = (NORMAL_ACCOUNT)}}). \r\n# Resync the directory in Bitbucket Server so that changes can be processed.\r\n# The user can login as usual in Bitbucket Server.\r\n# Wait until the user is past the {{accountExpires}} attribute\r\n# Resync the directory in Bitbucket Server so that changes can be processed.\r\n# Even though the user can no longer login, the user is still listed in the Users page, hence counting towards the license limit.\r\n# Note that the {{userAccountControl}} attribute is still 512 ({{0x200 = (NORMAL_ACCOUNT)}}).\r\n# Disable the user in Active Directory (by right-clicking the username and selecting \"Disable Account\") \r\n# Note that the {{userAccountControl}} attribute now shows 514 ({{0x202 = (ACCOUNTDISABLE|NORMAL_ACCOUNT)}}).\r\n# Resync the directory in Bitbucket Server so that changes can be processed.\r\n# The user no longer shows up in the Users page.\r\n\r\nh3. Actual Results\r\n* From the web interface:\r\n{panel:title=Filter out expired users}\r\nIf ticked, expired users will be automatically removed. For cached directories, the removal of a user will occur during the first synchronisation after the account's expiration date.\r\n{panel}\r\n* The field label above and its description suggest that when the user is past his account expiry date, which is controlled by the {{accountExpires}} attribute in Active Directory, the user is _\"automatically *removed*\"_, however that is not true. Even though the user can no longer login, the user is still listed in the Users page, and still counts towards the license limit.\r\n* Only when the account is disabled in Active Directory (by right-clicking the username and selecting \"Disable Account\") and the directory is rescynced in Bitbucket Server the user really gets _\"automatically removed\"_.\r\n\r\nh3. Expected Results\r\n* When users are past their account expiry date, which is controlled by the {{accountExpires}} attribute in Active Directory, they should be \"automatically removed\" from Bitbucket Server, instead of just not be able to login any longer.",
      "summary": "Expired user in Active Directory still being synced"
    }
  },
  {
    "key": "BSERV-9022",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-07T06:57:58.000+0000",
      "created": "2016-08-03T16:57:04.000+0000",
      "description": "We need to see that happen on web page after refresh. Like atlassian-bitbucket-profiler.log but on given page (one http thread).",
      "summary": "Web profiler from UI on every page in Bitbucket."
    }
  },
  {
    "key": "BSERV-9021",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-04T06:52:24.000+0000",
      "created": "2016-08-03T16:38:59.000+0000",
      "description": "We have the following workflow:\r\n* Review a PR, create some tasks, do not approve yet\r\n* New commits get added, as tasks are resolved\r\n* We do not want to review the whole PR again, but look into the diff of the single commits\r\n\r\nThe problem with Bitbucket is, that the single commit pages are not linked to the PR we care about. AND when we add a line comment there, it does not show up in the according PR, and we also cannot add a task from there.\r\n\r\n\r\nSo here I suggest 2 ideas:\r\n\r\n1. On the commit page on the top right also show PRs that contain that commit\r\nRight now branches are listed which contain that commit, so PRs should be possible too.\r\n\r\n2. Show the commit page in the context of a specific PR\r\n{{/pull-requests/215/commits/abcd}}\r\nThis would enable to add comments and tasks to the current PR, even when showing the diff for a single commit.",
      "summary": "Link to PRs Containing Current Commit"
    }
  },
  {
    "key": "BSERV-9020",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-09-28T06:19:24.000+0000",
      "created": "2016-08-03T08:07:17.000+0000",
      "description": "Support for existing add-ons seems to be deprecated.\r\nIs there a way to use gerrit instead of pull-requests.\r\n\r\nGerrit allows easier traceability of fixes after code-review, feature additions, and more seamless workflow without the need of web-based-UI.\r\n\r\n\r\n",
      "summary": "Gerrit workflow"
    }
  },
  {
    "key": "BSERV-9019",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-10T07:52:15.000+0000",
      "created": "2016-08-02T15:19:44.000+0000",
      "description": "h3. Problem Definition\r\nThe Developer Documentation is available online only.  This makes it unavailable to completely air-gapped development teams\r\n\r\nh3. Suggested Solution\r\nProvide a download-able package which contains all of the Developer Documentation, preferably compatible with Confluence.\r\n \r\nh3. Workaround \r\nCrawl all of the pages manually and sort out the actual documentation pages from redirects.",
      "summary": "As an Admin, I want to be able to download an offline version of the Developer Documentation"
    }
  },
  {
    "key": "BSERV-9018",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-10T07:03:55.000+0000",
      "created": "2016-08-02T04:27:10.000+0000",
      "description": "- For your specific use case, I thought I'd shed some light on the timing aspect you mentioned (i.e. 1 month after you realised that a force push had been done):\r\n-- There are a few things that you should consider when having reflogs enabled and how this can effectively help you in such scenario:\r\n--- When you force push, you may (not necessarily but very likely) create a loose object - i.e. not reachable from some reference\r\n-- Assuming that you will create a loose (or unreferenced) object by performing a force push, there are a few things you should consider:\r\n--- you should know that a loose object will be pruned when {{git gc}} is run unless it is registered in the reflog;\r\n---- You can refer to the [{{git gc}} man page|https://git-scm.com/docs/git-gc] where the {{gc.pruneExpire}} default value is specifically relevant to you as you're could be generating a loose object with a force push:\r\n{quote}\r\nThe optional configuration variable {{gc.pruneExpire}} controls how old the unreferenced loose objects have to be before they are pruned. The default is \"2 weeks ago\".\r\n(...)\r\nh3. Notes\r\n_git gc_ tries very hard to be safe about the garbage it collects. In particular, it will keep not only objects referenced by your current set of branches and tags, but also objects referenced by the index, remote-tracking branches, refs saved by git filter-branch in refs/original/, or *reflogs (which may reference commits in branches that were later amended or rewound)*.\r\n{quote}\r\n--- Notice that from the [{{git reflog}} man page|https://git-scm.com/docs/git-reflog], reflog entries for unreferenced objects are also expired at some stage:\r\n{quote}\r\n{{--expire-unreachable=<time>}}\r\nPrune entries older than {{<time>}} that are not reachable from the current tip of the branch. If this option is not specified, the expiration time is taken from the configuration setting gc.reflogExpireUnreachable, which in turn defaults to 30 days. {{\\-\\-expire\\-unreachable=all}} prunes unreachable entries regardless of their age; {{\\-\\-expire\\-unreachable=never}} turns off early pruning of unreachable entries (but see {{\\-\\-expire}}).\r\n{quote}\r\n-- Therefore, if you were to keep reflogs for the default amount of time, you would be insured for _at least_ 1 month period before a {{git gc}} is run.\r\n\r\nIn light of all that, we provide a repository hook shipped with Bitbucket that stops force pushes from happening. You would have to enable it per repository, though. Please have a look at [Using repository hooks|https://confluence.atlassian.com/display/BitbucketServer/Using+repository+hooks]. Another (more flexible) alternative is the branch permissions we provide. You could use that to protect branches in various different ways. Please refer to:\r\n- [Using branch permissions|https://confluence.atlassian.com/display/BitbucketServer/Using+branch+permissions]\r\n",
      "summary": "Provide an option to enable reflogs on the Git repos"
    }
  },
  {
    "key": "BSERV-9017",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-05-17T07:16:50.000+0000",
      "created": "2016-08-02T00:29:04.000+0000",
      "description": "h3. Summary\r\n\r\n{{sun.jnu.encoding}} is not explicitly defined in the startup of the Bitbucket JVM, and so it's possible for this to be set to an unexpected value in a customer's environment which causes issues with extended UTF-8 characters, e.g. working with branches containing accented characters\r\n\r\nh3. Environment\r\n\r\nN/A\r\n\r\nh3. Steps to Reproduce\r\n# Have your environment set up with {{sun.jnu.encoding}} as {{ANSI_X3.4-1968}} by default\r\n# Create a branch with special characters, for example: \r\n!bitbucket capture.png|thumbnail! \r\n\r\n\r\nh3. Expected Results\r\nEven if your JVM is configured like that by default, Bitbucket server should force it to be {{UTF-8}}.\r\n\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the {{atlassian-bitbucket.log}} file:\r\n{code:java}\r\n2016-07-22 09:22:12,054 ERROR [http-nio-7990-exec-8] picardh @9AGEXWx562x490792x1 1ilhyds 208.94.108.146,127.0.0.1 \"POST /rest/pull-request-source-branch-deletion/1.0/projects/PRD/repos/groove/pull-requests/52 HTTP/1.1\" c.a.s.i.r.e.DefaultUnhandledExceptionMapperHelper Unhandled exception while processing REST request: \"POST /rest/pull-request-source-branch-deletion/1.0/projects/PRD/repos/groove/pull-requests/52 HTTP/1.1\" java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters: /var/atlassian/application-data/bitbucket/shared/data/repositories/9/refs/heads/feature/PR-725-R\u00e9visionDesJumeaux\r\n\r\n2016-07-22 11:05:28,559 ERROR [pull-request-rescoping:thread-1] c.a.s.i.c.HazelcastBucketedExecutor Attempt 1 of 1 at processing bucket 'pull-request-rescoping@9' for executor 'pull-request-rescoping' failed:\r\njava.nio.file.InvalidPathException: Malformed input or input contains unmappable characters: /var/atlassian/application-data/bitbucket/shared/data/repositories/9/refs/heads/feature/PR-725-R\u00e9visionDesJumeaux\r\n\r\n\r\n\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nSet {{sun.jnu.encoding}} explicitly to {{UTF-8}} in *<BITBUCKET_INSTALL>/bin/setenv.sh*\r\n\r\nThis can be manually set in *$BITBUCKET_INSTALL/bin/setenv.sh* under {{JVM_SUPPORT_RECOMMENDED_ARGS}}:\r\n{code:java|title=$BITBUCKET_INSTALL/bin/setenv.sh}\r\nJVM_SUPPORT_RECOMMENDED_ARGS=\"-Dsun.jnu.encoding=UTF-8\"\r\n{code}",
      "summary": "Set sun.jnu.encoding to UTF-8 by default in setenv.sh"
    }
  },
  {
    "key": "BSERV-9016",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-06T02:54:45.000+0000",
      "created": "2016-08-01T22:38:18.000+0000",
      "description": "[Making plugins compatible with Bitbucket Data Center|https://developer.atlassian.com/bitbucket/server/docs/latest/how-tos/cluster-safe-plugins.html] documentation recommends that jobs are scheduled during {{afterPropertiesSet}}. This can cause race conditions for plugins that rely on bundled plugins since the job may begin on a different before the plugin framework has been started.\r\n\r\nExample:\r\n\r\n* Node A starts\r\n* Node B starts\r\n* Node A registers the runner during {{afterPropetiesSet}}\r\n* Node B registers the runner during {{afterPropertiesSet}}\r\n* Node A finishes coming up, and schedules the job during {{onStart}}\r\n* Node B gets selected to run the job that Node A scheduled\r\n* Job runs\r\n* Node B finishes starting up\r\n\r\nSo the job could run before the node finishes starting up, which could cause problems if the plugin relies on other plugins being started.\r\n\r\nFix: Register the runners during {{onStart}}\r\n* Node A starts\r\n* Node B starts\r\n* Node A finishes coming up, calls {{onStart}} to register the runner and schedule the job\r\n* Node B cannot run the scheduled job because it doesn't have the registered runner\r\n* Node B finishes coming up, calls {{onStart}} to register the runner etc\r\n* Either node can take the job, but since the runner doesn't get registered until {{onStart}}, the job cannot be performed until then (so the plugin framework is definitely started)",
      "summary": "\"Making plugins compatible with Bitbucket Data Center\" documentation should not suggest that plugins register jobs in afterPropertiesSet"
    }
  },
  {
    "key": "BSERV-9015",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-12-01T04:51:16.000+0000",
      "created": "2016-08-01T21:12:47.000+0000",
      "description": "h3. Summary\r\n\r\nSetting {{commit.list.follow.renames=false}} property causes a JS error to occur when loading the file history.\r\nh3. Steps to Reproduce\r\n # Set {{commit.list.follow.renames=false}} in {{bitbucket.properties}}\r\n # Restart Bitbucket Server\r\n # Navigate to a file in a repository and\u00a0click the History dropdown\r\n\r\nh3. Expected Results\r\n\r\nFile history loads normally.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the browser JS console:\r\n{code:java}\r\nfile-content.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a048a5\u2026:10 Uncaught TypeError: Cannot read property 'change' of undefineditemUrl @ file-content.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a048a5\u2026:10(anonymous function) @ commit-selector.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a04\u2026:9c.attachNewContent @ commit-selector.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a04\u2026:9b._addPage @ paged-scrollable.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a0\u2026:10b.onDataLoaded @ paged-scrollable.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a0\u2026:10(anonymous function) @ paged-scrollable.js?_statichash=56e1ecc\u2026-T%2F597422509%2F7047e72%2F9%2F09a0\u2026:2j @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2fireWith @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2e.(anonymous function) @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2j @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2add @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2(anonymous function) @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2j @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2fireWith @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:2x @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:4(anonymous function) @ jquery.js?_statichash=e425d40\u2026-CDN%2F597422509%2F7047e72%2F9%2Fcb59095215e1\u2026:4\r\n\r\n{code}\r\nh3. Workaround\r\n\r\nRemove the {{commit.list.follow.renames=false}} property and restart Bitbucket Server.",
      "summary": "With follow.renames disabled, cannot read property 'change' of undefined when loading file history"
    }
  },
  {
    "key": "BSERV-9014",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-08-01T10:06:03.000+0000",
      "description": "When automatic branch merging is enabled for a repository, and branch write permissions are disabled for some branches on the automerge path, the pull request merge should be vetoed.\r\nExample: we have release branches like:\r\n{code}\r\nrelease/1.0.0-alpha\r\nrelease/1.0.0-beta\r\nrelease/1.0.1 <- the user merges a pull request into 1.0.0-beta, but has no write permissions to 1.0.1 branch\r\nrelease/1.0.1-hotfix\r\nmaster\r\n{code}\r\n\r\nNormally, in such cases the automatic merge fails opening a pull request to the target branch with the message \"Insufficient permissions\". It would be nice to veto such pull request merges, providing an explanation in \"Pull request merge failed\" window. Something like the merge path that we have now, with all the branches with insufficient permissions marked red.",
      "summary": "Veto merge if there're restricted branches on the automatic merge path"
    }
  },
  {
    "key": "BSERV-9013",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-10T22:39:02.000+0000",
      "created": "2016-08-01T08:30:58.000+0000",
      "description": "Sometimes when merging a pull request, the activity says that the merge succeeded, but it actually didn't:\r\n\r\n!Screen Shot 2016-08-01 at 6.09.02 PM.png|width=837,height=343!\r\n\r\n\u00a0\r\n\r\nSteps to reproduce:\r\n # Create a plugin that merges pull requests simultaneously on multiple threads\r\n # Create a pull request\r\n # Merge with the plugin\r\n\r\nExpected: One thread will succeed in merging the pull requests, the others will fail. The activity for the thread that succeeded will display on the pull request and the pull request will be in a merged state.\r\n\r\nActual: The pull request remains open. There is a merge activity on the pull request\r\n\r\nCause:\r\n The locking in the\u00a0merge pull request method is not working as expected\r\n\r\n\u00a0",
      "summary": "Pull Request stays open even though activity says merged."
    }
  },
  {
    "key": "BSERV-9011",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-03T07:30:32.000+0000",
      "created": "2016-07-29T17:36:34.000+0000",
      "description": "The commit dates helpfully read in english, for ex `2 days ago` .\r\n\r\nIt would be very helpful if they could be switched for exact time. Its happened that a bug was introduced in a commit and what I have immediately is the build data to the millisecond so I am unable to determine without access to command-line git if the build included the broken commit by comparing timestamps.",
      "summary": "Commit date in PR should be exact times"
    }
  },
  {
    "key": "BSERV-9010",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-30T14:02:32.000+0000",
      "created": "2016-07-29T12:33:23.000+0000",
      "description": "Description:\r\n----------------\r\nIMO there's a visual glitch / error after adding a sqashed subtree.\r\n\r\nSystem Information:\r\n---------------------------\r\nBitbucket version: 4.7.1\r\nBrowser: Chromium on Ubuntu 14.04 LTS\r\n\r\nSteps to reproduce:\r\n--------------------------\r\n\r\n```\r\n mkdir foo\r\n cd foo\r\n git init\r\n echo \"test\" > text.txt\r\n git add --all\r\n git commit -m \"Initial commit\"\r\n git add remote origin <path-to-server>\r\n git push -u origin master\r\n git subtree add --squash --prefix=cmake [https://github.com/rpavlik/cmake-modules.git] master\r\n ```\r\n\r\nGo to the repository on Bitbucket server and click \"Network\".\r\n\r\nActual Result:\r\n------------------\r\nYou should see something like this:\r\n ![issue]([http://i.imgur.com/nL4yMYk.png])\r\n\r\nAs you can see there is a gap in the red line.\r\n\r\nExpected Result:\r\n-----------------------\r\nI would expect the red line to be continous.\r\n\r\n\r\nPS: I would have fitead of a suggestion but due to some configuration issues I am not able to do so anymore. Would be great if you fixed this!",
      "summary": "Visual glitch in Network view after adding squashed subtree"
    }
  },
  {
    "key": "BSERV-9009",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-30T05:59:51.000+0000",
      "created": "2016-07-29T10:49:40.000+0000",
      "description": "If the system clocks of different nodes in a Data Center installation drift apart, the push information can be ignored by the algorithm that updates the pull requests. \r\nWhen this happens the pull request is still updated correctly, but the timestamp and user associated with the update are determined as  a best guess.\r\n\r\nh2. Example\r\n\r\n* a pull request from branchA -> master is open\r\n* a user pushes a change to branchA, which is processed on node 1 at 09:44:10. The push details are recorded in the database and a task is scheduled to update all affected pull requests.\r\n* the task runs on node 2 (which is 7s behind node 1's system clock) at 9:44:04. The update task collects all recent push details for the repository in question and analyzes the pull requests. The relevant push information is discarded because it falls outside the time window that is being processed.\r\n* a difference between the current state of the branches in the repository and the state of the pull request is discovered that cannot be explained with the push details that are available.\r\n* the pull request is updated and an artificial activity is created to explain update. An interpolated timestamp is chosen for the activity and the activity is attributed to the most likely user.\r\n* a message is logged at WARN level: {{A gap was detected in the pull request history}} with the activity details",
      "summary": "Clock drift in cluster causes incorrect user or timestamp on pull request rescope activities"
    }
  },
  {
    "key": "BSERV-9008",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-01T00:42:34.000+0000",
      "created": "2016-07-29T09:22:53.000+0000",
      "description": "Jira generates branch names using a naming scheme that includes a JIRA ID. This is also a common practice anyway, like pointed in [a comment to BSERV-2925|https://jira.atlassian.com/browse/BSERV-2925?focusedCommentId=425370&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-425370].\r\n\r\nBitbucket has a feature where it \"de-punctuates\" the branch name when it places it in pull request titles and descriptions etc.\r\n\r\nFor example, branch name 'PROJ-123_fix_bug' would be turned into 'Proj 123 fix bug'.\r\n\r\nThis breaks the hyperlinks to ticket that were introduced in BSERV-3090 (as per [this comment|https://jira.atlassian.com/browse/BSERV-2925?focusedCommentId=589644&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-589644])",
      "summary": "Dont break ticket references when auto-generating pull request name from branch name"
    }
  },
  {
    "key": "BSERV-9006",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-28T23:52:09.000+0000",
      "created": "2016-07-28T09:12:45.000+0000",
      "description": "Hi, \r\n\r\nFor Project manager this would be a good way to know what's each member of the team doing instead interrupting them by asking. \r\n\r\nThe idea would be to have a direct button in the UI that tells Jira when someone is making a review. This button would:\r\n\r\nChange the assigned to of the issue\r\nChange the status of the ticket \"in case team has the proper status\"\r\n\r\nThis would allow developers to skip one UI and go directly to the BB UI and do all their reviews there with no need to change the statuses on Jira side.\r\n\r\n ",
      "summary": "\"Code Review in Progress\" button"
    }
  },
  {
    "key": "BSERV-9005",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-03T07:43:06.000+0000",
      "created": "2016-07-27T19:43:31.000+0000",
      "description": "The sidebar shows the project and repository, and the content frame has a breadcrumb trail. It would be great if these could be converted to comboboxes for faster switching between projects and repositories.\r\n\r\n",
      "summary": "Faster navigation between projects and repositories via comboboxes"
    }
  },
  {
    "key": "BSERV-9004",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-27T18:30:12.000+0000",
      "description": "I want to write a plugin, which will merge pull requests automatically when all tasks are\u00a0resolved. To do that I listen to TaskUpdatedEvent and TaskDeletedEvent and when event occurs I try to merge related pull request. But how to get this pull request?\r\n\r\nTask interface has no getPullRequest() method. Neither PullRequestService nor TaskService has any means to get pull request from task.\r\n\r\nI've read source code and found private field\u00a0context of type\u00a0InternalTaskContext in class InternalTask which is the only implementation of Task interface. The only implementation of InternalTaskContext interface is InternalPullRequest. So I've managed to get pull request from task using reflection API, but this solution is brittle and can break in any future version.\r\n\r\nCurrently, tasks can be created only in pull requests and one task cannot be shared by multiple pull requests. Thus, can you provide a way to get pull request from task?",
      "summary": "Provide a way to get pull request from task"
    }
  },
  {
    "key": "BSERV-9003",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-27T18:09:54.000+0000",
      "created": "2016-07-27T14:46:19.000+0000",
      "description": "Currently, the user needs to navigate through each project to view the pull requests ( approved but not merged ) assigned to him on that project, it would be nice to see all pull requests in one single page.\r\n\r\nRegards",
      "summary": "Allow Users to see all approved but not merged pull requests "
    }
  },
  {
    "key": "BSERV-9002",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-09T06:09:50.000+0000",
      "created": "2016-07-27T14:03:36.000+0000",
      "description": "h3. Summary\r\nBitbucket Server ver4.8.1 showing error 404 and broken image for created pull request that allow attaching an image with special characters in descriptions of a pull request.\r\n\r\nh3. Step to Reproduce\r\n# Create a pull request in a repository.\r\n# Upon creating pull request, attach an image by the name {{Screenshot from 2016-07-13 15:16:40.png}} by clicking on the \"paper clip\" icon.\r\n#* Preview shows a broken image icon.\r\n# Proceed with  clicking on Create button.\r\n# Overview tab shows the same broken image icon for the attached image.\r\n# Click on the image/link, directs to error 404 as attached below.\r\n !error404.png|thumbnail! \r\n\r\nh3. Expected Results\r\nPop out warning or error message for unsupported file/images names or formats.\r\n\r\nh3. Actual Results\r\nScreenshot from 2016-07-13 15:16:40.png\r\n\r\nh3. Workaround\r\n# Rename the image with a proper naming without containing special characters.\r\n# Then attach the file in the description of pull request.\r\n\r\n\r\n\r\n",
      "summary": "Pull request file attachment at description give error 404"
    }
  },
  {
    "key": "BSERV-9001",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-03T07:24:30.000+0000",
      "created": "2016-07-27T08:19:43.000+0000",
      "description": "Image illustrating this here\r\nhttp://imgur.com/a/L8Kv1",
      "summary": "Make it possible to see long branch names in a pull request"
    }
  },
  {
    "key": "BSERV-9000",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-08T06:48:36.000+0000",
      "created": "2016-07-27T06:04:42.000+0000",
      "description": "Tasks can be created on comments on a commit in a PR, but upon revisiting that comment, the task is not displayed.\r\n\r\nh3. Steps to reproduce\r\n# Visit a commit in a PR.\r\n# Comment on it\r\n# Create a task on the comment\r\n# Switch to the Overview tab\r\n# Switch back to the Diff tab\r\n\r\nh3. Expected\r\nThe comment you created has the task you created displayed against it.\r\n\r\nh3. Actual\r\nNo task is visible on the comment.\r\n\r\nh3. Workaround\r\nView and resolve the tasks from the Task dialog on the overview page.",
      "summary": "Tasks do not appear in context on commit comments"
    }
  },
  {
    "key": "BSERV-8999",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-27T05:34:11.000+0000",
      "description": "h3. Summary\r\nUnder Windows: When installing / reinstalling the bundled Elasticsearch service via {{%BITBUCKET_INSTALL%\\elasticsearch\\bin\\service.bat}} and the environment variables {{LOG_DIR}}, {{CONF_DIR}}, {{DATA_DIR}} are not set as per [Running Bitbucket Server as a Windows service|https://confluence.atlassian.com/bitbucketserver/running-bitbucket-server-as-a-windows-service-776640048.html]; the service will no longer start (or starts then silently fails). This is due to some {{es.path.xyz}} options being set incorrectly when the service is recreated\r\n\r\nh3. Steps to Reproduce\r\n# Install Bitbucket 4.6+ using the bundled installer\r\n# Remove the Elasticsearch service with {{%BITBUCKET_INSTALL%\\elasticsearch\\bin\\service.bat remove}}\r\n# Reinstall the Elasticsearch service with {{%BITBUCKET_INSTALL%\\elasticsearch\\bin\\service.bat install}}\r\n\r\n\r\n\r\nh3. Expected Results\r\nThe Elasticsearch service should start and operate as normal. The {{es.path.xyz}} Java opts _should_ be set using the Bitbucket Home directory:\r\n{code}\r\n-Des.path.logs=%BITBUCKET_HOME%\\log\\search\r\n-Des.path.data=%BITBUCKET_HOME%\\shared\\search\\data\r\n-Des.path.conf=%BITBUCKET_HOME%\\shared\\search\r\n{code} (Where {{%BITBUCKET_HOME%}} is, well, your bitbucket home directory.\r\n\r\nh3. Actual Results\r\nThe Elasticsearch service fails to start. The {{es.path.xyz}} Java opts are incorrectly set using the location of the Elasticsearch installation:\r\n{code}\r\n-Des.path.logs=%BITBUCKET_INSTALL%\\elasticsearch\\logs\r\n-Des.path.data=%BITBUCKET_INSTALL%\\elasticsearch\\data\r\n-Des.path.conf=%BITBUCKET_INSTALL%\\elasticsearch\\config\r\n{code}\r\n\r\nh3.Workaround\r\nManually correct these paths by editing the service properties:\r\n{code}%BITBUCKET_INSTALL%\\elasticsearch\\bin\\elasticsearch-service-mgr.exe //ES//AtlassianBitbucketElasticsearch{code} (Where {{AtlassianBitbucketElasticsearch}} is the name of the bundled Elasticsearch Windows Service\r\n\r\nOr:\r\n# Set {{LOG_DIR}}, {{CONF_DIR}}, {{DATA_DIR}} environment variables as per [Running Bitbucket Server as a Windows service|https://confluence.atlassian.com/bitbucketserver/running-bitbucket-server-as-a-windows-service-776640048.html]\r\n# {{%BITBUCKET_INSTALL%\\elasticsearch\\bin\\service.bat remove}}\r\n# {{%BITBUCKET_INSTALL%\\elasticsearch\\bin\\service.bat install}}",
      "summary": "Recreating Elasticsearch Windows Service with service.bat sets incorrect JAVA_OPTS paths"
    }
  },
  {
    "key": "BSERV-8998",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-27T05:03:03.000+0000",
      "created": "2016-07-27T04:59:51.000+0000",
      "description": "Commenting on a commit in a PR causes two notifications. One seems to be made on the full PR diff, and the other one accurately displays as being made on the commit.\r\n\r\n!https://s3.amazonaws.com/uploads.hipchat.com/10804/1553666/dtKG6M1eFpgIzLh/Inbox%20\u2013%20fhaehnel%40atlassian.com%202016-07-19%2017-11-27.png!",
      "summary": "Commit-level comments cause duplicate notifications"
    }
  },
  {
    "key": "BSERV-8997",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-19T00:28:12.000+0000",
      "created": "2016-03-07T04:52:29.000+0000",
      "description": "# Have a two node cluster\r\n# Have a plugin with a {{LifecycleAware}} component and an {{onStart}} method\r\n# Disable the plugin\r\n# One node 1, using \"Upload add-on\", install the plugin again\r\n\r\nExpected: The plugin is updated, still in disabled state.\r\nActual: The plugin is updated, still in disabled state. But on node 2, {{onStart}} method was run.\r\n\r\n(Using stash master 989f3b1335be81397f398d32d78b5f1484cf8404)",
      "summary": "PluginEnabledEvent on other node when installing a plugin while disabled"
    }
  },
  {
    "key": "BSERV-8995",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-26T23:21:18.000+0000",
      "description": "Currently when viewing a commit there is no easy way to raise a pull request for branch it belongs to that can easily be found. Presently a user has to follow the following steps to raise a pull request:\r\n1. click on the branch for a commit\r\n2. click the \"...\" menu to the right of the branch name\r\n3. click compare (IMHO there should be a \"Create pull request\" option)\r\n4. complete the usual pull request creation flow.\r\n\r\n",
      "summary": "Add 'Create pull request' item to the branch selector ... menu on commits/source pages"
    }
  },
  {
    "key": "BSERV-8994",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-26T23:44:29.000+0000",
      "created": "2016-07-26T21:15:16.000+0000",
      "description": "For companies with a large number of individual projects, such as contractors, it's desirable to organize the projects in a folder structure to prevent the project list from growing out of control and make finding projects easier.\r\n\r\nIf you could create folders at the highest level simply for display purposes (I wouldn't even consider namespacing the projects a requirement), it'd be a huge help. The natural structure I'd setup would be Customer (Folder) > Customer Site (Folder) > Project > Repos.\r\n\r\nAdditionally, permissions at a folder level could allow clients to be given access in source control to their site as needed without needing to control the individual projects.",
      "summary": "Add folder structure for organizing projects"
    }
  },
  {
    "key": "BSERV-8993",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-26T06:24:56.000+0000",
      "description": "h3. Problem Definition\r\nIt is possible to deploy your code from Bitbucket cloud to a S3 bucket through an add-on. However that is not true for Bitbucket server.\r\n\r\nh3. Suggested Solution\r\nImplement an add-on equivalent to the one below:\r\n- [AWS CodeDeploy for Bitbucket|https://marketplace.atlassian.com/plugins/bitbucket-aws-codedeploy/cloud/overview]\r\n \r\nh3. Workaround\r\nYou should follow the guides on AWS website and upload your repo manually to your S3 bucket:\r\n- [What Is AWS CodeDeploy?|http://docs.aws.amazon.com/codedeploy/latest/userguide/welcome.html]",
      "summary": "Deploy a branch commit or pull request to AWS with CodeDeploy"
    }
  },
  {
    "key": "BSERV-8992",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-03T07:08:03.000+0000",
      "created": "2016-07-26T04:58:25.000+0000",
      "description": "When reviewing a PR, the only indication which repo this is targeting is in the URL. Nothing in the PR header shows the repo. Hovering only shows the project name:\r\n!https://monosnap.com/file/AXm7933845xPIZtEe6mzHnvHpNSYz7.png!",
      "summary": "Tooltip for project avatar when sidebar is collapsed should show Project AND Repo"
    }
  },
  {
    "key": "BSERV-8991",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-19T02:16:01.000+0000",
      "created": "2016-06-06T03:28:45.000+0000",
      "description": "This was seen once by [~fcobb] during testing of Bitbucket LFS mirroring; and is also reproducible.\r\n\r\n*Symptom:*\r\nA Git LFS operation that involves an {{isEnabled}} check will typically fail with a status 500 error, and the following will be logged in {{atlassian-bitbucket.log}}:\r\n\r\n{noformat}\r\n2016-06-06 12:46:27,886 WARN  [http-nio-7990-exec-10] admin @4X1LMTx766x1x0 0:0:0:0:0:0:0:1 \"GET /rest/git-lfs/admin/enabled HTTP/1.1\" o.h.e.jdbc.spi.SqlExceptionHelper SQL Error: 0, SQLState: 23505\r\n2016-06-06 12:46:27,886 ERROR [http-nio-7990-exec-10] admin @4X1LMTx766x1x0 0:0:0:0:0:0:0:1 \"GET /rest/git-lfs/admin/enabled HTTP/1.1\" o.h.e.jdbc.spi.SqlExceptionHelper Batch entry 0 insert into plugin_setting (key_name, namespace, key_value, id) values ('com.atlassian.bitbucket.server.bitbucket-git-lfs.enabled', 'bitbucket.global.settings', 'true', 142) was aborted.  Call getNextException to see the cause.\r\n..\r\n{noformat}\r\n\r\nSee attachment error-log.txt for full error log.\r\n\r\nSessions are only subject to seeing this for an instant while the \"com.atlassian.bitbucket.server.bitbucket-git-lfs.enabled\" setting is being persisted to the database; either a specific setting or the default value which is persisted the first time an \"isEnabled\" check is done. Once the plugin setting has been persisted to the database this problem can no longer occur.\r\n\r\n*Reproduction*\r\n\r\nEnvironment:\r\n* Bitbucket Server 4.8.0-SNAPSHOT (469f4ffa5d)\r\n* Postgresql 9.4.5\r\n\r\n1) Stop Bitbucket Server\r\n\r\n2) Delete plugin setting with key \"com.atlassian.bitbucket.server.bitbucket-git-lfs.enabled\" from the plugin_setting table:\r\n\r\n{noformat}\r\ndelete from plugin_setting where key_name = 'com.atlassian.bitbucket.server.bitbucket-git-lfs.enabled'\r\n{noformat}\r\n\r\n3) In two terminal windows run the following (it seems this problem is a race condition and required two or more running)\r\n\r\n{noformat}\r\nwhile true; do\r\ncurl -v -u admin:admin -H \"Content-Type:application/json\" http://localhost:7990/bitbucket/rest/git-lfs/admin/enabled;\r\ndone\r\n{noformat}\r\n\r\nChange the password and/or base URL to suit your environment.\r\n\r\n4) Start Bitbucket Server; then once the above commands start seeing a status 200, check the atlassian-bitbucket.log file for the above mentioned error messages.",
      "summary": "ERROR: duplicate key value violates unique constraint \"uq_plug_setting_ns_key\" in some Git LFS and Smart Mirroring operations"
    }
  },
  {
    "key": "BSERV-8990",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-02T12:57:32.000+0000",
      "created": "2016-07-26T01:39:26.000+0000",
      "description": "Jira issues that belong to the same context (e.g. the pull request description, or a particular comment) are grouped together. This means that when one of the Jira issue links is clicked, they are all shown in the sidebar, along with the issue clicked.\r\n\r\nThis can cause issues related to BSERV-7779 when there are more than 10 issues mentioned in a single context.\r\n\r\nSteps to reproduce:\r\n1. Mention 10+ jira issues on the PR description, or in a single comment\r\n2. Click on the 11th or later issue.\r\n\r\nExpected:\r\n* The clicked issue is shown\r\n\r\nActual:\r\n* The first issue mentioned in the context is shown. Links to the first 10 issues are shown in the sidebar. There is no link in the sidebar to the issue clicked because it is more than the 10th issue.",
      "summary": "Jira issue links in PR description and comments should not be grouped together in the dialog"
    }
  },
  {
    "key": "BSERV-8989",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-11-16T23:57:03.000+0000",
      "created": "2016-07-25T01:39:56.000+0000",
      "description": "Probably not by design and increases noise",
      "summary": "When you comment on a commit in a PR, you're made a watcher of the commit"
    }
  },
  {
    "key": "BSERV-8988",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-06-07T23:43:56.000+0000",
      "created": "2016-07-25T01:09:05.000+0000",
      "description": "From [http://blogs.atlassian.com/2016/07/new-features-bitbucket-4-8/#comments:]\r\n{quote}Is there a rest API endpoint to configure the Default Reviewers feature? We have a large number of repositories, and setting this up manually will be a slow process\r\n{quote}",
      "summary": "API for default reviewers"
    }
  },
  {
    "key": "BSERV-8987",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-23T00:00:01.000+0000",
      "created": "2016-07-22T15:15:16.000+0000",
      "description": "Now Bitbucket DC does not allow to upgrade to recent versions (major release or minor release) without downtime. We need 0-time upgrade for our production environment.\r\n\r\nPossible way to solve it:\r\n\r\nLet's image that we have BB DC running on version 4.8.0 on 2 nodes:\r\n- Upgrade one node to 4.8.1, now BB DC have only one working node on 4.8.0, server still work as 4.8.0. Node started on 4.8.1 take pause until database complete migration.\r\n- Then database starts migration, Bitbucket pass into readonly mode, disallowed database write, also disallow Git operations except git clone/git fetch to clients.\r\n- After database migrated, node on 4.8.0 became to invactive and mometally node on 4.8.1 starts working, Bitbucket now switched to new version and starts working in full mode.\r\n- Other nodes upgrades in usual mode.",
      "summary": "Zero time upgrade for Bitbucket DC"
    }
  },
  {
    "key": "BSERV-8986",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-15T03:39:50.000+0000",
      "created": "2016-07-06T02:18:42.000+0000",
      "description": "Happened when redirected from the loading progress bar to a file view with a name like \"[blah]\". Resulting URL was: http://localhost:7990/bitbucket/unavailable?next=%2Fbitbucket%2Fmvc%2Fprojects%2FBLAH%2Frepos%2Fdashboards%2Fbrowse%2F%255Bbb-cloud%255D%2520Availability%2520and%2520Reliability%2520%28147242%29.json\n\nDoesn't seem to affect clearing of cookies, then login with next parameter.\nRepo with funny file names: https://stash.atlassian.com/projects/PUR/repos/dashboards/browse\n\n{noformat}\n2016-07-06 12:04:38,544 ERROR [http-nio-7990-exec-2] @71A8ZBx724x3x0 18wu2yn 0:0:0:0:0:0:0:1 \"GET /mvc/error500 HTTP/1.1\" c.a.s.i.web.ErrorPageController There was an unhandled excep\ntion loading [/bitbucket/unavailable]\njava.lang.IllegalArgumentException: Illegal character in path at index 53: /bitbucket/mvc/projects/BLAH/repos/dashboards/browse/[bb-cloud] Availability and Reliability (147242).json\n        at java.net.URI.create(URI.java:852) ~[na:1.8.0_60]\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) ~[atlassian-trusted-apps-core-4.2.0.jar:na]\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) ~[na:na]\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) ~[atlassian-trusted-apps-core-4.2.0.jar:na]\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) ~[na:na]\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) ~[atlassian-core-4.6.19.jar:na]\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) ~[atlassian-core-4.6.19.jar:na]\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) ~[na:na]\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) ~[na:na]\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) ~[na:na]\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) ~[na:na]\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) ~[classes/:na]\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) ~[classes/:na]\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) ~[bitbucket-service-impl-4.8.0-SNAPSHOT.jar:na]\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_60]\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_60]\n        ... 218 frames trimmed\nCaused by: java.net.URISyntaxException: Illegal character in path at index 53: /bitbucket/mvc/projects/BLAH/repos/dashboards/browse/[bb-cloud] Availability and Reliability (147242).j\nson\n        at java.net.URI$Parser.fail(URI.java:2848) ~[na:1.8.0_60]\n        at java.net.URI$Parser.checkChars(URI.java:3021) ~[na:1.8.0_60]\n        at java.net.URI$Parser.parseHierarchical(URI.java:3105) ~[na:1.8.0_60]\n        at java.net.URI$Parser.parse(URI.java:3063) ~[na:1.8.0_60]\n        at java.net.URI.<init>(URI.java:588) ~[na:1.8.0_60]\n        at java.net.URI.create(URI.java:850) ~[na:1.8.0_60]\n        ... 22 common frames omitted\n{noformat}",
      "summary": "Forwarding from unavailable page to file view doesn't encode file name properly"
    }
  },
  {
    "key": "BSERV-8985",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-06T05:34:16.000+0000",
      "description": "Reproduced on {{4.6.2}} tag commit.\r\n\r\nIf a PR comment reply is edited, and {{DefaultPullRequestService#searchActivities}} is called without filtering the activities, an exception is thrown when attempting to enrich them:\r\n\r\n{code}\r\n2016-06-06 15:23:30,755 ERROR [http-nio-7990-exec-8] @1OKPYXRx923x153x0 1k4rz0u 0:0:0:0:0:0:0:1 \"GET /mvc/error500 HTTP/1.1\" c.a.s.i.web.ErrorPageController There was an unhandled exception loading [/bitbucket/plugins/servlet/notification/debug/projects/STASH/repos/stash/pull-requests/1]\r\njava.lang.IllegalArgumentException: Multiple entries with same key: repositoryId=1 and repositoryId=1\r\n        at com.google.common.collect.ImmutableMap.checkNoConflict(ImmutableMap.java:150) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.RegularImmutableMap.checkNoConflictInBucket(RegularImmutableMap.java:104) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.RegularImmutableMap.<init>(RegularImmutableMap.java:70) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableMap$Builder.build(ImmutableMap.java:254) ~[guava-18.0.jar:na]\r\n        at com.atlassian.bitbucket.property.PropertyMap$Builder.build(PropertyMap.java:161) ~[bitbucket-api-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.content.AbstractProviderContext.getPropertiesFor(AbstractProviderContext.java:35) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.comment.PluginCommentPostProcessor$Enricher.apply(PluginCommentPostProcessor.java:135) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.comment.PluginCommentPostProcessor$Enricher.apply(PluginCommentPostProcessor.java:127) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.comment.PluginCommentPostProcessor$Enricher.apply(PluginCommentPostProcessor.java:118) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.google.common.collect.Iterators$8.transform(Iterators.java:799) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableSet.copyOf(ImmutableSet.java:317) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableSet.copyOf(ImmutableSet.java:300) ~[guava-18.0.jar:na]\r\n        at com.atlassian.stash.internal.comment.PluginCommentPostProcessor.processAll(PluginCommentPostProcessor.java:70) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.pull.comment.CompositeCommentPostProcessor.processAll(CompositeCommentPostProcessor.java:51) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.pull.comment.CommentPullRequestActivityEnricher.enrich(CommentPullRequestActivityEnricher.java:93) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.pull.DefaultPullRequestService.enrichActivities(DefaultPullRequestService.java:1186) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.pull.DefaultPullRequestService.enrichActivities(DefaultPullRequestService.java:1179) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.pull.DefaultPullRequestService.searchActivities(DefaultPullRequestService.java:762) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26) ~[atlassian-plugins-core-4.1.8.jar:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) ~[na:na]\r\n        at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) ~[na:na]\r\n        at com.atlassian.stash.internal.notification.web.NotificationRendererDebugServlet.getPullRequestActivities(NotificationRendererDebugServlet.java:120) ~[na:na]\r\n        at com.atlassian.stash.internal.notification.web.NotificationRendererDebugServlet.doGet(NotificationRendererDebugServlet.java:85) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) ~[na:na]\r\n        at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:181) ~[sitemesh-2.5-atlassian-11.jar:na]\r\n        at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:85) ~[sitemesh-2.5-atlassian-11.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81) ~[na:na]\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:109) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) ~[classes/:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) ~[atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) ~[na:na]\r\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) ~[atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) ~[atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) ~[na:na]\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) ~[na:na]\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) ~[na:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) ~[na:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) ~[classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) ~[classes/:na]\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) ~[bitbucket-service-impl-4.6.2.jar:na]\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_45]\r\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_45]\r\n        ... 283 frames trimmed\r\n{code}\r\n\r\nThis happens because the same comment activity is enriched twice. Three activity items are retrieved:\r\n* Root comment added (Comment X)\r\n* Reply added (Comment Y)\r\n* Reply edited (Comment Y)\r\n\r\nThe comments are added to a {{Set}} in {{CommentPullRequestActivityEnricher#enrich}} which filters it out to root comment (X) and reply (Y). However the enriching logic creates a {{CommentChain}} which implements {{DepthFirstIterator}}. This iterator will iterate through all the comments and their replies in reverse order, meaning: reply comment Y (no replies), root comment X -> reply comment Y.",
      "summary": "Pull request activity enriching fails for searchActivities if a reply has been edited"
    }
  },
  {
    "key": "BSERV-8983",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-15T03:51:57.000+0000",
      "created": "2016-05-16T01:50:44.000+0000",
      "description": "Expected: The blame commit line for the displayed section is indicated at the top of the displayed section of the file, even if it starts somewhere in the un-displayed region. It is clearly indicated that the region extends upwards from the displayed part.\r\n\r\nActual: It looks like the blame line is attached to the top line of the region, which disappears into the cut-off so that I need to show more of the file to figure out which commit is actually responsible for the visible change.",
      "summary": "Blame in diff view doesn't show the commit for the top lines if the section starts before the diff"
    }
  },
  {
    "key": "BSERV-8982",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-22T04:03:05.000+0000",
      "created": "2016-07-21T03:10:17.000+0000",
      "description": "h3. Summary\r\nBitbucket Server 4.8.1 can't be built from source because the source distribution includes the {{npm-shrinkwrap.json}} file with references to private Atlassian NPM packages.\r\n\r\nh3. Steps to Reproduce\r\n# Build Bitbucket Server from the source code\r\n\r\nh3. Expected Results\r\nBitbucket Server is built successfully\r\n\r\nh3. Actual Results\r\nA number of {{npm ERR! fetch failed}} are returned when building the source code are shown in the console output:\r\n{noformat}\r\n[10:04:28][Step 2/2] [INFO] Running 'npm install' in /var/lib/teamcity/BuildAgents/buildAgent/work/70af3565b66e9e3c/bitbucket-parent/webapp/default/../..\r\n[10:04:28][Step 2/2] [ERROR] npm ERR! fetch failed https://npm-private.atlassian.io/@atlassian%2feslint-plugin-amd-checks/-/@atlassian%2feslint-plugin-amd-checks-1.0.0.tgz\r\n{noformat}\r\n\r\nh3.Workaround\r\nAfter unpacking sources delete the file {{bitbucket-parent/npm-shrinkwrap.json}} before building\u00a0Bitbucket Server.",
      "summary": "Can't build from source because of private packages in npm-shrinkwrap.json"
    }
  },
  {
    "key": "BSERV-8981",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-21T04:47:36.000+0000",
      "created": "2016-07-21T00:09:44.000+0000",
      "description": "Currently the \"My Pull Requests\" dropdown displays two tabs, \"Reviewing\" and \"Created\". Add a third tab called \u201cReviewed\u201d, that would list pull requests that I have Approved, but are not yet merged.\r\n\r\nThis would make it easy to quickly look again at an open pull request that I have already approved but has not been merged. Otherwise I have look through email or search through all pull requests.",
      "summary": "My Pull Requests - Add Reviewed tab"
    }
  },
  {
    "key": "BSERV-8980",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-21T00:05:45.000+0000",
      "description": "After updating to Atlassian Bitbucket v4.7.1, the username is no longer shown for pull requests that I am reviewing. Only the icon/avatar is shown. No longer having the username makes it difficult to find a particular person's pull request, especially with a long list of pull requests to review.",
      "summary": "My Pull Requests - Reviewing: Show username"
    }
  },
  {
    "key": "BSERV-8979",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-17T03:19:31.000+0000",
      "created": "2016-07-20T23:02:11.000+0000",
      "description": "h3. Summary\r\n \r\nBitbucket Server 4.8 'Default Reviewers' plugin collides with third-party plugins by overwriting the reviews if the Atlassian Default Reviewers are not configured in the standard plugin.\r\n \r\nh3. How to Replicate\r\n \r\nPre 4.8\r\n* Plugin that runs rest call to suggest reviewers, adds them to the reviewers list.\r\n* Generate Pull Request and create.\r\n\r\nPost 4.8\r\n* Plugin that runs rest call to suggest reviewers, adds them to the reviewers list.\r\n* New standard Bitbucket Server plugin for default reviewers\r\n* Generate Pull Request and create.\r\n\r\nh3. Workaround\r\n\r\nThe Atlassian {{Bitbucket Default Reviewers Plugin}} can be disabled to eliminate the overwriting of reviewers on Pull Requests.",
      "summary": "Atlassian 'Default Reviewers' plugin overwrites reviewers if not configured"
    }
  },
  {
    "key": "BSERV-8978",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-20T17:18:52.000+0000",
      "description": "After [changing the Server ID in the database|https://confluence.atlassian.com/bitbucketserverkb/changing-server-id-for-bitbucket-server-cloned-instances-779171204.html] and restarting Bitbucket Server, the new Server ID shows in the License Settings page but not in the System Information page.\r\n\r\nh2. Workaround\r\n\r\nCheck for the new Server ID on the License Details page to ensure it has been updated.",
      "summary": "Server ID changed in database does not get changed on the System Information page"
    }
  },
  {
    "key": "BSERV-8977",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-27T01:39:17.000+0000",
      "created": "2016-07-20T08:22:15.000+0000",
      "description": "This is to mitigate CVE-2016-3092\r\n\r\nSee https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-3092 for details",
      "summary": "Upgrade commons-fileupload to version >= 1.3.2"
    }
  },
  {
    "key": "BSERV-8976",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-25T01:58:52.000+0000",
      "created": "2016-05-25T23:52:49.000+0000",
      "description": "h2. Steps to reproduce\r\n\r\n1. Connect Bitbucket Server to 2 user directories.\r\n2. In directory 1, add a user {{bob}}\r\n3. In directory 2, add a user {{fred}}\r\n4. In directory 1, rename user {{bob}} to {{fred}}\r\n\r\nh3. Expected outcome\r\n\r\nUser {{bob}} should now be {{fred}} everywhere, and the old user {{fred}} should become an 'archived' user (so probably displays as {{fred_archive_1}} or something like that)\r\n\r\nh3. Actual outcome\r\n\r\n{noformat}\r\nERROR [clusterScheduler_Worker-2] c.a.c.d.DbCachingRemoteDirectory Incremental synchronization for directory [ 3014657 ] was unexpectedly interrupted, falling back to a full synchronisation\r\njava.lang.IllegalArgumentException: Only deleted users can be archived\r\n{noformat}\r\n\r\nIt then tries to do a full synchronization, but fails with a similar error:\r\n\r\n{noformat}\r\nERROR [clusterScheduler_Worker-2] c.a.c.d.DbCachingDirectoryPoller Error occurred while refreshing the cache for directory [ 3014657 ].\r\njava.lang.IllegalArgumentException: Only deleted users can be archived\r\n{noformat}\r\n\r\nh3.Workaround \r\n\r\n#  Connect Bitbucket Server to 2 user directories.\r\n# In directory 1, add a user {{bob}}\r\n# In directory 2, add a user {{fred}}\r\n# Temporarily disable directory 2\r\n# In directory 1, rename user {{bob}} to {{fred}}\r\n# Sync directory 1 \r\n# Re-enable directory 2. \r\n\r\n",
      "summary": "User sync fails because the system attempts to archive an active user account"
    }
  },
  {
    "key": "BSERV-8975",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-22T00:53:22.000+0000",
      "description": "Gives a 500 with the following stack trace, possibly same issue applies for groups:. Reproduced with OpenDJ and the large dataset from here: https://extranet.atlassian.com/display/BSERV/Crowd+Resources+for+Support\r\n\r\n{noformat}\r\n2016-06-22 10:48:51,805 ERROR [http-nio-7990-exec-6] admin @1XWNN0Dx648x199x0 uhvc4l 0:0:0:0:0:0:0:1 \"GET /admin/users HTTP/1.1\" c.a.s.i.w.HandlerExceptionResolverImpl A database error has occurred.\r\ncom.atlassian.bitbucket.DataStoreException: A database error has occurred.\r\n        at com.atlassian.stash.internal.aop.ExceptionRewriteAdvice.afterThrowing(ExceptionRewriteAdvice.java:41) ~[bitbucket-platform-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.web.admin.UserAndGroupListController.listUsers(UserAndGroupListController.java:41) ~[classes/:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.2_1464655676000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.2_1464655676000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.2_1464655676000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.2_1464655676000.jar:na]\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [applinks-plugin-5.2.2_1464655676000.jar:na]\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:109) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [classes/:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1443759955000.jar:na]\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) [atlassian-trusted-apps-core-4.2.0.jar:na]\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.3_1443759955000.jar:na]\r\n        at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) [atlassian-core-4.6.19.jar:na]\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) [atlassian-connect-plugin-1.1.86-bitbucket-04.jar:na]\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) [jwt-plugin-1.5.11-0002_1461023611000.jar:na]\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) [analytics-client-5.2.7_1464655676000.jar:na]\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) [analytics-client-5.2.7_1464655676000.jar:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:87) [classes/:na]\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) [classes/:na]\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) ~[bitbucket-service-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:na]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_60]\r\n        at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_60]\r\n        ... 265 frames trimmed\r\nCaused by: org.hibernate.PessimisticLockException: could not execute statement\r\n        at org.hibernate.dialect.H2Dialect$2.convert(H2Dialect.java:342) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:211) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3127) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3581) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:465) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:351) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1227) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1293) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.internal.QueryImpl.list(QueryImpl.java:103) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        at com.atlassian.stash.internal.user.HibernateStashUserDao.findByName(HibernateStashUserDao.java:172) ~[bitbucket-dao-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.user.HibernateStashUserDao.createFor(HibernateStashUserDao.java:331) ~[bitbucket-dao-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.user.DefaultUserHelper.newStashUser(DefaultUserHelper.java:60) ~[bitbucket-service-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.user.DefaultUserHelper.lambda$transformOrCreate$136(DefaultUserHelper.java:53) ~[bitbucket-service-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.google.common.collect.Iterators$8.transform(Iterators.java:799) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableCollection$Builder.addAll(ImmutableCollection.java:301) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableList$Builder.addAll(ImmutableList.java:691) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:275) ~[guava-18.0.jar:na]\r\n        at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:226) ~[guava-18.0.jar:na]\r\n        at com.atlassian.bitbucket.util.PageImpl.transform(PageImpl.java:93) ~[bitbucket-api-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.bitbucket.util.PageImpl.transform(PageImpl.java:11) ~[bitbucket-api-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.user.DefaultUserHelper.transformOrCreate(DefaultUserHelper.java:50) ~[bitbucket-service-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.user.DefaultUserAdminService.transformOrCreateUsers(DefaultUserAdminService.java:700) ~[bitbucket-service-impl-4.7.0-SNAPSHOT.jar:na]\r\n        at com.atlassian.stash.internal.user.DefaultUserAdminService.findUsersByName(DefaultUserAdminService.java:402) ~[bitbucket-service-impl-4.7.0-SNAPSHOT.jar:na]\r\n        ... 26 common frames omitted\r\nCaused by: org.h2.jdbc.JdbcSQLException: Timeout trying to lock table ; SQL statement:\r\ninsert into sta_normal_user (deleted_timestamp, locale, slug, time_zone, name, user_id) values (?, ?, ?, ?, ?, ?) [50200-176]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:344) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.message.DbException.get(DbException.java:167) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.command.Command.filterConcurrentUpdate(Command.java:301) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:158) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:144) ~[h2-1.3.176.jar:1.3.176]\r\n        at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.4.5.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.4.5.jar:na]\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n        ... 52 common frames omitted\r\nCaused by: org.h2.jdbc.JdbcSQLException: Concurrent update in table \"UQ_NORMAL_USER_NAME_INDEX_3\": another transaction has updated or deleted the same row [90131-176]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:344) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.message.DbException.get(DbException.java:178) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.message.DbException.get(DbException.java:154) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.table.RegularTable.addRow(RegularTable.java:145) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.command.dml.Insert.insertRows(Insert.java:157) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.command.dml.Insert.update(Insert.java:115) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.command.CommandContainer.update(CommandContainer.java:79) ~[h2-1.3.176.jar:1.3.176]\r\n        at org.h2.command.Command.executeUpdate(Command.java:254) ~[h2-1.3.176.jar:1.3.176]\r\n        ... 57 common frames omitted\r\n{noformat}",
      "summary": "Cannot see user admin page in embedded H2 database while large user directory is syncing"
    }
  },
  {
    "key": "BSERV-8974",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-15T03:40:44.000+0000",
      "created": "2016-06-26T23:30:34.000+0000",
      "description": "h3. Summary\r\n\r\nThe tooltip when hovering over the 'edit' button of a pull request comment does not disappear sometimes.\r\n\r\nh3. Environment\r\n* Version 51.0.2704.103 (64-bit) \r\n* OS X 10.11.4 (15E65)\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create comment\r\n# Preview comment\r\n# Hover over edit button to show the tipsy\r\n# ???\r\n# Post comment\r\n\r\nh3. Expected Results\r\n\r\nClicking edit makes the tipsy disappear.\r\n\r\nh3. Actual Results\r\n\r\nThe tipsy never disappears.\r\n \r\nh3.Workaround\r\n\r\nRefresh the page",
      "summary": "Preview/edit tooltip does not dismiss or time out"
    }
  },
  {
    "key": "BSERV-8973",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-11-15T04:22:10.000+0000",
      "created": "2016-07-19T03:42:00.000+0000",
      "description": "Test case:\r\nLink Stash to a Jira instance.\r\nPush a commit with the following message.\r\n\r\n{quote}\r\n    JVS-357: Added StatisticsMapper.getFieldId().\r\n    \r\n    This is needed to lookup SelectableField instances, since the field ID\r\n    and document ID are distinct values.\r\n    \r\n    The method has a default implementation only so that we don't break API\r\n    for third party plugins. It will be deleted in JVS-468.\r\n{quote}\r\n\r\nExpected outcome:\r\nJVS-468 is unaffected.\r\n\r\nActual outcome:\r\nJVS-468 was transitioned to In Progress. Jira shows the following:\r\n{quote}\r\n Automated transition triggered when Reuben D Netto made commit 97eab69cceb in Bitbucket Server - 6 days ago\r\n{quote}\r\n\r\nIssue observed with stash.ac (Jira Cloud repository) and JDOG.\r\n\r\nSuggested fix: only match issue keys at the start of a line.",
      "summary": "BB Server transitions the wrong issue when commit message mentions multiple issues."
    }
  },
  {
    "key": "BSERV-8972",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-11-14T01:06:20.000+0000",
      "created": "2016-07-19T21:55:40.000+0000",
      "description": "There should be a method to automatically set group permissions on new projects and repositories.\r\n\r\nConsider the following use case:\r\n\r\nI want to have a group for \"developers\" that can read/write all projects in Bitbucket Server. When a developer creates a new project, it should automatically have the developers group set with read/write. This way, I would be able to add external users later (clients) that aren't in the developers group and grant project permissions on an individual basis.\r\n\r\nSupposing that I have hundreds of projects, each one with dozens of repositories, having to manually grant permissions would be less than ideal long-term.",
      "summary": "Automatically set global group permission on new projects"
    }
  },
  {
    "key": "BSERV-8971",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T07:05:51.000+0000",
      "created": "2016-07-19T19:08:08.000+0000",
      "description": "h3. Problem Definition\r\nWhen git scans a file to determine the mime type, if there is a NUL (0x00) byte found within the first 8000 bytes of  a file, git will treat that file as binary.\r\n\r\nh3. Suggested Solution\r\nSince git allows all files to be treated as text using {{git diff --a}}, add an option in Bitbucket Server to use that functionality to view all files as text.",
      "summary": "Add option to treat all files as text when viewing diff or source"
    }
  },
  {
    "key": "BSERV-8970",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T08:06:52.000+0000",
      "created": "2016-07-19T18:31:34.000+0000",
      "description": "Upgrading to 4.8.0 can fail with the following error:\r\n{noformat}\r\n2016-07-19 18:09:23,409 ERROR [spring-startup]  liquibase Change Set liquibase/r4_8/upgrade.xml::BSERVDEV-12993-1::cszmajda failed.  Error: Error executing SQL ALTER TABLE public.sta_drift_request ADD attempts INT NOT NULL: ERROR: column \"attempts\" contains null values\r\nliquibase.exception.DatabaseException: Error executing SQL ALTER TABLE public.sta_drift_request ADD attempts INT NOT NULL: ERROR: column \"attempts\" contains null values\r\n{noformat}\r\n\r\nA default value is not being correctly applied by the script. This will be fixed in 4.8.1. For instances which encounter this, the workaround is to delete all rows from the {{sta_drift_request}} table. Deleting those rows should have no user-visible impact on the system.",
      "summary": "Incorrect SQL upgrading to 4.8.0"
    }
  },
  {
    "key": "BSERV-8969",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-19T08:58:29.000+0000",
      "description": "The shared home lock is the only part of Bitbucket Data Center that requires the NFS lock service to work, and the possible misconfigurations that it can catch are so low probability that it's not really worth the trouble it causes. Remove it.\r\n\r\nh3. Original issue:\r\n\r\nh4. Problem\r\nWhen the shared and/or home folder is on an NFS mount, but {{lockd}} is not running or the port that the daemon is running on is filtered, file creation/modification/etc works as expected, but file locks cannot be made. This will prevent Bitbucket Server or Data Center from starting up, producing the symptoms outlined in the following KB article: [Bitbucket Data Center node hangs on startup - Initializing spring context|https://confluence.atlassian.com/display/BitbucketServerKB/Bitbucket+Data+Center+node+hangs+on+startup+-+Initializing+spring+context]\r\n\r\nh4. Steps to reproduce\r\n# Move the {{shared}} folder or the entire Bitbucket home of an existing instance to a NFS storage, mount it according to [the requirements|https://confluence.atlassian.com/display/BitbucketServer/Installing+Bitbucket+Data+Center].\r\n# Test that the instance starts up correctly with all the NFS daemons running\r\n# Shut down the instance\r\n# Stop the {{lockd}} process or deny the port that the daemon is running on (identify by {{portmap -p}})\r\n# Start the instance, observe that it's stuck on startup as mentioned in the above KB article\r\n\r\nh4. Suggestion\r\nIt would be useful to have a separate thread that is creating a lock and failing to do so in a pre-defined period of time, the thread would time out. Currently the startup may be stuck forever, without any meaningful error message.",
      "summary": "Remove shared home lock"
    }
  },
  {
    "key": "BSERV-8968",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T07:09:50.000+0000",
      "created": "2016-07-19T08:10:23.000+0000",
      "description": "It's nice to have Bitbucket notify system administrators when the licenses are about to exhausted. Currently this feature is missing in all Atlassian application.\r\n\r\nFor example, notify admins when only 100 licenses are remaining.\r\n\r\nHaving the notification will :-\r\n # Help admins do some clean-up of old users\r\n # No need to frequently monitor License page\r\n # Avoid running into issues of not able to use the application bcz of license limit exceed\r\n # Avoid unnecessary downtime of applications\r\n # Decide well-in-advance if more licenses needs to be purchased\r\n\r\nHope to see this feature implemented in nearest feature.",
      "summary": "As an admin, I would like Bitbucket to Notify System Administrators when reaching license limit"
    }
  },
  {
    "key": "BSERV-8967",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T11:02:27.000+0000",
      "created": "2016-07-19T03:50:40.000+0000",
      "description": "In Bitbucket Server 4.8.0 zlib compression was enabled on SSH connections by default. This can\u00a0significantly increase the amount of Java CPU time spent doing compression and decompression if SSH workload is high. \u00a0Since {{git}} already compresses packfile content SSH connections should be configured with no compression by default.",
      "summary": "Disable SSH compression"
    }
  },
  {
    "key": "BSERV-8966",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-19T02:19:02.000+0000",
      "description": "{{pull-request-can-merge.js}} doesn't supply a {{back()}} handler for PR_CHECK_MERGEABILITY. This means if the REST request fails, we get an error as a rollback is attempted and calls a function that does not exist.\r\n\r\nSee: https://answers.atlassian.com/questions/39440236/typeerror-e-is-not-a-function\r\n\r\nWorkaround:\r\n- Determine why the merge check request is failing and fix it.\r\n- This may be a knock on from some other bug. Some reasons why the check might fail:\r\n-- the PR is MERGED or DECLINED. No request should have been made, but perhaps a plugin makes one or our own code has a bug that causes it to make one.\r\n-- The current user has insufficient permissions to the repo, the PR has been removed, or the repo or project was removed.\r\n-- A PullRequestMergeabilityPropertyProvider from a plugin is throwing errors",
      "summary": "PR Header doesn't handle errors in PR mergeability request"
    }
  },
  {
    "key": "BSERV-8965",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-18T18:43:34.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThere isn't a quick way to see what languages are used at different levels (in a repo, project or instance-wide)\r\n**More information needed** Why is this information important? What is it used for?\r\n\r\nh3. Suggested Solution\r\n\r\nShow statistics about most used programming languages\r\n",
      "summary": "Report breakdown of language types used at repository, project or instance level"
    }
  },
  {
    "key": "BSERV-8964",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-18T07:27:24.000+0000",
      "created": "2016-07-06T07:56:51.000+0000",
      "description": "Just using Bitbucket Server today and it looks like some spacing is missing between the avatar and the name in the dialog that drops down when you click to view all the people who've liked a comment. This is on version 4.8.0-m6. Example comment: https://stash.atlassian.com/projects/JIRACLOUD/repos/jira/pull-requests/1084/overview?commentId=463561",
      "summary": "Inline dialog of people who like a comment in a PR should have spacing between the avatar and the name"
    }
  },
  {
    "key": "BSERV-8961",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-26T00:43:57.000+0000",
      "created": "2016-07-18T02:15:17.000+0000",
      "description": "h3. Summary\r\n\r\nThe repository and/or project returned by {{bitbucket/util/state}} may return incorrect results, based on the current selection of the target repository to compare to.\r\nh3. Steps to Reproduce\r\n # Go to personal fork of a repository\r\n # Click 'Create pull request'\r\n # Compare changes of any branch to the origin repository\r\n # Execute {{require('bitbucket/util/state').getProject()}}\r\n \r\nh3. Expected Results\r\nThe personal project is returned.\r\n\r\nh3. Actual Results\r\n\r\nThe project of the origin repository is returned.\r\nh3. Notes\r\n\r\nIf using Mirrors, this issue can incorrectly cause the mirror selector to show up. The clone URL provided by the dialog may be then be the URL for the _origin_ repository, not the (correct) fork.\r\nh3. Workaround\r\n\r\nNone.",
      "summary": "Repository/Project state may return incorrect object in compare view"
    }
  },
  {
    "key": "BSERV-8960",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-22T07:18:38.000+0000",
      "created": "2016-07-15T21:08:36.000+0000",
      "description": "The diff file hierarchy is rendered with extra indentation \"dots\" for personal repositories only. It seems the jstree css is different between personal/project repo PRs, and it is therefore missing the css 'list-style-type: none;'.\r\n\r\nAlso missing from personal repo PRs is the repo/code search textbox & my PRs button on the header.",
      "summary": "Personal repos PR diff file hierarchy is rendered differently than for project repos"
    }
  },
  {
    "key": "BSERV-8959",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-15T18:18:21.000+0000",
      "created": "2016-07-15T10:27:38.000+0000",
      "description": "It appears that you can only see the status of your latest build by navigating to commits or pipelines pages.\r\n\r\nhttp://i.imgur.com/oGjYNaT.png\r\n\r\nIt would be helpful to show the status of the *latest* build on the following pages:\r\n- Project overview\r\n- Repository overview\r\n\r\nSomething like this:\r\n\r\nhttp://i.imgur.com/mBxF2Bd.png\r\n\r\nLet me know if I put this in the wrong place, I couldn't find a Pipelines project.",
      "summary": "Show latest pipelines build status"
    }
  },
  {
    "key": "BSERV-8956",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2018-03-05T22:30:35.000+0000",
      "created": "2016-07-13T14:42:41.000+0000",
      "description": "```\r\nthis is\r\ntwo lines\r\n```\r\n\r\nis rendered as:\r\nthis is two lines",
      "summary": "Stash PR Editor pane's codeblock does not respect newlines"
    }
  },
  {
    "key": "BSERV-8955",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-28T00:56:40.000+0000",
      "description": "When reviewing a PR, it would be nice if the next file is prefetched so that when I go to view it, it shows up instantly. This would make the pull request experience feel more responsive.",
      "summary": "Prefetch the next file when reviewing a PR"
    }
  },
  {
    "key": "BSERV-8954",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-14T00:30:02.000+0000",
      "created": "2016-07-13T00:01:52.000+0000",
      "description": "Steps to repro: \r\nHover over project icon, see the text of project / repo in tooltip\r\nClick on icon\r\n\r\nExpected:\r\nTaken to repo overview/home per tooltip indication\r\n\r\nActual:\r\nTaken to project home",
      "summary": "Hovering on project icon indicates that link would take me to repo home instead of project home"
    }
  },
  {
    "key": "BSERV-8953",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T23:37:15.000+0000",
      "created": "2016-07-12T23:33:20.000+0000",
      "description": "In the [Java Pull Request Service Class|https://developer.atlassian.com/static/javadoc/bitbucket-server/latest/api/reference/com/atlassian/bitbucket/pull/PullRequestService.html] I see ways to create comments with only text on pull requests. Would it be possible to add a way to create comments with tasks, or create tasks that are attached to a comment?\r\n\r\n- Etan",
      "summary": "Have way to create task from Java Bitbucket Server API"
    }
  },
  {
    "key": "BSERV-8952",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T23:02:38.000+0000",
      "created": "2016-07-12T23:02:08.000+0000",
      "description": "Record the following SSH session statistics.\r\n\r\n* Active Session Count: Number of currently active SSH session\r\n* Max Active Session Count: Highest number of concurrently active SSH sessions since the last startup\r\n* Session Closed Count: Total number of SSH sessions that have been closed since the last startup\r\n* Session Created Count: Total number of SSH sessions that have been created since the last startup\r\n* Session Exception Count: Total number of SSH sessions that have been terminated because an exception was thrown from the SSH command run.\r\n",
      "summary": "JMX metrics to track SSH session statistics."
    }
  },
  {
    "key": "BSERV-8951",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T22:59:49.000+0000",
      "created": "2016-07-12T22:59:06.000+0000",
      "description": "Record the following event queue statistics\r\n\r\n* Dispatched Count: Total number of listener callbacks that have been performed. An event that is delivered to 10 listeners counts as 10 dispatches\r\n* Last Rejection:  Date of the last event being rejected, or null if no event has been rejected\r\n* Published Count: Total number of events delivered. An event that is delivered to 10 listeners counts a 1 event.\r\n* Queue Capacity: Maximum number of event callbacks that can be queued before events are rejected\r\n* Queue Length: Number of event callbacks that have been queued but haven't been dispatched yet.\r\n* Rejected Count: Total number of events that were not dispatched because the event queue was full\r\n* Remaining Queue Capacity: Remaining number of event callbacks that can be queued before events are rejected\r\n* ",
      "summary": "JMX metrics to track event queue statistics"
    }
  },
  {
    "key": "BSERV-8950",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T22:56:49.000+0000",
      "created": "2016-07-12T22:56:10.000+0000",
      "description": "Record the following cluster lock statistics\r\n\r\n* Locked Count: Number of cluster locks that are currently held by this node\r\n* Queued Thread Count: Number of threads on this node that are currently blocked waiting for a lock\r\n* Total Acquired Count: Total number of times a cluster lock was acquired on this node since startup\r\n* Total Acquire Error Count: Number of times an exception was thrown while trying to acquire a cluster lock on this node since startup\r\n* Total Acquire Time Millis: Total time in milliseconds that any thread on this node has spent acquiring a lock (including time blocked waiting for a lock to become available)\r\n* Total Released Count: Total number of times a cluster lock was released on this node since startup\r\n* Total Release Error Count: Total number of times an exception was thrown while releasing a cluster lock on this node since startup",
      "summary": "JMX metrics to track cluster lock statistics. "
    }
  },
  {
    "key": "BSERV-8949",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T06:47:09.000+0000",
      "created": "2016-07-12T22:54:41.000+0000",
      "description": "A choice should be provided to setup the repository with a specific branching methodology (e.g. gitflow)\r\n\r\n",
      "summary": "Allow a repository creation action to setup branches"
    }
  },
  {
    "key": "BSERV-8948",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T06:46:29.000+0000",
      "created": "2016-07-12T22:51:06.000+0000",
      "description": "Allow global settings profiles (for projects and repositories) to be created which either default, or enforce settings on projects and repositories.\r\n",
      "summary": "Project and Repository Settings Profiles"
    }
  },
  {
    "key": "BSERV-8947",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T22:53:40.000+0000",
      "created": "2016-07-12T22:47:30.000+0000",
      "description": "Allow a group to be assigned to review a pull request.\r\n\r\nThe idea being that only one member of that group needs to approve the PR, but that the PR creator does not need to know who exactly will do the review.\r\n\r\nUse Case Example:\r\nDevelopers always needs approval from a database administrator (dba team) for any SQL files they modify in their source code.\r\n\r\nFurther Enhancements (possibly in later releases than the initial implementation):\r\nWhen a group is assigned as a reviewer, a member of that group could choose to 'own' the reviewal to indicate to other group members that someone is already in the process of actively reviewing the PR.\r\n\r\nAllow the PR creator to specify a certain number of members needing to approve the PR, or even the entire group.\r\n",
      "summary": "Assign groups to review pull requests"
    }
  },
  {
    "key": "BSERV-8946",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-12T21:00:29.000+0000",
      "description": "For pull request reviewers, it would be very nice to have the amount of time they spent on the pull request code review logged and visible.  This would be a fantastic feature for us to provide some accountability in the job guys are doing reviewing code.\r\n\r\nThis feature is in Crucible.\r\n\r\nThanks!\r\n\r\nJason",
      "summary": "Track time spent by pull request code reviewer"
    }
  },
  {
    "key": "BSERV-8945",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-12T06:05:22.000+0000",
      "description": "Hey,\r\n\r\nA small feature request to have Bitbucket include the following headers when it sends its email notifications to people.\r\n\r\n{noformat}\r\nAuto-Submitted: auto-generated\r\nPrecedence: bulk\r\n{noformat}\r\n\r\nThis to avoid auto replies to be generated back to the sender address.\r\n\r\nThis is usually not a significant problem if the sender address used by Bitbucket is routed to /dev/null, but ...\r\n\r\nit is a small, but still recommended improvement.\r\n\r\n{panel}\r\nJira and Confluence already uses these headers in their notification emails.\r\n{panel}\r\n\r\nCheers!",
      "summary": "Email header on \"no-reply\" emails from Bitbucket"
    }
  },
  {
    "key": "BSERV-8944",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T05:56:33.000+0000",
      "created": "2016-07-12T05:48:13.000+0000",
      "description": "When a git rev-list is run that excludes a non-existent ref the caret (^) character is included in the git output\r\n{noformat}\r\n$ git rev-list --all master ^foo\r\nfatal: bad revision '^foo'\r\n{noformat}\r\n\r\nThe caret prefix is then included in the\r\n_NoSuchCommitException#getCommitId_ which violated the contract for this method. The contract for _NoSuchCommitException#getCommitId_  id defined as\r\n\r\n{noformat}\r\nRetrieves the ID for which no matching commit was found. If a path was supplied when \r\nattempting retrieve the commit, this is the ID of the starting commit\r\n{noformat}",
      "summary": "NoSuchCommitException#getCommitId retains caret prefix when missing commit is an exclude"
    }
  },
  {
    "key": "BSERV-8943",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T05:50:56.000+0000",
      "created": "2016-07-12T04:29:04.000+0000",
      "description": "h3. Summary\r\nUser gets 500 error when viewing commits on Bitbucket Server\r\n\r\nh3. Environment\r\nN/A\r\n\r\nh3. Steps to Reproduce\r\n# Set up Bitbucket server\r\n# Sync with LDAP\r\n# Browse with a user without an email allocated to his profile\r\n\r\nh3. Expected Results\r\n- User is able to browse without issue.\r\n\r\nh3. Actual Results\r\n-  End user sees 500 error page\r\n- The following is shown in the {{atlassian-bitbucket.log}}\r\n{noformat}\r\n2016-07-07 10:37:30,533 ERROR [http-nio-7990-exec-5] @7A44Dx637x190397x0 mg8stc 10.105.138.121,10.115.121.11 \"GET /mvc/error 500 HTTP/1.1\" c.a.s.i.web.ErrorPageController There was an unhandled exception loading [/git/projects/AVE/repos/fhd_discover yplatform/commits/961200dd47431e8ddc0fac854f7b9175d942abea]\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.google.template.soy. tofu.SoyTofuException: When evaluating \"requirePageData('bitbucket.page.commit', ['commit': $commit, 'watchable': $commitDis cussion, 'repository': $repository])\": While computing function \"requirePageData('bitbucket.page.commit', ['commit': $commit , 'watchable': $commitDiscussion, 'repository': $repository])\": null\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:981) ~[spring-webmvc-4.2.4. RELEASE.jar:4.2.4.RELEASE]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) ~[na:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) ~[na:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) ~[na:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) ~[na:na]\r\nat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:26) ~[na:na]\r\nat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:88 ) ~[classes/:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLog inPluginAuthenticationFilter.java:109) ~[classes/:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticat ionFilter.java:75) ~[classes/:na]\r\nat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java: 94) ~[atlassian-trusted-apps-core-4.2.0.jar:na]\r\nat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) ~[na:na]\r\nat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java: 94) ~[atlassian-trusted-apps-core-4.2.0.jar:na]\r\nat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) ~[na:na]\r\nat com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21) ~[at lassian-core-4.6.19.jar:na]\r\nat com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) ~[atlassian-core-4.6.19.jar:na ]\r\nat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:122) ~[na :na]\r\nat com.atlassian.plugin.connect.plugin.auth.oauth.OAuth2LOFilter.doFilter(OAuth2LOFilter.java:82) ~[na:na]\r\nat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32) ~[na:na]\r\nat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38) ~[na:na]\r\nat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39) ~[na:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLogi nPluginAuthenticationFilter.java:87) ~[classes/:na]\r\nat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticat ionFilter.java:73) ~[classes/:na]\r\nat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:86) ~[bitbucket -service-impl-4.5.2.jar:na]\r\nat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) ~[classes/:n a]\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_40]\r\nat java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]\r\n... 245 frames trimmed\r\nCaused by: com.google.template.soy.tofu.SoyTofuException: When evaluating \"requirePageData('bitbucket.page.commit', ['commit ': $commit, 'watchable': $commitDiscussion, 'repository': $repository])\": While computing function \"requirePageData('bitbuck et.page.commit', ['commit': $commit, 'watchable': $commitDiscussion, 'repository': $repository])\": null\r\nat bitbucket.internal.page.commit(commit.soy:16) ~[na:na]\r\nat com.google.template.soy.tofu.internal.BaseTofu.renderMainHelper(BaseTofu.java:369) ~[na:na]\r\nat com.google.template.soy.tofu.internal.BaseTofu.renderMain(BaseTofu.java:322) ~[na:na]\r\nat com.google.template.soy.tofu.internal.BaseTofu.access$100(BaseTofu.java:66) ~[na:na]\r\nat com.google.template.soy.tofu.internal.BaseTofu$RendererImpl.render(BaseTofu.java:476) ~[na:na]\r\nat com.atlassian.soy.impl.DefaultSoyManager.render(DefaultSoyManager.java:133) ~[na:na]\r\nat com.atlassian.soy.impl.DefaultSoyTemplateRenderer.render(DefaultSoyTemplateRenderer.java:45) ~[na:na]\r\nat com.atlassian.stash.internal.plugin.OsgiServiceProxyFactoryImpl$DynamicServiceInvocationHandler.invoke(OsgiServic eProxyFactoryImpl.java:104) ~[bitbucket-platform-4.5.2.jar:na]\r\nat com.atlassian.soy.springmvc.SoyView.render(SoyView.java:50) ~[atlassian-soy-spring-mvc-support-4.2.0.jar:na]\r\nat com.atlassian.stash.internal.web.soy.StashSoyViewResolver$1.render(StashSoyViewResolver.java:33) ~[classes/:na]\r\n... 26 common frames omitted\r\nCaused by: com.google.template.soy.sharedpasses.render.RenderException: When evaluating \"requirePageData('bitbucket.page.com mit', ['commit': $commit, 'watchable': $commitDiscussion, 'repository': $repository])\": While computing function \"requirePag eData('bitbucket.page.commit', ['commit': $commit, 'watchable': $commitDiscussion, 'repository': $repository])\": null\r\nat bitbucket.internal.page.commit(commit.soy:16) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.eval(RenderVisitor.java:741) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.visitPrintNode(RenderVisitor.java:248) ~[na:na]\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:87) ~[na:na]\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56) ~[na:na]\r\nat com.google.template.soy.basetree.AbstractNodeVisitor.visitChildren(AbstractNodeVisitor.java:59) ~[na:na]\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitChildren(AbstractSoyNodeVisitor.java:129) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.visitBlockHelper(RenderVisitor.java:702) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.visitTemplateNode(RenderVisitor.java:220) ~[na:na]\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitTemplateBasicNode(AbstractSoyNodeVisitor.java:160) ~[ na:na]\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:66) ~[na:na]\r\nat com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56) ~[na:na]\r\nat com.google.template.soy.basetree.AbstractNodeVisitor.exec(AbstractNodeVisitor.java:40) ~[na:na]\r\nat com.google.template.soy.tofu.internal.BaseTofu.renderMainHelper(BaseTofu.java:366) ~[na:na]\r\n... 34 common frames omitted\r\nCaused by: com.google.template.soy.sharedpasses.render.RenderException: While computing function \"requirePageData('bitbucket .page.commit', ['commit': $commit, 'watchable': $commitDiscussion, 'repository': $repository])\": null\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.computeFunctionHelper(EvalVisitor.java:672) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitFunctionNode(EvalVisitor.java:653) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitFunctionNode(EvalVisitor.java:87) ~[na:na]\r\nat com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:118 ) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitExprRootNode(EvalVisitor.java:148) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.visitExprRootNode(EvalVisitor.java:87) ~[na:na]\r\nat com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:81) ~[na:na]\r\nat com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:73) ~[na:na]\r\nat com.google.template.soy.basetree.AbstractReturningNodeVisitor.exec(AbstractReturningNodeVisitor.java:43) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.RenderVisitor.eval(RenderVisitor.java:739) ~[na:na]\r\n... 46 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\nat com.atlassian.stash.internal.web.fragments.IsWatchingContextProvider.getContextMap(IsWatchingContextProvider.java :47) ~[classes/:na]\r\nat com.atlassian.stash.internal.plugin.web.fragments.RequestCacheClientPageDataHandler.getPageData(RequestCacheClien tPageDataHandler.java:50) ~[bitbucket-platform-4.5.2.jar:na]\r\nat com.atlassian.stash.internal.plugin.web.fragments.RequestCacheClientPageDataHandler.requirePageData(RequestCacheC lientPageDataHandler.java:78) ~[bitbucket-platform-4.5.2.jar:na]\r\nat com.atlassian.stash.internal.plugin.OsgiSafeProxyProvider$1.invoke(OsgiSafeProxyProvider.java:93) ~[bitbucket-pla tform-4.5.2.jar:na]\r\nat com.atlassian.stash.internal.web.soy.functions.pagedata.RequirePageDataFunction.apply(RequirePageDataFunction.jav a:39) ~[classes/:na]\r\nat com.atlassian.stash.internal.web.soy.functions.pagedata.RequirePageDataFunction.apply(RequirePageDataFunction.jav a:16) ~[classes/:na]\r\nat com.atlassian.soy.impl.modules.SoyJavaFunctionAdapter.computeForJava(SoyJavaFunctionAdapter.java:34) ~[na:na]\r\nat com.google.template.soy.sharedpasses.render.EvalVisitor.computeFunctionHelper(EvalVisitor.java:670) ~[na:na]\r\n... 55 common frames omitted\r\n{noformat}\r\n\r\nh3.Workaround\r\nAssign an email address to the user.",
      "summary": "User gets 500 error when viewing commits on Bitbucket Server"
    }
  },
  {
    "key": "BSERV-8942",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T06:41:50.000+0000",
      "created": "2016-07-11T21:57:44.000+0000",
      "description": "As the issue was closed without any good reason and I believe it needs to be fixed I clone/reopen it!\r\nThis is a serious lack of functionality, please provide a workaround or a fix how I can see the other 24 issues of 34 JIRA issues I just linked to my major pull request...?\r\n !screenshot-1.png|thumbnail! \r\n---\r\n\r\nAs shown in the screenshot below:\r\n!screenshot-1.png|thumbnail!\r\nthis pull request contains 11 issue keys \r\n\r\n!screenshot-2.png|thumbnail!\r\nHowever, it is only showing the first ten issue",
      "summary": "PR not showing all JIRA issue keys if there are more than 10"
    }
  },
  {
    "key": "BSERV-8941",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-13T07:28:30.000+0000",
      "created": "2016-07-11T18:32:25.000+0000",
      "description": "I already use file system level compression to mitigate the cost of large sparse binaries, however it would be better if Bitbucket Server were able to store lfs objects in a compressed format.",
      "summary": "compress lfs objects"
    }
  },
  {
    "key": "BSERV-8940",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-11T13:49:17.000+0000",
      "description": "When we cancel a TagCreationRequestedEvent or one of the cancellable repository permissions events the message passed to the cancel method does not render in the UI. Instead you get some canned response which doesn't say why the event was cancelled. \r\n\r\nFor example:\r\n{{event.cancel(\"Not rendered\")}}\r\n\r\nYou can see this when you have an event handler for TagCreationRequestedEvent which cancels the event the UI does not render the custom message the handler cancels the event with. Cancelling something like BranchCreationRequestedEvent renders the message in the UI.\r\n\r\nThere are good cases for it being rendered so the user knows why it was cancelled.",
      "summary": "Render custom cancelled message for TagCreationRequestedEvent and repository permissions in the UI"
    }
  },
  {
    "key": "BSERV-8939",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T06:46:42.000+0000",
      "created": "2016-07-11T11:22:45.000+0000",
      "description": "{{PullRequestService.merge}} does not check whether the pull request is open before attempting to merge it. As a result, when {{merge}} is called with a pull request that is already merged, git reports {{\"Already up-to-date.\"}}\r\n\r\nThis is interpreted as an error and the pull request is put back in the OPEN state (because the merge failed). The next time pull request rescoping is triggered in the repository, the pull request is marked as \"merged remotely\" again.\r\n\r\n",
      "summary": "Only open pull requests should be mergeable"
    }
  },
  {
    "key": "BSERV-8938",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-13T07:23:26.000+0000",
      "created": "2016-07-11T06:59:55.000+0000",
      "description": "Project admins can set rights for users groups, but they can't know who is in a group. \r\nOnly server admin can view the list of users of a group.\r\nIn my large organization, project admins are in touch with users, but a project admin can't answer a user who said \"why can't I do this to your project ?\" when this user is supposed to be in a group.\r\n\r\nShould it be possible to add this feature in BitBucket ?\r\nThis feature could be implemented in the project roles configuration, maybe a popup window which lists users when the cursor is on a group.\r\nThis feature could be enabled/disabled via global rights administration.\r\nThanks in advance !",
      "summary": "Add groups visibility for project admins"
    }
  },
  {
    "key": "BSERV-8935",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-08T07:55:04.000+0000",
      "description": "It would be awesome if we could modify Git LFS settings on repositories through the REST API, definitely something i'm missing at the moment.\r\n\r\nSomething like:\r\n{noformat}\r\nhttp://example.com/rest/api/1.0/projects/{projectKey}/repos/{repositorySlug}/settings/lfs\r\n\r\n{noformat}\r\nor simply a property in the creation of the repo",
      "summary": "Change Git LFS settings through REST API"
    }
  },
  {
    "key": "BSERV-8932",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-20T05:05:46.000+0000",
      "created": "2016-07-07T12:28:49.000+0000",
      "description": "*Build:* Atlassian Bitbucket v4.7.1\r\n\r\nWhen including a build status icon inside the *readme.md* it gets styled horrible, due to {{.markup img}} having padding and margin applied for no apparent reason.\r\n\r\n!http://image.prntscr.com/image/52dda2737d8c48adaf1603ad75f02a93.png!\r\n\r\nAlso there is *still* no way to edit the *readme.md* directly from within Bitbucket Server, whereas this is possible with other products. Regular Bitbucket seems to be miles ahead with regards to quality of life features compared to BBS.\r\n\r\nLooking forward to the next update!",
      "summary": "Images inside readme.md are styled horribly"
    }
  },
  {
    "key": "BSERV-8931",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-13T07:13:39.000+0000",
      "created": "2016-07-07T09:19:40.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently in Bitbucket Server, a user who has administrative permissions in the application can switch between normal user operations and administrative operations without being prompted for their password. This is a potential security risk, and JIRA and Confluence do provide these extra prompts.\r\n\r\nh3. Suggested Solution\r\n \r\nA popup should appear when switching to the administrative interface, asking the user for their password, much like it is implemented in JIRA and Confluence.\r\n\r\nh3. Workaround\r\n\r\nLog into Bitbucket Server as a normal user with reduced privileges for normal work and log in with an administrative user when administrative work is required.",
      "summary": "As an administrator I want to be prompted for my password again when I switch to the admin interface"
    }
  },
  {
    "key": "BSERV-8930",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-15T12:56:44.000+0000",
      "created": "2015-12-15T03:56:58.000+0000",
      "description": "h2. Summary\r\n\r\nAfter pull requests are merged (especially when the 'delete branch' checkbox is checked), copies of the repository on Smart Mirrors may become stale until the next push (to any branch) forces a synchronization.\r\n\r\nDEBUG level logging on the mirror may show:\r\n{noformat}\r\n2015-12-15 02:49:33,781 DEBUG [threadpool:thread-1] upstream_8dc0bb6c-b31b-3d96-8835-eea2516116bd @1AOHHQKx169x91506x0 fyftjs 172.24.12.181,127.0.0.1 \"POST /rest/mirroring/latest/upstreamServers/8dc0bb6c-b31b-3d96-8835-eea2516116bd/addon/events HTTP/1.1\" c.a.b.i.m.s.DefaultMirrorSynchronizationHelper STASH/UN/user-management[2785]: upstream and local content hashes differ: 64579f3e-ffef-4250-a03a-783dacc5477b <-> 62274823-143f-439a-ae95-5be259f12daf\r\n2015-12-15 02:49:33,883 DEBUG [threadpool:thread-1] upstream_8dc0bb6c-b31b-3d96-8835-eea2516116bd @1AOHHQKx169x91506x0 fyftjs 172.24.12.181,127.0.0.1 \"POST /rest/mirroring/latest/upstreamServers/8dc0bb6c-b31b-3d96-8835-eea2516116bd/addon/events HTTP/1.1\" c.a.b.i.m.s.DefaultMirrorSynchronizationHelper STASH/UN/user-management[2785]: all upstream ref changes applied cleanly. No fetch is required.\r\n{noformat}\r\n\r\nh2. Workaround\r\n\r\n1. You can force a mirrored repository back into sync if you know the repository's numeric ID (on the upstream server). \u00a0For example, suppose the upstream repository ID is {{35}}:\r\n{noformat}\r\ncurl -u $USERNAME:$PASSWORD https://<mirror>/rest/mirroring/latest/upstreamServers/\r\n\r\n{noformat}\r\nwhere {{$USERNAME}} and {{$PASSWORD}} are the credentials of a system administrator account on the upstream. The result should contain something like {{\"id\":\"8dc0bb6c-b31b-3d96-8835-eea2516116bd\"}} that gives the \"upstream server ID\". Then:\r\n{noformat}\r\ncurl -u $USERNAME:$PASSWORD -v -X POST -H 'Content-Type:application/json' 'https://<mirror>/rest/mirroring/latest/upstreamServers/8dc0bb6c-b31b-3d96-8835-eea2516116bd/repos/35/synchronization?level=FORCE_ALL'\r\n{noformat}\r\nThe result should be {{202 Accepted}}, indicating that the mirror will synchronize the repository in the background.\r\n\r\n2. A push to the repository that adds or removes any commits (on any branch) should force a synchronization on all mirrors, bringing them fully back into synchronization with the upstream repository.\r\n\r\n\r\nh2. Solution\r\n\r\nUpgrade *both* the upstream and mirror instances to Bitbucket 4.7.2 or higher.",
      "summary": "\"All upstream ref changes applied cleanly. No fetch is required.\" leaving a repository out of sync until the next push"
    }
  },
  {
    "key": "BSERV-8929",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T21:53:19.000+0000",
      "created": "2016-07-06T21:12:39.000+0000",
      "description": "There are endpoints for all the other actions:\r\n\r\n* [decline|https://developer.atlassian.com/static/rest/bitbucket-server/4.7.1/bitbucket-rest.html#idp3027024]\r\n* [approve|https://developer.atlassian.com/static/rest/bitbucket-server/4.7.1/bitbucket-rest.html#idp2718112]\r\n* [merge|https://developer.atlassian.com/static/rest/bitbucket-server/4.7.1/bitbucket-rest.html#idp3076096]\r\n* [reopen|https://developer.atlassian.com/static/rest/bitbucket-server/4.7.1/bitbucket-rest.html#idp3059408]\r\n",
      "summary": "REST API endpoint to mark a PR as \"needs work\""
    }
  },
  {
    "key": "BSERV-8928",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T21:57:23.000+0000",
      "created": "2016-07-06T21:02:35.000+0000",
      "description": "There's an API to query open tasks, and an API to post a comment, but no API to create tasks from the comment being submitted. While one could hijack the build-status API for a similar effect it would be nice to have the full functionality of comments accessible via the REST API. ",
      "summary": "Support creation of Pull Requests tasks when commenting via REST API"
    }
  },
  {
    "key": "BSERV-8927",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-26T23:10:09.000+0000",
      "created": "2016-07-06T03:41:57.000+0000",
      "description": "h3. Problem Definition\r\nThe bundled Elasticsearch instanced provided with Bitbucket Server writes its log files (renamed with the {{bitbucket_search}} prefix) in the {{<BITBUCKET_HOME>/log/search}} folder.\r\n\r\nThese files are currently rotated following the configuration available in the {{<BITBUCKET_HOME>/shared/search/logging.yml}} configuration, but they don't have a retention period and will be kept forever.\r\n\r\nThis means that the disk space usage will always increase.\r\n\r\nh3. Suggested Solution\r\nAdd a default retention limit to the provided default {{logging.yml}} file.\r\n\r\nh3. Workaround \r\nManually implement a retention logic to remove older files. This can be achieved by modifying the {{logging.yml}} configuration, setting up a crontab job, or any other preferred method.",
      "summary": "Search logging should be limited"
    }
  },
  {
    "key": "BSERV-8926",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-05T03:59:37.000+0000",
      "description": "h3. Problem Definition\r\nBitbucket Server doesn't support the inline display of .webp image files\r\n\r\nh3. Suggested Solution\r\nAdd support for rendering/displaying .webp images directly in Bitbucket Server",
      "summary": "Add support for viewing .webp image files inline"
    }
  },
  {
    "key": "BSERV-8925",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T06:28:12.000+0000",
      "created": "2016-07-05T01:15:11.000+0000",
      "description": "At least when there is exactly one build. The rest of the line, if clicked, takes you to the failing/successful build.\r\n\r\n!https://monosnap.com/file/TFiUpuBBjjI69oX6oLQObCxvLvdexc.png!",
      "summary": "The PR overview build row is fully linked, but only the icon opens the dialog"
    }
  },
  {
    "key": "BSERV-8924",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-04T21:13:24.000+0000",
      "description": "It is possible to use an \"Issues\" panel / dashboard in Bitbucket Cloud:\r\n\r\nhttps://confluence.atlassian.com/display/BITBUCKET/Use+the+issue+tracker\r\n\r\nIt is possible in Bitbucket Cloud because it has it's own built-in issue tracking system.\r\n\r\nIn Bitbucket Server, even though [JIRA Software must be used for issue tracking|https://www.atlassian.com/software/bitbucket/features], there should be an \"Issues\" panel / dashboard as well, in which issues from the JIRA Software instance AppLinked would be shown.\r\n\r\nRationale: For some simple projects, we would like to avoid bouncing back and forth between the 2 systems using the application links.\r\n\r\nThe way issues are integrated to BitBucket Cloud, with it's \"Issue\" button, is really practical.",
      "summary": "Add \"Issues\" panel / dashboard"
    }
  },
  {
    "key": "BSERV-8923",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-05T00:10:00.000+0000",
      "created": "2016-07-04T16:38:08.000+0000",
      "description": "A restart cycle (stop, start) to a Bitbucket Serve can inhibit a new start due to the ssh-plugin failing to start. \r\nhttps://confluence.atlassian.com/stashkb/stash-failed-to-start-due-to-required-plugin-failed-to-start-394465959.html\r\nThis is quite annoying and happens regularly.",
      "summary": "Bitbucket Server refuses to start after shutdown"
    }
  },
  {
    "key": "BSERV-8922",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-07-04T13:33:00.000+0000",
      "description": "*Rating*: ;) Meh!\n\n{panel:title=What do you like?|borderColor=#ccc| titleBGColor=#c2ffa2|bgColor=#fff}\nSimple and Clear\n{panel}\n\n{panel:title=What needs to be improved?|borderColor=#ccc| titleBGColor=#faacad|bgColor=#fff}\nhttps://bitbucket.org/atlassian/stash-example-pull-request-ui-plugin\r\n\r\nURL IS NOT WORKING. PLEASE FIX IT.\n{panel}\n\n*Reporter*: SAKET GURUKAR\n*E-mail*: [mailto:saket.gurukar@gmail.com]",
      "summary": "Stash developer docs don't help people find the newer Bitbucket Server developer docs"
    }
  },
  {
    "key": "BSERV-8921",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T05:50:04.000+0000",
      "created": "2015-03-25T03:15:38.000+0000",
      "description": "If you run the Bitbucket Server installer and your {{$BITBUCKET_HOME/shared}} is an NFS mount that squashes {{root}} accesses, you get the error:\r\n\r\n{code}\r\n       Copy /opt/atlassian/stash/conf/server.xml to /media/atl/stash/shared/server.xml\r\n       Install file: /media/atl/stash/shared/server.xml; size: 7647 bytes; exists: false\r\n       File options set to: [fileTime: Fri Mar 20 15:08:56 UTC 2015, mode: 644, overwriteMode: Never, shared: false, uninstallMode: If created, delayIfNecessary: false]\r\n[ERROR] com.install4j.runtime.beans.actions.files.CopyFileAction [ID 76145]: Could not write /media/atl/stash/shared/server.xml\r\n        Install file not successful: /media/atl/stash/shared/server.xml\r\n        Execute action not successful after 4 ms\r\n[INFO] com.install4j.runtime.beans.actions.files.DeleteFileAction [ID 76144]: Execute action\r\n       Property backupForRollback: true\r\n       Property rollbackSupported: true\r\n       Property showProgress: false\r\n       Property showFileNames: true\r\n       Property recursive: false\r\n       Property fileFilter: null\r\n       Property directoryFilter: null\r\n       Property files: [conf/server.xml]\r\n       Backing up /opt/atlassian/stash/conf/server.xml\r\n       Execute action successful after 1 ms\r\n{code}\r\n\r\nTo fix this, the installer should copy {{server.xml}} with {{su atlbitbucket -c \"cp -n \\\"$1\\\" \\\"$2\\\"}}, ONLY for Linux if you are installing as {{root}}.",
      "summary": "If your $BITBUCKET_HOME/shared is an NFS mount that squashes root, the Installer cannot copy server.xml"
    }
  },
  {
    "key": "BSERV-8920",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-19T05:51:24.000+0000",
      "created": "2016-06-09T07:14:36.000+0000",
      "description": "When running the Linux Installer to upgrade an instance with a large amount of repository data under {{$BITBUCKET_HOME}}, it can spend a very long time doing a recursive {{chown}} of all the files in this directory, even if the home directory was already owned by the {{atlbitbucket}} user account.\r\n\r\n{noformat}\r\n2016-06-09 06:54:52 Downloading Bitbucket latest from https://s3.amazonaws.com/atlassian-software/releases/bitbucket/latest/atlassian-bitbucket-linux-x64.bin\r\n2016-06-09 06:55:26 Installing Bitbucket to /opt/atlassian/bitbucket\r\nStarting Installer ...\r\nThe target home directory is not empty.\r\nThe installation directory has been set to /opt/atlassian/bitbucket.\r\nExtracting files ...\r\n2016-06-09 07:51:57 Installed Bitbucket to /opt/atlassian/bitbucket\r\n2016-06-09 07:51:57 Cleaning up\r\n{noformat}\r\n\r\n{noformat}\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nroot      3422  0.0  0.0  11600  2608 ?        S    06:55   0:00 bash /opt/atlassian/bitbucket/bin/chown.sh atlbitbucket /var/atlassian/application-data/bitbucket\r\nroot      3423  1.2  0.0   8224  3520 ?        D    06:55   0:09 chown -R -H -L atlbitbucket:atlbitbucket /var/atlassian/application-data/bitbucket\r\n{noformat}\r\n\r\nThe Linux Installer should skip the {{chown -R}} step if the home directory is already owned by {{atlbitbucket}}.",
      "summary": "Linux Installer: If the home directory is already owned by \"atlbitbucket\", don't chown -R it"
    }
  },
  {
    "key": "BSERV-8919",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-22T22:29:39.000+0000",
      "created": "2016-07-01T16:22:38.000+0000",
      "description": "{panel:title=Atlassian status as of Oct 2020|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nHi everyone,\r\n\r\nThanks for your feedback on this suggestion. [Bitbucket Server and Data Center 7.7|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-7-7-release-notes-1026037684.html#BitbucketServer7.7releasenotes-react] adds the ability to react to pull request comments.\u00a0Give this a try and let us know your feedback.\r\n\r\nWe currently have no plans to react to specific lines of code, which was part of the original request. If you need that, please comments with your detailed use case as a comment below. Based on the feedback we might reconsider it.\u00a0\r\n\r\nCheers,\r\n Carla Baba\r\n Software developer - Bitbucket Server\r\n{panel}\r\n*Original description*\r\n It's usually not worth writing a full comment, when it is going to boil down to a \"good job here\" kind of thing, since it gets added to the email digest and the overview page, potentially drowning out actionable feedback.\r\n\r\nStash should encourage balanced pull request feedback, however. It should therefore allow reviewers to mark certain lines as being particularly good, using a \"thumbs up\" or \"like\" annotation on lines.",
      "summary": "Reactions for code"
    }
  },
  {
    "key": "BSERV-8918",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-06T07:23:42.000+0000",
      "created": "2016-06-30T23:08:29.000+0000",
      "description": "My team want to tag release commits. Once a release tag is created, the tag should not be able to be moved or deleted (except by authorized users/admins).\r\n\r\nWe have tried to limit tag changes with branch permissions (using a branch pattern of {{/refs/tags/*}} and selecting \"Prevent Deletion\" and \"Prevent Rewriting History\") but that only stopped tag deletion. I was able to change the commit the tag pointed to.",
      "summary": "Prevent moving/deleting tags"
    }
  },
  {
    "key": "BSERV-8917",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-30T22:47:42.000+0000",
      "description": "h3. Problem Definition\r\nCurrently the options for Branch Permissions are:\r\nPrevent all changes\r\nPrevent deletion\r\nPrevent rewriting history\r\nPrevent changes without a pull request\r\n\r\nThere is currently no way to allow developers to commit to branches but prevent them from creating new ones n a repository.\r\n\r\nThis can be a problem when a structured set of branches is desired (eg versioned releases) for developers to write to, but control over who creates them and when is desirable. In particular, unprotected branch creation can lead to developers inadvertently inserting their release branch into a cascading merge chain.\r\n\r\nh3. Suggested Solution\r\nImplement separate \"Prevent Create\", \"Prevent Modify\" to replace \"Prevent all changes\".  This would allow administrators to control creation of branches, while letting developers commit to them\r\n",
      "summary": "As an admin, I would like separate \"Create\" and \"Modify\" permissions for users and user groups in Branch Permissions"
    }
  },
  {
    "key": "BSERV-8916",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2016-06-30T15:38:58.000+0000",
      "description": "Often times, a PR sits without action from reviewers.  Having to hover over the list of reviewers and add them to an email is tedious and time consuming.  It'd be nice to have the option to click a button that will send a \"poke\" email to the reviewers.  Alternatively, it'd be nice to have the option to click a button with a mailto link that already has the reviewer email address filled in.",
      "summary": "Add option to poke, email or hipchat notify PR reviewers"
    }
  },
  {
    "key": "BSERV-8915",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-02-21T02:10:20.000+0000",
      "created": "2016-06-30T10:43:13.000+0000",
      "description": "h3. Summary\r\n\r\n{{bitbucket.properties}} file isn't migrated correctly when upgrading Bitbucket Server with Windows installer.\r\n\r\nh3. Environment\r\n\r\n* Windows Server 2008 (We could also reproduce this bug on Windows 10)\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Install vanilla 4.6.x (I used 4.6.2 to reproduce this bug) *as a service* with using the installer\r\n# Start the instance\r\n# Make the instance use External DB (I used PostgreSQL to reproduce this bug)\r\n#- Then, {{bitbucket.properties}} file should be created in this step\r\n# Check if the permission of {{bitbucket.properties}} is as follows ...(1)\r\n !before.png|thumbnail! \r\n# Stop the instance\r\n# Upgrade the instance to 4.7.1 with using the installer\r\n# Start the instance\r\n# Stop the instance\r\n# Check if the permission of {{bitbucket.properties}} is as follows ...(2)\r\n !after.png|thumbnail! \r\n\r\nh3. Expected Results\r\n\r\n(2) should be the same as the (1).\r\n\r\nh3. Actual Results\r\n\r\nA permission to access {{bitbucket.properties}} file was taken away from *Atlassian Bitbucket* user and there was an unknown user on the permission list instead.\r\n\r\nh3.Workaround\r\n\r\nWe have to change the file permission manually.",
      "summary": "bitbucket.properties file isn't migrated correctly when upgrading Bitbucket Server with Windows installer"
    }
  },
  {
    "key": "BSERV-8914",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-07T00:24:20.000+0000",
      "created": "2016-06-30T04:01:40.000+0000",
      "description": "Currently Smart Commits parses every commit message and executes any actions as the author of that commit. This means a malicious person given access to your codebase can act as another user for Smart Commit actions, and instances that don't have this level of trust in the people writing their code can't use Smart Commits.\r\n\r\nThis suggestion is to introduce an option that will only execute actions on commits where the author's email address matches the email address of the Bitbucket Server user doing the push.\r\n\r\nThis means a pusher can't maliciously attribute actions to others, but also means that if a pusher is the first person to push someone else's commits to Bitbucket Server, those commits will never have their actions run.",
      "summary": "Smart Commits - only run actions from commits authored by the pusher"
    }
  }
]