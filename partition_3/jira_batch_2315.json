[
  {
    "key": "BSERV-12352",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-13T01:00:53.000+0000",
      "created": "2020-05-08T12:36:06.000+0000",
      "description": "Users have being using the Plugin Custom Navigation for Bitbucket Server, but after upgrading to 6.10, it stopped working and they are no longer able to update the already created links or create new ones.\r\n\r\nLooking at the Marketplace it has lost support and is no longer being developed\r\n- [Custom Navigation for Bitbucket Server|https://marketplace.atlassian.com/apps/1211029/custom-navigation-for-bitbucket-server?hosting=server&tab=overview]\r\n\r\nWith that said there is still some users would like to have this functionality as that facilitate their daily workflow.",
      "summary": "Add the Feature of Custom Navigation Plugin to Bitbucket"
    }
  },
  {
    "key": "BSERV-12351",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-08T12:19:11.000+0000",
      "description": "Currently, in Bitbucket's User Directory configuration, we can add a DN to restrict the search for users and groups via the Additional User/Group DN fields.\r\n\r\nIt would be great if we could actually use multiple DNs in the field (separated by ; or | ) so we can set a broader Base DN and search only in specific DNs.",
      "summary": "Allow multiple DNs in the Additional User/Group DN field"
    }
  },
  {
    "key": "BSERV-12350",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-11T02:49:14.000+0000",
      "created": "2020-05-07T15:22:53.000+0000",
      "description": "h3. Issue Summary\r\nAfter 7.0 the build information screen on commits and pull request has inconsistent appearance. Previously if the build-name was not sent to REST endpoint it would be showing build-key.\r\nh3. Steps to Reproduce\r\n# Create a build or sent the [JSON file to Build status REST endpoint|https://developer.atlassian.com/server/bitbucket/how-tos/updating-build-status-for-commits/] for a certain commit.\r\n# Create another build with empty value for build-name to the same commit.\r\n\r\nh3. Expected Results\r\n* The first build is showing build-name with a link to a build (/)\r\n* The second build is showing build-key with a link to a build (/)\r\n\r\nh3. Actual Results\r\n* The first build is showing build-name with a link to a build (/)\r\n* The second build has no title in HTML tag so empty row (x)\r\n !build-from-pr-detail.png|thumbnail! \r\n\r\n(!) The behavior is inconsistent across different screens: it shows build-key with a link on the pull requests page (i.e projects/DEMO/repos/test/pull-requests) and empty row if you open build information from the pull request overview\r\n\r\nh3. Workaround\r\nMake sure that all builds updates sent by your CI has both build-name and build-key",
      "summary": "Build information link is showing empty in case of CI didn't sent a build-name to REST endpoint"
    }
  },
  {
    "key": "BSERV-12349",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-07T12:36:36.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWe use push webhook to trigger a Jenkins job. Currently, the webhook is triggered for any changes in a repository including Adding and Deleting branches. As a system admin,\u00a0I want to trigger the job ONLY when a user modifies a branch. Adding or Deleting a branch should not trigger a Jenkins job.\r\n\r\nWe don't want to use\u00a0\u00a0[Atlassian supported Jenkins integration for Bitbucket Server|https://community.atlassian.com/t5/Bitbucket-articles/Atlassian-supported-Jenkins-integration-for-Bitbucket-Server/ba-p/1148326]\u00a0as we may not use Jenkins in other projects.\r\nh3. Use-Case Scenario\r\n * BitBucket sends one PUSH webhook on Branch Modified, Added and Deleted, and on Tag Added and Deleted.\r\n * Almost 100% of code changes required, at minimum, an automation process to make sure the build is not broken.\r\n * This scenario is triggered by a branch modification or by Tag addition (PUSH command in GIT).\r\n * For a branch - When a branch is added or deleted the automation process has nothing to do - there is no reason to test a new branch and there is no branch to test when it has been deleted.\r\n * For a tag - When a tag deleted the automation process has e nothing to do - there is no reason to test a tag when it has been deleted.\r\n * The problem is that the Jenkins jobs are triggering anyway and I need to add filtering code and let go only branches changes and new tags.\r\n * There are a lot of new branches and a lot of deleted branches so Jenkins is occupied for nothing and Jobs# sequence with unreasonable holes.\r\n * We would like to have a\u00a0separate hook for every event and let the customer decide whether to use it or not. Just like you did in commit comment and in PR events.",
      "summary": "Provide more options in triggering Webhook for modified repository events"
    }
  },
  {
    "key": "BSERV-12348",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-06T21:10:18.000+0000",
      "description": "Currently while viewing a diff the \"m\" keyboard shortcut will allow you to add a comment to the file however this comment is added at the top of the file, not at the place where the focus is at.\u00a0 We need a keyboard shortcut that allows you to add a focused comment at the point that you are currently highlighted.\r\n\r\n*Current Situation:* Everytime you are reviewing diffs (in a code review) you have to take your hand off the keyboard to the mouse or trackpad and move the mouse over to the \"Add a comment on this line\" icon, click and then return your hand to the keyboard to type the comment\r\n\r\n*Impact:* Not keyboard friendly.\u00a0 causes lost seconds multiplied by every time you have to add a focused comment\r\n\r\n*Current Work Around:* None",
      "summary": "Keyboard shortcut to add a comment on the current focused diff segment in a pull request"
    }
  },
  {
    "key": "BSERV-12347",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-06T15:40:47.000+0000",
      "description": "For the Bitbucket plugin \u201cPermission Lockdown for Bitbucket Server\u201d it would be nice to allow certain projects and/or project administrator the ability to edit public access and default permission settings for their projects and repositories.",
      "summary": "Permission Lockdown for Bitbucket Server - Allow certain projects or users to edit these values."
    }
  },
  {
    "key": "BSERV-12346",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-05T18:54:08.000+0000",
      "description": "Should be able to enforce having the Enable Verify Commiter hook by default and disable the ability of any one other than System Admin to be able to override that function.  It should require a restart of Bitbucket to enable or disable this feature.",
      "summary": "Enable Verify Commiter hook by default."
    }
  },
  {
    "key": "BSERV-12345",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-05-05T18:50:20.000+0000",
      "description": "There are times when System Admin need to be able to limit the functions of admin or project creators.  For instance, a Project Admin should be able to limit an admin ability to add a ssh key to a repository or make the repository public.  This would also apply to creating or modifying hooks or web hooks.  This should apply to any individual setting in the repository setting page.\r\n\r\nBasically there should be a setting where a system admin can make these configuration setting but stop an Admin from changing them.  This will allow some policy to be applied without having to take away Admin access.",
      "summary": "System admin have the ability to limit Admin functions."
    }
  },
  {
    "key": "BSERV-12344",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-21T05:49:07.000+0000",
      "created": "2020-05-04T21:53:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen adding a hyperlink to an image via markdown in a pull request description or comment, instead of navigating to the intended hyperlink the user is instead brought to a presentation view of the original image. It is expected that the hyperlink associated with an image should be given priority over navigating to the presentation view for the actual image within the application.\r\n\r\nh3. Steps to Reproduce\r\n # Navigate to the pull request creation screen\r\n # For the pull request description, place the following comment:\r\n #* {noformat}[![Atlassian](https://wac-cdn.atlassian.com/dam/jcr:616e6748-ad8c-48d9-ae93-e49019ed5259/Atlassian-horizontal-blue-rgb.svg?cdnVersion=990)](https://atlassian.com){noformat}\r\n # Submit the pull request\r\n\r\nh3. Expected Results\r\n\r\nThe pull request description contains an image of the Atlassian logo that, when clicked, navigates the user to https://atlassian.com.\r\n\r\nh3. Actual Results\r\n\r\nThe pull request description contains an image of the Atlassian logo that, when clicked, takes the user to a slideshow/presentation view of the Atlassian logo.\r\n\r\nh4. Notes\r\n\r\n(!) This same behavior can also be seen when submitting a comment with the same markdown in the new pull request experience:\r\n\r\n*  !PR_Image_Hyperlink.gif|height=70%,width=70%! \r\n\r\n(i) This behavior +does+ work as expected when using the same markdown in a {{readme.md}} file, and then clicking on the image in the readme preview for the repository\r\n\r\nh3. Workaround\r\n\r\nIt is recommended to submit any intended hyperlinks as a set of hyperlinked text underneath the image in question using the following format:\r\n\r\n{noformat}\r\n[This is a link to Atlassian's site](https://atlassian.com)\r\n{noformat}",
      "summary": "Associating a hyperlink with an image doesn't work in new PR design"
    }
  },
  {
    "key": "BSERV-12342",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T02:02:18.000+0000",
      "created": "2020-05-04T09:40:43.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a pull request comment contains a URL that contains an asterisk, the resulting link is not clickable\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Add a comment to a pull request that contains this URL:\r\nhttps://something.something.com/something?query=*\r\nh3. Expected Results\r\nThe link is clickable and leads to https://something.something.com/something?query=*\r\nh3. Actual Results\r\nWhile the link is rendered as if it was clickable, it isn't (because it has no {{href}})\r\n\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "When a pull request comment contains a URL that contains an asterisk, the resulting link is not clickable"
    }
  },
  {
    "key": "BSERV-12341",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T02:02:23.000+0000",
      "created": "2020-05-04T09:39:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen readme.md contains a URL that contains an asterisk, the resulting link points to \"null\".\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Commit and push a readme.md file that contains this URL:\r\nhttps://something.something.com/something?query=*\r\n# Open the repository that the file was pushed to in the Bitbucket Server UI\r\n\r\nh3. Expected Results\r\nThe link is clickable and leads to https://something.something.com/something?query=*\r\nh3. Actual Results\r\nThe link is clickable and leads to \"null\", relative to the repository (because the {{href}} is {{null}})\r\n\r\n\r\nh3. Workaround\r\nThe asterisk can be URL-escaped with %a",
      "summary": "When readme.md contains a URL that contains an asterisk, the resulting link points to \"null\"."
    }
  },
  {
    "key": "BSERV-12340",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-15T00:07:04.000+0000",
      "created": "2020-05-01T19:09:36.000+0000",
      "description": "h3. Summary\r\n\r\nWhen attempting to set up a mirror with Bitbucket Cloud, it is not possible to choose the Bitbucket Cloud option.\r\nh3. Expected Results\r\n\r\nWhen setting up a mirror (using installer or the archive file), it should be possible to choose between a Bitbucket Cloud or a Bitbucket Data Center option:\r\n\r\n!Screen Shot 2020-05-01 at 16.04.28.png|thumbnail!\r\nh3. Actual Results\r\n\r\nInstead of being asked for a \"Primary Server location\" It is prompted for a \"Primary server URL\"",
      "summary": "Cannot set up a mirror with Bitbucket Cloud"
    }
  },
  {
    "key": "BSERV-12339",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-30T13:19:44.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen git lfs is installed on the server downloading commits with LFS files results in a corrupted zip file\r\nh3. Steps to Reproduce\r\n # Install LFS on server (note - this is NOT needed for LFS to work with Bitbucket Server - it may be there for other reasons)\r\n # Enable LFS on a particular repository on Bitbucket Server\r\n # Add and Commit (client side) an LFS tracked file - push the commit to server\r\n # On Bitbucket Server UI, find the commit and click *Download this commit*\r\n # The resulting archive (zip) file is corrupted and cannot be opened\r\n\r\nNote: tested with Git 2.7.x\r\nh3. Expected Results\r\n\r\nZip file  is not corrupted and can be opened\r\nh3. Actual Results\r\n\r\n\"An error occurred while loading the arhive\" when trying to open zip file\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-04-30 14:41:20,179 ERROR [http-nio-7990-exec-4]  o.a.c.c.C.[.[.[/bitbucket].[default] Servle\r\nt.service() for servlet [default] in context with path [/bitbucket] threw exception\r\ncom.atlassian.bitbucket.scm.CommandFailedException: '/usr/bin/git archive --format=zip -- 76fce3a\r\ncdc9a70c0d01d58df736ea69d3b87f853' exited with code 128 saying: Downloading Marionx_cover_generic\r\n.jpg (29 KB)\r\nError downloading object: Marionx_cover_generic.jpg (07e0258): Smudge error: Error downloading Ma\r\nrionx_cover_generic.jpg (07e0258894645f3faed1df8888796178e39eb9d4a041a9a5b2609521f04298a9): batch\r\n request: missing protocol: \"\"\r\n\r\nErrors logged to /var/atlassian/application-data/stash/shared/data/repositories/62/lfs/logs/20200\r\n430T144120.159872096.log\r\nUse `git lfs logs last` to view the log.\r\nerror: external filter git-lfs smudge -- %f failed 2\r\nerror: external filter git-lfs smudge -- %f failed\r\nfatal: Marionx_cover_generic.jpg: smudge filter lfs failed\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onError(DefaultCommandExitHandler.java:47)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:\r\n111)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:153)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:287)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:251)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:87)\r\n\tat com.atlassian.stash.internal.content.DefaultContentService.streamArchive(DefaultContentService.java:181)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvoca\r\ntionHandler.java:26)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.j\r\nava:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.jav\r\na:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCC\r\nLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.stash.internal.rest.content.ArchiveResource.lambda$getArchive$1(ArchiveResource.java:156)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingResponse.lambda$write$0(StreamingResponseFilter\r\n.java:99)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$AbstractStreamingExceptionMapper.stream(StreamingResponseFilter.java:50)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingResponse.write(StreamingResponseFilter.java:99)\r\n\tat com.atlassian.stash.internal.rest.util.StreamingResponseProvider.writeTo(StreamingResponseProvider.java:58)\r\n\tat com.atlassian.stash.internal.rest.util.StreamingResponseProvider.writeTo(StreamingResponseProvider.java:39)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFil\r\n...\r\nCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128\r\n        at com.atlassian.bitbucket.scm.SummarizingProcessHandler.complete(SummarizingProcessHandler.java:47)\r\n        at com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:667)\r\n        at com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:163)\r\n        at com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:249)\r\n        ... 45 common frames omitted\r\n\r\n{noformat}\r\nh3. Workaround\r\n\r\nUninstall git lfs from the server\r\n{noformat}\r\ngit lfs uninstall\r\n{noformat}\r\n\r\nIf you need to have an lfs client installed on the server for any reason you ran reinstall it with this option:\r\n{noformat}\r\ngit lfs install --skip-smudge\r\n{noformat}",
      "summary": "Downloading a commit as zip when a commit has LFS files and lfs is installed on server results in corrupted archive (Smudge error/missing protocol error)"
    }
  },
  {
    "key": "BSERV-12338",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-30T13:00:15.000+0000",
      "description": "h3. Description\r\nWhen a mirror loses connection to the upstream due to network or other issues, the status of the mirror in the _Upstream_ remains SYNCHRONIZED even when they are discrepancies between the _Upstream_ and _Mirror_.\r\n\r\nCould a feature be added where the state of the mirror could be determined from the upstream when it looses connection.\r\n",
      "summary": "Mirror status in the upstream should change when it loses connection"
    }
  },
  {
    "key": "BSERV-12337",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-05T07:33:48.000+0000",
      "created": "2020-04-30T09:15:16.000+0000",
      "description": "h3. Issue Summary\r\nThe [REST API|https://docs.atlassian.com/bitbucket-server/rest/7.1.2/bitbucket-rest.html#idp331] below to retrieve number of task associated with a pull-request doesn't retrieve the expected result in Bitbucket 7.1.1\r\n{code:java}\r\ncurl -u user:password <Bitbucket_URL>/rest/api/1.0/projects/SSP/repos/test1/pull-requests/1/tasks/count\r\n{code}\r\nh3. Steps to Reproduce\r\n # Create a task within a pull-request \r\n !create task alone.png! \r\n # Execute API call\r\n{code:java}\r\ncurl -u user:password <Bitbucket_URL>/rest/api/1.0/projects/SSP/repos/test1/pull-requests/1/tasks/count\r\n// Result\r\n{\"open\":0,\"resolved\":0}\r\n{code}\r\n # Add comment as a reply to the created task within a pull-request \r\n !create task with comment.png! \r\n # Execute API call\r\n{code:java}\r\ncurl -u user:password <Bitbucket_URL>/rest/api/1.0/projects/SSP/repos/test1/pull-requests/1/tasks/count\r\n// Result\r\n{\"open\":0,\"resolved\":0}\r\n{code}\r\n # Add a comment and create a task as a reply to the comment\r\n !comment with task.png! \r\n#  Execute API call\r\n{code:java}\r\ncurl -u user:password <Bitbucket_URL>/rest/api/1.0/projects/SSP/repos/test1/pull-requests/1/tasks/count\r\n// Result\r\n{\"open\":1,\"resolved\":0}\r\n{code}\r\n\r\nh3. Expected Results\r\nWhen a task is created within a pull-request, the API should return an accurate count as shown below:\r\n{code:java}\r\ncurl -u user:password <Bitbucket_URL>/rest/api/1.0/projects/SSP/repos/test1/pull-requests/1/tasks/count\r\n// Result\r\n{\"open\":1,\"resolved\":0}\r\n{code}\r\nh3. Actual Results\r\n{code:java}\r\ncurl -u user:password <Bitbucket_URL>/rest/api/1.0/projects/SSP/repos/test1/pull-requests/1/tasks/count\r\n// Result\r\n{\"open\":0,\"resolved\":0}\r\n{code}\r\n\r\nh3. Workaround\r\nNone available\r\n",
      "summary": "REST API for pull request tasks count returns wrong amount of tasks"
    }
  },
  {
    "key": "BSERV-12336",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-09T01:26:48.000+0000",
      "created": "2020-04-30T07:47:21.000+0000",
      "description": "h3. Issue Summary\r\nWhen unauthenticated, selecting the bitbucket home logo in the top right will cause Bitbucket to check every repository to see if it is public or not. With many repositories or slower DB connections this process can take a long time, leading to slow page load times.\r\n\r\nh3. Steps to Reproduce\r\n # Create 10000+ repositories\r\n # Logout of Bitbucket and click the Bitbucket \"home\" logo in the top left\r\n\r\nh3. Expected Results\r\nPage loads in respectable time\r\n\r\nh3. Actual Results\r\nPage load can take up to minutes at a time. You can see in profiling logs the following slow request:\r\n{noformat}\r\n2020-04-14 16:12:41,625 | http-nio-7990-exec-656 | @1X9KUBKx971x22632272x12 | - | -\r\n[91111.8ms] - \"GET / HTTP/1.0\"\r\n [91108.0ms] - Page com.atlassian.bitbucket.repository.RepositoryService.findAll(PageRequest)\r\n  [91108.0ms] - Page com.atlassian.stash.internal.Dao.findAll(PageRequest,Predicate)\r\n{noformat}\r\n\r\nA HAR file will show slow FTTB on the main page request.\r\n\r\nh3. Workaround\r\n\r\nDisable the public repositories feature (if not used) by setting the following in bitbucket.properties and restartring:\r\n{noformat}\r\nfeature.public.access=false\r\n{noformat}",
      "summary": "Unauthenticated home page causes slow page load times"
    }
  },
  {
    "key": "BSERV-12333",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-29T16:39:33.000+0000",
      "description": "Successive changes have made assigning a bug harder. \u00a0The choices were once limited to my Team and I believe the last developer assigned was the default choice. \u00a0I did not have to type anything; just one click. \u00a0Then you started requiring I type, but after 3 letters my lead dev. Lewis would appear. \u00a0Now I have to type his full first name and start on his last name. If I don't I have what seems to be a huge list of all your customers. \u00a099% of my bugs go to the lead. I do not need to see every developer in your system and I feel it is a breach to show them all to me. \u00a0Just show my team, preselect a default, and let me change by a click with NO TYPING REQUIRED. This was working perfectly before you all changed it.\r\n\r\n\u00a0\r\n\r\nThanks for giving me the chance to suggest a reversion, and thanks for listening.",
      "summary": "Make Assigning a Bug Easier"
    }
  },
  {
    "key": "BSERV-12332",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-29T16:31:31.000+0000",
      "description": "h3. Issue Summary\r\nOpen ID Connect configuration UI (https://<URL>/plugins/servlet/authentication-config) does not have any form validation for issuer URL.\r\n\r\nh3. Steps to Reproduce\r\n # Go to https://<URL>/plugins/servlet/authentication-config\r\n #  Set Issuer URL to a valid URL with a scheme that is not equivalent to http or https, e.g. \"file:///path/to/file\" or \"jar:http://poc.local&#33;/\".\r\n# Fill all other mandatory settings\r\n# Click \"save configuration\"\r\n\r\nh3. Expected Results\r\nError message \"Issuer URL is invalid\"\r\n\r\nh3. Actual Results\r\n !Screenshot 2020-04-29 at 18.28.29.png|thumbnail! \r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-04-29 18:20:02,529 ERROR [http-nio-7990-exec-10] siteadmin @TBU0D3x1100x514x0 1mdbw90 172.16.71.1,172.16.71.134 \"PUT /rest/authconfig/latest/sso HTTP/1.1\" c.a.p.r.c.e.j.ThrowableExceptionMapper Uncaught exception thrown by REST service: class sun.net.www.protocol.file.FileURLConnection cannot be cast to class java.net.HttpURLConnection (sun.net.www.protocol.file.FileURLConnection and java.net.HttpURLConnection are in module java.base of loader 'bootstrap')\r\njava.lang.ClassCastException: class sun.net.www.protocol.file.FileURLConnection cannot be cast to class java.net.HttpURLConnection (sun.net.www.protocol.file.FileURLConnection and java.net.HttpURLConnection are in module java.base of loader 'bootstrap')\r\n\tat com.nimbusds.oauth2.sdk.http.HTTPRequest.toHttpURLConnection(HTTPRequest.java:786)\r\n\tat com.nimbusds.oauth2.sdk.http.HTTPRequest.send(HTTPRequest.java:882)\r\n\tat com.nimbusds.openid.connect.sdk.op.OIDCProviderMetadata.resolve(OIDCProviderMetadata.java:1318)\r\n\tat com.nimbusds.openid.connect.sdk.op.OIDCProviderMetadata.resolve(OIDCProviderMetadata.java:1283)\r\n\tat com.atlassian.plugins.authentication.impl.web.oidc.OidcDiscoverySupport.fetch(OidcDiscoverySupport.java:49)\r\n\tat com.atlassian.plugins.authentication.impl.web.oidc.OidcDiscoverySupport.refresh(OidcDiscoverySupport.java:31)\r\n\tat com.atlassian.plugins.authentication.impl.config.SsoConfigService.refreshDiscoveryIfNeeded(SsoConfigService.java:100)\r\n\tat com.atlassian.plugins.authentication.impl.config.SsoConfigService.updateSsoConfig(SsoConfigService.java:70)\r\n\tat com.atlassian.plugins.authentication.impl.rest.SsoConfigResourceService.updateConfig(SsoConfigResourceService.java:84)\r\n\tat com.atlassian.plugins.authentication.impl.rest.SsoConfigResource.updateConfig(SsoConfigResource.java:39)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:75)\r\n\tat com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:33)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:87)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t... 246 frames trimmed\r\n{noformat}\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "OpenID connect configuration UI does not validate the Issuer URL"
    }
  },
  {
    "key": "BSERV-12331",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-22T05:58:49.000+0000",
      "created": "2020-04-29T15:20:00.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPull request diff colors are indistinguishable for color blind people\r\n\r\nh3. Steps to Reproduce\r\n* Open a Pull Request diff on Bitbucket 7.x\r\n\r\nh3. Expected Results\r\n\r\nThe chosen colors for the new PR diff are color blind friendly.\r\n\r\nh3. Actual Results\r\n\r\nThe colors chosen for the new PR diff UI are not distinguishable for color blind people.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Pull request diff colors are indistinguishable for color blind people"
    }
  },
  {
    "key": "BSERV-12330",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-30T00:01:11.000+0000",
      "created": "2020-04-28T09:31:07.000+0000",
      "description": "!https://docs.microsoft.com/en-us/azure/devops/repos/git/media/pull-requests/pr_comments_summary.png?view=azure-devops|width=561,height=320!\r\n\r\n\r\nAs the image above shows(from azure), it would be nice to be able to mark comments as 'resolved'.\r\nThis would make responding to comments a lot easier as you don't have to keep remembering which one is still around and which has already been handled.",
      "summary": "Ability to mark code comments on pull requests as 'resolved' like how Azure does"
    }
  },
  {
    "key": "BSERV-12328",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-28T01:44:40.000+0000",
      "description": "With the latests release of Bitbucket 7.0 we removed the support for the \"{{bitbucket.pull-request.nav}}\" web-item plugin point. The old plugin point was handled with the Client Web Fragments that we no longer support on the pull request page. Instead we use the [Client-Side Extensions|https://developer.atlassian.com/server/framework/clientside-extensions/].\r\n\r\nHowever, we haven't provided any Client-Side Extension point as an alternative to the removed plugin point.\r\n\r\nWe have many feature requests and comments from the vendor developers that would like\u00a0 to see the alternative for the missing plugin point:\r\n\r\n\u00a0-\u00a0[https://community.developer.atlassian.com/t/announcement-bitbucket-server-7-0-early-access-program-eap-release/34814/25|https://community.developer.atlassian.com/t/announcement-bitbucket-server-7-0-early-access-program-eap-release/34814/25?u=madamczak]\r\n\r\n-\u00a0[https://community.developer.atlassian.com/t/announcement-bitbucket-server-7-0-eap2-release/35829/14|https://community.developer.atlassian.com/t/announcement-bitbucket-server-7-0-eap2-release/35829/14?u=madamczak]\r\n\r\n-\u00a0[https://community.developer.atlassian.com/t/announcement-bitbucket-server-7-0-early-access-program-eap-release/34814/36]\u00a0",
      "summary": "Add a new extension point for Pull Request Tabs"
    }
  },
  {
    "key": "BSERV-12326",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-24T16:39:08.000+0000",
      "description": "In the cases of on-boarding new developers, some teams may want to enforce approvers on pull requests opened by a particular user. Currently, the only configuration that can be done for \"Minumum Approvers\" is changing the number and that is repository-wide. \r\n\r\nAllowing to specify exceptions to the minimum approvers or set specific users/groups that require approvers first would be a feature that could solve this business case.",
      "summary": "Require Approvers based on the creator of the PR"
    }
  },
  {
    "key": "BSERV-12325",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-24T15:07:37.000+0000",
      "description": "In Bitbucket, it would be nice to have more information displayed than only the repo \u2013 file path name for each\u00a0file containing search result match(es). This would avoid the need to drill into each match just for timestamp info in cases where the same file name exists with similar content in multiple repositories.\r\n\r\nAfter a search is performed for the given text, the results page with the matches is displayed. At the top left of the results is the string \"Found matches in ### files\", followed by the repo / name \u2013 path / to / file text for each file containing one or more matches. Everything is left justified and the repo \u2013\u00a0file text's background is colored.\r\n\r\n*Proposal*\r\n\r\nI would like to have the option of displaying the last modification time of each matching file (ideally right-justified on the same line as the repo \u2013 file text but a hover tooltip would suffice), AND I would like to have the option of sorting the search results incrementally/decrementally by file modification time. Thanks.",
      "summary": "Add file modification timestamp and sorting to bitbucket search results"
    }
  },
  {
    "key": "BSERV-12323",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-24T10:43:22.000+0000",
      "description": "When browsing the\u00a0*source* in a Bitbucket repository we are presented a table with: source (file name), description (last commit message of modification), last modified\r\n\r\nIt would be great if we could sort this page on the\u00a0*last modified* column.",
      "summary": "Allow sorting on \"Last Modified\" column on source pages"
    }
  },
  {
    "key": "BSERV-12322",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-24T10:08:12.000+0000",
      "description": "h3. Summary\r\nAt the moment the user list(Administration > Accounts > Users) and group list(Administration > Accounts > Groups) are sorted by default hard settings. The _search_ provide a specific search result. It is tedious to perform a specific search when a group or username is hard to recall, the sorting option would east the search process.\r\n\r\nh3. Expected Results\r\nIt would best fit on sorting the user list and group list base on the available columns:\r\n* Name(applicable for group list as well)\r\n* Username\r\n* Email\r\n* Directory\r\n* Last authenticated\r\n\r\nh3. Actual Results\r\nUnable to sort the user and group list which require manual searching.",
      "summary": "Sorting groups and users based on the column"
    }
  },
  {
    "key": "BSERV-12321",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-24T09:40:22.000+0000",
      "description": "We have a team which stores large-ish text & source files in git-lfs to keep the overall git repository size down.\r\n\r\nWhen these files are changed & a pull-request is opened. Bitbucket UI shows there is a change and prompts the user to download the old & new file.\r\n\r\nIf possible, we would like text-based lfs files to be displayed in the Bitbucket diff-view.\r\n\r\nIt is possible to do this client-side using:\r\n{quote}git config diff.lfs.textconv cat\r\n{quote}",
      "summary": "Git LFS diffs for text-based files"
    }
  },
  {
    "key": "BSERV-12320",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-19T01:09:57.000+0000",
      "created": "2020-04-23T17:26:24.000+0000",
      "description": "h3. Issue Summary\r\nWhen upgrading Bitbucket Server with bundled Elasticsearch from 5.16.x straight to 7.1.x or newer, Elasticsearch indexes may need to be nuked and rebuilt from scratch because Elasticsearch will fail to upgradade them, which blocks Elasticsearch from starting up.\r\nElasticsearch logs report the following issue:\r\n{noformat}\r\n2020-04-14 14:40:54 Commons Daemon procrun stderr initialized\r\nException in thread \"main\" tion: The index [[bitbucket-search-v1/4YpLxPxQQF2Hn268Mxv3ug]] was created with version [5.5.3] but the minimum compatible version is [6.0.0-beta1]. It should be re-indexed in Elasticsearch 6.x before upgrading to 7.5.2.\r\n\tat org.elasticsearch.cluster.metadata.MetaDataIndexUpgradeService.checkSupportedVersion(MetaDataIndexUpgradeService.java:113)\r\n\tat org.elasticsearch.cluster.metadata.MetaDataIndexUpgradeService.upgradeIndexMetaData(MetaDataIndexUpgradeService.java:87)\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:227)\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:167)\r\n\tat org.elasticsearch.gateway.GatewayMetaState.start(GatewayMetaState.java:90)\r\n\tat org.elasticsearch.node.Node.start(Node.java:696)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.start(Bootstrap.java:293)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:378)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150)\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125)\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)\r\nRefer to the log for complete error details.\r\n{noformat}\r\n\r\n*NOTES:*\r\n* As can be seen, this turns out to be a bug or limitation in Elasticsearch, not in Bitbucket Server. Bitbucket Server itself is upgraded without any problems.\r\n* The message suggests the index needs to be rebuilt by an Elasticsearch version 6.x before they can be upgraded to 7.5.2.\r\n* Performing an intermediary upgrade of Bitbucket from 5.16.11 to 6.10 (which bundles Elasticsearch 6.8.6) does not help because Elasticsearch 6.8.6 *will not* upgrade the index from 5.5.3. As the message suggests, the index needs to be rebuilt in Elasticsearch 6.x.\r\n* This issue does not affect customers whose first version of Bitbucket ever installed bundled Elasticsearch 6.x or later.\r\n\r\nh3. Steps to Reproduce\r\n# In a Windows machine, install Bitbucket Server version is 5.16.11, which bundles Elasticsearch 5.5.3, both of them starting up as Windows Service.\r\n# Add a repository and let Elasticsearch finish indexing it.\r\n# Shutdown Bitbucket Server and Elasticsearch services.\r\n# Upgrade that Bitbucket instance to 7.1.1, which bundles Elasticsearch 7.5.2\r\n# The upgrade scripts will update both Windows services as expected.\r\n# Notice that only the Bitbucket service will start automatically. Elasticsearch service will be stopped, won't start at all.\r\n# Take a look at the Elasticsearch logs and see that error message mentioned above.\r\n\r\nh3. Expected Results\r\n* When upgrading from a Bitbucket Server version whose bundled Elasticsearch version is lower than 6.x, the Bitbucket installer should nuke the Elasticsearch caches before finishing the installation, so that in the last installer step when the services are started, both services do get started.\r\n* We should make it clear in our upgrade guide that Elasticsearch caches may need to be nuked, and that rebuilding the index may take several hours, possibly resulting in some overhead on the server and search functionality showing incomplete results in the meantime.\r\n\r\nh3. Actual Results\r\n# The bundled Elasticsearch 7.5.2 fails to start when after being upgraded from 5.5.3.\r\n# Elasticsearch logs report the issue mentioned above.\r\n\r\nh3. Workaround\r\nManually delete the index by performing the following steps:\r\n# Stop Bitbucket Server and Elasticsearch services\r\n# Delete the contents of {{[<bitbucket-home>|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-home-directory-776640890.html]/shared/search/data/nodes}} directory\r\n# Start Bitbucket Server and Elasticsearch services\r\n# Wait until the index is completely rebuilt for obtaining complete search results.",
      "summary": "Bundled Elasticsearch indexes may need to be nuked and rebuild when upgrading Bitbucket Server to 7.1.x or newer, otherwise Elasticsearch will fail to start"
    }
  },
  {
    "key": "BSERV-12319",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-28T07:31:59.000+0000",
      "created": "2020-04-23T16:23:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen the Bitbucket GitGarbageTruck thread attempts to prune stale git objects on Windows Bitbucket instances, the attempt to delete the file fails because git places a read only lock on all git objects - preventing the Java process from being able to delete the file.\r\n\r\nh3. Steps to Reproduce\r\n # Create a new project/repository\r\n # Push changes such that a temporary pack file is eventually created that needs to be pruned\r\n # Wait the required amount of time for the pack to be considered stale\r\n\r\n(i) Issue can also be reproduced by creating a file with the name {{tmp_pack_TEST}} in the {{...\\objects\\pack}} directory, and manually set the read only lock and last modified date to well past the garbage collection threshold by executing the following Powershell commands within a repository's pack directory:\r\n\r\n{code:bash}\r\necho \"test\" > tmp_pack_TEST\r\n$(Get-Item tmp_pack_TEST).lastwritetime=$(Get-Date \"01/01/1999 12:00 am\")\r\nGet-ItemProperty -Path tmp_pack_TEST | Select-Object IsReadOnly\r\nSet-ItemProperty -Path tmp_pack_TEST -Name IsReadOnly -Value $true\r\nGet-ItemProperty -Path tmp_pack_TEST | Select-Object IsReadOnly\r\n{code}\r\n\r\nh3. Expected Results\r\n\r\nThe stale tmp pack file, along with the temporary pack directory, are successfully deleted\r\n\r\nh3. Actual Results\r\n\r\nJava is unable to delete the git object file, as git puts a read only lock on git objects so that only git processes are capable of manipulating these files. The following exception is then thrown in the logs at time of garbage collection, and the file is not removed:\r\n{noformat}\r\n2020-03-11 15:12:50,860 WARN  [git:gc:thread-3]  c.a.s.i.scm.git.gc.GitGarbageTruck <Repository Name>: Stale entries in the objects/ directory could not be pruned\r\njava.nio.file.AccessDeniedException: C:\\atlassian\\ApplicationData\\Stash\\shared\\data\\repositories\\272\\objects\\incoming-a26820\\pack\\tmp_pack_yk5Km9\r\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\r\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274)\r\n    at java.base/sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:105)\r\n    at java.base/java.nio.file.Files.delete(Files.java:1141)\r\n    at com.atlassian.stash.internal.scm.git.gc.GcStaleFileVisitor.prune(GcStaleFileVisitor.java:188)\r\n    at com.atlassian.stash.internal.scm.git.gc.GcStaleFileVisitor.visitFile(GcStaleFileVisitor.java:167)\r\n    at com.atlassian.stash.internal.scm.git.gc.GcStaleFileVisitor.visitFile(GcStaleFileVisitor.java:35)\r\n    at java.base/java.nio.file.Files.walkFileTree(Files.java:2724)\r\n    at java.base/java.nio.file.Files.walkFileTree(Files.java:2796)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck$GcOperation.pruneStaleObjects(GitGarbageTruck.java:562)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck$GcOperation.perform(GitGarbageTruck.java:408)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck$GcOperation.perform(GitGarbageTruck.java:365)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck.lambda$withLock$3(GitGarbageTruck.java:296)\r\n    at com.atlassian.stash.internal.scm.git.DefaultGitRepositoryLayout.withLock(DefaultGitRepositoryLayout.java:181)\r\n    at com.atlassian.stash.internal.scm.git.DefaultGitRepositoryLayout.editFile(DefaultGitRepositoryLayout.java:96)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck.withLock(GitGarbageTruck.java:281)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck.withLock(GitGarbageTruck.java:285)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck.collectGarbage(GitGarbageTruck.java:197)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck$GcBootstrapper.runGc(GitGarbageTruck.java:345)\r\n    at com.atlassian.stash.internal.scm.git.gc.GitGarbageTruck$GcBootstrapper.run(GitGarbageTruck.java:329)\r\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.lang.Thread.run(Thread.java:834)\r\n    ... 1 frame trimmed\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nGo and manually delete the file on the file-system, or manually remove the read-only file lock - which then allows Java to successfully delete the file/directory. Some example Powershell to remove the read only lock from any tmp pack files can be set up as a scheduled task to automatically remove these locks:\r\n\r\n{code:bash}\r\n$Path = \"C:\\atlassian\\ApplicationData\\Stash\\shared\\data\\repositories\" \r\n$Files = Get-ChildItem $Path -Recurse | Where-Object { $_.FullName -match 'tmp_pack*' }\r\nForEach ($File in $Files) \r\n{\r\n   Write-Host \"File: \" $File \"IsReadOnly: \" $File.IsReadOnly \r\n   if ($File.Attributes -ne \"Directory\" -and $File.Attributes -ne\"Directory, Archive\")\r\n   {\r\n      if ($File.IsReadOnly -eq $true )\r\n      {\r\n          try  \r\n          {\r\n               Set-ItemProperty -path $File.FullName -name IsReadOnly -value $false \r\n               write-host \"file:\" $File.FullName \"is now false read only\"  -foregroundcolor \"magenta\"\r\n          }\r\n          catch [Exception] \r\n          { \r\n               Write-Host \"Error at file \" $Path \"\\\" $File \r\n               Write-Host $_.Exception.Message\r\n          }\r\n      }\r\n    } \r\n}\r\n{code}",
      "summary": "Pruning stale git objects fails on Windows operating systems"
    }
  },
  {
    "key": "BSERV-12318",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-27T08:11:50.000+0000",
      "created": "2020-04-23T15:07:37.000+0000",
      "description": "Create a separate role that allows the user to view the admin settings, but not change them.\r\n\r\nThis would be useful for any situation in which users need to view admin-level settings for monitoring, and would remove the security concern of using a global admin account for this purpose.",
      "summary": "Create a read-only admin role for reading repository permissions (API)"
    }
  },
  {
    "key": "BSERV-12317",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-23T11:24:17.000+0000",
      "description": "Hi team,\r\n\r\nsince we now have multiple IM options, we have now switch to Slack as main notification provider and we'd like to disable repository related email notifications, either individually in each personal account notification settings or via a global setting.\r\n\r\nThanks for your consideration.\r\n\r\nKind regards,",
      "summary": "Provide ability to disable email notifications in my personal account notification settings"
    }
  },
  {
    "key": "BSERV-12316",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-23T10:08:43.000+0000",
      "description": "Database schemas are a central component of a database architecture. They not only organize the objects within the database, they also serve as access control. [Stackoverflow|https://stackoverflow.com/questions/2674222/what-is-purpose-of-database-schema]\r\n\r\nThe standard schemata, such as the \"dbo\" schema in Microsoft SQL Server, should not be used primarily for security reasons, since an attacker knows exactly the rights and possibilities of a non-secured standard schema and this is therefore a possible weakness. Even if a separate database is used for Bitbucket to which no other application has access, this risk remains. In fact, Bitbucket can even pose a threat to other applications that use the same database instance (keyword permission / ownership chaining).\r\n\r\n\u00a0\r\n\r\nThis can be avoided by always creating a separate schema for an application in a database, as is done for example with Jira.\r\n\r\n\u00a0\r\n\r\nNote:\r\nJDBC connections unfortunately do not have an argument that allows you to change the schema used.",
      "summary": "Support changing used Database Schema"
    }
  },
  {
    "key": "BSERV-12315",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-05T06:17:09.000+0000",
      "created": "2020-04-22T17:40:45.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen we upgrade Bitbucket from 6.x to 7.x version without any comments on files or pull requests the upgrade will fail.\r\n\r\nThe Liquibase migration is:\r\n{code:java}\r\nupdate id_sequence set next_val = (\r\n            select max(id) + 100 from bb_comment\r\n            ) where sequence_name = 'bb_comment'\r\n{code}\r\nIf there are no records on {{bb_comment}} table, the select max will return no results, so the update will fail with the following error:\r\n{code:java}\r\nliquibase/r7_0/upgrade.xml::BBSDEV-19009-1::fdoherty:\r\n     Reason: liquibase.exception.DatabaseException: ORA-01407: cannot update (\"THE_OWNER\".\"ID_SEQUENCE\".\"NEXT_VAL\") to NULL\r\n [Failed SQL: update id_sequence set next_val = (\r\n            select max(id) + 100 from bb_comment\r\n            ) where sequence_name = 'bb_comment']\r\n{code}\r\nh3. Steps to Reproduce\r\n # Create a Bitbucket 6.x instance from scratch;\r\n # Create a project and a repository;\r\n # Add some files, then commit and push that changes;\r\n # Try to upgrade to any 7.x version;\r\n\r\nh3. Expected Results\r\n\r\nUpgrade completed with success\r\nh3. Actual Results\r\n\r\nThe upgrade process fails while trying to execute the changeset {{liquibase/r7_0/upgrade.xml::BBSDEV-19009-1}}:\r\n{noformat}\r\n ERROR [spring-startup]  c.a.j.s.w.s.JohnsonDispatcherServlet SpringMVC dispatcher [springMvc] could not be started\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'crowdAliasDao': Unsatisfied dependency expressed through method 'setSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [stash-context.xml]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/r7_0/upgrade.xml::BBSDEV-19009-1::fdoherty:\r\n     Reason: liquibase.exception.DatabaseException: ORA-01407: cannot update (\"THE_OWNER\".\"ID_SEQUENCE\".\"NEXT_VAL\") to NULL\r\n [Failed SQL: update id_sequence set next_val = (\r\n            select max(id) + 100 from bb_comment\r\n            ) where sequence_name = 'bb_comment']\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:723)\r\n\tat \r\n{noformat}\r\nh3. Workaround\r\n\r\nBefore the upgrade process, we can add a dummy comment on any commit. So the upgrade will be done with no errors.",
      "summary": "Upgrading Bitbucket from 6.x to 7.x without any record on bb_comment fails"
    }
  },
  {
    "key": "BSERV-12314",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-22T09:53:11.000+0000",
      "description": "*Problem*: Reviewers added to a PR are shown with their avatar. This list is limited by the system and a (+) is shown if this limit is exceeded:\r\n !screenshot-1.png|thumbnail! \r\n\u00a0\r\n*Suggestion*: Add per user configuration the number of avatars shown in the UI.\r\n !screenshot-2.png|thumbnail! \r\n !screenshot-3.png|thumbnail! ",
      "summary": "Configure number of reviewers visible in UI"
    }
  },
  {
    "key": "BSERV-12313",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-20T21:54:31.000+0000",
      "description": "It's fairly common practice to send out a PR for a branch (A) that uses another PR-ed branch (B) as its base branch, especially while the base branch PR is going through QA before merging.\r\n\r\nOnce B has merged to master and we nominate A, A is merged correctly onto master. However, the Bitbucket PR is not auto-closed; we have to do it ourselves.\r\n\r\nIt'd be great if these PRs could auto-close as merged to master when they branch off a commit that's now on master (but wasn't when the PR was created).",
      "summary": "Auto-close PR on merge if they're based on a merged branch"
    }
  },
  {
    "key": "BSERV-12312",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-27T06:41:36.000+0000",
      "created": "2020-04-20T09:06:44.000+0000",
      "description": "h3. Problem Definition\r\n\r\nRead permission allows users to clone, browse, and fork any repository. Additionally, they are able to browse all repository contents such as source codes, commits, pull requests, etc. As an admin, I would like to have more granularity with the *READ* permission, especially in browse options. For example, my requirement is:\r\n\r\n\"Allow any user with *READ* permission to be able to see via the *Jira* ticket which branches the code has been merged to but they shouldn't be allowed to view the source code\"\r\n\r\nThe reason why we need this functionality is\u00a0due to in the past we have allowed this and it end's up with Testers and some others trying to suggest code fixes as opposed to testing or just reporting back on progress. This was available with Subversion and Fisheye. We are in the process of moving from Subversion to Bitbucket/Git and this is seen as a loss of functionality.\r\nh3. Suggested Solution\r\n # Add options on which actions a user with READ permission can do from Project/Repository. For example, clone, browse, or fork.\r\n # For browse, add options on which information the user can view. For example, source codes, commits, pull requests, branches, etc.",
      "summary": "As an admin, I would like to restrict READ permission for Project or Repository for selected information only"
    }
  },
  {
    "key": "BSERV-12311",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-22T03:29:28.000+0000",
      "created": "2020-04-17T21:45:52.000+0000",
      "description": "h3. Issue Summary\r\nWhen the \"Clone in Xcode\" integration is not enabled, Bitbucket will try to enable it when it receives REST API requests with an \"Xcode\" user agent. This succeeds when using basic authentication, but fails when using an access token.\r\n\r\nh3. Steps to Reproduce\r\n# Be sure \"Clone in Xcode\" is disabled at {{<base-url>/account}}.\r\n# Make a request to the REST API using an access token (not basic auth), with an Xcode user agent: {{curl -X GET -H \"User-Agent: Xcode/\"}}.\r\n\r\nh3. Expected Results\r\nBitbucket should allow Xcode as a user agent and the request should succeed.\r\n\r\nh3. Actual Results\r\nThe user receives a 500 error, and the below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-04-15 12:01:45,404 ERROR [https-jsse-nio-8444-exec-20] *CTFXYJx721x9826216x11 s0w3ye 1.1.1.1 \"GET /mvc/error500 HTTP/1.1\" c.a.s.i.web.ErrorPageController There was an unhandled exception loading [/rest/api/1.0/application-properties]\r\n{noformat}\r\n\r\nh3. Workaround\r\nNavigate to {{<base-url>/account}} and enable \"Clone in Xcode\". This will prevent Bitbucket from attempting to enable it during the API request and triggering this error.",
      "summary": "Requests using access tokens with user agent Xcode fail when \"Clone in Xcode\" is disabled"
    }
  },
  {
    "key": "BSERV-12310",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-17T15:13:51.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen performing a search for a term with the file extension modifier, the search result will only find files with lowercase extensions. \r\n\r\nh3. Steps to Reproduce\r\n\r\n# Commit a file with uppercase extension to a repository (i.e test2.JAVA)\r\n# Search for test2 ext:java\r\n\r\nh3. Expected Results\r\nSearch results should returns all the results case insensitive\r\n\r\nh3. Actual Results\r\nSearch results only returns files with lowercase extensions only\r\n\r\nh3. Workaround\r\n\r\n# Use only the term for searching (i.e. test2);\r\n# Avoid using uppercase extensions on files;\r\n# Change the extension to lowercase and commit the file;",
      "summary": "Search for file extension modifier does not return results for files with uppercase extensions"
    }
  },
  {
    "key": "BSERV-12309",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-19T01:29:44.000+0000",
      "created": "2020-04-16T19:00:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nBitbucket truncates the diff view of a pull request such that all changes may not be visible.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a branch\r\n# Create a file with 10001 lines\r\n# Change line 1 and line 10001\r\n# Create a pull request\r\n\r\nh3. Expected Results\r\n\r\nBoth changes are seen in the diff view\r\n\r\nh3. Actual Results\r\n\r\nOnly the change in line one is visible along with an option to \"show 99xx more lines\" with the second change unable to be brought up. The default value of page.max.diff.lines is 10000.\r\n\r\nh3. Workaround\r\n*NOTE* This setting can cause performance overhead. It is recommended to test this setting in a controlled environment first.\r\n\r\n# Add page.max.diff.lines=<number of lines in your largest file you expect to work with> to the bitbucket.properties file\r\n# Restart Bitbucket\r\n\r\n",
      "summary": "Pull request diff may not show all changes on large files"
    }
  },
  {
    "key": "BSERV-12308",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-16T17:33:49.000+0000",
      "description": "We currently have some repositories that have branches that are being used by users and automation pipelines and for some pipelines we would like to be able to override the default merge strategy similar to what you can do in a local git merge command (i.e. git merge --squash ...). If there is a current way to do this outside of using the REST API to delete and change the current merge strategy then this can be closed if I can verify an option currently exists.\r\n\r\nThanks!",
      "summary": "Allow a Merge to Supply an Overriding Merge Strategy to be used by Pipelines"
    }
  },
  {
    "key": "BSERV-12307",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-16T07:37:04.000+0000",
      "description": "h4. Summary (Customer's use case)\r\nWhen a node in a Data Center experiences some errors such as disconnecting to the database, _Hazlecast_ should be able to automatically remove it from the cluster, thus stopping the _load balancer_ from forwarding traffic to the node.\r\nh4. Current outcome\r\nA node remains in the cluster when it looses connection to the database. This results in the _load balancer_ forwarding traffic to the node which results in errors for clients accessing resources from that node\r\nh4. Expected result\r\nWhenever a node within a Data Center cluster  encounters errors such as not connecting to the database, it should be disconnected from the cluster.",
      "summary": "Remove node from cluster if error occurs"
    }
  },
  {
    "key": "BSERV-12306",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-13T18:16:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a commit for a fork is received, the commit message is indexed but a remote event to update Jira's dev panel is not triggered in Bitbucket. (Edit: The Fork is in a standard project, not personal. Personal Forks do not trigger these events under normal circumstances)\r\nh3. Steps to Reproduce\r\n # Create a fork with fork syncing enabled or disabled\r\n # Push a unique commit to just the fork with a Jira issue key\r\n # Check the Jira issue and see no commits in the dev panel\r\n\r\nh3. Expected Results\r\n\r\nJira dev panel should be updated with the new commit hash from the forked repository\r\nh3. Actual Results\r\n\r\nJira dev panel shows no commits\r\nh3. Workaround\r\n # Pushing a commit to the upstream repo with the same Jira issue key will trigger a new remote event that will also contain the commit data for the fork, updating the dev panel with commit information for both commits.\r\n # Create a Pull-Request from the fork to the upstream. This will trigger the remote event and update the dev panel",
      "summary": "Forked repo commits aren't triggering remote events in Jira (to update the dev panel)"
    }
  },
  {
    "key": "BSERV-12305",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-10T21:06:58.000+0000",
      "description": "Allow Jira admins to setup accounts with the ability look and review Jira admin sections in Read-Only mode.\r\n\r\n\u00a0\r\n\r\nGiven the need to SRE, Engineering functions to review Jira data allowing a Read-Only Admin profile will help teams in a big way,",
      "summary": "Ability to setup Accounts with Read-Only Privileges for Admin Sections "
    }
  },
  {
    "key": "BSERV-12304",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-10T12:04:52.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUpgrading glibc to >= 2.28 *allows* unique constraint violation in Postgres, as the sorting order changes for most of the collations. This may lead to database inconsistency.\r\n\r\nThe Glibc library version 2.28\u00a0has been released on a majority of Linux\u00a0systems:\r\n * Redhat 8 (released May 7th, 2019)\r\n\r\n * Debian 10 (July 6th, 2019)\r\n\r\n * Fedora 29 (October 30, 2018)\r\n\r\n * and others\r\nand is updated *alongside* with system upgrade.\r\n\r\nOnly running the full reindex ahead of starting the application solves the issue.\r\nh3. Steps to Reproduce\r\n# Deploy Bitbucket  database in an OS with glibc < 2.28 (for example Debian Stretch)\r\n# Create repositories with \"-\", \"_\", \".\" in repositories names in the same project.\r\n# Upgrade the database OS (in case of Debian - to Buster). The glibc will be updated to 2.28.\r\n# Try to create repositories in the same project with the same name.\r\n\r\nh3. Expected Results\r\nNew repositories can't be created.\r\nh3. Actual Results\r\nRepositories will be created in the same project, which will lead to duplicates and unique constraint violations in the database.\r\n \r\nh3. Workaround\r\n\r\nReindex whole database after OS upgrade.\r\n\r\nh3. Feature suggestion\r\nAllow Bitbucket to verify the integrity of indexes during the Bitbucket startup process.",
      "summary": "Verify database indexes integrity during the Bitbucket startup process"
    }
  },
  {
    "key": "BSERV-12303",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-10T09:08:08.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSlack notification (using Atlassian Slack plugin for Bitbucket) on task creation out of a PR comment is attributed to the wrong user and misleading.\r\n The notification is named:\r\n - <comment_author> edited a comment on a pull request <PR details>.\r\n But it should be:\r\n - <task_creator> converted a comment into a task in a pull request <PR Details>\r\n\r\nh3. Steps to Reproduce\r\n # Create a new Pull Request.\r\n # Add a comment as user '1'.\r\n Notification is sent to Slack Channel:\r\n !image-2020-04-10-11-02-19-415.png|thumbnail!\r\n # Log in as user '2' and convert a comment into a task:\r\n !image-2020-04-10-11-01-31-557.png|thumbnail!\r\n\r\nh3. Expected Results\r\n\r\nA message attributing the task creator should be sent:\r\n - <task_creator> converted a comment into a task in a pull request <PR Details>\r\n\r\nh3. Actual Results\r\n # A misleading notification is being sent to Slack:\r\n !image-2020-04-10-11-05-55-171.png|thumbnail!\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Slack notification on task creation out of a PR comment is attributed to the wrong user and misleading"
    }
  },
  {
    "key": "BSERV-12302",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-27T04:30:08.000+0000",
      "created": "2020-04-10T08:32:18.000+0000",
      "description": "I would like to use webpage hosting, but its not on Bitbucket server.\r\n\r\nLooks like only supports for Bitbucket cloud. (I cant see this document on server side.)\r\n\r\n[https://confluence.atlassian.com/bitbucket/publishing-a-website-on-bitbucket-cloud-221449776.html]\r\n\r\n\u00a0\r\n\r\nAnd also Is this possible to host by repository like github pages?\r\n\r\n\u00a0\r\n\r\nDo you guys have any plan for this?\r\n\r\n\u00a0",
      "summary": "webpage hosting feature"
    }
  },
  {
    "key": "BSERV-12301",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-22T03:29:12.000+0000",
      "created": "2020-04-10T03:00:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen admins install unexpected hooks on Bitbucket Server instances, running those hooks can cause failures trying to merge pull requests.\r\n\r\nh3. Steps to Reproduce\r\n # Install a hook script, like {{commit-msg}} or {{pre-commit}} (The exact steps are not provided because it's not a supported behavior to do this.)\r\n# Try to merge a pull request\r\n\r\nh3. Expected Results\r\n\r\nThe unexpected hook(s) are not invoked and the pull request merges successfully.\r\n\r\nh3. Actual Results\r\n\r\nThe unexpected hook(s) are run and the merge fails if any a hook blocks it.\r\n\r\nOne example of an exception caused by an unexpected hook blocking a pull request merge:\r\n{noformat}\r\nCaused by: com.atlassian.bitbucket.scm.CommandFailedException: '/usr/bin/git merge -m Merge pull request #111 in KEY/slug from feature/some-really-cool-feature to master --no-ff --log=20 --allow-unrelated-histories 86c2bfa97dadd1896c8365176a785a2748fa7308' exited with code 1 saying: Invalid git commit message.\r\n['Line 4 is longer than 72 chars', 'Line 7 is longer than 72 chars', 'Line 9 is longer than 72 chars']\r\nNot committing merge; use 'git commit' to complete the merge.\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nUninstall the unexpected hooks. Script hooks on actions like {{commit-msg}}, {{pre-commit}} and similar are not supported.",
      "summary": "Unexpected Git hooks can break pull request merges"
    }
  },
  {
    "key": "BSERV-12300",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-09T15:00:03.000+0000",
      "description": "Please add ABAP syntax highlighting support to Bitbucket Server.",
      "summary": "ABAP Support"
    }
  },
  {
    "key": "BSERV-12299",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-11T02:26:37.000+0000",
      "created": "2020-04-09T12:49:01.000+0000",
      "description": "I would like to see the Bitbucket equivalent of:\r\n{code:java}\r\n git diff <Branch 1> <Branch2> main/java/com/openet/java/MyFile.java{code}\r\nYou can compare a Branch, Tag or Commit in the web interface, but there is no option to compare a single file across different branches.",
      "summary": "Allow individual files on different branches to be compared in the Bitbucket gui"
    }
  },
  {
    "key": "BSERV-12298",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-22T03:29:01.000+0000",
      "created": "2020-04-09T07:05:41.000+0000",
      "description": "h3. Issue Summary\r\nElasticsearch was upgraded to version 7.5.2 in Bitbucket 7.1. Elasticsearch has introduced a new maximum scroll context number by default. Bitbucket may exceed that maximum due to a bug where scroll contexts are not closed correctly. \r\n\r\nh3. Steps to Reproduce\r\n# Run Bitbucket 7.1.0 with the bundled Elasticsearch 7.5.2 with >500 repositories containing at least 50 files \r\n# Clear the Elasticsearch index and let Bitbucket reindex (do not use the REST endpoint to synchronize indexes) \r\n# Restart Bitbucket\r\n\r\nh3. Expected Results\r\n* Bitbucket comes up and all repositories are indexed \r\n\r\nh3. Actual Results\r\n* Bitbucket fails to index repositories \r\n\r\n\r\nThe below exception is thrown in the {{atlassian-bitbucket.log}} file: \r\n{noformat}\r\n2020-04-09 17:01:36,208 ERROR [search-indexing:thread-1]  c.a.b.i.s.i.e.DefaultIndexEventWorker Indexing - Failed for repository TEST/my-repo-424 (id: 425) with error: The request to Elasticsearch failed with HTTP status code: 500\r\ncom.atlassian.bitbucket.internal.search.indexing.exceptions.IndexException: The request to Elasticsearch failed with HTTP status code: 500\r\n        at com.atlassian.bitbucket.internal.search.indexing.util.ElderScroll$ScrollProducer.lambda$null$2(ElderScroll.java:135)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:69)\r\n        at rx.internal.producers.SingleProducer.request(SingleProducer.java:65)\r\n       ... lots of RXJava calls ...\r\n        at rx.Observable.subscribe(Observable.java:10390)\r\n        at rx.Observable.subscribe(Observable.java:10271)\r\n        at com.atlassian.bitbucket.internal.search.indexing.util.Observables.consume(Observables.java:34)\r\n        at com.atlassian.bitbucket.internal.search.indexing.util.ElderScroll$ScrollProducer.fetchMore(ElderScroll.java:159)\r\n        at com.atlassian.bitbucket.internal.search.indexing.util.ElderScroll$ScrollProducer.call(ElderScroll.java:84)\r\n        at com.atlassian.bitbucket.internal.search.indexing.util.ElderScroll.lambda$search$0(ElderScroll.java:56)\r\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n        ... lots of RXJava calls ...\r\n        at rx.Observable.subscribe(Observable.java:10423)\r\n        at rx.Observable.subscribe(Observable.java:10390)\r\n        at rx.Observable.subscribe(Observable.java:10230)\r\n        at com.atlassian.bitbucket.internal.search.indexing.event.DefaultIndexEventQueueProcessor.processEvent(DefaultIndexEventQueueProcessor.java:204)\r\n        at com.atlassian.bitbucket.internal.search.indexing.event.DefaultIndexEventQueueProcessor.processEvents(DefaultIndexEventQueueProcessor.java:229)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        ... 1 frame trimmed\r\nCaused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: com.atlassian.elasticsearch.client.search.SearchResponse.class\r\n        at rx.exceptions.OnErrorThrowable.addValueAsLastCause(OnErrorThrowable.java:118)\r\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:73)\r\n        ... 270 common frames omitted\r\n{noformat} \r\n\r\nThe below exception is thrown in the {{search/bitbucket_search.log}} file:\r\n {noformat}\r\n[2020-04-09T17:01:36,176][WARN ][r.suppressed             ] [bitbucket_bundled]path: /bitbucket-search/_search, params: {scroll=300s, index=bitbucket-search}\r\norg.elasticsearch.action.search.SearchPhaseExecutionException: all shards failed\r\n        at org.elasticsearch.action.search.AbstractSearchAsyncAction.onPhaseFailure(AbstractSearchAsyncAction.java:534) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.AbstractSearchAsyncAction.executeNextPhase(AbstractSearchAsyncAction.java:305) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.AbstractSearchAsyncAction.onPhaseDone(AbstractSearchAsyncAction.java:563) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.AbstractSearchAsyncAction.onShardFailure(AbstractSearchAsyncAction.java:384) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.AbstractSearchAsyncAction.access$200(AbstractSearchAsyncAction.java:65) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:241) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.SearchExecutionStatsCollector.onFailure(SearchExecutionStatsCollector.java:73) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:59) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.search.SearchTransportService$ConnectionCountingHandler.handleException(SearchTransportService.java:423) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1120) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:1229) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:1203) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.transport.TaskTransportChannel.sendResponse(TaskTransportChannel.java:60) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.support.ChannelActionListener.onFailure(ChannelActionListener.java:56) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:71) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:65) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionRunnable.lambda$supply$0(ActionRunnable.java:58) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionRunnable$2.doRun(ActionRunnable.java:73) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.common.util.concurrent.TimedRunnable.doRun(TimedRunnable.java:44) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:773) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.5.2.jar:7.5.2]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\nCaused by: org.elasticsearch.ElasticsearchException: Trying to create too many scroll contexts. Must be less than or equal to: [1024]. This limit can be set by changing the [search.max_open_scroll_context] setting.\r\n        at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:542) ~[elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:348) ~[elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.search.SearchService.lambda$executeQueryPhase$1(SearchService.java:340) ~[elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionListener.lambda$map$2(ActionListener.java:146) ~[elasticsearch-7.5.2.jar:7.5.2]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.5.2.jar:7.5.2]\r\n        ... 9 more\r\n {noformat} \r\n\r\nh3. Workaround\r\n\r\nIncrease the setting {{search.max_open_scroll_context}} in Elasticsearch to a value that is significantly higher. Elasticsearch versions prior to 7.0 had no limit set. We recommend a value that is greater than 10,000. You can use this code snippet to set the value, or use any other method to make a REST call to Elasticsearch. \r\n\r\n{code} curl -u bitbucket:(password from $BITBUCKET_HOME/shared/search/buckler/buckler.yml) -X PUT http://localhost:7992/_cluster/settings -H 'Content-Type: application/json' -d '{ \"persistent\" : { \"search.max_open_scroll_context\": 10000 }, \"transient\": { \"search.max_open_scroll_context\": 10000 } }' \r\n{code}",
      "summary": "Running Elasticsearch 7.5.2 with Bitbucket 7.1+ can result in too many scroll contexts created."
    }
  },
  {
    "key": "BSERV-12297",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-08T16:20:12.000+0000",
      "description": "The Slack integration for Pull requests seems to silently drop comments that are over a certain length; it'd be nice if all comments were always posted to Slack. (In another integration we've seen, long comments are posted collapsed, with an \"expand\" button to show the full text.)",
      "summary": "Allow long comments on PRs to be posted to Slack"
    }
  },
  {
    "key": "BSERV-12296",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-08T15:53:17.000+0000",
      "description": "Currently, when an in-browser edit is made to a file in a repository, repository watchers do not receive notifications because the necessary post-receive hook is not triggered as this is a direct commit against the branch and not necessarily a \"push\".\r\n\r\nAlthough it is outlined in the repository watcher details that only pushes trigger these notifications, it would be good to enhance the repository watch functionality to include this particular use case of the in-browser editing feature. ",
      "summary": "Send notifications to repository watchers when an in-browser edit is made"
    }
  },
  {
    "key": "BSERV-12294",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-08T07:31:44.000+0000",
      "description": "The new repo label feature introduced in 5.13 is awesome.\r\n\r\nClicking a label giving you all repositories with the label\u00a0(y)\r\n\r\nTo make it even greater it should be possible to use the search box in the UI for finding repositories with a specific label, something like:\r\n\r\n_*label: <my-label>*_\r\n\r\n\u00a0",
      "summary": "Search for repositories by label"
    }
  },
  {
    "key": "BSERV-12293",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-08T05:37:11.000+0000",
      "created": "2020-04-08T05:35:45.000+0000",
      "description": "Bitbucket Server 7.0 includes changes to replacing blocking I/O for {{git}} processes with non-blocking I/O. However, NIO changes related to Git hosting via HTTP were only partially completed, and Git hosting via SSH was not updated at all.\r\n\r\nTo ensure consistent behavior, and to try and avoid any odd bugs related to the partially-completed NIO changes, the HTTP hosting changes should be reverted.",
      "summary": "Revert partial NIO handling for Git hosting via HTTP"
    }
  },
  {
    "key": "BSERV-12291",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-19T01:18:04.000+0000",
      "created": "2020-04-06T22:41:50.000+0000",
      "description": "As of Bitbucket Server 7.0, the updated pull request diffs use a defined font stack, as well as some updated colors. This means that users that previously had a font defined that improved their ability to read code now have to resort to CSS hacks to improve the legibility of code views on the pull request.\r\n\r\nBitbucket Server could add an option to make the diff views more accessible by one or more of the following options:\r\n * Allowing to switch back to the {{monospace}} font family so users can control the font used\r\n * increasing the font size and line-height\r\n * improving the contrast of the color scheme used for diff views.",
      "summary": "Pull request diff contrast improvements"
    }
  },
  {
    "key": "BSERV-12290",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-06T19:44:10.000+0000",
      "description": "Bitbucket's native Commit Graph currently does not have an all branches commit graph option. We'd like for it to have it to\u00a0be able to support all branches functionality in a single view. This will help project managers, leads keep track of all the activity for all branches within a repo from UI",
      "summary": "Please add a feature to Bitbucket's commit graph to be able to support all branches functionality in a single view."
    }
  },
  {
    "key": "BSERV-12289",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-04T19:27:46.000+0000",
      "description": "The tag [TOC] to generate a table of contents when viewing a markdown file is quite popular and supported by markdown editors like Typora. Bitbucket Server should support that tag too.",
      "summary": "Support for table of contents tag [TOC] in markdown files"
    }
  },
  {
    "key": "BSERV-12288",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-14T05:08:42.000+0000",
      "created": "2020-04-03T20:58:50.000+0000",
      "description": "h3. Issue Summary\r\n\r\n1) From a pull request I tried to click an issue link in the branch name\r\n 2) I get `Authenticate to see this issue` even though if I open a new tab I can go to view it in Jira\u00a0without needing to log in\r\nh3. Steps to Reproduce\r\n # see summary\r\n\r\nh3. Expected Results\r\n\r\nEither a error msg saying cannot go cross site, or the issue shows up\r\nh3. Actual Results\r\n\r\ntold to log in, but not sure how to proceed\r\nh3. Workaround\r\n\r\nI didn't know this Project was not on the expected Jira instance, and still didn't know after trying to click on it. Maybe the error msg should say no such project key?\r\n workaround requires knowledge of what the site of the ticket is",
      "summary": "Clicking Jira Link to Different Site from Stash Fails with Unclear Error"
    }
  },
  {
    "key": "BSERV-12287",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-03T07:10:57.000+0000",
      "description": "We want to allow an specified group of project-members to be able to create repositories by them self. *But they should not be able to change the projectkey* as the projectkey should be always equal in our toolchain on a project (jira, confl, bitbucket, bamboo... even more tools).\r\n\r\nThe current permissonmanagement doesn't allow this.",
      "summary": "Prevent project-administrators to change the projectkey"
    }
  },
  {
    "key": "BSERV-12286",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-02T23:17:02.000+0000",
      "created": "2020-04-02T19:30:02.000+0000",
      "description": "h3. Problem Definition\r\n\r\nMicrosoft has released SQL 2019\u00a0[https://www.microsoft.com/en-us/sql-server/sql-server-2019|https://www.microsoft.com/en-us/sql-server/sql-server-2019]\r\nh3. Suggested Solution\r\n\r\nTo officially support Microsoft SQL Server 2019 as one of the Bitbucket supported databases.\r\nh3. Why this is important\r\n\r\nBitbucket\u00a0should be supported against Generally Available releases of Databases that have been supported on previous versions.",
      "summary": "Support Microsoft SQL Server 2019"
    }
  },
  {
    "key": "BSERV-12285",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-09T02:16:16.000+0000",
      "created": "2020-04-02T19:01:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen fetching (_not cloning_; fetches only, where the local repository already has some refs) or pushing via HTTP(S), the {{git http-backend}} process on the server can exhibit odd behaviors. Some observed behaviors include:\r\n* Hanging at high CPU usage\r\n* Unexpected termination\r\n\r\n_This only affects instances which are using an SSL connector in Tomcat._ Additionally, it only impacts Bitbucket Server 7.1.0, specifically. Bitbucket Server 7.0.x releases, and Bitbucket Server 7.1.1 and newer will not be affected.\r\n\r\nh3. Steps to Reproduce\r\n\r\nThere are no specific steps to _reliably_ reproduce this behavior, at least so far. Whether or not it happens depends on several environmental factors. The _triggers_ are either {{git fetch}} or {{git push}} using an HTTP(S) remote, but simply doing those is _not_ guaranteed to cause an issue consistently.\r\n\r\nh3. Expected Results\r\n\r\nFetching and pushing via HTTP(S) should work stably.\r\n\r\nh3. Actual Results\r\n\r\nSporadic failures occur, with a range of symptoms, including:\r\n* \"Hung\" {{git http-backend}} processes, which sometimes spin at high CPU usage\r\n* Exceptions in the log file (see below)\r\n* Running out of \"scm-hosting\" tickets\r\n\r\nFor some environments the failures appear to be more consistent than for others, and many environments don't appear to have any issues at all.\r\n\r\nExceptions observed include the following:\r\n{noformat}\r\n2020-04-02 10:54:13,784 WARN  [https-jsse-nio-8443-exec-3] jdoe @117G4D4x585x253x0 1.1.1.1 \"POST /scm/KEY/slug.git/git-receive-pack HTTP/1.1\" c.a.s.i.s.g.p.http.CgiStdoutHandler [C:\\Program Files\\Git\\cmd\\git.exe http-backend] has completed (2147483647), but stdout was never closed\r\n\r\n2020-03-30 20:10:46,072 ERROR [https-jsse-nio-7990-exec-3] jdoe @1C78VOBx1206x3x0 1.1.1.1 \"POST /scm/KEY/slug.git/git-receive-pack HTTP/1.1\" c.a.s.i.s.g.p.h.GitSmartExitHandler KEY/slug[1]: Write request from 2.2.2.2 failed: com.atlassian.utils.process.ProcessException: Non-zero exit code: 1\r\n{noformat}\r\n\r\nHowever, this failure can happen with _no exceptions on the server at all_.\r\n\r\nClients may observe errors like the following:\r\n{noformat}\r\n$ git push https://bitbucket.example.com:8443/scm/KEY/slug.git\r\nEnumerating objects: 1894301, done.\r\nCounting objects: 100% (1894301/1894301), done.\r\nDelta compression using up to 16 threads\r\nCompressing objects: 100% (698045/698045), done.\r\nerror: RPC failed; curl 55 SSL_write() returned SYSCALL, errno = 32\r\nfatal: the remote end hung up unexpectedly\r\nWriting objects: 100% (1894301/1894301), 287.72 MiB | 65.37 MiB/s, done.\r\nTotal 1894301 (delta 878225), reused 1820448 (delta 810526)\r\nfatal: the remote end hung up unexpectedly\r\nEverything up-to-date\r\n\r\n$ git push https://bitbucket.example.com:8443/scm/KEY/slug.git\r\nEnumerating objects: 935, done.\r\nCounting objects: 100% (935/935), done.\r\nDelta compression using up to 4 threads\r\nCompressing objects: 100% (374/374), done.\r\nfatal: the remote end hung up unexpectedlyB | 34.08 MiB/s\r\nWriting objects: 100% (929/929), 672.39 MiB | 30.69 MiB/s, done.\r\nTotal 929 (delta 613), reused 858 (delta 555)\r\nfatal: the remote end hung up unexpectedly\r\nEverything up-to-date\r\n{noformat}\r\n\r\nThe error can vary from these; these are just some examples of the failures that have been observed on the client side.\r\n\r\nh3. Workaround\r\n\r\nFor organizations that require SSL on Tomcat, and require developers/CI/etc. to use HTTPS for Git hosting, _there are no workarounds for this issue._ The issue can be avoided by:\r\n* Switching to SSH, or\r\n* Introducing a load balancer or reverse proxy in front of Bitbucket Server to terminate SSL\r\n\r\n(Those workarounds may not be readily possible for all organizations.)\r\n\r\nh3. Warning\r\n\r\n_Do not attempt to downgrade from Bitbucket Server 7.1.0 to 7.0.x without restoring from a backup._ There are database schema changes in 7.1.0 that will break 7.0.x.",
      "summary": "Fetching and pushing via HTTP(S) can hang"
    }
  },
  {
    "key": "BSERV-12284",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-13T00:25:59.000+0000",
      "created": "2020-04-02T06:02:51.000+0000",
      "description": "h3. Issue Summary\r\nOn creating a pull request in the Bitbucket UI, the stash-refs/pull-requests/<#>  does not immediately get generated. This eventually prevent webhook from triggering the related changes. The stash-refs/pull-requests/<#> only can be seen after clicking on other tabs(Diff or Commits) or page.\r\n\r\nh3. Steps to Reproduce\r\n# Create a pull request on Bitbucket Server UI.\r\n# Once the pull request is generated it will automatically redirect to the {{/projects/PRO02/repos/repo04/pull-requests/2/overview}} page.\r\n# Back to the local repository in the client machine, run the following command:\r\n{code:java}\r\ngit ls-remote\r\n{code}\r\n\r\nh3. Expected Results\r\nIt is expected that *stash-refs/pull-requests/<#>* is generated after the redirect from creating a pull request, and that *git ls-remote* shows those refs without having to refresh or direct to different tab/page in pull request UI.\r\n\r\nThe same works fine on Bitbucket Server ver6.10.1, the following was capture in the atlassian-bitbucket.log:\r\n{noformat:title=BBSv6.10.1}\r\n2020-04-02 13:36:21,561 DEBUG [AtlassianEvent::thread-4] admin @1LEP0HUx816x174x0 1wsgekc 0:0:0:0:0:0:0:1 \"POST /projects/PRO02/repos/repo04/pull-requests HTTP/1.1\" c.a.s.i.j.i.e.RemoteEventPublisher Publishing remote event: com.atlassian.devstatus.vcs.JiraPullRequestEvent@b5a8ef9[type=CREATE,initiator=com.atlassian.devstatus.EventInitiator@6efd4da9[emails=[admin@admin.com],username=admin,displayName=admin,resource=http://localhost:7990/users/admin,avatar=http://www.gravatar.com/avatar/64e1b8d34f425d19e1ee2ea7236d3028.jpg?s=128&d=mm],issueKeys=[BFJ-2],entity=com.atlassian.devstatus.EventEntity@4458397f[id=<null>,displayId=#2,resource=http://localhost:7990/projects/PRO02/repos/repo04/pull-requests/2],sourceId=<null>,sourceUrl=<null>]\r\n2020-04-02 13:36:21,579 DEBUG [AtlassianEvent::thread-2] admin @1LEP0HUx816x174x0 1wsgekc 0:0:0:0:0:0:0:1 \"POST /projects/PRO02/repos/repo04/pull-requests HTTP/1.1\" c.a.e.r.impl.RemoteEventListener Queueing RemoteEvent com.atlassian.devstatus.vcs.JiraPullRequestEvent@b5a8ef9[type=CREATE,initiator=com.atlassian.devstatus.EventInitiator@6efd4da9[emails=[admin@admin.com],username=admin,displayName=admin,resource=http://localhost:7990/users/admin,avatar=http://www.gravatar.com/avatar/64e1b8d34f425d19e1ee2ea7236d3028.jpg?s=128&d=mm],issueKeys=[BFJ-2],entity=com.atlassian.devstatus.EventEntity@4458397f[id=<null>,displayId=#2,resource=http://localhost:7990/projects/PRO02/repos/repo04/pull-requests/2],sourceId=<null>,sourceUrl=<null>]\r\n2020-04-02 13:36:21,579 DEBUG [AtlassianEvent::thread-2] admin @1LEP0HUx816x174x0 1wsgekc 0:0:0:0:0:0:0:1 \"POST /projects/PRO02/repos/repo04/pull-requests HTTP/1.1\" c.a.e.r.impl.RemoteEventDispatcher RemoteEvent com.atlassian.devstatus.vcs.JiraPullRequestEvent@b5a8ef9[type=CREATE,initiator=com.atlassian.devstatus.EventInitiator@6efd4da9[emails=[admin@admin.com],username=admin,displayName=admin,resource=http://localhost:7990/users/admin,avatar=http://www.gravatar.com/avatar/64e1b8d34f425d19e1ee2ea7236d3028.jpg?s=128&d=mm],issueKeys=[BFJ-2],entity=com.atlassian.devstatus.EventEntity@4458397f[id=<null>,displayId=#2,resource=http://localhost:7990/projects/PRO02/repos/repo04/pull-requests/2],sourceId=<null>,sourceUrl=<null>] consumable by []\r\n2020-04-02 13:36:21,580 DEBUG [AtlassianEvent::thread-2] admin @1LEP0HUx816x174x0 1wsgekc 0:0:0:0:0:0:0:1 \"POST /projects/PRO02/repos/repo04/pull-requests HTTP/1.1\" c.a.e.r.impl.RemoteEventListener Batch size not exceeded for com.atlassian.devstatus.vcs.JiraPullRequestEvent@b5a8ef9[type=CREATE,initiator=com.atlassian.devstatus.EventInitiator@6efd4da9[emails=[admin@admin.com],username=admin,displayName=admin,resource=http://localhost:7990/users/admin,avatar=http://www.gravatar.com/avatar/64e1b8d34f425d19e1ee2ea7236d3028.jpg?s=128&d=mm],issueKeys=[BFJ-2],entity=com.atlassian.devstatus.EventEntity@4458397f[id=<null>,displayId=#2,resource=http://localhost:7990/projects/PRO02/repos/repo04/pull-requests/2],sourceId=<null>,sourceUrl=<null>]\r\n2020-04-02 13:36:21,749 DEBUG [http-nio-7990-exec-1] admin @1LEP0HUx816x176x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /projects/PRO02/repos/repo04/pull-requests/2/overview HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.pull-request.related-entities was required already. Ignoring.\r\n2020-04-02 13:36:21,749 DEBUG [http-nio-7990-exec-1] admin @1LEP0HUx816x176x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /projects/PRO02/repos/repo04/pull-requests/2/overview HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.pull-request.links was required already. Ignoring.\r\n2020-04-02 13:36:21,749 DEBUG [http-nio-7990-exec-1] admin @1LEP0HUx816x176x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /projects/PRO02/repos/repo04/pull-requests/2/overview HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.pull-request.overview.sections was required already. Ignoring.\r\n2020-04-02 13:36:21,751 DEBUG [http-nio-7990-exec-1] admin @1LEP0HUx816x176x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /projects/PRO02/repos/repo04/pull-requests/2/overview HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.web.repository.clone.dialog.options was required already. Ignoring.\r\n2020-04-02 13:36:22,534 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 4: Could not resolve stash-refs/pull-requests/2/to directly or from packed-refs\r\n2020-04-02 13:36:22,537 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 4: Could not resolve refs/pull-requests/2/from directly or from packed-refs\r\n2020-04-02 13:36:22,540 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 4: Could not resolve refs/pull-requests/2/merge directly or from packed-refs\r\n2020-04-02 13:36:22,543 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPorcelain 4: Initializing work tree in /home/lucifer/atlassian/application-data/bitbucket-home/6.10.1/tmp/git/repo04-work5654377337427207574\r\n2020-04-02 13:36:22,559 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git init --quiet /home/lucifer/atlassian/application-data/bitbucket-home/6.10.1/tmp/git/repo04-work5654377337427207574\r\n2020-04-02 13:36:22,568 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPorcelain 4: Resetting /home/lucifer/atlassian/application-data/bitbucket-home/6.10.1/tmp/git/repo04-work5654377337427207574 to clean the index\r\n2020-04-02 13:36:22,581 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git reset --quiet a6965612196f15e9c21f70f3a0cb6e53e12d5629 --\r\n2020-04-02 13:36:22,583 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.scm.git.merge.MergeCommand PRO02/repo04[4]: Merging PRO02/repo04 refs/heads/development -> refs/heads/master in /home/lucifer/atlassian/application-data/bitbucket-home/6.10.1/tmp/git/repo04-work5654377337427207574\r\n2020-04-02 13:36:22,591 DEBUG [http-nio-7990-exec-2] admin @1LEP0HUx816x180x1 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/activities HTTP/1.1\" c.a.s.i.p.c.d.DriftCommentUpdateProcessor 4:2@0: No rescopes are pending drift\r\n2020-04-02 13:36:22,603 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git merge -m Automatic merge --no-ff --no-log --allow-unrelated-histories 14b47550df92cc831036119b753e9b39b2466fda\r\n2020-04-02 13:36:22,606 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.scm.git.merge.MergeCommand PRO02/repo04[4]: Fetching successful merge to stash-refs/pull-requests/2/merge from /home/lucifer/atlassian/application-data/bitbucket-home/6.10.1/tmp/git/repo04-work5654377337427207574\r\n2020-04-02 13:36:22,607 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.s.g.f.ObjectFetchStrategy com.atlassian.stash.internal.scm.git.fetch.FetchRequest@43063d1c: Fetching single-repository merge by copying new objects\r\n2020-04-02 13:36:22,624 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git update-ref stash-refs/pull-requests/2/merge b3008999882cf0185513bc7e201c32fe4b5d1dde\r\n2020-04-02 13:36:22,630 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPullRequestPorcelain PRO02/repo04[4]: Pull request 2@0 automatically merged in stash-refs/pull-requests/2/merge as commit b3008999882cf0185513bc7e201c32fe4b5d1dde\r\n2020-04-02 13:36:22,640 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.i.s.g.p.DefaultPullRequestRefHelper PRO02/repo04[4]:2@0: Resolved effective diff from a6965612196f15e9c21f70f3a0cb6e53e12d5629 to b3008999882cf0185513bc7e201c32fe4b5d1dde (CLEAN)\r\n2020-04-02 13:36:22,642 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 4: Could not resolve stash-refs/pull-requests/2/from directly or from packed-refs\r\n2020-04-02 13:36:22,645 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 4: Could not resolve stash-refs/pull-requests/2/from directly or from packed-refs\r\n2020-04-02 13:36:22,659 DEBUG [http-nio-7990-exec-4] admin @1LEP0HUx816x177x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO02/repos/repo04/pull-requests/2/merge HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git update-ref stash-refs/pull-requests/2/from 14b47550df92cc831036119b753e9b39b2466fda\r\n2020-04-02 13:36:22,779 DEBUG [http-nio-7990-exec-8] admin @1LEP0HUx816x182x0 1wsgekc 0:0:0:0:0:0:0:1 \"GET /rest/jira/latest/projects/PRO02/repos/repo04/pull-requests/2/issues HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git rev-list --format=%H%x02%P%x02%aN%x02%aE%x02%at%x02%cN%x02%cE%x02%ct --topo-order 14b47550df92cc831036119b753e9b39b2466fda ^a6965612196f15e9c21f70f3a0cb6e53e12d5629 --\r\n{noformat}\r\n\r\nh3. Actual Results\r\nAfter a pull request is created, the merge check still runs but does not create any pull request refs.\r\n{noformat:title=BBSv7.0.1}\r\n2020-04-02 13:27:23,195 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx807x409x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /projects/PRO1/repos/repo02/pull-requests/4/overview HTTP/1.1\" c.a.s.i.p.w.f.RequestCacheClientPageDataHandler Context bitbucket.web.repository.clone.dialog.options was required already. Ignoring.\r\n2020-04-02 13:27:23,828 DEBUG [http-nio-7990-exec-9] admin @UXZSPNx807x413x2 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/client-plugins/1.0/client-plugins/items HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key  and locales [en_US, en]\r\n2020-04-02 13:27:23,846 DEBUG [http-nio-7990-exec-6] admin @UXZSPNx807x414x1 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/client-plugins/1.0/client-plugins/items HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key  and locales [en_US, en]\r\n2020-04-02 13:27:23,851 DEBUG [http-nio-7990-exec-6] admin @UXZSPNx807x414x1 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/client-plugins/1.0/client-plugins/items HTTP/1.1\" c.a.s.i.i18n.PluginI18nService No values found in any valid locale for key  and locales [en_US, en]\r\n2020-04-02 13:27:23,871 DEBUG [http-nio-7990-exec-1] admin @UXZSPNx807x416x3 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/activities HTTP/1.1\" c.a.s.i.p.c.d.DriftCommentUpdateProcessor 1:4@0: No rescopes are pending drift\r\n2020-04-02 13:27:23,873 DEBUG [http-nio-7990-exec-7] admin @UXZSPNx807x411x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/merge HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve stash-refs/pull-requests/4/to directly or from packed-refs\r\n2020-04-02 13:27:23,877 DEBUG [http-nio-7990-exec-7] admin @UXZSPNx807x411x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/merge HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPorcelain 1: Initializing work tree in /home/lucifer/atlassian/application-data/bitbucket-home/7.0.1/tmp/git/repo02-work838738412132698775\r\n2020-04-02 13:27:23,891 DEBUG [http-nio-7990-exec-7] admin @UXZSPNx807x411x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/merge HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPorcelain 1: Resetting /home/lucifer/atlassian/application-data/bitbucket-home/7.0.1/tmp/git/repo02-work838738412132698775 to clean the index\r\n2020-04-02 13:27:23,898 DEBUG [http-nio-7990-exec-7] admin @UXZSPNx807x411x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/merge HTTP/1.1\" c.a.s.i.scm.git.merge.MergeCommand PRO1/repo02[1]: Merging PRO1/repo02 refs/heads/feature/tron-1.1.0 -> refs/heads/master in /home/lucifer/atlassian/application-data/bitbucket-home/7.0.1/tmp/git/repo02-work838738412132698775\r\n2020-04-02 13:27:23,910 DEBUG [http-nio-7990-exec-7] admin @UXZSPNx807x411x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/merge HTTP/1.1\" c.a.s.i.scm.git.merge.MergeCommand PRO1/repo02[1]: Successfully merged PRO1/repo02 refs/heads/feature/tron-1.1.0 -> refs/heads/master. The merge will be discarded as no FetchStrategy was supplied\r\n2020-04-02 13:27:23,913 DEBUG [http-nio-7990-exec-7] admin @UXZSPNx807x411x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/merge HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPullRequestPorcelain PRO1/repo02[1]: Pull request 4@0 merged automatically without conflicts\r\n2020-04-02 13:27:23,937 DEBUG [http-nio-7990-exec-3] admin @UXZSPNx807x417x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/inbox/pull-requests/count HTTP/1.1\" c.a.s.i.rest.inbox.InboxResource Retrieving pull request count for user admin\r\n2020-04-02 13:27:24,238 DEBUG [http-nio-7990-exec-9] admin @UXZSPNx807x421x1 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/jira/latest/projects/PRO1/repos/repo02/pull-requests/4/issues HTTP/1.1\" c.a.b.i.i.j.DefaultJiraIssueService Bitbucket has not been linked to Jira\r\n2020-04-02 13:28:20,762 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve refs/pull-requests/4/from directly or from packed-refs\r\n2020-04-02 13:28:20,763 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve refs/pull-requests/4/merge directly or from packed-refs\r\n2020-04-02 13:28:20,764 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve stash-refs/pull-requests/4/from directly or from packed-refs\r\n2020-04-02 13:28:20,770 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.i.s.g.p.ShinyGitPullRequestPorcelain PRO1/repo02[1]: Resolved merge-base 9d696badb6d87b325d4c7dbf4ff286f89acbe8df for pull request 4@0\r\n2020-04-02 13:28:20,773 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve stash-refs/pull-requests/4/from directly or from packed-refs\r\n2020-04-02 13:28:20,774 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve stash-refs/pull-requests/4/from directly or from packed-refs\r\n2020-04-02 13:28:20,784 DEBUG [http-nio-7990-exec-8] admin @UXZSPNx808x424x0 2p0ibe 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PRO1/repos/repo02/pull-requests/4/changes HTTP/1.1\" c.a.s.internal.scm.git.RawGitAgent 1: Could not resolve refs/pull-requests/4/merge directly or from packed-refs\r\n{noformat}\r\n\r\n\r\nh3. Workaround\r\n\r\nRetrieve the pull request's diff, either using REST or the {{PullRequestService}}. This will trigger the refs to be updated. Apps which have workarounds to call {{PullRequestService.canMerge}}, {{ScmPullRequestCommandFactory.tryMerge}} or make a {{GET}} request to {{$BASE_URL/projects/KEY/repos/slug/pull-requests/ID/merge}} need to be updated to access the diff instead.",
      "summary": "Eagerly update refs/pull-requests/*/from when a pull request's source branch changes"
    }
  },
  {
    "key": "BSERV-12283",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-02T01:56:57.000+0000",
      "description": "A manually registered \"bitbucket.ui.pullrequest.diff.toolbar\" extension on the pull request page is not rendering when you switch from Overview to Diff tab.\r\n\r\nMore information can be found on the community.d.a.c portal:\u00a0\r\n[https://community.developer.atlassian.com/t/announcement-bitbucket-server-7-0-early-access-program-eap-release/34814/31]",
      "summary": "The Client-side extension is not rendering "
    }
  },
  {
    "key": "BSERV-12282",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-02T23:46:28.000+0000",
      "created": "2020-04-01T20:07:00.000+0000",
      "description": "I like in GitHub how you can say that you\u2019re beginning a pull request, make all your comments, and only submit them once you\u2019re done reviewing. With Bitbucket Server, the author gets an email notification about each individual comment as I make it, which prompted my teammates to turn on delayed notifications, so now they don\u2019t get notified in as timely a manner.\r\n\r\nI often want to revise an earlier comment once I finish reviewing, but the author has already seen the earlier comment, and may start replying to earlier ones before I\u2019m done. This is all solved with a sort of \u201cdraft\u201d state for PR reviews.",
      "summary": "Add begin/end code review to pull requests"
    }
  },
  {
    "key": "BSERV-12281",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-08T08:46:55.000+0000",
      "created": "2020-04-01T10:59:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nElasticsearch fails to install when upgrading Bitbucket to latest version 7.1.0 on Windows Operating system\r\nh3. Steps to Reproduce\r\n # Upgrade the existing Bitbucket instance to v7.1.0\r\n # Elasticsearch service fails to upgrade to 7.5.2\r\n\r\nh3. Expected Results\r\n\r\nWith Bitbucket, Elasticsearch service is expected to be upgraded to latest version 7.5.2\r\nh3. Actual Results\r\n\r\nElasticsearch service fails to upgrade to 7.5.2\r\n\r\nThe below exception is thrown in the AtlassianBitbucketElasticsearch.log file:\r\n{noformat}\r\n[2020-03-30 10:58:49] [info]  [ 7124] Service AtlassianBitbucketElasticsearch name Atlassian Bitbucket Elasticsearch 7.5.2 (AtlassianBitbucketElasticsearch)\r\n[2020-03-30 10:58:49] [error] [ 7124] The specified service already exists.\r\n[2020-03-30 10:58:49] [error] [ 7124] Failed installing 'AtlassianBitbucketElasticsearch' service\r\n[2020-03-30 10:58:49] [error] [ 7124] The specified service already exists.\r\n[2020-03-30 10:58:49] [error] [ 7124] Commons Daemon procrun failed with exit value: 8 (Failed to install service)\r\n[2020-03-30 10:58:49] [error] [ 7124] The specified service already exists.\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently, the workaround is to delete existing elasticsearch service and upgrade again.",
      "summary": "Elasticsearch fails to upgrade when upgrading to Bitbucket v7.1.0 on windows"
    }
  },
  {
    "key": "BSERV-12280",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-04-01T09:04:26.000+0000",
      "description": "h4. Technical Summary\r\n# Referring to the *Elasticsearch* Discussion room ([https://discuss.elastic.co/t/enabling-tls-on-5-5-2-how-to-verify/97999]), to disable *TLS* in *Elasticsearch*, we only need to disable *xpack*.\r\n # In *Bitbucket*, we already did that by adding the following configuration *elasticsearch.yml*;\r\n{code:java}\r\nxpack.security.enabled: false\r\n{code}\r\n # Note that if xpack is enabled, we can configure to enable only certain TLS protocols ([https://discuss.elastic.co/t/tls-v1-0-has-been-removed-from-default-tls-ssl-protocols/189910])\r\n{code:java}\r\nxpack.security.http.ssl.supported_protocols: [ \"TLSv1.2\", \"TLSv1.1\", \"TLSv1\" ]\r\n{code}\r\n # My testing shows that *Elasticsearch* with *Buckler* has all *TLS* protocols enabled\r\n\r\nh4. Step to reproduce:\r\n # Install remote *Elasticsearch* based on *Bitbucket* KB\u00a0[https://confluence.atlassian.com/bitbucketserver/how-to-install-and-configure-a-remote-elasticsearch-instance-815577748.html]\r\n # Secure the *Elasticsearch*\u00a0with *buckler.yml*\r\n # Make sure *Elasticsearch* is running successfully and accessible from https\r\n # Open terminal, type the following (192.168.1.107 is my IP address, modify accordingly):\r\n{code:java}\r\nmarini@marini-VirtualBox:~$ nmap --script ssl-enum-ciphers -p 9200 192.168.1.107 -Pn\r\nStarting Nmap 7.60 ( https://nmap.org ) at 2020-03-31 14:04 +08\r\nNmap scan report for 192.168.1.107\r\nHost is up (0.00071s latency).PORT     STATE SERVICE\r\n9200/tcp open  wap-wsp\r\n| ssl-enum-ciphers: \r\n|   TLSv1.0: \r\n|     ciphers: \r\n|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA (dh 1024) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\r\n|     compressors: \r\n|       NULL\r\n|     cipher preference: client\r\n|     warnings: \r\n|       Key exchange (dh 1024) of lower strength than certificate key\r\n|   TLSv1.1: \r\n|     ciphers: \r\n|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA (dh 1024) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\r\n|     compressors: \r\n|       NULL\r\n|     cipher preference: client\r\n|     warnings: \r\n|       Key exchange (dh 1024) of lower strength than certificate key\r\n|   TLSv1.2: \r\n|     ciphers: \r\n|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 (dh 1024) - A\r\n|       TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 (dh 1024) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A\r\n|     compressors: \r\n|       NULL\r\n|     cipher preference: client\r\n|     warnings: \r\n|       Key exchange (dh 1024) of lower strength than certificate key\r\n|_  least strength: ANmap done: 1 IP address (1 host up) scanned in 0.66 seconds\r\n{code}\r\n # We can see that TLSv1.0, TLSv1.1, and TLSv1.2, all are enabled in *Elasticsearch*\r\n # In this scenario, the customer could not find a way to disable *TLS* protocols when running\u00a0*Elasticsearch*\u00a0with *buckler.yml*. On the *Elasticsearch* side, it is, by right, already disabled\r\n # The customer found a workaround by disabling certain *TLS* protocols from *JDK*",
      "summary": "Provide an option to disable certain TLS protocols in remote Elasticsearch with buckler.yml"
    }
  },
  {
    "key": "BSERV-12279",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-01T05:03:19.000+0000",
      "created": "2020-04-01T05:01:30.000+0000",
      "description": "For Bitbucket Server 6.10 this upgrade is from 9.0.27 to 9.0.33 and includes the following fixes from 9.0.31:\r\n* CVE-2020-1938 AJP Request Injection and potential Remote Code Execution\r\n* CVE-2020-1935 HTTP Request Smuggling\r\n* CVE-2019-17569 HTTP Request Smuggling\r\n\r\nFor Bitbucket Server 7.0 the upgrade is from 9.0.30 to 9.0.33 and thus also includes the above fixes.\r\nFor Bitbucket Server 7.1 the upgrade is from 9.0.31 to 9.0.33, and while the above mentioned security fixes are thus already fixed in 7.1.0, we get the fix for this bug of interest: https://bz.apache.org/bugzilla/show_bug.cgi?id=64195",
      "summary": "Update Tomcat dependency to 9.0.33"
    }
  },
  {
    "key": "BSERV-12278",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-12T00:11:01.000+0000",
      "created": "2020-04-01T04:08:38.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf a mirror sync (git fetch) idle times out, fetched items are left on-disk as temporary files. Due to the sync failure, the mirror will schedule a new sync. This retry process is indefinite with a incremental retry-wait time. This causes a buildup of {{objects/pack/tmp_pack_*}} files which can lead to disk exhaustion.\r\n\r\nThe idle timeout commonly occurs after objects are received (during/before the resolving deltas stage) and therefore the *full* repository is fetched multiple times, which can lead to disk space exhaustion.\r\n\r\nBSERV-12202 can aggravate this issue for smaller repositories, leading to longer leak times.\r\nh3. Steps to Reproduce\r\n # Set {{plugin.mirroring.remote.command.timeout.idle=2}}\r\n # Mirror the Linux repository\r\n\r\nh3. Expected Results\r\n # Sync will timeout and retry, cleaning up past attempts\r\n\r\nh3. Actual Results\r\n # Sync times out\r\n # Git will leave the fetch files on disk {{objects/pack/tmp_pack_*}}\r\n ** _These files follow unreachable object timelines (default 2 weeks) and will be pruned in 2 weeks automatically by git GC_\r\n # After a retry-wait time, the mirror retries the sync causing a new {{tmp_pack_*}} file. Each retry has a longer retry-wait time.\r\n # Cycle repeats\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-01-16 11:50:20,084 DEBUG [initial-sync-thread-pool:thread-5]  c.a.b.i.m.m.f.s.InitialSyncHelper Exception processing SyncRequest{externalRepositoryId=333}\r\ncom.atlassian.bitbucket.ServerException: An error occurred while executing an external process: process timed out\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:120)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.FetchExitHandler.onExit(FetchExitHandler.java:39)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:214){noformat}\r\nWhen disk space is exhausted:\r\n{noformat}\r\nfatal: write error: No space left on device\r\nfatal: index-pack failed\r\n{noformat}\r\n_Please note, due to disk space exhaustion logs can be incomplete_\r\nh3. Workaround\r\n\r\nIncrease {{plugin.mirroring.remote.command.timeout.idle=1800}} to a larger number to accommodate your repository.",
      "summary": "Mirror synchronization idle timeout causes storage leak"
    }
  },
  {
    "key": "BSERV-12277",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-31T13:18:03.000+0000",
      "description": "Users would like to have a way to setup a e-mail notifications for a specific repository, that would notify them whenever any update, comment about or on a commit happen.\r\n\r\nA similar feature is already present on ScriptRunner, but users would like to have something built-in, to not require the complete plugin, for a small feature.\r\n\r\nThe options that deliver this needs to the users from the ScriptRunner.\r\nCommitDiscussionCommentAddedEvent\r\nCommitDiscussionCommentRepliedEvent\r\nCommitDiscussionCommentDeletedEvent\r\nCommitDiscussionCommentEditedEvent\r\n\r\nMore generally this might be considered a notification system under a \"Code Review Outside of a PR\" feature. They want to be able to collaborate on a code review without a PR.",
      "summary": "Notification for code review outside a PR"
    }
  },
  {
    "key": "BSERV-12276",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-31T11:30:41.000+0000",
      "description": "h3. Issue Summary\r\nBitbucket docker image [atlassian/bitbucket-server:6.10-jdk11|https://hub.docker.com/layers/atlassian/bitbucket-server/6.10-jdk11/images/sha256-bc264800f0dccfed95532827d8772bd86e54ad91a2e5ce161ea44a7aea72a868?context=explore] has the corrupted Elasticsearch index on a first run.\r\n\r\nh3. Steps to Reproduce\r\n# Pull the docker image\r\n{code}\r\ndocker pull atlassian/bitbucket-server:6.10-jdk11\r\n{code}\r\n# Run Docker image:\r\n{code}\r\ndocker run -v --name=\"bitbucket\" -d -p 7990:7990 -p 7999:7999 atlassian/bitbucket-server:6.10-jdk11\r\n{code}\r\n# Try to search in a searchbox\r\n\r\nh3. Expected Results\r\nThe search is available and responding for the input\r\n\r\nh3. Actual Results\r\nThe search in UI is giving error 503\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-03-31 11:11:01,101 ERROR [search-indexing:thread-1]  c.a.b.i.s.i.e.DefaultIndexEventWorker Indexing - Failed for repository TEST/test (id: 1) with error: Index response returned status code 404. Response: IndexResponse{statusCode=404, content={\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"index_not_found_exception\",\r\n        \"reason\": \"no such index\",\r\n        \"resource.type\": \"index_expression\",\r\n        \"resource.id\": \"bitbucket-repository\",\r\n        \"index_uuid\": \"_na_\",\r\n        \"index\": \"bitbucket-repository\"\r\n      }\r\n    ],\r\n    \"type\": \"index_not_found_exception\",\r\n    \"reason\": \"no such index\",\r\n    \"resource.type\": \"index_expression\",\r\n    \"resource.id\": \"bitbucket-repository\",\r\n    \"index_uuid\": \"_na_\",\r\n    \"index\": \"bitbucket-repository\"\r\n  },\r\n  \"status\": 404\r\n}}\r\ncom.atlassian.bitbucket.internal.search.indexing.exceptions.IndexException: Index response returned status code 404. Response: IndexResponse{statusCode=404, content={\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"index_not_found_exception\",\r\n        \"reason\": \"no such index\",\r\n        \"resource.type\": \"index_expression\",\r\n        \"resource.id\": \"bitbucket-repository\",\r\n        \"index_uuid\": \"_na_\",\r\n        \"index\": \"bitbucket-repository\"\r\n      }\r\n    ],\r\n    \"type\": \"index_not_found_exception\",\r\n    \"reason\": \"no such index\",\r\n    \"resource.type\": \"index_expression\",\r\n    \"resource.id\": \"bitbucket-repository\",\r\n    \"index_uuid\": \"_na_\",\r\n    \"index\": \"bitbucket-repository\"\r\n  },\r\n  \"status\": 404\r\n}}\r\n\tat com.atlassian.bitbucket.internal.search.indexing.indexer.IndexRequestDispatcher.convertIndexResponse(IndexRequestDispatcher.java:252)\r\n\tat rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:69)\r\n\tat rx.internal.operators.OperatorMerge$MergeSubscriber.emitScalar(OperatorMerge.java:511)\r\n\tat rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(OperatorMerge.java:466)\r\n\tat rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:244)\r\n\tat rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:148)\r\n\tat rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:77)\r\n\tat rx.internal.producers.SingleProducer.request(SingleProducer.java:65)\r\n\tat rx.Subscriber.setProducer(Subscriber.java:211)\r\n\tat rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\r\n\tat rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:75)\r\n\tat rx.internal.operators.OnSubscribeToObservableFuture$ToObservableFuture.call(OnSubscribeToObservableFuture.java:43)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\n\tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:235)\r\n\tat rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.subscribe(Observable.java:10423)\r\n\tat rx.Observable.subscribe(Observable.java:10390)\r\n\tat rx.Observable.subscribe(Observable.java:10230)\r\n\tat com.atlassian.bitbucket.internal.search.indexing.event.DefaultIndexEventQueueProcessor.processEvent(DefaultIndexEventQueueProcessor.java:204)\r\n\tat com.atlassian.bitbucket.internal.search.indexing.event.DefaultIndexEventQueueProcessor.processEvents(DefaultIndexEventQueueProcessor.java:229)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t... 1 frame trimmed\r\n{noformat}\r\n\r\nh3. Workaround\r\n# Connect to Docker image:\r\n{code}\r\ndocker exec -it bitbucket /bin/bash\r\n{code}\r\n# Manually restart the indexing job:\r\n{code}\r\ncurl -u admin -X POST -H 'Content-Type: application/json' -H 'Accept: application/json' http://localhost:7990/rest/indexing/latest/sync\r\n{code}\r\n\r\n",
      "summary": "Docker image 6.10-jdk11 has corrupted indexes in Elasticsearch on a first docker run"
    }
  },
  {
    "key": "BSERV-12275",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-01-24T06:00:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe sample of init.d script doest not work with redhat-lsb package.\u00a0In redhat-lsb package on RHEL, the following functions used in the sample script\u00a0*init.d*\u00a0are not defined. They are:\r\n * status_of_proc ()\r\n * log_end_msg ()\r\n * log_daemon_msg ()\r\n\r\nYou will receive the \"status_of_proc: command not found\" message when checking the status with ./bitbucket status.\r\nh3. Steps to Reproduce\r\n # Use Red Hat OS\r\n # Install and configure Bitbucket Server\r\n # Install redhat-lsb package\r\n # Use init.d sample script as in the KB\r\n # Start the Bitbucket Server using the script\r\n # Type status to check the Bitbucket Status\r\n # You will see\u00a0\"status_of_proc: command not found\" message on your terminal\r\n\r\nh3. Expected Results\r\n\r\nAble to see the status of Bitbucket Server\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the terminal:\r\n{noformat}\r\n./bitbucket status\r\nstatus_of_proc: command not found\r\n{noformat}\r\nh3. Workaround\r\n\r\nAdding the functions manually to\u00a0*/lib/lsb/init-functions:*\r\n{code:java}\r\n#Custom function to log deamon message\r\nlog_end_msg () {\r\n    # If no arguments were passed, return\r\n    if [ -z \"${1:-}\" ]; then\r\n        return 1\r\n    fi\r\n\r\n    local retval\r\n    retval=$1\r\n    /etc/redhat-lsb/lsb_log_message success \"$@\"\r\n   if [ $1 -eq 0 ]; then\r\n        echo \".\" || true\r\n    elif [ $1 -eq 255 ]; then\r\n   /etc/redhat-lsb/lsb_log_message warning \"$@\"\r\n   else\r\n    /etc/redhat-lsb/lsb_log_message failure \"$@\"   \r\n    fi\r\n   return $retval\r\n}\r\nlog_daemon_msg () {\r\n\r\n    if [ -z \"${1:-}\" ]; then\r\n        return 1\r\n    fi\r\n    if [ -z \"${2:-}\" ]; then\r\n        echo -n \"$1:\" || true\r\n        return\r\n    fi\r\n    \r\n    echo -n \"$1: $2\" || true\r\n}\r\nstatus_of_proc () {\r\n    local pidfile daemon name status OPTIND\r\n\r\n    pidfile=\r\n    OPTIND=1\r\n    while getopts p: opt ; do\r\n        case \"$opt\" in\r\n            p)  pidfile=\"$OPTARG\";;\r\n        esac\r\n    done\r\n    shift $(($OPTIND - 1))\r\n\r\n    if [ -n \"$pidfile\" ]; then\r\n        pidfile=\"-p $pidfile\"\r\n    fi\r\n    daemon=\"$1\"\r\n    name=\"$2\"\r\n\r\n    status=\"0\"\r\n    pidofproc $pidfile $daemon >/dev/null || status=\"$?\"\r\n    if [ \"$status\" = 0 ]; then\r\n        log_success_msg \"$name is running\"\r\n        return 0\r\n    elif [ \"$status\" = 4 ]; then\r\n        log_failure_msg \"could not access PID file for $name\"\r\n        return $status\r\n    else\r\n        log_failure_msg \"$name is not running\"\r\n        return $status\r\n    fi\r\n}\r\n{code}",
      "summary": "The sample of init.d script does not work with redhat-lsb package"
    }
  },
  {
    "key": "BSERV-12274",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-30T10:42:35.000+0000",
      "description": "h3. Problem\r\nBundled Elasticsearch has certain dependencies on the kernel in Linux, i.e. number of open files and virtual memory settings.\r\nThose parameters are not being checked during the Bitbucket startup but showing as a warnings in the logs of Elasticsearch afterwards:\r\n{code}\r\n[2020-03-25T10:32:25,291][WARN ][o.e.b.BootstrapChecks    ] [bitbucket_bundled]max file descriptors [4096] for elasticsearch process is too low, increase to at least [65535]\r\n\r\n[2020-03-25T11:12:19,787][WARN ][o.e.b.BootstrapChecks    ] [bitbucket_bundled]max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]\r\n{code}\r\n\r\nh3. Business impact\r\nInsufficient amount of the resources allocated to elasticsearch with those parameters can lead to Code Search and indexing performance issues.\r\n\r\nh3. Solution\r\nIntroduce the startup check for Elasticsearch related system parameters with notification during the startup.",
      "summary": "Provide the Elasticsearch system check during the startup of Bitbucket"
    }
  },
  {
    "key": "BSERV-12273",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-30T21:46:18.000+0000",
      "created": "2020-03-30T09:42:45.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen searching a file content in a repository, the full code cannot be viewed when CTRL-F is pressed. This affects the _code review_ process as the full code cannot be viewed.\r\n\r\nh3. Steps to Reproduce\r\n# Open a repository > Source > open any file with over 50 lines of code.\r\n# Within the source view, perform a search (CTRL-F).\r\n# Scrolling down to the bottom of the file, the last few lines are truncated.\r\n\r\nh3. Expected Results\r\nFull lines of code as shown in _Full view.png_\r\n\r\n\r\nh3. Actual Results\r\nLines of code are truncated as shown in _Truncated view.png_\r\n\r\n\r\nh3. Workaround\r\nUpgrade to Bitbucket 7.0 ",
      "summary": "Search bar covers last few lines of file when searching"
    }
  },
  {
    "key": "BSERV-12272",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:41:26.000+0000",
      "created": "2020-03-30T09:41:43.000+0000",
      "description": "h3. Issue Summary\r\nUpon starting up the Bitbucket Server, there is error message claiming that the class related to Bamboo is not loaded.\r\n\r\nh3. Steps to Reproduce\r\n # Start the Bitbucket Server.\r\n\r\nh3. Expected Results\r\nAble to load the class and show a related message.\r\n\r\nh3. Actual Results\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n020-03-30 17:26:57,279 ERROR [ThreadPoolAsyncTaskExecutor::Thread 40]  c.a.p.s.s.r.i.ComponentImportBeanFactoryPostProcessor Unable to load class 'com.atlassian.bamboo.configuration.AdministrationConfigurationAccessor' for component importation purposes.  Skipping...\r\n2020-03-30 17:27:24,917 WARN  [spring-startup]  c.a.s.i.p.s.OsgiBundledPathScanner Cannot scan directory /com/atlassian/plugin/connect/confluence/ in bundle com.atlassian.plugins.atlassian-connect-plugin; it does not exist\r\n2020-03-30 17:27:25,315 WARN  [spring-startup]  c.a.p.c.r.StaticPluginPathScanner Cannot scan directory /static/bitbucket/internal/feature/admin/ratelimit/ in web static as it does not exist\r\n2020-03-30 17:27:28,112 WARN  [spring-startup]  c.a.s.i.p.s.OsgiBundledPathScanner Cannot scan directory /com/atlassian/oauth/shared/servlet/ in bundle com.atlassian.oauth.atlassian-oauth-service-provider-plugin; it does not exist\r\n2020-03-30 17:27:28,955 WARN  [spring-startup]  c.a.s.i.p.s.OsgiBundledPathScanner Cannot scan directory /com/atlassian/oauth/shared/servlet/ in bundle tac.bitbucket.languages.de_DE; it does not exist\r\n2020-03-30 17:27:29,012 WARN  [spring-startup]  c.a.s.i.p.s.OsgiBundledPathScanner Cannot scan directory /com/atlassian/oauth/shared/servlet/ in bundle tac.bitbucket.languages.fr_FR; it does not exist\r\n2020-03-30 17:27:29,036 WARN  [spring-startup]  c.a.s.i.p.s.OsgiBundledPathScanner Cannot scan directory /com/atlassian/oauth/shared/servlet/ in bundle tac.bitbucket.languages.ja_JP; it does not exist\r\n{noformat}\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Bitbucket on Startup unable to load Bamboo plugin class"
    }
  },
  {
    "key": "BSERV-12271",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-30T08:47:31.000+0000",
      "description": "Require issue keys in commit messages and allow them to be linked to an external issue tracker.\r\n\r\nThis feature is in Bitbucket cloud not in our Bitbucket server version (Atlassian Bitbucket v6.7.2)\r\n\r\n!image-2020-03-30-10-44-22-489.png!\r\n\r\n!image-2020-03-30-10-43-44-437.png!",
      "summary": "Link to issue keys and builds from commit messages and pull request comments."
    }
  },
  {
    "key": "BSERV-12270",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T02:02:31.000+0000",
      "created": "2020-03-30T06:30:01.000+0000",
      "description": "[The REST docs|https://docs.atlassian.com/bitbucket-server/rest/7.1.0/bitbucket-rest.html#idp283] aren't formatting {@code ...} blocks correctly. Search on the page for \"@code\" to see the problem.\r\n\r\nI've looked back to [the 4.0.0 REST docs|https://docs.atlassian.com/bitbucket-server/rest/4.0.0/bitbucket-rest.html] and the problem still seems to be there... so this has been around for a while.\r\n",
      "summary": "REST docs aren't formatting {@code ...} blocks"
    }
  },
  {
    "key": "BSERV-12269",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-30T04:59:35.000+0000",
      "description": "h3. Issue Summary\r\n\r\nImporting of a repository from one Bitbucket instance to another fails. \r\n\r\nh3. Steps to Reproduce\r\n# Login to Bitbucket Server\r\n# Select a Project\r\n# Click Import Repository\r\n# Choose Git, enter source repository URL, username and password\r\n# Click Import\r\n\r\nh3. Expected Results\r\n\r\nRepository is imported successfully\r\n\r\nh3. Actual Results\r\n\r\nAfter displaying the progress bar, the import fails and prompts the user to check system logs.\r\n\r\nThe below exception is thrown in the {{atlassian-bitbucket.log}} file:\r\n{noformat}\r\n2020-03-05 04:52:51,124 ERROR [pool-6-thread-1]  c.a.b.i.i.repository.RefSyncTask Failed to import repository: <project-key>/<repo-slug>[1782]\r\ncom.atlassian.bitbucket.ServerException: An error occurred while executing an external process: String index out of range: -4\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:120)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onCancel(GitCommandExitHandler.java:53)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:211)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:348)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:312)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:144)\r\n\tat com.atlassian.stash.internal.scm.git.command.SimpleGitCommand.configureAndCall(SimpleGitCommand.java:84)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorSynchronizeCommand.doFetch(MirrorSynchronizeCommand.java:129)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorSynchronizeCommand.call(MirrorSynchronizeCommand.java:94)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorSynchronizeCommand.call(MirrorSynchronizeCommand.java:33)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.syncRefs(RefSyncTask.java:122)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.importRepository(RefSyncTask.java:99)\r\n\tat com.atlassian.stash.internal.user.DefaultEscalatedSecurityContext.call(DefaultEscalatedSecurityContext.java:58)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.call(RefSyncTask.java:62)\r\n\tat com.atlassian.bitbucket.internal.importer.repository.RefSyncTask.call(RefSyncTask.java:35)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\t... 1 frame trimmed\r\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -4\r\n\tat java.lang.String.substring(String.java:1967)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorFetchCommandHandler.processRefChange(MirrorFetchCommandHandler.java:103)\r\n\tat com.atlassian.stash.internal.scm.git.command.fetch.MirrorFetchCommandHandler$RefChangeOutputHandler.processLine(MirrorFetchCommandHandler.java:299)\r\n\tat com.atlassian.utils.process.LineOutputHandler.process(LineOutputHandler.java:70)\r\n\tat com.atlassian.utils.process.LineOutputHandler.process(LineOutputHandler.java:33)\r\n\tat com.atlassian.bitbucket.scm.SummarizingProcessHandler$DelegatingInputStreamHandler.process(SummarizingProcessHandler.java:184)\r\n\tat com.atlassian.bitbucket.scm.SummarizingProcessHandler$DelegatingInputStreamHandler.process(SummarizingProcessHandler.java:166)\r\n\tat com.atlassian.bitbucket.scm.SummarizingProcessHandler.processError(SummarizingProcessHandler.java:86)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl$StderrHandler.handle(ExternalProcessImpl.java:755)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl$HandlerLatchedRunnable.doTask(ExternalProcessImpl.java:731)\r\n\tat com.atlassian.utils.process.LatchedRunnable.run(LatchedRunnable.java:158)\r\n\tat com.atlassian.utils.process.ExternalProcessImpl$AsynchronousHandlerLatchedRunnable.run(ExternalProcessImpl.java:700)\r\n\tat com.atlassian.stash.internal.concurrent.DefaultTransferableStateManager$StateTransferringRunnable.run(DefaultTransferableStateManager.java:166)\r\n\t... 3 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\n[Import repository from the terminal|https://confluence.atlassian.com/bitbucketserver0610/importing-code-from-an-existing-project-989761103.html#Importingcodefromanexistingproject-Importcodeusingtheterminal]\r\n\r\n",
      "summary": "Importing a repository from another Bitbucket Server (using Git) fails"
    }
  },
  {
    "key": "BSERV-12268",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-28T02:20:19.000+0000",
      "created": "2020-03-27T12:25:33.000+0000",
      "description": "MariaDB 10.4.12 is considered a stable release, so Bitbucket Server should be updated to test against it and mark it supported.",
      "summary": "Add support for MariaDB 10.4"
    }
  },
  {
    "key": "BSERV-12267",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-27T12:25:08.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter setting JRE_HOME in set-jre-home.sh, Elasticsearch service fails to start with start-bitbucket.sh, throws below exception\r\n{noformat}\r\ncould not find java in bundled jdk at {$INST_HOME}/atlassian-bitbucket-7.1.0/elasticsearch/jdk/bin/java\r\nThere was a problem starting bundled Elasticsearch\r\n{noformat}\r\nh3. Steps to Reproduce\r\n # Download Bitbucket server version 7.1.0 (tar.gz)\r\n # Set JRE_HOME in set-jre-home.sh and start bitbucket with start-bitbucket.sh\r\n\r\nh3. Expected Results\r\n\r\nElasticsearch service is expected to start along with Bitbucket\r\nh3. Actual Results\r\n\r\nElasticsearch service could not start\r\n\r\nThe below exception is thrown while starting Bitbucket with start-bitbucket.sh:\r\n{noformat}\r\nStarting Atlassian Bitbucket as the current user\r\n\r\nCopying Elasticsearch configuration to {$BITBUCKET_HOME}/shared/search\r\n\r\nSetting Elasticsearch configuration to version 3\r\n\r\nStarting bundled Elasticsearch\r\nHint: Run start-bitbucket.sh --no-search to skip starting Elasticsearch\r\ncould not find java in bundled jdk at {$INST_HOME}/atlassian-bitbucket-7.1.0/elasticsearch/jdk/bin/java\r\nThere was a problem starting bundled Elasticsearch\r\n\r\nBitbucket is being run with a umask that contains potentially unsafe settings.\r\nThe following issues were found with the mask \"u=rwx,g=rx,o=rx\" (0022):\r\n - Access is allowed to 'others'. It is recommended that 'others' be denied\r\n   all access for security reasons.\r\nThe recommended umask for Bitbucket is \"u=,g=w,o=rwx\" (0027) and can be\r\nconfigured in _start-webapp.sh\r\n\r\nThe current open files limit is set to less than 4096\r\nAttempting to increase limit...\r\nLimit increased to 4096 open files\r\n\r\nStarting Bitbucket webapp at http://localhost:7990\r\nThe Bitbucket webapp has been started.\r\n{noformat}\r\nh3. Workaround\r\n\r\nManually set JAVA_HOME to start elasticsearch service\r\nexport JAVA_HOME=\"$JRE_HOME\"",
      "summary": "Elasticsearch service fails to start"
    }
  },
  {
    "key": "BSERV-12266",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-01T04:05:59.000+0000",
      "created": "2020-03-27T07:26:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Bitbucket Server 7.1.0 Apache Tomcat was upgraded to 9.0.31 which includes a breaking change with respect to the configuration of secrets and the AJP connector.\r\nhttps://github.com/apache/tomcat/commit/9ac90532e9a7d239f90952edb229b07c80a9a3eb\r\n\r\nh3. Steps to Reproduce\r\n\r\nConfigure Bitbucket Server 7.1.0 with an AJP connector:\r\n{noformat}\r\nserver.additional-connector.1.connector-protocol=AJP/1.3\r\nserver.additional-connector.1.port=7991{noformat}\r\nh3. Expected Results\r\n\r\nThe application starts correctly when an AJP connector is configured.\r\nh3. Actual Results\r\n\r\nThe application fails to start, with error:\r\n{noformat}\r\n2020-03-27 18:22:09,417 ERROR [main]\u00a0 o.apache.catalina.util.LifecycleBase Failed to start component [Connector[AJP/1.3-7991]]2020-03-27 18:22:09,417 ERROR [main]\u00a0 o.apache.catalina.util.LifecycleBase Failed to start component [Connector[AJP/1.3-7991]]org.apache.catalina.LifecycleException: Protocol handler start failed at org.apache.catalina.connector.Connector.startInternal(Connector.java:1038) at \r\norg.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) at \r\norg.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) at \r\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) at \r\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) at \r\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) at \r\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) at \r\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) at \r\ncom.atlassian.bitbucket.internal.boot.BitbucketServerApplication.start(BitbucketServerApplication.java:270) at com.atlassian.bitbucket.internal.boot.BitbucketServerApplication.main(BitbucketServerApplication.java:87) ... 2 frames trimmedCaused by: java.lang.IllegalArgumentException: The AJP Connector is configured with secretRequired=\"true\" but the secret attribute is either null or \"\". This combination is not valid. at \r\norg.apache.coyote.ajp.AbstractAjpProtocol.start(AbstractAjpProtocol.java:264) ... 12 common frames omitted\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available",
      "summary": "Fails to start with error: The AJP Connector is configured with secretRequired=\"true\" but the secret attribute is either null or \"\". This combination is not valid."
    }
  },
  {
    "key": "BSERV-12265",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-26T22:34:57.000+0000",
      "description": "The new attachments/metadata REST API was added in Bitbucket Server 7.0 but there is no way to know that from [its REST docs|https://docs.atlassian.com/bitbucket-server/rest/7.0.0/bitbucket-rest.html#idp193].\r\n\r\nAs an integration developer, I want to know when REST calls were added to Bitbucket so I know which versions my integration is compatible with.",
      "summary": "Add version to REST docs"
    }
  },
  {
    "key": "BSERV-12264",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-26T17:32:28.000+0000",
      "description": "This will make it easier to find the files to look at in pull requests where a whole folder has been renamed.\r\n\r\n\u00a0\r\n\r\nCurrently, both kinds of files are displayed in orange.",
      "summary": "Display \"Moved and unchanged\" files differently from \"Moved and changed\" files in Diff"
    }
  },
  {
    "key": "BSERV-12263",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-28T22:46:52.000+0000",
      "created": "2020-03-26T11:21:16.000+0000",
      "description": "*Problem* (related to BSERV-12150 and [BSERV-11582|https://jira.atlassian.com/browse/BSERV-11582]):\r\n\r\nAJP connector for latest 7.1.0 need to be configured with secretRequired=false or passed asecret.\r\n\r\n*Solution:*\r\n\r\nProvide config options in order to use AJP with latest security enhancements for AJP.",
      "summary": "Support secret configuration options for AJP connector"
    }
  },
  {
    "key": "BSERV-12262",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-25T20:02:12.000+0000",
      "description": "Bitbucket should have some audit features for grooming repos by default in the application. Our repositories are growing and i'm sure we have hundreds of abandoned repos we can clean up. In addition getting analytics on each project would be essential instead of utilizing a plugin.",
      "summary": "Bitbucket Repo Grooming"
    }
  },
  {
    "key": "BSERV-12261",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-02T18:43:17.000+0000",
      "created": "2020-03-24T21:49:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a {{git}} command is run without setting an explicit execution timeout, the default value is not applied and the command runs with only an idle timeout.\r\n\r\nNotes:\r\n* The idle timeout is more aggressive than the execution timeout and is generally sufficient to prevent rogue processes\r\n* Many {{git}} commands, including and especially those used for hosting (e.g. {{git http-backend}}, {{git receive-pack}}, {{git upload-archive}} and {{git upload-pack}}) and garbage collection (e.g. {{git pack-refs}}, {{git prune}} and {{git repack}}) are _always_ run with explicit execution timeouts, which are applied correctly\r\n\r\nh3. Steps to Reproduce\r\n\r\nN/A\r\n\r\nh3. Expected Results\r\n\r\nCommands without an explicit execution timeout set should have a default applied.\r\n\r\nh3. Actual Results\r\n\r\nOnly commands with explicit execution timeout apply one, and commands which don't have one run with only an idle timeout applied.\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround for this issue. App developers can update their apps to specify explicit timeouts, but, as noted above, the idle timeout, which _is_ applied, is generally sufficient.",
      "summary": "Execution timeouts are not enforced for some Git processes"
    }
  },
  {
    "key": "BSERV-12260",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-24T20:38:45.000+0000",
      "description": "As a followup to [a question raised in community|https://community.atlassian.com/t5/Bitbucket-questions/Can-I-compare-a-commit-range-in-bitbucket-like-I-could-in/qaq-p/1313075?utm_source=atlcomm&utm_medium=email&utm_campaign=immediate_general_reply&utm_content=topic]\u00a0I would kindly like to ask you to consider implementing a similar feature to one you have in your Crucible product. When reviewing a pull request with multiple commits, allow to select a range of commits to show diffs of.\u00a0\r\n\r\nIn crucible, the UI looks like this:\u00a0\r\n\r\n!https://community.atlassian.com/t5/image/serverpage/image-id/84723i4A2F41EC0DC2BE56/image-size/large?v=1.0&px=999|width=285,height=92!\r\n\r\nYou can drag the red circles to select commit range to diff.\r\n\r\nAlso, showing comments on code if it is within commit range would be helpful too.",
      "summary": "Support commit range in pull requests like in Crucible"
    }
  },
  {
    "key": "BSERV-12259",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-23T23:41:19.000+0000",
      "description": "Currently, rebasing pull requests are shown as \"Unknown\" in the Push log. They should be properly categorized as other types of push events.\r\n\u00a0",
      "summary": "Show rebasing pull requests in Push log"
    }
  },
  {
    "key": "BSERV-12258",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-23T23:38:47.000+0000",
      "description": "Currently, repository imports are shown as \"Unknown\" in the Push log. They should be properly categorized as other types of push events.\r\n\u00a0",
      "summary": "Show repository imports in Push log"
    }
  },
  {
    "key": "BSERV-12257",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-23T23:37:10.000+0000",
      "description": "Currently, cascading merges are shown as \"Unknown\" in the Push log. They should be properly categorized as other types of push events.",
      "summary": "Show cascading merges in Push log"
    }
  },
  {
    "key": "BSERV-12256",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-23T14:59:18.000+0000",
      "description": "h3. Problem Definition\r\n\r\nProject and Repository admins can change branch permissions.\r\n\r\nIt would be nice if there was the ability to set Global branch permissions, so only Bitbucket Server Admins could change those permissions.\r\n\r\nfor example, globally disallow changes to {{master}} without a pull request.\r\n\r\nh3. Suggested Solution\r\n\r\nIt would be nice if there was the ability to set Global branch permissions, so only Bitbucket Server Admins could change those permissions.\r\n\r\nfor example, globally disallow changes to {{master}} without a pull request.\r\n\r\n\r\nh3. Workaround\r\n\r\nGive users read/write permissions to a project or repository, rather than admin permissions.",
      "summary": "Ability to create Global Branch Permissions"
    }
  },
  {
    "key": "BSERV-12255",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-23T13:47:24.000+0000",
      "description": "Add support for x509 certificate signed commits to the \"Verify Commit Signature\" hook.\r\n\r\nCurrently the hook supports GPG key signing, but could be enhanced for x509.\r\n",
      "summary": "Support for x509 certificate signed commits"
    }
  },
  {
    "key": "BSERV-12254",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-06-02T01:07:03.000+0000",
      "created": "2020-03-23T04:44:32.000+0000",
      "description": "Retrieving the raw diff and patch representations of pull requests was added in the tickets below:\r\n\r\nhttps://jira.atlassian.com/browse/BSERV-7238\u00a0Raw Diff of pull request\r\n\r\nhttps://jira.atlassian.com/browse/BSERV-11451\u00a0Patch API\r\n\r\nThey were added to the REST API as part of release 6.7.0.\r\n\r\n\u00a0\r\n\r\nThis change is to make it even easier for users to access the raw diff and patch representations of pull requests in the browser.\r\n\r\n\u00a0",
      "summary": "URLs for accessing raw diff and patch for pull request"
    }
  },
  {
    "key": "BSERV-12253",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-28T07:41:47.000+0000",
      "created": "2020-03-22T23:52:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Bitbucket installer won't run on macOS 10.15+ (Catalina) as it is not notarized. The Gatekeeper software was updated in macOS 10.15 (Catalina) to prevent any software distributed with a Developer ID from being opened if it is not notarized.\r\n{quote}Beginning in macOS 10.15, all software built after June 1, 2019, and distributed with Developer ID must be notarized.\r\n{quote}\r\nSource:\u00a0[Notarizing macOS Software Before Distribution|https://developer.apple.com/documentation/xcode/notarizing_macos_software_before_distribution]\r\nh3. Steps to Reproduce\r\n # Start installer from the Bitbucket installer DMG file\r\n\r\nh3. Expected Results\r\n\r\nInstaller is started.\r\nh3. Actual Results\r\n\r\n\"Installer can't be opened because Apple cannot check it for malicious software\"\r\n\r\n!image-2020-03-23-10-50-02-552.png|thumbnail!\r\nh3. Workarounds\r\n* Install using the tar.gz or zip _OR_\r\n* Allow the installer to run\r\n*# Run the installer\r\n*# Once you see the error message, press \"OK\"\r\n*# Then open \"System Preferences\" -> \"Security and Privacy\"\r\n*# Click \"Open Anyway\" button in the \"Allow apps downloaded from:\" section\r\n",
      "summary": "Bitbucket installer won't run on macOS 10.15+ (Catalina)"
    }
  },
  {
    "key": "BSERV-12252",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-27T04:45:21.000+0000",
      "created": "2020-03-20T15:34:27.000+0000",
      "description": "In Bitbucket 7.0.1\r\n\r\nwhen entering the diff view of a file with long lines, the viewer always word-wraps the lines. In some formatted files this is very undesirable (like XML files); I wish there was an option in the \"Diff View Settings\" to disable wordwrap in the diff view.\r\n\r\n\u00a0",
      "summary": "Disable wordwrap in Pull Request diff view"
    }
  },
  {
    "key": "BSERV-12251",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-01T05:52:48.000+0000",
      "created": "2020-03-20T08:58:17.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen searching pull requests using the REST API with a {{username}} filter, if a user's case-insensitive-but-case-preserving username in the database doesn't match the casing used in the query (e.g. username \"bbs6100\" in the database, and \"BbS6100\" used in the query), the query fails with a {{NullPointerException}}.\r\n\r\nh3. Steps to Reproduce\r\n# Create a user with a given name, like \"bbs6100\"\r\n# Search for pull requests using {{username.1=bbs6100}} (matching the database's casing):\r\n{noformat}\r\ncurl -u <admin_user:password> -X GET -H \"X-PrettyPrint:1\" -H \"Content-Type: application/json\" <Bitbucket_base_url>/rest/api/1.0/projects/PR2/repos/myrepotest/pull-requests?username.1=bbs6100\r\n{noformat}\r\nRetrieves pull requests successfully.\r\n{noformat}\r\n{\r\n  \"size\": 1,\r\n  \"limit\": 25,\r\n  \"isLastPage\": true,\r\n  \"values\": [\r\n    {\r\n      \"id\": 1,\r\n      \"version\": 1,\r\n      \"title\": \"first pull\",\r\n      \"description\": \"pr\",\r\n{noformat}\r\n# Search for pull requests using {{username.1=BbS6100}} (case mismatch):\r\n{noformat}\r\ncurl -u <admin_user:password> -X GET -H \"X-PrettyPrint:1\" -H \"Content-Type: application/json\" <Bitbucket_base_url>/rest/api/1.0/projects/PR2/repos/myrepotest/pull-requests?username.1=Bbs6100\r\n{noformat}\r\nThe request fails like this:\r\n{noformat}\r\n{\r\n  \"errors\": [\r\n    {\r\n      \"context\": null,\r\n      \"message\": \"An error occurred while processing the request. Check the server logs for more information.\",\r\n      \"exceptionName\": null\r\n    }\r\n  ]\r\n}\r\n{noformat}\r\n\r\nh3. Expected Results\r\n\r\nThe REST API {{rest/api/1.0/projects/PR2/repos/myrepotest/pull-requests?username.1=Bbs6100}} should work in a case-insensitive manner and both queries should return the same results.\r\n\r\nh3. Actual Results\r\n\r\nThe request fails with a {{NullPointerException}}, which is logged similar to the following in {{atlassian-bitbucket.log}}:\r\n{noformat}\r\n20-03-20 12:38:50,273 ERROR [http-nio-26100-exec-8] bbs6100 @Z10WHZx758x36x0 0:0:0:0:0:0:0:1 \"GET /rest/api/1.0/projects/PR2/repos/myrepotest/pull-requests HTTP/1.1\" c.a.s.i.r.e.DefaultUnhandledExceptionMapperHelper Unhandled exception while processing REST request: \"GET /rest/api/1.0/projects/PR2/repos/myrepotest/pull-requests HTTP/1.1\"\r\njava.lang.NullPointerException: user\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nEnsure the username used in the query matches the casing used in the database.",
      "summary": "Filtering pull requests by username through REST API fails if database/query username casing doesn't match"
    }
  },
  {
    "key": "BSERV-12250",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-22T22:32:05.000+0000",
      "created": "2020-03-19T17:52:41.000+0000",
      "description": "Git 2.26 includes a change to replace the existing {{git am}}-based backend (now referred to as the \"apply\" backend) for {{git rebase}} with a new \"merge\" backend (previously referred to as the \"interactive\" backend). This change affects the output of {{git rebase}} and breaks error handling in certain cases when used with Bitbucket Server.",
      "summary": "Add support for Git 2.26"
    }
  },
  {
    "key": "BSERV-12249",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-19T13:06:17.000+0000",
      "description": "*Issue Summary:*\r\n While configuring GIt for the first time, the user.name field is taken as full name. The user wants it to be configurable so that they can propose the username in bitbucket.\r\n\r\n*Steps to Reproduce*\r\n when you have an empty repository , Bitbucket is asking to run these commands in terminal\r\n git config --global user.name \"<FULL NAME>\"\r\n git config --global user.email \"<email id>\"\r\n\r\nUser wants the user.name value to be configurable rather than the full name\r\n\r\n*Actual Results*\r\n fixed values for user.name value\r\n\r\n*Workaround*\r\n Currently, we don't have a workaround to apply on this case.",
      "summary": "Make global user.name customisable "
    }
  },
  {
    "key": "BSERV-12248",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-03-19T06:30:16.000+0000",
      "description": "*Background*\r\n\r\nI want to integrate Bitbucket with Jenkins.\r\n\r\nI have made [plugin|https://github.com/jenkinsci/generic-webhook-trigger-plugin/]\u00a0that I want to use.\r\n\r\nThe plugin supports HMAC and IP filtering, to limit access to it.\r\n\r\n*Problem*\r\n\r\nMy current workplace has Bitbucket and Jenkins running on different networks with a proxy between. Jenkins will always see same IP from the proxy, so I cannot limit access to IP.\r\n\r\nTechnically, I could use HMAC. But the secret would have to be configured by a repo administrator, in each repo, and that \"secret\" is likely to not be a secret for long.\r\n\r\n*Proposed solution*\r\n\r\nI found this, listing different properties:\r\n\r\n[https://confluence.atlassian.com/bitbucketserver/bitbucket-server-config-properties-776640155.html]\r\n\r\nIf there was a property like\u00a0_plugin.webhooks.signature.secret_ that can be set to a global default secret. Used for signing any webhook unless a secret is given in that repo.\r\n\r\nWhat do you think?",
      "summary": "Feature request: plugin.webhooks.signature.secret"
    }
  },
  {
    "key": "BSERV-12247",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-04-01T05:52:58.000+0000",
      "created": "2020-03-18T21:54:01.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFor a repository where diff transcoding is enabled, subsequent attempts to save repository settings fail with an error indicating \"Diff transcoding could not be enabled. Check the logs for more details.\"\r\n\r\nh3. Steps to Reproduce\r\n # Enable diff transcoding. The first enable should work\r\n # Try to save repository settings a second time with diff transcoding still enabled\r\n\r\nh3. Expected Results\r\n\r\nRepository settings should save without errors. Since diff transcoding was already enabled, it should remain enabled.\r\n\r\nh3. Actual Results\r\n\r\nRepository settings are not saved, and an error is shown.\r\n\r\nAn exception similar to the following is shown in the log files:\r\n{noformat}\r\n2020-03-18 20:47:50,395 ERROR [http-nio-7990-exec-9] bturner *14EHASKx1247x30389x0 16o56n4 1.1.1.1 \"POST /projects/KEY/repos/slug/settings HTTP/1.1\" c.a.s.i.s.g.t.DefaultTranscodeService KEY/slug[1]: Diff transcoding could not be enabled\r\njava.nio.file.FileAlreadyExistsException: /path/to/bitbucket/home/shared/data/repositories/1/transcode.pl\r\n        at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)\r\n        at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n        at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\r\n        at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at java.base/java.nio.file.Files.copy(Files.java:3066)\r\n        at com.atlassian.stash.internal.scm.git.transcode.DefaultTranscodeService.enable(DefaultTranscodeService.java:204)\r\n        at com.atlassian.stash.internal.scm.git.transcode.DefaultTranscodeService.setEnabled(DefaultTranscodeService.java:99)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at com.atlassian.stash.internal.plugin.OsgiSafeProxyProvider$1.invoke(OsgiSafeProxyProvider.java:95)\r\n        at com.atlassian.stash.internal.scm.git.ui.TranscodeDiffsFormFragment.execute(TranscodeDiffsFormFragment.java:64)\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nDisable diff transcoding and save settings. Then reenable transcoding and save again.",
      "summary": "Saving repository settings with diff transcoding enabled fails saying diff transcoding can't be enabled"
    }
  },
  {
    "key": "BSERV-12246",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-24T03:13:35.000+0000",
      "created": "2020-03-18T21:40:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCreating a pull request with a Jira issue key at the end of the pull request title, the last characters following the Jira key disappear.\r\nh3. Steps to Reproduce\r\n # Create/update a pull request title with \"Don't hardcode ID value \\[BSERV-12246\\]\"\r\n\r\nh3. Expected Results\r\n\r\nIt would show the complete string\u00a0\"Don't hardcode ID value \\[BSERV-12246\\]\"\r\n\r\n\u00a0\r\nh3. Actual Results\r\n\r\nIt removes the character `]` after the Jira issue key like\u00a0\"Don't hardcode ID value [BSERV-12246\"\r\nh3. Workaround\r\n\r\nCurrently, we don't have a workaround to apply on this case.",
      "summary": "Last character of pull request title disappears if immediately preceded by a Jira issue key"
    }
  },
  {
    "key": "BSERV-12245",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-31T04:28:07.000+0000",
      "created": "2020-03-18T08:38:59.000+0000",
      "description": "{panel:title=Atlassian status as of Sep 2021|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nHi everyone,\r\n\r\nThank you for your feedback on this suggestion. From [Bitbucket 7.16|https://confluence.atlassian.com/bitbucketserver/bitbucket-data-center-and-server-7-16-release-notes-1081348350.html#BitbucketDataCenterandServer7.16releasenotes-whitespace] onwards you can view whitespace characters in both the unified and side-by-side diff. \r\n\r\nCheers,\r\n Imran Khan\r\n Product Manager - Bitbucket Server and Data Center\r\n{panel}\r\n*Original description:*\r\n\r\nHello,\r\n\r\nWith the release of 7.0, you can no longer show whitespace characters in Pull Request view. It is possible to show them BEFORE making a pull request.\r\n\r\n@mad from the Atlassian Team confirmed that this was removed. See post below:\r\n [https://community.atlassian.com/t5/Bitbucket-discussions/Bitbucket-7-Pull-Request-changes-no-longer-show-whitespace/m-p/1320132#M2586%3Futm_source=atlcomm&utm_medium=email&utm_campaign=mentions_reply&utm_content=topic]\r\n\r\nPlease bring this option back, as it is crucial in ensuring whitespace consistency.\r\n\r\nThank you.",
      "summary": "Bring back \"show whitespace characters\" in Pull Request view"
    }
  }
]