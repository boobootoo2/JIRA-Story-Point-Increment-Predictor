[
  {
    "key": "BSERV-12579",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-18T01:14:13.000+0000",
      "created": "2020-09-17T01:46:36.000+0000",
      "description": "Hello,\r\nWe have recently migrated from Gitlab Community Edition to Bitbucket Server.\r\n\r\nIn gitlab you can create subgroups of projects to delegate access to our developers and this is a very very important feature for our development teams.\r\n\r\nBitbucket Cloud has Team Workspaces feature enabled, please we need that feature enabled in Bitbucket Server asap.\r\n\r\nRegards,\r\n\r\nJos\u00e9 Sanmart\u00edn",
      "summary": "Bitbucket Server without Team Workspaces Feature"
    }
  },
  {
    "key": "BSERV-12577",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-15T08:19:06.000+0000",
      "description": "When deploying BBDC using the quickstart template, an ELB is created which utilizes \"ELBSecurityPolicy-2016-08\". This is a compatibility policy that still allows TLS 1.0 and 1.1 and a ton of ciphersuites that are less secure.\r\n\r\nFeature request / suggestion make this a selectable item during the quick-start/cloud formation phase as this TLS 1.0/1.1 stuff may clash with corporate secuirty policies; suggest to default to\u00a0ELBSecurityPolicy-TLS-1-2-2017-01 unless alternative is picked during the cloudformation phase. It is not difficult to manage or change manually afterwards but this is easily overlooked and assumed to be in order so making it a selectable or showing a clear warning during install will surely be an improvement.",
      "summary": "BBDC quickstart ELB default security policy (select or change default?)"
    }
  },
  {
    "key": "BSERV-12576",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-01-29T03:07:19.000+0000",
      "created": "2020-09-14T19:07:29.000+0000",
      "description": "When clicking \"show X hidden lines\" on a pull request diff page, the view will jump to the top of the file. This can be annoying when dealing with large files as the user will often get displaced when reviewing the diff.\r\n\r\nPreviously to Bitbucket Server 7.0, it would expand the diff 10 lines at a time so it wouldn't scroll as much. However the current behavior doesn't scale well to large files with diffs in the middle/end of the file.\r\n\r\nMy suggestion is to remove the scrolling altogether.",
      "summary": "Prevent scrolling to top when expanding diff context"
    }
  },
  {
    "key": "BSERV-12575",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-24T03:07:48.000+0000",
      "created": "2020-09-11T07:26:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using a nullish coalescing operator in JavaScript code, syntax highlighting can break.\r\n\r\nh3. Steps to Reproduce\r\nHave a nullish coalescing operator in your code, e.g.\r\n\r\n{code:javascript}\r\nconst BAR = 'bar'\r\nconst foobar = `${foo ?? 'vf'}`;\r\n// after the nullish coalescing operator the highlighting breaks\r\n{code}\r\n\r\nh3. Expected Results\r\nHighlighting doesn't break\r\n!https://www.dropbox.com/s/hspsavnukt54o80/2020-09-11_17-23-04.png?dl=1!\r\n\r\nh3. Actual Results\r\nHighlighting breaks\r\n!https://www.dropbox.com/s/gsqpqnxrszjbsro/2020-09-11_17-24-13.png?dl=1!\r\n\r\nThis has been [fixed in CodeMirror|https://github.com/codemirror/CodeMirror/issues/6394] and should be released in its next release (5.58).\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "JavaScript highlighting can break when the nullish coalescing operator is used"
    }
  },
  {
    "key": "BSERV-12574",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-11T00:08:04.000+0000",
      "created": "2020-09-10T13:54:32.000+0000",
      "description": "Sometimes when a team member is away and has a lot of branches that need to be PR'd we create the PR and then review it ourselves.\r\n\r\nIt would be really helpful if we could change the PR author to be that team member who is away, rather than the user creating the PR. This would then mean that when the user approves the PR that approval actually shows on the PR list...rather than being hidden (since approvals made by PR author don't show on the PR list).",
      "summary": "Allow edit of the pull request (PR) author"
    }
  },
  {
    "key": "BSERV-12573",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-10T13:14:46.000+0000",
      "created": "2020-09-10T13:12:02.000+0000",
      "description": "When attempting to create a custom plugin, the following errors aree shown:\r\n \u00a0\r\n{code:java}\r\nThe following artifacts could not be resolved: colt:colt-without-hep:jar:1.2.0-atlassian-2, com.boilerbay:infinitydb:jar:3.0-atlassian-hosted\r\n{code}\r\nThis error surfaces when attempting to create a custom plugin in Fisheye 4.8.x version. Previous Fisheye versions does not have issues to create custom plugins.",
      "summary": "Cannot create custom Plugins on Fisheye 4.8.0+"
    }
  },
  {
    "key": "BSERV-12572",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-10T10:51:25.000+0000",
      "description": "We are using Code Insights annotations with BB server 7.4 and not all annotations are displayed in Quality reports page.\r\n\r\nIt seems that annotations that are not on lines changed in PR are not displayed.\r\n\r\nIt works well in diff view.\r\nIn such case one has to disable {{Changed lines only}}\u00a0checkbox.\r\n\r\nIt will be great if all annotations were displayed on Quality reports page.\r\nIf this is not acceptable/wanted by default, then it should at least honor {{Changed lines only}} setting.",
      "summary": "Show all annotations in Quality reports"
    }
  },
  {
    "key": "BSERV-12571",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-10T08:56:41.000+0000",
      "description": "h2. Current State\r\n\r\nIn *SSH access keys for system use* in Bitbucket Server 5.16--7.5, the model currently forces users to trade off either usability or security.\r\n\r\n* If users use individual SSH keys for each server (_proper security_), they will have to add the new SSH key every for every new server they take to use in _Continuous Integration_ (CI).\r\n* Users can share a private SSH key between several machines, to reduce the configuration. However, if a person leaves the company who had access the shared SSH key, in this case the team has to renew and reconfigure the key\r\n\r\nh2. Target State\r\n\r\nSSH access keys can be configured in a similar way to:\r\n* group has access to repository\r\n* group has some ssh keys\r\n\r\nh3. Individual Points\r\n\r\n# Find or create directory entries so that computers and SSH keys can be represented to a sufficient degree, publish what will be used.\r\n# Add support to UI to configure this information on the internal directory, if used\r\n# Add support to Crowd to configure this information\r\n# Read the same information from _Active Directory_\r\n",
      "summary": "SSH access keys via groups"
    }
  },
  {
    "key": "BSERV-12570",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-04T06:04:19.000+0000",
      "created": "2020-09-10T02:59:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCloning LFS repos from a mirror farm with more than one node fails.\r\n\r\nIf the mirror farm only has one node, there is no issue and the\u00a0repo is cloned successfully with the LFS files.\r\nh3. Steps to Reproduce\r\n # Set up a mirror farm with at least 2 nodes\r\n # Set up repo with LFS\r\n # Add the project containing the repo to the list of mirrored projects\r\n # Clone the LFS repo from the mirror farm\r\n\r\nh3. Expected Results\r\n\r\nLFS repo is cloned successfully.\r\nh3. Actual Results\r\n\r\nCloning the repo fails.\r\n\r\nAn \"{{Authentication required: Authorization error}}\" is returned.\r\n e.g.\r\n{code:java}\r\nError downloading object: Cute-Animals-that-Are-Not-Pets-812x464.jpg (8033694): Smudge error: Error downloading Cute-Animals-that-Are-Not-Pets-812x464.jpg (8033694255cebd1948f815f199d0091d2ea9804c6db9eea8f9043a2d037fb52e): Authentication required: Authorization error: https://bbmirrorfarm2:8443/rest/git-lfs/storage/BITBUCKETDC2/DC4LFS/dc-lfs-repo1/8033694255cebd1948f815f199d0091d2ea9804c6db9eea8f9043a2d037fb52e\r\nCheck that you have proper access to the repository\r\n{code}\r\nThe following message is logged in {{atlassian-bitbucket.log}}:\r\n{noformat}\r\n2020-09-10 00:09:18,327 WARN  [http-nio-7990-exec-6] *1UUSRYCx9x1195x0 10.255.0.1,10.255.2.3 \"POST /scm/bitbucketdc2/dc4lfs/dc-lfs-repo1.git/info/lfs/objects/batch HTTP/1.1\" c.a.j.i.s.DefaultAuthenticationResultHandler Signature mismatch during JWT authentication, issuer: com.atlassian.bitbucket.server.bitbucket-git-lfs\r\ncom.atlassian.jwt.exception.JwtSignatureMismatchException: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwicmVwbyI6MTIsImlzcyI6ImNvbS5hdGxhc3NpYW4uYml0YnVja2V0LnNlcnZlci5iaXRidWNrZXQtZ2l0LWxmcyIsImNvbnRleHQiOnsidXNlciI6eyJoaWdoZXN0UGVybWlzc2lvbiI6IlNZU19BRE1JTiIsImRpc3BsYXlOYW1lIjoiQWRtaW4iLCJzbHVnIjoiYWRtaW4iLCJ1c2VyS2V5IjoiMSIsInVzZXJuYW1lIjoiYWRtaW4ifX0sImV4cCI6MTU5OTY5Njg1OCwiaWF0IjoxNTk5Njk2NTU4fQ.b2hGyy1RF1tee3X5zXdwelQfqHlXlyR18pCXsAhBvlE\r\n\tat com.atlassian.jwt.core.reader.NimbusJwtReader.verify(NimbusJwtReader.java:164)\r\n\tat com.atlassian.jwt.core.reader.NimbusJwtReader.read(NimbusJwtReader.java:74)\r\n\tat com.atlassian.jwt.core.reader.NimbusJwtReader.readAndVerify(NimbusJwtReader.java:57)\r\n\tat com.atlassian.jwt.internal.DefaultJwtService.verifyJwt(DefaultJwtService.java:49)\r\n\tat com.atlassian.jwt.internal.sal.JwtAuthenticatorImpl.verifyJwt(JwtAuthenticatorImpl.java:62)\r\n\tat com.atlassian.jwt.core.http.auth.AbstractJwtAuthenticator.verifyJwt(AbstractJwtAuthenticator.java:118)\r\n\tat com.atlassian.jwt.core.http.auth.AbstractJwtAuthenticator.authenticate(AbstractJwtAuthenticator.java:71)\r\n\tat com.atlassian.jwt.internal.sal.JwtAuthenticatorImpl.authenticate(JwtAuthenticatorImpl.java:30)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.mayProceed(JwtAuthFilter.java:79)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:35)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:87)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\t... 68 frames trimmed\r\n{noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior.\r\n A workaround will be added here when available",
      "summary": "Cloning LFS repos from multi-node mirror farm fails"
    }
  },
  {
    "key": "BSERV-12569",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-22T22:57:01.000+0000",
      "created": "2020-09-10T02:46:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nClick on \"Clone\" button for a repository, select SSH, and then pick a mirror from the list. The SSH clone URL is incomplete i.e. has just the path to the repository but no server name.\r\n\r\n\r\nh3. Steps to Reproduce\r\n# Setup a Bitbucket Data Center\r\n# Setup a mirror farm and authorize it against the Data Center in Step 1\r\n# Mirror project(s) from upstream to the mirror farm\r\n# Go to repository page on upstream\r\n# Click Clone\r\n# Select SSH\r\n# Pick the mirror farm name from the list\r\n\r\nh3. Expected Results\r\nComplete/valid Mirror farm SSH URL is available to clone from.\r\n\r\nh3. Actual Results\r\nOnly partial URL is shown/available, for example: {{/kplaha-dc/pmax-1/my_test.git}}\r\nFull JSON from HAR output:\r\n{code:json}\r\n{available: true, links: {clone: [{href: \"/kplaha-dc/pmax-1/my_test.git\", name: \"ssh\"},\u2026],\u2026},\u2026}\r\navailable: true\r\nlinks: {clone: [{href: \"/kplaha-dc/pmax-1/my_test.git\", name: \"ssh\"},\u2026],\u2026}\r\nclone: [{href: \"/kplaha-dc/pmax-1/my_test.git\", name: \"ssh\"},\u2026]\r\n0: {href: \"/kplaha-dc/pmax-1/my_test.git\", name: \"ssh\"}\r\nhref: \"/kplaha-dc/pmax-1/my_test.git\"\r\nname: \"ssh\"\r\n1: {href: \"https://kplaha-mf.instenv.internal.atlassian.com/scm/kplaha-dc/pmax-1/my_test.git\",\u2026}\r\nhref: \"https://kplaha-mf.instenv.internal.atlassian.com/scm/kplaha-dc/pmax-1/my_test.git\"\r\nname: \"http\"\r\npush: [{href: \"/kplaha-dc/pmax-1/my_test.git\", name: \"ssh\"},\u2026]\r\nmirrorName: \"UC4 Mirror Farm\"\r\nrepositoryId: \"23714\"\r\nstatus: \"AVAILABLE\"\r\nupdatedDate: 1599703688065\r\n{code}\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Clone URL for SSH off a mirror farm is incomplete/incorrect"
    }
  },
  {
    "key": "BSERV-12568",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-10T00:47:09.000+0000",
      "description": "h3. Issue Summary\r\n\r\nGit creates loose objects and pack files on Windows with the read-only flag set. As Bitbucket Server has migrated from Java's {{File}} API (which clears the read-only flag in {{delete()}}) to {{Path}}, many different codepaths can now fail to delete files. The majority of these {{File}} to {{Path}} changes shipped in _Bitbucket Server 6.4.0._\r\n\r\nThese failures typically do not cause the overall operation to fail. Instead, the most common side effect is that the failure leaves temporary files behind that should have been cleaned up. These can eventually accumulate to a point where they take a considerable amount of disk space, and will only ever be removed if done so manually by an admin.\r\n\r\nh3. Steps to Reproduce\r\n\r\nSome examples of codepaths affected (or potentially affected) by this issue:\r\n# Deleting a repository\r\n#* This is probably the most severe case, as it doesn't \"just\" leak temporary files; instead, it can leave \"deleted\" repository contents on disk forever\r\n# Editing files via the browser\r\n# Merging a pull request\r\n# Rebasing a pull request\r\n\r\nh3. Expected Results\r\n\r\n* Operations that produce temporary files should correctly clean up after themselves without requiring administrator intervention\r\n* Repositories should be deleted from disk when they're removed from the system\r\n\r\nh3. Actual Results\r\n\r\n_In some cases_, files may be \"leaked\".\r\n\r\n* For repository deletion, this will produce errors in the logs with messages like \"The following repository directory could not be deleted\"\r\n* For temporary files, generally there is _no logging_ to indicate deletion was unsuccessful; the failure is silently ignored\r\n\r\nh3. Workaround\r\n\r\nManually delete files from disk. The most common location for such files is {{%BITBUCKET_HOME%\\tmp}}.",
      "summary": "Deleting repository data (including temporary data) can fail on Windows"
    }
  },
  {
    "key": "BSERV-12567",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-22T05:58:42.000+0000",
      "created": "2020-09-09T13:06:59.000+0000",
      "description": "h3. Issue Summary\r\nThe pull request reviewer state for hidden reviewers does not show any state although the reviewers had either approve or decline(need work) the pull request.\r\n\r\nh3. Steps to Reproduce\r\n # Add five users with ADMIN permission to a repository. \r\n # Create a pull request and add the related users as the pull reviewers.\r\n# Ask all the reviewers to either approve or decline the pull request.\r\n# Access the pull request and check the reviewers state.\r\n\r\nh3. Expected Results\r\nAs seen in the Bitbucket v7.3.1:\r\n !PRRevState-731.png|thumbnail! \r\n\r\nh3. Actual Results\r\n !PRRevState-751.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Hidden pull request reviewers state does not show the state"
    }
  },
  {
    "key": "BSERV-12566",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-08T09:34:54.000+0000",
      "description": "We faced an issue that (due to, we suspect, external corruption) 1 particular repository was impossible to clone to a client machine.\r\n\r\nWhen cloning we'd see (repeatable) these kind of outputs from GIT:\r\n\r\nremote: Compressing objects:\u00a0 97% (1001/1025)\u00a0 \u00a0 \u00a0 \u00a0\r\nremote: warning: suboptimal pack - out of memory\u00a0 \u00a0 \u00a0 \u00a0\r\n*16:53:17*\u00a0 remote:\r\nremote:\r\nremote: Compressing objects:\u00a0 97% (1002/1025)\r\nremote: fatal: Out of memory, malloc failed (tried to allocate 78495348 bytes)\u00a0 \u00a0 \u00a0 \u00a0\r\n*16:53:17*\u00a0 remote: aborting due to possible repository corruption on the remote side.\r\n*16:53:17*\u00a0 fatal: protocol error: bad pack header\r\n\r\n\r\nSolutions from ATL (via link in log analysis thourgh BB\u00a0 UI) for this particular issue pointed to shutting down the instance, doing an fsck, etc... but this all seemed a bit impacting for our entire userbase as this was the only repo with the reported issues.\r\n\r\nAlthernate suggestion here would be to modify the repo config file and set Pack & memory limits...\r\n\r\nWe executed these procedures against a restored backup (a few hours old) and this didn't give us much insight regarding errors detected or actions taken on the data - only a duration.\r\n\r\nSince we couldn't be sure that this procedure would work based on inconclusive test and to prevent burdening other customers we ultimately had the customer re-upload the particular repo and this worked fine again.\r\n\r\nWe would like to have a solution to isolate and perform maintenance on a particular, single repo without impacting the entire instance; the maintenance i envision as:\r\n * hard-reverting a repo back to a point in time via the UI; similar to \"windows system restore\" for example.\r\n * putting a repo in a temporary quarantine/read-only maintenance state\r\n * viewing/editing of\u00a0\u00a0/media/atl/bitbucket/shared/data/repositories/###/config files via UI",
      "summary": "Ability to isolate/perform maintenance on a single repo without impact on the instance"
    }
  },
  {
    "key": "BSERV-12565",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-08T09:22:36.000+0000",
      "description": "As you may know, we're having storage issues with the 8GB default Node disk (also see SCALE-23); a very high frequency of requests coming into the nodes leads access logs to grow extremely fast.\r\n\r\nWhile checking through the settings in /opt/atlassian/bitbucket/current/app/WEB-INF/classes/logback.xml it seems to me the defaults do not facilitate this and would lead to a node filling up and failing. As default settings seems to 30 days, 10 files of 25 MB each day means there is nowhere near sufficient space available so by default there is a requirement to tweak these config files.\u00a0\r\n\r\nAlthough tuning thelogback.xml\u00a0 settings is possible, these tweaks disappear as this file is transient in nature (= upon instance termination it goes back to default on a newly spun node).\r\n\r\nI'd like to propose that storing log- (and maybe other settings?) related configuration to be stored on the SHARED fileserver so that settings persist through node terminiations/recreations.\r\n\r\nNote: This is somewhat related to SCALE-22 actually as this also requests to make nodes more ''termination resistant' ...",
      "summary": "Make BB Node configuration resistant to Node Termination by storing it on the shared fileserver"
    }
  },
  {
    "key": "BSERV-12564",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-03T12:33:51.000+0000",
      "description": "Presently there is a way to set expiry for Personal access tokens however when they are about to expire there is no notification sent to the User.\r\n\r\nIt would be good if the Users are notified by Email a week before or few days before when the token is about to expire.\r\n\r\nAn option to notify the user will be helpful.",
      "summary": "Request for Personal Access token Expiry Notification"
    }
  },
  {
    "key": "BSERV-12563",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-03T12:13:55.000+0000",
      "description": "Currently, the SSH keys added doesn't have any expiry policy it would be good if we can set an expiry time for the SSH Keys like we have for Personal Access Tokens.\r\n\r\nThe administrator should be able to set an expiry time for the SSH keys.",
      "summary": "SSH Keys expiry Policy"
    }
  },
  {
    "key": "BSERV-12562",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-11T00:48:08.000+0000",
      "created": "2020-09-02T05:59:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nViewing the diff of a text file that also contains a {{NULL}} byte can fail.\r\nh3. Steps to Reproduce\r\n # Create a text file and commit it\r\n  {code:java}\r\nprintf '0%.0s' {1..8200} > file && git add file && git commit -m'Committed file'{code}\r\n # Add a {{NULL}} byte after 8200 bytes somewhere in the file and commit\r\n  {code:java}\r\nprintf '\\0' >> file && git commit -am'Added NULL byte'{code}\r\n # Push to Bitbucket\r\n # View the diff of the commit\r\n\r\nh3. Expected Results\r\n\r\nThe diff is displayed correctly\r\nh3. Actual Results\r\n\r\nAbout 50% of the time, the diff of the file is not shown and a spinner is displayed indefinitely.\r\n\r\nThe below message is logged in the atlassian-bitbucket.log file (with debug logging enabled):\r\n{noformat}\r\n2020-09-02 15:54:33,048 DEBUG [http-nio-7990-exec-3] admin @R62JNHx954x834x1 1rqr69w 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJECT_1/repos/test/commits/d05b6df9815f3125192b9c5cdc344d7c04ac5ace/diff/file HTTP/1.1\" c.a.b.i.p.nu.NioNuProcessHandler [/usr/local/bin/git diff -C --color=never -U10 --dst-prefix=dst:// --src-prefix=src:// a270f5e93c74d1389ef5483e0fb6ccd5cd319e94 d05b6df9815f3125192b9c5cdc344d7c04ac5ace -- file]: Dropping callback invocation (Canceled: true; Timed out: false)\r\n{noformat}\r\nThe above message does not necessarily always indicate a problem and can occur during normal operation, such as when a diff is truncated intentionally. It is just a symptom of this bug.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Viewing the diff of text file containing some NULL bytes causes an empty diff to be returned"
    }
  },
  {
    "key": "BSERV-12561",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-09-01T17:36:30.000+0000",
      "description": "Some Customers may have the same commit being authored by several different developers, due to pair-programming or parallel development.\r\n\r\nIn those cases, it would be good to have the UI to show the Co-author, with the list of all developers that have acted on the commit.\r\n\r\nRight now, when doing amend on a commit, it will add the user that performed the amend as Co-author and show on the UI, but when there is a rebase done on the commit, the UI loses the reference and the Co-author change and show only with a description reference.\r\n\r\nWould be possible to change the logic so the UI will keep the Co-authors showing on the UI even after the rebase?\r\nOr implement a feature that makes it easier to add Multiple Co-authors, that show similar to when a amend is done?",
      "summary": "Having Multiple Co-author on a commit, showing on the UI"
    }
  },
  {
    "key": "BSERV-12560",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-03T01:09:16.000+0000",
      "created": "2020-09-01T12:47:12.000+0000",
      "description": "Now that I am on a team that works across several repositories and submodules for each issue, I find that using the web UI does not always let me know which repository I am acting against.\u00a0 Especially if two branches for the same issue have the same name in separate repositories.\u00a0 \u00a0Please show the repo name on ALL screens and pop-ups.\u00a0 Or at least when you drop down the \"Repositories\" drop down, show the current repo ahead of the \"recently viewed\", that should be easy enough.\u00a0 Thanks, Jon.\u00a0",
      "summary": "please show repository name on all screens, e.g., pull req, etc"
    }
  },
  {
    "key": "BSERV-12559",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-13T04:03:20.000+0000",
      "created": "2020-09-01T09:34:03.000+0000",
      "description": "h3. Problem\r\n\r\nWhen a branch (with deletion prevention permission) gets merged into another branch - after some other branch has been merged with the \"delete source branch after merging\"-flag being set before - then an error (You cannot delete the branch. Please update the Branch Permissions or contact your project or repository administrator.) is being shown as if the delete-flag would have been set (but is not visible on the confirmation dialog) for the current branch to be merged.\r\n\r\n\r\nh3. Environment\r\n\r\nBitbucket Version 7.1.2\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Set a branch for example develop branch to do not delete on repository branch settings\r\n# Create and merge a pull request to the develop branch set \"Delete source branch after merging\" in the pop up the source branch gets deleted as expected and the changes gets merged to develop.\r\n# Now create a pull request to merge Develop branch to master and the \"Delete source branch after merging\" option is greyed out since delete prevention is enabled on branch settings.\r\n# However when you merge the pull request it tries to delete the develop branch and throws an error as shown in the screen shot.\r\n\r\nh3. Expected Results\r\nShould get merges without any error\r\n\r\nh3. Actual Results\r\nA pop up error occurs saying (You cannot delete the branch. Please update the Branch Permissions or contact your project or repository administrator.)\r\n\r\nh3. Workaround\r\nNo workaround possibly the previous set value is saved on browser storage\r\n\r\nh3. Notes\r\nThe same issue doesn't  occur on Bitbucket 7.4+ versions, tested on 7.4 and 7.5 works without any issues.",
      "summary": "Pull request Merge tries to delete the Branch set to \"Do not delete\" on repo branch settings"
    }
  },
  {
    "key": "BSERV-12558",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-02T00:15:11.000+0000",
      "created": "2020-09-01T07:24:09.000+0000",
      "description": "h3. Problem\r\n\r\nIf the URL(td://prozessstra) is used in a Commit-Message or in the Description of a Pull Request  the \"Overview\" tab of the PR shows a yellow triangle and suggests reloading however reload doesn't fix the issue.\r\n\r\nh3. Environment\r\n\r\nBitbucket version 7.1.2\r\n.\r\n\r\nh3. Steps to Reproduce\r\n\r\nCreate a pull request and try to add td://prozessstra to the description and save it. The overview page doesn't show the pull request and shows a warning.\r\n\r\n\r\nh3. Expected Results\r\nThe pull request created should be shown\r\n\r\nh3. Actual Results\r\nA warning is shown and asks to reload the page however reload doesn't show the pull request either.\r\n\r\nh3. Workaround\r\nadd the url within backtick `td://prozessstra`\r\n\r\nh3. Notes\r\n\r\nTested the same on Bitbucket 7.4 and 7.5 the issue no longer exists.",
      "summary": "Pull request Overview page shows warning when the description starts with td://"
    }
  },
  {
    "key": "BSERV-12557",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-02-19T01:13:12.000+0000",
      "created": "2020-09-01T06:59:33.000+0000",
      "description": "h3. Issue Summary\r\nOpening the pull request inbox on the pull request page hides my reviewer avatar\r\n\r\nh3. Steps to Reproduce\r\n # Go to a pull request that you're a reviewer on\r\n # Open the pull request inbox\r\n\r\nh3. Expected Results\r\nMy reviewer avatar remains where it is\r\n\r\nh3. Actual Results\r\nMy reviewer avatar is hidden\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior.",
      "summary": "Opening the pull request inbox on the pull request page hides my reviewer avatar"
    }
  },
  {
    "key": "BSERV-12556",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-31T14:59:18.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen you have a folder names with an At Symbol (@), clicking the first level of such a named folder does not properly URL encode the folder name as \"%40\"\r\nh3. Steps to Reproduce\r\n # Deploy the latest Bitbucket Server code base\r\n # Create a Repo with multiple levels of folders names with the At symbols, such as the scructure: @dir1/@dir2/@dir3\r\n # Make sure to place a file into each of the folder levels so that you can navigate to each specific level in the UI.\r\n # Push the repo to the Bitbucket server\r\n # Navigate in the Bitbucket UI to the new repo.\r\n # Click the @dir1 folder name, and check the URL on the Location bar. It should still contain the explicit '@' symbol, rather than it being URL encode to \"%40\"\r\n # Next click @dir2, and you should see that now both @dir1 and @dir2 appear in the URL as \"%40dir1/%40dir2\", properly URL encoded.\r\n # Clicking @dir3 will also have the same correct result.\r\n # Next, navitgate back to the top level of the repo, using the link for the repo name at the top of the page.\r\n # Finally, click the @dir1 link again, and you will once again see the incorrectly encoded URL with @dir1, rather than \"%40dir1\".\r\n\r\nDetails of this are visible in the attached .MOV file.\r\nh3. Expected Results\r\n\r\nAll At symbols (@) in the right hand side of a URL should be encoded as \"%40\" at all times. Not just after there are 2 such references to the resource portion of the URL.\r\nh3. Actual Results\r\n\r\nFirst directory click makes the Location: [http://127.0.0.1:8080/projects/REID/repos/at-testing/browse/@dir1]\r\n\r\nIf this is copy-pasted elsewhere, it does not parse correctly and a 404 or error is returned to the referrer.\r\nh3. Workaround\r\n\r\nThe user much know that the URL is invalid and has to be manually encoded properly, if they harvest the presented URL from the system.",
      "summary": "\"At\" symbol (@) URL encoding is inconsistent when navigating a directory structure"
    }
  },
  {
    "key": "BSERV-12555",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-31T07:43:16.000+0000",
      "description": "Currently, the access via SSH access path is not prevented in case of multiple failed logins (e.g. wrong private key).\r\nIs it possible to ban access attempts via SSH or to block the affected users if there are too many failed login attempts?",
      "summary": "Block SSH access for an User incase of Multiple failed attempts via SSH keys"
    }
  },
  {
    "key": "BSERV-12554",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-28T14:00:53.000+0000",
      "description": "Liking lots of the improved audit logging recently made available in Bitbucket (logging to file, more control over what's logged, UI improvements etc), however one frustration is with the \"End user activity\" levels.\r\n\r\nReferring to\u00a0[https://confluence.atlassian.com/bitbucketserver/audit-log-events-in-bitbucket-776640423.html]\u00a0(and testing in our environment)\r\n\r\nThe \"Base\" level for End User activity includes \"Repository accessed by user\" events. This accounts for 80% of our overall logged events, and while it might be considered an audit event for high compliance verticals, it's a traffic event for us (not an audit event) and just spews noise in to our audit logs. I reviewed the levels/parameters in the hopes of turning this event type off, but the only way of doing that is to change \"End User activity\" to Off, where ideally, we'd like to get the events logged under \"End User Activity\" Advanced (watchers changed/branches deleted etc), but changing to Advanced would just add these events on top of Base (Repo access).\r\n\r\nWondering if there's any way/plans to allow us to control exactly which events we'd like logged, either via the UI or bitbucket.properties options so we can better balance the signal/noise ratio?",
      "summary": "Audit logging verbosity"
    }
  },
  {
    "key": "BSERV-12553",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-30T23:04:40.000+0000",
      "created": "2020-08-28T11:17:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDefault reviewer allowing duplicate entries of a same user to the same Source and Target Branch\r\n\r\nh3. Steps to Reproduce\r\n # Add a User as the default reviewer for a Source and a target branch and save it \r\n # Then again try to add the same user for the same source branch and target branch, its getting saved as a duplicate and this can be done any number of times.\r\n\r\n\r\nh3. Expected Results\r\n\r\n# From my understanding I don't think there is any point in allowing the Duplicate entry, please correct me if I am wrong\r\n\r\nh3. Actual Results\r\n\r\nThe User can be saved multiple times as a default reviewer for the same Source and Target Branch\r\n !Default Reviewer.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nThe workaround is to not add duplicate entries\r\n\r\n",
      "summary": "Default reviewer allowing duplicate entries of a same user to the same Source and Target Branch"
    }
  },
  {
    "key": "BSERV-12552",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-28T10:30:51.000+0000",
      "description": "The following article [Scaling Bitbucket Server for Continuous Integration performance|https://confluence.atlassian.com/bitbucketserver/scaling-bitbucket-server-for-continuous-integration-performance-776640088.html] is no longer applicable for version of Bitbucket 7.4+, where ref advertisement caching is no longer available, and\u00a0 the new scm-cache has been implemented.\r\n\r\nThe article needs to be updated for such versions according to the new [Scaling Bitbucket Server|https://confluence.atlassian.com/bitbucketserver/scaling-bitbucket-server-776640073.html], or a disclaimer box added to mention the validity of the article for versions < 7.3",
      "summary": "Documentation on scaling Bitbucket Server for CI integration needs to be updated to reflect post BB 7 changes"
    }
  },
  {
    "key": "BSERV-12551",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-28T02:57:27.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently in Bitbucket, there is no way to configure secure administrator sessions (websudo) like in Jira and Confluence to require administrators to reinput their password when accessing the administrator configuration which creates a temporary secure session. Example:\r\n* [Jira: Configuring secure administrator sessions|https://confluence.atlassian.com/adminjiraserver/configuring-secure-administrator-sessions-938847890.html]\r\n\r\nh3. Suggested Solution\r\nSecure admin session implementation like Jira and Confluence.\r\n\r\nh3. Workaround\r\nNone",
      "summary": "Implement secure administrator sessions (websudo) in Bitbucket"
    }
  },
  {
    "key": "BSERV-12550",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-26T12:08:17.000+0000",
      "description": "Right now, when a Git LFS file is locked on the UI by any user, no notifications are sent. As an admin, the prospect of the repository participants getting notified whenever there is a lock applied would make it easier to track and audit these events. ",
      "summary": "Enable notifications when a Git LFS file is locked"
    }
  },
  {
    "key": "BSERV-12549",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-09T07:20:47.000+0000",
      "created": "2020-08-25T08:58:56.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPushing large files through http(s) results in remote hang up unexpectedly. A reverse proxy is present with correct limits such as {{\"client_max_body_size\" = 1024m}}\r\nh3. Steps to Reproduce\r\n # Using reverse proxy (nginx) - set {{client_body_max_size 1024M}}\r\n # Push a file larger than 2MB to Bitbucket Server\r\n\r\nh3. Expected Results\r\n\r\nPush succeeds\r\nh3. Actual Results\r\n\r\nPush fails with client side exception:\r\n{noformat}\r\nPOST git-receive-pack (2535946 bytes)\r\nfatal: the remote end hung up unexpectedly\r\nfatal: the remote end hung up unexpectedly\r\n{noformat}\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\n2020-08-18 12:44:33,735 DEBUG [http-scmrequest-handler:thread-8] *user* *sessionID*  \"POST /scm/project/repo.git/git-receive-pack HTTP/1.0\" c.a.b.i.p.nu.NioNuProcessHandler [/usr/bin/git -c core.hooksPath=hooks http-backend]: Dropping callback invocation (Canceled: false; Timed out: false)\r\njava.io.UncheckedIOException: java.net.SocketTimeoutException\r\n\tat com.atlassian.stash.internal.scm.git.protocol.http.CgiStdinHandler.onStdinReady(CgiStdinHandler.java:111)\r\n\tat com.atlassian.bitbucket.internal.process.CompositeNioStdioHandler.onStdinReady(CompositeNioStdioHandler.java:156)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.lambda$onStdinReady$1(NioNuProcessHandler.java:170)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.invokeCallback(NioNuProcessHandler.java:379)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onStdinReady(NioNuProcessHandler.java:165)\r\n\tat com.zaxxer.nuprocess.internal.BasePosixProcess.writeStdin(BasePosixProcess.java:490)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.process(ProcessEpoll.java:251)\r\n\tat com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.run(ProcessEpoll.java:188)\r\n\tat com.zaxxer.nuprocess.linux.LinuxProcess.run(LinuxProcess.java:114)\r\n\tat com.zaxxer.nuprocess.linux.LinProcessFactory.runProcess(LinProcessFactory.java:50)\r\n\tat com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75)\r\n\tat com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52)\r\n\tat com.atlassian.stash.internal.scm.git.protocol.http.GitSmartRequest.handleRequest(GitSmartRequest.java:81)\r\n\tat com.atlassian.stash.internal.scm.git.protocol.http.GitSmartWriteRequest.handleRequest(GitSmartWriteRequest.java:36)\r\n\tat com.atlassian.stash.internal.scm.git.protocol.http.HttpReceivePack.handleRequest(HttpReceivePack.java:57)\r\n\tat com.atlassian.stash.internal.scm.ThrottledScmRequestFactory$AbstractThrottledScmRequest.handleRequest(ThrottledScmRequestFactory.java:62)\r\n\tat com.atlassian.stash.internal.scm.DefaultHttpScmRequestExecutor.runSync(DefaultHttpScmRequestExecutor.java:172)\r\n\tat com.atlassian.stash.internal.scm.DefaultHttpScmRequestExecutor.access$200(DefaultHttpScmRequestExecutor.java:47)\r\n\tat com.atlassian.stash.internal.scm.DefaultHttpScmRequestExecutor$ScmAsyncRequest.run(DefaultHttpScmRequestExecutor.java:356)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.lambda$wrapForAsync$0(DefaultRequestManager.java:157)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 1 frame trimmed\r\nCaused by: java.net.SocketTimeoutException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$Poller.timeout(NioEndpoint.java:974)\r\n\t... 2 common frames omitted\r\n{noformat}\r\nh3. Workaround\r\n\r\n# Use ssh\u00a0 or, \r\n# Setting either:\r\n {{plugin.bitbucket-git.hosting.nio.http=false}}\r\n or\r\n {{http.scmrequest.async.enabled=false}}\r\nin {{bitbucket.properties}} allows the push to complete.",
      "summary": "Pushing files  larger than 2 MB  through http(s) fails"
    }
  },
  {
    "key": "BSERV-12548",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-25T08:38:55.000+0000",
      "description": "Please implement the Mermaid JS extension for the Markdown renderer.\r\n\r\nsee https://jira.atlassian.com/browse/BCLOUD-18559\r\nsee https://marketplace.atlassian.com/apps/1214124/mermaid-plugin-for-confluence?hosting=server&tab=overview\r\n\r\nhttps://github.com/mermaid-js/mermaid",
      "summary": "Mermaid extension for Markdown Renderer"
    }
  },
  {
    "key": "BSERV-12547",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-24T09:13:53.000+0000",
      "description": "Bitbucket should have support to SSH Keys certificate auth.\r\n\r\nSSH [has a specification|https://cvsweb.openbsd.org/src/usr.bin/ssh/PROTOCOL.certkeys?annotate=HEAD]\u00a0that defines support for SSH certificates. \r\n SSH certificates allow one SSH key to sign another SSH key, resulting in an \u201cSSH certificate\u201d. A server that trusts the CA is able to verify the certificate\u2019s signature and trust the certificate and its associated metadata.\r\n\r\nAfter signed server keys are updated by bitbucket admin, users do not need to update their local ssh keystore\r\n\r\nFor reference [https://ibug.io/blog/2019/12/manage-servers-with-ssh-ca/]",
      "summary": "Support SSH Certificate Authentication"
    }
  },
  {
    "key": "BSERV-12546",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-24T00:08:22.000+0000",
      "created": "2020-08-21T09:45:02.000+0000",
      "description": "Currently in Bitbucket Server default reviewers can be configured on a per-repository basis. This is fine for many use cases, however in some instances certain parts of the code (identified by the path in which it resides within the repo) needs to be reviewed by a different set of reviewers (which may or may not be part of the default reviewers for the repo). \r\n\r\nAs an administrator I would like to be able to define that any changes to files within a certain path of the repo require a specific set of default reviewers when the pull request is opened.",
      "summary": "As an administrator I want to be able to configure per-path pull request reviewers"
    }
  },
  {
    "key": "BSERV-12544",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-20T20:13:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen adding encoded character to a Bitbucket URL the application throws an throws uncaught 400 bad request exception back to the user instead of treating the error in an error page, such as it does when a 404 not found error happens.\r\n\r\nh3. Steps to Reproduce\r\n# Access Bitbucket https://<BITBUCKET_BASE_URL>/projects/<PROJECT>/repos/<REPO>/browse/\r\n# Select a file;\r\n# add the following to the end of the URL\r\n{code}\r\n?\\\r\n{code}\r\n\r\nh3. Expected Results\r\nBitbucket should treat the error and shows a 400 - bad request page, similar to the 404 error page. \r\n\r\nh3. Actual Results\r\nBitbucket does not treat the error and shows the error that is is thrown by the webserver.\r\n\r\n !image-2020-08-20-17-11-46-636.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nNo workaround available at this moment.",
      "summary": "Characters outside of the URL spec can make Bitbucket throw uncaught 400 bad request exception"
    }
  },
  {
    "key": "BSERV-12543",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-20T13:13:30.000+0000",
      "description": "When a user is disabled, their repository permissions stay around.  The user should be removed from the permissions or Read access should be taken away.  The fact that the user stays around in this setting is a possible security concern if that user is ever enabled again.  They may get access back to a repository they should not have access to at the time the account is enabled again.",
      "summary": "When disabling a user, remove project permissions"
    }
  },
  {
    "key": "BSERV-12542",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-20T12:38:15.000+0000",
      "description": "We would like to have the ability as Bitbucket Server administrators to\u00a0register  a list of allowed CI instances (such as Jenkins) in order to prevent any build results from other unknown CI instances to be received.\r\n\r\nReceiving such results from instances the admin does not know about or control can interfere with merge strategies.\r\n\r\n",
      "summary": "Allowed list of CI instances for build notification"
    }
  },
  {
    "key": "BSERV-12541",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-20T09:52:35.000+0000",
      "description": "\u00a0\r\nIn many projects, such as the Linux kernel, commit messages have fixed maximum line lengths, e.g. 72 characters per line.\r\n\r\nBitbucket commit tooltips are narrow in width so that preformatted commit lines are broken.\r\nThis makes the messages difficult to read (and there is no other way to read them).\r\nThe commit view and the pull request view are both affected.\r\n\r\nCould you please increase the length of the tooltip line to 72 characters?\r\nIf you think this is taking up too much screen space, please can you make it configurable so the user can decide.",
      "summary": "Commit Tooltips - broken pre-formatted lines"
    }
  },
  {
    "key": "BSERV-12539",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-20T02:25:08.000+0000",
      "description": "Currently, admins can forbid repository admins to delete repositories globally. More on [repository delete policies|[https://confluence.atlassian.com/bitbucketserver/global-permissions-776640369.html]]\u00a0\r\n\r\nHowever, some users do forks which has to be deleted after changes merged back into the main repository. Others create personal repositories to test new settings for Jenkins builds. These users are unable to remove junk repositories and have to ask admins for help.\r\n\r\nIt would be great to add one more setting to the repository delete policy:\r\n\r\n * Allow users only to delete their own personal repositories.",
      "summary": "Exempt personal repositories from repository deletion policy"
    }
  },
  {
    "key": "BSERV-12538",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-19T13:02:39.000+0000",
      "description": "According to [Update on Amazon Linux AMI end-of-life|https://aws.amazon.com/blogs/aws/update-on-amazon-linux-ami-end-of-life/]:\r\n{quote}The end-of-life for Amazon Linux AMI is now extended to December 31, 2020: until then, we will continue to provide security updates and refreshed versions of packages as needed.\r\n\r\nBeyond December 31, 2020, the Amazon Linux AMI will enter a new maintenance support period that extends to June 30, 2023.\r\n\r\nDuring this maintenance support period:\r\n\r\n* The Amazon Linux AMI will only receive critical and important security updates for a reduced set of packages.\r\n* It will no longer be guaranteed to support new EC2 platform capabilities, or new AWS features.\r\n{quote}\r\n\r\nTaking that into account the new deployments of Bitbucket Data Center should be done with the [Amazon Linux 2|https://aws.amazon.com/amazon-linux-2/] so that the new Bitbucket AMI used in Cloud formation templates should be built on it.",
      "summary": "Upgrade Bitbucket AMI to Amazon Linux AMi 2"
    }
  },
  {
    "key": "BSERV-12537",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-21T01:34:51.000+0000",
      "created": "2020-08-19T07:06:31.000+0000",
      "description": "{{curl -X GET \"https://<BITBUCKET_BASE_URL>/rest/api/2.0/user\" -H \"accept: application/json\" -H \"Authorization:Bearer\u00a0 *******\"}}\r\n\r\n\u00a0\r\n\r\nI'm trying the above curl, but its not working. Could you please help me what I'm doing wrong. Thanks\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Need help in using Bitbucket API"
    }
  },
  {
    "key": "BSERV-12536",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-21T01:11:57.000+0000",
      "created": "2020-08-19T06:23:25.000+0000",
      "description": "I would like to know the workspace id for the url {{https://<BITBUCKET_BASE_URL>}}\u00a0to create PR automatically",
      "summary": "I would like to know the workspace id for the url https://bitbucket.corp.appdynamics.com"
    }
  },
  {
    "key": "BSERV-12535",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-19T00:47:22.000+0000",
      "description": "h3. Issue Summary\r\nWhen upgrade is done from pre 7.0 to 7.5.0 version, I18n key is shown for \"details\" attribute in migrated events on Audit page.\r\n\r\nh3. Steps to Reproduce\r\n# Start Bitbucket v6.10.0\r\n# Create a repository and then make some modifications e.g. changing name.\r\n# Shutdown Bitbucket.\r\n# Upgrade to 7.5.0 and start Bitbucket\r\n# Go to Settings > Audit page and search for audit data created before upgrade.\r\n# Expand and notice the extra attributes\r\n\r\nh3. Expected Results\r\nAttribute label is shown as \"Details\"\r\n\r\nh3. Actual Results\r\nAttribute label is shown as \"bitbucket.audit.attribute.legacy.details\"\r\n\r\nh3. Workaround\r\nFrom pre 7.0 version, upgrade to a version between 7.0.x - 7.3.x first and start Bitbucket, and then upgrade to 7.5.0.",
      "summary": "I18n keys shown in audit log for migrated data"
    }
  },
  {
    "key": "BSERV-12534",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-18T09:22:37.000+0000",
      "description": "I am aware of this: [https://confluence.atlassian.com/bitbucketserverkb/4-levels-of-bitbucket-server-permissions-779171636.html] however I am wondering if there is a way to provide more granular permissions or there is a plan to implement such a thing?\r\n\r\nEspecially in a corporate environment, when you have certain policies to be followed you would like to avoid that anybody messes with security relevant settings like \"Merge checks\", \"project Permissions\" and \"Branch Permissions\", \"Branching Model\" or even \"Branching Strategies\"\r\n\r\nI would like to have project admins who could create repos by their own and also manage the reviewers list without being able to touch security relevant settings, which could be only managed by \"Admins\".",
      "summary": "Fine granular project permissions "
    }
  },
  {
    "key": "BSERV-12533",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-18T09:21:37.000+0000",
      "description": "I understand that you assign \"people\" as default reviewer to a project/repo, that is generally fine. However, in an organization where you synchronize your users with a directory service e.g. ldap, it would really be helpful/useful if you could also assign user groups as reviewers.\r\n\r\nWe have several projects which the same team is responsible and thus default reviewer. Any changes in the team required updates to each project. Yes it's doable but as the ldap user groups anyway reflect the current status of the team, the reviewers list would be automatically up-to-date.\r\n\r\nIs there any plan to support this or are there reasons why not to do?",
      "summary": "Bitbucket repository default reviewers groups instead individuals "
    }
  },
  {
    "key": "BSERV-12532",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-18T08:21:32.000+0000",
      "description": "The \"Convert to task\" feature is awesome in the Bitbucket server v7\r\n\r\nHowever it could be more effective and save some time, if the element(s) of the\u00a0\u00a0[...]\u00a0menu was just next to the Reply/Edit link as other links, and not in one click further.\r\n\r\nPlease consider to move it (or give an option to configure it)\r\n\r\n!image-2020-08-18-10-16-22-809.png!",
      "summary": "move elements of PR comment menu to direct link"
    }
  },
  {
    "key": "BSERV-12531",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-14T21:28:49.000+0000",
      "description": "Currently, most docker images for the Atlassian elevate to root in order to perform certain tasks. If it is possible to do the required tasks without elevating to root, it would fall more in line with [Docker's best practices|https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#user]",
      "summary": "Update Docker image to not run as root."
    }
  },
  {
    "key": "BSERV-12530",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-14T10:31:27.000+0000",
      "description": "When Bitbucket backup client performs the backup of the active objects the logs without the debug messaging showing:\r\n{code}\r\nINFO  [main] c.a.b.i.b.client.DefaultBackupClient Waiting for SCM operations to finish\r\n{code}\r\n\r\nWhile with with the debug logging enabled the output is showing that the actual task is:\r\n{code}\r\n{\"task\":{\"id\":\"c4c256175d34fbc38dfdfc6d5b021a1a0a7d1348\",\"progress\":{\"message\":\"Backing up ActiveObjects table data\",\"percentage\":7},\"state\":\"RUNNING\",\"type\":\"BACKUP\"},\"db-state\":\"AVAILABLE\",\"scm-state\":\"AVAILABLE\"}\r\n{code}\r\n\r\nAs the result if the backup of the active objects has not finished within the timeout value the error is:\r\n{code}\r\ncom.atlassian.bitbucket.internal.backup.client.ScmDrainTimedOutException: Operations from one or more SCMs did not finish within the allotted timeout. To prevent corruption due to inconsistent state, the backup has been aborted. Please try backup up again when the system is under less load.\r\n{code}\r\n\r\nThe error code is suggesting that the git processes haven't finished on time, however, the true reason is in the database.\r\n \r\nPlease improve the error handling to distinguish the SCM timeouts from DB timeouts.",
      "summary": "Improve the error message in backup client"
    }
  },
  {
    "key": "BSERV-12529",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-14T08:30:16.000+0000",
      "description": "I would like Bitbucket Server to be able to show 24 hour clock format.\r\n\r\n\u00a0",
      "summary": "Add support for 24 hour clock format"
    }
  },
  {
    "key": "BSERV-12528",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T04:19:48.000+0000",
      "created": "2020-08-13T22:50:08.000+0000",
      "description": "h3. Issue Summary\r\n\r\nApplying the code suggestion can fail with a generic error when the {{FILE_EDIT}} hook rejects the commit. This can be caused by a custom hook or a [Yet Another Commit Checker Plugin|https://marketplace.atlassian.com/apps/1211854/yet-another-commit-checker?hosting=server&tab=overview] (YACC).\r\n\r\nh3. Steps to Reproduce\r\nCheck the community ticket for more details: https://community.atlassian.com/t5/Bitbucket-questions/Are-code-suggestions-broken-in-Bitbucket-7-4/qaq-p/1453200\r\n\r\nh3. Expected Results\r\n\r\n- The displayed error message should show detailed information about the reason of rejecting commit. \r\n- It should be possible to apply the suggestion with a second try.\r\n\r\nh3. Actual Results\r\n\r\n- The displayed error message doesn't give the user any clue what's the reason of the failure.\r\n - After the failure, the apply button is disabled and the user can't re-apply the suggestion. \r\n\r\nh3. Workaround\r\n\r\nDisable the custom {{FILE_EDIT}} hook or disable the Yet Another Commit Checker Plugin.",
      "summary": "Code suggestion apply rejected by plugin: error message is unhelpful and cannot retry"
    }
  },
  {
    "key": "BSERV-12527",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-13T19:35:36.000+0000",
      "description": "h3. Problem Definition \u00a0\r\nNowadays three separate requests need to be executed for each project in order to verify the default access permissions:\r\n\r\n* {{GET /rest/api/1.0/projects/ABC/permissions/PROJECT_ADMIN/all}}\r\n* {{GET /rest/api/1.0/projects/ABC/permissions/PROJECT_WRITE/all}}\r\n* {{GET /rest/api/1.0/projects/ABC/permissions/PROJECT_READ/all}}\r\n\r\nMultiply that by thousands of projects and you see how complex and time consuming it becomes to determine default access permissions for all projects.\r\n\r\nh3. Suggested Solution\r\nThere should be a single endpoint to determine the default access permissions for all projects at once rather than running the above three queries for each project.\r\n\r\nh3. Workaround\r\nA script could first execute {{GET /rest/api/1.0/projects}} in oder to retrieve the list of projects and then, for each project, run the three endpoints mentioned above.",
      "summary": "Provide a restful resource to verify default access permission to all projects at once"
    }
  },
  {
    "key": "BSERV-12526",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-13T08:29:21.000+0000",
      "created": "2020-08-13T08:16:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf the upstream repository does not have a master branch, and its default branch is defined differently, a mirror sync of this repository will fail.\r\nh3. Steps to Reproduce\r\n # Create a repository without the master branch, and set the default branch on the upstream\r\n # Mirror the repository to a 7.4 mirror\r\n\r\nh3. Expected Results\r\n\r\nThe repository is mirrored with the correct default branch\r\nh3. Actual Results\r\n\r\nThe repository never successfully mirrors.\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-08-11 22:01:43,660 ERROR [farm-operation-4]  c.a.b.i.m.m.f.t.o.RetryingMirrorOperation MirrorOperation: repositoryDefaultBranchUpdate failed attempt 5/5 for request: DefaultBranchUpdateRequest{externalRepositoryId=5, newDefaultBranchId=refs/heads/development}; giving up\r\ncom.atlassian.bitbucket.repository.NoDefaultBranchException: refs/heads/master is set as the default branch, but this branch does not exist\r\n\tat com.atlassian.stash.internal.scm.git.RawGitAgent.resolveHead(RawGitAgent.java:230)\r\n\tat com.atlassian.stash.internal.scm.git.DefaultGitCommandFactory$3.call(DefaultGitCommandFactory.java:322)\r\n\tat com.atlassian.stash.internal.scm.git.DefaultGitCommandFactory$3.call(DefaultGitCommandFactory.java:318)\r\n\tat com.atlassian.stash.internal.repository.DefaultRefService.getDefaultBranch(DefaultRefService.java:215)\r\n\tat com.atlassian.stash.internal.repository.DefaultRefService.setDefaultBranch(DefaultRefService.java:308)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor934.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor452.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor897.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor934.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor934.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.sync.DefaultMirrorBranchHelper.updateDefaultBranch(DefaultMirrorBranchHelper.java:59)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.repository.MirrorRepositoryService.lambda$updateDefaultBranch$15(MirrorRepositoryService.java:338)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:21)\r\n\tat com.atlassian.stash.internal.sal.spi.HostContextAccessorImpl.doInTransaction(HostContextAccessorImpl.java:54)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor578.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:18)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor573.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor573.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.repository.MirrorRepositoryService.updateDefaultBranch(MirrorRepositoryService.java:331)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.farm.RepositoryDefaultBranchUpdateOperation.perform(RepositoryDefaultBranchUpdateOperation.java:39)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.farm.RepositoryDefaultBranchUpdateOperation.perform(RepositoryDefaultBranchUpdateOperation.java:19)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.AuthenticatedMirrorOperation.lambda$perform$0(AuthenticatedMirrorOperation.java:37)\r\n\tat com.atlassian.stash.internal.user.DefaultEscalatedSecurityContext.call(DefaultEscalatedSecurityContext.java:59)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.DefaultUpstreamUserHelper.performAsUpstreamUser(DefaultUpstreamUserHelper.java:93)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.AuthenticatedMirrorOperation.perform(AuthenticatedMirrorOperation.java:37)\r\n\tat com.atlassian.bitbucket.internal.mirroring.mirror.farm.topic.operation.MultiThreadedMirrorOperation.lambda$perform$0(MultiThreadedMirrorOperation.java:45)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat com.atlassian.sal.core.executor.ThreadLocalDelegateRunnable.run(ThreadLocalDelegateRunnable.java:34)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t... 69 frames trimmed\r\n{noformat}\r\nh3. Workaround\r\n\r\nCreate a master branch in the upstream repository to allow the sync to complete. There is no need to set the master branch as default. After a successful sync the master branch can be removed.",
      "summary": "Mirroring a repository with a default branch other than master causes repository mirroring to fail"
    }
  },
  {
    "key": "BSERV-12525",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-13T03:06:38.000+0000",
      "description": "h3. Issue Summary\r\nActive Directory incremental sync fails with duplicate key error.\r\n\r\nh3. Steps to Reproduce\r\n # Use MS AD directory\r\n # Incremental synchronisation enabled\r\n # New user added to AD\r\n # New user has a membership to a group present in AD\r\n # Start incremental synchronisation\r\n\r\nh3. Expected Results\r\nSynchronisation completes without errors.\r\n\r\nh3. Actual Results\r\n\r\n_Synchronisation completes successfully_ but the below exception is thrown:\r\n{noformat}\r\n2020-05-04 15:55:33,836 ERROR [Caesium-1-4]  o.h.e.j.batch.internal.BatchingBatch HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 insert into cwd_membership (parent_id, child_id, membership_type, group_type, parent_name, lower_parent_name, child_name, lower_child_name, created_date, directory_id, id) values (7244102, 8323074, 'GROUP_USER', 'GROUP', 'employees-guests', 'employees-guests', 'alex', 'alex', '2020-05-04 15:55:33.832+02', 7340033, 8257747) was aborted: ERROR: duplicate key value violates unique constraint \"sys_idx_sys_ct_10168_10170\"\r\n  Detail: Key (parent_id, child_id, membership_type)=(7244102, 8323074, GROUP_USER) already exists.  Call getNextException to see other errors in the batch.], SQL: insert into cwd_membership (parent_id, child_id, membership_type, group_type, parent_name, lower_parent_name, child_name, lower_child_name, created_date, directory_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n2020-05-04 15:55:33,837 WARN  [Caesium-1-4]  o.h.e.jdbc.spi.SqlExceptionHelper SQL Error: 0, SQLState: 23505\r\n2020-05-04 15:55:33,837 ERROR [Caesium-1-4]  o.h.e.jdbc.spi.SqlExceptionHelper Batch entry 0 insert into cwd_membership (parent_id, child_id, membership_type, group_type, parent_name, lower_parent_name, child_name, lower_child_name, created_date, directory_id, id) values (7244102, 8323074, 'GROUP_USER', 'GROUP', 'employees-guests', 'employees-guests', 'alex', 'alex', '2020-05-04 15:55:33.832+02', 7340033, 8257747) was aborted: ERROR: duplicate key value violates unique constraint \"sys_idx_sys_ct_10168_10170\"\r\n  Detail: Key (parent_id, child_id, membership_type)=(7244102, 8323074, GROUP_USER) already exists.  Call getNextException to see other errors in the batch.\r\n2020-05-04 15:55:33,837 ERROR [Caesium-1-4]  o.h.e.jdbc.spi.SqlExceptionHelper ERROR: duplicate key value violates unique constraint \"sys_idx_sys_ct_10168_10170\"\r\n  Detail: Key (parent_id, child_id, membership_type)=(7244102, 8323074, GROUP_USER) already exists.\r\n2020-05-04 15:55:33,872 WARN  [Caesium-1-4]  c.a.c.u.p.h.b.h.Hibernate5StatelessSessionBatchProcessor batch failed falling back to individual processing\r\norg.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:129)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:105)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:148)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:198)\r\n\tat org.hibernate.internal.StatelessSessionImpl.managedFlush(StatelessSessionImpl.java:415)\r\n\tat org.hibernate.internal.StatelessSessionImpl.flushBeforeTransactionCompletion(StatelessSessionImpl.java:780)\r\n\tat org.hibernate.internal.StatelessSessionImpl.beforeTransactionCompletion(StatelessSessionImpl.java:750)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat com.atlassian.crowd.util.persistence.hibernate.batch.hibernate5.AbstractHibernateBatchProcessor.commitTransaction(AbstractHibernateBatchProcessor.java:64)\r\n\tat com.atlassian.crowd.util.persistence.hibernate.batch.hibernate5.AbstractHibernateBatchProcessor.afterProcessBatch(AbstractHibernateBatchProcessor.java:18)\r\n\tat com.atlassian.crowd.util.persistence.hibernate.batch.AbstractBatchProcessor.processBatch(AbstractBatchProcessor.java:166)\r\n\tat com.atlassian.crowd.util.persistence.hibernate.batch.AbstractBatchProcessor.execute(AbstractBatchProcessor.java:133)\r\n\tat com.atlassian.crowd.dao.membership.MembershipDAOHibernate.addAll(MembershipDAOHibernate.java:57)\r\n\tat com.atlassian.crowd.dao.membership.MembershipDAOHibernate.addAllUsersToGroup(MembershipDAOHibernate.java:80)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor1709.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.crowd.directory.CachingDirectory.addAllUsersToGroup(CachingDirectory.java:136)\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteChangeOperations.addUserMembershipsForGroup(DbCachingRemoteChangeOperations.java:745)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor873.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations.syncUserMembersForGroup(DirectoryCacheImplUsingChangeOperations.java:116)\r\n\tat com.atlassian.crowd.directory.synchronisation.cache.AbstractCacheRefresher.synchroniseMemberships(AbstractCacheRefresher.java:211)\r\n\tat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.syncGroups(UsnChangedCacheRefresher.java:489)\r\n\tat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.synchroniseGroupChanges(UsnChangedCacheRefresher.java:401)\r\n\tat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.synchroniseChanges(UsnChangedCacheRefresher.java:127)\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.synchroniseCache(DbCachingRemoteDirectory.java:1026)\r\n\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.lambda$synchronise$0(DirectorySynchroniserImpl.java:80)\r\n\tat com.atlassian.crowd.audit.NoOpAuditLogContext.withAuditLogSource(NoOpAuditLogContext.java:17)\r\n\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.synchronise(DirectorySynchroniserImpl.java:78)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor1643.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.crowd.directory.DbCachingDirectoryPoller.pollChanges(DbCachingDirectoryPoller.java:45)\r\n\tat com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerJobRunner.runJob(DirectoryPollerJobRunner.java:92)\r\n\tat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:134)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:106)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:90)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.launchJob(CaesiumSchedulerService.java:435)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJob(CaesiumSchedulerService.java:430)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJobWithRecoveryGuard(CaesiumSchedulerService.java:454)\r\n\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeQueuedJob(CaesiumSchedulerService.java:382)\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeJob(SchedulerQueueWorker.java:66)\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeNextJob(SchedulerQueueWorker.java:60)\r\n\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t... 29 frames trimmed\r\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into cwd_membership (parent_id, child_id, membership_type, group_type, parent_name, lower_parent_name, child_name, lower_child_name, created_date, directory_id, id) values (7244102, 8323074, 'GROUP_USER', 'GROUP', 'employees-guests', 'employees-guests', 'alex', 'alex', '2020-05-04 15:55:33.832+02', 7340033, 8257747) was aborted: ERROR: duplicate key value violates unique constraint \"sys_idx_sys_ct_10168_10170\"\r\n  Detail: Key (parent_id, child_id, membership_type)=(7244102, 8323074, GROUP_USER) already exists.  Call getNextException to see other errors in the batch.\r\n\tat org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:154)\r\n\tat org.postgresql.core.ResultHandlerDelegate.handleError(ResultHandlerDelegate.java:50)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2269)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:511)\r\n\tat org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:851)\r\n\tat org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:874)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1569)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:119)\r\n\t... 48 common frames omitted\r\n\tNext exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"sys_idx_sys_ct_10168_10170\"\r\n  Detail: Key (parent_id, child_id, membership_type)=(7244102, 8323074, GROUP_USER) already exists.\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533)\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268)\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:511)\r\n\t\tat org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:851)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:874)\r\n\t\tat org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1569)\r\n\t\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)\r\n\t\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n\t\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:119)\r\n\t\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:105)\r\n\t\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:148)\r\n\t\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:198)\r\n\t\tat org.hibernate.internal.StatelessSessionImpl.managedFlush(StatelessSessionImpl.java:415)\r\n\t\tat org.hibernate.internal.StatelessSessionImpl.flushBeforeTransactionCompletion(StatelessSessionImpl.java:780)\r\n\t\tat org.hibernate.internal.StatelessSessionImpl.beforeTransactionCompletion(StatelessSessionImpl.java:750)\r\n\t\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\r\n\t\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\t\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n\t\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\t\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\t\tat com.atlassian.crowd.util.persistence.hibernate.batch.hibernate5.AbstractHibernateBatchProcessor.commitTransaction(AbstractHibernateBatchProcessor.java:64)\r\n\t\tat com.atlassian.crowd.util.persistence.hibernate.batch.hibernate5.AbstractHibernateBatchProcessor.afterProcessBatch(AbstractHibernateBatchProcessor.java:18)\r\n\t\tat com.atlassian.crowd.util.persistence.hibernate.batch.AbstractBatchProcessor.processBatch(AbstractBatchProcessor.java:166)\r\n\t\tat com.atlassian.crowd.util.persistence.hibernate.batch.AbstractBatchProcessor.execute(AbstractBatchProcessor.java:133)\r\n\t\tat com.atlassian.crowd.dao.membership.MembershipDAOHibernate.addAll(MembershipDAOHibernate.java:57)\r\n\t\tat com.atlassian.crowd.dao.membership.MembershipDAOHibernate.addAllUsersToGroup(MembershipDAOHibernate.java:80)\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor1709.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\t\tat com.sun.proxy.$Proxy213.addAllUsersToGroup(Unknown Source)\r\n\t\tat com.atlassian.crowd.directory.CachingDirectory.addAllUsersToGroup(CachingDirectory.java:136)\r\n\t\tat com.atlassian.crowd.directory.DbCachingRemoteChangeOperations.addUserMembershipsForGroup(DbCachingRemoteChangeOperations.java:745)\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor873.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\t\tat com.sun.proxy.$Proxy1931.addUserMembershipsForGroup(Unknown Source)\r\n\t\tat com.atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations.syncUserMembersForGroup(DirectoryCacheImplUsingChangeOperations.java:116)\r\n\t\tat com.atlassian.crowd.directory.synchronisation.cache.AbstractCacheRefresher.synchroniseMemberships(AbstractCacheRefresher.java:211)\r\n\t\tat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.syncGroups(UsnChangedCacheRefresher.java:489)\r\n\t\tat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.synchroniseGroupChanges(UsnChangedCacheRefresher.java:401)\r\n\t\tat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.synchroniseChanges(UsnChangedCacheRefresher.java:127)\r\n\t\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.synchroniseCache(DbCachingRemoteDirectory.java:1026)\r\n\t\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.lambda$synchronise$0(DirectorySynchroniserImpl.java:80)\r\n\t\tat com.atlassian.crowd.audit.NoOpAuditLogContext.withAuditLogSource(NoOpAuditLogContext.java:17)\r\n\t\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.synchronise(DirectorySynchroniserImpl.java:78)\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor1643.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\t\tat com.sun.proxy.$Proxy237.synchronise(Unknown Source)\r\n\t\tat com.atlassian.crowd.directory.DbCachingDirectoryPoller.pollChanges(DbCachingDirectoryPoller.java:45)\r\n\t\tat com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerJobRunner.runJob(DirectoryPollerJobRunner.java:92)\r\n\t\tat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:134)\r\n\t\tat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:106)\r\n\t\tat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:90)\r\n\t\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.launchJob(CaesiumSchedulerService.java:435)\r\n\t\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJob(CaesiumSchedulerService.java:430)\r\n\t\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJobWithRecoveryGuard(CaesiumSchedulerService.java:454)\r\n\t\tat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeQueuedJob(CaesiumSchedulerService.java:382)\r\n\t\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeJob(SchedulerQueueWorker.java:66)\r\n\t\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeNextJob(SchedulerQueueWorker.java:60)\r\n\t\tat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"sys_idx_sys_ct_10168_10170\"\r\n  Detail: Key (parent_id, child_id, membership_type)=(7244102, 8323074, GROUP_USER) already exists.\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268)\r\n\t... 55 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nThere is no functional problem - this is just a logging issue. There is currently no way to avoid the error in the logs.",
      "summary": "Incremental Active Directory sync fails with constraint violation error"
    }
  },
  {
    "key": "BSERV-12524",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-13T02:45:02.000+0000",
      "description": "h3. Issue Summary\r\nActivity comment field in Pull Request screen doesn't handle Japanese IME input properly.\r\n\r\nh3. Steps to Reproduce\r\n*Case 1*\r\n # Open Activity panel in the Pull Request screen\r\n # Set IME to Japanese (I tested with Mac Hiragana input)\r\n # Type A key four time, it will create \"\u3042\u3042\u3042\u3042\" which is equivalent to \"aaaa\" \r\n # Type Enter (to submit the text as \"\u3042\u3042\u3042\u3042\")\r\n\r\n*Case 2*\r\n # Open Activity panel in the Pull Request screen\r\n #  Fill 4 lines in the text field and make the 4th line long to reach to the right side of the input box\r\n{code:none}\r\na\r\nb\r\nc\r\ndddddddddddddddddddddddddddddddddddddddddddddddddddddd\r\n{code} \r\n# Set IME to Japanese (I tested with Mac Hiragana input)\r\n# Set the cursor in the end of 4th line and repeat typing A key which will generate \"\u3042\u3042\u3042\u3042\u3042.......\" \r\n\r\nh3. Expected Results\r\n*Case 1*\r\nIn the step 3 above, only the characters \"\u3042\u3042\u3042\u3042\" is shown and placeholder text disappear.\r\n \r\n*Case 2*\r\nThe field accepts repeated A key input \"\u3042\u3042\u3042\u3042\u3042.......\" and just keep adding the character based on the input.\r\n\r\n\r\nh3. Actual Results\r\n*Case 1*\r\nIn the step 3 above, the character is overlapped with placeholder text.\r\n !Screen Shot 2020-08-06 at 11.46.07.png|thumbnail! \r\n\r\n*Case 2*\r\nThe repeated A key input make the IME input shown and disappear.  \r\n [^Screen Recording 2020-08-06 at 11.52.50.mov] \r\n\r\nh3. Workaround\r\nNo workaround found. Source code need to be modified.\r\n",
      "summary": "Pull Request comment field doesn't handle Japanese IME input properly"
    }
  },
  {
    "key": "BSERV-12523",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-13T00:50:43.000+0000",
      "created": "2020-08-11T20:10:19.000+0000",
      "description": "Hi recently we have set up a mirror for Bitbucket but we are finding many issues that makes it not usable. Please find the list below.\r\n * When we setup a mirror we would like to do all the automation also using it. Not half automation code to use mirror and half to use server. What is happening is mirror supports only few actions like clone etc. But rest api does not work on mirror.\u00a0\r\n ** For example in code we will be cloning a repo from mirror but when i want to deploy and download a raw yaml file for download we will have to use main server. Rather than confusing users we have to tell them to use only server for all automation\r\n * For mirror to work both main server url and mirror url has to be accessible to end user. For some scenarios if user only has access to mirror or only access to server then most of the mirroring features will not work",
      "summary": "Mirrors are not quite usable for automation"
    }
  },
  {
    "key": "BSERV-12522",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T21:52:44.000+0000",
      "created": "2020-08-11T13:07:08.000+0000",
      "description": "In\u00a0https://jira.atlassian.com/browse/BSERV-9254\u00a0(Allow \"Delete source branch after merging\" to be enabled by default), the default of this option was changed to enabled and there is no way to change the default. This means all users need to uncheck this box to avoid inadvertently deleting their source branch.\r\n\r\n\u00a0\r\n\r\nThe suggestion is to add an admin toggle to allow the administrators to decide if the default for this should be on or off.\r\n\r\nAt this point, our company is holding off on upgrading past 7.2 to avoid consuming the BSERV-9254 \"feature\".\r\nh1. \u00a0",
      "summary": "Provide admin selection for default \"Delete source branch after merging\" option"
    }
  },
  {
    "key": "BSERV-12521",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-10T15:43:54.000+0000",
      "description": "h3. Issue Summary\r\nRunning Bitbucket with external JDK in Windows Server 2016 is leaking git.exe processes which are being created in kernel memory space and cannot be observed in Task manager or Process Monitor. The speed of generation of such git.exe processes depends on the load on the server. Each process is occupying 20KB RAM and cannot be terminated by the user.\r\n \r\nh3. Steps to Reproduce\r\n# Install Bitbucket Server as a service to Windows Server 2016\r\n# Download and install [AdoptOpenJDK 8/11|https://adoptopenjdk.net/]\r\n# Edit service properties and switch the Java to newly installed AdoptOpenJDK\r\n# Generate the load on the server for continuous amount of time (the more RAM free the longer)\r\n# Download and install RAMmap https://docs.microsoft.com/en-us/sysinternals/downloads/rammap\r\n# Check with Task manager that there is no git processes\r\n# Open RAMmap and switch to Processes tab\r\n\r\nh3. Expected Results\r\nAll git.exe processes are finished successfully and no processes are occupying the RAM\r\nh3. Actual Results\r\n !Rammap03.png|thumbnail! \r\nNo related entries in the logs.\r\n\r\nh3. Workaround\r\nSwitch back to embedded JRE under Bitbucket installation directory.\r\n\r\nIf the embedded JRE is not available, it is possible to simply download and extract the following archive and then point Bitbucket to use this as its JRE:\r\n\r\n* [AdoptOpenJDK jdk8u242-b08 Windows archive|https://github.com/AdoptOpenJDK/openjdk8-binaries/releases/download/jdk8u242-b08/OpenJDK8U-jre_x64_windows_hotspot_8u242b08.zip]",
      "summary": "Running Bitbucket as a service on Windows Server 2016 with external JDK causing zombie git.exe procesess"
    }
  },
  {
    "key": "BSERV-12520",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-13T04:54:13.000+0000",
      "created": "2020-08-07T20:51:26.000+0000",
      "description": "We are unable to collapse the \"recently closed\" PR list on the Bitbucket homepage. This only happens with you aren't reviewing any PRs and have no PRs created.\r\n\r\nThe button to collapse the list does not work.",
      "summary": "Recently closed pull requests section on Dashboard page cannot be collapsed Reviewing and Created lists are empty"
    }
  },
  {
    "key": "BSERV-12519",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-06T20:53:05.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter a recent update to Elasticsearch 7 in Bitbucket 7.1.0, the default {{elasticsearch-env}} file within the directory {{$BITBUCKET_INSTALL/elasticsearch/bin}} has changed, making it so that the bundled Elasticsearch instance will not start up unless the environment variable {{JAVA_HOME}} has been set. This is because Elasticsearch's new backup Java location, if {{JAVA_HOME}} is not detected, is a bundled JDK that isn't actually present at {{$ES_HOME/jdk/bin/java}}.\r\n\r\nh3. Steps to Reproduce\r\n # Install or upgrade to Bitbucket 7.1+\r\n # Ensure that the {{JAVA_HOME}} environment variable has not been set\r\n # Attempt to start up Bitbucket and Elasticsearch by manually executing the file {{$BITBUCKET_INSTALL/bin/start-bitbucket.sh}}\r\n\r\nh3. Expected Results\r\n\r\nBoth Bitbucket and Elasticsearch use the bundled JRE located at {{$BITBUCKET_INSTALL/jre}}\r\n\r\nh3. Actual Results\r\n\r\nThe startup script successfully launches Bitbucket, but on attempting to launch Elasticsearch the following error is thrown in the console:\r\n\r\n{noformat}\r\ncould not find java in bundled jdk at /opt/app/bitbucket-7.4.0/elasticsearch/jdk/bin/java\r\nThere was a problem starting bundled Elasticsearch\r\n{noformat}\r\n\r\nIn previous versions of Elasticsearch, on not detecting {{JAVA_HOME}} it instead used the command {{which java}} to find an alternative Java location. However, in the later versions of this {{elasticsearch-env}} file the logic there uses a static location based on the {{$ES_HOME}}:\r\n\r\n{code:bash}\r\n# now set the path to java\r\nif [ ! -z \"$JAVA_HOME\" ]; then\r\n  JAVA=\"$JAVA_HOME/bin/java\"\r\n  JAVA_TYPE=\"JAVA_HOME\"\r\nelse\r\n  if [ \"$(uname -s)\" = \"Darwin\" ]; then\r\n    # macOS has a different structure\r\n    JAVA=\"$ES_HOME/jdk.app/Contents/Home/bin/java\"\r\n  else\r\n    JAVA=\"$ES_HOME/jdk/bin/java\"\r\n  fi\r\n  JAVA_TYPE=\"bundled jdk\"\r\nfi\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nSet the environment variable {{JAVA_HOME}} to point to either the standard Bitbucket bundled JRE, or the Java home of a [supported Java version|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html].\r\n\r\n(i) Alternatively, it's also possible to modify the logic in the file {{$BITBUCKET_INSTALL/elasticsearch/bin/elasticsearch-env}} to use a different/correct Java location. However, it's important to note that any changes to this file will be overwritten on performing an upgrade of Bitbucket and these changes will then need to be reapplied.",
      "summary": "Bundled Elasticsearch unable to start unless JAVA_HOME is declared"
    }
  },
  {
    "key": "BSERV-12518",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-06T20:34:57.000+0000",
      "description": "As more financial, insurance, government contractors and agencies move to Bitbucket Data Center with mirrors and mirror farms, the decision to require that the workstation of the Sys Admin have direct access to the mirror / mirror farm causes problems with the initial configuration and ongoing maintenance of the mirrors.\r\n\r\nIn highly segmented network environments the Sys Admin is often unable to directly connect to components in isolated networks from their workstation.\u00a0 To get around this you must use an undocumented process of setting up a jump system that the Sys Admin can access, that has access to both the upstream and the mirrors.\u00a0 When this system sits in AWS or Azure this incurs a not insignificant additional cost.\u00a0 This is also an audit risk for many organizations that are not allowed to setup such workarounds.\r\n\r\nThis is a duplicate of the closed case https://jira.atlassian.com/browse/BSERV-10778\u00a0but this is a request to reconsider and begin the \"pretty significant architectural changes to how mirrors work\"",
      "summary": "Need to be able to configure mirrors from the upstream when the Sys Admin doesn't have direct access to mirror/mirror farm"
    }
  },
  {
    "key": "BSERV-12517",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-06T17:33:26.000+0000",
      "description": "I often look at the \"My Pull Requests\" drop down to view what PRs I'm looking at. In this view you can see the Title of the PR and the Project and Repo that the PR is in. But you Can't see the branch or target branch name.\u00a0\r\n\r\nBeing able to see the branch and target branch name would be very helpful since there are time when you want to prioritize PRs that are going into a hotfix or release stabalization branch. Having this information readily available would remove the need to open up each PR to view the target branch.\r\n\r\n!image-2020-08-06-13-31-43-996.png!",
      "summary": "As a bitbucket PR reviewer I would like the branch and target branch to be shown in the \"My Pull Requests\" dropdown"
    }
  },
  {
    "key": "BSERV-12516",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:40:46.000+0000",
      "created": "2020-08-05T13:41:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUpgrading Bitbucket Server ver7.4.0 with the new audio logging feature runs into NPE and unable to load audit log from previous Bitbucket Server versions.\r\nh3. Steps to Reproduce\r\n # Upgrade Bitbucket to version 7.4.0 from <= v6.10.x.\r\n # Check the audit log - {{Administration > Audit log page}}\r\n\r\nh3. Expected Results\r\n\r\nThe audit log UI feature able to load the audit logging from all the versions.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-08-05 21:33:19,148 ERROR [http-nio-7990-exec-10] admin @6OXTD2x1293x60x0 pvs31i 0:0:0:0:0:0:0:1 \"GET /rest/auditing/1.0/events HTTP/1.1\" c.a.p.r.c.e.j.ThrowableExceptionMapper Uncaught exception thrown by REST service: null\r\njava.lang.NullPointerException: null\r\n\tat java.util.Objects.requireNonNull(Objects.java:203)\r\n\tat com.atlassian.audit.rest.model.AuditAttributeJson.<init>(AuditAttributeJson.java:31)\r\n\tat com.atlassian.audit.rest.utils.AuditEntitySerializer.toJson(AuditEntitySerializer.java:82)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat com.atlassian.audit.rest.utils.AuditEntitySerializer.toJson(AuditEntitySerializer.java:75)\r\n\tat com.atlassian.audit.rest.AuditRestResource.lambda$generateJsonResponse$1(AuditRestResource.java:283)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat com.atlassian.audit.rest.model.RestPage.<init>(RestPage.java:44)\r\n\tat com.atlassian.audit.rest.model.AuditEntitiesResponseJson.<init>(AuditEntitiesResponseJson.java:25)\r\n\tat com.atlassian.audit.rest.AuditRestResource.generateJsonResponse(AuditRestResource.java:282)\r\n\tat com.atlassian.audit.rest.AuditRestResource.getAuditEvents(AuditRestResource.java:226)\r\n\tat com.atlassian.audit.rest.validation.ValidationInterceptor.intercept(ValidationInterceptor.java:44)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:48)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:75)\r\n\tat com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.AuthorizationFailureInterceptor.doFilterInternal(AuthorizationFailureInterceptor.java:39)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:48)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:84)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 256 frames trimmed\r\n{noformat}\r\n!AuditLogging.png|thumbnail!\r\n\r\n\u00a0\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Audit Log feature unable to load older logs and run into error"
    }
  },
  {
    "key": "BSERV-12515",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-05T11:13:39.000+0000",
      "description": "* Currently,  if the user account in AD is *Disabled* then, while the users are synced in cwd_users, the do not populate the /admin/users.\r\n* There is logic in the code that checks whether the user is_active to populate the page. If inactive, it does not.\r\n\r\nThis is a suggestion to still populate *Users* with the disabled accounts, but adding a flag *Disabled* and not count them toward the license. This is the way this flag is handled, for example, in Confluence and Jira Server.",
      "summary": "Provide Bitbucket Server support for Active Directory's \"Account Disabled\" flag"
    }
  },
  {
    "key": "BSERV-12514",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-05T10:48:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOnce you've set an SSH base URL in the UI, you are unable to un-set it so the value from the {{bitbucket.properties}} is used. If you delete the UI value, Bitbucket Server will use the default (instead of using any value in {{bitbucket. properties}}). \r\n\r\nChange the UI behaviour so deleting the value in the UI will completely clear the set value in the DB so that the value in {{bitbucket.properties}} will be used (as if the user had never set a value in the UI).\r\n\r\n_Note:_ That the UI has higher priority than the {{bitbucket.properties}} file is not the issue... the issue is that it is impossible to un-set the UI value so the system looks at the {{bitbucket.properties}} file.\r\n\r\nh3. Steps to Reproduce\r\n # Update the SSH base URL via Server Setting GUI\r\n # then delete the value of the SSH base URL from the GUI and try to add it from the {{bitbucket.properties}} file as given below and restart the bitbucket service\r\n{code:java}\r\nplugin.ssh.baseurl=ssh://git@localhost:5740\r\n{code}\r\nh3. Expected Results\r\nBitbucket should take the value mentioned in the {{bitbucket.properties}} file\r\nh3. Actual Results\r\nIt ignores the value in the {{bitbucket.properties}} file and sets the SSH base URL to default\r\nSo, once the SSH base URL is set via GUI there is no way to modify it via the {{bitbucket.properties}} file\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\natlassian-bitbucket.log:2020-08-04 19:20:15,433 WARN  [spring-startup]  c.a.b.ssh.SshConfigurationService Application configuration property 'plugin.ssh.baseurl' is not used because its value has been configured in the Server settings\r\n{noformat}\r\nh3. Workaround\r\nthere is currently no way to modify the base url rather than from GUI",
      "summary": "Unable to Update the SSH Base Url from bitbucket.properties file if already set via Server settings in GUI"
    }
  },
  {
    "key": "BSERV-12513",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-05T23:09:23.000+0000",
      "created": "2020-08-05T05:44:44.000+0000",
      "description": "h3. Issue Summary\r\nDiff view on the branch compare becomes blank if keyboard shortcut is disabled.\r\n\r\nh3. Steps to Reproduce\r\n # Commit and push two files in certain branch in a Bitbucket repository \r\n # Create another branch and update two files\r\n # Commit and push the branch above \r\n # Uncheck \"Enable keyboard shortcuts\" in the account setting\r\n # See diff view in the \"Compare\" choosing the branches created in the steps above\r\n # Click the 1st file in diff view\r\n # Click the 2nd file in diff view\r\n\r\nh3. Expected Results\r\nDiff shows without problem. \r\n\r\nh3. Actual Results\r\nDiff doesn't show properly.\r\n !Screen Shot 2020-08-05 at 14.21.10.png|thumbnail! \r\nThe below exception is thrown in the browser console:\r\n{noformat}\r\nUncaught TypeError: Cannot read property 'destroy' of undefined\r\n    at e.value (widget.js?_statichash=0a965bc8caa01f2afdff442d9a088122-CDN%2F771317099%2F204e35a%2F1%2F7ffaa23f612df69467f160b585b19419&locale=en-US:4)\r\n    at e [as _addDestroyable] (lodash.js?_statichash=0a965bc8caa01f2afdff442d9a088122-CDN%2F771317099%2F204e35a%2F1%2F7ffaa23f612df69467f160b585b19419&locale=en-US:46)\r\n    at e.init (diff-view.js?_statichash=64eba085457c058ceef73b85cef131a0-CDN%2F771317099%2F204e35a%2F1%2F19a506161cb07489d10a567148769c30&locale=en-US:13)\r\n    at e.init (unified-diff-view.js?_statichash=64eba085457c058ceef73b85cef131a0-CDN%2F771317099%2F204e35a%2F1%2F19a506161cb07489d10a567148769c30&locale=en-US:7)\r\n    at e [as init] (lodash.js?_statichash=0a965bc8caa01f2afdff442d9a088122-CDN%2F771317099%2F204e35a%2F1%2F7ffaa23f612df69467f160b585b19419&locale=en-US:46)\r\n    at lodash.js?_statichash=0a965bc8caa01f2afdff442d9a088122-CDN%2F771317099%2F204e35a%2F1%2F7ffaa23f612df69467f160b585b19419&locale=en-US:26\r\n{noformat}\r\n\r\nh3. Workaround\r\nKeep \"Enable keyboard shortcuts\" checked. ",
      "summary": "Diff view on branch compare becomes blank if keyboard shortcut is disabled"
    }
  },
  {
    "key": "BSERV-12512",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-05T01:53:15.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDuring mirror startup if a new repository fails to sync for any reason and it has a forked repository, mirror remains in Synchronising status although other repositories were synced successfully. Following are steps to reproduce using idle timeout failure, but repository can fail syncing for other reasons too.\r\nh3. Steps to Reproduce\r\n # Create a project P1 and a huge repository R1.\r\n # Create another project P2 and a repository R21.\r\n # Add a mirror on primary server.\r\n # Add project on mirror and let sync process finish.\r\n # Shutdown the mirror.\r\n # Fork R1 in P2 and name it as R1-fork.\r\n # Start mirror with system property _plugin.mirroring.remote.command.timeout.idle_\u00a0set to a value which is not enough for R1.\r\n\r\nh3. Expected Results\r\n\r\nMirror is set to \"Synchronized\" status with R21 and R1-fork pending sync\r\nh3. Actual Results\r\n\r\nMirror remains in \"Synchronizing\" status. Following log message is noticed repeatedly forever - \r\n{noformat}\r\nc.a.b.i.m.m.f.s.InitialSyncHelper Repository [P2/R21]#3 has a parent that has not yet been synced adding it back onto the queue\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nRemove fork repo or move it to some non-mirrored project, wait for mirror to be \"Synchronized\" and then add it back.",
      "summary": "Mirror stuck in Synchronizing status when a repository with forks failed to sync"
    }
  },
  {
    "key": "BSERV-12511",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-05T01:12:45.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCommit graph in Bitbucket can show differently than source tree when common ancestor of a branch has same timestamp as a child commit in a branch.\r\nh3. Steps to Reproduce\r\n # Create a repository\r\n # Create a couple of commits lets says M1, M2 on master branch\r\n # Checkout a branch lets say branch1 from master branch\r\n # Create commits B1, B2, B3 on branch1\r\n # Checkout master branch and create commit M3.\r\n # Rebase master branch onto commit B1.\r\n # Merge branch1 -> master\r\n # Push both master and branch1 to remote repository.\r\n # Go to commits page and view graph.\r\n\r\nh3. Expected Results\r\n\r\nB1 should be shown below B2 as it's parent.\r\nh3. Actual Results\r\n\r\nB1 is shown above B2 and there is no line connecting the two.\r\n\r\nThis bug can also be reproduced using\u00a0[^repo.zip]. Push that repository to Bitbucket and notice the commit graph. Open the same repository in source tree and observe the difference.\r\n\r\n*Bitbucket*\r\n !Screen Shot 2020-08-05 at 11.08.52 am.png|width=820,height=530!\r\n *Source tree*\r\n\r\n!Screen Shot 2020-08-05 at 11.09.22 am.png|width=755,height=307!\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Commit graph shows incorrect parent for a branch"
    }
  },
  {
    "key": "BSERV-12510",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-14T03:28:23.000+0000",
      "created": "2020-08-04T22:20:32.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe last-modified REST API endpoint returns a 500 when the requested path is a file.\r\nh3. Steps to Reproduce\r\n\r\nMake a request to the last-modified endpoint at a file:\u00a0[https://stash.dev.internal.atlassian.com/rest/api/1.0/projects/STASH/repos/stash/last-modified/.gitignore?at=refs/heads/master]\r\nh3. Expected Results\r\n\r\nReturns a 400, due to the endpoint being intended for directories, not files.\r\nh3. Actual Results\r\n\r\nResponse is a 500\r\n{noformat}\r\n{\"errors\":[{\"context\":null,\"message\":\"'/usr/bin/git ls-tree refs/heads/hi:hi --' exited with code 128 saying: fatal: not a tree object\",\"exceptionName\":\"com.atlassian.bitbucket.scm.CommandFailedException\"}]}{noformat}\r\nErrors in the logs (at debug level):\r\n{code:java}\r\n2020-08-05 08:26:00,531 DEBUG [http-nio-7990-exec-2] admin @86P5G4x506x204x0 1q47ipz 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJECT_1/repos/rep_1/last-modified/add_file/add_file.txt HTTP/1.1\" c.s.j.s.container.ContainerResponse Mapped exception to response: 500 (Internal Server Error)2020-08-05 08:26:00,531 DEBUG [http-nio-7990-exec-2] admin @86P5G4x506x204x0 1q47ipz 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJECT_1/repos/rep_1/last-modified/add_file/add_file.txt HTTP/1.1\" c.s.j.s.container.ContainerResponse Mapped exception to response: 500 (Internal Server Error)com.atlassian.bitbucket.scm.CommandFailedException: '/usr/local/bin/git ls-tree refs/heads/master:add_file/add_file.txt --' exited with code 128 saying: fatal: not a tree object at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onError(DefaultCommandExitHandler.java:47) at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:111) at com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:208) at com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32) at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:285) at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:326) at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onExit(NioNuProcessHandler.java:123) at com.zaxxer.nuprocess.internal.BasePosixProcess.onExit(BasePosixProcess.java:319) at com.zaxxer.nuprocess.osx.ProcessKqueue.processEvent(ProcessKqueue.java:339) at com.zaxxer.nuprocess.osx.ProcessKqueue.process(ProcessKqueue.java:238) at com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81) at com.zaxxer.nuprocess.osx.OsxProcess.run(OsxProcess.java:123) at com.zaxxer.nuprocess.osx.OsxProcessFactory.runProcess(OsxProcessFactory.java:43) at com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273) at com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75) at com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52) at com.atlassian.stash.internal.scm.git.command.SimpleGitCommand.configureAndCall(SimpleGitCommand.java:84) at com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.listFiles(LastModifiedCommand.java:155) at com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.stream(LastModifiedCommand.java:240) at com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.call(LastModifiedCommand.java:87) at com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.call(LastModifiedCommand.java:53) at com.atlassian.stash.internal.commit.DefaultCommitService.streamLastModified(DefaultCommitService.java:363) at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56) at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70) at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53) at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57) at com.atlassian.stash.internal.rest.commit.LastModifiedResource$1.write(LastModifiedResource.java:104) at com.atlassian.bitbucket.rest.util.JsonStreamingOutput.write(JsonStreamingOutput.java:23) at com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.lambda$write$0(StreamingResponseFilter.java:80) at com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$AbstractStreamingExceptionMapper.stream(StreamingResponseFilter.java:50) at com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.write(StreamingResponseFilter.java:80) at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) at com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36) at com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75) at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:48) at com.atlassian.labs.httpservice.resource.ResourceFilter.doFilter(ResourceFilter.java:59) at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) at com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:75) at com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81) at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) at com.atlassian.stash.internal.web.auth.AuthorizationFailureInterceptor.doFilterInternal(AuthorizationFailureInterceptor.java:39) at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85) at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112) at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94) at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) at com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69) at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109) at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37) at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26) at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:48) at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42) at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90) at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73) at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:84) at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.lang.Thread.run(Thread.java:748) ... 300 frames trimmedCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128 at com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:277) ... 61 common frames omitted {code}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Calling the last-modified endpoint results in a 500 when the path is a file"
    }
  },
  {
    "key": "BSERV-12509",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-05T01:08:36.000+0000",
      "created": "2020-08-04T17:05:05.000+0000",
      "description": "The Bitbucket 7.0 upgrade has made reading diff\u2019s almost impossible with the new pastel red/green colors. Previously, users with mild red/green colorblindness were able to distinguish the color differences; however, the new colors are almost indistinguishable without immense focus and eye strain.\r\n\r\nI am sure many others with mild red/green colorblindness cannot read the code change diff\u2019s. Can we get a setting to toggle the old Bitbucket diff colors back on?",
      "summary": "Diff view color settings for red/green color blind users"
    }
  },
  {
    "key": "BSERV-12508",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-04T10:51:27.000+0000",
      "description": "\u00a0\r\nHi,\r\n\r\nIt would be really helpful if there is an API to get the license grant date of a given user. This information will come handy for auditing purposes.\u00a0\r\n\r\nIf such API is already there then could you please me point to that API document?\r\n\r\nBitbucket Version: 6.6.3\r\n\r\n\u00a0",
      "summary": "API to get license grant date of an user"
    }
  },
  {
    "key": "BSERV-12506",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-03T23:10:25.000+0000",
      "created": "2020-08-03T15:22:38.000+0000",
      "description": "When viewing a workspace, the only columns available are \"Repository\", \"Last updated\", and \"Builds\". It would be nice if there were options to customize the columns similar to how Jira can show various issue properties in additional columns. For instance, it'd be useful to add the ability to insert a \"Project\" column that display's the repo's project from within the workspace view.",
      "summary": "Issue and Feed management tools for projects and workspaces"
    }
  },
  {
    "key": "BSERV-12504",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-27T04:41:47.000+0000",
      "created": "2020-08-03T15:12:50.000+0000",
      "description": "Please add the capability to enable or disable pull request branch delete on merge. Ideally there should be a setting at the project level if the \"{color:#172b4d}Delete source branch{color}\" is automatically set or not. The ability to set this at a user level would also be helpful.\r\n\r\nThe current implementation automatically sets \"{color:#172b4d}Delete source branch{color}\". The selection is remembered for the user for the specific repository. However, some projects could have multiple repositories and the user needs to remember to uncheck for all of them individually",
      "summary": "Please add the capability to enable or disable pull request branch delete on merge"
    }
  },
  {
    "key": "BSERV-12503",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-03T01:51:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe pull request builds tab queries builds by branch name, not pull request ID. As a result, it may show builds that were performed on commits that were not actually part of the PR (built on the branch but not on commits related to the PR).\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a PR and post some build statuses to the PR\r\n# Merge the PR but don't delete the source branch\r\n# Push more build statuses to the branch\r\n\r\nh3. Expected Results\r\n\r\n* Old PR will only contain build statuses for that PR\r\n* New PR from that branch will only show build statuses for that PR\r\n\r\nh3. Actual Results\r\n\r\n* Old PR will show old and new build statuses\r\n* New PR from that branch will show old and new build statuses\r\n\r\nh3. Workaround\r\n\r\n* Don't re-use branch names across pull requests",
      "summary": "Merged pull requests may show unrelated build statuses"
    }
  },
  {
    "key": "BSERV-12502",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-24T04:12:55.000+0000",
      "created": "2020-08-03T01:40:20.000+0000",
      "description": "Aside from the new builds page and PR builds tab, nearly everywhere else Bitbucket Server queryies for build status is querying only for commit, not repository. As a result, we find new, repo-scoped build statuses for builds sent to other repositories and this means build counts for a given location may look higher than expected.\r\n\r\nLocations where build counts might be wrong:\r\n\r\n* PR overall build status is across all repositories\r\n* PR overview build count is across all repositories\r\n* Commit list\r\n* Commit page\r\n* PR list\r\n* Compare page\r\n* Create PR page\r\n* Dashboard\r\n\r\nWe need to update frontend queries to use a repo-scoped REST cal.. Then we need to make sure the REST call continues to return old build statues with the same commit (and repo == NULL) but only new build statuses with the same commit AND repo ID.\r\n\r\nThis is only an issue on systems posting new build statuses (either with Bamboo 7.1+ or Jenkins plugin version 2.0+) where the same commits get built across multiple repositories.",
      "summary": "Build counts in several locations do not match expected build counts"
    }
  },
  {
    "key": "BSERV-12501",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-08-03T01:32:05.000+0000",
      "description": "The builds tab/page auto-refreshes, picking up new builds. If someone leaves the builds page/tab open whilst someone pushes to the branch being shown, builds for the new commit will appear at the top of the list but _won't_ be marked as LATEST. The original commit builds will still be marked as LATEST.\r\n\r\nReloading the page fixes the problem.",
      "summary": "\"Latest\" lozenge doesn't move when builds tab auto-refreshes"
    }
  },
  {
    "key": "BSERV-12500",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-03T22:40:34.000+0000",
      "created": "2020-07-31T23:55:46.000+0000",
      "description": "For repos that have *not* configured themselves to force-invalidate existing approvals on a new push, there would be value in giving the pull request/branch owner a way to manually invalidate existing approvals.\r\n\r\nThe use-case is this: small non-substantive branch changes (fixing a typo in a comment, say) carry no risk of changing the sense of the branch. But larger changes might. At some point, the branch owner should say, \"hmmmm, I think I need a re-review here\" and could effectively request that by invaliding existing approvals via the UI I'm asking for here.\r\n\r\nOf course, teams that have decided to solve the problem of post-review branch updates by configuring the repo to force-invalidate existing approvals have chosen to solve this problem in a particular way, but there is no support currently for an approach that is less heavy-handed and which leaves the control in the hands of the engineer. Yes, the branch owner could ask for the re-review over email, with a comment in the pull request that tags all of the reviewers, etc., but those are hacks, and they leave the stale approvals in place.",
      "summary": "Give pull request/branch owner a way to manually invalidate existing approvals"
    }
  },
  {
    "key": "BSERV-12498",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:40:54.000+0000",
      "created": "2020-07-31T02:56:16.000+0000",
      "description": "[https://github.com/git/git/blob/master/Documentation/RelNotes/2.28.0.txt]",
      "summary": "Support Git 2.28"
    }
  },
  {
    "key": "BSERV-12496",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-30T15:40:59.000+0000",
      "description": "h3. Problem Definition\r\n\r\nSome customer, that has a huge user base, may not have full visibility of the CIs and users that are connected and performing git operations against the Bitbucket Instance, which cause the option of changing the CIs to perform less request or on notification based more challenging and time consuming that should be.\r\n\r\nh3. Suggested Solution\r\nIn those scenarios, some customers would like to have a way to rate-limit, like the feature which we have for REST API also be available for git operations, which can be set up and configured on Users base, group Base or Repository base.\r\n\r\nWith that, in case some user or automation is causing performance issues to the application, the admin would be able to restrict the amount of request for that user, avoid major issues for the application.\r\n",
      "summary": "Rate limit for git operations"
    }
  },
  {
    "key": "BSERV-12495",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-29T21:57:06.000+0000",
      "description": "When an delegated user, like in Active Directory, gets deleted the user is shown in the UI with mark though and the tag (inactive).  However, if they were added in the repository permissions page under User Access, there is no visual indication that the user has been deleted.\r\n\r\nWe should show the user with the same indications in the repository permission page as we do in other locations in the UI.  This visual mark will make it easer to clean up permissions for old users.  It also provides a visual cue that this user cannot use this permission because their authentication mechanism has been taken away.",
      "summary": "Repository permissions page does not show indicator of deleted user."
    }
  },
  {
    "key": "BSERV-12494",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-29T19:40:49.000+0000",
      "description": "h3. Issue Summary\r\nElasticSearch installed when choosing Bitbucket Data Center on install.\r\n\r\nh3. Steps to Reproduce\r\n # Download installer\r\n # Run installer and choose {{Install a Data Center instance [2]}} when asked {{What type of instance are you looking to install?}}\r\n\r\nh3. Expected Results\r\nI would not expect Bitbucket install directory to have installed ElasticSearch.\r\n\r\nh3. Actual Results\r\nElasticSearch is installed.\r\n\r\nh3. Workaround\r\n\r\nRemove the elasticsearch folder.\r\n* rm -fr <installDir>/elasticsearch/",
      "summary": "installing data center installs elasticsearch"
    }
  },
  {
    "key": "BSERV-12493",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:41:00.000+0000",
      "created": "2020-07-29T03:47:36.000+0000",
      "description": "h3. Issue Summary\r\nIf an administrator changes the {{page.max.changes}} application property, it is not used to specify how many changes to fetch by the frontend\r\n\r\nh3. Steps to Reproduce\r\n# Change the setting to a higher value\r\n\r\nh3. Expected Results\r\nUp to the new value for {{page.max.changes}} changes will be shown\r\n\r\nh3. Actual Results\r\nOnly 1000 (default value) changes will be shown\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Changing page.max.changes is not respected by the frontend"
    }
  },
  {
    "key": "BSERV-12492",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-29T00:55:10.000+0000",
      "description": "[https://docs.atlassian.com/bitbucket-server/rest/7.4.0/bitbucket-ref-restriction-rest.html].\r\n Under this, I refer *POST*\u00a0method of */rest/branch-permissions/2.0/projects/\\{projectKey}/repos/\\{repositorySlug}/restrictions*\r\n\r\nI am able to use this API successfully. I see that if the rule doesn't exist, it creates it. \r\n However, if the rule already exist with certain list of users, instead of appending new users to the rule it removes existing users & add new users specified in my rest api.\r\n\r\nThis feature request is to provide a *PUT*\u00a0method to *add*\u00a0to the existing rules rather than replacing them.",
      "summary": "Add branch permission restrictions via REST API"
    }
  },
  {
    "key": "BSERV-12491",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-28T18:27:54.000+0000",
      "description": "Adding a trail \"%27\" at the commits page URL in Bitbucket causes the application to output the error below.\r\n\r\n !screenshot-1.png|thumbnail! \r\n\r\nThis error is improper error handling as it shows the path to the git executable in the server as well as it exceeds the limits of the error page and does not give a clear message about what is the cause of the failure.\r\n\r\nAccordingly to best practices on error handling and security:\r\n\r\nbq. Physical paths, versioning information, contents of stack traces and other data can be gathered and used to help further an attack. Applications should always fail safe. If an application fails to an unknown state, it is likely that an attacker may be able to exploit this indeterminate state to access unauthorized functionality, or worse create, modify or destroy data. Error messages may also aid in the identification of other attacks such as buffer overflows and SQL injection.\r\n\r\nh2. How to reproduce it\r\n\r\nh3. Web browser\r\n# Navigate to the following page on the browser\r\n<BITBUCKET_BASE_URL>/projects/<project>/repos/<repo>/commits/\r\n# Add encoded single quote (%27) at the end\r\n\r\nh3. REST request with bad commit hash\r\nWe can achieve the same results by running the GET to the [commits endpoint|https://docs.atlassian.com/bitbucket-server/rest/7.4.0/bitbucket-rest.html#idp215]\r\n\r\n{code:title=Request}\r\nGET /rest/api/1.0/projects/<project>/repos/<repository>/commits/1%27\r\n{code}\r\n\r\n{noformat:title=Response}\r\n{\r\n    \"errors\": [\r\n        {\r\n            \"context\": null,\r\n            \"message\": \"'/usr/bin/git rev-list --format=%H%x02%P%x02%aN%x02%aE%x02%at%x02%cN%x02%cE%x02%ct%n%B%n%x03END%x04 --no-walk=unsorted 1(') 1(')^@ --' exited with code 128 saying: fatal: bad revision '1(')'\",\r\n            \"exceptionName\": \"com.atlassian.bitbucket.scm.CommandFailedException\"\r\n        }\r\n    ]\r\n}\r\n{noformat}\r\n\r\nh3. REST request with empty commit hash and {{path}} parameter\r\n\r\n{noformat}\r\nGET request on: BITBUCKET_BASE_URL/rest/api/1.0/projects/{TEST}/repos/{test}/commits\r\nwith parameters {\"path\": \"test_string'\"}\r\n{noformat}\r\n\r\nh2. Suggested solution.\r\n\r\nImprove error handling on this page and endpoint, removing the path and providing a meaningful message about the cause of the error.",
      "summary": "Improve error handling in commits page and REST endpoint"
    }
  },
  {
    "key": "BSERV-12490",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-28T15:16:34.000+0000",
      "description": "Currently there does not seem to be any REST support for checking if a Bitbucket Server user is locked out for CAPTCHA, and there does not seem to be any REST support for resetting a user's CAPTCHA lockout.\u00a0\r\n\r\nThe only way to check it seems to be through a database query (see\u00a0[https://confluence.atlassian.com/bitbucketserverkb/how-to-identify-and-reset-all-users-blocked-by-captcha-939513152.html]).\u00a0\r\n\r\nThe only way to reset it seems to be either A) doing a database update then restarting Bitbucket (!!!!) ; or B) sending HTTP DELETE requests to a URL in the UI, which (evidently) requires you to have a logged-in session...which is less than ideal.\r\n\r\nWe want to be able to programmatically reset CAPTCHA-blocked users from a centralized in-house tool\u00a0 we use to manage the components of our delivery pipeline (which includes BitBucket).",
      "summary": "REST support for checking and resetting CAPTCHA lockout for user"
    }
  },
  {
    "key": "BSERV-12489",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-27T01:34:56.000+0000",
      "created": "2020-07-28T02:50:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen farm vet detects lot of content inconsistencies during mirror startup and tries to sync them, suddenly syncing process stops and mirror never moves to SYNCHRONIZED status.\r\nh3. Steps to Reproduce\r\n # Add a project with at least 500-600 repositories on a single mirror (stand-alone or farm)\r\n # Wait for sync to finish.\r\n # Shut\u00a0down the mirror and keep it down while users are pushing new commits/making ref changes on these repositories. Wait till there is at least 1 ref change in at least 100 (ideally 500-600) repositories.\r\n # Start mirror with\u00a0_-Dexecutor.max.threads=4_\r\n\r\nh3. Expected Results\r\n\r\nMirror moves to SYNCHRONIZED status\r\nh3. Actual Results\r\n\r\nMirror is stuck in METADATA_SYNCHRONIZED status. Attached thread-dump shows all 4 threads in \"threadpool\" are in WAITING status forever.\r\nh3. Workaround\r\n\r\nAvoid keeping mirror down when there is lot of push activity happening on primary server. Mirror and primary should be down at same time OR mirror should be down when there is none or very minimal user activity on primary.",
      "summary": "Deadlock during initial sync on mirror"
    }
  },
  {
    "key": "BSERV-12488",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-28T02:11:23.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDuring initial sync, farm vet tries to fix git content inconsistency even though repository is already in sync.\r\nh3. Steps to Reproduce\r\n # Start Bitbucket primary and authorize a mirror (stand-alone or farm) to connect to it.\r\n # Create a project and a repository inside it.\r\n # Push some content to repository\r\n # Add this project on mirror and wait for it to finish syncing.\r\n # Shut down mirror\r\n # Push another commit to the same repository\r\n # Restart mirror with debug logging enabled.\r\n # Wait for mirror to be in SYNCHRONIZED state.\r\n # Search for logs containing \"Detected content inconsistency in repository\"\r\n\r\nh3. Expected Results\r\n\r\nThere should be no such logs as no new content has been pushed for that repository during mirror startup.\r\nh3. Actual Results\r\n\r\nFollowing lines were noticed in logs which shows that even after initial sync was complete farm vet though content is inconsistent and ran snapshot sync.\r\n{noformat}\r\n2020-07-28 11:38:37,440 INFO  [initial-sync-queue-poller:thread-1]  c.a.b.i.m.m.f.s.InitialSyncHelper Initial Synchronization for [20] complete\r\n2020-07-28 11:38:37,441 INFO  [initial-sync-queue-poller:thread-1]  c.a.b.i.m.m.f.s.InitialSyncHelper Repository synchronization complete. Running farm vet\r\n2020-07-28 11:38:37,441 DEBUG [initial-sync-queue-poller:thread-1]  c.a.b.i.m.mirror.vet.DefaultFarmVet Running farm vet\r\n2020-07-28 11:38:37,566 DEBUG [initial-sync-queue-poller:thread-1]  c.a.b.i.m.mirror.vet.VetContext Detected content inconsistency in repository: [20], repairing {noformat}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available.",
      "summary": "Farm vet on mirror running unnecessarily during initial sync"
    }
  },
  {
    "key": "BSERV-12487",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-27T05:48:06.000+0000",
      "description": "h3.Problem Definition\r\n\r\nUsing the following Golang Code I am able to sign and push a commit to Github but not Bitbucket Server\r\n{code}\r\npackage main\r\n\r\nimport (\r\n\t\"crypto/tls\"\r\n\t\"github.com/go-git/go-git/v5\"\r\n\t. \"github.com/go-git/go-git/v5/_examples\"\r\n\t\"github.com/go-git/go-git/v5/plumbing/object\"\r\n\t\"github.com/go-git/go-git/v5/plumbing/transport/client\"\r\n\tgithttp \"github.com/go-git/go-git/v5/plumbing/transport/http\"\r\n\t\"golang.org/x/crypto/openpgp\"\r\n\t\"net/http\"\r\n\t\"os\"\r\n\t\"time\"\r\n)\r\n\r\nfunc getPGPIdentity() (*openpgp.Entity, error) {\r\n\r\n\tsecKeyRing, err := os.Open(\"/<path>/<to>/.gnupg/secring.gpg\")\r\n\tif err != nil { return nil, err }\r\n\r\n\tentities, err := openpgp.ReadKeyRing(secKeyRing)\r\n\tif err != nil { return nil, err }\r\n\te := entities[0]\r\n\treturn e, nil\r\n}\r\n\r\n\r\n// Example of how to open a repository in a specific path, and push to\r\n// its default remote (origin).\r\nfunc main() {\r\n\tCheckArgs(\"<repository-path>\", \"<uname>\", \"<pass>\")\r\n\tpath := os.Args[1]\r\n\tuname := os.Args[2]\r\n\tpassword := os.Args[3]\r\n\tauth := &githttp.BasicAuth{uname, password}\r\n\r\n\tr, err := git.PlainOpen(path)\r\n\tCheckIfError(err)\r\n\tInfo(\"opening repo..\")\r\n\r\n\twt, err := r.Worktree()\r\n\tCheckIfError(err)\r\n\tInfo(\"creating working tree\")\r\n\r\n\terr = wt.AddGlob(\".\")\r\n\tCheckIfError(err)\r\n\tInfo(\"adding changes to staging\")\r\n\r\n\tpgpEntity, err := getPGPIdentity()\r\n\tCheckIfError(err)\r\n\r\n\terr = pgpEntity.PrivateKey.Decrypt([]byte(\"<gpg_prviate_key_pass>\"))\r\n\tCheckIfError(err)\r\n\r\n\t_, err = wt.Commit(\"dark commit\", &git.CommitOptions{\r\n\t\tAuthor: &object.Signature{ Name: \"git_user\", Email: \"git_user@git_user_email\", When: time.Now(), },\r\n\t\tCommitter: &object.Signature{ Name: \"git_user\", Email: \"git_user@git_user_email\", When: time.Now(), },\r\n\t\tSignKey: pgpEntity,\r\n\t})\r\n\t\r\n\tInfo(\"making commit\")\r\n\r\n\t// Create a custom http(s) client with your config\r\n\tcustomClient := &http.Client{\r\n\t\t// accept any certificate (might be useful for testing)\r\n\t\tTransport: &http.Transport{\r\n\t\t\tTLSClientConfig: &tls.Config{InsecureSkipVerify: true},\r\n\t\t},\r\n\r\n\t\t// 15 second timeout\r\n\t\tTimeout: 15 * time.Second,\r\n\r\n\t\t// don't follow redirect\r\n\t\tCheckRedirect: func(req *http.Request, via []*http.Request) error {\r\n\t\t\treturn http.ErrUseLastResponse\r\n\t\t},\r\n\t}\r\n\r\n\t// Override http(s) default protocol to use our custom client\r\n\tclient.InstallProtocol(\"https\", githttp.NewClient(customClient))\r\n\r\n\tInfo(\"git push\")\r\n\r\n\r\n\r\n\t// push using default options\r\n\terr = r.Push(&git.PushOptions{ Auth: auth})\r\n\tCheckIfError(err)\r\n}\r\n{code}\r\n\r\nTo use the code above:\r\n\r\n- First create a [gpg key|https://confluence.atlassian.com/bitbucketserver/using-gpg-keys-913477014.html]\r\n- A .kbx file is created which must be exported to a ([now deprecated by gpg|https://www.gnupg.org/faq/whats-new-in-2.1.html]) secring.gpg file that the Go Lang library can use\r\n- In a working directory with a remote repo (origin) hosted by Bitbucket Server, modify a file and then run the code above against that repo (path to repo is one of the args the code accepts)\r\n\r\nh3.Suggested Resolution \r\n\r\nBitbucket Server should be able to accept the signed commit as Github is able to.\r\n",
      "summary": "As a user I'd like to sign a commit using the Golang OpenPGP library implementation and push to Bitbucket Server"
    }
  },
  {
    "key": "BSERV-12486",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-26T22:27:17.000+0000",
      "created": "2020-07-24T11:52:00.000+0000",
      "description": "After merging a pull request, the commit message of the merge commit can be read at the commit view\r\n [https://bitbucket/projects/PROJECT/repos/REPO/commits/af255632343221dc2458d52bfd9e5b6e29824f407c]\r\n\r\nOn this page the commit message starts with the pull request number used for merging: \r\n \"Pull request #370: ...\".\r\n\r\nCould you please link this text on the page to the Pull Request Page, like\r\n\"[https://bitbucket/projects/PROJECT/repos/REPO/pull-requests/370/overview]\"?",
      "summary": "Create a link in a merge commit message pointing to its pull request"
    }
  },
  {
    "key": "BSERV-12484",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-09T07:21:23.000+0000",
      "created": "2020-07-23T15:02:46.000+0000",
      "description": "h3. Issue Summary\r\nPushing and pulling using HTTP(S) via a reverse proxy or load balancer can fail or hang when using an AJP connector on Bitbucket Server rather than an HTTP(S) connector.\r\n \r\nh3. Steps to Reproduce\r\n\r\n(These steps are for a push; the issue can also be seen for clones, however)\r\n\r\n # Clone a large repo from another source (reproduced with 21GB git repository on disk)\r\n # Run Bitbucket with following properties \r\n{code}\r\n-Dserver.additional-connector.1.connector-protocol=AJP/1.3\r\n-Dserver.additional-connector.1.port=7991\r\n{code}\r\n# Use following command to start AJP proxy to local bitbucket server \r\n{code}\r\ndocker run -i --rm -p 8080:80 httpd:alpine sh -c $'printf \\'LogLevel debug\\nLoadModule proxy_module modules/mod_proxy.so\\nLoadModule proxy_ajp_module modules/mod_proxy_ajp.so\\nProxyPass \"/bitbucket\" \"ajp://host.docker.internal:7991/bitbucket\"\\n\\' >> /usr/local/apache2/conf/httpd.conf && exec httpd-foreground'\r\n{code}\r\nIf you use http://localhost:8080/bitbucket it will go use this proxy.\r\n# Create an empty repo.\r\n# cd to large repo cloned earlier and push to newly created empty repo using following command\r\n{code}\r\ngit remote set-url origin http://localhost:8080/bitbucket/scm/key/slug.git\r\ngit push -u origin --all\r\ngit push origin --tags\r\n{code}\r\n\r\nh3. Expected Results\r\nGit finishes command successfully after setting the remote branch and return the console to the user. The repository pushed through successfully.\r\n\r\nh3. Actual Results\r\nThe push hangs indefinitely.\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2020-07-22 09:53:49,286 WARN  [http-scmrequest-handler:thread-4] jdoe @1LJHAD5x1114x315x0 1.1.1.1 \"GET /scm/key/slug.git/info/refs HTTP/1.1\" c.a.s.i.s.g.p.http.CgiStdinHandler [/usr/local/bin/git http-backend] exited cleanly, but stdin was never closed\r\n2020-07-22 09:54:09,530 INFO  [http-scmrequest-handler:thread-4] jdoe @1LJHAD5x1114x315x0 1.1.1.1 \"POST /scm/key/slug.git/git-receive-pack HTTP/1.1\" c.a.s.i.s.g.p.h.GitSmartExitHandler KEY/slug[1]: Read request from 2.2.2.2 failed due to a socket timeout\r\n{noformat}\r\n\r\nh3. Notes\r\nThe same issue can happen with pulling the repository.\r\n\r\nh3. Workaround\r\nUse SSH for hosting, or configure Bitbucket Server with an HTTP(S) connector instead of AJP. (Note that even if using an HTTP connector it's still possible to terminate SSL at a reverse proxy or load balancer; AJP is not required for that.)",
      "summary": "Pushing and pulling when using an AJP connector can fail or hang"
    }
  },
  {
    "key": "BSERV-12480",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-23T01:08:19.000+0000",
      "created": "2020-07-22T00:29:06.000+0000",
      "description": "We have a workflow which requires completion of different process forms, which often are based on the name of the branch for a pull request. Currently, we use an internal plugin to display a banner in the \"bitbucket.web.repository.banner\" web section. The plugin will check the branch name, and load an appropriate checklist or warning. However, this appears to cause some problems on the \"Diff\" tab if the banner is too large. No page scrollbar appears for the diff area below the repository banner section.\u00a0\r\n\r\n\u00a0\r\n\r\nIt would be really useful if there were a web section for the top of the pull request overview area (like the merge conflict warning banner), or even the pull request page itself, that didn't affect the sizing of the diff tab elements.\u00a0",
      "summary": "Pull Request Overview Web Panel"
    }
  },
  {
    "key": "BSERV-12479",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-22T01:51:47.000+0000",
      "created": "2020-07-21T13:43:46.000+0000",
      "description": "When we an in-line comment to file in the diff page of a Pull Request, it can be archived by modifying the line in question. The comment is still visible on the overview page with the label \"Outdated\".\r\n\r\nHowever, if we create a comment for the file by pressing the button \"Add a file comment\", this creates a comment for the entire file and is always visible on the overview page and can only be Deleted. \r\n\r\nAn option to archive these comments can be useful in preventing confusion regarding comments that have already been addressed. ",
      "summary": "Ability to archive file comments on a Pull Requests"
    }
  },
  {
    "key": "BSERV-12478",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-22T01:16:54.000+0000",
      "created": "2020-07-21T08:33:24.000+0000",
      "description": "Hello,\r\n\r\nRunning Makefiles and Python scripts correctly depends on the correct use of tabs and spaces.\r\nWe have a lot of Makefiles and Python scripts which are checking with pull requests every day.\r\nWith Bitbucket 7 we cannot show whitespace characters in the pull request anymore.\r\nThis option has been removed from the diff view action menu.\r\nAs a result our developers complain that it is very difficult for them to check the code of all the Makefiles and Python scripts.\r\n\r\nCould you please fix this?\r\n\r\nFor this topic I found a suggestion https://jira.atlassian.com/browse/BSERV-12245. \r\nCould you please change it to be a bug report? This seems to affect a lot of developers.\r\n\r\nThe attachment show the menu and the apperarance of\u00a0 a makefile with Bitbucket 5.15 and with 7.3. As you can see with 5.15 you can see the error in the Makefile at a first glance and with Bitbucket 7 this is not possible anymore.\r\n\r\n\r\nBest Regards, \r\nMilan",
      "summary": "Show whitespace characters in pull request diffs"
    }
  },
  {
    "key": "BSERV-12476",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-20T15:17:09.000+0000",
      "description": "Bitbucket is now heavily biased towards feature branches, e.g. code review is only possible via pull requests which require branches.\r\n\r\n\u00a0\r\n\r\nIt would be great to also support code review for trunk-based development, as Crucible did.",
      "summary": "Support code review for trunk-based development"
    }
  },
  {
    "key": "BSERV-12475",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-17T15:45:54.000+0000",
      "description": "DraftPR is like a pull request which is basically intended to collaborate on code with a reviewer.\r\n\r\nSo, this DraftPR is like a temporary PR and when the reviewers approve the code, this DraftPR can be converted to a full PR with notification being sent to the code owner to merge.\r\n\r\nThis also avoids spamming code owner's email.\r\n\r\nThis is present in Github.",
      "summary": "Bitbucket should have a feature of Draft PR "
    }
  },
  {
    "key": "BSERV-12474",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-16T15:32:35.000+0000",
      "description": "When some repositories get corrupted on the mirror, to resolve this it is necessary to remove the project from the mirror sync'd list and restart the mirror to delete the corrupt repository.\r\n\r\nIf the project contains many large repositories, with a lot of activity, deleting them can take hours, rendering the entire mirror unavailable.\r\n\r\nIt may help to avoid syncing activity tables, such as {{sta_repo_push_ref}} etc, to speed up the repository deletion.",
      "summary": "Avoid syncing activity tables to the mirror h2 database"
    }
  },
  {
    "key": "BSERV-12473",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-16T06:26:16.000+0000",
      "description": "h4. Summary\r\n\r\nIt was noticed that the service restart for Bitbucket DC/Server with systemd took longer to initiate before restarting the Bitbucket.\r\nh4. Suggestion\r\n\r\nThe customer had identified that issue and suggested the improvement.\r\n *Current configuration*:\r\n{code:java}\r\nRestart=on-failure # this value is currently configured\r\n{code}\r\n*Improved configuration*:\r\n{code:java}\r\nRestart=on-failure # this value is currently configured\r\n\r\nRestartSec=10 # the improvement here is that it responds quicker when the service decides to die.\r\n{code}",
      "summary": "Improve service restart behaviour with systemd"
    }
  },
  {
    "key": "BSERV-12472",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-09-15T02:37:54.000+0000",
      "created": "2020-07-15T07:39:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Bitbucket\u00a0_/rest/jira-dev/latest/updated-issues,_\u00a0end-point is used to return list of Jira issues that were updated since given \"sequenceNo\". This end-point accepts a parameter called \"maxResults\" which helps in paginating through the results. But while paginating some results are not returned on pages > 1st page.\r\nh3. Steps to Reproduce\r\n # Create a repository.\r\n # Push some commits in this repository which involves 5 different Jira issue keys.\r\n # Note down the current time in milliseconds.\r\n # Perform re-indexing of this repository using following curl command\r\n{noformat}\r\ncurl -v -u <ADMIN_USER> -p -H \"Accept: application/json\" -H \"Content-Type: application/json\" -d \"{}\" <BITBUCKET_URL>/rest/jira-dev/1.0/projects/<PROJECT_KEY>/repos/<REPO_SLUG>/reindex?withCommits=true\r\n {noformat}\r\n # Hit following URL in browser with authenticated user session - <BITBUCKET_URL>/rest/jira-dev/latest/updated-issues?sequenceNo=<<SEQUENCE_NO>>&maxResults=5 and note the results.\r\n # Hit same URL with maxResults=2\r\n # Hit same URL again with sequenceNo equal to \"newSequenceNo\" received from last response and maxResults=2\r\n\r\nh3. Expected Results\r\n2 Jira issue keys are returned in the result which are equal to 3rd and 4th received in step 5\r\n\r\nh3. Actual Results\r\nNo issue keys are returned\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behaviour. A workaround will be added here when available.\r\n\r\nh4. Impact\r\nThis impacts Jira integration where\u00a0missed Jira issue keys won't show latest branch/PR/commits information in dev panel if more than 50 issues are updated at same timestamp OR re-indexing updates more than 50 Jira issues. End-to-end issue will not be observed until\u00a0JSWSERVER-20190 and JSWSERVER-20612 are fixed, because different error will happen before this issue is observed.",
      "summary": "Some indexed Jira issue keys are not returned in REST response"
    }
  },
  {
    "key": "BSERV-12471",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-14T16:38:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nDue to a bug ([XERCESJ-1668|https://issues.apache.org/jira/browse/XERCESJ-1668]) in the Apache Xerces library, which is used in the Bitbucket backup client for creating/parsing the XML database backup, an attempt to parse a large XML database backup containing certain special characters can result in a database restoration/migration attempt failing with a SAXParseException.\r\n\r\nh3. Steps to Reproduce\r\n\r\n(!) Note: As this issue has been primarily reproduced with data from actual Bitbucket instances, the internal attempts at reproducing/investigating this issue have been done through using copies of this same data. No steps are currently available to generate a database schema from scratch that is able to reproduce this issue.\r\n\r\n# Use the Bitbucket backup client to generate a backup archive for a Bitbucket instance with a large database that contains many special characters (such as pull request comments with emojis)\r\n# Use the [standard restore process|https://confluence.atlassian.com/bitbucketserver/using-the-bitbucket-server-backup-client-776640064.html#UsingtheBitbucketServerBackupClient-runrestore] to attempt to restore the generated backup to a new external database. \r\n\r\nOR\r\n\r\n# Using the [database migration wizard|https://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-an-external-database-776640378.html#ConnectingBitbucketServertoanexternaldatabase-UsingtheDatabaseMigrationWizard], attempt to migrate a large Bitbucket database containing many special characters (such as pull request comments with emojis) to a new database.\r\n\r\nh3. Expected Results\r\n\r\nThe database restoration completes as expected, with no exception being thrown.\r\n\r\nh3. Actual Results\r\n\r\nThe restore fails, with the following exception in the associated restoration attempt's logs:\r\n\r\n{noformat}\r\n2020-07-13 07:39:41,634 INFO         Initializing\r\n2020-07-13 07:39:43,253 INFO         Unpacking bitbucket-20200709-172649-440.tar to /media/atl/bitbucket\r\n2020-07-13 10:25:18,721 INFO         Validating database before restore\r\n2020-07-13 10:25:20,450 INFO         Restoring database schema definition\r\n2020-07-13 10:25:33,482 INFO         Restoring database data\r\n2020-07-13 10:25:40,133 ERROR        bitbucket-20200709-172649-440.tar could not be restored\r\ncom.atlassian.stash.internal.backup.liquibase.LiquibaseDataAccessException: SAX parsing error while parsing backup file; nested exception is org.xml.sax.SAXParseException; lineNumber: 10888480; columnNumber: 36; Invalid byte 2 of 4-byte UTF-8 sequence.\r\n\tat com.atlassian.stash.internal.backup.liquibase.DefaultLiquibaseMigrationDao.parse(DefaultLiquibaseMigrationDao.java:229)\r\n\tat com.atlassian.stash.internal.backup.liquibase.DefaultLiquibaseMigrationDao.scan(DefaultLiquibaseMigrationDao.java:215)\r\n\t... 10 more frames available in the log file\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nFollow the workaround steps listed in the following knowledge article:\r\n\r\n* [Database Restore/Migration fails - SAXParseException: Invalid byte 2 of 4-byte UTF-8 sequence|https://confluence.atlassian.com/bitbucketserverkb/database-restore-migration-fails-saxparseexception-invalid-byte-2-of-4-byte-utf-8-sequence-1014276836.html]",
      "summary": "Restoring large backup containing 4-byte UTF-8 characters can fail with SAXParseException"
    }
  },
  {
    "key": "BSERV-12470",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-08-11T04:41:06.000+0000",
      "created": "2020-07-13T12:33:24.000+0000",
      "description": "h3. Issue Summary\r\nNote: this is a clone of JRA-70602, created to track the same bug that manifests across all products.\r\n\r\nTrying to configure a new application link or loading the Application link page to list the status of existing Applinks will show \"NETWORK ERROR\" in red.  \r\nThe REST client  {{atlassian-rest-module:3.2.16}} while reading headers (eg. Content-Type) does a _case-sensitive lookup_ for them (headers name should be _case-insensitive_). So when headers are in lower case it can't parse them properly. The problem is triggered by the proxy server, which is converting all HTTP header names to lower-case.\r\n\r\nh3. Steps to Reproduce\r\n# Setup two Atlassian applications behind a proxy\r\n# Setup HAProxy with HTX enabled on one of the application\r\n# Configure Application link between the two applications\r\n\r\nh3. Expected Results\r\nThe application link can be configured and established\r\n\r\nh3. Actual Results\r\nThe application link is not configured correctly with \"NETWORK ERROR\" due to wrong headers.\r\n\r\nh3. Workaround\r\nOn the proxy side, disable the handling of headers to all lowercase:\r\n* Example HAProxy, set {{no option http-use-htx}}\r\n* Example for Envoy - [header_casing|https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/header_casing]",
      "summary": "Application Link Status page fails to load due to Case-sensitive checks for Headers"
    }
  },
  {
    "key": "BSERV-12469",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-10T08:17:13.000+0000",
      "description": "Working concurrently on several projects, I would find it useful to have the project icon displayed next to the pull requests listed on the \"Your work\" overview. Especially when I'm working on different projects with the _same_ colleagues, I can't see right away which pull request belongs to which project.",
      "summary": "Project icon in Dashboard \"Your work\" overview"
    }
  },
  {
    "key": "BSERV-12468",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2020-07-10T03:43:15.000+0000",
      "description": "In Exchange online, the main method of authentication to mail servers is now Oauth 2.0. ([Authenticate an IMAP, POP or SMTP connection using OAuth \\- Microsoft Docs|https://docs.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth])\r\n\r\nThey have began to phase out all Basic authentication (see [End of support for Basic Authentication access to Exchange Online API\u2019s for Office 365 customers \\- Microsoft 365 Developer Blog|https://developer.microsoft.com/en-us/office/blogs/end-of-support-for-basic-authentication-access-to-exchange-online-apis-for-office-365-customers/]) except for SMTP for the time being:\r\n\r\n{quote}\r\nPlease note this change does not affect SMTP AUTH and we will continue to support Basic Authentication for it in Exchange Online at this time. With the large number of solutions, devices, and appliances that use SMTP for sending mail we are working on ways to further secure SMTP AUTH and will continue to update you as we make progress. \r\n{quote}\r\n\r\nSuggesting that we should look into adding mail server Oauth 2.0 support for authentication.",
      "summary": "Allow OAuth 2.0 for mail authentication"
    }
  }
]