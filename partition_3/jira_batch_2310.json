[
  {
    "key": "BSERV-12911",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-06T13:33:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe *User login failed* type of event is not available for selection from the *Summaries* dropdown in the audit log filters even if there are such events.\r\n\r\nh3. Steps to Reproduce\r\n# Have an instance with audit logging enabled\r\n# Try logging in with an incorrect password\r\n# Navigate to the audit logs page, you will see the *User login failed* event in the list\r\n# At the top of the table click *+ More* to show the *Summaries* field\r\n\r\nh3. Expected Results\r\n*User login failed* can be selected from the list\r\n\r\nh3. Actual Results\r\n*User login failed* does no appear in the list of selectable summaries.\r\n\r\nh3. Workaround\r\n\r\nEnter *failed* in the *Search* field and click *Apply*. This may also display other events whose summary contains *failed* though.\r\n",
      "summary": "\"User login failed\" is not available as a Summaries filter in Audit Logs"
    }
  },
  {
    "key": "BSERV-12910",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T05:40:42.000+0000",
      "created": "2021-07-06T11:08:34.000+0000",
      "description": "Warning message as below appear but synchronization completed even if casing differs\r\n\r\nThe following may be found within\u00a0{{atlassian-bitbucket.log}}:\r\n{noformat:title=atlassian-bitbucket.log}\r\n2021-07-06 13:01:14,613 WARN\u00a0 [Caesium-1-3]\u00a0 c.a.c.d.s.c.DefaultGroupActionStrategy remote group name [ TestCrowd ] casing differs from local group name [ testcrowd ]. Group details will be kept updated, but the group name cannot be updated\r\n{noformat}\r\nReplication process and workaround described on Crowd linked issue.\r\n\r\nIs it possible to have the warning message in the log removed?",
      "summary": "Changing groupname casing in external user management causes warning in logs"
    }
  },
  {
    "key": "BSERV-12908",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-05T01:03:23.000+0000",
      "created": "2021-07-05T00:52:40.000+0000",
      "description": "h3. Issue Summary\r\n\r\nHello\r\nh3. Steps to Reproduce\r\n # Step 2\r\n # Step 3\r\n\r\nh3. Expected Results\r\n\r\ntest\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the xxxxxxx.log file:\r\n{noformat}\r\ntest\r\n{noformat}\r\nh3. Workaround\r\n Currently there is no known workaround for this behavior. A workaround will be added here when availablef",
      "summary": "Test Creation"
    }
  },
  {
    "key": "BSERV-12907",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-07-01T20:31:37.000+0000",
      "description": "There is currently the ability to rich render Jupyter notebook files as of Bitbucket 7.7 but when rendering the diff in a pull request, it is plain text.  There are tools like [nbdime|https://nbdime.readthedocs.io/en/latest/] that offer more content-aware diffs when comparing notebook files that could make Bitbucket pull requests more effictive.\r\n\r\n",
      "summary": "More effective diffs when using Jupyter Notebook"
    }
  },
  {
    "key": "BSERV-12906",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-07T06:51:54.000+0000",
      "created": "2021-07-01T06:31:51.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn\u00a0[Audit events in Bitbucket Server - Bitbucket Version 6.10|https://confluence.atlassian.com/bitbucketserver0610/audit-events-in-bitbucket-server-989761823.html] public documentation page, the \"_see the audit log config properties_\" hyperlink is broken and customer has reported this in [PSSRV-15725|https://getsupport.atlassian.com/browse/PSSRV-15725]. \r\n\r\n\r\nh3. Steps to Reproduce\r\nClick \"_see the audit log config properties_\" hyperlink as shown in attached screenshot.\r\n\r\nh3. Expected Results\r\nThe hyperlink should be pointing to the below URL.\r\nhttps://confluence.atlassian.com/bitbucketserver0610/bitbucket-server-config-properties-989761828.html#BitbucketServerconfigproperties-Audit\r\nh3. Actual Results\r\nThe hyperlink is pointing to the below Page-Not-Found.\r\nhttps://confluence.atlassian.com/display/ATS/Bitbucket+Server+Config+Properties#BitbucketServerConfigProperties-Audit\r\n\r\nh3. Workaround\r\nThe users can access the access the Bitbucket Version 6.10 Config properties sheet by using the \"_Bitbucket Server config properties_\" hyperlink from the 'Related content' section.",
      "summary": "The Bitbucket Config hyperlink from Audit Documentation pages are broken"
    }
  },
  {
    "key": "BSERV-12905",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-30T19:22:27.000+0000",
      "description": "As a security administrator, I would like to set a separate (shorter, e.g. 10 minutes) session idle timeout for Project or System Administrators, so that I can harden access for privileged users without inconveniencing regular users.\r\n\r\nThis guideline appears in the DISA STIGs for hardening US Federal Government systems.",
      "summary": "Implement separate session idle timeout for Administrators"
    }
  },
  {
    "key": "BSERV-12904",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-25T12:07:49.000+0000",
      "description": "As of Bitbucket 7.4, with the introduction of the modern Core API for builds:\r\n{noformat}\r\n/rest/api/1.0/projects/<PROJECT>/repos/<REPO>/commits/<commitSHA>/builds\r\n{noformat}\r\nand request body representation example\r\n{noformat}\r\n{\r\n    \"key\": \"TEST-REP123\",\r\n    \"state\": \"SUCCESSFUL\",\r\n    \"url\": \"https://bamboo.url/browse/TEST-REP1-3\",\r\n    \"buildNumber\": \"3\",\r\n    \"description\": \"Unit test build\",\r\n    \"duration\": 1500000,\r\n    \"name\": \"Database Matrix Tests\",\r\n    \"parent\": \"TEST-REP\",\r\n    \"ref\": \"refs/pull-requests/xxx/from\",\r\n    \"testResults\": {\r\n        \"failed\": 1,\r\n        \"skipped\": 8,\r\n        \"successful\": 0\r\n   {noformat}\r\nthe build result will *not* be displayed on the Pull Request builds tab for the above example where the build is for {{refs/pull-requests/xxx/from}}, even if the build was triggered, and the build server successfully sent the above payload to Bitbucket.\r\n\r\nThe page would only display a build for the source branch (for example for ref: \"refs/heads/sourcebranch\"\r\n\r\nIt would be useful to display the build result for the pull request refs, as the event and payload are received and stored in the database.",
      "summary": "Show the build status for pull-requests/*/from builds on the PR page"
    }
  },
  {
    "key": "BSERV-12903",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-24T17:31:07.000+0000",
      "description": "The REST API documentation, especially around endpoints that offer POST capability needs to be dramatically improved. There are many endpoints where there are limits to the amount of data, dependencies, required fields, etc that are not documented.\r\n\r\nAs an example, the REST endpoint for creating a pull request, the description must be under 32,768 characters.  This limitation is not documented in the base documentation for the pull request feature or the REST API documentation.  \r\n\r\nThe lack of detail in the documentation results in painful troubleshooting when the user inadvertently exceeds limits they had no idea that existed.  The first step would be to consult the documentation, but there is no information that provides any troubleshooting assistance.",
      "summary": "Improve the documentation for the REST API"
    }
  },
  {
    "key": "BSERV-12902",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-17T15:24:29.000+0000",
      "description": "The suggestion is to have a way to configure the Integrity Checker in such a way, that it would list all the detected inconsistencies without automatically fixing them.\r\nThe customer shared that at present, in order to achieve this, they have to use a very tedious workaround, where they take a snapshot of existing data (NFS + DB), run Bitbucket with the Consistency Checker, collect its output, then restore the data from the snapshot and manually fix the inconsistencies that were being reported. This is a very lengthy and tedious method, extending Bitbucket's downtime, and potentially losing any changes that may be received before the data is restored from a snapshot.\r\n\r\n*Why the customer wants to disable the automatic reparation of inconsistencies?*\r\nSince consistency checker fixes a few inconsistencies with a user name as \"Integrity checker\", the customer is not sure for example a merge being done which suppose to trigger a CI/CD build and it may not trigger a build and it is always a better situation to have the option to fix the inconsistencies or not. ( this will add more flexibility during disaster recovery situations)",
      "summary": "Disable the automatic reparation of inconsistencies"
    }
  },
  {
    "key": "BSERV-12901",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-17T14:28:38.000+0000",
      "description": "*Description*\u00a0\r\n\r\nWhen seeing the\u00a0side by side change in the commit view and in the compare view, you see diff hunk bars next to the scrollbars where you can see where the changed lines are within an entire file.\u00a0 (Shown in image001.jpg)\r\n\r\n!image001.png!\r\nYou can click on these diff hunk bars to to focus the view on the changed lines.\r\n\r\nBut in\u00a0the side by side PR view these hunk bars are missing and so you need to scroll down to find changes or use the n & p hotkeys to jump forward and back. {Shown in image002.jpg)\r\n\r\n!image002.png!\r\n\r\nCan we have the same\u00a0hunk bars on the PR dff view as well, to get a consistent navigation experience across diff views?\r\n\r\n\u00a0",
      "summary": "Please bring Hunk bars to PR diff view as well "
    }
  },
  {
    "key": "BSERV-12900",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-17T10:11:51.000+0000",
      "description": "h3. Issue Summary\r\n\r\nPull request links are missing after a DC Migration (Server to Server)\r\nh3. Steps to Reproduce\r\n # Prepare two Bitbucket instances (source and target)\r\n # Create a Pull Request on the source instance and merge it\r\n # Navigate to the merge commit created from the PR.\u00a0 The PR link is visible.\r\n # [Export all projects from the source instance|https://confluence.atlassian.com/bitbucketserver/exporting-957497835.html]\r\n # [Import the projects to the target instance|https://confluence.atlassian.com/bitbucketserver/importing-957497836.html]\r\n # On the target instance, navigate to the merge commit created from step#2. The PR link is missing.\r\n\r\nh3. Expected Results\r\n\r\nPR link should be visible, similar to the source.\r\n\r\n!source.png|thumbnail!\r\nh3. Actual Results\r\n\r\nPR link is missing\r\n\r\n!target.png|thumbnail!\r\nh3. Workaround\r\n # Stop the target instance\r\n # Delete the following file in the target instance\r\n{code:java}\r\n{BITBUCKET_HOME}/shared/config/upgrades/core-backfill-pull-request-commits{code}\r\n # OPTIONAL: Enable DEBUG logging for\r\n{code:java}\r\ncom.atlassian.stash.internal.pull.PullRequestCommitBackfillJob{code}\r\n # Start the target instance",
      "summary": "DC Migration - export/import results in missing pull request links on the target instance"
    }
  },
  {
    "key": "BSERV-12899",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-08-31T04:27:59.000+0000",
      "created": "2021-06-16T13:15:29.000+0000",
      "description": "h3. Issue Summary\r\nView admin/license in UI shows 1243/2000 licenses used.\r\n* Using the [KB- How do I find which users count against my Bitbucket Server license|https://confluence.atlassian.com/bitbucketserverkb/how-do-i-find-which-users-count-against-my-bitbucket-server-license-779171685.html] \r\n** Method 1 returns 1203 users.\r\n** Method 2 returns 1243 results (which matches the count shown in admin/license).\r\n This method is insufficient as it doesn't provide the email addresses of the users.\r\n\r\nBoth of these method require a plugin which are not allowed in the production environment.\r\n\r\n* The REST Api (rest/api/1.0/users?permission=LICENSED_USER)  returns 1225 users and the output varies with 'start' and 'limit' inconsistently.\r\n\r\nh3. Steps to Reproduce\r\nN/A\r\n\r\nh3. Expected Results\r\n* All methods should return the same count/set of users.\r\n\r\nh3. Actual Results\r\n* The results are inconsistent\r\n\r\nh3. Workaround\r\n* None ",
      "summary": "Inconsistency validating licensed user count"
    }
  },
  {
    "key": "BSERV-12898",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-15T19:21:21.000+0000",
      "description": "\r\n{code}\r\n/rest/mirroring/1.0/upstreamServers/{upstreamId}/settings/projects\r\n{code}\r\n\r\nWe'd like to be able to retrieve a list of Repositories, along with their Repositoy Slug and Repository ID.",
      "summary": "Enable Bitbucket's REST API to provide a list of repositories being mirrored"
    }
  },
  {
    "key": "BSERV-12897",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-15T19:20:00.000+0000",
      "description": "Currently you only receive the Project IDs if you hit this endpoint:\r\n\r\n{code}\r\n/rest/mirroring/1.0/upstreamServers/{upstreamId}/settings/projects\r\n{code}\r\n\r\n\r\nWe'd like to get the Project Keys returned as well.",
      "summary": "Enable Bitbucket's REST API to provide ProjectKey alongside ProjectID on mirrors"
    }
  },
  {
    "key": "BSERV-12896",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-07T03:22:56.000+0000",
      "created": "2021-06-14T05:39:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUnable to access PR after merge from fork to main.\r\nh3. Steps to Reproduce\r\n\r\nReplication on Bitbucket 7.7.1 instance:\r\n # Created a repository called {{new-repo}}, here: {{[http://localhost:6771/b771/projects/FIR/repos/new-repo/browse]}}. It has all the branches.\r\n # Then forked it in my username {{ajaitly}}, called {{new-repo-fork}}: {{[http://localhost:6771/b771/users/ajaitly/repos/new-repo-fork/browse]}}\r\n # Created a PR between branch {{bug/ARGUS-23284}} from the fork repo, to the {{master branch}} in the main repo:\r\n !Creating PR.png|width=685,height=240!\r\n # Merged the PR, the option for *{{Delete source after merging}}* is checked(/)\r\n !Merge PR.png|width=822,height=258!\r\n # Tried to access the _Diff_ tab of the PR, got the same error:\r\n !error screenshot.png|width=742,height=329!\r\n\r\n * The _Overview_ and _Builds_ tab are fine, even the _Commits_ tab. Error occurs only when we open that commit, or any other commit in that PR and while accessing the _Diff_ tab.\r\n * This issue occurs with other branches as well like feature type branch for example.\r\n\r\nh3. Expected Results\r\n\r\nWe should be able to see all the tabs of the PR successfully.\r\nh3. Actual Results\r\n * We get an \"Couldn't find ref error. The remote hung up unexpectedly\" on the UI.\r\n * The below exception is thrown in the {{atlassian-bitbucket.log}} file:\r\n{code:java}\r\n2021-06-09 10:08:00,236 DEBUG [http-nio-6771-exec-5] ajaitly @3AERBSx608x979x0 1bdz5uq 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/FIR/repos/avengers/pull-requests/3/changes HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 500\r\ncom.atlassian.bitbucket.scm.CommandFailedException: '/usr/bin/git fetch /Users/ajaitly/bitbucket-home/atlassian-bitbucket-7.7.1/shared/data/repositories/4 refs/heads/bug/ARGUS-23284:' exited with code 128 saying: fatal: couldn't find remote ref refs/heads/bug/ARGUS-23284\r\nfatal: the remote end hung up unexpectedly\r\n{code}\r\nAfter a while when you try to access, it works fine. Attaching the full log file:\r\n\r\nh3. Workaround\r\n\r\nIf we try to access it after a while it may work. This issue is fixed in 7.12.0 and onwards, you can upgrade to that version or above that\r\n",
      "summary": "Merging PR from fork to main repo gives 500 error"
    }
  },
  {
    "key": "BSERV-12895",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-09T03:08:13.000+0000",
      "created": "2021-06-10T14:03:31.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAfter upgrading Bitbucket Server/DC to version 7.13+ (tested 7.0 -> 7.13 and 7.6 -> 7.13) SSO for Atlassian Data Center gets disabled and can't be enabled.\r\n\r\nh3. Steps to Reproduce\r\n # Install\u00a0Bitbucket 7.6.\r\n # Upgrade to\u00a0Bitbucket 7.13+\r\n\r\nh3. Expected Results\r\n\r\nSSO for Atlassian Data Center is enabled.\r\nh3. Actual Results\r\n\r\nSSO for Atlassian Data Center is disabled and trying to enable it fails with an error:\r\n{noformat}\r\n{code:java}\r\n2021-06-10 15:43:09,975 ERROR [ThreadPoolAsyncTaskExecutor::Thread 22]  c.a.plugin.osgi.factory.OsgiPlugin Unable to start the plugin container for plugin 'com.atlassian.plugins.authentication.atlassian-authentication-plugin'\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ssoConfigServiceImpl': Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atlassian.plugins.authentication.api.config.IdpConfigService' available: expected single matching bean but found 2: idpConfigServiceImpl,auditingIdpConfigService\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:799)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:322)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:287)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 11 frames trimmed\r\nCaused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atlassian.plugins.authentication.api.config.IdpConfigService' available: expected single matching bean but found 2: idpConfigServiceImpl,auditingIdpConfigService\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:220)\r\n\t... 9 common frames omitted\r\n2021-06-10 15:43:09,983 INFO  [ThreadPoolAsyncTaskExecutor::Thread 22]  o.s.o.a.NonValidatingOsgiBundleXmlApplicationContext Application Context service already unpublished\r\n2021-06-10 15:43:09,983 INFO  [ThreadPoolAsyncTaskExecutor::Thread 22]  o.e.g.b.e.i.s.ExtenderConfiguration Application context succesfully closed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.plugins.authentication.atlassian-authentication-plugin, config=osgibundle:/META-INF/spring/*.xml))\r\n2021-06-10 15:43:09,987 INFO  [FelixDispatchQueue]  c.a.p.o.c.f.FelixOsgiContainerManager Stopped bundle com.atlassian.plugins.authentication.atlassian-authentication-plugin (109)\r\n2021-06-10 15:43:09,990 ERROR [ThreadPoolAsyncTaskExecutor::Thread 22]  o.e.g.b.e.i.s.ExtenderConfiguration Application context refresh failed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.plugins.authentication.atlassian-authentication-plugin, config=osgibundle:/META-INF/spring/*.xml))\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ssoConfigServiceImpl': Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atlassian.plugins.authentication.api.config.IdpConfigService' available: expected single matching bean but found 2: idpConfigServiceImpl,auditingIdpConfigService\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:799)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:322)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:287)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 11 frames trimmed\r\nCaused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atlassian.plugins.authentication.api.config.IdpConfigService' available: expected single matching bean but found 2: idpConfigServiceImpl,auditingIdpConfigService\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:220)\r\n\t... 9 common frames omitted\r\n2021-06-10 15:43:10,008 ERROR [ThreadPoolAsyncTaskExecutor::Thread 22]  o.e.g.b.e.i.d.s.DependencyWaiterApplicationContextExecutor Unable to create application context for [com.atlassian.plugins.authentication.atlassian-authentication-plugin], unsatisfied dependencies: none\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ssoConfigServiceImpl': Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atlassian.plugins.authentication.api.config.IdpConfigService' available: expected single matching bean but found 2: idpConfigServiceImpl,auditingIdpConfigService\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:799)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:322)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:287)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 11 frames trimmed\r\nCaused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atlassian.plugins.authentication.api.config.IdpConfigService' available: expected single matching bean but found 2: idpConfigServiceImpl,auditingIdpConfigService\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:220)\r\n\t... 9 common frames omitted\r\n{code}\r\n{noformat}\r\n\r\nRemoving the plugin from /opt/atlassian/bitbucket/app/WEB-INF/atlassian-bundled-plugins/ solved the issue only temporarily. \r\n\r\n\r\nh3. Workaround\r\n Currently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "SSO for Atlassian Data Center (embedded plugin) can't be enabled after upgrading to Bitbucket 7.13+"
    }
  },
  {
    "key": "BSERV-12894",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T15:19:45.000+0000",
      "description": "When a local bitbucket.properties file is used, the settings in the local version override the setting in the shared bitbucket.properties.\r\n\r\nIn a data center instance we need to have a stronger reaction if the database entry is found but doesn't match the database in the shared instance bitbucket.properties or if there are changes to the port we listen to, the proxies that we redirect to or any other changes that would cause the node to behave contradictory to the cluster.\r\n\r\nh4. Possible actions\r\n- Prevent the node from starting with sufficiently descriptive message in the logs about why the node didn't start\r\n- Ignore certain core settings like the Database and the proxies\r\n\r\nThere should also be a warning indicator in the GUI (similar to when you are not using the base url) when a local bitbucket.properties file is in use.\r\n",
      "summary": "Handle local bitucket.properties file better"
    }
  },
  {
    "key": "BSERV-12893",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T15:08:59.000+0000",
      "description": "Currently there are many potential issues that can be introduced to a bitbucket.properties file that do not prevent the system from starting but are not valid.\r\n\r\nThis could be a result of typos or obsolete settings, and it could be a result of changing a setting to a value that is not expected (too large or small)\r\n\r\nTo improve the supportability of the product it would be really good if there was available on the Administrator section a page that both validates the bitbucket.properties file and provides a visual indicator of all of the settings with an indicator if the values used are different from the default, if the setting is deprecated, or if the setting will be ignored.\r\n\r\nFor example if you have an entry in bitbucket.properties to change the adaptive throttle to 5 time scaling concurrency there would be a page that shows:\r\nh4. Valid\r\n||Setting||Current Value||Default Value||Valid||\r\n|throttle.resource.scm-hosting.adaptive.limit.max|5|4|(/)|\r\n\r\nIf there are deprecated settings (for example plugin.bitbucket-scm-cache.refs.enabled) it might look like:\r\nh4. Warning\r\n||Setting||Current Value||Default Value||Valid||\r\n|plugin.bitbucket-scm-cache.refs.enabled|true|deprecated|(!)|\r\n\r\nIf there are unrecognized settings that are not comments it might look like:\r\nh4. Error\r\n||Setting||Current Value||Default Value||Valid||\r\n|plugin.bitbucket-comment-likes.max.resorces|1000|Unknown|(x)|\r\nThe above setting is misspelled (resorces instead of resources) and would be ignored but there is currently no indication that this is the case except that the expected change would not have been performed\r\n\r\nHaving the ability to edit these setting in the GUI would be an added bonus as we could ensure that typos and invalid settings are at least called out before the user attempted a restart\r\n\r\nStoring the bitbucket.properties in an internal Git repository would also be another improvement so that changes over time could be tracked by author and date, and changes could easily be backed out.",
      "summary": "Need Visual indication of valid bitbucket.properties file"
    }
  },
  {
    "key": "BSERV-12892",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-08T03:03:28.000+0000",
      "description": "With Jira Software and Bitbucket servers integrated via application link, we added validator to the issue transition to mandate Comment.\r\n\r\nWe created a custom transition screen with the required field and Comment is automatically displayed as part of the transition screen. The Comment field in Jira\u00a0 is marked as 'This field can not be placed on screens by users'.\r\n\r\nIssue transition is working accordingly if user transitioned\u00a0the issue from Jira application but the same Jira issue failed to be transitioned from Bitbucket application as the Comment field is omitted while we have the Jira workflow validator to ensure comment is entered.\r\n\r\nJira:\r\n !Jira.png|thumbnail! \r\n\r\nBitBucket:\r\n !BB.png|thumbnail! ",
      "summary": "Comment field is missing from Jira issue transition screen if Jira issue is transition from BitBucket"
    }
  },
  {
    "key": "BSERV-12891",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T23:30:56.000+0000",
      "description": "This document https://developer.atlassian.com/server/bitbucket/how-tos/updating-build-status-for-commits/ probably should be updated to describe the new Build Status API that shipped in Bitbucket Server 7.4\r\n\r\nThe public REST API documentation does document the new API https://docs.atlassian.com/bitbucket-server/rest/7.4.0/bitbucket-rest.html#idp220",
      "summary": "Consider updating the build status documentation on DAC for new API"
    }
  },
  {
    "key": "BSERV-12890",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T04:19:00.000+0000",
      "created": "2021-06-07T06:07:51.000+0000",
      "description": "https://github.com/git/git/blob/master/Documentation/RelNotes/2.32.0.txt",
      "summary": "Support Git 2.32"
    }
  },
  {
    "key": "BSERV-12889",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-07T04:22:59.000+0000",
      "description": "{code}/rest/api/1.0/projects/{projectKey}/repos/{repositorySlug}/last-modified/{path:.*}{code}\r\n\r\nBitbucket calculates the last-modified time by iterating through *git log* output checking each commit until it finds the most recent modification for the specified file.\r\n\r\nIf there are many files to check and/or the repository contains many commits and some of the files have not been modified for a long time then the process will take a long time to iterate through the *git log* output.\r\n\r\nIn a customer example checking the last-modified times for a directory containing 4k files whee some of the files had not been modified for several years. Scanning through the 70k commits took up to 4 hours. If several users are checking similar directories and repositories this can easily cripple the server.\r\n\r\nThis feature request is to implement some mechanism to reduce the load. Possible solution would be either of the following.\r\n\r\n* The *git log* processing would be stopped after a specified timeout. say 10 minutes.\r\n* The *git log* processing would be stopped once the commits are older than a specified date.\r\n\r\nOnce the git log processing has been stopped then any file that has not been found would have the last-modified date as \"older than xxx\" where \"xxx\" is the date of the last commit processed.\r\n\r\n",
      "summary": "Calculating last-modified can cause be excessive on old repository."
    }
  },
  {
    "key": "BSERV-12888",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T04:18:47.000+0000",
      "created": "2021-06-04T17:47:20.000+0000",
      "description": "h3. Problem Definition\r\nBitbucket currently (as of 7.13) supports PostgreSQL 9.6 to 12, however customers are starting to plan upgrading to 13 ([released in 2020-09-24|https://www.postgresql.org/about/news/postgresql-13-released-2077/]) and this version is not yet supported.\r\n\r\nh3. Suggested Solution\r\nAdd support for PostgreSQL 13\r\n\r\nh3. Workaround\r\n* Use one of the [versions already supported|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html].",
      "summary": "Add support for PostgreSQL 13"
    }
  },
  {
    "key": "BSERV-12887",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-04T09:14:12.000+0000",
      "description": "Bitbucket uses the Apache SSHD Java library for handling SSH operations.\r\n\r\nAt the moment there is a hardcoded timeout of 30s for DEFAULT_NIO2_MIN_WRITE_TIMEOUT\r\n\r\nThis means that the system allows 30 seconds for a write to complete and, if it doesn't, the write times out and the SSH request is aborted.\r\n\r\nIf for any reason the client pauses/does not consume the output in that time, the operation will end.\r\n\r\n*Suggestion:* Make this property configurable so the timeout can be increased to more than the default 30s",
      "summary": "Make sshd timeout DEFAULT_NIO2_MIN_WRITE_TIMEOUT configurable"
    }
  },
  {
    "key": "BSERV-12886",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-03T05:00:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\n\u00a0\r\n\r\nWe were experimenting with setting everything up again from scratch. And when we did a test WITHOUT the\u00a0Bitbucket Server consumer configured it does work ??\r\n\r\nWe investigated the communication with wireshark, and managed to trace the cause back to some part of the http headers.\r\n\r\nDoing a manual call of the status rest post, WITHOUT the BBS-Signature and\u00a0BBS-Signature-Algorithm does work. But the moment these 2 headers are added the error occurs.\r\nh3. Steps to Reproduce\r\n # Set up a Bitbucket Server instance with an applink to a Jenkins instance\r\n # Run a build\r\n\r\nh3. Expected Results\r\n\r\nThe build status being logged successfully.\r\nh3. Actual Results\r\n\r\nFrom Jenkins job we see this (some parts redacted):\r\n{quote}_Posting build status of INPROGRESS to ****** for commit id [********] and ref 'refs/heads/production'_\r\n _Failed to post build status, additional information: The server failed to service request_\r\n{quote}\r\nOn Bitbucket side we see this (some parts redacted):\r\n{quote}_2021-01-22 09:14:53,050 WARN [http-nio-7990-exec-10] ******* @P7WCJOx554x294432x0 1pokq4f 172.23.194.42,172.23.6.75,0:0:0:0:0:0:0:1 \"POST /rest/api/1.0/projects/TST/repos/test/commits/3d3aaae526b9ff09f8478d6de13772a1e74624fa/builds HTTP/1.1\" c.a.b.i.b.j.JenkinsBuildServerProvider$JenkinsPublicKeyCacheLoader Unable to load Jenkins public key for applicationId: ************_\r\n _java.io.IOException: No header found for [http://*************|http://igor.sas.vito.local/]_\r\n\r\n_2021-01-22 09:14:53,052 ERROR [http-nio-7990-exec-10] ******* @P7WCJOx554x294432x0 1pokq4f 172.23.194.42,172.23.6.75,0:0:0:0:0:0:0:1 \"POST /rest/api/1.0/projects/TST/repos/test/commits/3d3aaae526b9ff09f8478d6de13772a1e74624fa/builds HTTP/1.1\" c.a.s.i.r.e.DefaultUnhandledExceptionMapperHelper Unhandled exception while processing REST request: \"POST /rest/api/1.0/projects/TST/repos/test/commits/3d3aaae526b9ff09f8478d6de13772a1e74624fa/builds HTTP/1.1\"_\r\n _com.atlassian.cache.CacheException: Failed to fetch public key from Jenkins please ensure your application link is configured correctly_\r\n\r\n\u00a0_Caused by: java.io.IOException: No header found for_ [_http://***********_|http://igor.sas.vito.local/]\r\n{quote}\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Build status notification failing when applinked to Jenkins"
    }
  },
  {
    "key": "BSERV-12885",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-02T17:02:21.000+0000",
      "description": "Currently, Elasticsearch sorting functionality is not available in Bitbucket UI. This feature request is raised to provide an ability to sort the results of repository search in the Bitbucket UI and to support one of the use cases which is to sort the display of the parent repository first then followed by forks that repository has.\r\n",
      "summary": "Provide an ability to sort the results of repository search in the Bitbucket UI"
    }
  },
  {
    "key": "BSERV-12884",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-02T09:08:28.000+0000",
      "description": "h4. How to reproduce:\r\n1. Configure a repository the following way:\r\n* Under 'Merge checks': Enable minimum approvals of '1'\r\n* Under 'Default reviewers': Enter some default reviewers for some source (bugfix) and target branch pattern and configure minimum approvals of '2'\r\n\r\n2. Create a new bugfix branch in that repository\r\n3. Do some change on that branch, create and push a new commit\r\n4. Raise a PR against the target branch for which you configured the default reviewers in 1.)\r\n5. Click on the quotation mark to see what is blocking the pull request from being merged. It will show the following two messages:\r\n1st message: * *You still need one approval before this pull request can be merged*\r\n2nd message: * *At least two of the following users must review and approve this pull request ...*\r\n\r\nBitbucket could and should detect itself that the first message is obsolete in this case. To avoid confusion and to make the messages more clear to the user.\r\nWe know that resolving the second message would resolve the first one, too, but resolving the first message won't help in any way. Which is why we request for this feature to make the message more clear and distinct.\r\n\r\nAttached screenshot of what we see in the messages blocking the merge.\r\n\r\n\r\n\r\n",
      "summary": "Making the messages blocking the pull request from being merged more clear"
    }
  },
  {
    "key": "BSERV-12883",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-02T22:36:50.000+0000",
      "created": "2021-06-02T09:06:35.000+0000",
      "description": "h4. How to reproduce:\r\n1. Configure a repository the following way:\r\n** Under 'Merge checks': Enable minimum approvals of '1'\r\n** Under 'Default reviewers': Enter some default reviewers for some source (bugfix) and target branch pattern and configure minimum approvals of '2'\r\n\r\n2. Create a new bugfix branch in that repository\r\n3. Do some change on that branch, create and push a new commit\r\n4. Raise a PR against the target branch for which you configured the default reviewers in 1.)\r\n5. Click on the quotation mark to see what is blocking the pull request from being merged. It will show the following two messages:\r\n1st message: * *You still need one approval before this pull request can be merged*\r\n2nd message: * *At least two of the following users must review and approve this pull request ...*\r\n\r\nBitbucket could and should detect itself that the first message is obsolete in this case. To avoid confusion and to make the messages more clear to the user.\r\nWe know that resolving the second message would resolve the first one, too, but resolving the first message won't help in any way. Which is why we request for this feature to make the message more clear and distinct.\r\n\r\nAttached screenshot of what we see in the messages blocking the merge.\r\n\r\n\r\n\r\n",
      "summary": "Making the messages blocking the pull request from being merged more clear"
    }
  },
  {
    "key": "BSERV-12882",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-01T11:43:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen primary Bitbucket base URL is changed, there should be a configuration at Bitbucket Mirror to change its Primary Server URL\r\nh3. Suggested Solution\r\n\r\nInstead of reinstall the mirror after Bitbucket primary instance base url is changed, user would like to be able to have a configuration setting for mirror to change its setup configuration on a UI without going through the setup wizard again.\r\nh3. Workaround\r\n\r\nCurrent only way user can change the mirror's primary server url is to reinstall mirror according to this\u00a0[Set up a mirror - 4. Set up the mirror|https://confluence.atlassian.com/bitbucketserver/set-up-a-mirror-790632894.html#Setupamirror-4.Setupthemirror] and then go through the setup wizard to key in the new Primary Server URL",
      "summary": "As a user, I would like to be able to change mirror's primary server url after i have renamed my Bitbucket primary server base url"
    }
  },
  {
    "key": "BSERV-12881",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-06-01T01:13:38.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUser is added to an AD group and is assigned a Bitbucket license, but the user is unable to login.\u00a0\r\nh3. Steps to Reproduce\r\n\r\nNot reproducible\u00a0\r\nh3. Expected Results\r\n * User is added to AD Security Group.\r\n * The user gets Okta chiclet assigned.\r\n * User syncs to Bitbucket and a license is assigned.\r\n * The user can log into Bitbucket.\u00a0\r\n\r\nh3. Actual Results\r\n * User is added to AD Security Group.\r\n * The user gets Okta chiclet assigned.\r\n * User syncs to Bitbucket and a license is assigned.\r\n * The user is unable to log into Bitbucket.\u00a0\r\n\r\nThe query results ran by the customer below show that the user is only created in the cwd_user table and not the sta_normal_user table. This is causing the issue:\r\n{noformat}\r\nSELECT * FROM sta_normal_user WHERE name = 'vsetty'\r\nno result\r\n\r\nSELECT * FROM cwd_user WHERE user_name = 'vsetty'\r\n4793360 vsetty vsetty 2019-09-17 01:31:21 2021-05-03 06:16:35 vsetty vsetty\r\n{noformat}\r\nAfter applying the workaround:\r\n{noformat}\r\nSELECT * FROM sta_normal_user WHERE name = 'vsetty' 1151805 vsetty vsetty\r\n{noformat}\r\nh3. Workaround\r\n\r\nThe customer identified 2 workarounds:\u00a0\r\n - Restart Bitbucket.\r\n - As an admin, go to User profile (and that's it, users are able to log in after that).\u00a0",
      "summary": "User created in AD is unable to log into Bitbucket"
    }
  },
  {
    "key": "BSERV-12879",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-31T20:43:36.000+0000",
      "description": "The database migration feature in Bitbucket should provide a \"dry run\" option and perform a simulated migration from the source to the target database listing all table that could potentially causing any issues during the actual migration. \r\n\r\nAt this moment the database migration for a large database takes a long time for a 40gb database it takes up to 20 hours to complete, and if any table has any data that the migration is not able to parse or fix, it will fail the migration, rolling back to the source database. \r\n\r\nThis is very frustrating, because after failing the only option available is to check the logs for that particular error and attempt the migration once again, only for it to fail again after 20 hours on another table. \r\n\r\nHaving a \"dry run\" would give an admin the information to check all the tables that could be of any concern, making the task of troubleshooting and fixing it way easier for admins and DBAs.",
      "summary": "As an admin I would like to have the ability to perform a database migration dry run"
    }
  },
  {
    "key": "BSERV-12878",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-07-09T03:08:22.000+0000",
      "created": "2021-05-31T00:45:48.000+0000",
      "description": "h3. Issue Summary\r\nAudit table on the project and repository audit page takes about minutes to load when there are about 10 million audit records in the database. However global audit page loads in few seconds.\r\n\r\nh3. Steps to Reproduce\r\n # Given 10M audit records in the database\r\n # Visit Repository > Settings>Audit log page\r\n\r\nh3. Expected Results\r\nAudit log page loads within few seconds\r\n\r\nh3. Actual Results\r\nAudit log page takes few minutes to load. After trying for few times, \"Can\u2019t perform search as there are many other search requests in progress\" is received in the REST API response.\r\n \r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Performance issue with Project/repository audit log page"
    }
  },
  {
    "key": "BSERV-12877",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-27T23:32:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using the [Data Center Migration|https://confluence.atlassian.com/bitbucketserver/export-and-import-projects-and-repositories-957497834.html] to start a repository import, the messages job status shows as \"Canceling\" if the application was restarted in a non-graceful manner.\r\n\r\nh3. Steps to Reproduce\r\n# Import a repository (I used the git open source project so that it would take time to import)\r\n# Make note of the JOB ID\r\n# Shutdown the application while the import progresses\r\n## I tested in Docker and stopped the container.\r\n# Start the application\r\n\r\nh3. Expected Results\r\n\r\nThe job status will migrate to \"Canceled\" and be reflected in the messages API endpoint:\r\n\r\n{code:borderStyle=solid}\r\ncurl -s -n -X GET http://localhost:7990/rest/api/1.0/migration/imports/<Job ID>/messages | jq .\r\n\r\n{\r\n\"id\": 12,\r\n\"initiator\": {\r\n\"name\": \"test\",\r\n\"emailAddress\": \"test@example.com\",\r\n\"id\": 52,\r\n\"displayName\": \"Test\",\r\n\"active\": true,\r\n\"slug\": \"test\",\r\n\"type\": \"NORMAL\",\r\n\"links\": {\r\n\"self\": [\r\n{\r\n\"href\": \"https://example.com/users/test\"\r\n}\r\n]\r\n}\r\n},\r\n\"nodeId\": \"8c9c8db-b604-4160-8ce2-a7db5ef6b2d0\",\r\n\"progress\": {\r\n\"message\": \"The import job was canceled\",\r\n\"percentage\": 99\r\n},\r\n\"startDate\": 1620831320634,\r\n\"state\": \"CANCELED\",\r\n\"type\": \"com.atlassian.bitbucket.migration.import\",\r\n\"updateDate\": 1620884430635\r\n}\r\n{code}\r\n\r\nh3. Actual Results\r\n\r\nThe job status remains \"Canceling\" as reflected in the messages API endpoint:\r\n\r\n{code:borderStyle=solid}\r\n{\r\n\"id\": 12,\r\n\"initiator\": {\r\n\"name\": \"test\",\r\n\"emailAddress\": \"test@example.com\",\r\n\"id\": 52,\r\n\"displayName\": \"Test\",\r\n\"active\": true,\r\n\"slug\": \"test\",\r\n\"type\": \"NORMAL\",\r\n\"links\": {\r\n\"self\": [\r\n{\r\n\"href\": \"https://example.com/users/test\"\r\n}\r\n]\r\n}\r\n},\r\n\"nodeId\": \"8c9c8db-b604-4160-8ce2-a7db5ef6b2d0\",\r\n\"progress\": {\r\n\"message\": \"The import job was canceled\",\r\n\"percentage\": 99\r\n},\r\n\"startDate\": 1620831320634,\r\n\"state\": \"CANCELING\",\r\n\"type\": \"com.atlassian.bitbucket.migration.import\",\r\n\"updateDate\": 1620884430635\r\n}\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nIf possible, perform a graceful shutdown of the Bitbucket service and allow time for it to complete.\r\n\r\n*When the instance is shutdown, the job is canceled; therefore, the import is no longer running.* The problem occurs when the service isn't given enough time to shutdown. During shutdown, the import job is sent a cancel request. The import can only stop at certain points in its process. (see [canceling and cleanup|https://confluence.atlassian.com/bitbucketserver/troubleshooting-canceling-and-cleanup-957497838.html]) The Bitbucket service has a 30s wait before it forcibly kills the process. If the repository import cannot transition to canceled before that time, the job messages will remain as \"canceling.\"\r\n\r\n*Follow our [canceling and cleanup|https://confluence.atlassian.com/bitbucketserver/troubleshooting-canceling-and-cleanup-957497838.html] to remove the impacted repository and resume the import process if needed. Reach out to [Atlassian Support|http://support.atlassian.com/] if you have any questions.*",
      "summary": "After Bitbucket restart or forced termination of process the Data Center migration repository import is stuck at status \"canceling\""
    }
  },
  {
    "key": "BSERV-12876",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-27T21:42:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFile in commit not displayed when tag and branch have same name and tag has file deleted.\r\n The path \"test.del.file\" does not exist at revision\r\nh3. Steps to Reproduce\r\n # Create a branch in a Bitbucket repository. Pull branch to a local test system\r\n # Add, commit, and push a file to a branch.\r\n # Remove file.\r\n ** git rm <file>\r\n # Add, commit, and push the removed file to that branch.\r\n # Create a tag with a new name, <Name>.\r\n # Create a branch in a Bitbucket repository with the new name, <Name>. Pull branch to a local test system.\r\n # Add file with same name back to the branch with some text in it.\r\n # Add, commit, and push a file to the new branch.\r\n # At this point you should have a branch, with the file, and a tag, without the file, with the same name, <Name>. Do not know if the tag and branch need to have the same parent branch. All testing was done with the same parent branch for tag and branch.\r\n ** {noformat}\r\n# find . -name \"<Name>\" -print\r\n./refs/tags/<Name>>\r\n./refs/heads/<Name>\r\n{noformat}\r\n # View the file in the new branch in Bitbucket repository.\r\n\r\nh3. Expected Results\r\n\r\nI would expect to see the file contents in Bitbucket.\r\nh3. Actual Results\r\n\r\nError in UI:\r\n The path \"<fileName>\" does not exist at revision \"<tagName>\"\r\n\r\nThe below exception is thrown in the atlassian.bitbucket.log for Atlassian Bitbucket v7.11.2 version. Different version have slightly different exception due to git exit code:\r\n{noformat}\r\n2021-05-27 21:01:01,899 DEBUG [http-nio-7990-exec-645] dlaser @FDZ2GUx1261x1051798x0 13g96wo 192.168.7.254 \"GET /rest/api/latest/projects/TR/repos/aaabbbccc/last-modified/test.del.file HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 404\r\ncom.atlassian.bitbucket.content.NoSuchPathException: The path \"test.del.file\" does not exist at revision \"03e36bdea2b68fb77cc2ad900d7be259519759d8\"\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.newNoSuchPathException(GitCommandExitHandler.java:197)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand$1.evaluateStdErr(LastModifiedCommand.java:168)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:204)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:286)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:327)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onExit(NioNuProcessHandler.java:119)\r\n\tat com.zaxxer.nuprocess.internal.BasePosixProcess.onExit(BasePosixProcess.java:307)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.handleExit(ProcessEpoll.java:371)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.cleanupProcess(ProcessEpoll.java:334)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.process(ProcessEpoll.java:272)\r\n\tat com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.run(ProcessEpoll.java:188)\r\n\tat com.zaxxer.nuprocess.linux.LinuxProcess.run(LinuxProcess.java:107)\r\n\tat com.zaxxer.nuprocess.linux.LinProcessFactory.runProcess(LinProcessFactory.java:50)\r\n\tat com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75)\r\n\tat com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52)\r\n\tat com.atlassian.stash.internal.scm.git.command.SimpleGitCommand.configureAndCall(SimpleGitCommand.java:84)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.listFiles(LastModifiedCommand.java:156)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.stream(LastModifiedCommand.java:243)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.call(LastModifiedCommand.java:88)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.call(LastModifiedCommand.java:54)\r\n\tat com.atlassian.stash.internal.commit.DefaultCommitService.streamLastModified(DefaultCommitService.java:363)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.stash.internal.rest.commit.LastModifiedResource$1.write(LastModifiedResource.java:104)\r\n\tat com.atlassian.bitbucket.rest.util.JsonStreamingOutput.write(JsonStreamingOutput.java:23)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.lambda$write$0(StreamingResponseFilter.java:80)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$AbstractStreamingExceptionMapper.stream(StreamingResponseFilter.java:50)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.write(StreamingResponseFilter.java:80)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:75)\r\n\tat com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.AuthorizationFailureInterceptor.doFilterInternal(AuthorizationFailureInterceptor.java:39)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:84)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 296 frames trimmed\r\n\tSuppressed: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128\r\n\t\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:278)\r\n\t\t... 62 common frames omitted\r\n{noformat}\r\nh3. Workaround\r\n\r\nRemove tag with same name:\r\n{code:java}\r\ngit push --delete origin <tagName>\r\n{code}",
      "summary": "view file when tag and branch have same name causes error"
    }
  },
  {
    "key": "BSERV-12875",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-27T21:09:59.000+0000",
      "description": "When loading PR activities, comments can either fail to post or the activities page overall can fail to load if it takes longer than 1 minute due to a lot of markup matches or close matches. This causes a \"Server Unreachable\" error in the UI. There may be a way to look into general performance improvements to handle this amount of markup matches.\r\n\r\n !screenshot-1.png|thumbnail! ",
      "summary": "Improve performance when handling large number of markup matches or close matches."
    }
  },
  {
    "key": "BSERV-12874",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-27T18:26:53.000+0000",
      "description": "Return the ability to register custom file-handlers to handle rendering the diff view for different file types. It used to be available in the earlier versions of Bitbucket, but it's no longer possible.",
      "summary": "The ability to register custom renderers on diff view"
    }
  },
  {
    "key": "BSERV-12873",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-01T08:19:09.000+0000",
      "created": "2021-05-26T23:29:39.000+0000",
      "description": "h3. Issue Summary\r\nWhen merging a pull request, if that merge takes longer than the default timeout in the UI (1 minute) then the UI will indeed timeout the request before the server request finishes the merge. We allow up to 5 minutes for a merge to finish, so the UI should wait for the server request to finish.\r\n\r\nh3. Steps to Reproduce\r\n # Attempt to merge a pull request that is sufficiently large that the merge will take longer than 60 seconds\r\n\r\nh3. Expected Results\r\nThe UI will wait until the server request finishes.\r\n\r\nh3. Actual Results\r\nThe UI times out (Note that the merge will still continue in the background)\r\n\r\nh3. Workaround\r\n\r\nNo workaround necessary.",
      "summary": "On pull requests, the merge UI should not timeout before the server request"
    }
  },
  {
    "key": "BSERV-12872",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-12-02T00:54:18.000+0000",
      "created": "2021-05-26T20:46:17.000+0000",
      "description": "Currently, Bitbucket is bundled with SSHD 2.4.1 which does not allow for a minimum DH size. \r\n\r\n\r\nThis property is available in 2.6+ of the package and would allow for the org.apache.sshd.minDHGexKeySize property to be set by adding the following to the JVM_SUPPORT_RECOMMENDED_ARGS:\r\n\r\n{code}\r\n-Dorg.apache.sshd.minDHGexKeySize=2048\r\n{code}",
      "summary": "Bundle Mina SSHD 2.6+ to allow for Minimum DHGexKeySize"
    }
  },
  {
    "key": "BSERV-12870",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-21T01:14:33.000+0000",
      "description": "In order to avoid account password leakage, it would be awesome if we could configure the connection to SQL Server using LDAP accounts. This is supported by the jTDS driver already and is common practice in Azure.\r\n\r\nFor example, connect with ActiveDirectoryMSI in the authentication string:\r\n{noformat}\r\njdbc.url=jdbc:sqlserver://**.database.windows.net:1433;database=bitbucket;authentication=ActiveDirectoryMSI;trustServerCertificate=true;encrypt=true;\r\n{noformat}\r\n\r\n MSI ensures only our dedicated server can connect to the corresponding database.",
      "summary": "Official support for Active Directory authentication on SQL Server"
    }
  },
  {
    "key": "BSERV-12869",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T04:21:20.000+0000",
      "created": "2021-05-21T00:59:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nRef advertisement caching was disabled in 7.4 and removed from Bitbucket in 7.7, however documentation and in-product references still exist causing confusion on the features removal.\r\nh3. Expected Results\r\n\r\nRef advertisement caching is not mentioned or displayed in the product and its documentation\r\nh3. Actual Results\r\n\r\nRef advertisement caching is still mentioned in the following places:\r\n * [https://confluence.atlassian.com/bitbucketserver0712/scaling-bitbucket-server-for-continuous-integration-performance-1063558308.html]\r\n * [https://confluence.atlassian.com/bitbucketserver0712/configuration-properties-1063558135.html#Configurationproperties-SCM-Cache]\r\n * In system information (under SCM cache settings in troubleshooting and support tools) and In the Support zip\r\n\r\nh3. Steps to Reproduce\r\n-none-\r\n\r\nh3. Workaround\r\n\r\nRef advertisement caching is removed in 7.7, despite documentation and in-product references. These references can be safely ignored.",
      "summary": "Remove references to ref advertisment caching."
    }
  },
  {
    "key": "BSERV-12868",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-20T22:43:21.000+0000",
      "description": "\t\tThis vulnerability affects certain versions of Atlassian Dev Tools. Please describe the impact of the vulnerability here. No known vulnerability could be read off of the parent.\r\n\t\t",
      "summary": "Bitbucket XSS, privilege escalation from \"Project Creator\" to \"System admin\" on project deletion"
    }
  },
  {
    "key": "BSERV-12865",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-20T23:10:32.000+0000",
      "created": "2021-05-20T21:22:07.000+0000",
      "description": "h3. Issue Summary\r\n\r\nViewing a file in Bitbucket's source view with the a back slash throws an HTTP 400\r\n\r\nh3. Steps to Reproduce\r\n # Create a file called testing\\slash.sql\r\n # Commit and push to Bitbucket\r\n # Navigate to the repository (<BITBUCKET BASE URL>/projects/<PROJ>/repos/<REPO SLUG>/browse) and click on the file\r\n\r\nh3. Expected Results\r\nYou can view the file as expected\r\nh3. Actual Results\r\n\r\nAn HTTP 400 error is thrown.\r\n\r\n !image-2021-05-20-16-20-41-963.png|thumbnail! \r\n\r\n\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Viewing a file in Source View with backslashes throws 400"
    }
  },
  {
    "key": "BSERV-12863",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-19T13:38:36.000+0000",
      "description": "The built-in Bitbucket Server web hooks do not support the format expected by the MS Teams endpoint.\r\n\r\nA webhook pointing to Microsoft Teams results in 400, and returns.\r\n\r\n_Summary or Text is required._\r\n\r\n",
      "summary": "Support Webhooks in MS Teams format"
    }
  },
  {
    "key": "BSERV-12862",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-18T22:04:26.000+0000",
      "description": "On Mac systems it's possible to kill to end of line using Control + K, and then paste the killed text through using Control + Y.\r\n\r\nHowever, since CodeMirror has a default hotkey binding of CTRL+Y for 'redo', which Bitbucket converts to 'Command + Y', this causes Control + Y to do nothing on input fields where CodeMirror is involved (such as PR comments).\r\n\r\nIt's requested that Control + Y be set to 'yank' while keeping the 'redo' keybinding of 'Command + Y'.",
      "summary": "Allow Mac/OSX yank hotkey (Control + Y) for CodeMirror input fields"
    }
  },
  {
    "key": "BSERV-12860",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-18T10:50:03.000+0000",
      "description": "h3. Issue Summary\r\n\r\nUsing *POST* REST API endpoint /rest/api/1.0/projects/\\{projectKey}/repos/\\{repositorySlug}/labels running many requests simultaneously might cause duplicated label names exist in {{bb_label}} table.\r\nh3. Steps to Reproduce\r\n # Step 1\r\n Run multiple POST requests simultaneously to {{/rest/api/1.0/projects/\\{projectKey}/repos/\\{repositorySlug}/labels}} with *the same label* name but against different repositories.\r\n\r\nh3. Expected Results\r\n - Only one entry is created in the {{bb_label}} table. (/)\r\n - Multiple entries are created in the\u00a0{{bb_label_mapping}} table. (/)\r\n - All the repositories are labeled with the same label. (/)\r\n\r\nh3. Actual Results\r\n - More than one entry are created in the {{bb_label}} table. (-)\r\n - Only one repository is labeled. (-)\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2021-05-18 10:45:43,332 DEBUG [https-jsse-nio-8443-exec-1] bbuser @1X5NFHEx846x94752x0 1z6x10k 127.0.0.1 \"POST /rest/api/latest/projects/PROJ_name/repos/repo_name/labels HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 500\r\ncom.atlassian.bitbucket.DataStoreException: A database error has occurred.\r\n..\r\nCaused by: org.hibernate.NonUniqueResultException: query did not return a unique result: 3\r\n{noformat}\r\nThere is no unique constraint on the\u00a0*bb_label.name*, which would probably prevent that issue.\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Using REST API endpoint /rest/api/1.0/projects/{projectKey}/repos/{repositorySlug}/labels might cause duplicated entries in bb_label table."
    }
  },
  {
    "key": "BSERV-12859",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-09-17T03:56:09.000+0000",
      "created": "2021-05-17T02:08:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe Backup & Restore using Bitbucket DIY script for Mysql DB fails for below reasons:\r\n * BITBUCKET_BACKUP_DB variable is a directory instead of file.\r\n * The mysqldump command would throw 'Access Denied' error if the bitbucketuser credentials is used in the config file.\r\n * The restore would fail if the user hasn't created the database before executing the restore script.\r\n\r\nh3. Steps to Reproduce\r\n # Step 1: Clone the DIY script repository and fill the variables in the bitbucket.diy-backup.vars.sh for Bitbucket Mysql instance\r\n # Step 2: Execute the Backup script - bitbucket.diy-backup.sh\r\n\r\nh3. Expected Results\r\n\r\nThe Backup to complete and generate the tar.gz file. The restore script should then use this tar.gz file to restore the instance in the new target.\r\n\r\nh3. Actual Results\r\n\r\nThe backup & restore fails with the following errors during execution. We can see the below errors in execution logs.\r\n{code:java}\r\n*./database-mysql.sh: line 24: /home/ubuntu/backup-mysql5/bitbucket-db/: Is a directory*\r\n[bitbucket.diy-backup.sh:0 -> main][ip-10-117-8-235] ERROR: Backing up Bitbucket failed\r\n{code}\r\n\u00a0\r\n\r\n{code:java}\r\nmysqldump: Error: 'Access denied; you need (at least one of) the PROCESS privilege(s) for this operation' when trying to dump tablespaces\r\n{code}\r\n\r\n\u00a0\r\n{code:java}\r\n[database-mysql.sh:41 -> prepare_restore_db][ip-10-117-8-112] DEBUG: Running mysqlshow -h 127.0.0.1 -u bitbucketuser -pbItbucket@332 bitbucket\r\nmysqlshow: [Warning] Using a password on the command line interface can be insecure.\r\nmysqlshow: Unknown database 'bitbucket'\r\n{code}\r\n\r\n\r\nh3. Workaround\r\n\r\nThe attached database-mysql.sh contains the fix for all the mentioned issues. The fix has been tested in both Mysql 5 & 8 versions and working correctly as expected.",
      "summary": "Backup & Restore failure while using Bitbucket DIY script for MYSQL DB"
    }
  },
  {
    "key": "BSERV-12858",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-14T14:42:35.000+0000",
      "description": "h3. Problem\r\n\r\nBitbucket is not supported officially on Amazon Web Services Fargate.\r\nh3. Suggested Solution\r\n\r\nTest & document process for deploying Bitbucket DC on Fargate, much as we have done for EC2 or Docker, similar platforms.\r\n\r\n\u00a0\r\nh3. Workaround\r\n\r\nBitbucket DC can likely be deployed successfully on Fargate, given that Bitbucket can be deployed on Docker containers and in the Amazon cloud in general, but no process is documented or supported.",
      "summary": "Bitbucket DC - Support for AWS Fargate"
    }
  },
  {
    "key": "BSERV-12857",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-21T01:53:30.000+0000",
      "created": "2021-05-14T09:46:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFor certain use cases of JavaScript, the syntax highlighting that is used when displaying the source of {{.js}} files is incorrect.\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Have a {{.js}} file with the following content\r\n{code:javascript}\r\npublic something(callback: callback, options?: ConsumerOptions): Promise<Consumer> {\r\n\tconsole.info(`[${this.constructor.name}] Consumer creating.`);\r\n\r\n\tthis.consumer = Consumer.create({\r\n\t\t...options,\r\n\t\tqueueUrl: await this.getUrl(),\r\n\t\thandleMessage: message => {\r\n\t\t\tif (message.Body){\r\n\t\t\t\tmessage.Body = JSON.parse(message.Body);\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n{code}\r\n# View the file in source view\r\n\r\nh3. Expected Results\r\n\r\nThe syntax is highlighted consistently, something like this way:\r\n\r\n !Screenshot 2021-05-14 at 11.43.52.png|thumbnail! \r\n\r\nh3. Actual Results\r\n\r\nThe syntax is highlighted incorrectly:\r\n\r\n !Screenshot 2021-05-14 at 11.45.06.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Syntax highlighting is incorrect for certain JavaScript use cases"
    }
  },
  {
    "key": "BSERV-12856",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-12T22:03:34.000+0000",
      "created": "2021-05-12T07:26:37.000+0000",
      "description": "Before any sys admin activities is performed, Bitbucket Sys admin is redirect to Multi factor authentication provider link. So Sys admin is re authenticated using MFA other than user and password.\u00a0",
      "summary": "Multi Factor authentication for Bitbucket datacenter sys admins"
    }
  },
  {
    "key": "BSERV-12855",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-13T08:05:54.000+0000",
      "created": "2021-05-07T15:14:58.000+0000",
      "description": "h3. Issue Summary\r\nBitbucket returns an incorrect URL for the request with the go-get=1 suffix which makes it unusable for hosting repositories for Golang modules.\r\n\r\nh3. Steps to Reproduce\r\n Connect to the repository with go-get=1 suffix with curl:\r\n{code}\r\ncurl -Ss -u siteadmin \"https://bitbucketdc/scm/myrepo?go-get=1\"\r\n{code}\r\n\r\nh3. Expected Results\r\nBitbucket responds with the output with correct URL:\r\n{code:html}\r\n<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"utf-8\"><meta name=\"go-import\" content=\"bitbucketdc/scm/myrepo git https://bitbucketdc/scm/scm/myrepo.git\"></head><body></body></html>%\r\n{code}\r\nh3. Actual Results\r\nThe response contains broken URL (with double \"scm\") which breaks the automatic import of Golang modules.\r\n{code:html}<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"utf-8\"><meta name=\"go-import\" content=\"bitbucketdc/scm/myrepo git https://bitbucketdc/scm/scm/myrepo.git\"></head><body></body></html>%\r\n{code}\r\n\r\nh3. Workaround\r\n Currently, there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Bitbucket returns broken URL for Golang go-get=1 URL suffix"
    }
  },
  {
    "key": "BSERV-12854",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-07T07:40:31.000+0000",
      "description": "You can see file's history or last commit for a specific line via annotate function, but I think it would be nice to see the history for a single line.\r\n\r\n\u00a0\r\n\r\nLet's say code changes this way during time:\r\nIt is created like\r\n{code:java}\r\nString title = \"Source Code\";{code}\r\nThen it changes to\r\n{code:java}\r\nString title = \"Code\";\r\n{code}\r\nThen it changes again but with a mistake\r\n{code:java}\r\nString title     = \"Source\";\r\n{code}\r\nAnd then the spaces are removed\r\n{code:java}\r\nString title = \"Source\";\r\n{code}\r\n\r\nThe point is to go to that line and see how that row changed.\r\nNow, with annotate, you can see the last commit, so only the removed spaces change but you can not see how title changed during time. You can do it only with history but it could be a really time consuming activity.\r\n\r\n\u00a0",
      "summary": "Line history"
    }
  },
  {
    "key": "BSERV-12852",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-10T23:20:04.000+0000",
      "created": "2021-05-06T20:31:33.000+0000",
      "description": "We are looking for commit level permissions setup in Bitbucket. Please consider to add the following features in the near feature:\r\n # Grant user to be able to only cherry-pick from a specified branch to another specified branch without any other permissions.\r\n # Grant user to create a pull request from a specific commit in a specified branch to another specified branch.\r\n\r\nThanks",
      "summary": "Bitbucket Commit Level Permissions"
    }
  },
  {
    "key": "BSERV-12851",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T18:49:33.000+0000",
      "description": "h3. Problem Definition \u00a0\r\nThe Bitbucket Server Backup Client document, in the section [Restoring Bitbucket Server to use a newly created DB|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-backup-client-776640064.html#BitbucketServerBackupClient-RestoringBitbucketServertouseanewlycreatedDB], has links to each database type in step #3. \r\nHowever, when you click, for example, in the PostgreSQL link it puts you at the top of the [Connect Bitbucket to PostgreSQL|https://confluence.atlassian.com/bitbucketserver/connect-bitbucket-to-postgresql-776640389.html] document, not at the appropriate section of the document entitled *Create the Bitbucket database*. \r\n\r\nThis is true on the link to the other database types as well.\r\n\u00a0\r\nh3. Suggested Solution\r\nThe links from step # 3 in section [Restoring Bitbucket Server to use a newly created DB|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-backup-client-776640064.html#BitbucketServerBackupClient-RestoringBitbucketServertouseanewlycreatedDB] from Bitbucket Server Backup Client document should link to the appropriate section in the respective database type clicked.\r\n\r\nh3. Workaround\r\nOpen the document for the respective database type and manually scroll to the appropriate section.",
      "summary": "Backup Client documentation should have links to the correct section of the related database document"
    }
  },
  {
    "key": "BSERV-12850",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T18:36:52.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThe [Running the Restore Client from the command line - Running the Restore Client from the command line|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-backup-client-776640064.html#BitbucketServerBackupClient-runrestoreRunningtheRestoreClientfromthecommandline] should have more clear usage examples for each database type.\r\nh3. Suggested Solution\r\n\r\nFor example, when it comes to PostgreSQL:\r\n # You should use {{localhost}} if the database is on the same machine\r\n # You usually need to modify the {{pg_hba.conf}} for allowing connections\r\n # The user is not the default {{postgres}} user, it is an admin account that needs to be created manually\r\n # The database needs to be manually created before running the restore because the restore does not create it automatically",
      "summary": "Backup Client documentation should have more clear usage examples for each database type"
    }
  },
  {
    "key": "BSERV-12849",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T18:13:50.000+0000",
      "description": "h3. Problem Definition\r\nNowadays when the archive version (TAR.GZ and ZIP) is downloaded, customers need to configure everything manually. \r\n\r\nh3. Suggested Solution\r\nThe fact that there is command line flag for the Linux and Windows executable installers does not excuse the paucity of setup/configuration scripts in the TAR.GZ and ZIP offerings, they should have scripts for automating the process as well.\r\n\r\nh3. Workaround\r\nUse the Linux or Windows executable installers instead",
      "summary": "TAR.GZ and ZIP packages should include an installation script"
    }
  },
  {
    "key": "BSERV-12848",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T17:53:33.000+0000",
      "description": "h3. Problem Definition \u00a0\r\nIn addition to the GUI mode installation, the Console and the Unattended installation modes are also available, as can be seen at [Run the Bitbucket installer - Console and unattended mode|https://confluence.atlassian.com/bitbucketserver/run-the-bitbucket-installer-776640183.html#RuntheBitbucketinstaller-modes], however the installation documents below do not mention these alternatives nor do they make reference to the link above:\r\n- [Install Bitbucket Server on Linux|https://confluence.atlassian.com/bitbucketserver/install-bitbucket-server-on-linux-868976991.html]\r\n- [Install Bitbucket Server on Windows|https://confluence.atlassian.com/bitbucketserver/install-bitbucket-server-on-windows-867338403.html]\r\n\r\nh3. Suggested Solution\r\nThe [Install Bitbucket Server on Linux|https://confluence.atlassian.com/bitbucketserver/install-bitbucket-server-on-linux-868976991.html] and [Install Bitbucket Server on Windows|https://confluence.atlassian.com/bitbucketserver/install-bitbucket-server-on-windows-867338403.html] documents should mention that there are other installation modes when using the installer, and link to [Run the Bitbucket installer - Console and unattended mode|https://confluence.atlassian.com/bitbucketserver/run-the-bitbucket-installer-776640183.html#RuntheBitbucketinstaller-modes].\r\n\r\nh3. Workaround\r\nAccess each page individually.",
      "summary": "Installation document should mention all installation options"
    }
  },
  {
    "key": "BSERV-12847",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T17:23:05.000+0000",
      "description": "h3. Issue Summary\r\nCustomers willing to [Run the Bitbucket installer|https://confluence.atlassian.com/bitbucketserver/run-the-bitbucket-installer-776640183.html#RuntheBitbucketinstaller-modes]\u00a0in Console or Unattended mode may want to use a {{'-h'}}\u00a0or a {{'\\-\\-help'}}\u00a0option to verify usage instructions, however the installer freezes when these options are used because these options are invalid (see BSERV-12846).\r\n\r\nh3. Steps to Reproduce\r\nTry running the installer via command line using {{'-h'}}\u00a0or a {{'\\-\\-help'}}\u00a0option to check usage instructions.\r\n\r\nh3. Expected Results\r\nThe installer should either show a message clarifying that these options are invalid and halt, or have these options available (preferred, and being tracked at BSERV-12846).\r\n\r\nh3. Actual Results\r\nThe installer just freezes without any output.\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Installer freezes if executed with 'help' flag"
    }
  },
  {
    "key": "BSERV-12846",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-06T17:10:08.000+0000",
      "description": "h3. Problem Definition \u00a0\r\n\r\nWhen [Running the Bitbucket installer|https://confluence.atlassian.com/bitbucketserver/run-the-bitbucket-installer-776640183.html#RuntheBitbucketinstaller-modes] in Console or Unattended mode, there should be a {{'-h'}}\u00a0or a {{'\\-\\-help'}}\u00a0option with usage instructions.\r\nh3. Suggested Solution\r\n\r\nThere should be a {{'-h'}}\u00a0or a {{'\\-\\-help'}}\u00a0\u00a0option\u00a0with usage instructions. Customers may find this useful for checking how to use these modes, which options / parameters are available, etc.\r\nh3. Workaround\r\n\r\nThere are no known workarounds.",
      "summary": "Installer should have a 'help' option when using unattended or console mode"
    }
  },
  {
    "key": "BSERV-12845",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T16:09:34.000+0000",
      "description": "At the moment,\u00a0It's only available via form submission from the UI. However, we need a Java API endpoint\u00a0to enable transcode diff for automation purposes.",
      "summary": "Add API endpoint to enable transcode diff"
    }
  },
  {
    "key": "BSERV-12844",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-04T09:03:52.000+0000",
      "description": "h3.Problem Description \r\n\r\n* In Bitbucket 7.0 the audit logging changed\r\n* When that changed occurred the following conditional was added to the logback-spring.xml:\r\n{code}\r\n<springProperty scope=\"context\" name=\"enableLegacyAuditLog\"\r\n                            source=\"audit.legacy.log\" defaultValue=\"false\"/>\r\n            <if condition='property(\"enableLegacyAuditLog\").equals(\"true\")'>\r\n                <then>\r\n                    <appender name=\"bitbucket.auditlog\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\r\n                        <encoder>\r\n                            <charset>UTF-8</charset>\r\n                            <pattern>%m%n</pattern>\r\n                        </encoder>\r\n                        <file>${log.dir}/audit/atlassian-bitbucket-audit.log</file>\r\n                        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\r\n                            <fileNamePattern>${log.dir}/audit/atlassian-bitbucket-audit-%d.%i.log.gz</fileNamePattern>\r\n                            <maxFileSize>25MB</maxFileSize>\r\n                            <maxHistory>100</maxHistory>\r\n                        </rollingPolicy>\r\n                    </appender>\r\n                    <!-- Enable audit logging and direct it to its own separate appender if it is enabled -->\r\n                    <logger name=\"bitbucket.audit-log\" level=\"DEBUG\" additivity=\"true\">\r\n                        <appender-ref ref=\"bitbucket.auditlog\"/>\r\n                   </logger>\r\n                </then>\r\n            </if>\r\n{code}\r\n* This conditional checks to see if legacy audit logging is enabled and if so it will revert to writing to the logfile specified in the appender definition\r\n* I was able to get audit logging written to SYSLOG by adding changes inside the conditional and using the facility attribute USER eg.:\r\n{code}\r\n<springProperty scope=\"context\" name=\"enableLegacyAuditLog\"\r\n                            source=\"audit.legacy.log\" defaultValue=\"false\"/>\r\n            <if condition='property(\"enableLegacyAuditLog\").equals(\"true\")'>\r\n                <then>\r\n                    <appender name=\"bitbucket.auditlog\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\r\n                        <encoder>\r\n                            <charset>UTF-8</charset>\r\n                            <pattern>%m%n</pattern>\r\n                        </encoder>\r\n                        <file>${log.dir}/audit/atlassian-bitbucket-audit.log</file>\r\n                        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\r\n                            <fileNamePattern>${log.dir}/audit/atlassian-bitbucket-audit-%d.%i.log.gz</fileNamePattern>\r\n                            <maxFileSize>25MB</maxFileSize>\r\n                            <maxHistory>100</maxHistory>\r\n                        </rollingPolicy>\r\n                    </appender>\r\n                    <appender name=\"SYSLOG\" class=\"ch.qos.logback.classic.net.SyslogAppender\">\r\n                            <syslogHost>172.28.128.103</syslogHost>\r\n                        <facility>USER</facility>\r\n                        <port>514</port>\r\n                        <suffixPattern>[%thread] %logger %msg</suffixPattern>\r\n                    </appender>\r\n\r\n                    <!-- Enable audit logging and direct it to its own separate appender if it is enabled -->\r\n                    <logger name=\"bitbucket.audit-log\" level=\"DEBUG\" additivity=\"true\">\r\n                        <appender-ref ref=\"bitbucket.auditlog\"/>\r\n                        <appender-ref ref=\"SYSLOG\"/>\r\n                   </logger>\r\n                </then>\r\n            </if>\r\n{code}\r\n* From there legacy audit logging needed to be enabled by adding the following to the $BITBUCKET_HOME/shared/bitbucket.properties file:\r\n{code}\r\naudit.legacy.log=true\r\n{code}\r\n* From here I can see the audit logging written to SYSLOG during startup:\r\n{code}\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186185 | com.atlassian.prettyurls.atlassian-pretty-urls-plugin | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186192 | com.atlassian.soy.soy-template-plugin | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186200 | com.atlassian.stash.plugins.stash-remote-event-bitbucket-server-spi | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186244 | com.atlassian.troubleshooting.plugin-bitbucket | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186251 | com.atlassian.webhooks.atlassian-webhooks-plugin | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186252 | com.springsource.net.jcip.annotations-1.0.0 | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186259 | tac.bitbucket.languages.de_DE | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186269 | tac.bitbucket.languages.fr_FR | - | - | -\r\nApr 29 13:33:44 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log - | Plugin enabled | System | 1619703186286 | tac.bitbucket.languages.ja_JP | - | - | -\r\nApr 29 13:35:16 vagrant systemd-networkd[1591]: eth1: DHCP: No routes received from DHCP server: No data available\r\n{code}\r\n\r\n* As well as when I perform an operation in the BASE audit scope like creating or deleting a user:\r\n{code}\r\nApr 29 13:42:28 vagrant [audit-broker-consumer-thread-707705260] bitbucket.audit-log 172.28.128.1 | User deleted | nhansberry | 1619703748024 | test | - | - | -\r\n{code}\r\n\r\nIf this all relies on enabling legacy audit logging, this configuration will not work when legacy audit logging is deprecated in Bitbucket version 8 (see: https://confluence.atlassian.com/bitbucketserver/configuration-properties-776640155.html#Configurationproperties-Audit for deprecation notice)\r\n\r\nh3.Proposed Solution \r\n\r\n- Implement a way to keep this functionality even after legacy audit logging is deprecated",
      "summary": "As an admin I would like the ability to configure where audit logging is sent even after legacy audit logging is deprecated in Bitbucket version 8"
    }
  },
  {
    "key": "BSERV-12843",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-03T18:19:34.000+0000",
      "description": "h3. Problem Definition\r\nBitbucket considers submodules as files. However other workspace views consider submodules as folders: \r\n*  !image-2021-05-03-15-12-48-125.png|thumbnail! \r\n\r\nh3. Suggested Solution\r\nAs a matter of consistency with other views of the workspace, consider submodules as folders. Or, provide a configurable display option to sort submodules as folders instead of files if a user prefers.\r\n\r\nh3. Why this is important\r\n(on) Consistency\r\n",
      "summary": "Consider listing submodules with folders rather than files"
    }
  },
  {
    "key": "BSERV-12842",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-05-03T17:55:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCurrently, there is the following endpoint available on the Rest API [page|https://docs.atlassian.com/bitbucket-server/rest/5.15.0/bitbucket-rest.html#idm121738941360].\r\n{code:java}\r\n/rest/api/1.0/projects/{projectKey}/repos/{repositorySlug}/tags/{name:.*}{code}\r\nAs you can see there is the following feature available on Github. We are looking for a similar api in Bitbucket to search for tags globally.\r\n\r\nI would like to see if it's possible to implement it on Bitbucket as described above.",
      "summary": "As a client I would like to have a global search of tags through the Rest API "
    }
  },
  {
    "key": "BSERV-12841",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T12:08:06.000+0000",
      "description": "h3. Problem Definition\r\n- I have an upstream with mirrors using default port 7999 for ssh over default base URL\r\n- I have a new mirror that must access upstream via ssh through a specific/custom port (eg. 55555)\r\n\r\nh3. Suggested Solution\r\n- Allow the ability to configure multiple ssh base urls\r\n- Allow the option of multiple ssh ports\r\n \r\nh3. Workaround \r\nunknown",
      "summary": "As an admin I would like the option to configure multiple ssh base urls for mirror use"
    }
  },
  {
    "key": "BSERV-12840",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-30T10:27:46.000+0000",
      "description": "Hey,\r\n\r\nWe are using Zero Downtime backup in the DIY backup in our Bitbucket DC in AWS and we have run into an issue with the locking of the EBS just before the EBS snapshot is taken.\r\n\r\nBetween the freeze and unfreeze commands there is the actual snapshot command issued which is more or less instant. But there is also additional aws cli commands issued to grab info about the volume to snapshot etc. These cli commands takes time that increases the time the file system is locked.\r\n\r\nIn our large instance we ran into the issue that one CI/CD pipeline started just when the filesystem was locked and requested a very high amount of git ops. These ops could not be processed due to the filesystem being frozen.\u00a0\r\n\r\nI have clocked the freeze time in our system to be 5 s on an average and I think the aws cli commands are responsible for most of this. Would it be possible to move these commands outside of the freeze period, perhaps?\r\n\r\nCheers,\r\n\r\n// Svante",
      "summary": "NFS freeze time longer than necessary"
    }
  },
  {
    "key": "BSERV-12839",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-05T05:37:34.000+0000",
      "created": "2021-04-29T22:48:42.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen the @ symbol is used in a PR suggestion, such as when specifying a Java annotation, if the phrase following the symbol matches a username - the token will be rendered as the full name of the user.\r\n\r\nh3. Steps to Reproduce\r\n # Create a user with username 'test' and full name 'Test User 123'\r\n # Navigate to an open pull request with code changes\r\n # Make an in-line comment with the following value:\r\n #* {noformat}```suggestion\r\n@Test\r\n```{noformat}\r\n\r\nh3. Expected Results\r\n\r\nOn saving, the suggestion renders using the expected \"Test\" annotation\r\n\r\nh3. Actual Results\r\n\r\nOn saving, the suggestion renders incorrectly with 'Test User 123' and appears to suggest that the code be changed to 'Test User 123'\r\n\r\n !25E48C3A-9B14-4C8F-B1EB-9D5CB5187DE0.GIF! \r\n\r\n* (i) Note: Applying the suggestion automatically in a new commit will still make the appropriate code change in the underlying commit, and will _NOT_ use the full name of the user.\r\n\r\nh3. Workaround\r\n\r\nChange the username of the offending user to not match the desired annotation, or change the annotation to not match the username of an existing user",
      "summary": "Using the @ symbol resolves usernames when used in PR suggestions"
    }
  },
  {
    "key": "BSERV-12838",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-31T00:05:06.000+0000",
      "created": "2021-04-29T21:18:35.000+0000",
      "description": "{panel:title=Atlassian status as of May 2021|borderStyle=solid|borderColor=#3c78b5|titleBGColor=#3c78b5|bgColor=#e7f4fa}\r\nHi everyone,\r\n\r\nThanks for your feedback on this suggestion. This issue was originally about hiding the alert, but the crux of it is about supporting MySQL with Bitbucket Data Center. Unfortunately, it is NOT supported and this will continue in the future. The main reasons for this are:\r\n # There are *serious performance* concerns with MySQL such as;\r\n ## MySQL has a technique called \u201cgap locking\u201d that it performs and cannot be disabled, leading to deadlocks - https://jira.atlassian.com/browse/BSERV-4126. To work around it, for single-instance setups, we introduced activity locking which takes out a JVM lock before deleting to ensure only a single thread is doing so at a time. In a cluster setup, though, that\u2019s not sufficient because multiple nodes can still have a single thread deleting concurrently to each other, and replacing the JVM locking with cluster coherent locking will have significant performance implications\r\n ## Subquery performance on MySQL is problematic, so we\u2019ve had to write custom Hibernate handlers e.g. https://jira.atlassian.com/browse/BSERV-4701 to work around it. No other RDBMS we support requires this type of invasive customization. Also, there are major bottlenecks when the number of repositories keeps increasing (irrespective of clustering). We have fixed this bug for all the databases that we support except MySQL due to its limitation in using ScrollableResults\r\n # The MySQL JDBC driver\u2019s license prevents us from including it in our distribution, so customers have to install it manually, the only RDBMS where that\u2019s the case. That results in a much wider range of potential JDBC drivers installed, many of which have their own unique bugs that can impact Bitbucket Data Center's functionality overall resulting in a *subpar and inconsistent user experience*\r\n # We endeavor to *support our customers for the long term*. We understand that many of our customers are running Bitbucket Data Center with MySQL in a single node today. However, as their usage grows the instance sizes will grow, they will start facing some of the above-mentioned performance problems. We prefer to take a proactive approach to ensure our customers don\u2019t find themselves outgrowing MySQL and hence, we are upfront about our choice of NOT supporting it for Bitbucket DC\r\n\r\nIn short, even if you're using Bitbucket Data Center without clustering, MySQL is NOT supported. You can see the [full list of supported platforms|https://confluence.atlassian.com/bitbucketserver/supported-platforms-776640981.html]. You can also find some helpful details on [migrating to a supported database|https://confluence.atlassian.com/bitbucketserver/connect-bitbucket-to-an-external-database-776640378.html].\r\n\r\nWe would prefer to support all the popular platforms but in some cases, it\u2019s not viable due to technical limitations. Please feel free to reach out to me if you have any other questions or concerns.\r\n\r\nCheers,\r\n\r\nImran Khan\r\n Product Manager - Bitbucket Data Center\r\n{panel}\r\nh3. \u00a0\r\nh3. Problem Definition\r\n\r\nWhen Bitbucket is originally configured with a Server license and is connected to MySQL database and a Data Center license is configured afterwards as the first step for migrating to a Data Center environment the warning below will be displayed to system admins:\r\n\r\n!image-2021-04-29-18-12-04-065.png|width=450,height=208!\r\nh3. Suggested Solution\r\n\r\nAs this is still a single node instance, just configured with a Data Center license, there should be a way of hiding this warning and continue using MySQL, maybe by disabling the clustering feature in {{bitbucket.properties}} (as [Confluence|https://confluence.atlassian.com/confkb/how-to-disable-cluster-mode-in-confluence-data-center-979434847.html] and [Jira|https://confluence.atlassian.com/confkb/revert-to-standalone-instance-from-accidental-confluence-data-center-migration-968667261.html] already allow doing in a similar way).\r\nh3. Workaround\r\n\r\nThere aren't any known workarounds at this moment.",
      "summary": "Allow hiding the alert related to MySQL and Data Center license"
    }
  },
  {
    "key": "BSERV-12837",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-28T13:45:18.000+0000",
      "description": "The mirror documentation and architecture diagram lacks details about how the mirror works on HTTPS and SSH protocols and push proxy and the level of access users need or should have.\r\n\r\nThose details are very important for most companies as they require some network rules to allow connections in and out. Most large companies have to comply with policies and having complete details will help on deploying mirrors.\r\n\r\nRelated documents:\r\nhttps://confluence.atlassian.com/bitbucketserver/smart-mirroring-776640046.html\r\nhttps://confluence.atlassian.com/bitbucketserver/set-up-a-mirror-790632894.html",
      "summary": "Improve mirroring documentation and architecture diagram to include details about protocols and push proxy"
    }
  },
  {
    "key": "BSERV-12836",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T04:16:51.000+0000",
      "created": "2021-04-27T22:32:03.000+0000",
      "description": "h3. Issue Summary\r\nNullPointerException thrown during build status migration when retrieving counts. This is makes the dashboard return a 500 (or some requests made from the dashboard)\r\n\r\nh3. Steps to Reproduce\r\nOpening the dashboard\r\n\r\nh3. Expected Results\r\nThe dashboard loads without problem.\r\n\r\nh3. Actual Results\r\n\r\nThe problem is that the build status migration is still under way and there is a bug in the code handling the counting while migration is happening. \r\n\r\nOnce the migration is complete the issue should resolve itself. Migration can be slow (30+ minutes after first start on the new version).\r\n\r\nstacktrace for the issue:\r\n{noformat}\r\njava.lang.NullPointerException: null\r\n\tat com.atlassian.bitbucket.internal.build.status.migration.MigrationBuildStatusDao.lambda$countByState$1(MigrationBuildStatusDao.java:103)\r\n\tat java.util.HashMap.forEach(HashMap.java:1289)\r\n\tat com.atlassian.bitbucket.internal.build.status.migration.MigrationBuildStatusDao.countByState(MigrationBuildStatusDao.java:101)\r\n\tat com.atlassian.bitbucket.internal.build.status.DefaultBuildStatusService.getSummaries(DefaultBuildStatusService.java:178)\r\n\tat com.atlassian.stash.internal.web.dashboard.DashboardController.lambda$renderDashboard$4(DashboardController.java:202)\r\n\tat java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)\r\n\tat java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\r\n\tat java.util.HashMap$EntrySpliterator.forEachRemaining(HashMap.java:1699)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\r\n\tat com.atlassian.stash.internal.web.dashboard.DashboardController.renderDashboard(DashboardController.java:202)\r\n\tat com.atlassian.stash.internal.web.dashboard.DashboardController.dashboard(DashboardController.java:109)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:75)\r\n\tat com.atlassian.plugins.slack.analytics.SlackAnalyticsFilter.doFilter(SlackAnalyticsFilter.java:35)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.AuthorizationFailureInterceptor.doFilterInternal(AuthorizationFailureInterceptor.java:39)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugins.authentication.impl.basicauth.filter.DisableBasicAuthFilter.doFilter(DisableBasicAuthFilter.java:70)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.plugins.authentication.impl.basicauth.filter.DisableBasicAuthFilter.doFilter(DisableBasicAuthFilter.java:70)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:84)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 326 frames trimmed\r\n{noformat}\r\n\r\nh3. Workaround\r\nWait until migration is complete. This is usually less than 10 minutes, but depending on instance size it can be more than 30 min after the first start on the new version\r\n",
      "summary": "Dashboard returns a 500 after upgrade to 7.4 or later"
    }
  },
  {
    "key": "BSERV-12835",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-27T04:56:43.000+0000",
      "description": "h3. Problem Definition\r\nAs an administrator, I wish to ensure that all repositories on my system have minimum required default reviewers. This ensures every pull request will have a predefined amount of reviewers.\r\n\r\nh3. Suggested Solution\r\nAdd an option in global administration to mandatorily define a minimum amount of default reviewers for the project or repository level.",
      "summary": "As an administrator, I wish to define the minimum number of default reviewers at the Bitbucket Global level"
    }
  },
  {
    "key": "BSERV-12834",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T15:27:07.000+0000",
      "description": "Crowd team has patched a fix for sensitive parameters to the URL on Crowd 4.2.4 and 4.3.0 https://jira.atlassian.com/browse/CWD-5640\r\n\r\nWe request this fix to be included in a Bitbucket release, so we can apply it on our instances.",
      "summary": "Update Crowd Version Bundled on Bitbucket to Include Security Fix"
    }
  },
  {
    "key": "BSERV-12833",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-26T10:11:02.000+0000",
      "description": "To display on SAML Single Sign On window (see attached screenshot) a message to instruct users to make an inquiry to contact the customer's Service Desk, with information such as Service desk URL and email.\r\n\r\nThis will help users who fail to login to their Bitbucket due to the fact that CI / CD registration is not completed or others to reach appropriate channel to get the issue fixed.\r\n",
      "summary": "Ability to add custom information to SAML Single Sign On window"
    }
  },
  {
    "key": "BSERV-12832",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-20T17:33:47.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf the database configured in the Restore Client does not exist, the restore script should warn the user about that and offer to create the database specified.\r\nh3. Steps to Reproduce\r\n # Run the restore process specifying a non-existing database\r\n # Connection will obviously fail, but\u00a0in this case\u00a0the restore script should offer to create the database.\r\n\r\nh3. Expected Results\r\n\r\nThe\u00a0restore script should offer to create the database specified if it doesn't exist.\r\nh3. Actual Results\r\n\r\nThe restore process will just fail completely.\r\nh3. Workaround\r\n\r\nManually create the database and credentials following the documentation respective to the database type being used *before* running the restore client:\r\n * [Connecting Bitbucket to Mysql|https://confluence.atlassian.com/bitbucketserver/connecting-bitbucket-server-to-mysql-776640382.html]\r\n * [Connecting Bitbucket to PostgreSQL|https://confluence.atlassian.com/bitbucketserver/connect-bitbucket-to-postgresql-776640389.html]\r\n * [Connecting Bitbucket to Oracle|https://confluence.atlassian.com/bitbucketserver/connect-bitbucket-to-oracle-776640379.html]\r\n * [Connecting Bitbucket to SQL Server|https://confluence.atlassian.com/bitbucketserver/connect-bitbucket-to-sql-server-776640385.html]",
      "summary": "Restore Client should offer to create the database specified if it doesn't exist"
    }
  },
  {
    "key": "BSERV-12831",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-19T20:05:21.000+0000",
      "description": "h3. Issue Summary\r\n\r\nFirst project in the list has its line always highlighted (greyed out)\r\nh3. Steps to Reproduce\r\n # Make sure to have at least two projects in the instance\r\n # Access the projects list to see the first line always highlighted (greyed out):\r\n !image-2021-04-19-17-01-38-455.png|width=540,height=160!\r\n # Mouse over the list of projects and notice that, in addition to the respective line of the project the mouse is hovering (*BBB* in this case) is greyed out, the first line will remain greyed out:\r\n !image-2021-04-19-17-02-12-276.png|width=540,height=160!\r\n\r\nh3. Expected Results\r\n # The first line should not be highlighted by default, it should have white background by default\r\n # The first line should only be highlighted (greyed out) when the mouse is over it.\r\n\r\nh3. Actual Results\r\n\r\nThe first line is always highlighted.\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "First project in the list has its line always highlighted"
    }
  },
  {
    "key": "BSERV-12830",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-19T07:48:25.000+0000",
      "description": "Currently, auto-merge behavior is not configurable, which means there is no possibility to configure branches that we'd like to exclude from being auto-merged if they meet the auto-merge condition.\u00a0\r\n\r\nThis feature request gathers interest for adding an exclusion list of branches, that could be skipped in auto-merge logic.",
      "summary": "Add the possibility of exclusions to the auto-merge logic "
    }
  },
  {
    "key": "BSERV-12829",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-05-18T21:22:59.000+0000",
      "created": "2021-04-19T04:20:48.000+0000",
      "description": "In [Bitbucket Server 7.8|https://confluence.atlassian.com/bitbucketserver/bitbucket-server-and-data-center-7-8-release-notes-1027130356.html] the ability to a run a new instance of a Bamboo plan from Bitbucket Server was added.\r\n\r\nIt would be nice to extend this actions menu to include the\u00a0_Rerun failed/incomplete jobs only_\u00a0option\u00a0present within Bamboo.\r\n\r\n!image-2021-04-19-16-19-04-800.png! \u00a0",
      "summary": "Rerun failed/incomplete jobs from Bamboo on Bitbucket Server"
    }
  },
  {
    "key": "BSERV-12828",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-16T20:33:50.000+0000",
      "description": "Bitbucket provides the view of the last time an user authenticated, however this feature updates the last auth time for multiple authentication methods such as UI logon, Git operations, etc.\r\n\r\nFor sysadmins managing the instance it would be great if it'd be possible to distinguish between the authentication methods to have a better picture if users are indeed logging in on the UI and have a better granularity of that information on the UI.",
      "summary": "As a Sysadmin I Would Like to Have the Ability to Distinguish Authentication Methods"
    }
  },
  {
    "key": "BSERV-12827",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-16T07:06:29.000+0000",
      "description": "1.\u00a0\r\n\r\nReviewers of \"Pull request (PR) \" should be ordered\u00a0\r\n * NEED WORK\r\n * APPROVED\r\n * [EMPTY]\r\n\r\nNow if somebody give need work it's not visible in Popup \"View your unapproved pull requests\" (RIGHT UP CORNER).\r\n\r\n*And its hard to manage own PRs.*\r\n\r\nIcons should be expanded to 4 or 5 persons, (2 persons + (grey +3)) are too less.\r\n\r\n!bitbucket-1.png!\r\n\r\n2.\r\n\r\nWhen open Pull request looks quite good but there is many place to expand all users, icon\u00a0 (+2) is not necessary. All reviewers should be visible (or max 10 :)\u00a0) . Maybe ordering\u00a0\r\n\r\nNEED WORKS, APPROVED, EMPTY are also good idea :).\u00a0\u00a0\r\n\r\n!bitbucket-2.png!",
      "summary": "Change order of results of Pull Request reviewers"
    }
  },
  {
    "key": "BSERV-12826",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-27T05:07:28.000+0000",
      "created": "2021-04-16T01:48:11.000+0000",
      "description": "h3. Issue Summary\r\nUnexpected exceptions in {{com.atlassian.stash.internal.jira.index.IssueUpdateQueue}} would cause the {{IssueUpdateThread}} to die.\r\n\r\nA sample would be database-related exceptions:\r\n{code}\r\nException in thread \"IssueUpdateThread\" com.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:\r\n{code}\r\n\r\nh3. Steps to Reproduce\r\nN/A\r\n\r\nh3. Expected Results\r\nExceptions will be handled\r\n\r\nh3. Actual Results\r\nUnhandled exception cause the thread to die\r\n\r\nThe below exception is thrown in the {{launcher.log}} file:\r\n{noformat}\r\nException in thread \"IssueUpdateThread\" com.atlassian.activeobjects.internal.ActiveObjectsSqlException: There was a SQL exception thrown by the Active Objects library:\r\nException in thread \"IssueUpdateThread\" org.springframework.transaction.TransactionSystemException: Could not roll back Hibernate transaction; nested exception is org.hibernate.TransactionException: Unable to rollback against JDBC Connection\r\n{noformat}\r\n\r\nh3. Workaround\r\nRestart the Bitbucket instance",
      "summary": "Unhandled exceptions in com.atlassian.stash.internal.jira.index.IssueUpdateProcessor would cause the IssueUpdateThread to die "
    }
  },
  {
    "key": "BSERV-12825",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T19:53:00.000+0000",
      "description": "When I look at the \u201cbuilds\u201d tab for a PR, it shows all the builds that have ever been attempted for that branch by default.\r\n\r\nThe only really useful information in there at first glance is how the latest push to the PR branch fared. You can get it to show only this via the \u2018View\u2019 drop down. That should be the default.\r\n\r\n\r\n\r\nAll that really matters to a developer is \u201care my latest changes working\u201d and, if not \u201cwhat is the error\u201d. There\u2019s so, so much extraneous information that has to be sifted through to find the answers to these things.",
      "summary": "Show only the latest build for a PR on the Builds tab"
    }
  },
  {
    "key": "BSERV-12824",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T17:25:39.000+0000",
      "description": "Need the ability to toggle a branch for allowing or disallowing commits/merges to take place.\r\n\r\nThe feature would only be available to admins of the repo.\r\n\r\nThe feature could be invoked in 3 ways:\r\n\r\na. Manually (toggle switch),\r\n\r\nb. Freeze with a time period after which the branch would unfreeze automatically,\r\n\r\nc. Freeze with a time period (same as b) on a recurring schedule.\r\n\r\n\u00a0\r\n\r\nUSE CASE:\r\n\r\nWe have a \"development\" branch and \"master\" branch for management of mfg production code.\u00a0 All new code merging into development automatically kicks off a Jenkins Integration test build.\u00a0 These builds must pass before a merge to master can occur.\u00a0 The builds can take several hours and at least one could be queued waiting.\r\nWe want to schedule regular releases to the factory.\u00a0 To do so, development merges must stop temporarily so that the Integration Testing can complete to allow the master merge to be performed.\r\nThe ability to freeze development for a brief period can guarantee a regularly scheduled master release.\r\n\r\n\u00a0",
      "summary": "Freeze/Unfreeze a branch to prevent commits"
    }
  },
  {
    "key": "BSERV-12823",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T13:19:25.000+0000",
      "description": "h3. Issue Summary\r\nThe issue is happening to the source editor and the pull request diffs containing the branch with a plus (+) sign in it.\r\n\r\nh3. Steps to Reproduce\r\n# Create a branch with + sign in it - i.e. my+new+branch\r\n# Make sure that you're on a Source view and the newly created branch with + sign is selected\r\n# Click on the link\r\n# If the issue has not reproduced just go back with the browser and try another file\r\n\r\n \r\nh3. Expected Results\r\nThe link is generated with suffix {{?at=refs%2Fheads%2Fmy%2Bnew%2Bbranch}} \r\nh3. Actual Results\r\nThe link with {{?at=my+new+branch}} is generated.\r\n !Screenshot 2021-04-15 at 15.17.40.png|thumbnail! \r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2021-04-15 15:15:04,284 DEBUG [http-nio-7990-exec-4] siteadmin *1G5CRYUx915x782x0 1wf2mni 172.16.71.1,172.16.71.134 \"GET /rest/api/latest/projects/DEMO/repos/browser-android-tabs/last-modified/.vpython HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 404\r\ncom.atlassian.bitbucket.content.NoSuchPathException: The path \".vpython\" does not exist at revision \"my new branch\"\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.newNoSuchPathException(GitCommandExitHandler.java:197)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand$1.evaluateStdErr(LastModifiedCommand.java:168)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:204)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:286)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.finish(NioNuProcessHandler.java:327)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.onExit(NioNuProcessHandler.java:119)\r\n\tat com.zaxxer.nuprocess.internal.BasePosixProcess.onExit(BasePosixProcess.java:307)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.handleExit(ProcessEpoll.java:371)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.cleanupProcess(ProcessEpoll.java:334)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.process(ProcessEpoll.java:272)\r\n\tat com.zaxxer.nuprocess.internal.BaseEventProcessor.run(BaseEventProcessor.java:81)\r\n\tat com.zaxxer.nuprocess.linux.ProcessEpoll.run(ProcessEpoll.java:188)\r\n\tat com.zaxxer.nuprocess.linux.LinuxProcess.run(LinuxProcess.java:107)\r\n\tat com.zaxxer.nuprocess.linux.LinProcessFactory.runProcess(LinProcessFactory.java:50)\r\n\tat com.zaxxer.nuprocess.NuProcessBuilder.run(NuProcessBuilder.java:273)\r\n\tat com.atlassian.bitbucket.internal.process.nu.NuNioProcessHelper.run(NuNioProcessHelper.java:75)\r\n\tat com.atlassian.bitbucket.internal.process.NioCommand.call(NioCommand.java:52)\r\n\tat com.atlassian.stash.internal.scm.git.command.SimpleGitCommand.configureAndCall(SimpleGitCommand.java:84)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.listFiles(LastModifiedCommand.java:156)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.stream(LastModifiedCommand.java:243)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.call(LastModifiedCommand.java:88)\r\n\tat com.atlassian.stash.internal.scm.git.command.LastModifiedCommand.call(LastModifiedCommand.java:54)\r\n\tat com.atlassian.stash.internal.commit.DefaultCommitService.streamLastModified(DefaultCommitService.java:364)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor954.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor211.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor716.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor954.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor954.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.stash.internal.rest.commit.LastModifiedResource$1.write(LastModifiedResource.java:104)\r\n\tat com.atlassian.bitbucket.rest.util.JsonStreamingOutput.write(JsonStreamingOutput.java:23)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.lambda$write$0(StreamingResponseFilter.java:80)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$AbstractStreamingExceptionMapper.stream(StreamingResponseFilter.java:50)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.write(StreamingResponseFilter.java:80)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:75)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:75)\r\n\tat com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.AuthorizationFailureInterceptor.doFilterInternal(AuthorizationFailureInterceptor.java:39)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.plugins.authentication.impl.basicauth.filter.DisableBasicAuthFilter.doFilter(DisableBasicAuthFilter.java:70)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:26)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:33)\r\n\tat com.atlassian.troubleshooting.thready.filter.AbstractThreadNamingFilter.doFilter(AbstractThreadNamingFilter.java:46)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:84)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t... 295 frames trimmed\r\n\tSuppressed: com.atlassian.utils.process.ProcessException: Non-zero exit code: 128\r\n\t\tat com.atlassian.bitbucket.internal.process.nu.NioNuProcessHandler.callExitHandler(NioNuProcessHandler.java:278)\r\n\t\t... 75 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\nAs the branch in the branch selector is shown without the plus sign, please click on the branch selector and select the correct branch.\r\n !Screenshot 2021-04-15 at 15.17.46.png|thumbnail! ",
      "summary": "Plus sign in branch name is not converted consistently in Bitbucket UI"
    }
  },
  {
    "key": "BSERV-12822",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-15T00:27:40.000+0000",
      "description": "In Bitbucket Server 7.11, the product's dashboard page was overhauled and the existing internal client web section *{{bitbucket.internal.dashboard.pull-request.table-column.after}}* on that page was removed.\r\n\r\nAlthough this API was purely internal, some third party applications were using it.\r\nSee this [Developer Community question|https://community.developer.atlassian.com/t/bitbucket-7-11-removal-of-bitbucket-internal-dashboard-pull-request-table-column-after/47059].\r\n\r\nTo allow third party developers to add additional columns to the dashboard's pull request tables, Bitbucket Server could introduce a [Client-side Extension|https://developer.atlassian.com/server/framework/clientside-extensions/] point, similar to the pull request's page commits table. This would provide a public API for this use-case.",
      "summary": "Allow client-side extensions to plug into the dashboard's pull request table rows"
    }
  },
  {
    "key": "BSERV-12820",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-27T05:07:38.000+0000",
      "created": "2021-04-10T00:15:53.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen using a personal access token to authenticate, if the:\r\n* access token is expired, or\r\n* the user is inactive in LDAP\r\n\r\nthe token authenticator opts out of the authentication processing, rather than rejecting the token. This results in the system attempting subsequent authenticators, including the Crowd authenticator that handles username/password authentication. The token is sent as a password and rejected, which increments the CAPTCHA counter for the user. This eventually leads to the user account being locked.\r\n\r\nh3. Steps to Reproduce\r\n # Set up a personal access token for a user\r\n # Mark that user inactive in Crowd\r\n # Attempt to authenticate using basic authentication with the token as the password\r\n\r\nh3. Expected Results\r\n\r\nThe token is rejected, because the user is not active in LDAP, and normal username/password authentication is not attempted. The user's CAPTCHA counter is not incremented.\r\n\r\nh3. Actual Results\r\n\r\nThe token authenticator logs that the user is inactive and then opts out rather than rejecting the token. The system attempts username/password authentication with the token, which fails, and the user's CAPTCHA counter is incremented.\r\n\r\nThe following message is logged:\r\n{noformat}\r\n2021-01-01 01:01:01,010 INFO  [http-nio-7990-exec-1] *RLCFSXx373x31758x0 1.1.1.1 \"GET /rest/api/1.0/projects/KEY/repos/slug/commits HTTP/1.1\" c.a.b.i.a.DefaultAccessTokenService User \"jdoe\" attempted to authenticate via a personal access token, but is no longer active in the underlying user directory. The request has been blocked.\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround for this behavior. Generally if an inactive user is CAPTCHA'd it shouldn't matter, since they're not active. If necessary, the CAPTCHA can be cleared by any {{ADMIN}} or {{SYS_ADMIN}} user using the [REST API|https://docs.atlassian.com/bitbucket-server/rest/7.11.2/bitbucket-rest.html#idp25]. (Note that if the inactive user is a {{SYS_ADMIN}}, only another {{SYS_ADMIN}} user can clear the CAPTCHA.)",
      "summary": "Access token authenticator handles expired tokens and inactive users incorrectly"
    }
  },
  {
    "key": "BSERV-12819",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-09T13:57:18.000+0000",
      "description": "A warning message that says \"You have insufficient permissions to update 'master'. Check your branch permissions with the project administrator\" in PR view page appears if the user is restricted access in Branch permissions from Bitbucket 7.x\r\n !warning message.png|width=316,height=144!\r\n\r\nRequest to add a feature to configure hiding the warning message.",
      "summary": "Allow to hide branch permission warning message in PR overview page"
    }
  },
  {
    "key": "BSERV-12818",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T04:19:41.000+0000",
      "created": "2021-04-08T10:45:16.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe {{Rest API}} for retrieving [Webhooks|https://docs.atlassian.com/bitbucket-server/rest/7.3.0/bitbucket-rest.html#idp374] is broken when using the {{limit}} and {{start}} query parameters {{(start=0&limit=2)}} to retrieve the desired number of results.\r\n\r\nh3. Steps to Reproduce\r\n# Have at least {{4 Webhooks}} configured.\r\n# Use the REST API to retrieve the Webhooks, for example:\r\n{code:java}\r\ncurl -H \"Authorization: Bearer xxxxx\" -X GET https://localhost:8444/b760/rest/api/1.0/projects/LIN/repos/practice_git/webhooks?start=0&limit=2\r\n{code}\r\n\r\n\r\nh3. Expected Results\r\n\r\n{{2 Webhooks}} should be returned.\r\n{code:java}\r\n{\r\n    \"size\": 2,\r\n    \"limit\": 2,\r\n    \"isLastPage\": false,\r\n    \"values\": [\r\n        {\r\n            \"id\": 6,\r\n            \"name\": \"danny\",\r\n            \"createdDate\": 1617782072303,\r\n            \"updatedDate\": 1617782072303,\r\n            \"events\": [\r\n                \"repo:refs_changed\"\r\n            ],\r\n            \"configuration\": {\r\n                \"createdBy\": \"bitbucket\"\r\n            },\r\n            \"url\": \"http://localhost:8080/bitbucket-scmsource-hook/notify\",\r\n            \"active\": true\r\n        },\r\n        {\r\n            \"id\": 7,\r\n            \"name\": \"https://d1f9f469ec5730337b80ff1302c3c739.m.pipedream.net\",\r\n            \"createdDate\": 1617782072305,\r\n            \"updatedDate\": 1617782072305,\r\n            \"events\": [\r\n                \"repo:refs_changed\"\r\n            ],\r\n            \"configuration\": {},\r\n            \"url\": \"https://d1f9f469ec5730337b80ff1302c3c739.m.pipedream.net\",\r\n            \"active\": true\r\n        }\r\n    ],\r\n    \"start\": 0,\r\n    \"nextPageStart\": 2\r\n}\r\n{code}\r\n\r\nh3. Actual Results\r\n\r\n{{3 Webhooks}} are returned as show below:\r\n{code:java}\r\n{\r\n    \"size\": 2,\r\n    \"limit\": 2,\r\n    \"isLastPage\": false,\r\n    \"values\": [\r\n        {\r\n            \"id\": 6,\r\n            \"name\": \"danny\",\r\n            \"createdDate\": 1617780109672,\r\n            \"updatedDate\": 1617780109672,\r\n            \"events\": [\r\n                \"repo:refs_changed\"\r\n            ],\r\n            \"configuration\": {\r\n                \"createdBy\": \"bitbucket\"\r\n            },\r\n            \"url\": \"http://localhost:8080/bitbucket-scmsource-hook/notify\",\r\n            \"active\": true\r\n        },\r\n        {\r\n            \"id\": 7,\r\n            \"name\": \"https://d1f9f469ec5730337b80ff1302c3c739.m.pipedream.net\",\r\n            \"createdDate\": 1617780109674,\r\n            \"updatedDate\": 1617780109674,\r\n            \"events\": [\r\n                \"repo:refs_changed\"\r\n            ],\r\n            \"configuration\": {},\r\n            \"url\": \"https://d1f9f469ec5730337b80ff1302c3c739.m.pipedream.net\",\r\n            \"active\": true\r\n        },\r\n        {\r\n            \"id\": 9,\r\n            \"name\": \"43209a81b9b5694b39daf4d231c44dd76d12f4ef\",\r\n            \"createdDate\": 1617780109675,\r\n            \"updatedDate\": 1617780109675,\r\n            \"events\": [\r\n                \"repo:refs_changed\"\r\n            ],\r\n            \"configuration\": {\r\n                \"createdBy\": \"jenkins\"\r\n            },\r\n            \"url\": \"http://localhost:8080/bitbucket-server-webhook/trigger\",\r\n            \"active\": true\r\n        }\r\n    ],\r\n    \"start\": 0,\r\n    \"nextPageStart\": 2\r\n}\r\n{code}\r\nh3. Workaround\r\n\r\nThe workaround is adding a {{\"+1\"}} to the {{nextPageStart}} when calling the next page. For example,\r\n{code:java}\r\n-- Current API call\r\ncurl -H \"Authorization: Bearer xxxxx\" -X GET https://localhost:8444/b760/rest/api/1.0/projects/LIN/repos/practice_git/webhooks?start=0&limit=2\r\n-- Next API call\r\ncurl -H \"Authorization: Bearer xxxxx\" -X GET https://localhost:8444/b760/rest/api/1.0/projects/LIN/repos/practice_git/webhooks?start=3&limit=2\r\n{code}\r\nHowever, the {{lastpage is true}} only when the page limit is has reached or exceeded the number of Webhooks. For example, if {{4 Webhooks}} are available it behaves like this:\r\n\r\n{code:java}\r\ncurl -H \"Authorization: Bearer xxxxx\" -X GET https://localhost:8444/b760/rest/api/1.0/projects/LIN/repos/practice_git/webhooks?start=0&limit=3\r\n-- Output\r\n4 Webhooks with lastpage as false\r\n\r\ncurl -H \"Authorization: Bearer xxxxx\" -X GET https://localhost:8444/b760/rest/api/1.0/projects/LIN/repos/practice_git/webhooks?start=0&limit=4\r\n-- Output\r\n4 Webhooks with lastpage as true\r\n\r\ncurl -H \"Authorization: Bearer xxxxx\" -X GET https://localhost:8444/b760/rest/api/1.0/projects/LIN/repos/practice_git/webhooks?start=4&limit=4\r\n-- Output\r\n1 Webhook with lastpage as true\r\n{code}",
      "summary": "Broken Pagination in Rest API for Webhooks"
    }
  },
  {
    "key": "BSERV-12817",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-07T20:02:24.000+0000",
      "description": "h3. Problem Definition\r\n * Integrated CI/CD was released with Bitbucket v7.4 update that came with a change in the way build statuses are created and stored.\r\n * Before 7.4, there was a build description field that shows up when clicking the build status link (screenshot below):\r\n **  !screenshot-1.png|thumbnail! \r\n * In Bitbucket v7.4, we have a new endpoint that permits build statuses to contain more detailed information like the build number, and test success/failures ([reference documentation|https://confluence.atlassian.com/bitbucketserver/view-builds-information-in-bitbucket-1014275096.html]).\r\n * The description of the build status (shown in the above screenshot) is no more displayed.\r\n\r\nh3. Suggested Solution\r\n\r\n* Show more build-status-related data (understand which valuable information can be added to the current build status displayed data).\r\n\r\nOr\r\n\r\n* Show the old build status description content\r\n\r\nh3. Why this is important\r\n\r\n* In some environments, CI systems post meaningful updates and information in the old build description which many users rely on. ",
      "summary": "Enrich Build status data displayed on Bitbucket UI"
    }
  },
  {
    "key": "BSERV-12816",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-04-07T08:43:05.000+0000",
      "description": "Currently, there isn't a way to get the latest available version of the Bitbucket via API, it would be nice to have a Rest API endpoint to provide that info.\r\n\r\nIt would be great to have some info as we get from this endpoint {{rest/troubleshooting/latest/pre-upgrade/info}}\r\n\r\n",
      "summary": "REST Api endpoint to get the latest available version of Bitbucket "
    }
  },
  {
    "key": "BSERV-12815",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-19T04:37:47.000+0000",
      "created": "2021-04-01T19:11:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a backup is kicked off (whether using the backup client or DIY scripts), and when in-app database migration is performed, the system starts out by draining in-use database connections and waiting until the pool is idle.\r\n\r\nA change made in Bitbucket Server/Data Center 4.14 introduced a wrapper around the {{DataSource}} which the draining code was not updated to handle. As a result, database connections are not drained and backup/migration are allowed to continue with some number of connections potentially still in use.\r\n\r\nh3. Steps to Reproduce\r\n # Put the system into maintenance mode\r\n # Trigger a backup\r\n\r\nh3. Expected Results\r\n\r\nDatabase connections are drained.\r\n\r\nh3. Actual Results\r\n\r\nDatabase connections are not drained.\r\n\r\nThe following warning appears in the logs:\r\n{noformat}\r\n2021-03-09 22:32:44,789 WARN  [hz.hazelcast.cached.thread-33]  c.a.s.i.db.DefaultDatabaseManager The DataSource for the current database does not implement ForcedDrainable. Existing connections will not be closed.\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround for this issue; it requires an in-code fix.",
      "summary": "When performing a backup or database migration, database connections are not drained"
    }
  },
  {
    "key": "BSERV-12814",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-13T00:24:40.000+0000",
      "created": "2021-04-01T19:00:20.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Bitbucket Server/Data Center performs merges, it does so using temporary work trees created in {{%BITBUCKET_HOME%\\tmp\\git}}. After the merge completes (successfully or not), the system deletes the work tree. However, when Bitbucket Server/Data Center is running on Windows, Git for Windows creates certain files as read-only and the system does not clear that flag. As a result, cleanup silently fails and temporary files can accumulate over time. For workflows that produce a lot of cross-repository merges (merges where the source and target branches are in different repositories), it's much more likely that temporary files will be leaked.\r\n\r\n_This issue does not affect Linux hosts._ It is specific to Windows.\r\n\r\nh3. Steps to Reproduce\r\n # Create a pull request between two branches in different repositories\r\n # Merge the pull request\r\n\r\nh3. Expected Results\r\n\r\nWork tree files in {{%BITBUCKET_HOME%\\tmp\\git}} are cleaned up when the merge completes.\r\n\r\nh3. Actual Results\r\n\r\nSome number of files are left in place, leading to a steady accumulation of files/directories over time.\r\n\r\nh3. Workaround\r\n\r\nWhen restarting or upgrading Bitbucket Server/Data Center, manually delete the entire {{%BITBUCKET_HOME%\\tmp}} directory. It will automatically be recreated the next time the system starts. This will purge the accumulated files.",
      "summary": "When hosting on Windows, merges performed can leak temporary files"
    }
  },
  {
    "key": "BSERV-12813",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-06-22T04:21:12.000+0000",
      "created": "2021-03-31T20:11:49.000+0000",
      "description": "h3. Issue Summary\r\n\r\nCreating a branch from the UI uses the recently used repositories list to decide what project/repo to offer for the branch creation. When creating multiple branches in different repositories using different browser tabs or windows, it is possible that the repository shown is not the one intended for creating the branch (and then the branch would be created in the wrong repository).\r\nh3. Steps to Reproduce\r\n # Open Bitbucket and sign in with the same username on two tabs (or in two different browser windows, or in two different browsers, the key is to be signed in as the same user)\r\n # In tab 1, browse to Project A, Repository 1\r\n # In tab 2, bowser to Project B, Repository 2\r\n # In tab 1, click Create Branch | create a branch called feature/test\r\n # in tab 2, click Create Branch | create a branch called feature/test\r\n\r\nYou will get an error that the branch already exists. Closer examination of the create branch dialog in tab 2 will show that Project A, Repository 1 was selected not Project B, Repository 2 as expected.\r\nh3. Expected Results\r\n\r\nThe correct project and repository should be default\r\nh3. Actual Results\r\n\r\nThe recently used repositories list is used when determining what repository to use for creating the branch, so the incorrect project / repository can be presented as the defaults\r\nh3. Workaround\r\n\r\nIf you press refresh on the source view of Tab 2 before clicking \"Create Branch\" the correct Project and Repository are selected.",
      "summary": "When creating branches for multiple repositories an incorrect project and repository can be shown as default"
    }
  },
  {
    "key": "BSERV-12812",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T19:51:54.000+0000",
      "description": "We would like the ability in the GUI to identify all of the forks, and forks of forks of a repository down to as many levels as is supported.  \r\n\r\nIf a repository is a fork we would like the GUI to show the forks parent, grand parent, etc as deep as that relationship goes\r\n\r\nAn added bonus would be that the GUI shows the last update for the fork and provide the ability to delete a fork (if you are a Sys Admin) if the fork is determined to be abandoned",
      "summary": "Need a way to visualize all the forks/parents of a repository"
    }
  },
  {
    "key": "BSERV-12811",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T19:43:05.000+0000",
      "description": "Similar to https://jira.atlassian.com/browse/BCLOUD-13645, we would like the ability to detach or break a fork relationship. We have a repository which was originally forked from another, but now they are completely different code bases.\r\n\r\nOnce broken the fork repository should have the full history and all the objects that were left in the parent repository so that the detached repository has no link or dependency on its parent.  \r\n",
      "summary": "Provide a process to easily disassociate a fork from its parent"
    }
  },
  {
    "key": "BSERV-12810",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-31T13:36:31.000+0000",
      "description": "If one tries to access a repository for which one is not authorised, a page appears showing a big \u2018401\u2019 image together with the text \u2018Access Denied\u2019. But HTTP Status 401 stands for \u2018Not Authenticated\u2019, so code 403, which stands for \u2018Access Denied/Not Authorised\u2019 (because authentication has already found place).\r\n\r\n!image-2021-03-31-15-33-37-195.png!",
      "summary": "On Access Denied a 401 image is shown instead of a 403"
    }
  },
  {
    "key": "BSERV-12809",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-13T00:24:56.000+0000",
      "created": "2021-03-31T03:58:50.000+0000",
      "description": "There are no shortcuts for markdown formatting in the editor in a pull request. For example, there's no way Command+B to bold text. This is pretty standard behaviour for editors that support formatting!",
      "summary": "Formatting shortcuts for pull request editor"
    }
  },
  {
    "key": "BSERV-12808",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-13T00:25:04.000+0000",
      "created": "2021-03-30T22:50:54.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOn attempting to search for results in Bitbucket, it's possible that the thread handling the search request can get into a deadlock, permanently increasing the number of concurrently executing threads until the JVM is restarted.\r\n\r\nh3. Steps to Reproduce\r\n\r\n* (!) The exact conditions for when this issue can occur are not currently known. It's currently estimated to be related to the configured Elasticsearch instance being unreachable for an extended period of time following a restart of the Bitbucket instance.\r\n\r\nh3. Expected Results\r\n\r\nOne of the following happens:\r\n\r\n* Bitbucket successfully completes the search request \r\n* Bitbucket gets back an error and logs it/sends it back to the entity making the request\r\n* Bitbucket times out in waiting for a response and logs it and reports the timeout to the entity making the request\r\n\r\nh3. Actual Results\r\n\r\nThe thread becomes stuck in a deadlock. On taking a series of [thread dumps|https://confluence.atlassian.com/bitbucketserverkb/generate-a-thread-dump-externally-779171716.html], the following type of WAITING threads can be seen:\r\n\r\n{noformat}\r\n\"https-jsse-nio-8443-exec-178\" #125950 daemon prio=5 os_prio=0 tid=0x00007f51b013d800 nid=0x16f01 waiting on condition [0x00007f517fe0c000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000000ad69a1a8> (a java.util.concurrent.CountDownLatch$Sync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n\tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n\tat com.atlassian.bitbucket.internal.search.indexing.util.Observables.consume(Observables.java:75)\r\n\tat com.atlassian.bitbucket.internal.search.indexing.util.Observables.consumeSingle(Observables.java:92)\r\n\tat com.atlassian.bitbucket.internal.search.search.rest.SearchResource.processRequest(SearchResource.java:340)\r\n\tat com.atlassian.bitbucket.internal.search.search.rest.SearchResource.lambda$search$5(SearchResource.java:112)\r\n\tat com.atlassian.bitbucket.internal.search.search.rest.SearchResource$$Lambda$3322/193574928.apply(Unknown Source)\r\n...\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nRestart the Bitbucket instance to clear up the stuck threads, and then confirm that the configured Elasticsearch instance is both reachable and able to be successfully queried.",
      "summary": "Searching in Bitbucket results in deadlocked threads "
    }
  },
  {
    "key": "BSERV-12807",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-01T00:53:15.000+0000",
      "created": "2021-03-30T21:58:32.000+0000",
      "description": "relates to BSERV-9254\r\n\r\nSolution implemented to make some customers happy causes many support request to restore branches and lots of requests to unset that checkbox by default.\u00a0\u00a0\r\n\r\nPlease add config in admin global/project/repo sections to set the default to something that makes sense for the teams.\r\n\r\nThank you.\r\n\r\n\u00a0",
      "summary": "Allow admins to set default setting for 'Delete source branch after merging' "
    }
  },
  {
    "key": "BSERV-12806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-30T14:54:14.000+0000",
      "description": "h3. Issue Summary\r\n\r\nOsgiPlugin error prevents enabling of an app\r\nh3. Steps to Reproduce\r\n # Install an app that uses\u00a0Atlassian Spring Scanner\r\n\r\nh3. Expected Results\r\n\r\nThe app is enabled.\r\nh3. Actual Results\r\nThe app isn't enabled.\u00a0\r\nThe below exception is thrown in the osgi-error.log file:\r\n{noformat}\r\n2021-03-10 16:18:12,999 ERROR [ThreadPoolAsyncTaskExecutor::Thread 44]  c.a.plugin.osgi.factory.OsgiPlugin Unable to start the plugin container for plugin 'com.stiltsoft.stash.graphs'\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from URL [bundle://136.0:0/META-INF/spring/beans.xml]; nested exception is java.lang.IllegalStateException: The bundle is uninstalled.\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:171)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:141)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:638)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:239)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:217)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:154)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:213)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 6 frames trimmed\r\nCaused by: java.lang.IllegalStateException: The bundle is uninstalled.\r\n\tat org.apache.felix.framework.Felix.getBundleResources(Felix.java:1706)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.getResources(BundleDelegatingClassLoader.java:186)\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.loadAllProperties(PropertiesLoaderUtils.java:174)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$Plugin.resolve(NamespacePlugins.java:77)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:209)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:205)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.LazyBundleRegistry.apply(LazyBundleRegistry.java:159)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.doResolve(NamespacePlugins.java:205)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.resolve(NamespacePlugins.java:169)\r\n\tat org.eclipse.gemini.blueprint.context.support.TrackingUtil$OsgiServiceHandler.invoke(TrackingUtil.java:106)\r\n\tat org.eclipse.gemini.blueprint.context.support.DelegatedNamespaceHandlerResolver.resolve(DelegatedNamespaceHandlerResolver.java:55)\r\n\t... 15 common frames omitted\r\n2021-03-10 16:18:13,021 INFO  [FelixDispatchQueue]  c.a.p.o.c.f.FelixOsgiContainerManager Stopped bundle com.stiltsoft.bitbucket.graphs.bitbucket-graphs-plugin (136)\r\n2021-03-10 16:18:13,021 ERROR [ThreadPoolAsyncTaskExecutor::Thread 44]  o.e.g.b.e.i.s.ExtenderConfiguration Application context refresh failed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.stiltsoft.bitbucket.graphs.bitbucket-graphs-plugin, config=osgibundle:/META-INF/spring/*.xml))\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from URL [bundle://136.0:0/META-INF/spring/beans.xml]; nested exception is java.lang.IllegalStateException: The bundle is uninstalled.\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:171)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:141)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:638)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:239)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:217)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:154)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:213)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 6 frames trimmed\r\nCaused by: java.lang.IllegalStateException: The bundle is uninstalled.\r\n\tat org.apache.felix.framework.Felix.getBundleResources(Felix.java:1706)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.getResources(BundleDelegatingClassLoader.java:186)\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.loadAllProperties(PropertiesLoaderUtils.java:174)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$Plugin.resolve(NamespacePlugins.java:77)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:209)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:205)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.LazyBundleRegistry.apply(LazyBundleRegistry.java:159)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.doResolve(NamespacePlugins.java:205)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.resolve(NamespacePlugins.java:169)\r\n\tat org.eclipse.gemini.blueprint.context.support.TrackingUtil$OsgiServiceHandler.invoke(TrackingUtil.java:106)\r\n\tat org.eclipse.gemini.blueprint.context.support.DelegatedNamespaceHandlerResolver.resolve(DelegatedNamespaceHandlerResolver.java:55)\r\n\t... 15 common frames omitted\r\n2021-03-10 16:18:13,022 ERROR [ThreadPoolAsyncTaskExecutor::Thread 44]  o.e.g.b.e.i.d.s.DependencyWaiterApplicationContextExecutor Unable to create application context for [com.stiltsoft.bitbucket.graphs.bitbucket-graphs-plugin], unsatisfied dependencies: none\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from URL [bundle://136.0:0/META-INF/spring/beans.xml]; nested exception is java.lang.IllegalStateException: The bundle is uninstalled.\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:171)\r\n\tat org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:141)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:638)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:57)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:239)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:217)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:154)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:213)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 6 frames trimmed\r\nCaused by: java.lang.IllegalStateException: The bundle is uninstalled.\r\n\tat org.apache.felix.framework.Felix.getBundleResources(Felix.java:1706)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.getResources(BundleDelegatingClassLoader.java:186)\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.loadAllProperties(PropertiesLoaderUtils.java:174)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$Plugin.resolve(NamespacePlugins.java:77)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:209)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:205)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.LazyBundleRegistry.apply(LazyBundleRegistry.java:159)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.doResolve(NamespacePlugins.java:205)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.resolve(NamespacePlugins.java:169)\r\n\tat org.eclipse.gemini.blueprint.context.support.TrackingUtil$OsgiServiceHandler.invoke(TrackingUtil.java:106)\r\n\tat org.eclipse.gemini.blueprint.context.support.DelegatedNamespaceHandlerResolver.resolve(DelegatedNamespaceHandlerResolver.java:55)\r\n\t... 15 common frames omitted \r\n{noformat}\r\nh3. Workaround\r\n\r\nCleaning Bitbucket OSGi cache folders solves the problem:\r\n[https://confluence.atlassian.com/bitbucketserverkb/bitbucket-server-failed-to-start-due-to-required-plugin-failed-to-start-779171543.html]",
      "summary": "Atlassian Spring Scanner in Apps can cause OSGi cache corruption"
    }
  },
  {
    "key": "BSERV-12805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-13T00:25:11.000+0000",
      "created": "2021-03-30T04:08:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Bitbucket Server/Data Center 7.5, the concept of asynchronous database migration was introduced as part of the new build status functionality. To allow administrators to track in-progress async migration, a JMX bean was added that they can query.\r\n\r\nHowever, each time that bean is queried, a third-party library which gets used can end up leaking a number of objects via a static map. One of the leaked objects has a reference to a JDBC {{Connection}}, which may also lead to unexpected connection issues in addition to heap exhaustion.\r\n\r\nh3. Steps to Reproduce\r\n # Enable JMX by setting {{jmx.enabled=true}} in {{bitbucket.properties}}\r\n # Poll {{AsyncMigrationUpgrade}} via JMX _while performing other work that uses database connections_\r\n\r\nh3. Expected Results\r\n\r\nThe system is able to run indefinitely without heap exhaustion or any connection-related errors.\r\n\r\nh3. Actual Results\r\n\r\nAfter some time (where \"some time\" can be on the order of _weeks_), the system will run out of memory. A heap dump will show a significant amount of memory retained by {{LockServiceFactory}}.\r\n\r\nh3. Workaround\r\n\r\nDisable JMX. The code which triggers the resource leak is only accessible via JMX.",
      "summary": "JMX monitoring can lead to heap exhaustion"
    }
  },
  {
    "key": "BSERV-12804",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2021-03-29T07:46:37.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe {{name}} field in the [build status API|https://docs.atlassian.com/bitbucket-server/rest/7.11.1/bitbucket-build-rest.html#idp7] is limited to 255 characters\r\n\r\nThis can cause notifications regarding the build status to fail, and some 3rd party plugins using the API for notifications may not have a graceful error message to pinpoint the issue.\r\n\r\nh3. Suggestion\r\nAllow the submitted fields to have more than a 255 character limit",
      "summary": "Allow the build status API name field to be more than 255 characters"
    }
  },
  {
    "key": "BSERV-12803",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2021-04-27T05:07:46.000+0000",
      "created": "2021-03-29T06:54:41.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen there are more than 100 LFS files with locks in a given repository,\u00a0the {{git lfs locks --verify}} command never completes.\r\n\r\nh3. Steps to Reproduce\r\n# Lock >100 files in a Git LFS repository\r\n# Run {{git lfs locks --verify}} on a client machine\r\n\r\nh3. Expected Results\r\nList of locked LFS files is displayed\r\n\r\nh3. Actual Results\r\nThe command never completes and the trace output shows the first page of locked files repeated continuously.\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "\"git lfs locks --verify\" hangs if there are more than 100 LFS locks"
    }
  }
]