[
  {
    "key": "BSERV-11898",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-08T04:49:15.000+0000",
      "description": "h3. It takes a long time for Bitbucket Server to resolve users for a project when said users are at the bottom of a structure of nested groups.\r\nh3. Environment\r\n\r\nUser directory with lots of groups and users that are at the bottom of nested structure of those groups.\r\nh3. Steps to Reproduce\r\n # Have a complicated structure of user directory with multiple levels of nested groups\r\n # Add a group with \"read\" permissions to a project\r\n # Create an empty project\r\n\r\nh3. Expected Results\r\n\r\nProject is created immediately\r\nh3. Actual Results\r\n\r\nProject takes up to 4 minutes to create, depending on number of groups\r\nh3. Notes\r\nh3. Workaround\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Creating a project with nested groups enabled takes a very long time"
    }
  },
  {
    "key": "BSERV-11897",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-07T20:23:02.000+0000",
      "description": "When you are creating a pull request, the Diff tab shows all changes, but doesn't allow one to view changes commit by commit like you can when reviewing a pull request.\r\n\r\n!image-2019-08-07-14-18-58-950.png!",
      "summary": "When creating a pull request the diff tab should allow commit selection"
    }
  },
  {
    "key": "BSERV-11895",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-07T14:36:14.000+0000",
      "description": "Provide support for ElasticSearch 6.7 or later\r\n\r\n\u00a0",
      "summary": "Test and Support ElasticSearch 6.7 or later"
    }
  },
  {
    "key": "BSERV-11894",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-14T05:26:44.000+0000",
      "created": "2019-08-06T15:04:27.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAn unlicensed user will continue to receive email notifications for pushed commits for repositories that the user was watching and receiving notifications when active. \r\n\r\nh3. Steps to Reproduce\r\n # User1 enables email repository email notifications to be sent immediately\r\n # User1 watches pushes for all branches in a repository\r\n # Admin deactivates User1 by removing the group/s that provide access\r\n # User2 pushes some commits to the repository\r\n\r\nh3. Expected Results\r\nNo email notifications are sent to User1.\r\n\r\nh3. Actual Results\r\nEmail notifications are still sent User1, despite being deactivated. \r\n\r\nh3. Notes\r\nThis only affects notifications for pushes and not pull requests. Note, that the issue could only be reproduced if the user had received one at least one notification for the affected repository when being active.\r\n\r\nh3. Workaround\r\n\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Bitbucket sends email notifications to unlicensed users for pushed commits in a repository"
    }
  },
  {
    "key": "BSERV-11893",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-09T21:15:12.000+0000",
      "created": "2019-08-06T13:16:32.000+0000",
      "description": "h3. Issue Summary\r\nWhen a REST API call is made to the endpoint without authentication header, the response is 200 OK\r\n{noformat}\r\n/rest/jira/1.0/issues/<Jira - ISSUE - KEY/commits\r\n{noformat}\r\n\r\nh3. Steps to Reproduce\r\n #  Make a commit with a JIRA Issue key\r\n # Make a request to the API endpoint {{/rest/jira/1.0/issues/<Jira - ISSUE - KEY/commits}}\r\n\r\nh3. Expected Results\r\nIf unauthenticated, it should return a 401\r\nh3. Actual Results\r\n200 OK\r\n{code:java}\r\n{\r\n  \"size\": 0,\r\n  \"limit\": 25,\r\n  \"isLastPage\": true,\r\n  \"values\": [],\r\n  \"start\": 0\r\n}\r\n{code}\r\n\r\nh3. Workaround\r\n\r\nPresently no workaround",
      "summary": "Unauthenticated REST API response with 200"
    }
  },
  {
    "key": "BSERV-11892",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-14T00:29:37.000+0000",
      "created": "2019-08-06T04:15:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nSome of the download urls on the previous versions page are broken and return a 404\r\nh3. Steps to Reproduce\r\n # Open [Bitbucket Server Backup Client- Version History|https://marketplace.atlassian.com/apps/1211500/bitbucket-server-backup-client/version-history]\r\n # Try to download any of the following versions:\r\n ** 1.9.1\r\n ** 1.9.0\r\n ** 1.8.2\r\n ** 1.8.0\r\n ** 1.7.0\r\n ** 1.6.0\r\n ** 1.5.0\r\n ** 1.4.0\r\n ** 1.3.1\r\n ** 1.3.0\r\n\r\nh3. Expected Results\r\n\r\nThe backup client is downloaded\r\nh3. Actual Results\r\n\r\nAn 404 error page is displayed containing:\r\n{noformat}\r\n{\r\n  \"errors\" : [ {\r\n    \"status\" : 404,\r\n    \"message\" : \"Could not find resource\"\r\n  } ]\r\n}\r\n{noformat}\r\nh3. Workaround\r\n\r\nThey can be downloaded from https://packages.atlassian.com/mvn/maven-external/com/atlassian/stash/backup/stash-backup-distribution/",
      "summary": "Download links for previous versions of the Bitbucket Server Backup Client are broken"
    }
  },
  {
    "key": "BSERV-11891",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-05T22:05:49.000+0000",
      "description": "Add a search modifier that allows you to ignore comments when searching\r\n",
      "summary": "Option to ignore comments in BitBucket code search"
    }
  },
  {
    "key": "BSERV-11890",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-03T08:22:47.000+0000",
      "description": "Email notifications from Bitbucket are very helpful to react to PR comments quickly and not having to refresh the Bitbucket website to see if there are updates.\r\n\r\nCurrently no Email notifications are being sent when the build status is updated on PRs using the Bitbucket REST API. It would be helpful though to have this so PR creators can react to build failures quickly.\r\n\r\nSince this is currently not available, we have configured our build server to send a Slack notification to our team channel in case of a build failure of a PR build. This introduces noise though for team members who are not the creator/reviewer of this PR.",
      "summary": "Email Notification on PR Build Status Updates/Failures"
    }
  },
  {
    "key": "BSERV-11889",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-11-24T03:07:54.000+0000",
      "created": "2019-08-01T08:36:03.000+0000",
      "description": "h3. Problem Definition\r\n\r\nCurrently TLS1.1 is used when email notifications are sent from Bitbucket to Office365, as Office365 incorrectly handles protocol negotiation when SSLv2Hello is a client-supported protocol. \r\nIf using Java 11, this causes an exception due to the protocol being downgraded, and emails are not able to be sent at all.\r\nOffice 365 will deprecate definitively TLS 1.0 and TLS 1.1 soon.\r\n\r\nh3. Suggested Solution\r\n\r\nRemove\u00a0{{SSLv2Hello}} from the supported mail protocols\u00a0Bitbucket Mail Server SMTP Protocol.\r\nh3. Workaround:\r\n # Ensure that {{SSLv2Hello}} is not part of the supported mail protocols by adding the following setting to {{bitbucket.properties}}:\r\n{noformat}\r\nmail.crypto.protocols=TLSv1.2\r\n{noformat}\r\n # Restart Bitbucket\r\n",
      "summary": "Bitbucket fails to send mail to Office365 when using Java 11"
    }
  },
  {
    "key": "BSERV-11888",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-27T23:57:48.000+0000",
      "created": "2019-08-01T03:05:46.000+0000",
      "description": "If the database backup fails (non-zero exit code) when running a backup, the failure is silently ignored by bitbucket.diy-backup.sh.\r\nh3. Steps to reproduce:\r\n # Set up a test environment with the latest copy of DIY backup scripts from [https://bitbucket.org/atlassianlabs/atlassian-bitbucket-diy-backup] and a configured, working copy of {{bitbucket.diy-backup.vars.sh}}.\r\n # In {{bitbucket.diy-backup.vars.sh}}, set values {{BACKUP_DISK_TYPE=none}} and {{BACKUP_DATABASE_TYPE=none}}.\r\n # Run {{bitbucket.diy-backup.sh; echo $?}}. Verify the echoed exit code is 0.\r\n # Modify the function {{backup_db}} in {{database-none.sh}} as follows:\r\n{code:java}\r\nfunction backup_db {\r\n    return 1\r\n}\r\n{code}\r\n\r\n # Run {{bitbucket.diy-backup.sh; echo $?}}\r\n\r\nh3. Expected behavior:\r\n\r\nThe exit code is non-zero, because the database backup failed. (This behavior is expected because this is the behavior of {{backup_disk}} if modified in similar fashion.)\r\nh3. Actual behavior:\r\n\r\nThe exit code is zero.\r\nh3. Root cause:\r\n\r\nThis bug is caused by how {{wait}} is used in {{bitbucket.diy-backup.sh}}\r\n\r\nWhen multiple jobs are passed to the {{wait}} command, POSIX states \"[t]he exit status returned by the {{wait}} utility shall be the exit status of the process requested by the last pid operand.\" This is why the database backup failures are ignored, but disk backup failures are not.\r\nh3. Workaround\r\n\r\nModify the DIY scripts locally to check for database backup failures.",
      "summary": "DIY backup silently ignores database backup failures"
    }
  },
  {
    "key": "BSERV-11887",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-01T03:01:46.000+0000",
      "description": "{{archive-aws-snapshots.sh}} in the example DIY backup scripts doesn\u2019t appear to support copying snapshots to other AWS regions. Copying snapshots to another region is good for data resilience.",
      "summary": "Update example DIY backup scripts to allow copying snapshots to different AWS regions"
    }
  },
  {
    "key": "BSERV-11886",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-01T02:57:38.000+0000",
      "description": "The search query used by {{disk-zfs.sh}} is wrong, so it fails to find any snapshots.\r\n\r\nh3. Workaround\r\n\r\nApply a correction to the local scripts to fix the query.",
      "summary": "The example DIY backup scripts don\u2019t clean up ZFS snapshots correctly"
    }
  },
  {
    "key": "BSERV-11885",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-08-01T02:43:16.000+0000",
      "description": "With Hipchat now retired, it would be nice to update the example DIY backup scripts to send Slack notifications instead.",
      "summary": "Send Slack notifications during DIY backup"
    }
  },
  {
    "key": "BSERV-11884",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-06T07:25:31.000+0000",
      "created": "2019-07-31T22:32:04.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen retrieving users who have a given permission (such as {{LICENSED_USER}}), either via REST ({{/rest/api/1.0/users}}) or the Java API ({{UserService.search}} with at least one included {{PermissionRequest}} on the {{UserSearchRequest}}), if the requested page size is greater than half the configured limit, users are dropped.\r\n\r\nBy default, the configured limit for users ({{page.max.users}}) is 1000. That means requesting a page size greater than 500 results in dropped users.\r\n\r\nh3. Steps to Reproduce\r\n # Check licensed user count on the license screen\r\n # Page over licensed users starting from {{/rest/api/1.0/users?permission=LICENSED_USER&limit=1000}}\r\n # Observe that the total number of users returned via REST does not match the licensed user count\r\n\r\nh3. Expected Results\r\n\r\nAll users with the specified permission are returned.\r\n\r\nh3. Actual Results\r\n\r\nA subset of the users are returned, with more or less dropped depending on the page size requested. (As in, requesting a page size of 501 will drop fewer users than requesting a page size of 1000.)\r\n\r\nh3. Notes\r\n\r\nWhen retrieving users _without_ filtering by permission, paging works without issue.\r\n\r\nh3. Workaround\r\n\r\nRequest a page size less than or equal to half the configured limit. By default, this means any page size of 500 or less will return all users. To allow requesting a larger page size, the configured limit must be raised to at least double the desired page size.",
      "summary": "Filtering users by permission drops users depending on the page size"
    }
  },
  {
    "key": "BSERV-11883",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-31T22:49:49.000+0000",
      "created": "2019-07-31T10:09:01.000+0000",
      "description": "Hello , We are unable to add Environments in Deployments settings . We are getting message as *You can only have 10 environments.*\u00a0 Please find the attached screenshot.",
      "summary": "Unable to add Environment "
    }
  },
  {
    "key": "BSERV-11881",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-30T22:06:40.000+0000",
      "created": "2019-07-30T16:41:56.000+0000",
      "description": "Whenever I review a larger pull request (50+ files), I feel the need to accept each file individually. This would help to split a pull request over time and then still knowing what of it was already done. I also often scroll down to other files, which need to be reviewed logically before the previous ones. When going over the full pull request, it would very much help to see those files as already accepted.\r\n\r\nThis could be done with a comment, but comments in our environment are used to address an issue and to notify the creator of the pull requests. It would make it impossible to notify the other person if each file had an additional comment just to mark it as done.\r\n\r\nSo, I would really enjoy, if you'd add a checkbox to each file in a pull request.",
      "summary": "Accepting pull request on a file-per-file basis"
    }
  },
  {
    "key": "BSERV-11880",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-15T03:49:55.000+0000",
      "created": "2019-07-30T09:02:39.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen user management in Bitbucket Server is through a read-only directory (Crowd, LDAP etc), users trying to reset their password should be notified that the account is read only and they should contact their administrator - at the moment all users (internal/external) receive the same message:\r\n\r\n\"If you are a registered user, you will receive a password reset email\"\r\n !Screen Shot 2019-07-30 at 10.54.52 AM.png|width=647,height=274!\r\nh3. Environment\r\n\r\nBitbucket 5.16 + with:\r\n * external LDAP (synced/delegated)\r\n * Crowd\r\n * \r\nh3. Steps to Reproduce\r\n\r\n # On login page click \"Unable to access you account?\"\r\n # Enter the username/email of a user belonging to a read-only directory\r\n # Click \"Reset password\"\r\n\r\nh3. Expected Results\r\n\r\nIf the user belongs to a read-only directory the message should be:\r\n \"Your account details are read-only. Please contact your administrator to change your password.\"\r\nh3. Actual Results\r\n\r\nThe message is: \r\n \"If you are a registered user, you will receive a password reset email\"\r\n\r\n_(Note that no password reset email is actually sent to users in read-only directories.)_\r\nh3. Notes\r\n\r\nA similar issue was fixed in Stash 4.0: BSERV-7548: Disable \"reset your password\" option for delegated LDAP (fixed in Bitbucket Server 4.0.0)\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Clicking  \"Unable to access your account\" for read-only directory users displays an erroneous message"
    }
  },
  {
    "key": "BSERV-11879",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-30T21:49:43.000+0000",
      "created": "2019-07-30T00:41:45.000+0000",
      "description": "I've tried logging out and back in again and all our users are scrambled, says things like \"Unknown user 877d2\" and can't merge PR etc.",
      "summary": "Bitbucket users are all scrambled"
    }
  },
  {
    "key": "BSERV-11878",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-29T17:16:06.000+0000",
      "description": "One person on our team, John (Mail) Smith, had to add a parenthetical to their name in order to disambiguate themselves from another employee. When adding them to Bitbucket, I forget about this, and see no matches after typing \"John S\". When I type \"John (\", his name comes up. It'd be better if Bitbucket did a fuzzy match against a person's name so it was easier to add coworkers to pull requests.",
      "summary": "Looking up users in Pull Requests"
    }
  },
  {
    "key": "BSERV-11877",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-29T14:35:03.000+0000",
      "description": "When using Bitbucket, as a developer, when using the branch compare feature or browsing through the changes in a pull request i often go through lots of files (e.g. image changes), yet when i press the back button in the browser i'm really not interested to browse backwards through all files again. I would much rather have Bitbucket ignore all file viewing/navigation and bring me back to the point before i issued the branch comparison or before looking at a pull request.",
      "summary": "Don't count file tree navigation viewing not count towards browser history."
    }
  },
  {
    "key": "BSERV-11876",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-29T22:27:14.000+0000",
      "created": "2019-07-29T13:54:23.000+0000",
      "description": "When having multiple Bitbucket accounts (E.g. home and work) the recommended way is to use a ssh-agent which will provide the requested ssh key.\r\n\r\nIn order to switch between the keys which are presented to bitbucket, you should change the git clone url from:\r\n\r\ngit@bitbucket.org:accountname/reponame.git\r\n\r\nto\u00a0\r\n\r\ngit clone git@*personalid*:accountname/reponame.git\r\n\r\n\u00a0\r\n\r\nIt would be helpful if you could set the *personalId* as a setting in the user preferences. And have all the generated links within the Bitbucket UI served accordingly.",
      "summary": "ssh profile name in user settings"
    }
  },
  {
    "key": "BSERV-11875",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-08T19:28:37.000+0000",
      "created": "2019-07-26T15:51:26.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIf once licensed users have an SSH key added to their profile, it is still possible for them to push the code once the license had been removed. However, it is not possible to pull the code.\r\nh3. Environment\r\n\r\nEvery environment.\r\nh3. Steps to Reproduce\r\n # Create a new user.\r\n # Add any Global Permission to the user granting write access to a repository.\r\n # Add an SSH key to users' profile.\r\n # Clone a repository over SSH with that user.\r\n # Push and pull some code.\r\n # Remove the Global permission from the user so it becomes *unlicensed*.\r\n # Try to pull the code (/) - no permission\r\n # Add some files.\r\n # Try to push the code (x) - successful\r\n\r\nh3. Expected Results\r\n\r\nAd 7. Try to pull the code - no access to the repo. The code can't be pulled, as the user is not licensed. - working as expected\r\n Ad 9. Try to push the code - no access to the repo. The code shouldn't be pushed, as the user is not licensed. - *does not work as expected*\r\nh3. Actual Results\r\n\r\nAd 7. Try to pull the code - no access to the repo. The code can't be pulled, as the user is not licensed. (/)\r\n Ad 9. # Try to push the code (x)- it is possible to push the code with an unlicensed user over SSH.\r\n\r\nGit Pull with unlicensed user:\r\n{code:java}\r\nC02V50FZHTD8:prtest_ssh ttokarczuk$ git pull\r\nfatal: remote error: Unlicensed user\r\nYou do not have permission to access Bitbucket. Please ask an administrator to\r\ngrant you access.\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\n{code}\r\n\r\nAccess log:\r\n{code}\r\n0:0:0:0:0:0:0:1 | ssh | i@1LCYOVQx1120x3279x0 | newuser1 | 2019-07-26 18:40:19,734 | SSH - git-upload-pack '/pul/prtest.git' | \"SSH-2.0-OpenSSH_7.9\" | - | - | - | - | - | zsndkq | \r\n0:0:0:0:0:0:0:1 | ssh | o@1LCYOVQx1120x3279x0 | newuser1 | 2019-07-26 18:40:19,741 | SSH - git-upload-pack '/pul/prtest.git' | \"SSH-2.0-OpenSSH_7.9\" | 1 | 0 | 0 | ssh:user:id:52 | 7 | zsndkq | \r\n{code}\r\n*Adding a new file and pushing it with unlicensed user:*\r\n{code:java}\r\nC02V50FZHTD8:prtest_ssh ttokarczuk$ touch push_without_a_license\r\nC02V50FZHTD8:prtest_ssh ttokarczuk$ git add .\r\nC02V50FZHTD8:prtest_ssh ttokarczuk$ git commit -m \"Push without a license\"\r\n[master a91db00] Push without a license\r\n 1 file changed, 0 insertions(+), 0 deletions(-)\r\n create mode 100644 push_without_a_license\r\nC02V50FZHTD8:prtest_ssh ttokarczuk$ git push\r\nEnumerating objects: 3, done.\r\nCounting objects: 100% (3/3), done.\r\nDelta compression using up to 8 threads\r\nCompressing objects: 100% (2/2), done.\r\nWriting objects: 100% (2/2), 263 bytes | 263.00 KiB/s, done.\r\nTotal 2 (delta 1), reused 0 (delta 0)\r\nTo ssh://localhost:5640/pul/prtest.git\r\n   4802e97..a91db00  master -> master\r\n{code}\r\nAccess log:\r\n{code}\r\n0:0:0:0:0:0:0:1 | ssh | i@1LCYOVQx1120x3280x0 | newuser1 | 2019-07-26 18:40:49,809 | SSH - git-receive-pack '/pul/prtest.git' | \"SSH-2.0-OpenSSH_7.9\" | - | - | - | - | - | biziit | \r\n0:0:0:0:0:0:0:1 | ssh | o@1LCYOVQx1120x3280x0 | newuser1 | 2019-07-26 18:40:50,188 | SSH - git-receive-pack '/pul/prtest.git' | \"SSH-2.0-OpenSSH_7.9\" | 0 | 373 | 882 | protocol:1, push, ssh:user:id:52 | 379 | biziit | \r\n{code}\r\n\r\nh3. Notes\r\n\r\nTested in Bitbucket 6.1.x and 6.4.1\r\nh3. Workaround\r\n\r\nCurrently, there is no known workaround, as removing SSH access completely doesn't seem to be feasible.",
      "summary": "Pushing a code with an unlicensed user is possible if it was once a licensed user and an SSH key is added to user's profile"
    }
  },
  {
    "key": "BSERV-11874",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-26T11:18:40.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen using external mail service providers (like Gmail, Outlook 365) graphical assets won't be displayed in email messages if Bitbucket is not exposed to the internet, as the source of an image is the Bitbucket Server itself.\r\n\r\nIt will just display like that:\r\n !image-2019-07-26-13-17-01-284.png|thumbnail! \r\n\r\nh3. Suggested Solution\r\n\r\nOffer publicly accessible graphical assets repository for email templates as an alternative image source in email templates.",
      "summary": "Allow configuring email templates to use graphical assets from external source"
    }
  },
  {
    "key": "BSERV-11873",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-29T03:09:15.000+0000",
      "created": "2019-07-26T02:04:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Bitbucket 6.5.0 a new webhook was introduced: {{repo:mirror_synchronized}}. This webhook is triggered when a mirror has finished synchronizing with the upstream server. Mirrors subscribe to all {{repo:*}} events, but do not understand how to handle {{repo:mirror_synchronized}} and will therefore return a {{400 Bad Request}} response to the upstream server when it tries to publish this event. \r\nThe upstream server has a circuit breaker for webhooks, which opens if a webhook fails too often. Since this circuit breaker opens for all {{repo:*}} events, even legitimate events, such as {{repo:refs_updated}} will not be published, and therefore the mirror will not receive any further events that would trigger it to synchronize with the upstream server.\r\n\r\nh3. Environment\r\n\r\nBitbucket Server 6.5.0\r\n\r\nh3. Steps to Reproduce\r\n # Upgrade upstream server to Bitbucket 6.5.0\r\n # Perform pushes to mirrored repositories frequently\r\n\r\nh3. Expected Results\r\n* Mirror is updated within seconds after a push on the upstream server\r\n\r\nh3. Actual Results\r\n* After a few pushes, the mirror stops synchronizing for up to 15 minutes, when a full sync is started.\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\nDEBUG c.a.b.i.m.m.r.w.DefaultRestWebHookEventConverter Unexpected server web hook key Optional[repo:mirror_synchronized] - dropping web hook payload\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Mirrors may remain out of sync for up to 15 minutes after upgrading to 6.5.0"
    }
  },
  {
    "key": "BSERV-11872",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-24T14:52:23.000+0000",
      "description": "When viewing a Pull Request, if another user completes the necessary steps so that the Pull Request could be merged, the Merge button should become active without having to reload the Pull Request page.\r\n\r\nEvents that should automatically be detected:\r\n * new push that resolves conflicts\r\n * threshold for required approvers is met\r\n * all tasks resolved\r\n * number of successful builds is achieved\r\n\r\nThe Merge button should also automatically be disabled if someone does something that would cause the merge to not be possible\r\n\r\n\u00a0",
      "summary": "Automatically update the Merge Button enabled/disabled without a full browser refresh"
    }
  },
  {
    "key": "BSERV-11871",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-24T23:24:49.000+0000",
      "created": "2019-07-24T13:49:06.000+0000",
      "description": "Downloads folder is no longer visible in free plan. all files are gone. how to see the downloads folder in bitbucket?",
      "summary": "Downloads folder is no longer visible in free plan. all files are gone. how to see the downloads folder in bitbucket?"
    }
  },
  {
    "key": "BSERV-11870",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-24T09:38:07.000+0000",
      "description": "h3. Issue Summary\r\nAudit log in UPM is offering Atom feed with updates in the audit logs however the provided URL does not trigger authentication request with basic authentication and does not contain any token.\r\n\r\nh3. Steps to Reproduce\r\n# Go to Settings - Manage apps\r\n# Update couple apps\r\n# Go to Audit log (in the footer of UPM)\r\n# Click on RSS icon and copy the URL\r\n# Insert the URL into any RSS reader\r\n\r\nh3. Expected Results\r\nRSS (Atom) feed is showing entries. Or offering to authenticate and then showing entries.\r\nh3. Actual Results\r\nError 401\r\n{code}\r\n<status><status-code>401</status-code><message>Client must be authenticated to access this resource.</message></status>\r\n{code}\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "RSS (Atom) feed in UPM Audit log does not provide URL with authentication"
    }
  },
  {
    "key": "BSERV-11869",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-29T03:10:48.000+0000",
      "created": "2019-07-23T05:25:10.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen a hook script is triggered, if the authenticated user doesn\u2019t have an e-mail address (normal for service users, but also possible for users synchronized via LDAP), invoking the hook script will fail. For pre-update hook scripts, this will block the update. For post-update hook scripts the update will have already completed, but whatever action(s) the hook script is intended to apply will not run.\r\n\r\nh3. Environment\r\n\r\nHook scripts are only usable via third-party add-ons, such as External Hooks, so such an add-on must be installed to trigger this issue.\r\n\r\nh3. Steps to Reproduce\r\n# Install a third-party hooks app\r\n# Set up a hook script\r\n# Trigger an update using a service user account (SSH access keys, for example) or a normal user account without an e-mail address\r\n\r\nh3. Expected Results\r\n\r\nHook scripts are invoked.\r\n\r\nh3. Actual Results\r\n\r\nPreparing the environment for the hook script fails and the hook script is not invoked. If the hook script is pre-update, the update is rejected.\r\n\r\nThe below exception is logged:\r\n{noformat}\r\njava.lang.NullPointerException: null value in entry: BB_USER_EMAIL=null\r\nat com.google.common.collect.CollectPreconditions.checkEntryNotNull(CollectPreconditions.java:32)\r\nat com.google.common.collect.ImmutableMap.entryOf(ImmutableMap.java:176)\r\nat com.google.common.collect.ImmutableMap$Builder.put(ImmutableMap.java:285)\r\nat com.atlassian.stash.internal.hook.script.DefaultHookScriptEnvironmentProvider.userDetails(DefaultHookScriptEnvironmentProvider.java:203)\r\nat com.atlassian.stash.internal.hook.script.DefaultHookScriptEnvironmentProvider.create(DefaultHookScriptEnvironmentProvider.java:115)\r\nat com.atlassian.stash.internal.hook.script.DefaultHookScriptInvoker.lambda$prepareEnvironment$1(DefaultHookScriptInvoker.java:286)\r\nat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\nat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\nat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\nat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\nat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\nat com.atlassian.stash.internal.hook.script.DefaultHookScriptInvoker.prepareEnvironment(DefaultHookScriptInvoker.java:287)\r\nat com.atlassian.stash.internal.hook.script.DefaultHookScriptInvoker.postUpdate(DefaultHookScriptInvoker.java:114)\r\nat com.atlassian.stash.internal.plugin.OsgiSafeProxyProvider$1.invoke(OsgiSafeProxyProvider.java:95)\r\nat com.atlassian.stash.internal.hook.script.ScriptRepositoryHook.postUpdate(ScriptRepositoryHook.java:35)\r\nat com.atlassian.stash.internal.hook.repository.DefaultRepositoryHookService.postUpdate(DefaultRepositoryHookService.java:760)\r\nat com.atlassian.stash.internal.hook.repository.DefaultRepositoryHookService.lambda$doPostUpdate$7(DefaultRepositoryHookService.java:542)\r\nat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\nat com.atlassian.stash.internal.hook.repository.DefaultRepositoryHookService.doPostUpdate(DefaultRepositoryHookService.java:526)\r\nat com.atlassian.stash.internal.hook.repository.DefaultRepositoryHookService.postUpdateSynchronous(DefaultRepositoryHookService.java:336)\r\nat com.atlassian.stash.internal.hook.DefaultBuiltInHookHandlerFactory.lambda$postReceive$1(DefaultBuiltInHookHandlerFactory.java:69)\r\nat com.atlassian.stash.internal.hook.DefaultHookService.doHandleRequest(DefaultHookService.java:301)\r\nat com.atlassian.stash.internal.hook.DefaultHookService.handleRequest(DefaultHookService.java:287)\r\nat com.atlassian.stash.internal.hook.DefaultHookService.handleRawRequest(DefaultHookService.java:221)\r\nat com.atlassian.stash.internal.hook.DefaultHookService$1.lambda$run$0(DefaultHookService.java:188)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.lang.Thread.run(Thread.java:748)\r\n{noformat}\r\n\r\nh3. Notes\r\n\r\nReported via External Hooks [issue #60|https://github.com/reconquest/atlassian-external-hooks/issues/60].\r\n\r\nh3. Workaround\r\n\r\nFor normal users, update the user account to add an e-mail address. For service users there is no workaround.",
      "summary": "Hook scripts fail when invoked for user accounts without e-mail addresses"
    }
  },
  {
    "key": "BSERV-11867",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-30T03:42:31.000+0000",
      "created": "2019-07-22T14:56:15.000+0000",
      "description": "h3. Issue Summary\r\nAfter the upgrade of UPM to the version 3.0.4 and following restart the bundled Git LFS add-on is not starting because of the missing requirement {{com.atlassian.jwt.JwtIssuerRegistry in  com.atlassian.upm.atlassian-universal-plugin-manager-plugin}}\r\n\r\nh3. Steps to Reproduce\r\n# On the existing instance of Bitbucket Server/DC 4.4.0 - 5.16.7 upgrade the UPM to latest stable release 3.0.4\r\n# Restart the instance\r\n\r\nh3. Expected Results\r\nAll bundled and user installed apps are working correctly\r\nh3. Actual Results\r\nBitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs) cannot start.\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2019-07-22 16:34:27,029 ERROR [ThreadPoolAsyncTaskExecutor::Thread 15]  c.a.plugin.osgi.factory.OsgiPlugin Unable to start the plugin container for plugin 'com.atlassian.bitbucket.server.bitbucket-git-lfs'\r\norg.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry] for bean with name 'gitLfsJwtIssuerRegistry' defined in URL [bundle://48.0:0/META-INF/spring/atlassian-plugins-components.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry not found from bundle [Bitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs)]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1390)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:60)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:325)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:290)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 6 frames trimmed\r\nCaused by: java.lang.NoClassDefFoundError: com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry not found from bundle [Bitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs)]\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:149)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.loadClass(BundleDelegatingClassLoader.java:211)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:251)\r\n\t... 9 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/atlassian/jwt/JwtIssuerRegistry\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:135)\r\n\t... 11 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.atlassian.jwt.JwtIssuerRegistry not found by com.atlassian.upm.atlassian-universal-plugin-manager-plugin [116]\r\n\tat org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1532)\r\n\t... 12 common frames omitted\r\n2019-07-22 16:34:37,122 ERROR [ThreadPoolAsyncTaskExecutor::Thread 15]  o.e.g.b.e.i.u.c.RunnableTimedExecution Closing runnable for context NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.bitbucket.server.bitbucket-git-lfs, config=osgibundle:/META-INF/spring/*.xml) did not finish in 10000ms; consider taking a snapshot and then shutdown the VM in case the thread still hangs\r\n2019-07-22 16:34:37,124 ERROR [ThreadPoolAsyncTaskExecutor::Thread 15]  o.e.g.b.e.i.s.ExtenderConfiguration Application context refresh failed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.atlassian.bitbucket.server.bitbucket-git-lfs, config=osgibundle:/META-INF/spring/*.xml))\r\norg.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry] for bean with name 'gitLfsJwtIssuerRegistry' defined in URL [bundle://48.0:0/META-INF/spring/atlassian-plugins-components.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry not found from bundle [Bitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs)]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1390)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:60)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:325)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:290)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 6 frames trimmed\r\nCaused by: java.lang.NoClassDefFoundError: com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry not found from bundle [Bitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs)]\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:149)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.loadClass(BundleDelegatingClassLoader.java:211)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:251)\r\n\t... 9 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/atlassian/jwt/JwtIssuerRegistry\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:135)\r\n\t... 11 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.atlassian.jwt.JwtIssuerRegistry not found by com.atlassian.upm.atlassian-universal-plugin-manager-plugin [116]\r\n\tat org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1532)\r\n\t... 12 common frames omitted\r\n2019-07-22 16:34:37,125 ERROR [ThreadPoolAsyncTaskExecutor::Thread 15]  o.e.g.b.e.i.d.s.DependencyWaiterApplicationContextExecutor Unable to create application context for [com.atlassian.bitbucket.server.bitbucket-git-lfs], unsatisfied dependencies: none\r\norg.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry] for bean with name 'gitLfsJwtIssuerRegistry' defined in URL [bundle://48.0:0/META-INF/spring/atlassian-plugins-components.xml]: problem with class file or dependent class; nested exception is java.lang.NoClassDefFoundError: com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry not found from bundle [Bitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs)]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1390)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:60)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:325)\r\n\tat org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n\tat org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:290)\r\n\tat org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:137)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 6 frames trimmed\r\nCaused by: java.lang.NoClassDefFoundError: com.atlassian.bitbucket.internal.scm.git.lfs.jwt.GitLfsJwtIssuerRegistry not found from bundle [Bitbucket Server - Git LFS (com.atlassian.bitbucket.server.bitbucket-git-lfs)]\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:149)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.loadClass(BundleDelegatingClassLoader.java:211)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:251)\r\n\t... 9 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/atlassian/jwt/JwtIssuerRegistry\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:135)\r\n\t... 11 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.atlassian.jwt.JwtIssuerRegistry not found by com.atlassian.upm.atlassian-universal-plugin-manager-plugin [116]\r\n\tat org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1532)\r\n\t... 12 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\nDowngrade to UPM 3.0.3\r\n# Stop Bitbucket completely\r\n# Go to $Bitbucket_home/shared/plugins/installed-plugins\r\n# Remove UPM 3.0.4 jar\r\n# Copy UPM 3.0.3 jar downloaded from https://marketplace.atlassian.com/apps/23915/atlassian-universal-plugin-manager/version-history\r\n# Start your Bitbucket instnace",
      "summary": "UPM version 3.0.4 prevents Git LFS plugin from start"
    }
  },
  {
    "key": "BSERV-11866",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-22T14:36:21.000+0000",
      "description": "It would be really helpful knowing which version a commit is for when creating branches from within Bitbucket. Today you have to click on the Jira popup screen then click on the link to go into Jira to see the full detail screen. Then back up multiple screens back into Bitbucket to create the branch.\r\n\r\nIt would be really nice and easy if the fix version was on the pop screen. I assume others would like to have other information on the popup screen so making it more customizable would be ideal.",
      "summary": "Customize Jira issue details modal on branch create screen"
    }
  },
  {
    "key": "BSERV-11865",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-13T06:37:56.000+0000",
      "created": "2019-07-19T19:05:38.000+0000",
      "description": "h3. Issue Summary\r\n\r\nAttaching files on the initial submission of a pull request from a forked repository to the main repository, and then setting a reviewer that only has access to the main repository (and not the forked one), results in the reviewer not being able to see the attached files.\r\nh3. Steps to Reproduce\r\n # Create repository A in project 1\r\n ** Grant access to repository A for a user\r\n # Push an initial commit to repository A\r\n # Create a forked repository B in project 1 off of repository A\r\n ** (!)\u00a0Do NOT grant access to repository B for the user mentioned in step 1\r\n # In repository B, push up a second commit\r\n # In repository B, go to 'Pull requests' and choose to create a new pull request.\r\n ** Set Source to be Project1/RepositoryB > master\r\n ** Set Destination to be Project1/RepositoryA > master\r\n ** Add an attachment of any type to the description:\r\n !image-2019-07-19-14-05-11-662.png!\r\n # Add the user mentioned in step 1 as a reviewer for the pull request\r\n # Proceed with creating the pull request\r\n\r\nh3. Expected Results\r\n\r\nThe user mentioned in step 1 above is able to view and access the attached file with no issues.\r\n\r\n!image-2019-07-19-14-05-16-240.png!\r\nh3. Actual Results\r\n\r\nThe file is unable to be viewed or opened.\r\n * In the case of text files, the text is shown and looks clickable - but there is no actual hyperlink associated with the text.\r\n * In the case of images, they are not rendered at all.\r\n\r\n!image-2019-07-19-14-05-20-774.png!\r\n\r\nIn addition, the following warning message is thrown within the {{atlassian-bitbucket.log}} file:\r\n{noformat}\r\n2019-07-20 02:58:27,999 WARN  [http-nio-7990-exec-12] bcrusher @15A9NR1x178x14754x0 1n9td3f 192.168.5.1,192.168.5.2 \"GET /projects/PROJB/repos/test-attachment/pull-requests/1/overview HTTP/1.1\" c.a.s.i.m.r.MarkupRendererImpl com.atlassian.bitbucket.server.bitbucket-markup-renderers:attachmentMarkupRenderer failed to transform markup due to an unexpected exception. Skipping transformation.\r\ncom.atlassian.bitbucket.AuthorisationException: You are not permitted to access this resource\r\n        at com.atlassian.stash.internal.aop.ExceptionRewriteAdvice.afterThrowing(ExceptionRewriteAdvice.java:37)\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n        at com.atlassian.stash.internal.web.markup.AttachmentMarkupRenderer.process(AttachmentMarkupRenderer.java:48)\r\n        at com.atlassian.stash.internal.markup.renderer.MarkupRendererImpl.lambda$transform$0(MarkupRendererImpl.java:67)\r\n        at com.google.common.collect.Iterators$6.transform(Iterators.java:785)\r\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n        at com.google.common.collect.Iterators$ConcatenatedIterator.hasNext(Iterators.java:1332)\r\n        at com.google.common.collect.Iterators.addAll(Iterators.java:357)\r\n        at com.google.common.collect.Lists.newArrayList(Lists.java:147)\r\n        at com.google.common.collect.Iterables.castOrCopyToCollection(Iterables.java:306)\r\n        at com.google.common.collect.Iterables.toArray(Iterables.java:295)\r\n        at com.google.common.collect.Ordering.sortedCopy(Ordering.java:851)\r\n        at com.atlassian.stash.internal.markup.renderer.TransformUtils.getReplacements(TransformUtils.java:83)\r\n        at com.atlassian.stash.internal.markup.renderer.TransformUtils.tokenReplace(TransformUtils.java:56)\r\n        at com.atlassian.stash.internal.markup.renderer.MarkupRendererImpl.transform(MarkupRendererImpl.java:65)\r\n        at com.atlassian.stash.internal.markup.renderer.MarkupRendererImpl.renderReplace(MarkupRendererImpl.java:59)\r\n        at com.atlassian.stash.internal.markup.renderer.MarkupRendererImpl.render(MarkupRendererImpl.java:38)\r\n        at com.atlassian.stash.internal.markup.DefaultMarkupService.render(DefaultMarkupService.java:73)\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n        at org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n        at org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n        at org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n        at com.atlassian.stash.internal.rest.enrich.DefaultMarkupEnricher.render(DefaultMarkupEnricher.java:61)\r\n        at com.atlassian.stash.internal.rest.enrich.DefaultMarkupEnricher.access$100(DefaultMarkupEnricher.java:16)\r\n        at com.atlassian.stash.internal.rest.enrich.DefaultMarkupEnricher$1.apply(DefaultMarkupEnricher.java:37)\r\n        at com.atlassian.bitbucket.rest.util.RestUtils.processEntities(RestUtils.java:285)\r\n        at com.atlassian.stash.internal.rest.enrich.DefaultMarkupEnricher.enrich(DefaultMarkupEnricher.java:29)\r\n        at com.atlassian.stash.internal.rest.renderer.BaseSurrogateJsonRenderer.enrich(BaseSurrogateJsonRenderer.java:91)\r\n        at com.atlassian.stash.internal.rest.renderer.BaseSurrogateJsonRenderer.render(BaseSurrogateJsonRenderer.java:61)\r\n        at com.atlassian.stash.internal.json.PluginJsonRenderer.render(PluginJsonRenderer.java:45)\r\n        at com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n        at com.atlassian.stash.internal.web.soy.functions.ToJsonFunction.apply(ToJsonFunction.java:51)\r\n        at com.atlassian.stash.internal.web.soy.functions.ToJsonFunction.apply(ToJsonFunction.java:14)\r\n        at com.atlassian.soy.impl.modules.SoyJavaFunctionAdapter.computeForJava(SoyJavaFunctionAdapter.java:34)\r\n        at com.atlassian.soy.impl.modules.CompositeFunctionAdaptor.computeForJava(CompositeFunctionAdaptor.java:38)\r\n        at com.google.template.soy.sharedpasses.render.EvalVisitor.computeFunctionHelper(EvalVisitor.java:670)\r\n        at com.google.template.soy.sharedpasses.render.EvalVisitor.visitFunctionNode(EvalVisitor.java:653)\r\n        at com.google.template.soy.sharedpasses.render.EvalVisitor.visitFunctionNode(EvalVisitor.java:87)\r\n        at com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:118)\r\n        at com.google.template.soy.sharedpasses.render.EvalVisitor.visitExprRootNode(EvalVisitor.java:148)\r\n        at com.google.template.soy.sharedpasses.render.EvalVisitor.visitExprRootNode(EvalVisitor.java:87)\r\n        at com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:81)\r\n        at com.google.template.soy.exprtree.AbstractReturningExprNodeVisitor.visit(AbstractReturningExprNodeVisitor.java:73)\r\n        at com.google.template.soy.basetree.AbstractReturningNodeVisitor.exec(AbstractReturningNodeVisitor.java:43)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.eval(RenderVisitor.java:739)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitPrintNode(RenderVisitor.java:248)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:87)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56)\r\n        at com.google.template.soy.basetree.AbstractNodeVisitor.visitChildren(AbstractNodeVisitor.java:59)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitChildren(AbstractSoyNodeVisitor.java:129)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitBlockHelper(RenderVisitor.java:702)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.renderBlock(RenderVisitor.java:716)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitCallNodeHelper(RenderVisitor.java:564)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitCallBasicNode(RenderVisitor.java:457)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:110)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56)\r\n        at com.google.template.soy.basetree.AbstractNodeVisitor.visitChildren(AbstractNodeVisitor.java:59)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitChildren(AbstractSoyNodeVisitor.java:129)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitBlockHelper(RenderVisitor.java:698)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitTemplateNode(RenderVisitor.java:220)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitTemplateBasicNode(AbstractSoyNodeVisitor.java:160)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:66)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56)\r\n        at com.google.template.soy.basetree.AbstractNodeVisitor.exec(AbstractNodeVisitor.java:40)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitCallNodeHelper(RenderVisitor.java:590)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitCallBasicNode(RenderVisitor.java:457)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:110)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56)\r\n        at com.google.template.soy.basetree.AbstractNodeVisitor.visitChildren(AbstractNodeVisitor.java:59)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitChildren(AbstractSoyNodeVisitor.java:129)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitBlockHelper(RenderVisitor.java:702)\r\n        at com.google.template.soy.sharedpasses.render.RenderVisitor.visitTemplateNode(RenderVisitor.java:220)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visitTemplateBasicNode(AbstractSoyNodeVisitor.java:160)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:66)\r\n        at com.google.template.soy.soytree.AbstractSoyNodeVisitor.visit(AbstractSoyNodeVisitor.java:56)\r\n        at com.google.template.soy.basetree.AbstractNodeVisitor.exec(AbstractNodeVisitor.java:40)\r\n        at com.google.template.soy.tofu.internal.BaseTofu.renderMainHelper(BaseTofu.java:366)\r\n        at com.google.template.soy.tofu.internal.BaseTofu.renderMain(BaseTofu.java:322)\r\n        at com.google.template.soy.tofu.internal.BaseTofu.access$100(BaseTofu.java:66)\r\n        at com.google.template.soy.tofu.internal.BaseTofu$RendererImpl.render(BaseTofu.java:476)\r\n        at com.atlassian.soy.impl.DefaultSoyManager.render(DefaultSoyManager.java:154)\r\n        at com.atlassian.soy.impl.DefaultSoyTemplateRenderer.render(DefaultSoyTemplateRenderer.java:45)\r\n        at com.atlassian.stash.internal.plugin.OsgiServiceProxyFactoryImpl$DynamicServiceInvocationHandler.invoke(OsgiServiceProxyFactoryImpl.java:105)\r\n        at com.atlassian.soy.springmvc.SoyView.render(SoyView.java:50)\r\n        at com.atlassian.stash.internal.web.soy.StashSoyViewResolver$1.render(StashSoyViewResolver.java:34)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.bitbucket.internal.importer.web.RepositoryImportFilter.doFilter(RepositoryImportFilter.java:64)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n        at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:87)\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 334 frames trimmed\r\nCaused by: org.springframework.security.access.AccessDeniedException: Access is denied\r\n        at org.springframework.security.access.expression.method.ExpressionBasedPostInvocationAdvice.after(ExpressionBasedPostInvocationAdvice.java:77)\r\n        ... 119 common frames omitted\r\n{noformat}\r\nh3. Notes\r\n\r\nFiles attached in any subsequent comments have no permissions issues, and can be viewed as expected. This is presumably because they are associated with the main repository, and not the forked one.\r\n\r\nAll other aspects of the pull request, such as the commit data and so on, all render without issue for the reviewer that only has access to the main/destination repository.\r\n\r\n(/)\u00a0In step 5 above, if you create the pull request by navigating to Pull Requests from Repository A, and not Repository B - the issue does not occur.\r\nh3. Workaround\r\n\r\nThe creator of the pull request that has access to both repositories will need to do one of the following options:\r\n * Remove and add the attachment in the pull request.\r\n * Allow the reviewer to have read access to the source forked repository\r\n * Create the pull request by navigating to the 'Pull Requests' section of the main repository, and not the forked repository",
      "summary": "Initial attachments on pull requests cannot be seen by reviewers that have no access to source forked repository"
    }
  },
  {
    "key": "BSERV-11864",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-19T16:17:51.000+0000",
      "description": "It would be very useful to know if the repo is in a PERSONAL or NORMAL project from within a hook script.\r\n\r\n\u00a0\r\n\r\nThis would basically map:\r\n\r\n\"BB_PROJECT_TYPE\", String.valueOf(repo.getProject().getType())\r\n\r\n\u00a0\r\n\r\nCurrently\u00a0BB_PROJECT_KEY, BB_REPO_IS_FORK and other variables are provided, and can be used to approximate knowing the type of the project, but having it directly available would be useful.",
      "summary": "Add BB_PROJECT_TYPE to Hook Scripts"
    }
  },
  {
    "key": "BSERV-11863",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-27T03:52:36.000+0000",
      "created": "2019-07-19T15:57:15.000+0000",
      "description": "h3. Issue Summary\r\nIn the Global permissions interface there is a pop-up with a description:\r\n{quote}\r\nHas full control over Bitbucket - can modify system configuration properties and all application settings, and has full access to all projects and repositories. We recommend granting this permission to as few users as possible.\r\n{quote}\r\n\r\nFrench translation is giving for the last sentence: \"We recommend granting this permission to as MANY users as possible\"\r\n\r\nh3. Steps to Reproduce\r\n # Switch the language to French in View Profile - Manage Account - Language\r\n# Navigate to Administration -> Autorisations globales\r\n# Check the message in the pop-up for \"Admin syst\u00e8me\"\r\n\r\nh3. Expected Results\r\n\"Nous recommandons d'autoriser cet acc\u00e8s au moins d'utilisateurs possible\"\r\n\r\nh3. Actual Results\r\n\"Nous recommandons d'autoriser cet acc\u00e8s au plus d'utilisateurs possible\"\r\n\r\nh3. Workaround\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available.",
      "summary": "Help pop-up for system administrator global permissions have incorrect translation in French"
    }
  },
  {
    "key": "BSERV-11862",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-08T01:36:26.000+0000",
      "created": "2019-07-19T11:35:40.000+0000",
      "description": "h3. Issue Summary\r\n*Supported Platforms* pages suggests that all releases 6.x support 5.5.1 - 5.5.3 and 6.5.3 (6.4 in AWS)  - https://confluence.atlassian.com/bitbucketserver060/supported-platforms-967327259.html\r\n*Install Bitbucket Data Center* page has highlighted note all releases 6.x that \u201cBitbucket Data Center will only work with Elasticsearch 5.5.\u201d - https://confluence.atlassian.com/bitbucketserver060/install-bitbucket-data-center-967327344.html\r\n\u201c*How to Install and configure a remote Elasticsearch instance*\u201d recommends ES 6.5.1 for Bitbucket 6.0 - 6.2 and ES 6.6.1 for Bitbucket 6.3 - 6.4 \r\n\r\nh3. Workaround\r\nIf you are installing a new instance of Elasticsearch please follow the instructions from the documentation [How to Install and configure a remote Elasticsearch instance|https://confluence.atlassian.com/bitbucketserver/how-to-install-and-configure-a-remote-elasticsearch-instance-815577748.html] for the version of Bitbucket you've installed.",
      "summary": "Elasticsearch supported version is inconsistent across the documentation for 6.x releases"
    }
  },
  {
    "key": "BSERV-11861",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-19T11:10:29.000+0000",
      "description": "Selection of emoji is difficult because only a small part of them is available (stopping at :bow:) in the dropdown when the user type colon `:`\r\n\r\n!Screenshot 2019-07-19 at 13.03.57.png!\r\n It would be great if there are displayed in a table like in jira, with the key shortcut displayed on hover:\r\n\r\n!Screenshot 2019-07-19 at 13.07.28.png!\r\n\r\nAn even better improvement would be to have a more comprehensive emoji picker that allows categorisation, searching, and browsing:\r\n\r\n!https://content.screencast.com/media/0396470e-af15-4967-8753-78de80a95efb_293c3d78-bf1d-4d51-becd-e53646a12bfd_static_0_0_2019-07-22_10-40-16.png!\r\n\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Improve usability of emoji picker"
    }
  },
  {
    "key": "BSERV-11860",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-24T03:37:23.000+0000",
      "created": "2019-07-17T19:53:31.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Bitbucket 6.4.0+, if a Bitbucket instance uses a context path that contains any capitalized letters - all capitalization is removed, resulting in the clone URL not working correctly when a user attempts to clone using it.\r\nh3. Steps to Reproduce\r\n # Set the following line in your {{bitbucket.properties}} file:\r\n ** {{server.context-path=/BITBUCKET}}\r\n # Restart your Bitbucket instance\r\n # Log in and create a new repository, or observe an existing repository - and review the clone URL\r\n\r\nh3. Expected Results\r\n\r\nThe clone URL uses a context path of \"/BITBUCKET\" and successfully clones on attempting to use the URL !image-2019-07-17-14-49-50-683.png|width=714,height=339!\r\nh3. Actual Results\r\n\r\nThe clone URL removes all capitalization, and results in a failed clone if the URL is used - as the actual context path uses the capitalized context path:\r\n\r\n!image-2019-07-17-14-52-30-336.png|width=806,height=470!\r\n\r\n!image-2019-07-17-14-53-14-401.png!\r\nh3. Workaround\r\n\r\nImplement a URL rewrite or iRule on a reverse proxy in front of your Bitbucket instance in order to redirect requests made to the all-lowercase context path to instead use the correct capitalization.",
      "summary": "Clone URL removes capitalization for context path "
    }
  },
  {
    "key": "BSERV-11859",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-17T21:50:37.000+0000",
      "created": "2019-07-17T15:16:57.000+0000",
      "description": "When we release our code in bitbucket-pipelines, some commits are pushed directly to develop by the bitbucket-pipelines user as part of our release process. I would like to configure Bitbucket branch permissions to prevent all other users from pushing directly to develop or master (only allowing merges via PRs). Unfortunately, this is not currently supported since the bitbucket-pipelines user is not exposed in the list of users.",
      "summary": "Expose bitbucket-pipelines user in Bitbucket branch permissions"
    }
  },
  {
    "key": "BSERV-11858",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-03-31T04:45:11.000+0000",
      "created": "2019-07-17T07:07:04.000+0000",
      "description": "h3. Steps to Reproduce\r\n\r\n# Create a branch\r\n# Add some lines at the top of a file (1 or more)\r\n# Push the branch\r\n# Create a pull request with the branch as source\r\n# Comment on the first line in the file on the PR (which should be an added line)\r\n# Switch to side-by-side diff\r\n# Comment on the first context line in the file _on the TO side_ of the file (the right-hand-side)\r\n# Refresh the page\r\n\r\nh3. Expected Results\r\n \r\nThe comment on the first context line should show on the first context line\r\n\r\nh3. Actual Results\r\n\r\nThe comment on the context line will jump to the first line\r\n\r\nh3. Notes\r\n\r\nSee the attached video:  [^comment-jumps-line.mp4] \r\n\r\nThere's even stranger behaviour if you add multiple lines to the top of the file: [^comment-jumps-comment.mp4]  The comment on the first context line will always jump to the comment on the first line, even if there are other comments between them.\r\n\r\nThis requires there being a comment on the first line of the file. If there's not, this won't happen.\r\n\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Comment on first context line moves to comment on first added line"
    }
  },
  {
    "key": "BSERV-11857",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-16T18:19:01.000+0000",
      "description": "The built in Verify Committer pre-receive hook does will not allow the commit if the commit author and the person pushing the commit are not the same. However, there are plenty of use-cases in real development environment where a developer needs to push commits of other valid Bitbucket users (eg: locally merge changes from other developers workspace, and then push the branch to Bitbucket server, clone a repository from Bitbucket and push it back to a different remote url within Bitbucket server etc...)\r\n\r\nI am request your development team to update the inbuilt pre-receive hook and allow all commits being pushed, as long as the author of the commits is a valid Bitbucket user.\r\n\r\n\u00a0",
      "summary": "Update built-in Verify Committer pre-receive hook to allow commits from valid Bitbucket users"
    }
  },
  {
    "key": "BSERV-11856",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-16T13:07:15.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen using SAML as primary authentication and you have CAPTCHA enabled in the application, users that use HTTP basic authentication (for example in REST resource calls, or when using Git HTTPS in Bitbucket) may get locked out if they enter an incorrect password too many times. In these cases, an administrator will need to reset the user's CAPTCHA in the user list screen.\r\n\r\nWhen SAML is not enabled, users are able to clear their own CAPTCHA by logging in. This is not the case when SAML is enabled. Only an administrator can clear the CAPTCHA.\r\n\r\nh3. Suggested Solution\r\n\r\nHave the option for users to clear their own CAPTCHA by logging in, similarly as when SAML is not enabled.\r\n",
      "summary": "As an admin, I want the users to be able to clear their own CAPTCHA when SAML is enabled"
    }
  },
  {
    "key": "BSERV-11855",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-17T23:01:09.000+0000",
      "created": "2019-07-15T13:42:55.000+0000",
      "description": "When a pull request is created there is a view called Diff.\r\n\r\nThis view is really good to see which changes are made with the pull request.\r\n\r\nAlso the conflicts are shown which is very helpful.\r\n\r\nBut what be very cool when the conflicts could be directly solved in this view instead of going into a git tool checking out the branch solving the conflicts doing a commit doing a push....\r\n\r\nIt would be so helpful just clicking in the Diff view Use this Code or use that Code because both codes are shown so why is it not possible to choose the correct Code and going on with the pull request.\r\n\r\nAnother Extension would be to remove files. Sometimes it happens that filese are in the pull request included which were not changed. So it would be great to remove them in the Diff view.\r\n\r\n\u00a0\r\n\r\nLooking Forward to your answer.\r\n",
      "summary": "Improvement of Diff in Pull Requests"
    }
  },
  {
    "key": "BSERV-11854",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-15T03:06:04.000+0000",
      "created": "2019-07-15T12:40:52.000+0000",
      "description": "Hello,\r\n\r\nWhen a PR is approved if the developer update his PR, the PR status is not reseted, it's dangerous because if the reviewer doesn't refresh the page he can merge without review the new code. It seems better to reset all status like when a PR is rejected.\r\n\r\n\u00a0\r\n\r\nRegard,\r\n\r\nNicolas PILLON",
      "summary": "Reset PR status on update"
    }
  },
  {
    "key": "BSERV-11853",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-15T10:05:55.000+0000",
      "description": "h3. Issue Summary\r\n\r\nMentioning a commit hash in a Pull Requests comments should create a link to the commit. If the commit belongs to the current repository - the link is created.\r\n If a commit points to a different repository, it's not saved (although it is linked correctly in a comment preview window before saving).\r\n Commit links:\r\n !image-2019-07-15-11-58-44-235.png|thumbnail!\r\n\r\nPreview (commit properly linked to another repository) in comments window:\r\n !image-2019-07-15-12-01-25-148.png|thumbnail!\r\nh3. Environment\r\n\r\nTested in Bitbucket 5.15.x -> 6.4\r\nh3. Steps to Reproduce\r\n # Create a new Pull Request.\r\n # Mention a commit from the current repository in a comment and save.\r\n # Mention a commit referring to another repository in a comment and save.\r\n\r\nh3. Expected Results\r\n # Commit from current repository is linked.\r\n # Commit from the other repository is linked.\r\n\r\nh3. Actual Results\r\n * Commit from current repository is linked.\r\n * Commit from the other repository is *not*\u00a0linked.\r\n\r\nNo errors in the logs.\r\nh3. Workaround\r\n\r\nAdd a full MarkDown link to the commit , e.g.:\r\n{code:none}\r\n[8dd91d1f6d846ec80045699d7ad1ee85395e22ef](/projects/MY_PROJ/repos/my-repo/commits/8dd91d1f6d846ec80045699d7ad1ee85395e22ef) \r\n\r\n// or\r\n\r\n[see this commit](https://BITBUCKET_URL/projects/MY_PROJ/repos/my-repo/commits/8dd91d1f6d846ec80045699d7ad1ee85395e22ef){code}\r\n\u00a0",
      "summary": "Mentioning a commit in a Pull Requests comments doesn't save a link to the commit if it's in a different repository"
    }
  },
  {
    "key": "BSERV-11851",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-10-19T01:48:52.000+0000",
      "created": "2019-07-15T06:20:57.000+0000",
      "description": "h3. Issue Summary\r\nh3. Environment\r\n * SAML enabled Bitbucket Server instance\r\n\r\nh3. Steps to Reproduce\r\n # Enable SAML\r\n # Open URL like \"/login?next=/plugins/servlet/create-branch?issueSummary%3Dtest%20test\"\r\n\r\nh3. Expected Results\r\n\r\nRedirected to SAML authentication provider, authenticated and redirected back to Bitbucket Server and to \"Create Branch\" page.\r\nh3. Actual Results\r\n\r\nPresent with Tomcat 400 (BAD_REQUEST) page.\r\nh3. Notes\r\n\r\nThis is a bug in Atlassian Authentication Plugin.\r\n\r\nWhat it does is that it reads {{next}} parameter from {{HttpServletRequest}} in {{BitbucketAuthenticationFilter}}. The problem here is that {{HttpServletRequest#getParameter}} returns _decoded_ string. So all of the {{+}} and {{%}}-encoded values are turned into actual values at that moment.\r\n Then, the plugin proceeds to feed the value it received form {{HttpServletRequest}} to {{URI}} class which throws an exception because there are illegal characters - spaces.\r\n What the plugin is should be doing is to encode the string again, before feeding it to {{URI}} class.\r\nh3. Workaround\r\n\r\nWorkaround would be to use \"/login?next=/plugins/servlet/create-branch?issueSummary%3Dtest%2520test\" instead of \"/bitbucket/login?next=/plugins/servlet/create-branch?issueSummary%3Dtest%20test\".",
      "summary": "Using URLs with percent encoded spaces in them with SAML authentication enabled results into 400 error"
    }
  },
  {
    "key": "BSERV-11850",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-12T16:25:55.000+0000",
      "description": "Would-be-nice if I could directly copy/paste emoji into Bitbucket PR comments, instead of using markdown like :grinning: &#x1F600;\r\n\r\nCurrently, when I copy/paste, the emoji shows up just fine in the comment. But then if I save the comment, I get a message about server error.",
      "summary": "Support copy/paste of Emoji in Bitbucket PR comments"
    }
  },
  {
    "key": "BSERV-11849",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-13T07:20:25.000+0000",
      "created": "2019-07-12T14:00:18.000+0000",
      "description": "h3. Issue Summary\r\nUsing Deutsch or Japan language in users Accounts setting on viewing individual commit of pull requests cause \"error page not found\" message. The issue is particularly seen for [--orphan branch|https://git-scm.com/docs/git-checkout/1.7.3.1#git-checkout---orphan].\r\n\r\nh3. Environment\r\nBitbucket Server version 5.15.0\r\nBitbucket Server vesion 6.4.0\r\n\r\nh3. Steps to Reproduce\r\n# While in the {{English}} language in User Profile.\r\n# Create a repository called *repo-01* under a project called *proj*.\r\n# Cloned the repository into local machine, via UNIX terminal.\r\n# In the terminal:\r\n{code:java|title=Create commit for master branch}\r\ntouch file1\r\ngit add file1\r\ngit commit -m \"add file1\" file1\r\ngit push origin master\r\n{code}\r\n{code:java|title=Create orphan branch and add commit to it}\r\ngit checkout --orphan feature1\r\ntouch file2\r\ngit add file2\r\ngit commit -m \"add file2\" file2\r\ngit push origin feature1\r\n{code}\r\n{code:java|title=View Git Log}\r\ngit log --all --graph --decorate\r\n{code}\r\n{noformat:title=Git Log Result}\r\n* commit f698cebe1517b93ae075cb14db7584d89f356625 (HEAD -> feature1, origin/feature1)\r\n  Author: admin <admin@admin.com>\r\n  Date:   Fri Jul 12 21:11:06 2019 +0800\r\n  \r\n      add file02\r\n  \r\n* commit 1de7248274630ca98e4c21c17858d658689478d3 (origin/master, master)\r\n  Author: admin <admin@admin.com>\r\n  Date:   Fri Jul 12 21:09:39 2019 +0800\r\n  \r\n      add file1\r\n{noformat}\r\n# In the Bitbucket Server UI, created a pull request from {{orphan}} branch(source) to {{master}} branch(destination).\r\n# Switch the language to *Deutsch* and back to the repository.\r\n# Open the created pull request, select the *Commits* tab, and click on the commit.\r\n\r\nh3. Expected Results\r\nThe page loads without any issue as seen for the English language:\r\n !deu-eng-02.png|thumbnail! \r\n\r\nh3. Actual Results\r\nThe following error message is seen:\r\nh5. Deutsch\r\n !deu-eng-01.png|thumbnail! \r\nh5. Japan\r\n !jap-eng-01.png|thumbnail! \r\n\r\nThe below exception is thrown in the {{atlassian-bitbucket.log}} file:\r\n{noformat}\r\n2019-07-12 21:37:27,124 DEBUG [http-nio-7990-exec-6] admin @1WECHJNx1297x464x0 kxth7 0:0:0:0:0:0:0:1 \"GET /projects/PROJ/repos/repo-01/pull-requests/1/commits HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git rev-list --format=%H%x02%P%x02%aN%x02%aE%x02%at%x02%cN%x02%cE%x02%ct%n%B%n%x03END%x04 --no-min-parents --stdin --\r\n2019-07-12 21:37:28,258 DEBUG [http-nio-7990-exec-8] admin @1WECHJNx1297x466x0 kxth7 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/repo-01/pull-requests/1/changes HTTP/1.1\" c.a.bitbucket.scm.BaseCommand Executed /usr/bin/git diff-tree -C -r --format=%H undefined f698cebe1517b93ae075cb14db7584d89f356625 --\r\n2019-07-12 21:37:28,261 DEBUG [http-nio-7990-exec-8] admin @1WECHJNx1297x466x0 kxth7 0:0:0:0:0:0:0:1 \"GET /rest/api/latest/projects/PROJ/repos/repo-01/pull-requests/1/changes HTTP/1.1\" c.a.s.i.r.e.ServiceExceptionMapper Mapping ServiceException to REST response 404\r\ncom.atlassian.bitbucket.commit.NoSuchCommitException: Commit 'undefined' does not exist in repository 'repo-01'.\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.newNoSuchCommitException(GitCommandExitHandler.java:174)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateStdErr(GitCommandExitHandler.java:82)\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:204)\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:32)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:153)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:287)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:251)\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:87)\r\n\tat com.atlassian.stash.internal.commit.DefaultCommitService.streamChanges(DefaultCommitService.java:223)\r\n\tat com.atlassian.stash.internal.pull.DefaultPullRequestService.streamChanges(DefaultPullRequestService.java:1985)\r\n\tat com.atlassian.stash.internal.pull.DefaultPullRequestService.streamChanges(DefaultPullRequestService.java:1111)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.stash.internal.rest.pull.PullRequestChangeResource$1.write(PullRequestChangeResource.java:107)\r\n\tat com.atlassian.bitbucket.rest.util.JsonStreamingOutput.write(JsonStreamingOutput.java:23)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.lambda$write$0(StreamingResponseFilter.java:80)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$AbstractStreamingExceptionMapper.stream(StreamingResponseFilter.java:50)\r\n\tat com.atlassian.stash.internal.rest.filter.StreamingResponseFilter$ExceptionMappingStreamingOutput.write(StreamingResponseFilter.java:80)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.bitbucket.internal.xcode.web.XcodeUserAgentFilter.doFilter(XcodeUserAgentFilter.java:36)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.bitbucket.internal.scm.git.lfs.servlet.filter.GitLfsLockingFilter.doFilter(GitLfsLockingFilter.java:50)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:87)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 315 frames trimmed\r\n\r\n{noformat}\r\n\r\nh3. Notes\r\nThe issue is seen on Deutsch and Japan but not for English and France\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n\r\n\r\nRequired, if there is no workaround please state:\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Changing language in users Account setting on viewing individual commit of pull requests cause \"error page not found\" message"
    }
  },
  {
    "key": "BSERV-11848",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-14T23:28:33.000+0000",
      "created": "2019-07-12T13:18:08.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThere is no option to exclude single users from project or repository permissions when these are given to groups that these users belong to.\r\n\r\nh3. Suggested Solution\r\n\r\nAdd another layer of permissions by having the option to exclude or restrict permissions for certain users even if these belong to a group that has project/repository access.\r\n",
      "summary": "As an admin, I want to restrict permissions to single users that belong to groups that have been given permissions"
    }
  },
  {
    "key": "BSERV-11847",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-11T20:38:10.000+0000",
      "description": "Currently when users push to a repository, the resulting payload for any configured webhooks does not contain any information surrounding the commits that were pushed. This request is to include this commit information, to a reasonable degree, so that it can be used by the applications receiving the webhook payload. One example of how this could be implemented comes from how these events are handled for [the equivalent push payloads in Bitbucket Cloud|https://confluence.atlassian.com/bitbucket/event-payloads-740262817.html]:\r\n{quote}{{commits}}: An array containing up to 5 of the most recent commits pushed to the reference. The array for a push with more than 5 commits is truncated, which is indicated by the\u00a0{{truncated}}\u00a0property.\r\n{quote}\r\nFor reference, here is the current payload [as it exists in Bitbucket Server today|https://confluence.atlassian.com/bitbucketserver/event-payload-938025882.html]:\r\n{code:json}\r\n{  \r\n  \"eventKey\":\"repo:refs_changed\",\r\n  \"date\":\"2017-09-19T09:45:32+1000\",\r\n  \"actor\":{  \r\n    \"name\":\"admin\",\r\n    \"emailAddress\":\"admin@example.com\",\r\n    \"id\":1,\r\n    \"displayName\":\"Administrator\",\r\n    \"active\":true,\r\n    \"slug\":\"admin\",\r\n    \"type\":\"NORMAL\"\r\n  },\r\n  \"repository\":{  \r\n    \"slug\":\"repository\",\r\n    \"id\":84,\r\n    \"name\":\"repository\",\r\n    \"scmId\":\"git\",\r\n    \"state\":\"AVAILABLE\",\r\n    \"statusMessage\":\"Available\",\r\n    \"forkable\":true,\r\n    \"project\":{  \r\n      \"key\":\"PROJ\",\r\n      \"id\":84,\r\n      \"name\":\"project\",\r\n      \"public\":false,\r\n      \"type\":\"NORMAL\"\r\n    },\r\n    \"public\":false\r\n  },\r\n  \"changes\":[  \r\n    {  \r\n      \"ref\":{  \r\n        \"id\":\"refs/heads/master\",\r\n        \"displayId\":\"master\",\r\n        \"type\":\"BRANCH\"\r\n      },\r\n      \"refId\":\"refs/heads/master\",\r\n      \"fromHash\":\"ecddabb624f6f5ba43816f5926e580a5f680a932\",\r\n      \"toHash\":\"178864a7d521b6f5e720b386b2c2b0ef8563e0dc\",\r\n      \"type\":\"UPDATE\"\r\n    }\r\n  ]\r\n}\r\n{code}\r\nWhere this is the payload information from Bitbucket Cloud that would be nice to have implemented in Server:\r\n{code:json}\r\n        \"commits\": [\r\n          {\r\n            \"hash\": \"03f4a7270240708834de475bcf21532d6134777e\",\r\n            \"type\": \"commit\",\r\n            \"message\": \"commit message\\n\",\r\n            \"author\": User,\r\n            \"links\": {\r\n              \"self\": {\r\n                \"href\": \"https://api.bitbucket.org/2.0/repositories/user/repo/commit/03f4a7270240708834de475bcf21532d6134777e\"\r\n              },\r\n              \"html\": {\r\n                \"href\": \"https://bitbucket.org/user/repo/commits/03f4a7270240708834de475bcf21532d6134777e\"\r\n              }\r\n            }\r\n          }\r\n        ]\r\n{code}",
      "summary": "Include commits/commit message in push (refs_changed) event payload"
    }
  },
  {
    "key": "BSERV-11846",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-16T07:07:35.000+0000",
      "created": "2019-07-11T14:33:49.000+0000",
      "description": "Escaping a pipe in the code section of a table keeps the escape character when the spec shows that it shouldn't.",
      "summary": "Escape pipe in code section of table leaves escape character"
    }
  },
  {
    "key": "BSERV-11845",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-10T22:04:42.000+0000",
      "created": "2019-07-10T09:08:55.000+0000",
      "description": "It would be nice to sort (persistent) the issues in the issues overview, e.g. by priority. It's a nice overview as it shows all issues of all my projects and repositories but it would be much more useful for me to be able to sort the issues like in the issue area of a single repository.\r\n\r\nAt the moment the issue overview is hardcoded to be sorted by date updated.\r\n\r\nWould be nice if the sorting would be customisable\u00a0*and* persistent between browsers and browser sessions.",
      "summary": "Add possibility to sort issues in Bitbucket Dashboard / Overview"
    }
  },
  {
    "key": "BSERV-11844",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-18T00:29:22.000+0000",
      "created": "2019-07-10T06:06:06.000+0000",
      "description": "h3. It takes a long time for Bitbucket Server to resolve reviewers for a Pull Request when said reviewers are at the bottom of a structure of nested groups.\r\nh3. Environment\r\n\r\nUser directory with lots of groups and users that are at the bottom of nested structure of those groups.\r\nh3. Steps to Reproduce\r\n # Have a complicated structure of user directory with multiple levels of nested groups\r\n # Add a group with \"read\" permissions to a project\r\n # Create a pull request with couple users from that group as reviewers\r\n\r\nh3. Expected Results\r\n\r\nPull request is created immediately\r\nh3. Actual Results\r\n\r\nPull request takes up to 10 minutes to create, depending on number of groups\r\nh3. Notes\r\n\r\nWhenever Bitbucket Server resolves reviewers, it validates those user permissions.\r\n Users must:\r\n - have permission to user Bitbucket Server (be a licensed user)\r\n - have permission to access the repository pull request is being created in\r\n\r\nIn order to do that, because of the nested groups structure Bitbucket Server produces a large number of calls to {{HibernateMembershipDao#search}} method that fetches users, groups and membership information from the database. When the amount of results this method fetches from the database is large enough, it pollutes Hibernate context to the point when auto flush takes a lot of time. In order to avoid that, Bitbucket Server configured to run this method with transaction that is in \"read-only\" mode so Hibernate can skip context flushing as there are no changes being made to those entities. However, during PR creation, the method runs in context of outer transaction, which is opened by {{DefaultPullRequestService#create}} method and this transaction is \"read-write\" so this mitigation doesn't work.\r\nh3. Workaround\r\n\r\nMax out users, groups and permissions caches as well as page size for permissions by adding the following into {{bibucket.properties}} file:\r\n{code:java}\r\ncache.com.atlassian.crowd.model.user.InternalUser.max=30000\r\npermissions.cache.users.max=30000\r\ncache.com.atlassian.crowd.model.user.InternalUser.attributes.max=30000\r\ncache.com.atlassian.crowd.model.user.InternalUser.credentialRecords.max=30000\r\ncache.com.atlassian.crowd.model.user.InternalUserAttribute.max=30000\r\ncache.com.atlassian.crowd.model.group.InternalGroup.max=10000\r\npermissions.cache.groups.max=30000\r\ncache.query.groupMemberships.max=30000\r\ncache.query.groupMemberships.ttl=2400\r\ncache.query.permissions.max=30000\r\npage.max.granted.permissions=20000\r\n{code}\r\nThe numbers must be adjusted accordingly with respect to amount of users and groups in the system.\r\n\r\nThe workaround seems to bring the time down to 1 minute.",
      "summary": "Creating a pull request with nested groups enabled takes a very long time"
    }
  },
  {
    "key": "BSERV-11843",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-09T17:30:47.000+0000",
      "description": "Add a URL that will take you to a logon screen even when SAML is enabled so you can log in with a local ID.\u00a0\u00a0\r\n\r\nThis would be useful if the SAML configuration needs to be updated or you need to update the directory information.\u00a0 Today if I want to update the directory information I need to disable SAML, log in with a local ID, edit the directory information, and then re-enable SAML.",
      "summary": "Add a URL to a logon dialog box that can be used when SAML is enabled"
    }
  },
  {
    "key": "BSERV-11842",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-09T08:07:07.000+0000",
      "description": "*Problem*\r\n\r\nCurrently there is no way to tell for administrators or support engineers which settings configured via properties are currently effective.\r\n\r\nProperties can be set via {{bitbucket.properties}} or the REST API, so they can be changed at runtime, however it's impossible to tell when a server is running which properties are effective or not.\r\n\r\nThis makes it hard for administrators and support engineers to fully understand the current configuration of Bitbucket Server at any given time.\r\n\r\n*Proposed Solution*\r\n\r\nThere should be a way (potentially via REST API or via inclusion in a support zip) to extract the current value of all configurable properties on demand.",
      "summary": "As an administrator or support engineer I want to know which settings configured via properties are currently effective"
    }
  },
  {
    "key": "BSERV-11841",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-11-06T00:20:53.000+0000",
      "created": "2019-07-08T00:09:48.000+0000",
      "description": "h3. Issue Summary\r\nIf a Code Insights report has fields with the same name, switching back and forth to another report would cause duplicate fields with that name to be added many times\r\n\r\nh3. Steps to Reproduce\r\n # At least having 2 code insights reports, in the report A include 2 or more fields with the same name - \"Field A\"\r\n # Open the report A, switch to report B\r\n\r\nh3. Expected Results\r\nReport B should only contain its own fields\r\n\r\nh3. Actual Results\r\nReport B has extra 2 fields \"Field A\" added on top of its own fields\r\nSwitch back to report A, more \"Field A\" are added on the report A\r\nKeep switching back and forth would add more duplicate \"Field A\"\r\n\r\n\r\nh3. Notes\r\nAffect front-end only\r\n\r\nh3. Workaround\r\n- Refresh the page and re-open the report\r\n- Modify your code insights reporter to only provide unique field names.\r\n",
      "summary": "Switching between Code Insights reports adds duplicate fields"
    }
  },
  {
    "key": "BSERV-11840",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-08T23:43:43.000+0000",
      "created": "2019-07-07T16:58:41.000+0000",
      "description": "Hello,\u00a0\r\n\r\nWe've enable a dynamic dns service on our router. We'd like to be able to apply this to our premium bit bucket account. However we can only enter a static ip address.\u00a0",
      "summary": "IP Whitelisting Using Dynamic DNS Service"
    }
  },
  {
    "key": "BSERV-11839",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-22T21:39:50.000+0000",
      "created": "2019-07-05T08:43:22.000+0000",
      "description": "I see two build status connected to same pull request:\r\n\r\ncreate a pull request on commit ID A -> set build status with RESP API(key=pull request ID) -> delete the pull request -> create it again with the same commit A -> set build status with RESP API(key=new pull request ID) \r\n\r\nIf the first build status is failed and the new one is succeed, the workzone auto merge does not work. So I suggest to delete all build status when user create a new pull request.\r\n\r\nI created a [support ticket|https://getsupport.atlassian.com/servicedesk/customer/portal/24/SSP-37011], and support engineer suggest me to ask a new feature here.\r\n\r\n\u00a0",
      "summary": "No build status for a new pull request"
    }
  },
  {
    "key": "BSERV-11838",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-08T02:14:21.000+0000",
      "created": "2019-07-05T07:50:51.000+0000",
      "description": "Need functionality which already exists on public github! Please refer attached image!",
      "summary": "button/option for squash and merge in a pull request"
    }
  },
  {
    "key": "BSERV-11837",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-05T06:27:01.000+0000",
      "description": "Upgrade helps resolve AO issue\u00a0[https://ecosystem.atlassian.net/browse/AO-3476]\r\n\r\nThis problem does not exist in Bitbucket Server 6.0+ since it used Active Objects 3.x which includes a fix already",
      "summary": "Backport fix for AO-3476 to Bitbucket Server 5.16"
    }
  },
  {
    "key": "BSERV-11836",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-05T03:31:11.000+0000",
      "created": "2019-07-04T12:06:58.000+0000",
      "description": " h3. Issue Summary\r\n\r\nWhen performing a search in Bitbucket, if the search result contains repositories on the right sidebar, the results will not be rendered correctly if using MS Edge or IE11.\r\n\r\nh3. Steps to Reproduce\r\n# Access Bitbucket either using MS Edge or IE11\r\n# Perform a search using a search term that is part both of a repository name and a file\r\n\r\nh3. Expected Results\r\n\r\n !Screenshot-20190704140357-3828x1494.png|thumbnail! \r\n\r\nh3. Actual Results\r\n\r\n !Screenshot-20190704141051-3830x1486.png|thumbnail! \r\n\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Search results are not rendered correctly in IE11 and MS Edge when containing repositories on the results"
    }
  },
  {
    "key": "BSERV-11835",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-04T07:49:58.000+0000",
      "description": "It would be greate if we could add a label to the IPs that I whitelist in IP whiteliting.",
      "summary": "Labels for IPs in IP whitelisting"
    }
  },
  {
    "key": "BSERV-11834",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-03T13:40:19.000+0000",
      "description": "When I am viewing the list of commits in a pull request (at a URL like \"http://example.com:7990/projects/EX/repos/example/pull-requests/42/commits\"), Bitbucket Server 6.0.0 does not tell me whether those commits have any Git tags pointing to them. I would like to see the tags there, like they appear in the list of commits in a branch (at a URL like \"http://example.com:7990/projects/EX/repos/example/commits?until=refs%2Fheads%2Fexample\"). Both lists of commits have the same columns, so I don't think this is a matter of not having enough space on the screen.\r\n\r\nSeeing the tags would let me more easily check where software built from the latest commit in the pull request has been deployed.\r\n\r\nThe overview of a pull request (at a URL like \"http://example.com:7990/projects/EX/repos/example/pull-requests/42/overview\") does not display the tags either, but I don't think it is important to see the tags there.\r\n\r\nAlternatively, you could add a hyperlink from the pull request to the commits lists of the source branch of that pull request. That way, I could easily click the link and see the tags there.  Currently, the header of the pull-request view shows the names of the branches but they are not hyperlinks.  If you choose to add a hyperlink to the source branch, another hyperlink to the target branch would also be appropriate.\r\n",
      "summary": "Show tags in Commits tab of pull request"
    }
  },
  {
    "key": "BSERV-11833",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-03T11:51:47.000+0000",
      "description": "h3. Problem Definition\r\n\r\nIn the commit view of Bitbucket both the link and the icon are providing the link to build results.\r\nAs by default number of results from the Build REST API is limited to 100 last builds it's impossible to see the failed builds if after that were more than 100 successful builds.\r\n\r\nh3. Suggested Solution\r\n# Adjust the REST endpoint /rest/build-status/1.0/commits/{commitId} to allow filtering by the build result\r\n# Provide the link to failed builds only (or status filter) for the commit and PR view in Bitbucket GUI.\r\n\r\nh3. Workaround\r\nThe full list of build statuses can be fetched from the database with the following query:\r\n{code:sql}\r\nSELECT * FROM public.\"AO_CFE8FA_BUILD_STATUS\" where \"CSID\" = '<commit_id>';\r\n{code}",
      "summary": "Provide the link and REST API to see only failed builds"
    }
  },
  {
    "key": "BSERV-11832",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-02T23:21:37.000+0000",
      "created": "2019-07-02T21:54:35.000+0000",
      "description": "h3. Problem Definition\r\nWhen you want to obtain the last login time from users associated to a specific group this can be very troublesome because you currently need to do some scripting that does the following:\r\n\r\n# Calls [{{GET /rest/api/1.0/admin/groups/more-members}}|https://docs.atlassian.com/bitbucket-server/rest/6.4.0/bitbucket-rest.html#idp11] endpoint in order to retrieve a list of users for a given group which can be filtered by using the {{context}} query parameter.\r\n# Loops through the list of users obtained above calling [{{GET /rest/api/1.0/admin/users}}|https://docs.atlassian.com/bitbucket-server/rest/5.13.0/bitbucket-rest.html#idm46209338444208] filtering by the username in the {{filter}} query parameter. The user details retrieved might or might not include the {{lastAuthenticationTimestamp}} information, indicating if the user has or has not ever logged in. For instance, if the output contains {{lastAuthenticationTimestamp}}, you'll have to convert the value retrieved to human readable format.\r\n\r\nh3. Suggested Solution\r\nCurrently the [{{GET /rest/api/1.0/admin/users}}|https://docs.atlassian.com/bitbucket-server/rest/6.4.0/bitbucket-rest.html#idp19] endpoint just allows filtering results by username, display name or email addresses.\r\nIt would be much easier to obtain the last login information from users associated to a specific group if it was possible to filter that endpoint by group name as well.\r\n\r\nh3. Workaround\r\nCreate a script that does what was mentioned in the problem definition.",
      "summary": "REST API for obtaining users list should allow filtering by group name"
    }
  },
  {
    "key": "BSERV-11831",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-02T16:31:21.000+0000",
      "description": "We have a use case for black projects that we would like to disable indexing for. \u00a0This is not similar to BSERV-9722 or BSERV-10071 as those are for searching and excluding, we don't want certain projects showing up at all. \u00a0This impacts engineers working on these projects from assisting engineers not working on these projects when looking up code.",
      "summary": "Disable project or repository from being indexed in search"
    }
  },
  {
    "key": "BSERV-11830",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-07-02T04:13:42.000+0000",
      "description": "Hello,\r\n\r\nIs there any possibility to check the Merge check parameters for branches instead of whole repository let say i want to check issue status or commit message etc for specific branch (one at a time). Well we do have a option for applying Merge check evaluation on limited branches but we sometimes we want to apply the same for a specific branch only so that we can create different merge checks for different branches.",
      "summary": "Merge Check For all branches separately"
    }
  },
  {
    "key": "BSERV-11829",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-02T02:38:44.000+0000",
      "created": "2019-07-01T12:18:35.000+0000",
      "description": "h3. Issue Summary\r\nIn Bitbucket Server version 6.1.0, as similar to bug BSERV-11622 but with personal repository feature is disabled. Upon choosing a different project and attempt to fork the repository cause Java error.\r\n\r\nh3. Environment\r\n* Bitbucket Server ver6.1.0\r\n* Tested OS - Windows 10 Pro & Ubuntu 16.04 LTS\r\n* Tested Database - Bundle DB H2 and MySQL\r\n* Personal Repository feature is disabled.\r\n\r\nh3. Steps to Reproduce\r\n# Disable Personal Repository feature by adding the following line to bitbucket.properties:\r\n{code:java}\r\nfeature.personal.repos=false\r\n{code}\r\n# Restart the Bitbucket Server.\r\n# Create two different project called project-01 and project-02\r\n# Create a repository called repo-01 in project-01 and populate repo-01 with files.\r\n# Fork the repo-01 to project-02 - Go to forks -> Create fork \r\n# Select the project-02 in Fork creation screen\r\n# Click 'Fork repository'\r\n\r\nh3. Expected Results\r\nA fork is created in the project selected.\r\n\r\nh3. Actual Results\r\nFork funtion throwing errors:\r\n !fork-610.png|thumbnail! \r\n\r\nh3. Notes\r\n* The log file did not show any related trace.\r\n* HAR file does not provide much info as well.\r\n\r\n(Optional - If Necessary)\r\nh3. Workaround\r\n\r\nRequired, if there is no workaround please state:\r\n Currently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Choosing a project while forking a repository cause Java error in Bitbucket 6.1.0 when personal repositories feature is disabled"
    }
  },
  {
    "key": "BSERV-11828",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-10T00:20:42.000+0000",
      "created": "2019-06-30T22:51:12.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen visiting the create branch screen in Bitbucket Server, using a non-existing project key will result in an error page. Whilst it is highly unlikely that this would occur when using the \"Create branch\" links within Bitbucket Server, it is possible that links from external sources could have a wrong or non-existent project key.\r\nh3. Steps to Reproduce\r\n # Visit the branch create branch page at {{<Base URL>/plugins/servlet/create-branch?issueKey=ABC-123&issueType=Task&issueSummary=abc-123-testing&projectKey=FOOBARBAZ123}} (assuming your instance does not have a project with that key\r\n # Note, no branch create screen, just an error page\r\n\r\nh3. Expected Results\r\n\r\nA meaningful error is shown to the user if there is an invalid or missing project key, and we allow the user to choose the repository from the repository picker that is present on the create branch screen.\r\nh3. Actual Results\r\n\r\nAn exception is thrown and the user is presented with a standard HTTP 500 error screen with no additional information or recourse on how to fix this error.\r\n\r\nThe below exception is thrown :\r\n{noformat}\r\n2019-07-01 08:47:16,865 ERROR [http-nio-7990-exec-4]  o.a.c.c.C.[.[.[/bitbucket].[plugins] Servlet.service() for servlet [plugins] in context with path [/bitbucket] threw exception\r\ncom.atlassian.bitbucket.project.NoSuchProjectException: No project with key 'FOOBARBAZ123' exists.\r\n\tat com.atlassian.stash.internal.repository.DefaultRepositoryService.findByProjectKey(DefaultRepositoryService.java:327)\r\n\tat com.atlassian.stash.internal.repository.DefaultRepositoryService.findByProjectKey(DefaultRepositoryService.java:311)\r\n\tat com.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\r\n\tat org.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\r\n\tat org.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\r\n\tat com.atlassian.bitbucket.internal.branch.web.BranchCreationData.getEntityLinkedRecentRepository(BranchCreationData.java:139)\r\n\tat com.atlassian.bitbucket.internal.branch.web.BranchCreationData.lambda$soyResults$0(BranchCreationData.java:83)\r\n\tat java.util.Optional.orElseGet(Optional.java:267)\r\n\tat com.atlassian.bitbucket.internal.branch.web.BranchCreationData.soyResults(BranchCreationData.java:83)\r\n\tat com.atlassian.bitbucket.internal.branch.web.BranchCreationServlet.doGet(BranchCreationServlet.java:44)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n\tat com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.bitbucket.internal.ratelimit.servlet.filter.RateLimitFilter.doFilter(RateLimitFilter.java:69)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:181)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:85)\r\n\tat com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:85)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n\tat com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n\tat com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:37)\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n\tat com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:87)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\t... 275 frames trimmed\r\n{noformat}\r\nh3. Workaround\r\n\r\nUpdate the URL to remove the {{projectKey}} query parameter.",
      "summary": "Using the \"Create Branch\" screen with an invalid project key results in a HTTP 500"
    }
  },
  {
    "key": "BSERV-11827",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-27T13:58:19.000+0000",
      "description": "When creating branches if the branch name is over 100 characters then it forces you to manually change the branch name and cut it down to under 100 characters. This is rather annoying.\r\n\r\nI'd prefer that if the branch name is over 100 characters it would just cut it down to 100 characters and carry on if I attempt to create that branch.\u00a0",
      "summary": "When creating a branch automatically cap the branch to 100 characters if over"
    }
  },
  {
    "key": "BSERV-11826",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-30T22:37:27.000+0000",
      "created": "2019-06-27T13:36:31.000+0000",
      "description": "i want to use rest api to import a\u00a0gitlab repository to Bitbucket server,but i do not know the\u00a0parameters i should to give. i search a lot with google,but\u00a0Did not find a solution",
      "summary": "import gitlab repositories"
    }
  },
  {
    "key": "BSERV-11825",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-13T06:09:57.000+0000",
      "created": "2019-06-26T15:18:32.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Bitbucket communicates with Jira about one or several commits that are linked to an issue, Bitbucket can sometimes send the field _initiator:email_ as 'null'. This behaviour can cause an unexpected error in Jira as it always expects a value for that field.\r\nh3. Steps to Reproduce\r\n\r\nThis issue has only been reproduced on repositories that use the SVN Mirror for Bitbucket Server app. For some reason, the commits can be created with missing fields and then Bitbucket sends those commits to Jira with missing data.\r\n\r\n*Synthetic reproduction:* This issue can be reproduced by manually setting \"email\" field into null in {{cwd_user}} table. The actual reason why \"SVN Mirror for Bitbucket Server\" causes Bitbucket to\u00a0 report commits in the way it does is still unknown.\r\nh3. Expected Results\r\n\r\nWhen there is a situation where a commit does not contain an email address linked to it, Bitbucket should send an empty collection instead.\r\nh3. Actual Results\r\n\r\nBitbucket is sending the initiator email field as collection with single 'null' element.\r\nh3. Workaround\r\n\r\nNo workaround",
      "summary": "Bitbucket can send 'null' as the email address when notifying Jira about new commits"
    }
  },
  {
    "key": "BSERV-11824",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-07-07T02:02:36.000+0000",
      "created": "2019-06-26T13:24:30.000+0000",
      "description": "h3. Summary\r\n\r\nLinks in markdown files containing @ characters are not redirecting to the correct encoded URL when clicking on them.\r\n\r\nh3. Steps to Reproduce\r\n# Create a markdown file in a repository\r\n# Add a link with @ character in the URL\r\n# Open markdown file on Bitbucket (preview mode, not source)\r\n# Click on the link\r\n\r\nh3. Expected Results\r\n\r\nThe linked URL is encoded correctly and it's accessible from the browser.\r\n\r\nh3. Actual Results\r\n\r\nBitbucket redirects to a non-existing URL with the following format: _http://<bitbucket_url>/projects/<project_id>/repos/<repository_slug>/null_\r\n\r\nh3. Workaround\r\n\r\nThere is no workaround.\r\n",
      "summary": " Links in markdown files containing @ characters do not pass the correct encoded URL"
    }
  },
  {
    "key": "BSERV-11823",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-26T07:48:58.000+0000",
      "description": "h3. Problem Definition\r\n\r\nImport repositories and project from GitLab and Bitbucket Cloud with Merge Request (Pull Request) data\r\nh3. Suggested Solution\r\n\r\nImport git repositories and use REST API to get the Merge Request (Pull Request) Data and recreate in Bitbucket\r\nh3. Workaround\r\n\r\nNo workaround available",
      "summary": "Import repositories and project from GitLab and Bitbucket Cloud with Merge Request (Pull Request) data"
    }
  },
  {
    "key": "BSERV-11822",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-25T11:09:24.000+0000",
      "description": "As a user of Bitbucket Server I often need to get an idea of how many files have been modifed for each commit in the recent history. This helps determine the extent of testing required before code changes progress to the next step in our QA process.\r\n\r\nCurrently in order to do this within Bitbucket it is necessary to click into each commit, visually asses the number of files shown in the diff view, then go back and repeat the process for subsequent commits.\r\n\r\nBecause of the infinite scrolling implementation, the back button behaviour currently does not remember one's place in the commit history if beyond the initially loaded batch of commits, so this is an especially painful process when more than a 100 or so commits back in the history.\r\n\r\n\u00a0\r\nThis would be improved massively if we had an option to display the number of changed files as a column in the commit view.\r\n\r\nThanks for taking the time to review this suggestion :)",
      "summary": "Show number of changed files in commit history view"
    }
  },
  {
    "key": "BSERV-11821",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-23T22:15:03.000+0000",
      "created": "2019-06-21T14:25:04.000+0000",
      "description": "I have had this issue multiple times when logging from different Bitbucket accounts:\r\nh1. Oops, you've made a malformed request.\r\n\r\nOften, clearing your browsers cache and restarting your browser will solve this problem.\r\n If that doesn't work, please\u00a0[contact support|https://support.atlassian.com/].\r\n\r\n\u00a0\r\n\r\nFor the below link in the browser address bar.\r\n\r\n\u00a0<See restricted comment for URL>\r\n\r\n\u00a0\r\n\r\nMost of the times reloading this page takes me to the login page, and logging in again resolves the issue.",
      "summary": "Logging in: Oops, you've made a malformed request"
    }
  },
  {
    "key": "BSERV-11820",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-24T03:40:17.000+0000",
      "created": "2019-06-20T15:32:52.000+0000",
      "description": "h3. Issue Summary\r\n\r\nIn Bitbucket v4. projects starting with an upper- and lower- case letter were grouped together. For example :  !Screen Shot 2019-06-20 at 5.24.29 PM.png!\r\n\r\nIn Bitbucket 5+ projects starting with a lowercase letter get sorted after projects with uppercase letters.\r\n \u00a0  !project-order.png!\r\nh3. Steps to Reproduce\r\n\r\nCreate projects with upper and lower case letters in Bitbucket 5+\u00a0\r\nh3. Expected Results\r\n\r\nProjects beginning with the same character should be sorted alphabetically without regard to case.\r\nh3. Actual Results\r\n\r\nProjects starting with lower case letters are placed below all other projects starting with an uppercase letter.\r\nh3. Notes\r\n\r\nBSERV-11818 is a related feature suggestion that expands on this to cover numerical ordering, and special characters following principles of natural sort order.\r\nh3. Workaround\r\n\r\nCurrently there is no known workaround for this behavior. A workaround will be added here when available",
      "summary": "Creating projects in Bitbucket Server 5+ with upper and lower case letters results in non-alphabetical ordering"
    }
  },
  {
    "key": "BSERV-11819",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-27T11:22:09.000+0000",
      "created": "2019-06-20T14:15:49.000+0000",
      "description": "On the https://confluence.atlassian.com/enterprise/infrastructure-recommendations-for-enterprise-bitbucket-instances-on-aws-970602035.html document it states:\r\n\r\n{quote}\r\nWhen testing m5.xlarge (16GB of RAM), we used 8GB for JVM heap. For all others, we used 12GB for JVM heap. Minimum heap (Xms) was set to 1G for all the tests.\r\n\r\nIf you do not a great number of 3rd party plugins, smaller JVM heap (2-3GB) is enough.\r\n{quote}\r\n\r\nWhich is incorrect and we would never recommend allocating 8GB of JVM heap. Especially when that is 50% of the memory available. We almost never recommend increasing heap over 2GB to have as much memory available for Git.",
      "summary": "Documentation fix for Infrastructure recommendations for enterprise Bitbucket on AWS"
    }
  },
  {
    "key": "BSERV-11818",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-20T10:13:04.000+0000",
      "description": "Currently, Bitbucket Server uses a machine-oriented alphabetical/numeric ordering when sorting and displaying projects:\r\n\r\n!project-order.png!\r\n\r\nh4. Proposed Solution\r\nA (case-insensitive) natural order sorting is more human friendly.\r\n[Natural sorting \\- Rosetta Code|https://rosettacode.org/wiki/Natural_sorting]\r\n\r\nThe above list would then be:\r\n\r\nAnother project\r\n\u00c4nother project\r\nbucket\r\nBuckets\r\nCreation\r\n\u00a0\r\n\r\n\u00a0",
      "summary": "Use natural (case-insensitive) sort order for Project/Repositories"
    }
  },
  {
    "key": "BSERV-11817",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-20T01:58:24.000+0000",
      "description": "h3. Steps to Reproduce\r\n # Access any file on Bitbucket server by adding a '/' on the end of the url\r\n\r\nh3. Expected Results\r\n\r\nThe correct file is displayed or a 404 error if file is not found.\r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat}\r\n2019-06-20 01:35:04,528 ERROR [http-nio-7990-exec-10] ysun *3WZBFAx95x2942x0 xkc6x3 172.29.8.221,172.25.1.36 \"GET /projects/STASH/repos/stash/browse/README.md/ HTTP/1.1\" o.a.c.c.C.[.[.[/].[springMvc] Servlet.service() for servlet [springMvc] threw exception\r\njava.lang.NullPointerException: person\r\n\u00a0 \u00a0 \u00a0 \u00a0 at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:895)\r\n\u00a0 \u00a0 \u00a0 \u00a0 at com.atlassian.stash.internal.avatar.ConfigurableAvatarService.getUrlForPerson(ConfigurableAvatarService.java:201)\r\n\u00a0 \u00a0 \u00a0 \u00a0 at jdk.internal.reflect.GeneratedMethodAccessor824.invoke(Unknown Source)\r\n\u00a0 \u00a0 \u00a0 \u00a0 at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\u00a0 \u00a0 \u00a0 \u00a0 at jdk.internal.reflect.GeneratedMethodAccessor824.invoke(Unknown Source)\r\n{noformat}\r\nh3. Workaround\r\n\r\nMake sure that when you access a file there is no '/' at the end of the url\r\n\r\n\u00a0",
      "summary": "Accessing a file with a slash on the end of a url gives 500 error"
    }
  },
  {
    "key": "BSERV-11816",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-08T19:26:09.000+0000",
      "created": "2019-06-19T20:27:48.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen migrating from the internal database to an external one, or between external databases, the XML file containing data from Bitbucket Server's tables is written twice. For large database migrations, this can result in non-trivial extra disk usage and, potentially, to the entire restore operation failing because the disk becomes full.\r\n\r\nh3. Steps to Reproduce\r\n # Migrate databases\r\n # Observe that two files are created, {{stash-data.xml}} and {{stash_<numbers>.xml}}, which contain the same contents\r\n\r\nh3. Expected Results\r\n\r\nDatabase data should be unpacked once and then restored directly from the unpacked file, rather than copying that file and restoring from the copy.\r\n\r\nh3. Actual Results\r\n\r\nXML data is unpacked to {{stash-data.xml}}, which is then copied to a temporary file called {{stash_<numbers>.xml}} and the data is restored from the copy.\r\n\r\nIf copying the XML data fills up the disk, an exception similar to the following will be written to {{atlassian-bitbucket.log}} and the restore process will fail:\r\n\r\n{noformat}\r\n2019-06-18 23:24:55,897 WARN  [threadpool:thread-5] jdoe @1TMI4PIx1126x86x0 1fwxwkm 1.1.1.1 \"POST /admin/db/edit HTTP/1.1\" c.a.s.i.m.DefaultMaintenanceTaskMonitor MIGRATION maintenance has failed (Cause: MigrationException: Bitbucket could not be migrated to the new database. Some data may have already been written to the new database leaving it in an inconsistent state. You will need to empty or recreate the new database before trying again.)\r\ncom.atlassian.stash.internal.migration.MigrationException: Bitbucket could not be migrated to the new database. Some data may have already been written to the new database leaving it in an inconsistent state. You will need to empty or recreate the new database before trying again.\r\n    at com.atlassian.stash.internal.maintenance.migration.DatabaseMigrationTask.convertToMigrationException(DatabaseMigrationTask.java:86)\r\n    at com.atlassian.stash.internal.maintenance.migration.DatabaseMigrationTask.run(DatabaseMigrationTask.java:51)\r\n    at com.atlassian.stash.internal.maintenance.DefaultMaintenanceTaskMonitor.run(DefaultMaintenanceTaskMonitor.java:212)\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at com.atlassian.stash.internal.concurrent.DefaultTransferableStateManager$StateTransferringRunnable.run(DefaultTransferableStateManager.java:166)\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n    ... 1 frame trimmed\r\nCaused by: com.atlassian.stash.internal.backup.BackupException: An error occurred while restoring the database\r\n    at com.atlassian.stash.internal.maintenance.restore.DatabaseRestoreStep.run(DatabaseRestoreStep.java:104)\r\n    at com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask$Step.run(CompositeMaintenanceTask.java:130)\r\n    at com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask.run(CompositeMaintenanceTask.java:69)\r\n    at com.atlassian.stash.internal.maintenance.restore.RestorePhase.run(RestorePhase.java:27)\r\n    at com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask$Step.run(CompositeMaintenanceTask.java:130)\r\n    at com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask.run(CompositeMaintenanceTask.java:69)\r\n    at com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask$Step.run(CompositeMaintenanceTask.java:130)\r\n    at com.atlassian.stash.internal.maintenance.CompositeMaintenanceTask.run(CompositeMaintenanceTask.java:69)\r\n    at com.atlassian.stash.internal.maintenance.MaintenanceModePhase.run(MaintenanceModePhase.java:27)\r\n    at com.atlassian.stash.internal.maintenance.migration.BaseMigrationTask.run(BaseMigrationTask.java:68)\r\n    at com.atlassian.stash.internal.maintenance.migration.DatabaseMigrationTask.run(DatabaseMigrationTask.java:49)\r\n    ... 11 common frames omitted\r\nCaused by: com.atlassian.stash.internal.backup.liquibase.LiquibaseDataAccessException: Failed to save the contents of the input stream to a temporary file; nested exception is java.io.IOException: No space left on device\r\n    at com.atlassian.stash.internal.backup.liquibase.DefaultLiquibaseMigrationDao.saveInputToFile(DefaultLiquibaseMigrationDao.java:283)\r\n    at com.atlassian.stash.internal.backup.liquibase.DefaultLiquibaseMigrationDao.restore(DefaultLiquibaseMigrationDao.java:178)\r\n    at com.atlassian.stash.internal.maintenance.restore.DatabaseRestoreStep.run(DatabaseRestoreStep.java:102)\r\n    ... 21 common frames omitted\r\nCaused by: java.io.IOException: No space left on device\r\n    at java.io.FileOutputStream.writeBytes(Native Method)\r\n    at java.io.FileOutputStream.write(FileOutputStream.java:326)\r\n    at com.google.common.io.ByteStreams.copy(ByteStreams.java:74)\r\n    at com.atlassian.stash.internal.backup.liquibase.DefaultLiquibaseMigrationDao.saveInputToFile(DefaultLiquibaseMigrationDao.java:280)\r\n    ... 23 common frames omitted\r\n{noformat}\r\n\r\nh3. Workaround\r\n\r\nThere are no workarounds for this behavior; it's hard-coded in how the restore processing for database migration runs.",
      "summary": "Migrating to a new database writes XML data twice"
    }
  },
  {
    "key": "BSERV-11815",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-19T23:30:07.000+0000",
      "created": "2019-06-19T05:01:14.000+0000",
      "description": "h3. Problem Definition\r\nCommit hash in \"Source\" page doesn't point merge commit\r\n\r\n # Set the merge strategy to \"Merge commit--no-ff\" \r\n # Set up a sample repository ending up with merge commit as below. The final fix is *49766c2c513*\r\n !Screen_Shot_2019-06-19_at_13_24_06.jpg|thumbnail! \r\n # Then visit \"Source\" view. The content is the one of *49766c2c513* but link points *f2b29135ddf*\r\n !Screen_Shot_2019-06-19_at_13_23_38.jpg|thumbnail! \r\n\r\nh3. Suggested Solution\r\nLink should point *49766c2c513* i.e. merge commit\r\nh3. Why this is important\r\nBecause it can be confusing. Linked commit can be different from the content in source view. \r\n\r\nh3. Workaround\r\nMerge with Squash strategy. \r\n",
      "summary": "Commit hash in \"Source\" page should point merge commit"
    }
  },
  {
    "key": "BSERV-11814",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2020-05-19T00:49:00.000+0000",
      "created": "2019-06-18T12:27:32.000+0000",
      "description": "h3. Issue Summary\r\nThe incremental synchronization is failing when there are duplication between two groups in LDAP output or when the group name from LDAP matches exactly the name of the local group.\r\n\r\nh3. Steps to Reproduce\r\nSee bugs from crowd:\r\n* CWD-5323\r\n* CWD-5308\r\nh3. Expected Results\r\nThe incremental synchronization finished successfully. \r\nh3. Actual Results\r\n\r\nThe below exception is thrown in the atlassian-bitbucket.log file:\r\n{noformat} ERROR [Caesium-1-1] c.a.c.d.DbCachingRemoteDirectory Incremental synchronisation for directory [ xxxxxxx ] was unexpectedly interrupted, falling back to a full synchronisation\r\ncom.atlassian.crowd.directory.ldap.cache.UsnChangedCacheRefresherIncSyncException: Problems while looking up users by objectGUID in ActiveDirectory detected, falling back to a full sync.\r\nat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.lambda$synchroniseGroupChanges$4(UsnChangedCacheRefresher.java:451)\r\nat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\nat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\nat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\nat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\nat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\nat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.synchroniseGroupChanges(UsnChangedCacheRefresher.java:458)\r\nat com.atlassian.crowd.directory.synchronisation.cache.UsnChangedCacheRefresher.synchroniseChanges(UsnChangedCacheRefresher.java:111)\r\nat com.atlassian.crowd.directory.DbCachingRemoteDirectory.synchroniseCache(DbCachingRemoteDirectory.java:1006)\r\nat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.lambda$synchronise$0(DirectorySynchroniserImpl.java:80)\r\nat com.atlassian.crowd.audit.NoOpAuditLogContext.withAuditLogSource(NoOpAuditLogContext.java:17)\r\nat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.synchronise(DirectorySynchroniserImpl.java:78)\r\nat com.atlassian.crowd.directory.DbCachingDirectoryPoller.pollChanges(DbCachingDirectoryPoller.java:45)\r\nat com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerJobRunner.runJob(DirectoryPollerJobRunner.java:92)\r\nat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:134)\r\nat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:106)\r\nat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:90)\r\nat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.launchJob(CaesiumSchedulerService.java:435)\r\nat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJob(CaesiumSchedulerService.java:430)\r\nat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJobWithRecoveryGuard(CaesiumSchedulerService.java:454)\r\nat com.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeQueuedJob(CaesiumSchedulerService.java:382)\r\nat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeJob(SchedulerQueueWorker.java:66)\r\nat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeNextJob(SchedulerQueueWorker.java:60)\r\nat com.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35)\r\nat java.lang.Thread.run(Thread.java:748)\r\n... 11 frames trimmed\r\n{noformat}\r\n\r\n\r\nh3. Workaround\r\nThe only available workaround is to remove the duplication.\r\nThe duplication can be removed also by changing the Group Name Attribute in settings to non-duplicated one (cn to sAMAccountName for example).",
      "summary": "Incremental synchronization is failing with duplicated groups"
    }
  },
  {
    "key": "BSERV-11813",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-18T08:32:44.000+0000",
      "description": "We comparing two large files using a Pull Requests 'Side-by-side diff' it shows this message:\r\n\r\n_The diff for this file is too large to render_\r\n\r\n_It might be possible to view this diff using unified diff. You can switch to unified diff via the options menu_\r\n\r\nI understand increasing the maximum allowed rows in the workaround however we think it would be beneficial to\u00a0included an option to down the old and new files, similar to the options when viewing binaries files (ie .dlls) within the same screen.\r\n\r\n\u00a0",
      "summary": "Add option to download large files when the diff is too large to render"
    }
  },
  {
    "key": "BSERV-11812",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-17T16:20:01.000+0000",
      "description": "Hi Atlassian,\r\n\r\n\u00a0\r\n\r\nIs it possible to add default groups per project? We have a couple of projects and every time we create a new repository, it copies the global default groups. Having to remove/add every time we add a repository is a little painful.\u00a0\r\n\r\n\u00a0\r\n\r\nThanks for the consideration!",
      "summary": "Default Groups per Project"
    }
  },
  {
    "key": "BSERV-11810",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-15T04:26:53.000+0000",
      "description": "Some REST requests, such as pull request merge, allow a body to be set but do not require it.\r\nThese requests are missing example request documentation in the REST API documentation.\r\n\r\nFor example: https://docs.atlassian.com/bitbucket-server/rest/6.3.2/bitbucket-rest.html#idp265\r\n\r\nThese requests have example representation javadoc in the code:\r\n{code}\r\n     * @request.representation.mediaType application/json\r\n     * @request.representation.example {@link RestPullRequestReopenRequest#REOPEN_REQUEST_EXAMPLE}\r\n{code}\r\nAnd if the {{@OptionalBody}} tag is removed from the request, then the example appears in the html.",
      "summary": "Rest API documentation example is missing when the request contains an @OptionalBody "
    }
  },
  {
    "key": "BSERV-11809",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-13T23:53:52.000+0000",
      "created": "2019-06-13T14:10:35.000+0000",
      "description": "When reading a pull-request or a commit diff, if currently visible file's code diff is longer than viewable area of browser's window, the file name (and path) is not visible. This makes it hard to follow such long diffs and makes the reader have to scroll up and down jumping between code points and filename header and losing context.",
      "summary": "When reading a pull request, currently visible file's name is not visible when diff header is outside of visible area"
    }
  },
  {
    "key": "BSERV-11808",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-13T23:53:26.000+0000",
      "created": "2019-06-13T14:10:17.000+0000",
      "description": "When reading a pull-request or a commit diff, if currently visible file's code diff is longer than viewable area of browser's window, the file name (and path) is not visible. This makes it hard to follow such long diffs and makes the reader have to scroll up and down jumping between code points and filename header and losing context.",
      "summary": "When reading a pull request, currently visible file's name is not visible when diff header is outside of visible area"
    }
  },
  {
    "key": "BSERV-11807",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-12T23:46:59.000+0000",
      "created": "2019-06-12T19:36:48.000+0000",
      "description": "Simply put, when I query the REST API for a list of commits for a repo I have no way of knowing which commits have new/changed comments, or any comments at all for that matter. If I query pull requests there's both a \"comment_count\" field and an \"updated_on\" field which seem to updated immediately on creating or changing a comment on the pull request. Posting a comment also updates the \"updated_on\" field of repositories, so I can somewhat tell when a comment has been posted, but in order to determine where it was posted or see its content I have to hit the comments endpoint for every commit until I find it. Therefore I suggest that the commits endpoint should have the field for comment_count, updated_on, or both added to the information that's returned.",
      "summary": "The commits API should inform as to comments on that commit."
    }
  },
  {
    "key": "BSERV-11806",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-12T13:08:48.000+0000",
      "description": "h3. Problem Definition\r\n\r\nWhen using the endpoint _/rest/api/1.0/repos_ and as an example, adding the parameter _name=repo_, the results provided by the endpoint will be all the existing repositories that start with the word _repo_. \r\n\r\nThis is sometimes not useful when you are trying to search for a single repository with the name _repo_, and any other results may be misleading/unnecessary.\r\n\r\nh3. Suggested Solution\r\n\r\nHave the option to search for exact repository names and not just repositories that start with the text string used in the parameter _name_.",
      "summary": "Improve search of repositories using /rest/api/1.0/repos"
    }
  },
  {
    "key": "BSERV-11805",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-12T09:31:42.000+0000",
      "description": "Code insights is a very important tool for improving code quality.\r\n\r\nUnfortunately, annotations may come unnoticed if side-by-side diff mode is enabled by default, which is the case in our team.\r\n\r\nThe only option to draw attention to annotations would be to fail the build but that's not always desirable.\r\n\r\nPlease make annotations also appear in the side-by-side mode.\r\n\r\nBitBucket itself also could make code insights status more visible to warn about outstanding issues.",
      "summary": "Show code insights annotations in side-by-side diff view"
    }
  },
  {
    "key": "BSERV-11804",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-07-24T03:40:53.000+0000",
      "created": "2019-06-12T06:15:28.000+0000",
      "description": "The {{DefaultPermissionVoterFactory}} caches user permissions as {{PermissionVoters}} using a {{RequestLocalCache}}. Unfortunately, {{RequestLocalCache}} is unbounded. Certain requests may cause a large number of permission objects to be loaded into memory and cached until the request completes.\r\n\r\nThere is certainly reason for keeping the current user's {{PermissionVoter}} around until the request is completed but we may want to limit how many other user objects are kept in cache.\r\n\r\n*Workaround*\r\nIncreasing the maximum Java heap size (-Xmx) may avoid an OutOfMemoryError associated with this problem",
      "summary": "Change DefaultPermissionVoterFactory's cache to avoid OutOfMemoryErrors"
    }
  },
  {
    "key": "BSERV-11803",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-09T04:55:28.000+0000",
      "created": "2019-06-12T00:39:03.000+0000",
      "description": "h3. Steps to reproduce:\r\n * Try to create a branch via REST but don't put in the startPoint field of the body\r\n\r\nh3.\u00a0Expected behaviour:\r\n * Bitbucket returns a 400 with an appropriate error message\r\n\r\nh3.\u00a0Actual behaviour\r\n * Bitbucket returns a 500 with a \"Something wen't wrong\" error message.\r\n\r\nh3. Workaround\r\n * Get the exception from the logs and see what went wrong\r\n\r\nh3. Stack trace:\r\n{code:java}\r\n2019-06-04 15:46:49,944 ERROR [http-nio-8080-exec-382] xxx.xxxxxx @1EEOS97x946x23379045x1 1lg0jtm xx.xx.xx.xx,127.0.0.1 \"POST /rest/api/1.0/projects/<PROJECT_KEY>/repos/<repo-slug>/branches HTTP/1.0\" c.a.s.i.r.e.DefaultUnhandledExceptionMapperHelper Unhandled exception while processing REST request: \"POST /rest/api/1.0/projects/<PROJECT_KEY/repos/<repo_slug>/b\r\nranches HTTP/1.0\"\r\njava.lang.NullPointerException: startPoint\r\n        at java.util.Objects.requireNonNull(Objects.java:228)\r\n        at com.atlassian.bitbucket.util.BuilderSupport.requireNonBlank(BuilderSupport.java:86)\r\n        at com.atlassian.bitbucket.util.BuilderSupport.checkNotBlank(BuilderSupport.java:73)\r\n        at com.atlassian.bitbucket.repository.AbstractCreateRefRequest$AbstractBuilder.<init>(AbstractCreateRefRequest.java:71)\r\n        at com.atlassian.bitbucket.repository.CreateBranchRequest$Builder.<init>(CreateBranchRequest.java:17)\r\n        at com.atlassian.stash.internal.rest.repository.BranchResource.lambda$createBranch$0(BranchResource.java:74)\r\n        at com.atlassian.stash.internal.rest.repository.BranchResource$$Lambda$2604/1211865235.apply(Unknown Source)\r\n        at com.atlassian.stash.internal.rest.repository.AbstractRepositoryRefResource.process(AbstractRepositoryRefResource.java:25)\r\n        at com.atlassian.stash.internal.rest.repository.BranchResource.createBranch(BranchResource.java:73)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24)\r\n        at com.atlassian.analytics.client.filter.UniversalAnalyticsFilter.doFilter(UniversalAnalyticsFilter.java:92)\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.plugin.connect.plugin.auth.scope.ApiScopingFilter.doFilter(ApiScopingFilter.java:81)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.onSuccess(StashAuthenticationFilter.java:219)\r\n        at com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:100)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:112)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75)\r\n        at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:94)\r\n        at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.plugin.connect.plugin.auth.oauth2.DefaultSalAuthenticationFilter.doFilter(DefaultSalAuthenticationFilter.java:69)\r\n        at com.atlassian.plugin.connect.plugin.auth.user.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:109)\r\n        at com.atlassian.jwt.internal.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:32)\r\n       at com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:38)\r\n        at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:39)\r\n        at com.atlassian.stash.internal.spring.lifecycle.LifecycleJohnsonServletFilterModuleContainerFilter.doFilter(LifecycleJohnsonServletFilterModuleContainerFilter.java:42)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:90)\r\n        at com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:73)\r\n        at com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:89)\r\n        at com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n        ... 239 frames trimmed {code}",
      "summary": "Creating a branch via REST with an incorrect body returns a 500 response code"
    }
  },
  {
    "key": "BSERV-11802",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-12T23:32:41.000+0000",
      "created": "2019-06-11T11:46:03.000+0000",
      "description": "Hi Team.\r\n\r\nI need access for Bitbucket and Jira.\r\n\r\nModel Id:cmanog6u\r\n\r\n\u00a0",
      "summary": "Access"
    }
  },
  {
    "key": "BSERV-11800",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-10T05:53:52.000+0000",
      "description": "It would be great if it was possible to view the category and source in the annotations. This can be quite important information and it makes it easier to look up the cause of the warning/error.\r\n\r\nExample:\r\n{code:java}\r\n{\r\n    \"repositoryId\":42,\r\n    \"fileName\":\"test.cpp.cpp\",\r\n    \"lineNumber\":114,\"\r\n    \"message\":\"do not declare C-style arrays, use std::array\\u003c\\u003e instead\",\r\n    \"severity\":\"NORMAL\",\r\n    \"category\":\"cppcoreguidelines-avoid-c-arrays\",\r\n    \"source\":\"Clang-Tidy\"\r\n}\r\n{code}\r\nNow only shows as:\r\n\r\n!image-2019-06-10-07-51-33-589.png!\r\n\r\nThe `cppcoreguidelines-avoid-c-arrays` and `Clang-Tidy` is not possible to view which is not great.",
      "summary": "Show category and source in annotations"
    }
  },
  {
    "key": "BSERV-11799",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-07T19:17:13.000+0000",
      "description": "h3. Issue Summary\r\n\r\nThe [Installing and Upgrading Git|https://confluence.atlassian.com/bitbucketserver/installing-and-upgrading-git-776640906.html] documentation for Windows makes multiple mentions of \"msysGit\". That's the deprecated 1.x name for Git for Windows, and was dropped with the 2.x releases.\r\n\r\nSince all modern Bitbucket Server versions (5.x and 6.x) require Git 2+, they cannot be used with anything that is described as \"msysGit\"; they require Git for Windows. The documentation should be updated to remove references to \"msysGit\" and to consistently refer to Git for Windows instead.\r\n\r\nAdditionally, the page links to git-scm.com/download/win. which immediately starts downloading the latest released version when the page loads. While convenient, that approach is risky because it makes it very likely an administrator will download a version of Git that is _too new_ for their Bitbucket Server version--a risk the page makes almost no mention of. It may be desirable to link to somewhere else, like [https://github.com/git-for-windows/git/releases], which allows the user to _select_ the version to download.\r\n\r\nIt's worth noting that that page still lists incompatible versions for download, whether because they're too old, too new, or prerelease. The \"Install or upgrade Git on Windows\" section of the documentation should probably have a more prominent callout to double-check the supported Git versions for the installed Bitbucket Server version prior to downloading. This is particularly relevant for Windows simply because the downloads available make it so trivial to install an incompatible version of Git.\r\nh3. Environment\r\n\r\nInstalling Bitbucket Server on Windows.\r\nh3. Workaround\r\n\r\nDownload from one of these links, depending on your Bitbucket Server version:\r\n * Bitbucket Server 6.3+: [Git for Windows 2.21.0|https://github.com/git-for-windows/git/releases/tag/v2.21.0.windows.1]\r\n * Bitbucket Server 6.0-6-2: [Git for Windows 2.20.1|https://github.com/git-for-windows/git/releases/tag/v2.20.1.windows.1]\r\n * Bitbucket Server 5.15-5.16: [Git for Windows 2.19.2|https://github.com/git-for-windows/git/releases/tag/v2.19.2.windows.1]\r\n * Bitbucket Server 4.14: [Git for Windows 2.10.2|https://github.com/git-for-windows/git/releases/tag/v2.10.2.windows.1] ([Git for Windows 2.11.1|https://github.com/git-for-windows/git/releases/tag/v2.11.1.windows.1] can also be used, but is not recommended due to issues with hooks and push quarantining. Git for Windows 2.10.2 is likely to yield a smoother, more consistent experience overall.)\r\n\r\nNote that Bitbucket Server 6.0 requires at least Git for Windows 2.11.0.",
      "summary": "The \"Installing and Upgrading Git\" documentation on Windows is confusing"
    }
  },
  {
    "key": "BSERV-11798",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-07T14:10:52.000+0000",
      "description": "h3. Problem Definition\r\nThe guidelines [Disaster recovery guide for Bitbucket Data Center|https://confluence.atlassian.com/bitbucketserver/disaster-recovery-guide-for-bitbucket-data-center-833940586.html] describe only DR solution for the main cluster in the Data Center installation of Bitbucket however in some cases it could be a good idea to provide the DR solution to the mirror instances.\r\n\r\nh3. Suggested Solution\r\nProvide a guidelines for building DR installations for Smart Mirrors taking into account that the DB and the filesystem should be shared between the Active/Passive nodes.",
      "summary": "Provide disaster recovery guide for Bitbucket Smart mirrors"
    }
  },
  {
    "key": "BSERV-11797",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-07T08:33:31.000+0000",
      "description": "Currently every user in Bitbucket has the ability to choose if he wants to get notifications directly or in batch if there is activity on a pull request.\r\n\r\nIt would be super cool if you had the ability to choose \"no notifications\" too.\r\n\r\nBamboo already has the feature to disable email notifications, that's why it would be good to be able to disable email notifications in Bitbucket too.",
      "summary": "Add ability to disable e-mail"
    }
  },
  {
    "key": "BSERV-11796",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-08-14T01:39:13.000+0000",
      "created": "2019-06-06T04:53:29.000+0000",
      "description": "h3. Issue Summary\r\n\r\nImporting repositories from Bitbucket Cloud / Github fails on Bitbucket Server running on Java 11. Additionally, it causes abnormal CPU utilization on the server and queues up additional import requests.\r\nh3. Environment\r\n\r\nJava 11 (Even the latest version, `11.0.3`)\r\n{code:bash}\r\n$java -version\r\nopenjdk version \"11.0.3\" 2019-04-16\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.3+7)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.3+7, mixed mode)\r\n{code}\r\nh3. Steps to Reproduce\r\n # Use Java 11 JRE to run bitbucket server (any version >= 6.0)\r\n # Try to import a repository from github/bitbucket cloud\r\n\r\nh3. Expected Results\r\n\r\nNo errors are found in the server logs and the UI\r\nh3. Actual Results\r\n\r\nIn the server logs,\r\n{noformat}\r\n2019-06-06 14:38:51,984 WARN  [http-nio-7990-exec-2] admin @1BEE1W4x878x6x0 ovgau 0:0:0:0:0:0:0:1 \"POST /rest/importer/latest/external-source/owners HTTP/1.1\" c.a.b.i.i.r.ExternalRepositoryResource Error making external request: Request to the external repository source failed with error: 'peer not authenticated'\r\n{noformat}\r\nAttaching the screenshot of what happens on the UI.\r\n\r\nAdditionally, subsequent import requests start getting queued on the server and they get timed out on the UI (504- Gateway error). Also, on the server side, cpu utilization goes to crazy high levels and never comes down till the app is restarted.\r\nh3. Workaround\r\n\r\n1) Run Bitbucket Server with Java 8; or\r\n2) Run Bitbucket Server with Java 11.0.8 or later; or\r\n2) The issue is observed with Java 11 that uses TLS v3. Using TLS v2 works fine and doesn't cause this issue. This can be done by setting the following JVM parameter: {{-Dhttps.protocols=TLSv1.2}} while starting bitbucket server up.\r\nh3. Note\r\n\r\nThis might also effect other functionalities of the app that use the {{HttpClient}} , most notably webhooks and some third party apps.",
      "summary": "Failure while importing repositories when running on Java 11 "
    }
  },
  {
    "key": "BSERV-11795",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-05T16:05:12.000+0000",
      "description": "In Bitbucket 5.16.2 - 6.2.3 (only versions tested) the following markdown is not rendered properly:\r\n\r\n{code}\r\n<!-- @import \"[TOC]\" {cmd=\"toc\" depthFrom=2 depthTo=6 orderedList=false} -->\r\n\r\n`features/steps/steps.py`\r\n```python\r\nfrom testplan_bdd.step_registry import Given, When, Then\r\n\r\n@Given('we have two number: {a} and {b}')\r\ndef step_definition(env, result, context, a, b):\r\n    context.numbers = (int(a), int(b))\r\n\r\n\r\n@When('we sum the numbers')\r\ndef step_definition(env, result, context):\r\n    context.result = sum(context.numbers)\r\n\r\n@Then('the result is: {expected}')\r\ndef step_definition(env, result, context, expected):\r\n    result.equal(int(expected))(context.result)\r\n```\r\n{code}\r\n\r\nThe decorators in this python code excerpt are shifted down.  @Given is changed to @import, @When becomes @Given & @Then becomes @When.  Only the decorators are changed however, the rest of the line remains the same.\r\n\r\nIf you remove the line {{<!-- @import \"[TOC]\" {\\cmd=\"toc\" depthFrom=2 depthTo=6 orderedList=false\\} -->}} then the decorators all display correctly.\r\n\r\nWhen you take this same excerpt to https://spec.commonmark.org/dingus/ it is rendered correctly\r\n\r\nThe {{<!-- @import \"[TOC]\" {\\cmd=\"toc\" depthFrom=2 depthTo=6 orderedList=false\\} -->}} line is added by generated by the Visual Studio Code extension: [Markdown Preview Enhanced|https://shd101wyy.github.io/markdown-preview-enhanced/#/toc]",
      "summary": "Use the latest version of CommonMark for markdown rendering"
    }
  },
  {
    "key": "BSERV-11793",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2019-06-04T13:59:06.000+0000",
      "description": "h3. Problem Definition\r\n\r\nThere may be situations where killing all user sessions may be beneficial, for example, after configuring the integration between Bitbucket and an SSO provider, for example, SAML.\r\n\r\nh3. Suggested Solution\r\n\r\nHave an option in the admin panel to kill all user sessions, and force all users to log out and log in again.",
      "summary": "Add the option to kill all user sessions"
    }
  },
  {
    "key": "BSERV-11792",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/13310",
        "id": "13310",
        "key": "BSERV",
        "name": "Bitbucket Server",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=13310&avatarId=105193",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=13310&avatarId=105193",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=13310&avatarId=105193"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2019-06-17T00:20:50.000+0000",
      "created": "2019-06-03T03:47:34.000+0000",
      "description": "h3. Issue Summary\r\n\r\nWhen Public flag is enabled/disabled for a mirrored repository, it doesn't sync on corresponding mirrors.\r\nh3. Steps to Reproduce\r\n # Setup BbS Mirror and approve it on upstream.\r\n # Create a repository in some project, let's say Project A, and set Public flag as Enabled in Repository Permissions.\r\n # Go to Settings > Mirrors\r\n # Add project A on the mirror.\r\n # Wait until clone dialog in the repository shows mirror in drop-down.\r\n # Go to Repository Permissions and change the public flag to disabled.\r\n # Try cloning the repository using mirror URL as anonymous user.\r\n\r\nh3. Expected Results\r\n\r\nClone should succeed only if you enter valid credentials.\r\nh3. Actual Results\r\n\r\nClone succeeds without asking for credentials.\r\nh3. Notes\r\n\r\nAbove behaviour is observed until full sync job runs on the mirror which runs periodically evert 15 minutes by default(configurable using property\u00a0_{color:#de350b}plugin.mirroring.synchronization.interval{color})_\r\nh3. Workaround\r\n # Wait for full sync to run\r\n # Use REST service _{color:#de350b}/upstreamServers/{color}{color:#de350b}{upstreamId}/synchronization{color}_\u00a0to trigger full sync manually.",
      "summary": "Changing public flag in Repository Permissions does not reflect on mirrors"
    }
  }
]