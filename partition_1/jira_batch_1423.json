[
  {
    "key": "CWD-4410",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-07T15:02:09.000+0000",
      "created": "2015-06-17T07:34:22.000+0000",
      "description": "Crowd is not able to handle nicely the situation where two sets of applications are managed by two Crowd instances, with related SSO domains (.subdomain.mycompany.com and .mycompany.com).\r\n\r\nThis leads to impossible login in the application with the more specific domain when logged in the the other application.\r\n\r\nSince Crowd cannot get Cookie metadata from the browser, the solution would be to mark Crowd token with an instance specific prefix.",
      "summary": "Mark the Crowd tokens with an instance-specific prefix"
    }
  },
  {
    "key": "CWD-4407",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-16T03:10:02.000+0000",
      "created": "2015-06-15T13:02:24.000+0000",
      "description": "We have a situation where two Crowd instances are used by a different set of applications, with SSO activated.\r\n\r\nThe first Crowd uses the SSO domain : .mycompany.com\r\nThe second Crowd uses the SSO domain : .subdomain.mycompany.com\r\n\r\nThe main problem is that when a user logs in successfully in an application controller by the first Crowd instance, a cookie with the .mycompany.com domain is sent to the browser.\r\n\r\nIf the same user tries to log in in an application controller by the second Crowd instance, the .mycompany.com domain cookie is used instead of creating a cookie for the .subdomain.mycompany.com, and so the user cannot login. \r\n\r\nLog in page does not even show an error message, user is just redirected to the login page again and again, without any error message.\r\n\r\nExpected behaviour :\r\n* At least an error message should be displayed, explaining to the user that a cookie is set and prevents his/her login to the application;\r\n* But Crowd should be able to select the cookie to use on a specific-first basis. If two cookies are present, .subdomain.mycompany.com and .mycompany.com, Crowd should select the more specific first. For example, if a user wants to connect to jira.subdomain.mycompany.com, the cookie that Crowd should select is : .subdomain.mycompany.com, and not .mycompany.com.",
      "summary": "Crowd does not select the more specific SSO cookie and does not display any error message during login"
    }
  },
  {
    "key": "CWD-4406",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-16T03:01:11.000+0000",
      "created": "2015-06-15T13:01:07.000+0000",
      "description": "We have a situation where two Crowd instances are used by a different set of applications, with SSO activated.\r\n\r\nThe first Crowd uses the SSO domain : .mycompany.com\r\nThe second Crowd uses the SSO domain : .subdomain.mycompany.com\r\n\r\nThe main problem is that when a user logs in successfully in an application controller by the first Crowd instance, a cookie with the .mycompany.com domain is sent to the browser.\r\n\r\nIf the same user tries to log in in an application controller by the second Crowd instance, the .mycompany.com domain cookie is used instead of creating a cookie for the .subdomain.mycompany.com, and so the user cannot login. \r\n\r\nLog in page does not even show an error message, user is just redirected to the login page again and again, without any error message.\r\n\r\nExpected behaviour :\r\n* At least an error message should be displayed, explaining to the user that a cookie is set and prevents his/her login to the application;\r\n* But Crowd should be able to select the cookie to use on a specific-first basis. If two cookies are present, .subdomain.mycompany.com and .mycompany.com, Crowd should select the more specific first. For example, if a user wants to connect to jira.subdomain.mycompany.com, the cookie that Crowd should select is : .subdomain.mycompany.com, and not .mycompany.com.",
      "summary": "Crowd does not select the more specific SSO cookie and does not display any error message during login"
    }
  },
  {
    "key": "CWD-4405",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-06-10T04:07:22.000+0000",
      "description": "When a user logins in through an application, e.g. JIRA a number of user attributes, e.g. LastLoginDate, NumberOfValideLogins etc,  need to be updated.  Updating these one at a time causes a number of cache invalidations and other lengthy code paths to be triggered. \r\n\r\nBy adding a method to {{CrowdService}} such as \r\n{code}\r\nvoid setUserAttributes(User user, Map<String, Set<String>> attributes) \r\n{code}\r\nwould allow this to be done in one go.\r\n\r\nThis is a simple change as the {{ApplicationService}}, which actually performs the work for {{CrowdService}} always requires attributes be supplied in this form.",
      "summary": "Provide performant method for updating multiple user attributes simultaneously"
    }
  },
  {
    "key": "CWD-4404",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-10T02:57:29.000+0000",
      "created": "2015-06-08T08:11:56.000+0000",
      "description": "I'm planning to integrate hipchat with jira, confluence and stash And make them can single sign on via crowd.\r\n\r\nBut i can't find any documentation of \"hipchat single sign on via crowd\".\r\n\r\nPlease let me know that it's available or not.\r\n",
      "summary": "Does hipchat support Single Sign On using crowd? "
    }
  },
  {
    "key": "CWD-4403",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-04T22:06:51.000+0000",
      "created": "2015-06-04T09:18:22.000+0000",
      "description": "Using Crowd behind an HTTP proxy (nginx) and following the instructions in the how to section https://confluence.atlassian.com/display/CROWDKB/How+to+use+NGINX+to+proxy+requests+for+Crowd\r\nAnd yet Crowd still requires all remote applications to authenticate from 127.0.0.1 not their real address.\r\n\r\nChecking a tcpdump on the loopback interface, port 8085 ( -s0 -A options) shows the headers in the HTTP request :\r\n08:55:20.738452 IP localhost.56225 > localhost.8095: Flags [P.], seq 1:785, ack 1, win 342, options [nop,nop,TS val 361874881 ecr 361874881], length 784\r\nE..D.J@.@..g.............:_..f.....V.9.....\r\n........POST /crowd/services/SecurityServer HTTP/1.0\r\nHost: crowd.secret.net\r\nX-Real-IP: 10.6.2.179\r\nX-Forwarded-For: 10.6.2.179\r\nConnection: close\r\nContent-Length: 478\r\nSOAPAction: \"\"\r\nContent-Type: text/xml; charset=UTF-8\r\nAccept-Encoding: gzip\r\nUser-Agent: Mozilla/5.0 (Crowd Client 2.8.2; XFire Client)\r\n\r\n\r\nIf 127.0.0.1 is not allowed for the application, it cannot login. Adding 127.0.0.1 suddenly allows it to login. So it seems Crowd is ignoring the real-ip and forwarded-for fields.",
      "summary": "Crowd not respecting proxy header fields"
    }
  },
  {
    "key": "CWD-4401",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-06-02T01:43:55.000+0000",
      "description": "Instead of returning that a token is invalid, Crowd throws an StaleStateException when a token is validated (using the REST client's {{validateSSOAuthentication}}) and invalidated (using the REST client's {{invalidateSSOToken}}) in parallel. This has no effect in practise, because the token is still treated as invalid, but it causes exceptions in our logs.\r\n\r\nThe error can be fairly conveniently generated with some minor tweaks to BenchLogins in the crowd-perf repository.\r\n\r\nRelevant Exception:\r\n{noformat}\r\n[INFO] [talledLocalContainer] 2015-06-01 16:48:26,354 http-bio-8095-exec-16 ERROR [common.error.jersey.ThrowableExceptionMapper] Uncaught exception thrown by REST service: Batch update returned unexpected row count from update [\r\n0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n[INFO] [talledLocalContainer] org.springframework.orm.hibernate4.HibernateOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.h\r\nibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:181)\r\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:678)\r\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:560)\r\n[INFO] [talledLocalContainer]   at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)\r\n[INFO] [talledLocalContainer]   at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)\r\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475)\r\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\r\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n[INFO] [talledLocalContainer]   at com.sun.proxy.$Proxy31.validateUserToken(Unknown Source)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.rest.service.controller.TokenController.validateToken(TokenController.java:141)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.rest.service.resource.TokenResource.validateToken(TokenResource.java:178)\r\n[INFO] [talledLocalContainer]   at sun.reflect.GeneratedMethodAccessor268.invoke(Unknown Source)\r\n[INFO] [talledLocalContainer]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[INFO] [talledLocalContainer]   at java.lang.reflect.Method.invoke(Method.java:497)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:234)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:100)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.validation.ValidationInterceptor.intercept(ValidationInterceptor.java:78)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:38)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:132)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:230)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\r\n[INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.rest.filter.RestServiceVersionFilter.doFilter(RestServiceVersionFilter.java:86)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.rest.filter.BasicApplicationAuthenticationFilter.doFilter(BasicApplicationAuthenticationFilter.java:97)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.security.BlockOpenSocialRequestFilter.doFilter(BlockOpenSocialRequestFilter.java:45)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.horde.tenant.TenantServletFilter.doFilter(TenantServletFilter.java:74)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.web.filter.HttpContextFilter.doFilter(HttpContextFilter.java:34)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n[INFO] [talledLocalContainer]   at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n[INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n[INFO] [talledLocalContainer]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n[INFO] [talledLocalContainer]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n[INFO] [talledLocalContainer]   at java.lang.Thread.run(Thread.java:745)\r\n[INFO] [talledLocalContainer] Caused by: org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n[INFO] [talledLocalContainer]   at org.hibernate.jdbc.Expectations$BasicExpectation.checkBatched(Expectations.java:81)\r\n[INFO] [talledLocalContainer]   at org.hibernate.jdbc.Expectations$BasicExpectation.verifyOutcome(Expectations.java:73)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.checkRowCounts(BatchingBatch.java:141)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:118)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:101)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:157)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.getBatch(JdbcCoordinatorImpl.java:196)\r\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3187)\r\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3138)\r\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3468)\r\n[INFO] [talledLocalContainer]   at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:140)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:395)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:387)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:304)\r\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:349)\r\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\r\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1159)\r\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:404)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n[INFO] [talledLocalContainer]   at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175)\r\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:552)\r\n[INFO] [talledLocalContainer]   ... 91 more\r\n[INFO] [talledLocalContainer] Jun 01, 2015 4:48:26 PM com.sun.jersey.spi.container.ContainerResponse mapException\r\n[INFO] [talledLocalContainer] SEVERE: Exception mapper com.atlassian.plugins.rest.common.error.jersey.ThrowableExceptionMapper@68c52d43 for Throwable org.springframework.orm.hibernate4.HibernateOptimisticLockingFailureException:\r\n Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: \r\n0; expected: 1 threw a RuntimeException when attempting to obtain the response\r\n[INFO] [talledLocalContainer] Jun 01, 2015 4:48:26 PM com.sun.jersey.spi.container.ContainerResponse logException\r\n[INFO] [talledLocalContainer] SEVERE: Mapped exception to response: 500 (Internal Server Error)\r\n[INFO] [talledLocalContainer] java.lang.IllegalStateException\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.ThreadLocalHttpContext.getRequest(ThreadLocalHttpContext.java:82)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl$2.invoke(WebApplicationImpl.java:286)\r\n[INFO] [talledLocalContainer]   at com.sun.proxy.$Proxy49.selectVariant(Unknown Source)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.error.jersey.UncaughtExceptionEntity.variantFor(UncaughtExceptionEntity.java:85)\r\n[INFO] [talledLocalContainer]   at com.atlassian.plugins.rest.common.error.jersey.ThrowableExceptionMapper.toResponse(ThrowableExceptionMapper.java:49)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.ContainerResponse.mapException(ContainerResponse.java:463)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.ContainerResponse.mapMappableContainerException(ContainerResponse.java:400)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1446)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\r\n[INFO] [talledLocalContainer]   at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\r\n[INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.rest.filter.RestServiceVersionFilter.doFilter(RestServiceVersionFilter.java:86)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.rest.filter.BasicApplicationAuthenticationFilter.doFilter(BasicApplicationAuthenticationFilter.java:97)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.horde.filters.SysadminPasswordExpiryServletFilter.doFilter(SysadminPasswordExpiryServletFilter.java:51)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.horde.analytics.HttpRequestAnalyticsFilter.doFilter(HttpRequestAnalyticsFilter.java:51)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.security.BlockOpenSocialRequestFilter.doFilter(BlockOpenSocialRequestFilter.java:45)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.horde.tenant.TenantServletFilter.doFilter(TenantServletFilter.java:74)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at com.atlassian.crowd.plugin.web.filter.HttpContextFilter.doFilter(HttpContextFilter.java:34)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n[INFO] [talledLocalContainer]   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n[INFO] [talledLocalContainer]   at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n[INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n[INFO] [talledLocalContainer]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n[INFO] [talledLocalContainer]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n[INFO] [talledLocalContainer]   at java.lang.Thread.run(Thread.java:745)\r\n{noformat}",
      "summary": "500 error when validating a concurrently invalidated SSO token"
    }
  },
  {
    "key": "CWD-4400",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-01T02:13:44.000+0000",
      "created": "2015-05-31T23:53:56.000+0000",
      "description": "Using Postman ReSTClient.. \r\ni found that the queries for Search (Resource) are all wrong.\r\nI used POST method as written and get the unsupported media type error, but when i changed to GET method i get results.",
      "summary": "I think the documentation for Search Resource is wrong"
    }
  },
  {
    "key": "CWD-4398",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-30T03:27:56.000+0000",
      "created": "2015-05-29T15:45:58.000+0000",
      "description": "h3. Problem Definition\r\n\r\nSometimes we need to end an user session in one of the crowd child applications, however the only option we have is to kill the user session in crowd itself:\r\n\r\nhttps://confluence.atlassian.com/display/CROWD/Managing+a+User's+Session\r\n\r\nh3. Suggested Solution\r\n \r\nImprove the Managing user feature in Crowd so crowd admins can also kill the session of users on the child applications",
      "summary": "Improve the Managing users session feature to end the session of the child applications"
    }
  },
  {
    "key": "CWD-4397",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-29T06:56:03.000+0000",
      "description": "It's a fairly common operation to want all direct and indirect group memberships for a user. This is currently retrievable through a query to {{search(Query)}} with a query like:\r\n\r\n{code}\r\n        Query<String> q = QueryBuilder.queryFor(String.class, EntityDescriptor.group()).parentsOf(EntityDescriptor.user()).withName(\"user\").returningAtMost(EntityQuery.ALL_RESULTS);\r\n{code}\r\n\r\nHowever, as some directories provide a direct implementation of this operation (CWD-2082), making it its own API call makes it easier to optimise.\r\n\r\nAs a suggestion:\r\n\r\n{code}\r\nCrowdService:\r\nIterable<Group> getNestedUserGroups(String username);\r\n\r\nApplicationService:\r\nIterable<Group> getNestedUserGroups(Application application, String username);\r\n{code}\r\n",
      "summary": "Add API to CrowdService and ApplicationService to get all group memberships for a user"
    }
  },
  {
    "key": "CWD-4396",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-29T00:54:17.000+0000",
      "created": "2015-05-29T00:09:01.000+0000",
      "description": "Using Postman ReSTClient(Package App) for testing purposes\r\nAnd tried requesting POST /usernames?email=EMAIL.\r\nthe problem is it was always 404 even though i have users with that email address.\r\nsee my question here: https://answers.atlassian.com/questions/16389568/why-am-i-always-getting-a-error-404-in-crowd-post-usernamesemailemail",
      "summary": "always throw 404 for POST /usernames?email=EMAIL"
    }
  },
  {
    "key": "CWD-4394",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-27T23:01:56.000+0000",
      "created": "2015-05-27T12:44:02.000+0000",
      "description": "h3. Summary\r\nCurrently, any Admin user in Crowd will be able to create a new user. However, this user creation is not logged.\r\n\r\nh3. Expectation\r\nProvide an option to enable information logging when a user is created in Crowd, such as:\r\n* The admin user who created this user\r\n* Which directory this user belongs to\r\n* Other user attributes",
      "summary": "Provide information upon user creation"
    }
  },
  {
    "key": "CWD-4392",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T12:19:56.000+0000",
      "created": "2015-05-26T20:39:15.000+0000",
      "description": "\"Same\" users in different directories in Crowd will be treated as different users for SSO:\r\nhttps://jira.atlassian.com/browse/CWD-1021\r\n\r\nPlease add this information to the Crowd SSO documentation so that customers can expect this behavior. ",
      "summary": "Add to Crowd documentation: Users with the same name in different User Directories cannot be logged in via SSO"
    }
  },
  {
    "key": "CWD-4391",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-26T20:38:05.000+0000",
      "description": "\"Same\" users in different directories in Crowd will be treated as different users for SSO:\r\nhttps://jira.atlassian.com/browse/CWD-1021\r\n\r\nPlease add this information to the Crowd SSO documentation so that customers can expect this behavior. ",
      "summary": "Add to Crowd documentation: Users with the same name in different User Directories cannot be logged in via SSO"
    }
  },
  {
    "key": "CWD-4390",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-26T18:52:39.000+0000",
      "description": "h3. Current Limitation\r\nCurrently there is only a single level of Crowd Administrator, where the administrator can add, remove, and edit *any Application* that is configured in Crowd.\r\n\r\n\r\nh3. Suggestion\r\nIt would be good if there is another level of *Application Administrator* which allows a specific group/user to be able to administer the specific application that is assigned, for example:\r\n# [Mapping a Directory to the Application|https://confluence.atlassian.com/crowd/mapping-a-directory-to-an-application-18579599.html]\r\n# [Specifying which Groups can access to the Application|https://confluence.atlassian.com/crowd/specifying-which-groups-can-access-an-application-25788430.html]\r\n# Modifying the [Automatically Assigned Group|https://confluence.atlassian.com/crowd/automatically-assigning-users-to-groups-194806197.html] options for the application\r\n\r\n\r\n(i) This suggestion was previously closed as a duplicate of CWD-4389 but has been re-opened as the released feature is different than this request.\r\n\r\nh3. Example Use Case\r\n*For example:* When I log into the Admin Console I can change all applications we have defined in Crowd. That makes sense because I'm a full Admin. The option to make an Admin restricted to a specific Crowd Application would be great. e.g. an Admin that could do everything but only for a specific Application.",
      "summary": "Restrict Admin Access to a Specific Application"
    }
  },
  {
    "key": "CWD-4389",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-26T22:54:32.000+0000",
      "created": "2015-05-26T17:39:32.000+0000",
      "description": "There needs to be a way to distribute Group Administration by specifying an admin for a group? This way those admins would have control over adding/removing users from their group without having to be a JIRA/Confluence/Crowd admin. This would be similar to how Jira allows project admins to place users into roles for their project.  The control needs to be with the individuals that maintain the group, not Crowd admins.",
      "summary": "Allow distributed administration of groups"
    }
  },
  {
    "key": "CWD-4388",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-05-06T13:16:08.000+0000",
      "created": "2015-05-26T07:23:48.000+0000",
      "description": "!https://jira.atlassian.com/secure/attachment/162085/Screen%20Shot%202015-05-26%20at%205.21.47%20pm.png!",
      "summary": "Directory Type is blank for Connector directories"
    }
  },
  {
    "key": "CWD-4385",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-16T04:19:34.000+0000",
      "created": "2015-05-22T20:10:37.000+0000",
      "description": "As described on our Crowd documentation download page [here|http://confluence.atlassian.com/display/ALLDOC/Crowd+Documentation+Directory#CrowdDocumentationDirectory-downloads] the latest version that is available for download is *2.6* instead of *2.8*\r\n\r\nVersion *2.7* is not available for download either.\r\n\r\n* [Latest Version of Downloadable Documentation|http://confluence.atlassian.com/display/ALLDOC/Crowd+Documentation+Directory#CrowdDocumentationDirectory-downloads]",
      "summary": "Crowd 2.8 downloadable documentation is not available yet"
    }
  },
  {
    "key": "CWD-4382",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-22T06:25:53.000+0000",
      "created": "2015-05-22T05:36:52.000+0000",
      "description": "I have exceeded the maximum amount of crowd users so in turn get locked out of the Crowd Console.  However, to download the new license key from my.atlassian, it requires the server ID.  How do I obtain this?",
      "summary": "Crowd doesn't provide the server ID in the UI after a console lockout"
    }
  },
  {
    "key": "CWD-4381",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-04-22T09:21:30.000+0000",
      "created": "2015-05-22T01:09:08.000+0000",
      "description": "# Configure a remote Crowd directory and save it (I used our extranet Crowd server, but any remote Crowd dir should do)\r\n# Hit the \"synchronise now\" button\r\n\r\nh2. Observed\r\n\r\n\"Connector\" configuration tab appears for configuring an ldap connector directory. Configuration tab changes to config for an ldap connector directory as well.\r\n\r\nUrl changes from {{viewremotecrowd.action}} to {{viewconnector.action}}.\r\n\r\nh2. Expected\r\n\r\nPage doesn't change.",
      "summary": "Clicking \"Synchronize now\" button when viewing a remote Crowd directory switches to viewing a LDAP connector"
    }
  },
  {
    "key": "CWD-4380",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-22T02:21:50.000+0000",
      "created": "2015-05-22T00:40:50.000+0000",
      "description": "Guava's {{Stopwatch}} loses its constructors in r17. However, the alternative factory methods didn't arrive until r15. Crowd builds with r11 but may need to run against r18, so replace it until a proper upgrade.",
      "summary": "Avoid use of Guava Stopwatch to prevent breaking API in Guava r17"
    }
  },
  {
    "key": "CWD-4379",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-21T08:18:21.000+0000",
      "description": "the LDAP directory has this method:\r\n{code:java}\r\n@Override\r\n    public void storeUserAttributes(final String username, final Map<String, Set<String>> attributes) throws UserNotFoundException, OperationFailedException\r\n    {\r\n        throw new OperationNotSupportedException(\"Custom user attributes are not yet supported for LDAP directories\");\r\n    }\r\n\r\n{code}\r\nThis bubbles up to {{updateUserLastActivity}} in {{TokenAuthenticationManagerImpl}} where it's caught and results in:\r\n{code:java}\r\ncatch (OperationFailedException e)\r\n        {\r\n            //This is indicative of a more serious error so receives a higher priority warning\r\n            logger.error(\"Operation to update last active for user '{}' failed\", username, e);\r\n        }\r\n\r\n{code}\r\nThis problem would be better logged as a warning and without the stack trace.\r\n\r\n*Workaround:*\r\n\r\nRemove the *modify user attributes* permission from your directory configuration. \u00a0If you are using the\u00a0*modify user attributes* functionality, it is possible to suppress the messages in the logs by adding the following to your {{<crowd install>/crowd-webapp/WEB-INF/classes/log4j.properties}}\u00a0file:\u00a0\r\n{code:java}\r\nlog4j.logger.com.atlassian.crowd.manager.token.RecoveryModeAwareTokenAuthenticationManager=FATAL\r\n\r\n\r\n{code}",
      "summary": "Trying to store a custom attribute against an LDAP directory throws an ERROR in the logs"
    }
  },
  {
    "key": "CWD-4378",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-21T07:50:01.000+0000",
      "created": "2015-05-21T06:54:34.000+0000",
      "description": "h1. Steps to reproduce\r\n\r\n# Set up Crowd, skip the mail server configuration\r\n# From the admin console, browse to a user\r\n# Click on \"Reset password\"\r\n\r\nh1. Expected result\r\n\r\nCrowd indicates that it is not possible to send a password reset email because the mail server hasn't been configured yet.\r\n\r\nh1. Actual result\r\n\r\nA green message box claiming \"Update successful\" (??). At the same time, a stracktrace in the logs:\r\n\r\n{noformat}\r\n2015-05-21 16:24:54,779 http-bio-8095-exec-9 INFO [crowd.manager.login.ForgottenLoginManagerImpl] \"berrueta\" in directory \"Support Crowd server\" is being e-mailed a password reset link.\r\n2015-05-21 16:24:54,781 http-bio-8095-exec-9 ERROR [atlassian.event.internal.AsynchronousAbleEventDispatcher] There was an exception thrown trying to dispatch event [com.atlassian.crowd.event.login.RequestResetPasswordEvent@a3a1cb37] from the invoker [SingleParameterMethodListenerInvoker{method=public void com.atlassian.crowd.event.listener.RequestResetPasswordListener.handleEvent(com.atlassian.crowd.event.login.RequestResetPasswordEvent), listener=com.atlassian.crowd.event.listener.RequestResetPasswordListener@6078843f}]\r\njava.lang.RuntimeException: com.atlassian.crowd.manager.property.PropertyManagerException: com.atlassian.crowd.exception.ObjectNotFoundException: Failed to find entity of type [com.atlassian.crowd.model.property.Property] with identifier [mailserver.sender]\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:54)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:48)\r\n\tat com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:253)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher.dispatch(AsynchronousAbleEventDispatcher.java:107)\r\n\tat com.atlassian.event.internal.EventPublisherImpl.invokeListeners(EventPublisherImpl.java:160)\r\n\tat com.atlassian.event.internal.EventPublisherImpl.publish(EventPublisherImpl.java:79)\r\n\tat com.atlassian.crowd.manager.login.ForgottenLoginManagerImpl.emailResetToken(ForgottenLoginManagerImpl.java:293)\r\n\tat com.atlassian.crowd.manager.login.ForgottenLoginManagerImpl.sendResetLink(ForgottenLoginManagerImpl.java:272)\r\n\tat com.atlassian.crowd.manager.login.ForgottenLoginManagerImpl.sendResetLink(ForgottenLoginManagerImpl.java:146)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy52.sendResetLink(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy76.sendResetLink(Unknown Source)\r\n\tat com.atlassian.crowd.console.action.principal.ResetPassword.doUpdate(ResetPassword.java:42)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:891)\r\n\tat ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1293)\r\n\tat ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:117)\r\n\tat com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:108)\r\n\tat ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1369)\r\n\tat ognl.ASTMethod.getValueBody(ASTMethod.java:90)\r\n\tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\tat ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\tat ognl.Ognl.getValue(Ognl.java:494)\r\n\tat ognl.Ognl.getValue(Ognl.java:458)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil$2.execute(OgnlUtil.java:309)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecute(OgnlUtil.java:340)\r\n\tat com.opensymphony.xwork2.ognl.OgnlUtil.getValue(OgnlUtil.java:307)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:428)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:287)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:250)\r\n\tat com.atlassian.crowd.xwork.interceptors.XsrfTokenInterceptor.intercept(XsrfTokenInterceptor.java:99)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat com.atlassian.crowd.xwork.interceptors.SafeParametersInterceptor.intercept(SafeParametersInterceptor.java:57)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat com.atlassian.crowd.xwork.interceptors.TransactionalInvocation.invokeAndHandleExceptions(TransactionalInvocation.java:70)\r\n\tat com.atlassian.crowd.xwork.interceptors.TransactionalInvocation.invokeInTransaction(TransactionalInvocation.java:56)\r\n\tat com.atlassian.crowd.xwork.interceptors.XWorkTransactionInterceptor.intercept(XWorkTransactionInterceptor.java:55)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)\r\n\tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)\r\n\tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:81)\r\n\tat org.apache.struts2.dispatcher.ng.filter.StrutsExecuteFilter.doFilter(StrutsExecuteFilter.java:93)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:125)\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:76)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat com.atlassian.crowd.console.filter.CrowdDelegatingFilterProxy.doFilter(CrowdDelegatingFilterProxy.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:91)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.crowd.console.filter.LicenceFilter.doFilterInternal(LicenceFilter.java:59)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat com.atlassian.crowd.console.filter.CrowdDelegatingFilterProxy.doFilter(CrowdDelegatingFilterProxy.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:67)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)\r\n\tat com.atlassian.crowd.console.filter.CrowdOpenSessionInViewFilter.doFilterInternal(CrowdOpenSessionInViewFilter.java:26)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.crowd.plugin.web.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:31)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:82)\r\n\tat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:59)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat com.atlassian.crowd.console.filter.CrowdDelegatingFilterProxy.doFilter(CrowdDelegatingFilterProxy.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.crowd.console.filter.CrowdCachingFilter.doFilter(CrowdCachingFilter.java:29)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.crowd.plugin.web.filter.HttpContextFilter.doFilter(HttpContextFilter.java:34)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.atlassian.crowd.event.EventJobExecutionException: com.atlassian.crowd.manager.property.PropertyManagerException: com.atlassian.crowd.exception.ObjectNotFoundException: Failed to find entity of type [com.atlassian.crowd.model.property.Property] with identifier [mailserver.sender]\r\n\tat com.atlassian.crowd.event.listener.RequestResetPasswordListener.handleEvent(RequestResetPasswordListener.java:32)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:36)\r\n\t... 185 more\r\nCaused by: com.atlassian.crowd.manager.mail.MailSendException: com.atlassian.crowd.manager.property.PropertyManagerException: com.atlassian.crowd.exception.ObjectNotFoundException: Failed to find entity of type [com.atlassian.crowd.model.property.Property] with identifier [mailserver.sender]\r\n\tat com.atlassian.crowd.manager.mail.MailManagerImpl.getSmtpServer(MailManagerImpl.java:146)\r\n\tat com.atlassian.crowd.manager.mail.MailManagerImpl.sendPlainTextEmail(MailManagerImpl.java:75)\r\n\tat com.atlassian.crowd.manager.login.util.ForgottenLoginMailer.mailResetPasswordLink(ForgottenLoginMailer.java:150)\r\n\tat com.atlassian.crowd.event.listener.RequestResetPasswordListener.handleEvent(RequestResetPasswordListener.java:24)\r\n\t... 190 more\r\nCaused by: com.atlassian.crowd.manager.property.PropertyManagerException: com.atlassian.crowd.exception.ObjectNotFoundException: Failed to find entity of type [com.atlassian.crowd.model.property.Property] with identifier [mailserver.sender]\r\n\tat com.atlassian.crowd.manager.property.PropertyManagerGeneric.getSMTPServer(PropertyManagerGeneric.java:169)\r\n\tat sun.reflect.GeneratedMethodAccessor455.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy30.getSMTPServer(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor455.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy34.getSMTPServer(Unknown Source)\r\n\tat com.atlassian.crowd.manager.mail.MailManagerImpl.getSmtpServer(MailManagerImpl.java:142)\r\n\t... 193 more\r\nCaused by: com.atlassian.crowd.exception.ObjectNotFoundException: Failed to find entity of type [com.atlassian.crowd.model.property.Property] with identifier [mailserver.sender]\r\n\tat com.atlassian.crowd.dao.property.PropertyDAOHibernate.find(PropertyDAOHibernate.java:25)\r\n\tat com.atlassian.crowd.manager.property.PropertyManagerGeneric.getPropertyObject(PropertyManagerGeneric.java:563)\r\n\tat com.atlassian.crowd.manager.property.PropertyManagerGeneric.getSMTPServer(PropertyManagerGeneric.java:165)\r\n\t... 216 more\r\n{noformat}",
      "summary": "Stacktrace in the logs when requesting a password reset if the mail server hasn't been set up yet"
    }
  },
  {
    "key": "CWD-4377",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-21T06:21:45.000+0000",
      "description": "h1. Steps to reproduce\r\n\r\n# In the Crowd console, go to the Jive importer screen.\r\n# Enter an invalid JDBC driver.\r\n# Click \"Continue\". \r\n\r\nh1. Expected result\r\n\r\nA helpful error message that informs about the problem and suggests how to solve it.\r\n\r\nh1. Actual result\r\n\r\nSee attached screenshot.\r\n\r\nBy the way, some of the fields should be marked as required.",
      "summary": "Unhelpful error message in the Jive importer screen"
    }
  },
  {
    "key": "CWD-4376",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-20T10:53:53.000+0000",
      "created": "2015-05-21T06:17:40.000+0000",
      "description": "See attached screenshot. Some of the fields are actually required but they are not marked as such.",
      "summary": "In the Atlassian Importer screen, some fields should be marked as required"
    }
  },
  {
    "key": "CWD-4375",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-10-20T10:54:19.000+0000",
      "created": "2015-05-21T06:11:55.000+0000",
      "description": "See attached screenshot. The field is actually required but not marked as such.",
      "summary": "In the CSV import screen, the 'User file' field should be marked as required"
    }
  },
  {
    "key": "CWD-4374",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-21T06:04:39.000+0000",
      "description": "In the application authentication test form (see screenshot), the username field should be required. Currently, if it is left blank, the submission simply does nothing, which is a confusing result for a test (did it succeed? did it fail?).",
      "summary": "In the application authentication test form, the username should be a required field"
    }
  },
  {
    "key": "CWD-4373",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-21T05:55:44.000+0000",
      "description": "h1. Steps to reproduce\r\n\r\n# In the Crowd admin console, select \"Add application\"\r\n# Complete the first step of the wizard\r\n# In the second step (Connection), leave the URL field empty and click the \"Resolve IP Address\" button\r\n\r\nh1. Expected result\r\n\r\nThe URL field is marked as Required. I'd expect a message next to that field.\r\n\r\nh1. Actual result\r\n\r\nThere's an error message \"failed to lookup ip address\" displayed inside the next field. See attached screenshot. Because it appears inside an input box, it is not immediately recognisable as an error message.",
      "summary": "Misplaced error message in Add Application wizard"
    }
  },
  {
    "key": "CWD-4372",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-11-15T13:38:19.000+0000",
      "created": "2015-05-21T05:49:37.000+0000",
      "description": "Most of Crowd's administrative screens display a message box to give feedback after a successful submission of a form.\r\n\r\nTwo screens do not give the same kind of feedback:\r\n* Scheduled backup configuration\r\n* Mail template",
      "summary": "Lack of submission feedback in some administrative screens"
    }
  },
  {
    "key": "CWD-4371",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-21T05:34:34.000+0000",
      "description": "The instructions at https://confluence.atlassian.com/display/CROWD/Configuring+Crowd+to+Work+with+SSL could mostly be included as comments in the existing configuration files and the Crowd README.",
      "summary": "Provide example configurations for SSL setup"
    }
  },
  {
    "key": "CWD-4370",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-21T02:57:10.000+0000",
      "created": "2015-05-21T01:01:56.000+0000",
      "description": "Crowd 2.8 included a prominent warning about CWD-2135, due to the possible impact on group memberships. As this new behaviour has now been established for a while, remove the warning.",
      "summary": "No longer warn about Crowd 2.8's changes to group aggregation"
    }
  },
  {
    "key": "CWD-4369",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-04-26T10:53:24.000+0000",
      "created": "2015-05-21T00:04:09.000+0000",
      "description": "To replicate:\r\n1) Add an application\r\n2) On the `Authorisation` screen, select `Select...` in the `Directory groups` dropdown and click `Add Group`\r\n3) The \"group\" gets added which is wrong because it's not a group\r\n4) Add a second, real group\r\n5) Finish creating the application\r\n6) On the `Groups` tab of the application configuration you can see the \"Select...\" group present, so it was actually added\r\n\r\nExpected behaviour:\r\nCannot add \"Select...\" as a group to new or existing applications",
      "summary": "When adding an application, \"Select...\" can be added as a group"
    }
  },
  {
    "key": "CWD-4368",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-04-22T09:20:22.000+0000",
      "created": "2015-05-20T23:45:37.000+0000",
      "description": "When a user sets an invalid session timeout (say `30a`) on the session configuration page and presses the Update button, the page correctly marks the fields with the message \"The supplied value is invalid.\", however it sets the field value to 0 instead back to the valid value that was present before. Zero as a session timeout is itself invalid adding to the not so nice user experience.\r\n\r\nTo replicate:\r\n1) Install Crowd 2.8.2. and configure it with all the default values\r\n2) Login as admin\r\n3) Go to the Session configuration screen\r\n4) The session timeout should be set to 30\r\n5) Set it to something invalid, e.g. `30a` and press the Update button\r\n6) The page will say that the value was invalid but will also set the value to 0\r\n7) Hit the Update button again\r\n8) The page will respond that 0 is also an invalid value\r\n\r\nExpected behaviour:\r\nInstead of setting the value of the session timeout to 0 after the user entered an invalid value into the field, it should be set to the original valid value (the one shown when the page is loaded).",
      "summary": "Session timeout set to zero (which is invalid) if an invalid session timeout is set on the settings page"
    }
  },
  {
    "key": "CWD-4367",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-20T14:48:39.000+0000",
      "description": "Currently we can only customize the Forgotten password template, and Forgotten username(s) template\r\n\r\nIf will be nice if we could customize the [Warning when Number of Users approaches License|https://confluence.atlassian.com/display/CROWD/Licensing#Licensing-WarningwhenNumberofUsersapproachesLicenseLimit] email as well",
      "summary": "Customize the Warning Email when Number of Users approaches License Limit"
    }
  },
  {
    "key": "CWD-4366",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-20T14:38:51.000+0000",
      "description": "Current, we only can set up one mail server in  crowd.\r\n\r\nIt will be nice we could have the same configuration as confluence, can have multiple mail server and ability to disable it as well\r\n\r\n*Confluence*\r\n!mailserver.PNG|thumbnail!",
      "summary": "Ability to have more then one mail server and ability to disable them "
    }
  },
  {
    "key": "CWD-4365",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-20T07:32:30.000+0000",
      "description": "CWD-3789 filters expired users during synchronisation for cached directories. However, for an uncached directory, the filter isn't used.\r\n\r\nThe same filter should be applied during operations on an uncached directory.",
      "summary": "Filter users by accountExpires in AD for uncached directories"
    }
  },
  {
    "key": "CWD-4364",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-20T08:07:33.000+0000",
      "created": "2015-05-20T07:24:28.000+0000",
      "description": "{{ImmutableApplication.Builder(Application app)}} does not create a copy of the associated objects:\r\n\r\n* Map<String, String> attributes\r\n* DirectoryMappings\r\n* Set<RemoteAddress>\r\n* Set<Webhook>\r\n\r\nThat causes problems when the associated objects are not immutable, specially when they are \"live\" Hibernate entities.",
      "summary": "ImmutableApplication.Builder does not deep-copy associations"
    }
  },
  {
    "key": "CWD-4363",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-06-16T13:04:23.000+0000",
      "created": "2015-05-18T08:04:09.000+0000",
      "description": "Crowd's configuration for a REST client will throw away {{/services}}, on the assumption that it's been given a SOAP URL.\r\n\r\nHowever, the current filter doesn't confirm that the removed string is at the end of the URL, so:\r\n\r\n{quote}\r\nhttp://example.com/services/crowd\r\n{quote}\r\n\r\nwould become: {{http://example.com}}, rather than being left unaffected.\r\n\r\nMake the check more specific, so that it only matches at the end of the string.\r\nFilter should still truncate legacy URLs of {{SecurityServer}}, so that {{http://example.com/services/SecurityServer}} should become {{http://example.com}}.\r\n\r\nTo summarise, the filter should truncate following possible URL suffixes: {{/services\\[/SecurityServer\\]\\[/\\]}}, leaving all other unchanged.\r\n\r\nAs a workaround, add a redundant '{{/services}}' at the end of the URL, which will be removed, but which will leave the rest of the path unaffected:\r\n\r\n{quote}\r\nhttp://example.com/services/crowd/services\r\n{quote}",
      "summary": "Only trim /services from the end of crowd.server.url"
    }
  },
  {
    "key": "CWD-4362",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T12:41:41.000+0000",
      "created": "2015-05-18T04:45:23.000+0000",
      "description": "Creating a user directory with type \"Internal with LDAP Authentication\" will create implicit LDAP filters depending on the actual directory type (e.g. OpenLDAP (Posix)). The user has no chance to change these default filters, as changing directory type (e.g. to OpenLDAP) will not adapt the filters. \r\n\r\nNote that this is different from [JRA-24229|https://jira.atlassian.com/browse/JRA-24229] as there the \"LDAP\" directory type is affected that allows the admin to set filters and the like on his own.",
      "summary": "Directory \"Internal with LDAP Authentication\" creates implicit unchangeable filters."
    }
  },
  {
    "key": "CWD-4360",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-14T22:40:54.000+0000",
      "created": "2015-05-14T12:41:57.000+0000",
      "description": "I'm using Crowd 2.8 to import users from our legacy Jira system into a Crowd internal directory.  The users and groups from Jira are migrated, but the group memberships do not (i.e. the groups in Crowd are empty).  In Crowd's catalina.out I see:\r\n\r\n2015-05-13 15:49:56,244 http-bio-8095-exec-4 INFO [crowd.importer.importers.BaseImporter] Importing 1019 users.\r\n2015-05-13 15:50:02,856 http-bio-8095-exec-4 INFO [crowd.importer.importers.BaseImporter] Importing user-to-group member\r\nships.\r\n2015-05-13 15:50:02,862 http-bio-8095-exec-4 ERROR [crowd.importer.importers.BaseImporter] Could not add memberships for\r\n group 'disaster-planning-committee' as it does not exist in directory with ID: 4096002\r\ncom.atlassian.crowd.exception.GroupNotFoundException: Group <disaster-planning-committee> does not exist\r\n        at com.atlassian.crowd.dao.group.GroupDAOHibernate.findByName(GroupDAOHibernate.java:158)\r\n        at com.atlassian.crowd.dao.group.GroupDAOHibernate.findByName(GroupDAOHibernate.java:46)\r\n        at com.atlassian.crowd.directory.AbstractInternalDirectory.findGroupByName(AbstractInternalDirectory.java:783)\r\n        at com.atlassian.crowd.directory.AbstractInternalDirectory.findGroupByName(AbstractInternalDirectory.java:64)\r\n        at com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.findGroupByName(DirectoryManagerGeneric.java:48\r\n4)\r\n        at com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.addAllUsersToGroup(DirectoryManagerGeneric.java\r\n:1323)\r\n\r\n....\r\n\r\nI see a \"Could not add memberships for group ...\" line for (presumably) every group we've imported.\r\n\r\nOf course, at the end of the import process, I would expect to have all the users and groups and their memberships represented in the Crowd directory.\r\n\r\nMany thanks for allowing us to directly create bugs in your system!",
      "summary": "Unable to import users from Jira"
    }
  },
  {
    "key": "CWD-4359",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-13T11:54:20.000+0000",
      "description": "Currently the thinking is to provide an API that would allow for the following types of queries:\r\n\r\n{code}\r\nQueryBuilder.queryFor(User.class, EntityDescriptor.user()).with(\r\n        Restriction.on(UserTermKeys.USERNAME).startingWith(\"b\")\r\n    ).asCount();\r\n{code}\r\n\r\n{code}\r\nQueryBuilder.queryFor(User.class, EntityDescriptor.user()).childrenOf(EntityDescriptor.group()).withName(\"jira-users\").asCount();\r\n{code}",
      "summary": "Support count operations in the Crowd query language and QueryBuilder"
    }
  },
  {
    "key": "CWD-4357",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-13T04:48:09.000+0000",
      "created": "2015-05-13T00:24:42.000+0000",
      "description": "h3. Steps to reproduce:\r\n* Need an LDAP directory (with some test users and groups) and two crowd servers (A and B)\r\n* Create a Cached Directory in Crowd A pointing to the LDAP directory\r\n* Synchronize Crowd A.\r\n* Create an Application in Crowd A with the LDAP directory in it.\r\n* Create a Remote Crowd directory in Crowd B pointing to the Crowd A Application\r\n* Synchronize Crowd B. It should do a full sync as the first sync.\r\n* Add a group membership to LDAP directory (i.e. add a user to a group).\r\n* Synchronize Crowd A, then Synchronize Crowd B.\r\n* Crowd B should do an incremental sync.\r\n\r\nh3. Expected Result:\r\nIncremental Sync for Crowd B succeeds.\r\n\r\nh3. Actual Result:\r\nIncremental Sync for Crowd B fails with a MembershipAlreadyExistsException.",
      "summary": "Incremental sync fails when adding memberships to an LDAP server via a Remote Crowd"
    }
  },
  {
    "key": "CWD-4356",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-13T07:45:19.000+0000",
      "created": "2015-05-12T18:26:58.000+0000",
      "description": "When an application is configured in Crowd with SSO with a password that includes special characters such as \\, the application authentication will fail. So far I've tested and confirmed that the characters {{!@#$%&*()}} do not seem to break the application authentication, however, using them may result in the behavior described in https://jira.atlassian.com/browse/CWD-4243\r\n\r\nThe Crowd logs contain the following during the failed authentication:\r\n\r\n{code}2015-05-12 12:57:42,956 http-bio-8095-exec-25 INFO [plugin.rest.filter.BasicApplicationAuthenticationFilter] Invalid authentication for application with name 'jira641'{code}\r\n\r\n*Steps to Reproduce:*\r\n# Setup Crowd with SSO enabled\r\n# Setup JIRA to use Crowd (with SSO enabled). Use an application password like {{pass\\word}}\r\n# Attempt to log into JIRA and observe login failure\r\n",
      "summary": "Special Characters in application password will break SSO authentication"
    }
  },
  {
    "key": "CWD-4355",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-15T00:16:21.000+0000",
      "created": "2015-05-12T07:34:43.000+0000",
      "description": "Upgrade commons-httpclient to version {{3.1-atlassian-2}} to gain SNI support and to fix CVE-2012-5783 & CVE-2014-3577.",
      "summary": "Update the version of commons-httpclient to address CVE-2012-5783 & CVE-2014-3577 and gain SNI support"
    }
  },
  {
    "key": "CWD-4353",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-11T20:42:40.000+0000",
      "description": "It would be great to have the detail of which application a user tried to log in when they failed. For example, the current log entry is like:\r\n{code}\r\n2015-05-11 17:37:21,133 http-bio-8095-exec-15 INFO [atlassian.crowd.directory.InternalDirectory] crowduser: Maximum allowed invalid password attempts has been reached.\r\n{code}\r\nBut The logs do not say in which application the user tried to log into.\r\n\r\nThe *workaround* for this would be to check the logs of each application to find out.",
      "summary": "Application audit log for user login attempts"
    }
  },
  {
    "key": "CWD-4351",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-31T11:05:09.000+0000",
      "created": "2015-05-08T17:22:48.000+0000",
      "description": "h3. Summary\r\nSystem error occurs when deleting Crowd Internal Directory that was set up during install when logged in as System Administrator defined in other directory. \r\n\r\nh3. Environment\r\n* Crowd 2.8.0 connected to Apache Directory Server 1.5.X \r\n* java version \"1.8.0_45\"\r\n\r\nh3. Steps to Reproduce\r\n# Log in as a user with System Administrator permissions.\r\n# Navigate to directories by clicking on Directories tab.\r\n# View the directory that has type \"Crowd Internal Directory\" and remove checkmark from Active field\r\n# Remove directory by clicking on Remove directory on the side bar.\r\n# Press Continue to remove the directory. \r\n\r\nh3. Expected Results\r\nCrowd Internal Directory would be deleted from the directories of Crowd.\r\n\r\nh3. Actual Results\r\nSystem error is seen in the browser.\r\n\r\nThe below exception is thrown in the atlassian-crowd.log file:\r\n{code}\r\n2015-05-08 12:04:46,447 http-bio-8095-exec-17 WARN [engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 23503\r\n2015-05-08 12:04:46,447 http-bio-8095-exec-17 ERROR [engine.jdbc.spi.SqlExceptionHelper] Batch entry 0 delete from cwd_app_dir_group_mapping where id=262145 was aborted.  Call getNextException to see the cause.\r\n2015-05-08 12:04:46,447 http-bio-8095-exec-17 WARN [engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 23503\r\n2015-05-08 12:04:46,447 http-bio-8095-exec-17 ERROR [engine.jdbc.spi.SqlExceptionHelper] ERROR: update or delete on table \"cwd_app_dir_group_mapping\" violates foreign key constraint \"fk_permission_group\" on table \"cwd_granted_perm\"\r\n  Detail: Key (id)=(262145) is still referenced from table \"cwd_granted_perm\".\r\n2015-05-08 12:04:46,447 http-bio-8095-exec-17 ERROR [jdbc.batch.internal.BatchingBatch] HHH000315: Exception executing batch [could not perform addBatch]\r\n2015-05-08 12:04:46,447 http-bio-8095-exec-17 INFO [crowd.xwork.interceptors.TransactionalInvocation] Invoking rollback for transaction on action '/console/secure/directory/remove.action (RemoveDirectory.default())' due to throwable: org.springframework.dao.DataIntegrityViolationException: could not perform addBatch; SQL [delete from cwd_app_dir_group_mapping where id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\norg.springframework.dao.DataIntegrityViolationException: could not perform addBatch; SQL [delete from cwd_app_dir_group_mapping where id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\n\tat org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:138)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:678)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:560)\r\n...\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:129)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124)\r\nCaused by: java.sql.BatchUpdateException: Batch entry 0 delete from cwd_app_dir_group_mapping where id=262145 was aborted.  Call getNextException to see the cause.\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Statement$BatchResultHandler.handleError(AbstractJdbc2Statement.java:2746)\r\n...\r\n2015-05-08 12:04:46,449 http-bio-8095-exec-17 ERROR [crowd.xwork.interceptors.TransactionalInvocation] Action /console/secure/directory/remove.action (RemoveDirectory.default()) is already completed and can not be committed again.\r\n2015-05-08 12:04:46,449 http-bio-8095-exec-17 ERROR [[Catalina].[localhost].[/crowd].[default]] Servlet.service() for servlet [default] in context with path [/crowd] threw exception [org.springframework.dao.DataIntegrityViolationException: could not perform addBatch; SQL [delete from cwd_app_dir_group_mapping where id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not perform addBatch] with root cause\r\njava.sql.BatchUpdateException: Batch entry 0 delete from cwd_app_dir_group_mapping where id=262145 was aborted.  Call getNextException to see the cause.\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Statement$BatchResultHandler.handleError(AbstractJdbc2Statement.java:2746)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1887)\r\n...\r\n2015-05-08 12:04:46,450 http-bio-8095-exec-17 ERROR [500ErrorPage] Exception caught in 500 page could not perform addBatch; SQL [delete from cwd_app_dir_group_mapping where id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\norg.springframework.dao.DataIntegrityViolationException: could not perform addBatch; SQL [delete from cwd_app_dir_group_mapping where id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\n\tat org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:138)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:678)\r\n...\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:129)\r\n...\r\nCaused by: java.sql.BatchUpdateException: Batch entry 0 delete from cwd_app_dir_group_mapping where id=262145 was aborted.  Call getNextException to see the cause.\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Statement$BatchResultHandler.handleError(AbstractJdbc2Statement.java:2746)\r\n...\r\n{code}\r\n \r\nh3. Notes\r\nAttached pdf of System error seen in the browser.\r\nAlso tested in Crowd 2.8.2",
      "summary": "System error when deleting inactive Crowd Internal Directory"
    }
  },
  {
    "key": "CWD-4348",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-07T09:13:50.000+0000",
      "description": "Embedded Crowd will try an sync a user from a LDAP or Crowd directory when it tries to login. This means that it is:\r\n\r\n# Possible to login before a full directory sync.\r\n# Possible for the right groups to be checked at login.\r\n\r\nThis can mean that we create users and/or groups or change the membership of groups. However, we don't actually fire {{GroupCreateEvent}}, {{UserCreatedEvent}}, {{GroupMembershipCreatedEvent}}, {{GroupMembershipDeletedEvent}} when we perform these changes. In JIRA we need these events so that we can clear caches that count user limits and caches for permissions.\r\n\r\nThis is not a problem in the 'Delegated LDAP' directory where {{AutoGroupCreatedEvent}}, {{AutoGroupMembershipCreatedEvent}}, {{AutoGroupMembershipDeletedEvent}} events are fired as relevant.",
      "summary": "Crowd does not fire 'Group|UserCreated' nor 'GroupMembersipCreated' events syncing users at login"
    }
  },
  {
    "key": "CWD-4346",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T12:49:25.000+0000",
      "created": "2015-05-07T01:59:37.000+0000",
      "description": "*Scenario:*\r\n* There are two directories, one mapped to an uncached LDAP server.\r\n* There is a user in the LDAP directory, and a group membership for that user. However, the user is outside of the scope for the LDAP connector, even though the group is not.\r\n**  i.e. LDAP believes there is a user, a group, and a membership, but Crowd sees a group and a membership but no user.\r\n* That username exists in the other directory, but there is no group nor a membership for that user.\r\n* When checking each directory individually, the membership (correctly) does not appear\r\n\r\n*Result*\r\nWhen doing a sync from a remote Crowd with an application containing both directories, the user (correctly) appears, and the membership (incorrectly) also appears.\r\n\r\n*Expected Result*\r\nUser appears, but membership does not.",
      "summary": "Group membership in an uncached directory should not apply to users not in that directory"
    }
  },
  {
    "key": "CWD-4345",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-07T01:57:55.000+0000",
      "created": "2015-05-07T01:44:32.000+0000",
      "description": "Currently, if LDAP contains multiple groups with the same name, then both groups are rejected, which means the group and all the memberships disappear for a cached directory.\r\n\r\nInstead, Crowd should aggregate all groups with the same name so a membership to _any_ of those groups constitutes membership of that group in Crowd.",
      "summary": "Crowd should aggregate multiple groups of the same name in an LDAP directory"
    }
  },
  {
    "key": "CWD-4344",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-06-21T08:16:55.000+0000",
      "created": "2015-05-06T10:44:19.000+0000",
      "description": "Crowd 2.8's /rest/usermanagement/1/group/membership is significantly slower than earlier versions of Crowd, 2.7 and 2.6 . Here is an example between Crowd 2.6.5 and Crowd 2.8.0 with 50000 users, and 1000 groups, and 1000000+ group memberships (this is with flat group memberships only. The problem is compounded with Nested Group memberships):\r\n# Crowd 2.6.5 took 56s to load /rest/usermanagement/1/group/membership\r\n{code}\r\nwget --user crowdperformance --password admin http://localhost:8265/crowd/rest/usermanagement/1/group/membership\r\n--2015-05-06 18:24:19--  http://localhost:8265/crowd/rest/usermanagement/1/group/membership\r\nResolving localhost... 127.0.0.1, ::1\r\nConnecting to localhost|127.0.0.1|:8265... connected.\r\nHTTP request sent, awaiting response... 401 Unauthorized\r\nConnecting to localhost|127.0.0.1|:8265... connected.\r\nHTTP request sent, awaiting response... 200 OK\r\nLength: unspecified [application/xml]\r\nSaving to: `membership.1'\r\n\r\n    [        <=>                            ] 29,348,141   585K/s   in 56s\r\n{code}\r\n# Crowd 2.8.0 took around 8 mins to load /rest/usermanagement/1/group/membership:\r\n{code}\r\nwget --user crowdperformance --password admin http://localhost:8280/crowd/rest/usermanagement/1/group/membership\r\n--2015-05-06 18:15:32--  http://localhost:8280/crowd/rest/usermanagement/1/group/membership\r\nResolving localhost... 127.0.0.1, ::1\r\nConnecting to localhost|127.0.0.1|:8280... connected.\r\nHTTP request sent, awaiting response... 401 Unauthorized\r\nConnecting to localhost|127.0.0.1|:8280... connected.\r\nHTTP request sent, awaiting response... 200 OK\r\nLength: unspecified [application/xml]\r\nSaving to: `membership'\r\n\r\n    [                       <=>             ] 29,348,141   175K/s   in 8m 2s\r\n{code}\r\n\r\nBoth queries return the exact same XML output\r\n\r\nh3.Note\r\nThis is tested with the same exact user base (via CSV import). It is especially evident with a high user-base .",
      "summary": "Significantly Slower Sync to Confluence or JIRA in Crowd 2.8 due to /rest/usermanagement/1/group/membership"
    }
  },
  {
    "key": "CWD-4342",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-07T00:13:12.000+0000",
      "created": "2015-05-04T03:56:23.000+0000",
      "description": "Since CWD-4271, deleting an empty session token results in invalidating all sessions. As this was never an expected value, specifically check for it and fail locally.\r\n\r\nAt the same time, check for cases that are calling this conditionally on having a session token and ensure they don't treat it as something that can be invalidated.",
      "summary": "Don't try to invalidate a session ID of an empty string"
    }
  },
  {
    "key": "CWD-4341",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-03T22:25:00.000+0000",
      "description": "Request for support of [Microsoft Edge Browser|https://www.microsoft.com/en-us/windows/browser-for-doing].\r\n",
      "summary": "Support Microsoft Edge Browser for Crowd"
    }
  },
  {
    "key": "CWD-4340",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-05-01T13:11:29.000+0000",
      "description": "We were hoping to use this solution for Crowd to manage our JIRA groups: https://confluence.atlassian.com/display/CROWD/Automatically+Assigning+Users+to+Groups\r\n\r\nHowever, the comment on that page from Matt Ward notes that this solution only works for the first directory added to the application. The company I work for has an unconventional LDAP configuration due to several company mergers and legacy. Due to issues related to our LDAP, we need to add 4 separate directories to Crowd that are all treated with the same level of service. \r\n\r\nWe want to be able to automatically add users from each of the 4 LDAPs to our JIRA groups automatically.",
      "summary": "Automatically assigning users to groups in multiple directories"
    }
  },
  {
    "key": "CWD-4339",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T12:48:01.000+0000",
      "created": "2015-05-01T09:58:58.000+0000",
      "description": "CWD-4153 improves performance for fetching memberships, but will also return invalid memberships from the underlying LDAP directory. This can result in warnings in the logs of an application synchronising with a remote Crowd directory:\r\n\r\n{noformat}\r\nCould not add the following missing users to group [ group-name ]: user1, user2\r\n{noformat}\r\n\r\nAs a workaround, ensure that any memberships defined in RFC 2307 directories refer to existing users.",
      "summary": "/group/membership includes absent users for uncached LDAP directories"
    }
  },
  {
    "key": "CWD-4338",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-08T00:39:17.000+0000",
      "created": "2015-05-01T05:34:10.000+0000",
      "description": "When setting up Crowd using MySQL (version 5.6.24) and then syncing Crowd 2.8.2 to a remote Crowd instance (e.g. Extranet Crowd), we are seeing {{com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '131399-66649-GROUP_USER' for key 'uk_mem_parent_child_type'}} errors when syncing for the second time (and thereafter).\r\n\r\nWe are not seeing these errors when using a PostgreSQL database.\r\n\r\nMost likely these errors can also happen with certain versions of HSQLDB. We experienced them in Stash (see issue https://sdog.jira.com/browse/LEM-726) which is using version 2.2.4. Crowd 2.8.2 is using an older version (1.8.0.10) and that might be the reason that the error can only be reproduced with mySQL.",
      "summary": "Duplicate entry errors while synchronising with remote Crowd (MySQL, potentially HSQLDB)"
    }
  },
  {
    "key": "CWD-4337",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-01T04:42:17.000+0000",
      "created": "2015-05-01T01:08:05.000+0000",
      "description": "If the remote Crowd server is under {{https}}, the maximum connections per route set {{RestExecutor}} (to 20) is not applied and remains at 2. As a result, only 2 concurrent connections allowed to the external Crowd server.",
      "summary": "RestCrowdClient http.max.connections doesn't take effect when the base URL is under https"
    }
  },
  {
    "key": "CWD-4335",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-01T04:41:56.000+0000",
      "created": "2015-04-30T01:16:54.000+0000",
      "description": "Class com.atlassian.crowd.embedded.impl.ImmutableGroup has broken contract between hashCode and equals method - hashCode is derived from a group name however equals compares case insensitive group name. So hashcode for \"Group1\" and \"group1\" would be different, however they would be equal. It is problematic especially when groups are put into HashSets or are used as keys in HashMaps.  Also com.atlassian.crowd.embedded.api.Group interface specifies that hashCode needs to be case insensitive. ",
      "summary": "ImmutableGroup breaks contract between equals and hashCode"
    }
  },
  {
    "key": "CWD-4334",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-04-29T13:28:37.000+0000",
      "description": "User from AD delegated directory is unable to login to Crowd when \"Aggregate group membership across directories\" is checked and the AD delegated directory \"doesn't allow all to authenticate\".\r\n\r\nh3. Steps to replicate\r\n# User {{tester}} is created in Crowd Internal Directory and belongs to \"crowd-administrators\" group. His password is stored as *admin*\r\n# Create a new \"AD Delegated Directory\" that consists of user {{tester}} and password *123456*\r\n# Ensure that user {{tester}} is synchronised in Crowd database by logging in or creating the user manually\r\n# Go to {{Applications >> crowd >> Directories tab}}\r\n# Add \"AD Delegated Directory\", set it as the first Directory order, set Allow all to authenticate to False\r\n# Check \"Aggregate group memberships across directories\"\r\n# Click Update\r\n# Try to login with username {{tester}} and password *123456*\r\n\r\nh3. Observed Result\r\n- Unable to login with username {{tester}} and password *123456*\r\n- Unable to login with username {{tester}} and password *admin*\r\n\r\nh3. Expected Result\r\nUser should be able to login with {{tester}} and password *123456* with the configuration above. According to the Aggregating membership rule ([documentation|https://confluence.atlassian.com/display/CROWD/Effective+memberships+with+multiple+directories#Effectivemembershipswithmultipledirectories-aggregating]), user {{tester}} and password *123456* should be belong to \"crowd-administrators\" group, then supposedly have the ability to authenticate to Crowd console",
      "summary": "Unable to Aggregate group memberships to Login in Crowd Application With AD Delegated Authentication"
    }
  },
  {
    "key": "CWD-4333",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-04-29T12:43:36.000+0000",
      "description": "CWD-3512 implemented search restrictions on membership queries, this implementation should also be extended to non-caching LDAP directories.\r\n\r\nCurrently if a search restriction is applied on a membership query an IAE is thrown.",
      "summary": "For non-caching LDAP directories support search restrictions on membership queries"
    }
  },
  {
    "key": "CWD-4332",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T12:51:04.000+0000",
      "created": "2015-04-27T06:28:46.000+0000",
      "description": "(I'm working on specific instructions to reproduce this issue)",
      "summary": "Group is created in multiple directories mapped to an application"
    }
  },
  {
    "key": "CWD-4330",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-04-24T00:39:06.000+0000",
      "description": "h2. *Summary of Issue*\r\n\r\nWhen Jira, Confluence, Bitbucket or Bamboo is integrated with Crowd SSO, Crowd can throw deadlock errors in the {{atlassian-crowd.log}}. The user login session associated with the database deadlock is likely to be rejected.\r\n\r\nh2. *Environment*\r\n\r\n* Crowd is on MySQL or Oracle (others may be affected but not verified)\r\n\r\nh2. *How to reproduce*\r\n# Install Confluence 6.15.4 with Crowd Seraph SSO enabled\r\n# In Crowd, create two users in the internal Crowd User Directory and grant them *confluence-users*\r\n# Confirm that you can log into Confluence with the two users above (this should authenticate into Crowd via SSO)\r\n# Now, simulate high load on an authenticated Confluence page using *curl*:\r\n{code}\r\ncurl -s -u <user>:<password> http://localhost:8090/display/DS\r\ncurl -s -u <user>:<password> http://localhost:8090/browsepeople.action\r\n{code}\r\n#* Randomly alternate between *user1:password1* and *user2:password2*\r\n#* In the testing, 100 simultaneous requests were sent to Confluence to simulate high load and higher chance to force the deadlock and the deadlock could always be reproduced within 5 minutes\r\n\r\nh2. *Expected result*\r\n\r\nThere should be no errors in the Crowd log, specifically, deadlock errors in relation to *cwd_user_attribute* table.\r\n\r\n\r\nh2. *Actual result*\r\n\r\n# Tail the {{atlassian-crowd.log}} and it will eventually throw a deadlock error on *cwd_user_attribute*:\r\n{code}\r\n2019-05-14 14:29:30,300 http-nio-6343-exec-30 ERROR [jdbc.batch.internal.BatchingBatch] HHH000315: Exception executing batch [java.sql.BatchUpdateException: Deadlock found when trying to get lock; try restarting transaction], SQL: update cwd_user_attribute set user_id=?, directory_id=?, attribute_name=?, attribute_value=?, attribute_lower_value=?, attribute_numeric_value=? where id=?\r\n2019-05-14 14:29:30,300 http-nio-6343-exec-30 WARN [engine.jdbc.spi.SqlExceptionHelper] SQL Error: 1213, SQLState: 40001\r\n{code}\r\n# With this stack trace:\r\n{code}\r\n2019-05-14 14:29:30,300 http-nio-6343-exec-30 ERROR [engine.jdbc.spi.SqlExceptionHelper] Deadlock found when trying to get lock; try restarting transaction\r\n2019-05-14 14:29:30,307 http-nio-6343-exec-30 ERROR [springframework.transaction.interceptor.TransactionInterceptor] Application exception overridden by commit exception\r\ncom.atlassian.crowd.exception.OperationFailedException: javax.persistence.PersistenceException: org.hibernate.exception.LockAcquisitionException: could not execute batch\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.storeUserAttributes(AbstractInternalDirectory.java:654)\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.userAuthenticated(AbstractInternalDirectory.java:215)\r\n\tat com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.userAuthenticated(DirectoryManagerGeneric.java:288)\r\n...\r\n\tat com.atlassian.crowd.manager.application.ApplicationServiceGeneric.userAuthenticated(ApplicationServiceGeneric.java:2370)\r\n...\r\n\tat com.sun.proxy.$Proxy76.userAuthenticated(Unknown Source)\r\n\tat com.atlassian.crowd.manager.application.AbstractDelegatingApplicationService.userAuthenticated(AbstractDelegatingApplicationService.java:358)\r\n...\r\n\tat com.atlassian.crowd.manager.application.TranslatingApplicationService.userAuthenticated(TranslatingApplicationService.java:335)\r\n...\r\n\tat com.atlassian.crowd.plugin.rest.filter.BasicApplicationAuthenticationFilter.executeOnBehalfOfApplication(BasicApplicationAuthenticationFilter.java:134)\r\n\tat com.atlassian.crowd.plugin.rest.filter.BasicApplicationAuthenticationFilter.doFilter(BasicApplicationAuthenticationFilter.java:105)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58)\r\n...\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.LockAcquisitionException: could not execute batch\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:155)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1441)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1421)\r\n\tat com.atlassian.crowd.util.persistence.hibernate.InternalDirectoryEntityHibernateDao.storeAttributes(InternalDirectoryEntityHibernateDao.java:117)\r\n\tat com.atlassian.crowd.dao.user.UserDAOHibernate.storeAttributes(UserDAOHibernate.java:468)\r\n\tat com.atlassian.crowd.directory.AbstractInternalDirectory.storeUserAttributes(AbstractInternalDirectory.java:652)\r\n\t... 329 more\r\nCaused by: org.hibernate.exception.LockAcquisitionException: could not execute batch\r\n\tat org.hibernate.dialect.MySQLDialect$3.convert(MySQLDialect.java:536)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:121)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:97)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:147)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:206)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:618)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1435)\r\n\t... 333 more\r\nCaused by: java.sql.BatchUpdateException: Deadlock found when trying to get lock; try restarting transaction\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1799)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1271)\r\n\tat com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPreparedStatement.java:1135)\r\n\tat org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:111)\r\n\t... 341 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:383)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2113)\r\n\tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1767)\r\n\t... 344 more\r\n{code}\r\n",
      "summary": "Concurrent calls to store user attributes may cause SQL exception"
    }
  },
  {
    "key": "CWD-4329",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-12T12:54:54.000+0000",
      "created": "2015-04-23T21:59:34.000+0000",
      "description": "It would be great if we could create a new group with the same membership of an existing one.\r\n\r\n*Case scenario:*\r\nLet's say I've got a group called \"GroupA\" with 100 members. Then I want to create another group that contains 80% of the users from _GroupA_. Instead of creating a new group from scratch and add each user, I'd create the new group based on and existing one and remove those users I don't want on the new group.\r\n\r\n*Workaround:*\r\nDescribed on this KB: https://confluence.atlassian.com/display/CROWDKB/How+To+Create+a+Copy+of+a+Group+Membership+to+a+New+Group+in+Crowd",
      "summary": "Option to create a new group with the membership of an existing one"
    }
  },
  {
    "key": "CWD-4328",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-22T03:16:04.000+0000",
      "created": "2015-04-22T07:48:26.000+0000",
      "description": "The GET request to session resource could be eliminated by returning the necessary data in the preceding POST request to session resource.",
      "summary": "Avoid making second request to session resource after validating a session"
    }
  },
  {
    "key": "CWD-4326",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-09-15T04:24:38.000+0000",
      "created": "2015-04-21T12:53:52.000+0000",
      "description": "Please update page [Application Version|https://confluence.atlassian.com/display/Cloud/Application+Versions] to include Crowd info.",
      "summary": "Add Crowd Version on the documentation"
    }
  },
  {
    "key": "CWD-4325",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-21T01:05:52.000+0000",
      "created": "2015-04-20T23:29:12.000+0000",
      "description": "The SSO Domain field in crowd doesn't seem to like new(er) TLDs, the one I'm going for is .systems, and it comes back with \"The supplied domain is invalid.\"",
      "summary": "SSO domain field & new TLDs"
    }
  },
  {
    "key": "CWD-4324",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-04-20T15:57:32.000+0000",
      "description": "*Bug Description*\r\n\r\nAs describe in this [improvement request|https://jira.atlassian.com/browse/CWD-995], Crowd has the ability to retrieve \"Account Disabled\" since version 2.7.0. This however only work for *CONNECTOR* method of integration with Active Directory.\r\n\r\n*DELEGATED* method will not work because Crowd will only retrieve the user information from AD server after a successful authentication. However, it is not possible for a disabled users to authenticate hence its status won't be brought over to Crowd and this user will still be counted as licensed user.\r\n\r\n*How to replicate*\r\n\r\n# Create a new test user in AD\r\n# Create both \"Connector\" and \"Delegated\" directories to the AD\r\n# Synchronise the \"Connector\" directory and login using the user from \"Delegated\" directory\r\n# Both directories will specified the user as \"Active\"\r\n# Disabled the user in AD\r\n# Synchronise the \"Connector\" directory and login using the user from \"Delegated\" directory\r\n\r\n*Expected behaviour*\r\n\r\nUser registered under the \"Connector\" and \"Delegated\" directory will be registered as \"Disabled\"\r\n\r\n*Result*\r\n\r\nOnly user registered under \"Connector\" directory registered as \"Disabled\" and the user from \"Delegated\" directory won't be able to login and still registered as active.",
      "summary": "Crowd unable to retrieve \"Account Disabled\" flag for delegated directories"
    }
  },
  {
    "key": "CWD-4323",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-10-06T01:18:28.000+0000",
      "created": "2015-04-20T06:39:38.000+0000",
      "description": "Hi,\r\n\r\nAt AirFrance/KLM we have many active directories mapped to crowd, and the internal crowd directory.\r\nWe can create a crowd user in a directory or another, depending on the user's \"location\".\r\n\r\nBut, when the user tries to connect, crowd go from a directory to the next one until it finds the username. So if the same username is found in a directory before the good one, the login fails, as the password is not the same...\r\n\r\nFor the moment, we changed the directory order at the application level. That allows the few people who had this issue to connect. But that means another people in another directory might encounter the same issue...\r\n\r\nA workaround for that issue should be to go to the next directory when credentials does not match.\r\n\r\nBest regards.",
      "summary": "A user declared in more than one directory fails to log in when credentials are from a later directory"
    }
  },
  {
    "key": "CWD-4321",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-22T06:42:47.000+0000",
      "created": "2015-04-16T04:40:09.000+0000",
      "description": "Originally raised as ROTP-3376\r\n\r\nWe need to track if a user is changing their email address, and if they are we want to fire an event to track that they changed this field.\r\nWe need this information to help us determine if Purchasing can delay implementing change email in HAMS.\r\n",
      "summary": "Add an analytics event for email address changes"
    }
  },
  {
    "key": "CWD-4320",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-04-15T13:12:35.000+0000",
      "description": "The main issue that this would solve is transaction boundaries. When working in plugins etc. this would be helpful to avoid lazy loading exception from Hibernate.\r\n\r\nSo instead of loading my application using the ApplicationManager using one transaction and then calling the ApplicationService using another transaction and potentially failing because the application fields have not been all eagerly loaded.\r\n\r\nOne would only call the ApplicationService with and ID or a name and only one transaction would be used.",
      "summary": "the ApplicationService interface methods should not take the Application as a parameter but either the application ID or the application name"
    }
  },
  {
    "key": "CWD-4319",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-05-19T06:28:20.000+0000",
      "created": "2015-04-15T12:58:50.000+0000",
      "description": "Creating a new (remote) directory, one can choose to check the _ Enable incremental sync_ option.\r\n\r\nHowever when sync are triggered, whether it's manually (through the UI) or automatically (via the scheduler) incremental sync is always attempted.",
      "summary": "Crowd doesn't acknowledge non-incremental sync when triggering sync"
    }
  },
  {
    "key": "CWD-4318",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-08-08T14:18:40.000+0000",
      "created": "2015-04-13T16:02:22.000+0000",
      "description": "The Crowd start-up scripts should have an option to run in the foreground.\r\n\r\n*Workaround*\r\n{panel}\r\nModify the script under _<crowd-install-directory>/apache-tomcat/bin/startup.sh_, changing the last line from:\r\n{{exec \"$PRGDIR\"/\"$EXECUTABLE\" start \"$@\"}}\r\nTo\r\n{{exec \"$PRGDIR\"/\"$EXECUTABLE\" run \"$@\"}}\r\n\r\nOnce you've done this change, you can now use the ./start-crowd.sh script to start Crowd in foreground.\r\n{panel}",
      "summary": "Allow Crowd startup scripts to run in the foreground"
    }
  },
  {
    "key": "CWD-4317",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-15T01:16:57.000+0000",
      "created": "2015-04-13T05:37:29.000+0000",
      "description": "The addUser method allows for passwords to be already encrypted. However, when the UserEntity is created for such a request (with a PasswordCredential object holding an already encrypted password) it disregards that and instead creates a request that indicates an unencrypted password to Crowd.",
      "summary": "Crowd client library doesn't send requests with already encrypted passwords"
    }
  },
  {
    "key": "CWD-4315",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-24T04:53:58.000+0000",
      "created": "2015-04-10T09:30:22.000+0000",
      "description": "{{RestExecutor.MethodExecutor#andCheckResponse}} tries to execute the service method and then calls {{response.getEntity()}} in a {{finally}} block.\r\n\r\nHowever, if the execution throws an exception (for example, because an HTTP connection could not be made on that port) then {{response}} will still be {{null}}, resulting in an NPE.",
      "summary": "RestExecutor's andCheckResponse throws a NullPointerException when the request doesn't get a response"
    }
  },
  {
    "key": "CWD-4314",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-04-22T09:12:45.000+0000",
      "created": "2015-04-09T09:14:59.000+0000",
      "description": "Specs2 fixes a few issues and adds some new capabilities.",
      "summary": "Upgrade to Specs2 v3.3.1"
    }
  },
  {
    "key": "CWD-4312",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-08T00:57:45.000+0000",
      "created": "2015-04-07T05:26:36.000+0000",
      "description": "FlushCacheService is responsible for clearing eh-cache before each acceptance test and during the Instant On process. It should also clear AtlassianCache.",
      "summary": "FlushCacheService should clear AtlassianCache caches."
    }
  },
  {
    "key": "CWD-4311",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2017-01-18T14:29:21.000+0000",
      "created": "2015-04-02T08:30:06.000+0000",
      "description": "*Steps to reproduce:*\r\n\r\n#  Create a LDAP directory with read and write permission \r\n# Turn on manage user Locally option\r\n# Deactivate any user from the directory\r\n\r\n\r\n*Expected Result*\r\nThe user has been deactivated without error, and the change is not propagated to the backing directory. See https://confluence.atlassian.com/display/CROWD/Deleting+or+Deactivating+a+User.\r\n\r\n*End result:*\r\nError message :\r\n{code}\r\norg.springframework.ldap.NoPermissionException: [LDAP: error code 50 - 00002098: SecErr: DSID-03150BB9, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0]; nested exception is javax.naming.NoPermissionException: [LDAP: error code 50 - 00002098: SecErr: DSID-03150BB9, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0]; remaining name 'SOME USER DN'\r\n{code}\r\n\r\n*Cause:*\r\nI suspect this issue was caused by the Configured Bind DN user have insufficient permission to write on AD, as when you click on update, it will prompt to check user's detail as below:\r\n!crowd.png|thumbnail!\r\n\r\nManaging user locally should not update anything to the LDAP/AD\r\n",
      "summary": "Unable to manage user status locally LDAP: error code 50 - 00002098"
    }
  },
  {
    "key": "CWD-4310",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-11-03T08:32:44.000+0000",
      "created": "2015-04-01T23:55:33.000+0000",
      "description": "\"Follow Referrals\" is on by default for the AD connector, but off by default for other connectors.\r\n\r\nThis option uses the node referral (JNDI lookup java.naming.referral) configuration setting. It is generally needed for Active Directory servers configured without proper DNS, to prevent a 'javax.naming.PartialResultException: Unprocessed Continuation Reference(s)' error.\r\n\r\nHowever, with proper DNS it is often not required, and can cause multiple issues that can be difficult to diagnose.\r\n\r\nIs it possible to turn it off by default, and/or have some more detailed explanation of when it is required in the docs/in product?\r\n\r\nExamples issues this can cause:\r\n* [Confluence PartialResultExceptions|https://confluence.atlassian.com/display/CONFKB/User+Lookups+Fail+With+%27PartialResultExceptions%27+Due+to+Active+Directory+%27Follow+Referrals%27+Configuration]\r\n* [JIRA PartialResultExceptions|https://confluence.atlassian.com/display/JIRAKB/User+Lookups+Fail+With+%27PartialResultExceptions%27+Due+to+Active+Directory+%27follow+referrals%27+Configuration]",
      "summary": "Disable \"Follow Referrals\" in the AD Connector by default"
    }
  },
  {
    "key": "CWD-4309",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-08-09T12:21:28.000+0000",
      "created": "2015-03-31T23:19:48.000+0000",
      "description": "There is no way to avoid the need to catch an OperationFailedException, parse the message to determine that it failed due to an in-progress directory sync, and then loop and wait (indefinitely?) for isSynchronising to return false. \r\n\r\nThis is needed when we want to force an in-thread sync when we know we have made remote changes that we need to wait for.",
      "summary": "Provide a way to wait for an in-progress directory sync"
    }
  },
  {
    "key": "CWD-4308",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-11-25T06:08:47.000+0000",
      "created": "2015-03-31T20:13:08.000+0000",
      "description": "h4. Environment\r\n- Crowd 2.8.0 or 2.7.2\r\n- Stash 3.6.1\r\n- JIRA 6.4.1\r\n\r\nh4. Steps to Reproduce\r\n# Install Crowd.\r\n## Enable internal Crowd user directory\r\n# Create a user in internal directory\r\n# Define an application connector for Stash.\r\n## Allow all to authenticate\r\n# Select \"Enable aliasing\" under Options.\r\n\r\n# Install Stash.\r\n# Create a new User Directory for Crowd. \r\n# Leave the default options.\r\n# Click the button to \"Test\".\r\n# Observe the following error in Stash:{noformat}2015-03-31 15:02:38,496 ERROR [http-nio-7990-exec-2] sysadmin @19ZUVBFx902x5289x0 wszuva 0:0:0:0:0:0:0:1 \"POST /plugins/servlet/embedded-crowd/configure/crowd/ HTTP/1.1\" c.a.c.e.a.ConfigurationController Configuration test failed for user directory: [ Crowd Server], type: [ CROWD ]\r\ncom.atlassian.crowd.exception.runtime.OperationFailedException: Error from Crowd server propagated to here via REST API (check the Crowd server logs for details): The validated object is null\r\n\tat com.atlassian.crowd.embedded.core.CrowdDirectoryServiceImpl.testConnection(CrowdDirectoryServiceImpl.java:78) ~[embedded-crowd-core-2.8.1-m3.jar:na]\r\n\tat com.atlassian.stash.internal.crowd.CustomizedCrowdDirectoryService.testConnection(CustomizedCrowdDirectoryService.java:43) ~[stash-service-impl-3.6.1.jar:na]\r\n\tat com.atlassian.crowd.embedded.admin.ConfigurationController.onSubmit(ConfigurationController.java:95) ~[embedded-crowd-admin-plugin-1.8-m2_1418215264000.jar:na]\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25) [applinks-plugin-4.3.5_1418215264000.jar:na]\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:181) [sitemesh-2.5-atlassian-10.jar:na]\r\n\tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:85) [sitemesh-2.5-atlassian-10.jar:na]\r\n\tat com.atlassian.stash.internal.spring.security.StashAuthenticationFilter.doFilter(StashAuthenticationFilter.java:86) [StashAuthenticationFilter.class:na]\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doInsideSpringSecurityChain(BeforeLoginPluginAuthenticationFilter.java:111) [BeforeLoginPluginAuthenticationFilter.class:na]\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:77) [BeforeLoginPluginAuthenticationFilter.class:na]\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:100) [atlassian-trusted-apps-core-3.0.8.jar:na]\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:79) [atlassian-oauth-service-provider-plugin-1.9.9_1418215264000.jar:na]\r\n\tat com.atlassian.analytics.client.filter.DefaultAnalyticsFilter.doFilter(DefaultAnalyticsFilter.java:32) [analytics-client-3.53_1418215266000.jar:na]\r\n\tat com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32) [analytics-client-3.53_1418215266000.jar:na]\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doBeforeBeforeLoginFilters(BeforeLoginPluginAuthenticationFilter.java:89) [BeforeLoginPluginAuthenticationFilter.class:na]\r\n\tat com.atlassian.stash.internal.web.auth.BeforeLoginPluginAuthenticationFilter.doFilter(BeforeLoginPluginAuthenticationFilter.java:75) [BeforeLoginPluginAuthenticationFilter.class:na]\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:82) [stash-service-impl-3.6.1.jar:na]\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38) [ConfigurableWebFilter.class:na]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_31]\r\n\tat java.lang.Thread.run(Unknown Source) [na:1.8.0_31]\r\n\t... 219 frames trimmed\r\nCaused by: com.atlassian.crowd.exception.OperationFailedException: Error from Crowd server propagated to here via REST API (check the Crowd server logs for details): The validated object is null\r\n\tat com.atlassian.crowd.integration.rest.service.RestCrowdClient.handleCommonExceptions(RestCrowdClient.java:1501) ~[crowd-integration-client-rest-2.8.1-m3.jar:na]\r\n\tat com.atlassian.crowd.integration.rest.service.RestCrowdClient.searchUsers(RestCrowdClient.java:557) ~[crowd-integration-client-rest-2.8.1-m3.jar:na]\r\n\tat com.atlassian.crowd.integration.rest.service.RestCrowdClient.testConnection(RestCrowdClient.java:541) ~[crowd-integration-client-rest-2.8.1-m3.jar:na]\r\n\tat com.atlassian.crowd.directory.RemoteCrowdDirectory.testConnection(RemoteCrowdDirectory.java:834) ~[crowd-remote-2.8.1-m3.jar:na]\r\n\tat com.atlassian.crowd.embedded.core.CrowdDirectoryServiceImpl.testConnection(CrowdDirectoryServiceImpl.java:69) ~[embedded-crowd-core-2.8.1-m3.jar:na]\r\n\t... 19 common frames omitted\r\nCaused by: com.atlassian.crowd.integration.rest.service.CrowdRestException: The validated object is null\r\n\tat com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.throwError(RestExecutor.java:660) ~[crowd-integration-client-rest-2.8.1-m3.jar:na]\r\n\tat com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.andReceive(RestExecutor.java:489) ~[crowd-integration-client-rest-2.8.1-m3.jar:na]\r\n\tat com.atlassian.crowd.integration.rest.service.RestCrowdClient.searchUsers(RestCrowdClient.java:553) ~[crowd-integration-client-rest-2.8.1-m3.jar:na]\r\n\t... 22 common frames omitted{noformat}\r\n# Observe the following error in Crowd:{noformat}2015-03-31 15:02:38,434 http-bio-8095-exec-20 ERROR [common.error.jersey.ThrowableExceptionMapper] Uncaught exception thrown by REST service: The validated object is null\r\njava.lang.NullPointerException: The validated object is null\r\n\tat org.apache.commons.lang3.Validate.notNull(Validate.java:222)\r\n\tat org.apache.commons.lang3.Validate.notNull(Validate.java:203)\r\n\tat com.atlassian.crowd.manager.application.AliasManagerImpl.findUsernameByAlias(AliasManagerImpl.java:35)\r\n\tat sun.reflect.GeneratedMethodAccessor385.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy44.findUsernameByAlias(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor385.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat com.atlassian.spring.interceptors.SpringProfilingInterceptor.invoke(SpringProfilingInterceptor.java:16)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy45.findUsernameByAlias(Unknown Source)\r\n\tat com.atlassian.crowd.manager.application.TranslatingApplicationService.replaceAliasesWithUsernames(TranslatingApplicationService.java:438)\r\n\tat com.atlassian.crowd.manager.application.TranslatingApplicationService.searchUsersInternal(TranslatingApplicationService.java:385)\r\n\tat com.atlassian.crowd.manager.application.TranslatingApplicationService.searchUsers(TranslatingApplicationService.java:179)\r\n\tat sun.reflect.GeneratedMethodAccessor392.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy42.searchUsers(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor392.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:198)\r\n\tat com.sun.proxy.$Proxy43.searchUsers(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor392.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\r\n\tat com.sun.proxy.$Proxy104.searchUsers(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor392.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\r\n\tat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\r\n\tat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\r\n\tat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy241.searchUsers(Unknown Source)\r\n\tat com.atlassian.crowd.plugin.rest.service.controller.SearchController.searchUsers(SearchController.java:160)\r\n\tat com.atlassian.crowd.plugin.rest.service.controller.SearchController.searchUsers(SearchController.java:76)\r\n\tat com.atlassian.crowd.plugin.rest.service.resource.SearchResource.search(SearchResource.java:60)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:234)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:100)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n\tat com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:38)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:132)\r\n\tat com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:230)\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n\tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\r\n\tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n\tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n\tat com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:178)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:795)\r\n\tat com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:73)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat com.atlassian.crowd.console.filter.CrowdDelegatingFilterProxy.doFilter(CrowdDelegatingFilterProxy.java:39)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:40)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.crowd.plugin.rest.filter.SeraphDisablerFilter.doFilter(SeraphDisablerFilter.java:33)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.crowd.plugin.rest.filter.BasicApplicationAuthenticationFilter.doFilter(BasicApplicationAuthenticationFilter.java:108)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)\r\n\tat com.atlassian.crowd.console.filter.CrowdOpenSessionInViewFilter.doFilterInternal(CrowdOpenSessionInViewFilter.java:26)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.crowd.plugin.web.filter.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:31)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n\tat com.atlassian.crowd.plugin.rest.filter.RestServiceVersionFilter.doFilter(RestServiceVersionFilter.java:86)\r\n\tat com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n\tat com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n\tat com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.atlassian.crowd.plugin.web.filter.HttpContextFilter.doFilter(HttpContextFilter.java:34)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source){noformat}\r\n\r\nh4. Workaround\r\nDisable \"Enable aliasing\"",
      "summary": "User Directory test fails with \"The validated object is null\" when \"Enable aliasing\" is selected"
    }
  },
  {
    "key": "CWD-4307",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-03-30T23:04:20.000+0000",
      "description": "For purposes of auditing an active user license count, our customers have requested an easier way to obtain a list of active users per directory who count against the Crowd license. Currently the Crowd interface is able to list the number of users that are counted (in Crowd Admin > License Details) but does not list the actual users. The current process to get this information is very tedious and manual.\r\n\r\nUntil this is implemented, you will need to audit users by examining the directory-application mapping manually:\r\n# Navigate to *Applications*, and click on one of your configured applications\r\n# Click on *Directories* tab in the application configurations to see what user directories are mapped to this application\r\n# If \"Allow all to authenticate\" is set to true, then every active user in that directory will count against the Crowd license\r\n## To check which users are in that directory, go to *Users* in the top bar, and search for all users in that user directory\r\n# If \"Allow all to authenticate\" is set to false, then proceed to *Groups* tab within the application configurations. Every active user who belongs in at least one of these groups will count against the license.\r\n## To check the membership of these groups, go to *Groups* in the top bar, and search for the group in the correct user directory.\r\n## Click on the group, and navigate to *Direct members* to see its group membership\r\n## If there are nested groups, you will need to follow through to those nested groups to see those members\r\n\r\n(!) NOTE: If there are multiple user directories, even if they are configured to point to the _same LDAP_ and contain users that have the same username across the directories, they will be counted multiple times.\r\n\r\nFor example, let's say you have Directory 1 and Directory 2, both configured identically. Directory 1 is mapped to JIRA, and Directory 2 is mapped to Confluence. Both have identical user sets, but because the users exist in separate directories, Crowd treats each directory separately and the same username will be counted twice against the license.",
      "summary": "Add administrative ability to audit specific users that count against the Crowd license"
    }
  },
  {
    "key": "CWD-4306",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-03-30T20:24:27.000+0000",
      "description": "Please, update [Integrating Crowd with Atlassian Bamboo|https://confluence.atlassian.com/display/CROWD/Integrating+Crowd+with+Atlassian+Bamboo#IntegratingCrowdwithAtlassianBamboo-Step2.ConfiguringBambootoTalktoCrowd] documentation as Bamboo v5.8.x does not have \"{{crowd-integration-client-X.X.X.jar}}\" whereas the following instruction is misleading users:\r\n\r\n*2.1 Install the Crowd Client Libraries into Bamboo v5.8.x*\r\n* Remove any existing versions of {{crowd-integration-client-X.X.X.jar}} from your {{BAMBOO/webapp/WEB-INF/lib}} directory.\r\n\r\n{panel:title=ls -l atlassian-bamboo-5.8.1/atlassian-bamboo/WEB-INF/lib/crowd*}\r\n\\-rw\\-r\\-\\-r\\-\\-. 1 root root   68230 Mar 16 23:33 crowd-integration-api-2.7.2.jar\r\n\\-rw\\-r\\-\\-r\\-\\-. 1 root root   38726 Mar 16 23:33 crowd-integration-client-common-2.7.2.jar\r\n\\-rw\\-r\\-\\-r\\-\\-. 1 root root   65599 Mar 16 23:33 crowd-integration-client-rest-2.7.2.jar\r\n\\-rw\\-r\\-\\-r\\-\\-. 1 root root    7276 Mar 16 23:33 crowd-integration-seraph25-2.7.2.jar\r\n{panel}\r\n\r\nIn the same documentation, please update *2.5 (Optional) Enable Single Sign-On* as the authenticator used should be:\r\n{noformat}\r\n<authenticator class=\"com.atlassian.crowd.integration.seraph.v25.BambooAuthenticator\"/>\r\n{noformat}\r\ninstead of:\r\n{noformat}\r\n<authenticator class=\"com.atlassian.crowd.integration.seraph.v22.BambooAuthenticator\"/>\r\n{noformat}\r\nOtherwise, the following will happen:\r\n* [A mutative operation was attempted on RememberMeTokenImpl|https://confluence.atlassian.com/display/BAMKB/A+mutative+operation+was+attempted+on+RememberMeTokenImpl] ",
      "summary": "Documentation: Integrating Crowd with Atlassian Bamboo"
    }
  },
  {
    "key": "CWD-4305",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-25T04:15:44.000+0000",
      "created": "2015-03-30T09:50:19.000+0000",
      "description": "It looks that user creation is not thread safe. From what I've investigated this is most probably caused by ongoing CROWD-JIRA user synchronization.\r\n\r\nTo reproduce this I've used code that:\r\n1. creates users concurrently in JIRA\r\n2. hits the /plugins/servlet/crowdnotify which causes flush of user cache (and this triggers re-synchronization with crowd)\r\n\r\nWhen this sequence is going for some time following exception appears in Crowd code:\r\n{noformat}com.atlassian.crowd.exception.OperationFailedException: Error from Crowd server propagated to here via REST API (check the Crowd server logs for details): com.atlassian.crowd.exception.UserNotFoundException: User <user_m_54> does not exist\r\n  at com.atlassian.crowd.integration.rest.service.RestCrowdClient.handleCommonExceptions(RestCrowdClient.java:1501)\r\n  at com.atlassian.crowd.integration.rest.service.RestCrowdClient.addUser(RestCrowdClient.java:173)\r\n  at com.atlassian.crowd.directory.RemoteCrowdDirectory.addUser(RemoteCrowdDirectory.java:216)\r\n  at com.atlassian.crowd.directory.DbCachingRemoteDirectory.addUser(DbCachingRemoteDirectory.java:509)\r\n  at com.atlassian.crowd.manager.directory.DirectoryManagerGeneric.addUser(DirectoryManagerGeneric.java:321)\r\n  at com.atlassian.crowd.manager.application.ApplicationServiceGeneric.addUser(ApplicationServiceGeneric.java:595)\r\n  at com.atlassian.crowd.embedded.core.CrowdServiceImpl.addUser(CrowdServiceImpl.java:294)\r\n  at com.atlassian.crowd.embedded.core.DelegatingCrowdService.addUser(DelegatingCrowdService.java:85)\r\n  at com.atlassian.crowd.embedded.core.FilteredCrowdServiceImpl.addUser(FilteredCrowdServiceImpl.java:51)\r\n  at com.atlassian.jira.user.util.UserUtilImpl.createUserInDefaultDirectory(UserUtilImpl.java:256)\r\n  at com.atlassian.jira.user.util.UserUtilImpl.createUserInDirectory(UserUtilImpl.java:304)\r\n  at com.atlassian.jira.user.util.UserUtilImpl.createUserNoNotification(UserUtilImpl.java:294)\r\n  at com.atlassian.jira.bc.user.DefaultUserService.createUserNoNotification(DefaultUserService.java:356)\r\n  at sun.reflect.GeneratedMethodAccessor385.invoke(Unknown Source)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  at java.lang.reflect.Method.invoke(Method.java:483)\r\n  at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:134)\r\n  at com.sun.proxy.$Proxy335.createUserNoNotification(Unknown Source)\r\n  at sun.reflect.GeneratedMethodAccessor384.invoke(Unknown Source)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  at java.lang.reflect.Method.invoke(Method.java:483)\r\n  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\r\n  at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\r\n  at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n  at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n  at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n  at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\r\n  at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n  at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n  at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n  at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n  at com.sun.proxy.$Proxy4294.createUserNoNotification(Unknown Source)\r\n  at com.atlassian.jira.rest.v2.issue.UserResource.createUser(UserResource.java:426)\r\n  at sun.reflect.GeneratedMethodAccessor380.invoke(Unknown Source)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  at java.lang.reflect.Method.invoke(Method.java:483)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:234)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:100)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n  at com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:38)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n  at com.atlassian.jira.rest.exception.ExceptionInterceptor.intercept(ExceptionInterceptor.java:59)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n  at com.atlassian.jira.rest.v2.issue.scope.RequestScopeInterceptor.intercept(RequestScopeInterceptor.java:43)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:132)\r\n  at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:230)\r\n  at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n  at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\r\n  at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n  at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n  at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n  at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\r\n  at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\r\n  at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n  at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n  at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n  at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n  at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:178)\r\n  at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:795)\r\n  at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:73)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\r\n  at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.servicedesk.internal.web.RedirectExternalCustomerToPortalFilter.doFilter(RedirectExternalCustomerToPortalFilter.scala:18)\r\n  at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugins.landlord.servlet.TenantHeaderFilter.doFilter(TenantHeaderFilter.java:50)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.mywork.client.filter.ServingRequestsFilter.doFilter(ServingRequestsFilter.java:37)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugins.cors.CorsFilter.doFilter(CorsFilter.java:65)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.studio.core.servlet.filter.AlacarteLicenseEnforcer.doFilter(AlacarteLicenseEnforcer.java:86)\r\n  at com.atlassian.studio.jira.servlet.filter.AlacarteLicenseJiraEnforcer.doFilter(AlacarteLicenseJiraEnforcer.java:130)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:36)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:60)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:92)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:56)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.labs.botkiller.BotKillerFilter.doFilter(BotKillerFilter.java:36)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.web.filters.accesslog.AccessLogFilter.executeRequest(AccessLogFilter.java:107)\r\n  at com.atlassian.jira.web.filters.accesslog.AccessLogFilter.doFilter(AccessLogFilter.java:91)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.security.xsrf.XsrfTokenAdditionRequestFilter.doFilter(XsrfTokenAdditionRequestFilter.java:54)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.web.filters.pagebuilder.PageBuilderFilter.doFilter(PageBuilderFilter.java:90)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.web.filters.CommittedResponseHtmlErrorRecoveryFilter.doFilter(CommittedResponseHtmlErrorRecoveryFilter.java:63)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugin.connect.plugin.scopes.ApiScopingFilter.doFilter(ApiScopingFilter.java:92)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:239)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:100)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:172)\r\n  at com.atlassian.jira.web.filters.JiraLoginFilter.doFilter(JiraLoginFilter.java:70)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:79)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:40)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.bonfire.web.filters.BonfireP3PFilter.doFilter(BonfireP3PFilter.java:57)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:21)\r\n  at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\r\n  at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\r\n  at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\r\n  at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:88)\r\n  at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:59)\r\n  at com.atlassian.jira.web.filters.gzip.JiraGzipFilter.doFilter(JiraGzipFilter.java:56)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugin.connect.plugin.threeleggedauth.ThreeLeggedAuthFilter.doFilter(ThreeLeggedAuthFilter.java:107)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.plugin.connect.plugin.module.oauth.OAuth2LOFilter.doFilter(OAuth2LOFilter.java:82)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.jwt.plugin.servlet.JwtAuthFilter.doFilter(JwtAuthFilter.java:31)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.analytics.client.filter.JiraAnalyticsFilter.doFilter(JiraAnalyticsFilter.java:40)\r\n  at com.atlassian.analytics.client.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:32)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)\r\n  at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)\r\n  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.web.filters.steps.ChainedFilterStepRunner.doFilter(ChainedFilterStepRunner.java:87)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33)\r\n  at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41)\r\n  at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n  at com.atlassian.jira.web.filters.PathMatchingEncodingFilter.doFilter(PathMatchingEncodingFilter.java:45)\r\n  at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.startup.JiraStartupChecklistFilter.doFilter(JiraStartupChecklistFilter.java:79)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.web.filters.MultipartBoundaryCheckFilter.doFilter(MultipartBoundaryCheckFilter.java:41)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at com.atlassian.jira.web.filters.steps.ChainedFilterStepRunner.doFilter(ChainedFilterStepRunner.java:87)\r\n  at com.atlassian.jira.web.filters.JiraFirstFilter.doFilter(JiraFirstFilter.java:61)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\r\n  at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)\r\n  at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)\r\n  at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:776)\r\n  at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:705)\r\n  at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)\r\n  at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\r\n  at java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.atlassian.crowd.integration.rest.service.CrowdRestException: com.atlassian.crowd.exception.UserNotFoundException: User <user_m_54> does not exist\r\n  at com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.throwError(RestExecutor.java:656)\r\n  at com.atlassian.crowd.integration.rest.service.RestExecutor$MethodExecutor.andCheckResponse(RestExecutor.java:561)\r\n  at com.atlassian.crowd.integration.rest.service.RestCrowdClient.addUser(RestCrowdClient.java:167)\r\n  ... 264 more\r\n{noformat}\r\n\r\nNo logs were produced in horde log for that error.",
      "summary": "Crowd fails to create user with 'User <username> does not exist' error."
    }
  },
  {
    "key": "CWD-4304",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-25T04:21:39.000+0000",
      "created": "2015-03-26T17:53:58.000+0000",
      "description": "A new feature would be nice that makes it possible for a user to get the name of a directory in which the user is stired ub,,,,",
      "summary": "Query crowd API for directories a user is in"
    }
  },
  {
    "key": "CWD-4303",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-03-24T09:28:47.000+0000",
      "description": "Setting up a SSO client is a pretty popular use of the Crowd APIs, as evidenced by the activity related to this on Answers:\r\n    https://answers.atlassian.com/questions/272324/answers/2830818\r\n    https://answers.atlassian.com/questions/135917/answers/4033388\r\n\r\nCurrently, you need to be able to hunt down the [Session Rest Resource|https://developer.atlassian.com/display/CROWDDEV/Crowd+REST+Resources#CrowdRESTResources-CrowdSSOTokenResource] to get an understanding of how a client should work.\r\n\r\nIt would be great to have a guide that shows how to get this done.",
      "summary": "Guide for creating SSO clients via the REST API"
    }
  },
  {
    "key": "CWD-4302",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-03-29T23:35:47.000+0000",
      "created": "2015-03-23T07:03:03.000+0000",
      "description": "This test should succeed for a standalone Crowd server currently, but fail for JIRA as a Crowd server.\r\n\r\nIt will live in {{com/atlassian/crowd/acceptance/tests/rest/service/SearchResourceTest.java}}.",
      "summary": "Test that a group search with `expand=group,attributes` returns succesfully"
    }
  },
  {
    "key": "CWD-4301",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-03-25T02:35:12.000+0000",
      "created": "2015-03-23T05:51:50.000+0000",
      "description": "Please provide a short-lived patched version of Embedded Crowd and API clients to work around the issue affecting STASH connecting to JIRA as a Crowd Server. viz: https://jira.atlassian.com/browse/JRA-42566\r\n\r\nStash 3.7 currently ships with Crowd: 2.8.1-m3 .\r\nWe are planning on shipping version 2.8.2-m3 of Crowd with Stash 3.8 \r\n\r\nSince we are planning on rolling this fix out in a dot release of Stash 3.7.x, please provide just the change which will remove the expand=attributes parameter (or similar) to have Stash work with JaaCS.\r\n\r\nFor background, see: https://jira.atlassian.com/browse/STASH-7195",
      "summary": "Don't request `expand=group,attributes` to the /search REST endpoint with `entity-type=group` from the REST client plugin"
    }
  },
  {
    "key": "CWD-4300",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-10T00:51:23.000+0000",
      "created": "2015-03-23T01:33:11.000+0000",
      "description": "RemoteCrowdDirectory.addUser rejects encrypted passwords (including PasswordCredential.NONE) and only accepts unencrypted passwords.\r\n\r\nNow that CWD-3648 has been implemented, we can remove this restriction and allow encrypted passwords too.",
      "summary": "RemoteCrowdDirectory.addUser should support encrypted passwords and PasswordCredential.NONE"
    }
  },
  {
    "key": "CWD-4299",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-04-22T05:41:06.000+0000",
      "created": "2015-03-20T01:00:09.000+0000",
      "description": "Hamcrest 2.0.0.0 includes a number of fixes and decouples Hamcrest from JUnit.",
      "summary": "Upgrade to Hamcrest 2.0.0.0 for testing"
    }
  },
  {
    "key": "CWD-4298",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-03-25T00:27:37.000+0000",
      "created": "2015-03-20T00:09:51.000+0000",
      "description": "Copied from ROTP-2739 as it is in the crowd code base\r\n\r\nWhat happens now:\r\nThere is no password reuse value set, and my password is 'monkey'\r\nI change my password today to 'gorilla'.\r\nTomorrow, the admin sets a password reuse to value '2'.\r\nTomorrow, I change my password to 'monkey' - it will succeed and allow me to set that password.",
      "summary": "Crowd should store all passwords even before \"prevent password reuse\" is enabled"
    }
  },
  {
    "key": "CWD-4297",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-03-19T00:25:00.000+0000",
      "description": "Sometimes a stale connection, which was closed on the LDAP side, but for some reason not removed from the Crowd Connection Pool (for example because of a lost packet), can be used by Crowd. This will cause requests made on this connection to fail or time out. \r\nIn this case an automatic retry on a new connection would be useful.  ",
      "summary": "Retry requests if an LDAP connection fails or times out"
    }
  },
  {
    "key": "CWD-4296",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-03-18T11:02:49.000+0000",
      "description": "h6. The Current Situation:\r\nAs per the guidelines specified by the documentation below, to migrate from embedded database to an external database involves taking an XML backup of Crowd data and a full re-install of Crowd. \r\n* [Migrate to Another Database|https://confluence.atlassian.com/display/CROWD/Migrate+to+Another+Database]\r\n\r\nh6. What would like to be achieved\r\nIt will be nice to have an automatic database migration through a wizard.",
      "summary": "Provide a migration wizard to migrate from an embedded database (HSQLDB) to an external database"
    }
  },
  {
    "key": "CWD-4295",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-25T04:31:23.000+0000",
      "created": "2015-03-17T20:39:18.000+0000",
      "description": "*What:*\r\nWhen creating an Application on Crowd there are two mandatory fields: *URL* and *Remote IP address*\r\n!crowd.JPG|thumbnail!\r\n\r\n*Request:*\r\nBoth fields could become only one to enter the URL *or* IP address. So if the user enters a URL it resolves to the IP and if they enter the IP it's already good.\r\n\r\nIn addition to that, it seems that Crowd does not save the URL, only the IP Address.",
      "summary": "URL and IP fields when creating an application should become only a single field"
    }
  },
  {
    "key": "CWD-4294",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-03-17T06:21:49.000+0000",
      "created": "2015-03-17T04:38:46.000+0000",
      "description": "It needs to take the hostname of the request, remove .internal (and handle any other cases there may be) to get the tenant identifier and set that on a {{ThreadLocal}}.\r\n\r\nImplementing this will involve exploration of the libraries https://bitbucket.org/atlassian/mt and https://bitbucket.org/atlassian/atlassian-tenancy/, and translation of the implementation from the mt library into horde. \r\n\r\nSee: https://sdog.jira.com/browse/LEM-678",
      "summary": "Add tenant setting filter to Horde"
    }
  },
  {
    "key": "CWD-4293",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-25T04:27:58.000+0000",
      "created": "2015-03-17T03:46:36.000+0000",
      "description": "Tested against 2.8.0 downloaded from WAC.\r\n\r\nSteps to reproduce:\r\n* Download and unzip a brand new Crowd standalone\r\n* Follow the installation instructions here: https://confluence.atlassian.com/display/CROWD/Installing+Crowd+and+CrowdID\r\n* Set your crowd.home to some new directory (that should be created by Crowd) and that your user doesn't have permission to write\r\n* Execute ./start_crowd.sh\r\n\r\nNo errors will be reported and Crowd will be running at http://localhost:8095/, instead of http://localhost:8095/crowd - what causes the setup wizard to be unavailable and you can't proceed with the installation.",
      "summary": "./start_crowd.sh does not start Crowd correctly if crowd.home is not writeable"
    }
  },
  {
    "key": "CWD-4291",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-03-19T22:59:24.000+0000",
      "created": "2015-03-14T01:01:18.000+0000",
      "description": "h2. Problem summary\r\nIf a group is renamed or removed on the LDAP server in the middle of a directory sync, the entire sync will fail/terminate with an LDAP error code 32, which means an object not found. In theory this can occur in any LDAP directory; in practice, this is more likely to impact instances that are connected to larger LDAP directories that can take a long time to sync.\r\n\r\nFor our largest customers, the impact of this bug can be very profound since directory syncs typically take a long time even if successful. The longer it takes, the more likely there will be a change to a group in LDAP before the sync is finished, and therefore the more likely the sync will fail, repeatedly. This means that new LDAP data will not get cached until a long time later until Crowd is able to perform a successful sync.\r\n\r\nIdeally, Crowd would acknowledge this situation more gracefully, and move onto the next group instead of failing the entire sync.\r\n\r\nThis also impacts all Atlassian applications that use Crowd libraries to sync to LDAP (Confluence, JIRA, Stash, etc).\r\n\r\nh2. Steps to reproduce\r\n# Configure a large LDAP structure that contains a lot of groups. (For reference: my LDAP server I tested with contained over 3000 groups.)\r\n# In Crowd, Configure a Connector to this LDAP server\r\n# Start a sync\r\n# Immediately change a group CN value in the LDAP server such that the DN is now changed (alternatively: delete the group altogether). This requires a bit of timing because you need to change it _after_ Crowd finishes its initial query that asks for a listing of remote groups:\r\n{code}\r\n2015-03-13 19:20:52,913 CrowdUsnChangedCacheRefresher:thread-2 INFO [directory.ldap.cache.UsnChangedCacheRefresher] found [ 303 ] remote groups in [ 15014ms ]\r\n{code}\r\n# Crowd will eventually query for each individual group it found in the previous step. When it encounters the group you modified, the sync will fail because the DN it's looking for is not found.\r\n\r\nh2. Stacktrace\r\nIn the stacktrace below, you can see that Crowd is attempting to query the group object at {{cn=examplegroup,ou=testing,dc=example,dc=com}}. However, by the time it gets to this part, that group no longer exists at that DN, and therefore the LDAP server returned with an error code 32.\r\n{code}\r\n2015-03-13 19:21:46,588 scheduler_Worker-3 INFO [atlassian.crowd.directory.DbCachingRemoteDirectory] failed synchronisation complete for directory [ 360449 ] in [ 68690ms ]\r\n2015-03-13 19:21:46,597 scheduler_Worker-3 ERROR [atlassian.crowd.directory.DbCachingDirectoryPoller] Error occurred while refreshing the cache for directory [ 360449 ].\r\norg.springframework.ldap.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-031001CD, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t'OU=testing,DC=example,DC=com'\r\n]; nested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-031001CD, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t'OU=testing,DC=example,DC=com'\r\n]; remaining name 'cn=examplegroup,ou=testing,dc=example,dc=com'\r\n\tat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:183)\r\n\tat org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:820)\r\n\tat org.springframework.ldap.core.LdapTemplate.executeReadOnly(LdapTemplate.java:803)\r\n\tat org.springframework.ldap.core.LdapTemplate.lookup(LdapTemplate.java:935)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$9.timedCall(SpringLdapTemplateWrapper.java:286)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper$TimedCallable.call(SpringLdapTemplateWrapper.java:124)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.invokeWithContextClassLoader(SpringLdapTemplateWrapper.java:87)\r\n\tat com.atlassian.crowd.directory.ldap.SpringLdapTemplateWrapper.lookup(SpringLdapTemplateWrapper.java:282)\r\n\tat com.atlassian.crowd.directory.RFC4519Directory.findDirectMembersOfGroup(RFC4519Directory.java:959)\r\n\tat com.atlassian.crowd.directory.MicrosoftActiveDirectory.findDirectMembersOfGroup(MicrosoftActiveDirectory.java:516)\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable$2.apply(RFC4519DirectoryMembershipsIterable.java:78)\r\n\tat com.atlassian.crowd.directory.RFC4519DirectoryMembershipsIterable$2.apply(RFC4519DirectoryMembershipsIterable.java:70)\r\n\tat com.google.common.collect.Iterators$8.next(Iterators.java:812)\r\n\tat com.atlassian.crowd.directory.ldap.cache.AbstractCacheRefresher.synchroniseMemberships(AbstractCacheRefresher.java:128)\r\n\tat com.atlassian.crowd.directory.ldap.cache.AbstractCacheRefresher.synchroniseAll(AbstractCacheRefresher.java:84)\r\n\tat com.atlassian.crowd.directory.ldap.cache.UsnChangedCacheRefresher.synchroniseAll(UsnChangedCacheRefresher.java:161)\r\n\tat com.atlassian.crowd.directory.DbCachingRemoteDirectory.synchroniseCache(DbCachingRemoteDirectory.java:1120)\r\n\tat com.atlassian.crowd.manager.directory.DirectorySynchroniserImpl.synchronise(DirectorySynchroniserImpl.java:76)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy28.synchronise(Unknown Source)\r\n\tat com.atlassian.crowd.directory.DbCachingDirectoryPoller.pollChanges(DbCachingDirectoryPoller.java:50)\r\n\tat com.atlassian.crowd.manager.directory.monitor.poller.DirectoryPollerJobRunner.runJob(DirectoryPollerJobRunner.java:93)\r\n\tat com.atlassian.scheduler.core.JobLauncher.runJob(JobLauncher.java:135)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launchAndBuildResponse(JobLauncher.java:101)\r\n\tat com.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:80)\r\n\tat com.atlassian.scheduler.quartz1.Quartz1Job.execute(Quartz1Job.java:32)\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:223)\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:549)\r\nCaused by: javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-031001CD, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t'OU=testing,DC=example,DC=com'\r\n]; remaining name 'cn=examplegroup,ou=testing,dc=example,dc=com'\r\n\tat com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3112)\r\n\tat com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3033)\r\n\tat com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2840)\r\n\tat com.sun.jndi.ldap.LdapCtx.c_getAttributes(LdapCtx.java:1332)\r\n\tat com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:231)\r\n\tat com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:139)\r\n\tat javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:152)\r\n\tat sun.reflect.GeneratedMethodAccessor359.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.ldap.transaction.compensating.manager.TransactionAwareDirContextInvocationHandler.invoke(TransactionAwareDirContextInvocationHandler.java:90)\r\n\tat com.sun.proxy.$Proxy383.getAttributes(Unknown Source)\r\n\tat org.springframework.ldap.core.LdapTemplate$17.executeWithContext(LdapTemplate.java:937)\r\n\tat org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:817)\r\n\t... 37 more\r\n{code}\r\n\r\nh2. Workarounds\r\n* You can reduce the chance of this happening by limiting your LDAP sync scope (therefore reducing sync duration) by using a more specific DN or writing a more restrictive LDAP filter in your user directory configurations.\r\n* Enable the Incremental Sync option if your LDAP structure supports it, to further reduce the sync time\r\n* If you have a large LDAP structure and are unable to restrict the sync scope, we [do not recommend|https://confluence.atlassian.com/display/DOC/User+Management+Limitations+and+Recommendations] using a Connector (syncing directory). Instead, use a [Delegated Authentication Directory|https://confluence.atlassian.com/display/CROWD/Configuring+a+Delegated+Authentication+Directory].",
      "summary": "Directory syncs can fail if an LDAP group is removed/renamed in the middle of a sync"
    }
  },
  {
    "key": "CWD-4290",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-04-09T04:11:22.000+0000",
      "created": "2015-03-13T23:48:41.000+0000",
      "description": "h3. Steps to Reproduce\r\n# In the LDAP server (I used Active Directory), create a test group \r\n# Install Crowd with MySQL database\r\n# Inside Crowd, configure a Connector type directory to the LDAP server and sync. Verify that the test group is correctly synced over\r\n# On the LDAP server, rename the group such that it contains a trailing space\r\n# Inside Crowd, sync the directory again\r\n\r\nh5. Expected behavior\r\nThe group name has technically changed. The original group should be removed from Crowd, and the new group with the trailing space should be added. (Whether this is the _desired_ behavior is another conversation... this is simply what the _expected_ behavior should be.)\r\n\r\nh5. Actual behavior\r\nThe original group is removed from Crowd, but the new group is not added.\r\n\r\nh3. Analysis\r\n# Crowd finds the \"new\" group (with the trailing space) and tries to add it to the DB cache\r\n{code}\r\n2015-03-13 17:57:15,615 scheduler_Worker-9 INFO [directory.ldap.cache.RemoteDirectoryCacheRefresher] found [ 1 ] remote groups in [ 65 ms ]\r\n2015-03-13 17:57:15,615 scheduler_Worker-9 INFO [atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations] scanning [ 1 ] groups to add or update\r\n2015-03-13 17:57:15,617 scheduler_Worker-9 INFO [atlassian.crowd.directory.DbCachingRemoteChangeOperations] scanned and compared [ 1 ] groups for update in DB cache in [ 1ms ]\r\n{code}\r\n# MySQL fails to insert this row because it sees it as a duplicate group, therefore violating unique constraint {{uk_group_name_dir_id}}.\r\n{code}\r\n2015-03-13 17:57:15,623 scheduler_Worker-9 WARN [engine.jdbc.spi.SqlExceptionHelper] SQL Error: 1062, SQLState: 23000\r\n2015-03-13 17:57:15,623 scheduler_Worker-9 ERROR [engine.jdbc.spi.SqlExceptionHelper] Duplicate entry 'examplegroup -32771' for key 'uk_group_name_dir_id'\r\n2015-03-13 17:57:15,623 scheduler_Worker-9 ERROR [jdbc.batch.internal.BatchingBatch] HHH000315: Exception executing batch [could not perform addBatch]\r\n2015-03-13 17:57:15,624 scheduler_Worker-9 WARN [persistence.hibernate.batch.AbstractBatchProcessor] batch failed falling back to individual processing\r\norg.hibernate.exception.ConstraintViolationException: could not perform addBatch\r\nce.hibernate.batch.hibernate4.Hibernate4BatchProcessor.flushSession(Hibernate4BatchProcessor.java:144)\r\n...\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'examplegroup -32771' for key 'uk_group_name_dir_id'\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n...\r\n2015-03-13 17:57:15,632 scheduler_Worker-9 WARN [atlassian.crowd.directory.DbCachingRemoteChangeOperations] Could not add the following entity to the directory [ Crowd Internal Directory ]: examplegroup \r\n{code}\r\n# Crowd log this group-add operation as a success anyway\r\n{code}\r\n2015-03-13 17:57:15,632 scheduler_Worker-9 INFO [atlassian.crowd.directory.DbCachingRemoteChangeOperations] added [ 1 ] groups in [ 13ms ]\r\n2015-03-13 17:57:15,633 scheduler_Worker-9 INFO [atlassian.crowd.directory.DirectoryCacheImplUsingChangeOperations] synchronized [ 1 ] groups in [ 18ms ]\r\n{code}\r\n# Crowd then removes the original group (without the trailing space)\r\n{code}\r\n2015-03-13 17:57:15,636 scheduler_Worker-9 INFO [atlassian.crowd.directory.DbCachingRemoteChangeOperations] scanned and compared [ 1 ] groups for delete in DB cache in [ 3ms ]\r\n2015-03-13 17:57:15,636 scheduler_Worker-9 INFO [atlassian.crowd.directory.DbCachingRemoteChangeOperations] removing [ 1 ] groups\r\n2015-03-13 17:57:15,644 scheduler_Worker-9 INFO [atlassian.crowd.directory.DbCachingRemoteChangeOperations] removed [ 1 ] groups in [ 8ms ]\r\n{code}\r\n# The result: sync completes, no new group was added, and the original group was removed.\r\n\r\nh3. Other notes\r\n* This appears to affect MySQL only and is likely specific to the way MySQL interprets trailing spaces on INSERT operations on VARCHAR column types.\r\n* This bug is a bit of an edge case since it requires the group to change in LDAP (where the trailing space is added, likely by error), and the Crowd must be running on MySQL\r\n* This bug is likely to affect JIRA, Confluence, Stash, and any other system using Crowd libraries to sync with LDAP.\r\n\r\nh3. Workaround\r\nSync the directory again (manually, or by waiting for the next automatic sync). The new group (with the trailing space) will then be added into Crowd.",
      "summary": "Using MySQL, if the group name in LDAP differs from what's in Crowd by a trailing space, the next directory sync will delete the group in Crowd"
    }
  },
  {
    "key": "CWD-4289",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2015-03-17T23:17:00.000+0000",
      "created": "2015-03-12T03:29:58.000+0000",
      "description": "Based on [~jwalton]'s recommendation on [EMBCWD-972|https://ecosystem.atlassian.net/browse/EMBCWD-972?focusedCommentId=152405&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-152405], {{CrowdService}} could be extended with a new method allowing the products to query what will be the 'directory features'  for the directory a new user will be created in.\r\n\r\nThis was suggested as an alternative to adding a method allowing {{User}} to be created within a specific directory.\r\n\r\nThis issue replaces [EMBCWD-978|https://ecosystem.atlassian.net/browse/EMBCWD-978] since the required changes impact more than the Embedded Crowd component.",
      "summary": "Add method to retrieve the 'directory features' for the directory a new user will be created in"
    }
  },
  {
    "key": "CWD-4288",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": null,
      "created": "2015-03-11T18:21:29.000+0000",
      "description": "If any group from the LDAP directory is associated with Crowd, removing the directory from the server or from the Crowd application results in a stack trace being displayed in the browser. \r\n\r\n!CrowdRemoveDirectorystacktrace.png|thumbnail!\r\n\r\nh2. Steps to Reproduce\r\n# Install Crowd 2.8\r\n# Add an LDAP Directory\r\n# Go to Applications>>Crowd>>Directories and add the LDAP Directory to the Crowd application\r\n# Go to Applications>>Crowd>>Groups and add a group from the LDAP directory.\r\n# Go to Applications>>Crowd>>Directories and try to remove the LDAP Directory, a stack trace will result.\r\n# Go to Directories from the top menu, try removing the Directory from the Crowd instance, a stack trace will result\r\n\r\nTo workaround:\r\nGo to Applications>>Crowd>>Groups and remove all LDAP groups before trying to disassociate the Directory or remove it from the instance.\r\n\r\nLogs and screen shot are attached.",
      "summary": "Cannot remove LDAP Directory if any LDAP group is associated with Crowd Application"
    }
  },
  {
    "key": "CWD-4287",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-04-22T09:10:47.000+0000",
      "created": "2015-03-11T13:47:19.000+0000",
      "description": "and even more than this, it is only re-started when the directory is _loaded_ in the app in some way.\r\n\r\nLooking into things, the directory synchronisation polling mechanism is started in that method call: {{com.atlassian.crowd.manager.directory.monitor.DirectoryMonitorManagerImpl#addMonitor}}\r\n\r\nThis method itself is only called once in {{com.atlassian.crowd.directory.loader.DbCachingRemoteDirectoryInstanceLoader#getDirectory}}\r\n\r\nso when the directory is looked up in the application. This doesn't necessarily happen on Crowd restart if for example no-one logs in at all.",
      "summary": "Directory periodic synchronisation is not automatically re-started on Crowd restart"
    }
  },
  {
    "key": "CWD-4286",
    "fields": {
      "project": {
        "self": "https://jira.atlassian.com/rest/api/2/project/11291",
        "id": "11291",
        "key": "CWD",
        "name": "Crowd",
        "projectTypeKey": "software",
        "avatarUrls": {
          "48x48": "https://jira.atlassian.com/secure/projectavatar?pid=11291&avatarId=105192",
          "24x24": "https://jira.atlassian.com/secure/projectavatar?size=small&pid=11291&avatarId=105192",
          "16x16": "https://jira.atlassian.com/secure/projectavatar?size=xsmall&pid=11291&avatarId=105192",
          "32x32": "https://jira.atlassian.com/secure/projectavatar?size=medium&pid=11291&avatarId=105192"
        },
        "projectCategory": {
          "self": "https://jira.atlassian.com/rest/api/2/projectCategory/10031",
          "id": "10031",
          "description": "",
          "name": "Atlassian Products"
        }
      },
      "resolutiondate": "2016-07-25T04:30:28.000+0000",
      "created": "2015-03-11T13:33:09.000+0000",
      "description": "I have created a systemd unit-file for automated startup and stop of Atlassian Crowd, for use with systemd-based Linux distributions (i.e. RedHat Enterprise Linux 7). I encourage you to ship this (or a similar) unit-file with future releases of Atlassian Crowd. You might want to include the customization of paths to Crowd and Java in the build.sh script.\r\n\r\n{{monospaced text}}\r\n[Unit]\r\nDescription=Atlassian Crowd\r\nAfter=mariadb.service syslog.target network.target\r\n\r\n[Service]\r\nType=forking\r\nUser=crowd\r\nGroup=atlassian\r\nEnvironment=JAVA_HOME=/opt/java/jdk CATALINA_PID=/opt/atlassian/crowd/latest/apache-tomcat/work/catalina.pid\r\nPIDFile=/opt/atlassian/crowd/latest/apache-tomcat/work/catalina.pid\r\nExecStart=/opt/atlassian/crowd/latest/apache-tomcat/bin/startup.sh\r\nExecStop=/opt/atlassian/crowd/latest/apache-tomcat/bin/shutdown.sh\r\n\r\n[Install]\r\nWantedBy=multi-user.target",
      "summary": "systemd unit-file startup/stop-script should be shipped with Atlasssian Crowd"
    }
  }
]